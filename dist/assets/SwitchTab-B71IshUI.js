import{d as M,r as i,c as S,p as L,P as x,O as $,l as O,h as d,b as h,x as w,F as A,v as E,t as I,J as T,o as c,_ as D}from"./index-5j6IPDxv.js";const F=["aria-selected","tabindex","onClick","onMouseenter"],J=M({__name:"SwitchTab",props:{modelValue:{},options:{},size:{default:"md"},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(y,{emit:g}){const t=y,f=g,u=i(null),v=i([]);function k(e,a){e&&(v.value[a]=e)}const m=i(null),p=i(0),b=i(0);function s(){const e=u.value;if(!e)return;const a=Math.max(0,t.options.findIndex(C=>C.value===t.modelValue)),n=v.value[a];if(!n)return;const r=e.getBoundingClientRect(),o=n.getBoundingClientRect();p.value=o.left-r.left,b.value=o.width}const V=S(()=>({width:`${b.value}px`,transform:`translateX(${p.value}px)`}));function R(e){t.disabled||e!==t.modelValue&&f("update:modelValue",e)}function B(e){if(t.disabled||e.key!=="ArrowLeft"&&e.key!=="ArrowRight")return;e.preventDefault();const a=t.options.length,r=(Math.max(0,t.options.findIndex(o=>o.value===t.modelValue))+(e.key==="ArrowRight"?1:-1)+a)%a;f("update:modelValue",t.options[r].value)}let l=null;function _(){u.value&&(l=new ResizeObserver(()=>s()),l.observe(u.value)),window.addEventListener("resize",s)}function z(){l==null||l.disconnect(),l=null,window.removeEventListener("resize",s)}return L(async()=>{await x(),_(),s()}),$(z),O(()=>[t.modelValue,t.options],async()=>{await x(),s()},{deep:!0}),(e,a)=>(c(),d("div",{class:"relative w-full select-none overflow-x-auto",role:"tablist",onKeydown:B},[h("div",{ref_key:"trackRef",ref:u,class:w(["flex w-full gap-2 border-b border-border",e.disabled?"opacity-60 pointer-events-none":""])},[(c(!0),d(A,null,E(e.options,(n,r)=>(c(),d("button",{key:n.value,ref_for:!0,ref:o=>k(o,r),role:"tab","aria-selected":e.modelValue===n.value,tabindex:e.modelValue===n.value?0:-1,onClick:o=>R(n.value),onMouseenter:o=>m.value=r,onMouseleave:a[0]||(a[0]=o=>m.value=null),class:w(["relative px-3 py-2 rounded-md text-sm font-medium transition-colors text-text-secondary hover:text-text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-accent/40",e.modelValue===n.value?"text-text-primary":""])},I(n.label),43,F))),128))],2),h("div",{class:"absolute bottom-0 h-[2px] bg-accent rounded-full transition-[transform,width] duration-300",style:T(V.value),"aria-hidden":"true"},null,4)],32))}}),N=D(J,[["__scopeId","data-v-1532472b"]]);export{N as S};
