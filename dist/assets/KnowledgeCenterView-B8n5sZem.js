import{S as R,c as $,p as s,aw as E,J as M,j as r,o,F as _,y as h,f as e,d as N,V as J,r as b,af as z,i as y,z as d,e as V,w as m,g as q,t as S,ao as A,al as P,az as D,m as Q,q as G,k as W,h as X,D as Y,P as Z}from"./index-V2hPbHl7.js";import{d as F,l as j}from"./dark-logo-Mcb_sJlF.js";const ee=async()=>{const{data:n}=await E.get("/knowledge/categories/active");return n.data},te=(n={})=>R({queryKey:["knowledge","categories","active"],queryFn:ee,...n}),se=async n=>{if(!n)throw new Error("Slug is required");const{data:l}=await E.get(`/knowledge/slug/${n}`);return l.data},le=(n,l={})=>R({queryKey:["knowledge","slug",n],queryFn:()=>se(s(n)),enabled:$(()=>!!s(n)),...l}),ae={},oe={class:"p-4 animate-pulse space-y-6"};function re(n,l){return o(),r("div",oe,[(o(),r(_,null,h(4,p=>e("div",{key:p,class:"space-y-3"},[l[0]||(l[0]=e("div",{class:"h-6 bg-gray-300/60 rounded w-1/2"},null,-1)),(o(),r(_,null,h(3,f=>e("div",{key:f,class:"h-4 bg-gray-300/30 rounded w-2/3"})),64))])),64))])}const B=M(ae,[["render",re],["__scopeId","data-v-b53bafbb"]]),ne={class:"space-y-4"},ie={key:0,class:"text-text-secondary"},de={key:1,class:"text-red-500"},ce=["innerHTML"],ue=N({__name:"KnowledgeArticle",props:{slug:{}},setup(n){const l=n;console.log(l.slug);const p=$(()=>l.slug),{data:f,isLoading:v,isError:u}=le(p);return(K,L)=>{var g;return o(),r("div",ne,[s(v)?(o(),r("div",ie,"Loading article...")):s(u)?(o(),r("div",de,"Failed to load article.")):(o(),r("div",{key:2,class:"artile_content",innerHTML:(g=s(f))==null?void 0:g.content},null,8,ce))])}}}),pe={class:"flex min-h-screen"},ge={class:"flex items-center justify-between px-4 py-4 border-b border-border-input md:border-0"},fe={class:"text-[14px] font-manrope leading-[24px] font-semibold text-text-secondary flex gap-4 w-full items-center"},xe=["src"],be={class:"px-4 hidden md:block"},ye={class:"relative"},ve={key:1,class:"text-center text-red py-8"},me={key:2,class:"px-2 py-6 space-y-2 w-64 md:w-[100%]"},_e=["onClick"],he={class:"flex items-center gap-3"},ke=["src"],we={class:"py-[18px] hidden md:block border-b-1 border-border-input sticky top-0 z-50 bg-bg-body/90 bg-blur-sm"},Ce={class:"font-manrope text-text-primary text-center font-bold text-[24px] leading-[34px] tracking-[-1px] m-0"},Se={class:"p-[15px] md:p-10 max-w-[1088px] mx-auto"},$e={class:"mb-8"},Ke={key:1,class:"text-center text-red py-8"},Le={key:2},Te={class:"w-full max-w-3xl px-6"},ze={class:"relative"},Ve=N({__name:"KnowledgeCenterView",setup(n){const{isDark:l}=J(),{data:p,isLoading:f,isError:v}=te(),u=$(()=>!p.value||!Array.isArray(p.value)?[]:[...p.value.map(t=>({title:(t==null?void 0:t.title)||"Untitled",items:Array.isArray(t==null?void 0:t.knowledge)?t.knowledge.map(a=>({label:(a==null?void 0:a.title)||"",slug:(a==null?void 0:a.slug)||"",description:(a==null?void 0:a.description)||""})):[]}))]),K=G(),L=Q(),g=b(!1),c=b({label:"",slug:"",description:""});z(()=>{u.value.length&&u.value[0].items.length&&!c.value.slug&&(c.value=u.value[0].items[0])}),z(()=>{const i=K.params.slug;if(i&&u.value.length){const t=u.value.flatMap(a=>a.items).find(a=>a.slug===i);t&&(c.value=t)}});function H(i){c.value=i,g.value=!1,L.push(`/knowledge-center/${i.slug}`)}const k=b(!1),w=b(""),T=b(null);function C(){k.value=!0,P(()=>{var i;return(i=T.value)==null?void 0:i.focus()})}function I(){k.value=!1,w.value=""}return(i,t)=>(o(),r("div",pe,[e("aside",{class:d(["fixed md:static md:flex flex-col w-[100%] md:w-64 bg-bg-primary z-50 transition-transform duration-300",g.value?"translate-x-0":"-translate-x-full md:translate-x-0"])},[e("div",{class:d(["h-screen flex flex-col md:border-r justify-between bg-bg-body z-50 overflow-y-auto bg-bg-primary custom-scrollbar transition-all",s(l)?"dark_scroll border-border-input":"light_scroll"])},[e("div",null,[e("div",ge,[e("div",fe,[y(s(D),{to:"/"},{default:m(()=>[e("img",{src:s(l)?s(F):s(j),alt:"logo",fetchpriority:"high",width:"100px"},null,8,xe)]),_:1})]),e("button",{onClick:t[0]||(t[0]=a=>g.value=!1),class:"md:hidden text-text-primary"},t[3]||(t[3]=[e("i",{class:"fa-solid fa-xmark font-bold"},null,-1)]))]),e("div",be,[e("div",ye,[t[4]||(t[4]=e("i",{class:"fa-light fa-magnifying-glass absolute top-[11px] left-[10px] text-text-secondary"},null,-1)),e("input",{type:"text",placeholder:"Search...",onClick:C,class:d(["w-full font-manrope text-sm pl-[35px] pr-3 py-2 rounded-lg bg-bg-lavender focus:outline-none focus:ring-1 focus:ring-bg-lavender",s(l)?"border border-border-input":"border border-black"])},null,2)])]),s(f)?(o(),V(B,{key:0})):s(v)?(o(),r("div",ve," ⚠️ Failed to load categories ")):(o(),r("nav",me,[(o(!0),r(_,null,h(u.value,(a,O)=>(o(),r("div",{key:O,class:"space-y-1 mb-[24px]"},[e("h3",{class:d(["text-[14px] font-semibold uppercase font-manrope px-2 mb-1 flex justify-between items-center",s(l)?"text-text-secondary":"text-black"])},[q(S(a.title)+" ",1),e("i",{class:d(["fa-solid fa-chevron-right text-[8px]",s(l)?"text-text-secondary":"text-black"])},null,2)],2),(o(!0),r(_,null,h(a.items,(x,U)=>(o(),r("div",{key:U,onClick:qe=>H(x),class:d(["cursor-pointer ml-2 border-l px-3 py-2 mb-0 font-bold text-[14px] font-manrope transition-colors",{"text-[#9356c5] ":c.value.slug===x.slug,"text-text-secondary":c.value.slug!==x.slug&&s(l),"text-black hover:text-black":c.value.slug!==x.slug&&!s(l)}])},S(x.label),11,_e))),128))]))),128))]))])],2)],2),e("main",{class:d(["flex-1 mx-auto h-screen bg-bg-body overflow-y-auto bg-bg-primary custom-scrollbar transition-all",s(l)?"dark_scroll":"light_scroll"])},[e("header",{class:d(["md:hidden flex items-center justify-between p-4 bg-bg-body sticky top-0 z-40",s(l)?"border-b border-border-input":"border-b border-black"])},[e("div",he,[e("button",{onClick:t[1]||(t[1]=a=>g.value=!0),class:"text-primary hover:text-white"},t[5]||(t[5]=[e("i",{class:"fa-solid fa-bars font-bold text-[18px]"},null,-1)])),t[6]||(t[6]=e("span",{class:"text-xl pb-1"}," |",-1)),t[7]||(t[7]=e("div",{class:"text-[14px] font-manrope leading-[24px] font-semibold text-text-secondary flex items-center gap-2"},[e("i",{class:"fa-regular fa-house text-text-primary"}),q(" Docs ")],-1))]),y(s(D),{to:"/"},{default:m(()=>[e("img",{class:"me-25",src:s(l)?s(F):s(j),alt:"logo",fetchpriority:"high",width:"100px"},null,8,ke)]),_:1}),e("button",{onClick:C},t[8]||(t[8]=[e("i",{class:"fa-regular fa-magnifying-glass text-text-primary text-[18px]"},null,-1)]))],2),e("header",we,[e("h2",Ce,S(c.value.label),1)]),e("div",Se,[e("div",$e,[s(f)?(o(),V(B,{key:0})):s(v)?(o(),r("div",Ke," ⚠️ Failed to load categories ")):(o(),r("div",Le,[y(ue,{slug:c.value.slug},null,8,["slug"])]))])])],2),y(A,{name:"fade"},{default:m(()=>[k.value?(o(),r("div",{key:0,class:d(["fixed inset-0 z-50 flex items-start pt-15 justify-center",s(l)?" bg-black/0 backdrop-blur-[4px]":" bg-[#dfe2e6]/1 backdrop-blur-[6px] "]),onClick:X(I,["self"])},[y(A,{name:"slide-down"},{default:m(()=>[e("div",Te,[e("div",ze,[t[9]||(t[9]=e("i",{class:"fa-light fa-magnifying-glass absolute top-[14px] lg:top-[17px] left-[10px] text-text-secondary"},null,-1)),Y(e("input",{ref_key:"inputRef",ref:T,type:"text","onUpdate:modelValue":t[2]||(t[2]=a=>w.value=a),placeholder:"Search...",onClick:C,class:d(["w-full font-manrope text-sm h-[44px] lg:h-[50px] pl-[35px] pr-3 py-2 rounded-lg bg-bg-lavender focus:outline-none focus:ring-1 focus:ring-bg-lavender",s(l)?"border border-border-input":"border border-black"])},null,2),[[Z,w.value]])])])]),_:1})],2)):W("",!0)]),_:1})]))}}),Fe=M(Ve,[["__scopeId","data-v-82246fae"]]);export{Fe as default};
