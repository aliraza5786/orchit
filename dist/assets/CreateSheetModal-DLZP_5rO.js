import{d as H,r as d,q as oe,c as M,i as u,j as P,h as v,e as a,B as V,w,f as _,A as E,V as O,F as B,x as U,y as L,t as m,ap as se,o as i,H as J,a as re,W as le,m as z,bq as ne,a9 as ie,b as ce,_ as G,n as A,S as ue,p as de}from"./index-DSbTV3UV.js";import{a as pe}from"./useOpenAIGeneration-DPOH6An3.js";const me="/assets/a40c90e37b9e8e45317b9cba411ad897833a9d01-DSQSOdpz.jpg";function fe(S){try{const f=S.match(/```json\s*([\s\S]*?)\s*```|({[\s\S]*})/);if(f){const x=f[1]||f[2];return JSON.parse(x)}}catch(f){console.error("JSON parsing failed:",f)}return null}const ge=["home","user","cog","calendar","search","bell","check","times","plus","minus","trash","pencil","info","question","lock","unlock","star","heart","bookmark","camera","cloud","download","upload","eye","envelope","file","globe","key","map","power-off","edit","save","print","users","bars","mobile","tablet","laptop","desktop","clock","clipboard","flag","comment","comments","share-alt","github","twitter","facebook","linkedin","google","instagram","youtube","whatsapp","chat","cloud-upload","cloud-download","shield","trophy","wrench","tools","rocket","book","map-marker","location","wifi","battery-full","battery-half","battery-empty","volume-up","volume-down","volume-mute","signal","gift","car","truck","bicycle","plane","boat","heart-o","star-o","angle-left","angle-right","angle-double-left","angle-double-right","check-circle","times-circle","exclamation-circle","question-circle","info-circle","circle","circle-thin","square","square-o","circle-o","circle-check","circle-times","circle-info","circle-question","circle-exclamation","play","pause","stop","fast-forward","fast-backward","rewind","forward","backward","eject","volume-off","play-circle","pause-circle","stop-circle","fast-forward-circle","fast-backward-circle","rewind-circle","forward-circle","backward-circle","check-square","times-square","check-circle-o","times-circle-o","pause-circle-o","play-circle-o","search-minus","search-plus","map-pin","share","thumbs-up","thumbs-down","flag-checkered","flag-o","crosshairs","list-ul","list-ol","th-large","th","th-list","th-minus","th-plus","th-x","th-check","th-clock","calendar-minus","calendar-plus","calendar-check","calendar-alt","calendar-day","calendar-week","calendar-times","calendar-range","calendar-week-o","calendar-times-o","circle-thin-o","ellipsis-v","ellipsis-h","forward-fast","backward-fast","ban","lock-open","unlock-alt","lightbulb","eye-slash","clipboard-list","user-plus","user-times","user-lock","user-secret","user-edit","user-circle","user-alt","user-shield","users-cog","users-slash","user-minus","user-check","user-friends","users","user-group","people-carry","user-tag","user-md","user-nurse","user-astronaut","user-tie","user-graduate","user-clock","user-alt-slash","phone","phone-alt","phone-square","phone-square-alt","phone-volume","phone-call","phone-in","phone-out","comment-alt","comments-alt","comment-dots","comments-dots","comments-alt-regular","comment-alt-regular","comments-regular","user-regular","heart-regular","check-regular","times-regular","star-regular","info-regular","question-regular","home-regular","bell-regular","envelope-regular","envelope-open","power-off-regular","arrow-right","arrow-left","arrow-down","arrow-up","arrow-circle-left","arrow-circle-right","arrow-circle-up","arrow-circle-down","arrow-alt-left","arrow-alt-right","arrow-alt-up","arrow-alt-down","chevron-left","chevron-right","chevron-up","chevron-down","caret-left","caret-right","caret-up","caret-down"],ve={key:0,class:"border border-dashed bg-bg-input border-border rounded-xl p-6 flex flex-col items-center text-center"},he={key:1,class:"mt-6"},be={class:"grid gap-3 w-full"},xe=["onClick","aria-label","title"],ke={class:"max-w-[84px] text-[11px] text-text-secondary truncate"},we={key:0,class:"text-sm text-neutral-400"},_e={key:2,class:"mt-4 p-3 bg-bg-input rounded-lg flex items-center gap-2"},ye={class:"min-w-0"},Ce={class:"font-medium truncate"},Ve=120,Se=H({__name:"IconPicker",props:{modelValue:{}},emits:["update:modelValue"],setup(S,{emit:f}){const x=f,N=d([]),g=d(!1),h=d(""),s=d(1),p=d(["fa"]);oe(()=>{const l=ge.map(r=>{const c=`fa-${r}`;return{prefix:"fa",iconName:c,renderClasses:["fa-regular",c],label:r}});l.sort((r,c)=>r.iconName.localeCompare(c.iconName)),N.value=l});const y=M(()=>{const l=h.value.trim().toLowerCase();return N.value.filter(({label:r,iconName:c,prefix:n})=>p.value.includes(n)?l?r.includes(l)||c.includes(l):!0:!1)}),$=M(()=>y.value.slice(0,s.value*Ve));function b(l){const r=l.target;r.scrollTop+r.clientHeight>=r.scrollHeight-24&&$.value.length<y.value.length&&(s.value+=1)}function C(l){l?x("update:modelValue",{prefix:l.renderClasses[0],iconName:l.iconName}):x("update:modelValue",null),g.value=!1}function I(){s.value=1,g.value=!g.value}return(l,r)=>{var c;return i(),u("div",null,[!g.value&&!((c=l.modelValue)!=null&&c.iconName)?(i(),u("div",ve,[v(V,{variant:"primary",onClick:I},{default:w(()=>r[2]||(r[2]=[_("Select Icon")])),_:1,__:[2]}),r[3]||(r[3]=a("p",{class:"text-xs text-text-secondary mt-2"},"Browse PrimeIcons",-1))])):g.value?(i(),u("div",he,[a("div",be,[E(a("input",{"onUpdate:modelValue":r[0]||(r[0]=n=>h.value=n),placeholder:"Search icons…",class:"px-3 py-2 rounded-lg border col-span-full border-border bg-bg-card text-sm placeholder-text-secondary focus:outline-none focus:ring-2 focus:ring-accent focus:border-border",type:"text"},null,512),[[O,h.value]]),a("div",{class:"grid gap-2 col-span-full grid-cols-[repeat(auto-fill,minmax(90px,1fr))] max-h-[360px] overflow-auto pr-1 rounded-lg border-border",onScroll:b},[(i(!0),u(B,null,U($.value,n=>(i(),u("button",{key:n.prefix+n.iconName,type:"button",onClick:j=>C(n),"aria-label":`${n.prefix} ${n.iconName}`,title:`${n.prefix} ${n.iconName}`,class:"group grid place-items-center gap-1.5 p-2 bg-bg-body cursor-pointer border border-transparent rounded-lg text-text-secondary hover:border-border focus:outline-none focus:ring-2 focus:ring-accent"},[a("i",{class:L([n.renderClasses,"text-base"])},null,2),a("small",ke,m(n.iconName),1)],8,xe))),128))],32),y.value.length?P("",!0):(i(),u("p",we," No icons match “"+m(h.value)+"”. ",1))])])):P("",!0),l.modelValue?(i(),u("div",_e,[a("i",{class:L([[l.modelValue.prefix,l.modelValue.iconName],"text-xl"])},null,2),a("div",ye,[a("p",Ce,m(l.modelValue.iconName),1)]),a("img",{src:se,onClick:r[1]||(r[1]=n=>C(null)),class:"ml-auto cursor-pointer",alt:"Clear icon"})])):P("",!0)])}}}),Ne=J(Se,[["__scopeId","data-v-1ec65acb"]]),$e={class:"flex justify-between items-start px-6 border-b border-border pb-4"},Ie={class:"text-xl font-semibold"},je={class:"px-6 py-4 space-y-6"},qe={key:0,class:"space-y-4"},De={class:"flex justify-end gap-2 pt-2"},Pe={key:1,class:"space-y-4"},Be={class:"grid grid-cols-1 sm:grid-cols-3 gap-3"},Ue=["onClick"],Me={class:"flex justify-end gap-2 pt-2"},Te={key:2,class:"space-y-4"},ze={class:"flex items-center gap-3"},Ae={class:"flex flex-wrap items-center gap-2 text-xs"},Ee=["onClick"],Oe={key:0,class:"ml-1 opacity-70 bg-bg-surface rounded-full text-text-primary p-0.5 aspect-square w-4 h-4 text-[10px]"},Le={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"},Re=["onClick"],Fe={class:"p-3 py-4"},Ge={class:"text-base font-medium text-text-primary"},He={class:"text-sm text-[#2B2C30B2] mt-1 line-clamp-1"},Je={class:"flex justify-end gap-2 pt-2"},Qe=H({__name:"CreateSheetModal",props:{modelValue:{type:Boolean},sheet:{}},emits:["update:modelValue","submit:manual","submit:ai","submit:template"],setup(S,{emit:f}){const x=de(),N=re(),{workspaceId:g,moduleId:h}=le(),s=d({title:"",description:"",icon:null}),p=d({});function y(){var o,t;const e={};return(o=s.value.title)!=null&&o.trim()||(e.title="Please enter a sheet name."),(t=s.value.description)!=null&&t.trim()||(e.description="Please enter a description."),p.value=e,Object.keys(e).length===0}function $(){var e;y()&&(c.sheet?l({sheet_id:(e=c.sheet)==null?void 0:e._id,icon:s.value.icon,variables:{"sheet-title":s.value.title,"sheet-description":s.value.description},is_ai_generated:!1,workspace_id:g.value,workspace_module_id:h.value}):C({icon:s.value.icon,variables:{"sheet-title":s.value.title,"sheet-description":s.value.description},is_ai_generated:!1,workspace_id:g.value,workspace_module_id:h.value}))}z(()=>s.value.title,e=>{e!=null&&e.trim()&&p.value.title&&(p.value.title=void 0)}),z(()=>s.value.description,e=>{e!=null&&e.trim()&&p.value.description&&(p.value.description=void 0)});function b(){s.value={title:"",description:"",icon:null},p.value={},j.value=!1}const{mutate:C,isPending:I}=ne({onSuccess:()=>{N.invalidateQueries({queryKey:["sheets"]}),b()}}),{mutate:l,isPending:r}=ie({onSuccess:()=>{b()}}),c=S;z(c,()=>{c.sheet&&(s.value=c.sheet)});const n=f,j=M({get:()=>c.modelValue,set:e=>n("update:modelValue",e)}),R=d("manual"),T=d(""),Q=["Generate a task board for an Uber-like app with columns for development, testing, and deployment.","Create a product board for an e-commerce platform with vendor, inventory, and customer sections.","Design a project board for a Notion-like tool with team collaboration features."],{mutate:W}=pe({onSuccess:e=>{const o=fe(e);C({sheets:[{...o,is_ai_generated:!1}],workspace_id:x.params.id,workspace_module:"product"})},onError:e=>{console.error("Error generating AI data:",e)}});function K(){W("i need response in below json format { title:string , description:string , icon:{prefix : string from fas || far || fab , iconName:string from fontawsome free regular icons}} ")}const X=d([{id:"concept",title:"Product Concept",subtitle:"Early‑stage product or feature ideas.",cover:"/covers/concept.jpg",tags:["Experience Design","Development"]},{id:"inspo",title:"Design Inspiration",subtitle:"UI/UX samples and creative references.",cover:"/covers/inspo.jpg",tags:["Experience Design"]},{id:"launch",title:"Launch Prep",subtitle:"Tasks and assets for go‑live.",cover:"/covers/launch.jpg",tags:["Project Management","Marketing"]}]),q=d(""),Y=d([{name:"Experience Design",count:24},{name:"Development",count:6},{name:"Marketing",count:5},{name:"Project Management",count:6}]),k=d(new Set);function Z(e){k.value.has(e)?k.value.delete(e):k.value.add(e)}const ee=M(()=>X.value.filter(e=>(!q.value||e.title.toLowerCase().includes(q.value.toLowerCase()))&&(k.value.size===0||e.tags.some(o=>k.value.has(o))))),D=d(null);function te(e){D.value=e}function ae(){D.value&&n("submit:template",{id:D.value.id})}return(e,o)=>(i(),ce(ue,{modelValue:j.value,"onUpdate:modelValue":o[5]||(o[5]=t=>j.value=t),size:"lg"},{default:w(()=>[a("div",$e,[a("h2",Ie,m(e.sheet?"Update sheet ":"Add a new Sheet"),1)]),a("div",je,[R.value==="manual"?(i(),u("section",qe,[v(Ne,{modelValue:s.value.icon,"onUpdate:modelValue":o[0]||(o[0]=t=>s.value.icon=t)},null,8,["modelValue"]),v(G,{modelValue:s.value.title,"onUpdate:modelValue":o[1]||(o[1]=t=>s.value.title=t),label:"Sheet name",size:"lg",placeholder:"Design Ideas",error:!!p.value.title,message:p.value.title},null,8,["modelValue","error","message"]),v(G,{modelValue:s.value.description,"onUpdate:modelValue":o[2]||(o[2]=t=>s.value.description=t),label:"Description",size:"lg",placeholder:"a small description",textarea:"",error:!!p.value.description,message:p.value.description},null,8,["modelValue","error","message"]),a("div",De,[a("button",{class:"px-4 py-2 rounded-md text-sm text-text-secondary border",onClick:b},"Cancel"),v(V,{class:"px-4",onClick:$},{default:w(()=>[_(m(A(I)||A(r)?"Saving...":"Save"),1)]),_:1})])])):R.value==="ai"?(i(),u("section",Pe,[E(a("textarea",{"onUpdate:modelValue":o[3]||(o[3]=t=>T.value=t),rows:"6",class:"w-full rounded-lg p-3 text-sm min-h-[186px] outline-none border-border border bg-bg-input",placeholder:"Generate a project management board for a software development team with tasks categorized as 'Backlog', 'In Progress', 'Review', and 'Done'."},null,512),[[O,T.value]]),o[7]||(o[7]=a("div",{class:"text-center text-xs text-text-secondary -500"},"Or try these examples:",-1)),a("div",Be,[(i(),u(B,null,U(Q,t=>a("button",{key:t,class:"text-left border border-border hover:border-accent bg-bg-body text-text-primary rounded-xl p-3 text-sm hover:bg-gray-50",onClick:F=>T.value=t},"“"+m(t)+"”",9,Ue)),64))]),a("div",Me,[a("button",{class:"px-4 py-2 rounded-md text-sm text-text-secondary border",onClick:b},"Cancel"),v(V,{class:"px-4",onClick:K},{default:w(()=>o[6]||(o[6]=[_("Add board")])),_:1,__:[6]})])])):(i(),u("section",Te,[a("div",ze,[E(a("input",{"onUpdate:modelValue":o[4]||(o[4]=t=>q.value=t),class:"flex-1 border rounded-lg p-2 text-sm border-border D6D7DA]",placeholder:"Search"},null,512),[[O,q.value]])]),a("div",Ae,[(i(!0),u(B,null,U(Y.value,t=>(i(),u("button",{key:t.name,class:L(["px-3.5 py-1.5 rounded-md flex",k.value.has(t.name)?"bg-black text-white ":" bg-bg-body cursor-pointer text-text-secondary -700"]),onClick:F=>Z(t.name)},[_(m(t.name),1),t.count?(i(),u("div",Oe,m(t.count),1)):P("",!0)],10,Ee))),128))]),a("div",Le,[(i(!0),u(B,null,U(ee.value,t=>(i(),u("button",{key:t.id,class:"border border-border 2B2C3026] rounded-xl overflow-hidden text-left hover:shadow-sm",onClick:F=>te(t)},[o[8]||(o[8]=a("img",{src:me,class:"w-full h-36 object-cover"},null,-1)),a("div",Fe,[a("div",Ge,m(t.title),1),a("div",He,m(t.subtitle),1)])],8,Re))),128))]),a("div",Je,[v(V,{variant:"secondary",onClick:b},{default:w(()=>o[9]||(o[9]=[_("Cancel")])),_:1,__:[9]}),v(V,{varaint:"primary",class:"px-4",disabled:!D.value,onClick:ae},{default:w(()=>[_(m(A(I)?"Adding...":"Add board"),1)]),_:1},8,["disabled"])])]))])]),_:1},8,["modelValue"]))}}),Xe=J(Qe,[["__scopeId","data-v-8717851f"]]);export{Xe as default};
