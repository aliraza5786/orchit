import{d as q,r as n,z as G,m as _,b as h,w as C,o as b,e as s,A as m,C as d,s as i,f as r,i as P,x as K,D as X,y as J,E as Q,t as z,n as f,F as Y,h as p,_ as Z,G as B,j as ee,B as O,k as te,l as se,H as oe}from"./index-BJATnvcP.js";import{_ as ae}from"./AuthLayout.vue_vue_type_script_setup_true_lang-juyhXvx4.js";import{_ as le}from"./BaseEmailChip.vue_vue_type_script_setup_true_lang-pAyXaYst.js";import{u as ie,b as ne}from"./auth-C6HkELIl.js";import{u as re}from"./workspace-BLS5nQNK.js";import"./favicon-BAFXWHLW.js";const me="/assets/team-CfslT0UO.svg",ue="/assets/personal-use-BX8mpocf.svg",de="/assets/school-0jN-fdE3.svg",pe={class:"max-w-[500px] md:mx-auto w-full"},ce={class:"mb-6 md:mb-12 space-y-2"},ve={class:"how_help_steps grid sm:grid-cols-3 gap-4"},xe=["value"],ye={class:"flex flex-col items-center"},fe=["src"],ge={class:"font-medium text-sm text-text-primary mt-4"},_e={class:"text-[11px] text-text-secondary mt-2 text-center"},be={class:"space-y-2 mb-6 md:mb-12"},we={class:"space-y-6"},Ce={class:"mb-6 md:mb-12 space-y-2"},ze={class:"space-y-6"},Ie={class:"flex justify-between items-center mt-[40px] md:mt-[60px] lg:mt-[132px]"},Se={class:"flex items-center gap-1"},ke={class:"flex gap-4 items-center ml-auto"},Ve=q({name:"OnboardingFlow",__name:"CreateProfile",setup(he){const I=re(),o=n({});function j(){const t={};return x.value.trim()||(t.team="Please enter your company name."),v.value||(t.role="Please select your role."),y.value||(t.companySize="Please select your company size."),o.value=t,Object.keys(t).length===0}const S=n(),{mutate:A,isPending:L}=ie({onSuccess:t=>{a.value=a.value+1,S.value=t==null?void 0:t._id}}),{mutate:F,isPending:T}=ne({onSuccess:()=>{I.pricing?w.push("/dashboard?stripePayment=true"):I.workspace?w.push("/create-workspace"):w.push("/finish-profile")}}),w=se(),{data:N}=G(),U=Object.freeze([{_id:"team",title:"For my team",description:"Collaborate on your docs and projects.",icon:me},{_id:"personal",title:"For personal use",description:"Write better. Think more clearly. Stay organised.",icon:ue},{_id:"school",title:"For school",description:"Keep notes, research and tasks in one place.",icon:de}]),$=Object.freeze([{title:"1 – 10",_id:"1–10"},{title:"11 – 50",_id:"11–50"},{title:"51 – 200",_id:"51–200"},{title:"201 – 500",_id:"201–500"},{title:"501 – 1,000",_id:"501–1000"},{title:"1,001 – 5,000",_id:"1001–5000"},{title:"5,001 – 10,000",_id:"5001–10000"},{title:"10,001+",_id:"10001+"}]),c=n("team"),a=n(1),v=n(""),x=n(""),y=n(""),u=n([]);function D(){const t={};return(!u.value.length||!u.value.some(e=>e&&e.trim()!==""))&&(t.emailList="Please add at least one email to invite."),o.value={...o.value,...t},Object.keys(t).length===0}function R(t){return t===c.value?"bg-accent/30 border-accent":"border-border"}function W(){a.value=Math.max(1,a.value-1)}function E(){if(a.value===2){if(!j())return;const t={title:x.value,type:c.value,role_id:v.value,company_size:y.value};A({payload:t});return}if(a.value===3){if(!D())return;F({payload:{company_id:S.value,emails:[...u.value]}});return}a.value=a.value+1}return _(x,t=>{t!=null&&t.trim()&&o.value.team&&(o.value.team=void 0)}),_(v,t=>{t&&o.value.role&&(o.value.role=void 0)}),_(y,t=>{t&&o.value.companySize&&(o.value.companySize=void 0)}),_(u,t=>{Array.isArray(t)&&t.some(e=>e&&e.trim()!=="")&&o.value.emailList&&(o.value.emailList=void 0)}),(t,e)=>{const H=te("FontAwesomeIcon");return b(),h(ae,{steps:["Purpose","About Company","Invite Team"],activeStep:a.value},{form:C(()=>[s("div",pe,[m(s("div",ce,[e[0]||(i(-1,!0),(e[0]=s("h2",{class:"text-[24px] lg:text-[32px] leading-[32px] lg:leading-[44px] font-medium text-text-primary"},[e[13]||(e[13]=r(" How will you use Orchit AI?"))])).cacheIndex=0,i(1),e[0]),e[1]||(i(-1,!0),(e[1]=s("p",{class:"text-[14px] md:text-base sm:text-nowrap font-medium text-text-secondary"},[e[14]||(e[14]=r(" This will help us personalize your experience in Orchit AI. "))])).cacheIndex=1,i(1),e[1])],512),[[d,a.value===1]]),m(s("div",ve,[(b(!0),P(Y,null,K(f(U),(l,Pe,Be,g)=>{const k=[c.value,l._id];if(g&&g.key===l._id&&X(g,k))return g;const V=(b(),P("label",{key:l._id,class:J(["border rounded-xl py-4 px-2.5 cursor-pointer transition-all aspect-square",R(l._id)])},[m(s("input",{type:"radio",class:"hidden","onUpdate:modelValue":e[2]||(e[2]=M=>c.value=M),value:l._id},null,8,xe),[[Q,c.value]]),s("div",ye,[s("img",{src:l.icon,class:"w-12 h-12"},null,8,fe),s("h3",ge,z(l.title),1),s("p",_e,z(l.description),1)])],2));return V.memo=k,V},e,3),128))],512),[[d,a.value===1]]),m(s("div",be,[e[5]||(i(-1,!0),(e[5]=s("h2",{class:"text-[24px] lg:text-[32px] leading-[32px] lg:leading-[44px] font-medium text-text-primary"},[e[15]||(e[15]=r(" Tell us about your company"))])).cacheIndex=5,i(1),e[5]),e[6]||(i(-1,!0),(e[6]=s("p",{class:"text-[14px] md:text-base sm:text-nowrap font-medium text-text-secondary"},[e[16]||(e[16]=r(" This will help us personalize your experience in Orchit AI. "))])).cacheIndex=6,i(1),e[6])],512),[[d,a.value===2]]),m(s("div",we,[p(Z,{modelValue:x.value,"onUpdate:modelValue":e[7]||(e[7]=l=>x.value=l),label:"Company Name",placeholder:"Company name",size:"lg",error:!!o.value.team,message:o.value.team},null,8,["modelValue","error","message"]),p(B,{modelValue:v.value,"onUpdate:modelValue":e[8]||(e[8]=l=>v.value=l),label:"What role do you perform in your company?",options:f(N)||[],placeholder:"Select Role",size:"lg",error:!!o.value.role,message:o.value.role},null,8,["modelValue","options","error","message"]),p(B,{modelValue:y.value,"onUpdate:modelValue":e[9]||(e[9]=l=>y.value=l),label:"What’s your company size?",options:f($),placeholder:"Select Company size",size:"lg",error:!!o.value.companySize,message:o.value.companySize},null,8,["modelValue","options","error","message"])],512),[[d,a.value===2]]),m(s("div",Ce,[e[10]||(i(-1,!0),(e[10]=s("h2",{class:"text-[24px] lg:text-[32px] leading-[32px] lg:leading-[44px] font-medium text-text-primary"},[e[17]||(e[17]=r(" Invite your team"))])).cacheIndex=10,i(1),e[10]),e[11]||(i(-1,!0),(e[11]=s("p",{class:"text-[14px] md:text-base sm:text-nowrap font-medium text-text-secondary"},[e[18]||(e[18]=r(" Invite your teammates to your first project. "))])).cacheIndex=11,i(1),e[11])],512),[[d,a.value===3]]),m(s("div",ze,[p(le,{modelValue:u.value,"onUpdate:modelValue":e[12]||(e[12]=l=>u.value=l),error:!!o.value.emailList,message:o.value.emailList},null,8,["modelValue","error","message"])],512),[[d,a.value===3]]),s("div",Ie,[a.value!=1?(b(),h(O,{key:0,variant:"secondary",size:"md",type:"button",onClick:W,disabled:a.value===1},{default:C(()=>[s("div",Se,[p(H,{icon:["fas","arrow-left"]}),e[19]||(e[19]=r(" Back "))])]),_:1},8,["disabled"])):ee("",!0),s("div",ke,[p(O,{size:"md",type:"submit",onClick:E},{default:C(()=>[r(z(f(L)||f(T)?"Continuing...":a.value==3?"Invite":"Continue"),1)]),_:1})])])]),e[20]||(e[20]=s("div",{class:"max-w-[500px] md:mx-auto w-full space-y-6"},null,-1))]),_:1},8,["activeStep"])}}}),Ne=oe(Ve,[["__scopeId","data-v-2c34927d"]]);export{Ne as default};
