const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CreateTaskModal-tosIWHuT.js","assets/CreateTaskModal.vue_vue_type_script_setup_true_lang-BySI8WF2.js","assets/index-DM5NKZ0I.js","assets/index-Cg-Jy4Uu.css","assets/ConfirmDeleteModal-DVfBS5UY.js","assets/ConfirmDeleteModal.vue_vue_type_script_setup_true_lang-DaTuBLai.js","assets/SidePanel-CZOjl6-P.js","assets/SidePanel-CvSEo7K3.css","assets/KanbanBoard-BhA1za9q.js","assets/lodash-B3d4OLnQ.js","assets/DropMenu.vue_vue_type_script_setup_true_lang-DciwRdxL.js","assets/KanbanBoard-BwJHFY87.css"])))=>i.map(i=>d[i]);
import{O as _e,P as qe,Q as oe,p as v,r as w,n as N,R as he,c as T,S as De,d as ke,T as mt,U as ft,j as x,f as s,h as xe,z as W,F as be,y as we,t as H,N as vt,o as c,I as Ge,L as Et,e as Y,w as Z,i as O,_ as Ze,B as ue,g as se,V as Je,H as Qe,k as ee,W as je,C as Ve,M as Bt,b as Xe,K as gt,X as Mt,Y as bt,Z as Pt,$ as xt,a0 as Ot,D as Ke,a1 as Ut,a2 as At,u as It,a3 as qt,a4 as Nt,a5 as Fe,a6 as ze,q as Ft,v as zt,a7 as Ht,a8 as jt,a9 as it,aa as Rt}from"./index-DM5NKZ0I.js";import{u as Ye}from"./useTheme-0isRTh7b.js";import{_ as Qt}from"./BaseTextAreaField.vue_vue_type_script_setup_true_lang-Dd0kZQsS.js";import{K as yt,D as Kt}from"./Dropdown-C7sb59Bc.js";import{_ as Wt}from"./SearchBar.vue_vue_type_script_setup_true_lang-DMbtcC4X.js";import{o as Gt,_ as Zt}from"./ConfirmDeleteModal.vue_vue_type_script_setup_true_lang-DaTuBLai.js";import{K as Jt}from"./KanbanTicket-CTcw9DN5.js";import{F as Xt}from"./fuse-Ch1WBRTM.js";import{l as Yt}from"./lodash-B3d4OLnQ.js";import"./DropMenu.vue_vue_type_script_setup_true_lang-DciwRdxL.js";const ea="data:image/svg+xml,%3csvg%20width='60'%20height='46'%20viewBox='0%200%2060%2046'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20opacity='0.4'%3e%3cpath%20d='M59.7443%2034.8967L50.5682%2025.7206C50.4457%2025.5984%2050.2897%2025.5152%2050.1199%2025.4816C49.9501%2025.4479%2049.7742%2025.4653%2049.6143%2025.5315C49.4544%2025.5976%2049.3176%2025.7097%2049.2213%2025.8535C49.125%2025.9973%2049.0734%2026.1664%2049.073%2026.3394V30.517H25.9775V40.5114H49.0755V44.689C49.0759%2044.8621%2049.1275%2045.0312%2049.2238%2045.175C49.3201%2045.3187%2049.4569%2045.4308%2049.6168%2045.497C49.7767%2045.5632%2049.9527%2045.5805%2050.1224%2045.5468C50.2922%2045.5132%2050.4482%2045.43%2050.5708%2045.3078L59.7468%2036.1318C59.9095%2035.9672%2060.0005%2035.7451%2060.0001%2035.5137C59.9996%2035.2823%2059.9076%2035.0605%2059.7443%2034.8967Z'%20fill='%23C6DBA9'/%3e%3cpath%20d='M32.3149%2030.5293C30.664%2031.5967%2028.7394%2032.1633%2026.7734%2032.1609V40.5237H34.7295C39.2829%2038.5638%2042.9649%2035.0102%2045.0851%2030.5293H32.3149Z'%20fill='url(%23paint0_linear_250_16424)'/%3e%3cpath%20d='M46.2209%2020.2832C46.2317%2015.0884%2044.2448%2010.0884%2040.6714%206.3179C37.0981%202.54738%2032.2119%200.295026%2027.024%200.0269855C21.8362%20-0.241055%2016.7439%201.49574%2012.801%204.87791C8.85809%208.26009%206.36647%2013.0287%205.84178%2018.1969L2.46233%2017.8913C2.31055%2017.8782%202.15829%2017.9103%202.02467%2017.9835C1.89106%2018.0566%201.78205%2018.1677%201.71134%2018.3026C1.64063%2018.4376%201.61138%2018.5904%201.62726%2018.7419C1.64313%2018.8934%201.70343%2019.0368%201.80058%2019.1542L9.51927%2028.406C9.79205%2028.7344%2010.277%2028.7773%2010.378%2028.5045L19.6298%2020.7833C20.3876%2020.3413%2020.1173%2019.4825%2019.4328%2019.4194L15.8008%2019.091C16.0297%2017.1283%2016.8213%2015.2735%2018.0802%2013.7503C19.3391%2012.2271%2021.0115%2011.1004%2022.8961%2010.5059C24.7806%209.9114%2026.7969%209.8745%2028.7019%2010.3996C30.6069%2010.9248%2032.3195%2011.9896%2033.6332%2013.4657C34.947%2014.9419%2035.8059%2016.7664%2036.1065%2018.7195C36.4071%2020.6726%2036.1365%2022.6709%2035.3274%2024.4738C34.5183%2026.2766%2033.2051%2027.8071%2031.5462%2028.8807C29.8872%2029.9544%2027.9531%2030.5254%2025.977%2030.5251H25.9283V40.5094C31.2249%2040.4031%2036.7093%2038.2263%2040.4202%2034.4455C44.1311%2030.6648%2046.2134%2025.5808%2046.2209%2020.2832Z'%20fill='%23D7A39E'/%3e%3cpath%20d='M25.9773%2030.5293H0V40.5237H25.9773V30.5293Z'%20fill='url(%23paint1_linear_250_16424)'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_250_16424'%20x1='6.53714'%20y1='35.5252'%20x2='47.0198'%20y2='35.5252'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%236C798F'/%3e%3cstop%20offset='1'%20stop-color='%236C798F'%20stop-opacity='0.1'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_250_16424'%20x1='0'%20y1='36'%20x2='26'%20y2='36'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23E8D4D3'%20stop-opacity='0'/%3e%3cstop%20offset='1'%20stop-color='%23E2A39F'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",ta=(d,o={})=>qe({queryKey:["sprint-list"],queryFn:({signal:S})=>oe({url:`sprints/${d}`,method:"GET",signal:S}),...o}),aa=(d,o={})=>qe({queryKey:["sprint-cards",d],queryFn:({signal:S})=>oe({url:`sprints/${v(d)}/backlog`,method:"GET",signal:S}),...o}),sa=(d,o={})=>qe({queryKey:["sprint-kanban",d],queryFn:({signal:S})=>oe({url:`workspace/cards/sprintgrouped?sprint_id=${v(d)}&variable_id=68b6c96e0a95eef7d14e6981`,method:"GET",signal:S}),...o}),la=(d,o={})=>_e({key:["sprint-complete"]},{mutationFn:S=>oe({url:`sprints/${v(d)}/complete`,method:"POST",data:S.payload}),...o}),ra=(d,o={})=>qe({queryKey:["sprint-detail",d],queryFn:({signal:S})=>oe({url:`sprints/detail/${v(d)}?include_cards=true`,method:"GET",signal:S}),...o}),We=(d,o={})=>qe({queryKey:["backlog-list",d],queryFn:({signal:S})=>oe({url:`sprints/workspace/${v(d)}/cards?include_sprint_cards=false`,method:"GET",signal:S}),...o}),na=(d={})=>_e({key:["add-sprint"]},{mutationFn:o=>oe({url:"/sprints",method:"POST",data:o.payload}),...d}),ht=(d={})=>_e({key:["move-card-to-sprint"]},{mutationFn:o=>oe({url:`/sprints/${o.id}/cards`,method:"POST",data:o.payload}),...d}),dt=(d={})=>_e({key:["add-sprint"]},{mutationFn:o=>oe({url:`/sprints/${o.id}`,method:"PUT",data:o.payload}),...d}),oa=(d={})=>_e({key:["start-sprint"]},{mutationFn:o=>oe({url:`/sprints/${o.id}/start`,method:"POST",data:o.payload}),...d}),ia=(d={})=>_e({key:["delete-sprint"]},{mutationFn:o=>oe({url:`/sprints/${o}`,method:"DELETE"}),...d}),da=(d={})=>_e({key:["remove-card-from-sprint"]},{mutationFn:o=>oe({url:`sprints/${v(o.sprintId)}/cards/remove `,method:"POST",data:{card_ids:[o.cardId]}}),...d}),_t="jira-like:";function ut(d="id"){return`${d}_${Math.random().toString(36).slice(2,9)}`}function ct(d,o){try{localStorage.setItem(_t+d,JSON.stringify(o))}catch{}}function pt(d,o){try{const S=localStorage.getItem(_t+d);return S?JSON.parse(S):o}catch{return o}}function ua(d){switch(d){case"Highest":return"rounded-md bg-red-50 px-2 py-0.5 text-xs text-red-700";case"High":return"rounded-md bg-orange-50 px-2 py-0.5 text-xs text-orange-700";case"Medium":return"rounded-md bg-amber-50 px-2 py-0.5 text-xs text-amber-700";case"Low":return"rounded-md bg-gray-100 px-2 py-0.5 text-xs text-gray-600"}}function ca(){const d=w(pt("backlog",[])),o=w(pt("sprints",[]));if(o.value.length===0)o.value.push({id:ut("sprint"),name:"Sprint 1",goal:"",start:"",end:"",started:!1,tickets:[]});else if(o.value.length>1){for(let r=1;r<o.value.length;r++)d.value.push(...o.value[r].tickets);o.value=[o.value[0]]}const S=w(o.value[0].id);N([d,o],()=>{ct("backlog",d.value),ct("sprints",o.value)},{deep:!0});const $=w([]),P=he({}),h=T(()=>d.value.length>0&&$.value.length===d.value.length),l=r=>{var t;const e=o.value.find(a=>a.id===r);return!!e&&e.tickets.length>0&&(((t=P[r])==null?void 0:t.length)||0)===e.tickets.length};function C(r,e,t){const a=e.target.checked;if(r==="backlog")$.value=a?d.value.map(i=>i.id):[];else if(t){const i=o.value.find(y=>y.id===t);P[t]=a&&i?i.tickets.map(y=>y.id):[]}}function L(r,e,t,a){const i=t.target.checked,y=r==="backlog"?$.value:P[a]||(P[a]=[]);if(i&&!y.includes(e)&&y.push(e),!i){const E=y.indexOf(e);E>=0&&y.splice(E,1)}}function V(){return o.value.find(r=>r.id===S.value)||o.value[0]}function A(){const e=[...d.value,...o.value.flatMap(a=>a.tickets)].map(a=>Number(String(a.key).replace(/[^0-9]/g,""))).filter(a=>!Number.isNaN(a));return`PRJ-${e.length?Math.max(...e)+1:1}`}const{mutate:U}=ht({onSuccess:()=>{De.success("Cards moved to sprint successfully")},onError:r=>{De.error("Failed to move cards: "+(r.message||"Unknown error"))}});function D(){var a,i;const r=V();if(!r||!$.value.length)return;const e=[],t=[];for(const y of d.value)($.value.includes(y.id)?t:e).push(y);d.value=e,r.tickets.push(...t),$.value=[],t.length>0&&U({id:r.id,payload:{card_ids:t.map(y=>y.id),priority:((i=(a=t[0])==null?void 0:a.priority)==null?void 0:i.toLowerCase())||"medium",story_points:t.reduce((y,E)=>y+(E.storyPoints||0),0)}})}function M(r){const e=o.value.find(y=>y.id===r);if(!e)return;const t=P[r]||[],a=[],i=[];for(const y of e.tickets)(t.includes(y.id)?i:a).push(y);e.tickets=a,d.value.push(...i),P[r]=[]}function q(r,e){if(r==="backlog")d.value=d.value.filter(t=>!$.value.includes(t.id)),$.value=[];else if(e){const t=P[e]||[],a=o.value.find(i=>i.id===e);if(!a)return;a.tickets=a.tickets.filter(i=>!t.includes(i.id)),P[e]=[]}}function K(r,e){const t={id:ut("T"),key:A(),createdAt:new Date().toISOString(),...e};if(r==="backlog")d.value.push(t);else{const a=V();a==null||a.tickets.push(t)}}function j(r){const e=V();e&&(e.name=r.name??e.name,e.goal=r.goal??e.goal,e.start=r.start??e.start,e.end=r.end??e.end)}function z(){const r=V();r&&(r.started=!r.started)}function b(r){return r.tickets.reduce((e,t)=>e+(t.storyPoints||0),0)}return{backlog:d,sprints:o,activeSprintId:S,selectedBacklogIds:$,selectedSprintIds:P,allBacklogChecked:h,allSprintChecked:l,toggleAll:C,toggleOne:L,getActiveSprint:V,createTicket:K,saveSprintMeta:j,toggleStartSprint:z,sprintPoints:b,moveSelectedToSprint:D,moveSelectedToBacklog:M,deleteSelected:q,priorityClass:ua}}const pa={class:"h-full min-h-0"},ma={key:0,class:"empty-state flex flex-col justify-center items-center h-full"},fa=["disabled"],va={key:1,class:"overflow-y-auto h-[calc(100%-50px)] tickets-scroll"},ga={class:"flex flex-col flex-1 gap-[4px] min-w-0 me-1"},ba=["onDragstart","onClick"],xa=["checked","onChange"],ya={class:"flex items-center text-[14px] font-sans font-medium capitalize text-text-secondary flex-1 min-w-0"},ha={class:"truncate"},_a={class:"flex-shrink-0"},ka={key:0,class:"flex justify-center text-gray-500 items-center text-[11px] aspect-square w-[24px] h-[24px] bg-bg-body rounded-full border-border-input border-2"},Sa={key:1,class:"w-6 h-6 rounded-full"},Ca=["src"],wa={key:2,class:"text-[11px] aspect-square w-24px flex justify-center items-center h-[24px] bg-accent/30 text-accent border-accent border rounded-full"},Da=ke({__name:"BacklogTable",props:{searchQuery:{type:String,default:""},checkedAll:{type:Boolean,default:!1}},emits:["ticket-dragged-to-sprint","open-ticket","ticket-moved-to-backlog","open-create-ticket"],setup(d,{emit:o}){const{theme:S}=Ye(),{canCreateCard:$}=mt(),P=o,h=d,{workspaceId:l}=ft(),{data:C,isPending:L}=We(l),V=w([]),A=w(!1),U=w([]),D=w([]);N(C,e=>{e!=null&&e.cards&&(V.value=e.cards.map(t=>{var p,_,G,ce;const a=((p=t.card)==null?void 0:p.variables)??{},i=((_=t.card)==null?void 0:_._id)??t.card_id,y=String(a["card-status"]??"").trim(),E=String(a.priority??"").trim();return{id:i,key:a["card-code"]||(i==null?void 0:i.slice(-6))||"PRJ-?",summary:a["card-title"]||"(untitled)",type:"Story",status:y,assignee:((G=t.card)==null?void 0:G.assigned_to)??"Unassigned",storyPoints:Number(t.story_points??0)||0,priority:q(E),createdAt:((ce=t.card)==null?void 0:ce.created_at)??new Date().toISOString(),description:a["card-description"]||""}}))},{immediate:!0}),N(V,e=>{const t=new Set(e.map(a=>a.id));D.value=D.value.filter(a=>t.has(a))});const M=T(()=>{if(console.log(h.searchQuery,"this is query"),!h.searchQuery)return V.value;const e=h.searchQuery.toLowerCase();return V.value.filter(t=>{var i;const a=typeof t.assignee=="string"?t.assignee:((i=t.assignee)==null?void 0:i.u_full_name)||"";return t.key.toLowerCase().includes(e)||t.summary.toLowerCase().includes(e)||a.toLowerCase().includes(e)})});function q(e){const t=String(e??"").toLowerCase();return["highest","blocker","critical"].includes(t)?"Highest":["high","major"].includes(t)?"High":["medium","normal"].includes(t)?"Medium":"Low"}function K(e,t,a){var p;const i=D.value.includes(t.id)?[...D.value]:[t.id],y=i.map(_=>V.value.find(G=>G.id===_)).filter(Boolean);U.value=i;const E=JSON.stringify({id:t.id,ids:i,from:a,tickets:y});(p=e.dataTransfer)==null||p.setData("text/plain",E),e.dataTransfer&&(e.dataTransfer.effectAllowed="move")}function j(e){var t;A.value=!1,((t=e.dataTransfer)==null?void 0:t.dropEffect)!=="none"&&U.value.length&&(V.value=V.value.filter(a=>!U.value.includes(a.id)),D.value=D.value.filter(a=>!U.value.includes(a))),U.value=[]}function z(e){var t;e.preventDefault(),A.value=!1;try{const a=(t=e.dataTransfer)==null?void 0:t.getData("text/plain");if(!a)return;const i=JSON.parse(a);if(i.from!=="sprint")return;const E=(i.tickets&&i.tickets.length?i.tickets:i.ticket?[i.ticket]:[]).filter(Boolean).filter(_=>!V.value.some(G=>G.id===_.id));E.length&&V.value.push(...E);const p=i.ids&&i.ids.length?i.ids:i.id?[i.id]:[];p.length&&P("ticket-moved-to-backlog",p,i.sprintId),console.log(i.sprintId,"sprintId ....")}catch(a){console.error("Drop error:",a)}}function b(e,t){t?D.value.includes(e)||D.value.push(e):D.value=D.value.filter(a=>a!==e)}function r(e,t){const a=t.target.checked;b(e,a)}return N(()=>h.checkedAll,e=>{e?(D.value=V.value.map(t=>t.id),console.log(D.value)):D.value=[]}),(e,t)=>(c(),x("section",pa,[s("div",{class:W(["rounded-lg flex flex-col h-full",A.value?"ring-2 ring-blue-400":""]),onDragover:t[3]||(t[3]=xe(()=>{},["prevent"])),onDragenter:t[4]||(t[4]=a=>A.value=!0),onDragleave:t[5]||(t[5]=a=>A.value=!1),onDrop:t[6]||(t[6]=a=>z(a))},[!v(L)&&M.value.length===0?(c(),x("div",ma,[t[7]||(t[7]=s("img",{src:ea,class:"mb-4",alt:"backlog-plan"},null,-1)),t[8]||(t[8]=s("h6",{class:"text-sm text-text-primary font-semibold mb-1"}," Get started in the backlog ",-1)),t[9]||(t[9]=s("p",{class:"text-sm text-text-primary/90 mb-4"}," Plan and start a sprint to see issues here. ",-1)),s("button",{disabled:!v($),onClick:t[0]||(t[0]=a=>e.$emit("open-create-ticket")),class:W(["relative inline-flex items-center justify-center font-medium py-1.5 px-3 text-sm rounded-md focus:outline-none transition text-xs px-3 py-1.5 h-[34px] bg-accent text-white hover:bg-accent-hover border-border-input border",v($)?"cursor-pointer":"cursor-not-allowed"])}," Create Ticket ",10,fa)])):(c(),x("div",va,[s("div",ga,[(c(!0),x(be,null,we(M.value,a=>{var i,y;return c(),x("div",{key:a.id,draggable:"true",class:W(["flex items-center  gap-3 p-[8px] cursor-pointer transition-colors rounded-[8px]",D.value.includes(a.id)?"border-2 border-[#5a2d7f]":"border border-border-input",v(S)==="dark"?"bg-bg-body hover:bg-bg-surface":"bg-bg-charcoal hover:bg-bg-body"]),onDragstart:E=>K(E,a,"backlog"),onDragend:t[2]||(t[2]=E=>j(E)),onClick:E=>e.$emit("open-ticket",a)},[s("input",{type:"checkbox",class:"custom-checkbox bg-bg-body border border-border-input flex-shrink-0",checked:D.value.includes(a.id),onClick:t[1]||(t[1]=xe(()=>{},["stop"])),onChange:E=>r(a.id,E)},null,40,xa),s("div",ya,[s("span",ha,H(a.summary),1)]),s("div",_a,[(a==null?void 0:a.assignee)==="Unassigned"?(c(),x("span",ka,"UA")):(i=a==null?void 0:a.assignee)!=null&&i.u_profile_image?(c(),x("div",Sa,[s("img",{src:a.assignee.u_profile_image,alt:""},null,8,Ca)])):(c(),x("span",wa,H(v(vt)((y=a==null?void 0:a.assignee)==null?void 0:y.u_full_name)),1))])],42,ba)}),128))])]))],34)]))}}),Va=Ge(Da,[["__scopeId","data-v-8b676224"]]),$a="data:image/svg+xml,%3csvg%20width='60'%20height='60'%20viewBox='0%200%2060%2060'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20opacity='0.4'%3e%3cpath%20d='M9.375%2030C11.6402%2030%2013.4766%2028.1637%2013.4766%2025.8984C13.4766%2023.6332%2011.6402%2021.7969%209.375%2021.7969C7.10977%2021.7969%205.27344%2023.6332%205.27344%2025.8984C5.27344%2028.1637%207.10977%2030%209.375%2030Z'%20fill='%23AE2A19'/%3e%3cpath%20d='M26.25%2024.375C28.5152%2024.375%2030.3516%2022.5387%2030.3516%2020.2734C30.3516%2018.0082%2028.5152%2016.1719%2026.25%2016.1719C23.9848%2016.1719%2022.1484%2018.0082%2022.1484%2020.2734C22.1484%2022.5387%2023.9848%2024.375%2026.25%2024.375Z'%20fill='%23BF63F3'/%3e%3cpath%20d='M15.3931%2035.8594H11.0159V33.0938C9.93587%2033.3387%208.81469%2033.3387%207.73465%2033.0938V35.8594H1.87528C1.55115%2035.8601%201.2345%2035.9568%200.965283%2036.1373C0.696064%2036.3178%200.486343%2036.574%200.362583%2036.8736C0.238824%2037.1731%200.206573%2037.5027%200.269899%2037.8205C0.333226%2038.1384%200.489292%2038.4304%200.718404%2038.6597L7.05872%2045L0.718404%2051.3403C0.489292%2051.5696%200.333226%2051.8616%200.269899%2052.1795C0.206573%2052.4973%200.238824%2052.8269%200.362583%2053.1264C0.486343%2053.426%200.696064%2053.6822%200.965283%2053.8627C1.2345%2054.0432%201.55115%2054.1399%201.87528%2054.1406H15.3931L21.7503%2045L15.3931%2035.8594Z'%20fill='%2382B536'/%3e%3cpath%20d='M34.4562%2035.8594H27.8937V27.4688C26.8137%2027.7138%2025.6925%2027.7138%2024.6125%2027.4688V35.8594H19.3896L25.7487%2045L19.3896%2054.1406H34.4562L40.8143%2045L34.4562%2035.8594Z'%20fill='%2382B536'/%3e%3cpath%20d='M43.8281%2019.6875H55.3125C55.7475%2019.6873%2056.1647%2019.5143%2056.4723%2019.2067C56.7799%2018.8991%2056.9529%2018.4819%2056.9531%2018.0469V9.375C56.9529%208.93996%2056.7799%208.5228%2056.4723%208.21518C56.1647%207.90755%2055.7475%207.73462%2055.3125%207.73438H43.8281V7.5C43.8281%207.06488%2043.6553%206.64758%2043.3476%206.3399C43.0399%206.03223%2042.6226%205.85938%2042.1875%205.85938C41.7524%205.85938%2041.3351%206.03223%2041.0274%206.3399C40.7197%206.64758%2040.5469%207.06488%2040.5469%207.5V32.5781H43.8281V19.6875Z'%20fill='%23FCA700'/%3e%3cpath%20d='M59.2843%2043.8403L51.7843%2036.3403C51.6322%2036.1878%2051.4514%2036.0668%2051.2524%2035.9842C51.0534%2035.9017%2050.8401%2035.8593%2050.6246%2035.8594H38.4521L44.8121%2045L38.4531%2054.1406H50.6246C50.8401%2054.1407%2051.0534%2054.0983%2051.2524%2054.0158C51.4514%2053.9332%2051.6322%2053.8122%2051.7843%2053.6597L59.2843%2046.1597C59.4368%2046.0075%2059.5577%2045.8267%2059.6402%2045.6277C59.7228%2045.4287%2059.7652%2045.2154%2059.7652%2045C59.7652%2044.7846%2059.7228%2044.5713%2059.6402%2044.3723C59.5577%2044.1733%2059.4368%2043.9925%2059.2843%2043.8403Z'%20fill='%2382B536'/%3e%3c/g%3e%3c/svg%3e",Ta={class:"h-full min-h-0"},La={key:0,class:"overflow-y-auto h-[calc(100%-50px)] tickets-scroll"},Ea={class:"flex flex-col flex-1 gap-[4px] min-w-0 me-1"},Ba=["onDragstart","onClick"],Ma=["checked","onChange"],Pa={class:"flex items-center text-[14px] font-sans font-medium capitalize text-text-secondary flex-1 min-w-0"},Oa={class:"truncate"},Ua={class:"flex-shrink-0"},Aa={key:0,class:"flex justify-center text-gray-500 items-center text-[11px] aspect-square w-[24px] h-[24px] bg-bg-body rounded-full border-border-input border-2"},Ia={key:1,class:"w-6 h-6 rounded-full"},qa=["src"],Na={key:2,class:"text-[11px] aspect-square w-[24px] flex justify-center items-center h-[24px] bg-accent/30 text-accent border-accent border rounded-full"},Fa={key:1,class:"empty-state flex flex-col justify-center items-center border-dashed border-3 p-2 border-border h-[calc(100%-50px)] min-h-0"},za=ke({__name:"SprintCard",props:{sprint:{},sprintId:{},searchQuery:{},checkedSprintAll:{}},emits:["edit-sprint","toggle-start","open-ticket","move-selected-to-backlog","delete-selected-sprint","refresh"],setup(d,{emit:o}){const{theme:S}=Ye(),$=d,P=o,h=w([]),l=w([]);N(()=>$.sprint.tickets,b=>{h.value=[...b||[]];const r=new Set(h.value.map(e=>e.id));l.value=l.value.filter(e=>r.has(e))},{immediate:!0,deep:!0});const C=T(()=>{var r;const b=((r=$.searchQuery)==null?void 0:r.toLowerCase())||"";return b?h.value.filter(e=>{var a;const t=((a=e.assignee)==null?void 0:a.u_full_name)??"";return e.key.toLowerCase().includes(b)||e.summary.toLowerCase().includes(b)||t.toLowerCase().includes(b)}):h.value}),L=w(!1),V=w([]),{mutate:A}=ht({onSuccess:()=>{De.success("Card moved to sprint successfully"),P("refresh")},onError:b=>{De.error("Failed to move card: "+(b.message||"Unknown error"))}});function U(b,r,e,t){var E;const a=l.value.includes(r.id)?[...l.value]:[r.id],i=a.map(p=>h.value.find(_=>_.id===p)).filter(Boolean);V.value=a;const y=JSON.stringify({id:r.id,ids:a,from:e,sprintId:t,ticket:r,tickets:i});(E=b.dataTransfer)==null||E.setData("text/plain",y),b.dataTransfer&&(b.dataTransfer.effectAllowed="move")}function D(b){var r;L.value=!1,((r=b.dataTransfer)==null?void 0:r.dropEffect)!=="none"&&V.value.length&&(h.value=h.value.filter(e=>!V.value.includes(e.id)),l.value=l.value.filter(e=>!V.value.includes(e))),V.value=[]}function M(){L.value=!0}function q(){L.value=!1}function K(b){var r;b.preventDefault(),L.value=!1;try{const e=(r=b.dataTransfer)==null?void 0:r.getData("text/plain");if(!e)return;const t=JSON.parse(e);if(t.from!=="backlog")return;const i=(t.tickets&&t.tickets.length?t.tickets:t.ticket?[t.ticket]:[]).filter(Boolean).filter(y=>!h.value.some(E=>E.id===y.id));if(!i.length)return;h.value.push(...i),i.forEach(y=>{A({id:$.sprintId,payload:{card_ids:[y.id],priority:(y.priority||"Medium").toLowerCase(),story_points:y.storyPoints||0}})})}catch(e){console.error("Drop error:",e)}}function j(b,r){r?l.value.includes(b)||l.value.push(b):l.value=l.value.filter(e=>e!==b)}function z(b,r){const e=r.target.checked;j(b,e)}return N(()=>$.checkedSprintAll,b=>{b?(l.value=C.value.map(r=>r.id),console.log(C.value)):l.value=[]}),(b,r)=>(c(),x("div",Ta,[s("div",{class:W([L.value?"ring-2 ring-blue-400 rounded-lg":"","h-full box-border"]),onDragover:r[2]||(r[2]=xe(()=>{},["prevent"])),onDragenter:M,onDragleave:q,onDrop:K},[C.value.length>0?(c(),x("div",La,[s("div",Ea,[(c(!0),x(be,null,we(C.value,e=>{var t,a;return c(),x("div",{key:e.id,draggable:"true",class:W(["flex items-center  gap-3 p-[8px] cursor-pointer transition-colors rounded-[8px]",l.value.includes(e.id)?"border-2 border-[#5a2d7f]":"border border-border-input",v(S)==="dark"?"bg-bg-body hover:bg-bg-surface":"bg-bg-charcoal hover:bg-bg-body"]),onDragstart:i=>U(i,e,"sprint",b.sprint.id),onDragend:r[1]||(r[1]=i=>D(i)),onClick:i=>b.$emit("open-ticket",e)},[s("input",{type:"checkbox",class:W(["custom-checkbox border border-border-input flex-shrink-0",v(S)==="dark"?"bg-bg-charcoal":"bg-bg-body "]),checked:l.value.includes(e.id),onClick:r[0]||(r[0]=xe(()=>{},["stop"])),onChange:i=>z(e.id,i)},null,42,Ma),s("div",Pa,[s("span",Oa,H(e.summary),1)]),s("div",Ua,[(e==null?void 0:e.assignee)=="Unassigned"?(c(),x("span",Aa,"UA")):(t=e.assignee)!=null&&t.u_profile_image?(c(),x("div",Ia,[s("img",{src:e.assignee.u_profile_image,alt:""},null,8,qa)])):(c(),x("span",Na,H(v(vt)(((a=e.assignee)==null?void 0:a.u_full_name)??"")),1))])],42,Ba)}),128))])])):(c(),x("div",Fa,r[3]||(r[3]=[Et('<img src="'+$a+'" class="mb-4" alt="backlog-plan" data-v-b799e3bb><h6 class="text-sm text-text-primary font-semibold mb-1 text-center" data-v-b799e3bb> Plan your sprint </h6><p class="text-sm text-text-primary/90 mb-3 max-w-120 text-center" data-v-b799e3bb> Drag work items from the <span class="font-bold" data-v-b799e3bb>Backlog</span> section or create new ones to plan the work for this sprint. Select <span class="font-bold" data-v-b799e3bb>Start sprint</span> when you&#39;re ready. </p>',3)])))],34)]))}}),Ha=Ge(za,[["__scopeId","data-v-b799e3bb"]]),ja={class:"px-6 gap-4 bg-bg-input pt-5 pb-8"},Ra={class:"mt-3"},Qa={class:"flex justify-end gap-2 p-6 sticky bottom-0 bg-bg-input border-t border-border"},Ka=ke({__name:"SprintModal",props:{modelValue:{type:Boolean,default:!1},sprint:{},creatingSprint:{type:Boolean}},emits:["update:modelValue","save","close"],setup(d,{emit:o}){const S=o,$=d,P=T({get:()=>$.modelValue,set:D=>S("update:modelValue",D)}),h=he({name:"",description:""}),l=he({name:!1}),C=T(()=>l.name&&!String(h.name||"").trim()?"Name is required":""),L=T(()=>!!String(h.name||"").trim()&&!C.value);function V(){P.value=!1,S("close")}function A(){l.name=!0,L.value&&S("save",{name:String(h.name||"").trim(),description:String(h.description||"").trim()})}function U(){l.name=!1}return N(()=>$.sprint,D=>{if(!D){h.name="";return}h.name=D.name??(D==null?void 0:D.title)??"",h.description=D.description??"",U()},{immediate:!0}),(D,M)=>(c(),Y(Je,{modelValue:P.value,"onUpdate:modelValue":M[3]||(M[3]=q=>P.value=q),modalClass:"!py-0",size:"md"},{default:Z(()=>[M[6]||(M[6]=s("div",{class:"sticky top-0 z-10 flex flex-col items-start pt-6 px-6 border-b border-border bg-bg-input pb-4"},[s("h2",{class:"text-xl font-semibold"},"Add New Sprint")],-1)),s("div",ja,[O(Ze,{class:"rounded-1",modelValue:h.name,"onUpdate:modelValue":M[0]||(M[0]=q=>h.name=q),label:"Name",placeholder:"Sprint 1",error:!!C.value,message:C.value,onBlur:M[1]||(M[1]=q=>l.name=!0)},null,8,["modelValue","error","message"]),s("div",Ra,[O(Qt,{modelValue:h.description,"onUpdate:modelValue":M[2]||(M[2]=q=>h.description=q),label:"Description",placeholder:"Sprint description...",type:"textarea",rows:4},null,8,["modelValue"])]),M[4]||(M[4]=s("div",null,null,-1))]),s("div",Qa,[O(ue,{variant:"secondary",onClick:V},{default:Z(()=>M[5]||(M[5]=[se("Cancel")])),_:1,__:[5]}),O(ue,{variant:"primary",disabled:!L.value,onClick:A},{default:Z(()=>[se(H(D.creatingSprint?"Saving...":"Save"),1)]),_:1},8,["disabled"])])]),_:1,__:[6]},8,["modelValue"]))}}),Wa="/assets/filter-MwNDfWa5.svg",Ga={class:"px-6 grid grid-cols-2 gap-4 bg-bg-input pt-5"},Za={class:"flex flex-col col-span-2"},Ja={class:"flex flex-col col-span-2"},Xa={class:"flex gap-1 flex-col"},Ya={key:0,class:"text-xs text-red-500"},es={class:"flex gap-1 flex-col"},ts={key:0,class:"text-xs text-red-500"},as={class:"flex flex-col col-span-2"},ss={class:"flex flex-col col-span-2"},ls={class:"bg-bg-body wfull px-4 py-3 rounded-lg text-xs text-text-secondary"},rs={class:"flex justify-end gap-2 p-6 sticky bottom-0 bg-bg-input"},ns=ke({__name:"StartSprintModal",props:{modelValue:{type:Boolean,default:!1},sprint:{},creatingSprint:{type:Boolean}},emits:["update:modelValue","save","close"],setup(d,{emit:o}){const S=o,$=d,P=[{_id:1,title:"1 Week"},{_id:2,title:"2 Weeks"},{_id:3,title:"3 Weeks"},{_id:4,title:"4 Weeks"},{_id:5,title:"Custom"}],h=T({get:()=>$.modelValue,set:e=>S("update:modelValue",e)}),l=he({goal:"",start:new Date().toISOString().slice(0,10),end:"",sprint_name:"",duration:null}),C=he({start:!1,end:!1}),L=T(()=>!l.start&&C.start?"Start date is required":""),V=T(()=>{if(!l.end&&C.end)return"End date is required";if(l.start&&l.end){const e=j(l.start),t=j(l.end);if(Number.isFinite(e)&&Number.isFinite(t)&&t<e)return"End date cannot be before start date"}return""}),A=T(()=>!L.value&&!V.value);function U(e){l.start=e||"",C.start=!0}function D(e){l.end=e||"",C.end=!0}function M(){h.value=!1,S("close")}function q(){C.start=!0,C.end=!0,A.value&&(S("save",{title:l.sprint_name||"new sprint",duration:String(r.value)||null,start:l.start||"",end:l.end||"",goal:l.goal??""}),h.value=!1,S("close"))}function K(){C.start=!1,C.end=!1}function j(e){return e?new Date(`${e}T00:00:00`).getTime():NaN}const z=T(()=>l.duration===5);N(()=>l.duration,e=>{if(!e)return;const t=typeof e=="object"?e._id:e;if(t!==5&&l.start){const a=b(l.start,t*7);l.end=a}}),N(()=>l.start,e=>{e&&(l.duration&&l.duration!==5&&(l.end=b(l.start,l.duration*7)),l.end&&j(l.end)<j(l.start)&&(l.end=l.start))});function b(e,t){const a=new Date(e);return a.setDate(a.getDate()+t),a.toISOString().slice(0,10)}const r=T(()=>!l.start||!l.end?0:l.duration!==5?l.duration*7:(j(l.end)-j(l.start))/864e5);return N(()=>$.sprint,e=>{if(!e){l.start=new Date().toISOString().slice(0,10),l.end="",l.sprint_name="",l.goal="",K();return}l.goal=e.goal??"",l.start=e.start??new Date().toISOString().slice(0,10),l.end=e.end??"",l.sprint_name=e.title??"",K()},{immediate:!0}),(e,t)=>(c(),Y(Je,{modelValue:h.value,"onUpdate:modelValue":t[3]||(t[3]=a=>h.value=a),modalClass:"!py-0",size:"md"},{default:Z(()=>[s("div",{class:"sticky top-0 z-10 flex justify-between items-center py-6 px-6 border-b border-border bg-bg-input"},[t[5]||(t[5]=s("h2",{class:"text-xl font-semibold"},"Start Sprint",-1)),s("span",{onClick:M,class:"text-sm text-text-secondary cursor-pointer"},t[4]||(t[4]=[s("i",{class:"fa-solid fa-xmark text-text-primary text-[19px]"},null,-1)]))]),s("div",Ga,[s("div",Za,[O(Ze,{modelValue:l.sprint_name,"onUpdate:modelValue":t[0]||(t[0]=a=>l.sprint_name=a),label:"Sprint Name",placeholder:"Enter sprint name",size:"md",class:"rounded-1"},null,8,["modelValue"])]),s("div",Ja,[O(Qe,{modelValue:l.duration,"onUpdate:modelValue":t[1]||(t[1]=a=>l.duration=a),options:P,label:"Duration",placeholder:"Select duration"},null,8,["modelValue"])]),s("div",Xa,[t[7]||(t[7]=s("label",{class:"text-sm font-medium"},"Start date",-1)),s("div",{class:W(["border relative flex items-center border-border h-10 px-2 bg-bg-input rounded-lg",L.value?"border-red-500":""])},[O(je,{placeholder:"Set start date",class:"w-full z-1","model-value":l.start,"emit-as":"ymd","onUpdate:modelValue":U},null,8,["model-value"]),t[6]||(t[6]=s("i",{class:"fa-regular fa-calendar absolute right-2 top-3 z-0"},null,-1))],2),L.value?(c(),x("p",Ya,H(L.value),1)):ee("",!0)]),s("div",es,[t[8]||(t[8]=s("label",{class:"text-sm font-medium"},"End date",-1)),s("div",{class:W(["border relative flex items-center border-border h-10 px-2 bg-bg-input rounded-lg",V.value?"border-red-500":""])},[O(je,{placeholder:"Set end date",class:"w-full","model-value":l.end,"emit-as":"ymd",disabled:!z.value,"onUpdate:modelValue":D,"min-date":l.start},null,8,["model-value","disabled","min-date"]),s("i",{class:W(["fa-regular fa-calendar absolute right-2 top-3 z-0",{"text-text-secondary/30 pointer-events-none":!z.value,"text-text-primary":z.value}])},null,2)],2),V.value?(c(),x("p",ts,H(V.value),1)):ee("",!0)]),s("div",as,[t[9]||(t[9]=s("label",{class:"text-sm font-medium pb-1"},"Goal (optional)",-1)),Ve(s("textarea",{"onUpdate:modelValue":t[2]||(t[2]=a=>l.goal=a),class:"w-full text-sm rounded-md border border-border px-3 py-2 bg-bg-input",rows:"2",placeholder:"Ship onboarding flow"},null,512),[[Bt,l.goal]])]),s("div",ss,[s("p",ls," Duration: "+H(l.start?r.value+" days":""),1)])]),s("div",rs,[O(ue,{variant:"secondary",onClick:M},{default:Z(()=>t[10]||(t[10]=[se("Cancel")])),_:1,__:[10]}),O(ue,{variant:"primary",disabled:!A.value,onClick:q},{default:Z(()=>[se(H(e.creatingSprint?"Starting...":"Start"),1)]),_:1},8,["disabled"])])]),_:1},8,["modelValue"]))}}),os={class:"sticky top-0 z-10 flex flex-col items-start pt-6 px-6 border-b border-border bg-bg-body pb-4 mb-4"},is={class:"text-sm text-text-secondary mt-1"},ds={class:"flex items-center gap-2 mt-4 w-full"},us={class:"flex items-center gap-2 flex-1"},cs={class:"px-6 min-h-[400px]"},ps={key:0},ms={key:0,class:"flex items-center justify-center py-12"},fs={key:1,class:"text-center py-12 text-text-secondary"},vs={key:2,class:"grid grid-cols-2 gap-3"},gs=["onClick"],bs={class:"flex items-center gap-3"},xs={class:"w-10 h-10 rounded-lg bg-bg-input flex items-center justify-center group-hover:bg-primary/10 transition-colors"},ys={class:"font-medium"},hs={key:1},_s={key:0,class:"flex items-center justify-center py-12"},ks={key:1,class:"text-center py-12 text-text-secondary"},Ss={key:2,class:"grid grid-cols-2 gap-3"},Cs=["onClick"],ws={class:"flex items-center gap-3"},Ds={class:"w-10 h-10 rounded-lg bg-bg-input flex items-center justify-center group-hover:bg-primary/10 transition-colors"},Vs={class:"font-medium"},$s={key:2},Ts={class:"grid grid-cols-2 gap-4"},Ls={key:0,class:"flex flex-col"},Es={class:"flex gap-1 flex-col"},Bs={key:0,class:"text-xs text-red-500"},Ms={class:"flex gap-1 flex-col"},Ps={key:0,class:"text-xs text-red-500"},Os={class:"mt-4"},Us={key:0,class:"text-xs text-red-500 mt-1 px-1"},As={class:"flex justify-between gap-2 p-6 mt-8 sticky bottom-0 bg-bg-body border-t border-border"},Is={key:1},qs={class:"flex gap-2"},Ns=ke({__name:"CreateBacklogTicketWithModuleSelection",props:{modelValue:{type:Boolean,default:!1},listId:{},selectedVariable:{}},emits:["update:modelValue","created"],setup(d,{emit:o}){const S=o,$=d,P=Xe(),{workspaceId:h}=gt(),l=w(1),C=w(null),L=w(null),{data:V,isLoading:A}=Mt(h.value),U=T(()=>{var m;return((m=V.value)==null?void 0:m.modules)||[]}),{data:D,isFetching:M,refetch:q}=bt({workspace_module_id:C,workspace_id:h},{enabled:T(()=>!!C.value)});N(()=>C.value,()=>{q()});const K=T(()=>D.value||[]),{data:j}=Pt(h.value),{data:z}=xt(h.value,C,{enabled:T(()=>!!C.value)}),{mutate:b,isPending:r}=Ot({onSuccess:()=>{de(),P.invalidateQueries({queryKey:["sheet-list"]}),P.invalidateQueries({queryKey:["backlog-list"]}),e.value=!1}}),e=T({get:()=>$.modelValue,set:m=>S("update:modelValue",m)}),t=T(()=>{switch(l.value){case 1:return"Select a module to create the ticket in";case 2:return"Select a sheet within the module";case 3:return"Provide the ticket details below and click Add Ticket";default:return""}}),a=T(()=>((z==null?void 0:z.value)??[]).filter(m=>{var f;return((f=m==null?void 0:m.type)==null?void 0:f.title)==="Select"})),i=m=>m.map(f=>({_id:f,title:f})),y=T(()=>((j==null?void 0:j.value)??[]).map(m=>{var f;return{_id:m._id,title:((f=m==null?void 0:m.variables)==null?void 0:f["lane-title"])??String(m._id)}})),E=m=>m.slug,p=he({title:"",description:"",startDate:null,endDate:null,lane_id:null,variables:{}});N(a,m=>{for(const f of m){const g=E(f);g in p.variables||(p.variables[g]=null)}},{immediate:!0});const _=he({title:!1,description:!1,startDate:!1,endDate:!1,lane:!1}),G=T(()=>!!p.title.trim()&&!!p.lane_id&&!!p.startDate&&!!p.endDate&&!J.value&&!ie.value&&!me.value&&!te.value&&!k.value);function ce(m){p.startDate=m,_.startDate=!0}function $e(m){p.endDate=m,_.endDate=!0}function Te(m){p.lane_id=m,_.lane=!0}function Se(m){C.value=m._id,l.value=2}function F(m){L.value=m._id,l.value=3}function le(){l.value>1&&l.value--}function pe(){e.value=!1,de()}function de(){l.value=1,C.value=null,L.value=null,p.title="",p.description="",p.startDate=null,p.endDate=null,p.lane_id=null,p.variables={},_.title=!1,_.description=!1,_.startDate=!1,_.endDate=!1,_.lane=!1}const Le=T(()=>{var m;return(m=z==null?void 0:z.value)==null?void 0:m.find(f=>(f==null?void 0:f._id)==$.selectedVariable)}),J=T(()=>_.title&&!p.title.trim()?"Title is required":""),ie=T(()=>_.startDate?p.startDate?"":"Start date is required":""),me=T(()=>_.endDate?p.endDate?p.startDate&&p.endDate&&p.endDate<p.startDate?"End date cannot be before start date":"":"End date is required":""),te=T(()=>_.lane?p.lane_id?"":"Lane is required":""),k=T(()=>_.description&&!p.description.trim()?"Description is required":"");function B(){var f;if(_.title=!0,_.lane=!0,_.description=!0,_.startDate=!0,_.endDate=!0,!G.value||r.value)return;const m={sheet_list_id:$.listId,workspace_id:h.value,sheet_id:L.value,workspace_lane_id:p.lane_id,variables:{...p.variables,[`${(f=Le.value)==null?void 0:f.slug}`]:$.listId,"card-title":p.title.trim(),"card-description":p.description.trim(),"start-date":p.startDate,"end-date":p.endDate},createdAt:new Date().toISOString()};b(m)}return N(()=>p.title,m=>{m!=null&&m.trim()&&_.title&&(_.title=!1)}),N(()=>p.lane_id,m=>{m&&_.lane&&(_.lane=!1)}),N(()=>p.startDate,m=>{m&&_.startDate&&(_.startDate=!1)}),N(()=>p.endDate,m=>{m&&_.endDate&&(_.endDate=!1)}),N(()=>p.description,m=>{m!=null&&m.trim()&&_.description&&(_.description=!1)}),(m,f)=>(c(),Y(Je,{modelValue:e.value,"onUpdate:modelValue":f[4]||(f[4]=g=>e.value=g),modalClass:"!py-0",size:"lg"},{default:Z(()=>[s("div",os,[f[5]||(f[5]=s("h2",{class:"text-xl font-semibold"},"Create Backlog Ticket",-1)),s("p",is,H(t.value),1),s("div",ds,[(c(),x(be,null,we(3,g=>s("div",{key:g,class:"flex items-center flex-1"},[s("div",us,[s("div",{class:W(["h-1 flex-1 rounded-full transition-colors",l.value>=g?"bg-primary":"bg-border"])},null,2)])])),64))])]),s("div",cs,[l.value===1?(c(),x("div",ps,[f[7]||(f[7]=s("h3",{class:"text-lg font-medium mb-4"},"Select Module",-1)),v(A)?(c(),x("div",ms,f[6]||(f[6]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},null,-1)]))):!U.value||U.value.length===0?(c(),x("div",fs," No modules available ")):(c(),x("div",vs,[(c(!0),x(be,null,we(U.value,g=>{var re,ne,R,fe,ae;return c(),x("button",{key:g._id,onClick:Ee=>Se(g),class:W(["p-4 border rounded-lg hover:border-primary transition-all text-left group",C.value===g._id?"border-primary bg-primary/5":"border-border"])},[s("div",bs,[s("div",xs,[s("i",{class:W([`${(ne=(re=g==null?void 0:g.variables)==null?void 0:re["module-icon"])==null?void 0:ne.prefix} ${(fe=(R=g==null?void 0:g.variables)==null?void 0:R["module-icon"])==null?void 0:fe.iconName}`,"text-lg"])},null,2)]),s("div",null,[s("p",ys,H(((ae=g.variables)==null?void 0:ae["module-title"])||"Untitled"),1)])])],10,gs)}),128))]))])):l.value===2?(c(),x("div",hs,[f[9]||(f[9]=s("h3",{class:"text-lg font-medium mb-4"},"Select Sheet",-1)),v(M)?(c(),x("div",_s,f[8]||(f[8]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},null,-1)]))):!K.value||K.value.length===0?(c(),x("div",ks," No sheets available for this module ")):(c(),x("div",Ss,[(c(!0),x(be,null,we(K.value,g=>{var re,ne;return c(),x("button",{key:g._id,onClick:R=>F(g),class:W(["p-4 border rounded-lg hover:border-primary transition-all text-left group",L.value===g._id?"border-primary bg-primary/5":"border-border"])},[s("div",ws,[s("div",Ds,[s("i",{class:W(`${(re=g==null?void 0:g.variables["sheet-icon"])==null?void 0:re.prefix} ${(ne=g==null?void 0:g.variables["sheet-icon"])==null?void 0:ne.iconName} text-lg`)},null,2)]),s("div",null,[s("p",Vs,H((g==null?void 0:g.variables["sheet-title"])||"Untitled Sheet"),1)])])],10,Cs)}),128))]))])):l.value===3?(c(),x("div",$s,[f[12]||(f[12]=s("h3",{class:"text-lg font-medium mb-4"},"Ticket Details",-1)),s("div",Ts,[O(Ze,{modelValue:p.title,"onUpdate:modelValue":f[0]||(f[0]=g=>p.title=g),label:"Ticket Title",placeholder:"e.g., Implement real-time notifications",error:!!J.value,message:J.value,onBlur:f[1]||(f[1]=g=>_.title=!0)},null,8,["modelValue","error","message"]),y.value.length>0?(c(),x("div",Ls,[O(Qe,{size:"md",label:"Lane",options:y.value,placeholder:"Select lane",allowCustom:!1,"model-value":p.lane_id,"onUpdate:modelValue":Te,error:!!te.value,message:te.value},null,8,["options","model-value","error","message"])])):ee("",!0),(c(!0),x(be,null,we(a.value,g=>Ve((c(),Y(Qe,{size:"md",key:E(g),modelValue:p.variables[g.slug],"onUpdate:modelValue":re=>p.variables[g.slug]=re,options:i(g.data),label:g.title,placeholder:"Select value",allowCustom:!0},null,8,["modelValue","onUpdate:modelValue","options","label"])),[[Ke,(g==null?void 0:g._id)!=m.selectedVariable]])),128)),s("div",Es,[f[10]||(f[10]=s("label",{class:"text-sm"},"Start date",-1)),s("div",{class:W(["border flex items-center border-border h-10 px-2 bg-bg-input rounded-lg",ie.value?"border-red-500":""])},[O(je,{placeholder:"Set start date",class:"w-full","model-value":p.startDate,"emit-as":"ymd","onUpdate:modelValue":ce},null,8,["model-value"])],2),ie.value?(c(),x("p",Bs,H(ie.value),1)):ee("",!0)]),s("div",Ms,[f[11]||(f[11]=s("label",{class:"text-sm"},"End date",-1)),s("div",{class:W(["border flex items-center border-border h-10 px-2 bg-bg-input rounded-lg",me.value?"border-red-500":""])},[O(je,{placeholder:"Set end date",class:"w-full","model-value":p.endDate,"emit-as":"ymd","onUpdate:modelValue":$e},null,8,["model-value"])],2),me.value?(c(),x("p",Ps,H(me.value),1)):ee("",!0)])]),s("div",Os,[O(Ut,{label:"Description",placeholder:"What needs to be done, acceptance criteria, links…",modelValue:p.description,"onUpdate:modelValue":f[2]||(f[2]=g=>p.description=g),onBlur:f[3]||(f[3]=g=>_.description=!0)},null,8,["modelValue"]),k.value?(c(),x("p",Us,H(k.value),1)):ee("",!0)])])):ee("",!0)]),s("div",As,[l.value>1?(c(),Y(ue,{key:0,variant:"secondary",onClick:le},{default:Z(()=>f[13]||(f[13]=[se("Back")])),_:1,__:[13]})):(c(),x("div",Is)),s("div",qs,[O(ue,{variant:"secondary",onClick:pe},{default:Z(()=>f[14]||(f[14]=[se("Cancel")])),_:1,__:[14]}),l.value===3?(c(),Y(ue,{key:0,variant:"primary",disabled:!G.value||v(r),onClick:B},{default:Z(()=>[se(H(v(r)?"Adding…":"Add Ticket"),1)]),_:1},8,["disabled"])):ee("",!0)])])]),_:1},8,["modelValue"]))}}),Fs={class:"flex gap-2 flex-auto overflow-y-auto"},zs={class:"flex-auto bg-gradient-to-b from-bg-card/95 to-bg-card/90 backdrop-blur shadow-[0_10px_40px_-10px_rgba(0,0,0,.5)] flex-grow h-full bg-bg-card border border-border overflow-x-auto flex"},Hs={class:"flex overflow-x-auto gap-3 p-4"},js={key:0,class:"mx-auto text-text-secondary/80 m-2 w-[90%] h-full justify-center flex items-center border border-dashed border-border"},Rs=ke({__name:"ActiveSprint",props:{sptint_id:{},searchQuery:{}},setup(d){const o=d,S=Fe(()=>ze(()=>import("./CreateTaskModal-tosIWHuT.js"),__vite__mapDeps([0,1,2,3]))),$=Fe(()=>ze(()=>import("./ConfirmDeleteModal-DVfBS5UY.js"),__vite__mapDeps([4,5,2,3]))),P=Fe(()=>ze(()=>import("./SidePanel-CZOjl6-P.js"),__vite__mapDeps([6,2,3,7]))),h=Fe(()=>ze(()=>import("./KanbanBoard-BhA1za9q.js"),__vite__mapDeps([8,9,2,3,10,5,11]))),l=Ft(),{workspaceId:C,moduleId:L}=gt(),{data:V}=bt({workspace_id:C,workspace_module_id:L}),A=T(()=>{var k;return V.value?(k=V.value[0])==null?void 0:k._id:""}),U=w(A),{data:D}=xt(C.value,L.value,U),M=Xe(),{mutate:q,isPending:K}=At({onSuccess:()=>{M.invalidateQueries({queryKey:["sheet-list"]}),Te.value="",F.value=!1,$e.value=!1,F.value=!1}}),j=k=>{q({workspace_id:C.value,module_id:L.value,variable_id:b.value,value:k})},z=T(()=>{var k;return D.value?(k=D.value[0])==null?void 0:k._id:""}),b=w(z),r=It(),e=T(()=>o.sptint_id),{data:t,isPending:a}=sa(e),i=w(!1),y=w(),E=k=>{y.value=k},p=qt(),_=Nt();function G(k){k.type=="column"?p.mutate({payload:{workspace_id:C.value,workspace_module_id:L.value,variable_id:b.value,moved_value:k.meta.id,new_index:k.meta.newIndex}}):_.mutate({payload:{workspace_id:C.value,card_id:k.meta.moved._id,group_value:k.meta.fromColumnId,group_variable_id:b.value,new_index:k.meta.newIndex,sheet_id:U.value}})}const ce=k=>{};N(V,k=>{var B;(k==null?void 0:k.length)>0&&(U.value=(B=k[0])==null?void 0:B._id)});const $e=w(!1),Te=w(""),Se=k=>{q({workspace_id:l.params.id,module_id:l.params.module_id,new_value:k.title,value:k.oldTitle,variable_id:b.value})},F=w(!1),le=w(),pe=()=>{q({value:le.value.title,workspace_id:C.value,module_id:L.value,newValue:le.value.title,variable_id:b.value,is_trash:!0})},de=k=>{F.value=!0,le.value=k},Le=k=>{i.value=!0,le.value=k},J=T(()=>o.searchQuery),ie=w("");N(J,Yt.debounce(k=>{ie.value=k},200));const me=T(()=>{const k=t.value.flatMap(B=>B.cards.map(m=>({...m,columnId:B.title})));return new Xt(k,{keys:["card-title","card-description","card-key"],threshold:.3})}),te=T(()=>{if(!J.value)return t.value;const k=me.value.search(J.value).map(B=>B.item);return t.value.map(B=>({...B,cards:k.filter(m=>m.columnId===B.title)}))});return(k,B)=>{var m,f,g,re,ne;return c(),x("div",Fs,[s("div",zs,[Ve(O(yt,null,null,512),[[Ke,v(a)]]),Ve(s("div",Hs,[O(v(h),{onOnPlus:Le,"onDelete:column":B[0]||(B[0]=R=>de(R)),"onUpdate:column":B[1]||(B[1]=R=>Se(R)),onReorder:G,onAddColumn:j,"onSelect:ticket":E,board:te.value,onOnBoardUpdate:ce,variable_id:b.value,sheet_id:U.value},{"column-footer":Z(R=>{var fe,ae,Ee,Ce,Ne;return[(ae=(fe=v(r))==null?void 0:fe.transitions)!=null&&ae.all_allowed&&!((Ne=(Ce=(Ee=v(r))==null?void 0:Ee.transitions)==null?void 0:Ce.all_allowed)!=null&&Ne.includes(R.column.title))&&v(r).transitions.currentColumn!=R.column.title?(c(),x("div",js," Disbale ( you can't drop here )")):ee("",!0)]}),ticket:Z(({ticket:R})=>[O(Jt,{selectedVar:b.value,onSelect:()=>{E(R)},ticket:R},null,8,["selectedVar","onSelect","ticket"])]),_:1},8,["board","variable_id","sheet_id"])],512),[[Ke,!v(a)]])]),O(v($),{onClick:B[2]||(B[2]=xe(()=>{},["stop"])),modelValue:F.value,"onUpdate:modelValue":B[3]||(B[3]=R=>F.value=R),title:"Delete List",itemLabel:"list",itemName:(m=le.value)==null?void 0:m.title,requireMatchText:(f=le.value)==null?void 0:f.title,confirmText:"Delete workspace",cancelText:"Cancel",size:"md",loading:v(K),onConfirm:pe,onCancel:B[4]||(B[4]=()=>{F.value=!1})},null,8,["modelValue","itemName","requireMatchText","loading"]),i.value?(c(),Y(v(S),{selectedVariable:b.value,listId:(g=le.value)==null?void 0:g.title,sheet_id:U.value,key:"createTaskModalKey",modelValue:i.value,"onUpdate:modelValue":B[5]||(B[5]=R=>i.value=R),onSubmit:B[6]||(B[6]=()=>{})},null,8,["selectedVariable","listId","sheet_id","modelValue"])):ee("",!0),(re=y.value)!=null&&re._id?(c(),Y(v(P),{key:1,details:y.value,onClose:B[7]||(B[7]=()=>{E({variables:{}})}),showPanel:!!((ne=y.value)!=null&&ne._id)},null,8,["details","showPanel"])):ee("",!0)])}}}),Qs={class:"flex-auto flex-grow h-full min-h-0 bg-bg-card rounded-[6px] border border-border overflow-x-auto flex-col flex"},Ks={class:"header px-4 py-3 border-b border-border flex items-center justify-between gap-1 box-border"},Ws={class:"flex gap-3 items-center"},Gs={key:2,class:"p-4 w-full min-w-0 box-border h-full min-h-0"},Zs={class:"flex items-center justify-between"},Js={class:"text-sm font-semibold flex gap-2 items-center"},Xs={class:"flex items-center gap-2"},Ys={class:"h-8 w-22 flex items-center justify-center gap-2 rounded-md border cursor-pointer aspect-square text-sm border-border hover:bg-bg-body"},el=["src"],tl={key:0,class:"w-full h-full min-h-[250px] flex justify-center items-center"},al={class:"flex items-center justify-between"},sl={class:"text-sm font-semibold flex gap-2 items-center mt-1"},ll={key:0,class:"w-full h-full min-h-[250px] flex justify-center items-center"},He=400,rl=ke({__name:"Plan",setup(d){const{theme:o}=Ye(),S=w(!1),$=w(""),P=w(!1),h=w(!1),{canCreateCard:l}=mt(),C=w(null),L=w(!1);Gt(C,()=>{L.value=!1});const V=()=>{S.value=!1},{workspaceId:A}=ft(),U=w(!1),{moveSelectedToSprint:D,moveSelectedToBacklog:M,deleteSelected:q,saveSprintMeta:K,toggleStartSprint:j}=ca(),{data:z}=We(A),{mutate:b,isPending:r}=ia({onSuccess:()=>{Ce.invalidateQueries({queryKey:["sprint-list"]}),t.value=!1}}),e=w(null),t=w(!1),a=()=>{var u;b((u=e.value)==null?void 0:u._id)},{mutate:i,isPending:y}=dt({onSuccess:u=>{K({name:u.title}),console.log(u,"this is testing data"),E({id:F.value,payload:{title:u.title,start_date:u.start_date,end_date:u.end_date,goal:u.goal,duration:Number(u.duration_days)}}),de.value=!1}}),{mutate:E,isPending:p}=oa({onSuccess:()=>{pe()}}),_=u=>{console.log("helo",e.value,u),i({id:F.value,payload:{title:u.title,duration:u.duration,start_date:u.start,end_date:u.end,goal:u.goal}})},{data:G,refetch:ce}=ta(A.value),{refetch:$e,isPending:Te}=We(A),Se=T(()=>{var u,n;return(n=(u=G==null?void 0:G.value)==null?void 0:u.sprints[0])==null?void 0:n._id}),F=w(Se.value);N(()=>Se.value,u=>{F.value=u}),N(()=>F.value,u=>{var n;e.value=((n=G.value)==null?void 0:n.sprints.find(X=>X._id===u))||null});const{data:le,refetch:pe}=ra(F),de=w(!1),Le=()=>{console.log(te.value,"this is sprint"),de.value=!0},{data:J,isPending:ie,refetch:me}=aa(F);N(()=>ie.value,u=>{console.log(u,ie.value,">>>> laoding state changes")}),N(()=>F.value,()=>{pe()});const te=T(()=>{var X,ve;const u=(X=J==null?void 0:J.value)==null?void 0:X.backlog_items;if(!u)return null;const n=(((ve=J==null?void 0:J.value)==null?void 0:ve.backlog_items)||[]).map(Q=>{var Pe,Oe,Ue,Ae,Ie;const ge=((Pe=Q==null?void 0:Q.card)==null?void 0:Pe.variables)||{},ye=((Oe=Q==null?void 0:Q.card)==null?void 0:Oe._id)||Q.card_id;return{id:ye,key:ge["card-code"]||(ye==null?void 0:ye.slice(-6))||"PRJ-?",summary:ge["card-title"]||"(untitled)",type:"Story",status:k(String(ge["card-status"]||"").trim()),assignee:((Ae=(Ue=Q==null?void 0:Q.card)==null?void 0:Ue.assigned_to)==null?void 0:Ae.name)||"Unassigned",storyPoints:Number(Q.story_points||0),priority:B(String(ge.priority||"").trim()),createdAt:((Ie=Q==null?void 0:Q.card)==null?void 0:Ie.created_at)||new Date().toISOString(),description:ge["card-description"]||""}});return{id:u._id,name:u.title||"Sprint 1",title:u.title,goal:"",start:"",end:"",started:!1,tickets:n}});function k(u){const n=u.toLowerCase();return n.includes("progress")?"In Progress":n.includes("done")||n.includes("complete")?"Done":"Todo"}function B(u){const n=u.toLowerCase();return n==="highest"||n==="blocker"||n==="critical"?"Highest":n==="high"||n==="major"?"High":n==="medium"||n==="normal"?"Medium":"Low"}const{mutate:m}=da({onSuccess:()=>{De.success("Card removed from sprint successfully"),f()},onError:u=>{De.error("Failed to remove card from sprint"),console.error("Failed to remove card from sprint:",u)}});function f(){me(),ce(),$e(),pe()}function g(u,n){const X=Array.isArray(u)?u:[u],ve=n||F.value;!ve||!X.length||X.forEach(Q=>{m({sprintId:ve,cardId:Q})})}const re=w(!1),ne=w(null);function R(){U.value=!0,ne.value=null}function fe(u){ne.value=u,S.value=!0,re.value=!0}const ae=w(!1);function Ee(){ae.value=!0}const Ce=Xe(),{mutate:Ne,isPending:kt}=na({onSuccess:u=>{K({name:u.title}),Ce.invalidateQueries({queryKey:["sprint-list"]}),ae.value=!1}}),{mutate:St,isPending:Ct}=dt({onSuccess:u=>{K({name:u.title}),Ce.invalidateQueries({queryKey:["sprint-list"]}),ae.value=!1}});function wt(u){var n;e.value?St({id:(n=e.value)==null?void 0:n._id,payload:{workspace_id:A.value,title:u.name,description:u.description}}):Ne({payload:{workspace_id:A.value,title:u.name,description:u.description}})}function Dt(){e.value=null,console.log(">>> felo"),ae.value=!0}function et(u){e.value=u,ae.value=!0}function tt(u){e.value=u,t.value=!0}const{mutate:Vt,isPending:$t}=la(F,{onSuccess:()=>{pe()}}),Tt=()=>{Vt({})},Be=w(null),Me=w(0);let Re=!1;zt(()=>{if(!Be.value)return;const u=Be.value.offsetWidth;Me.value=u/3});function Lt(){Re=!0,document.addEventListener("mousemove",at),document.addEventListener("mouseup",st)}function at(u){if(!Re||!Be.value)return;const n=Be.value.getBoundingClientRect(),X=u.clientX-n.left;X<He?Me.value=He:X>n.width-He?Me.value=n.width-He:Me.value=X}function st(){Re=!1,document.removeEventListener("mousemove",at),document.removeEventListener("mouseup",st)}return(u,n)=>{var X,ve,Q,ge,ye,Pe,Oe,Ue,Ae,Ie,lt,rt,nt,ot;return c(),x(be,null,[s("div",Qs,[s("div",Ks,[O(Kt,{modelValue:F.value,"onUpdate:modelValue":n[1]||(n[1]=I=>F.value=I),options:(X=v(G))==null?void 0:X.sprints,variant:"secondary",onEditOption:et,onDeleteOption:tt},{more:Z(()=>[s("div",{onClick:n[0]||(n[0]=I=>Dt()),class:"capitalize border-t border-border px-4 py-2 hover:bg-bg-dropdown-menu-hover cursor-pointer flex items-center gap-1 overflow-hidden overflow-ellipsis text-nowrap"},n[18]||(n[18]=[s("i",{class:"fa-solid fa-plus"},null,-1),se(" Add new ")]))]),_:1},8,["modelValue","options"]),s("div",Ws,[O(Wt,{placeholder:"Search in sprint",onOnChange:n[2]||(n[2]=I=>{$.value=I})}),((ve=v(le))==null?void 0:ve.status)=="active"?(c(),Y(ue,{key:0,size:"sm",onClick:Tt,variant:(v(o)==="dark","primary"),class:"border-border-input border"},{default:Z(()=>[se(H(v($t)?"Ending...":"End"),1)]),_:1},8,["variant"])):(c(),Y(ue,{key:1,size:"sm",variant:(v(o)==="dark","primary"),class:"border-border-input border",onClick:Le,disabled:!te.value||te.value.tickets.length==0},{default:Z(()=>n[19]||(n[19]=[se("Start Sprint")])),_:1,__:[19]},8,["variant","disabled"])),s("div",{class:"relative inline-block",ref_key:"elipseWrapper",ref:C},[s("div",null,[s("button",{onClick:n[3]||(n[3]=xe(I=>L.value=!L.value,["stop"])),class:"flex items-center cursor-pointer justify-center border border-border-input rounded-[8px] w-[36px] h-[36px] text-primary hover:bg-bg-body"},n[20]||(n[20]=[s("i",{class:"fa-solid fa-ellipsis-vertical text-md"},null,-1)])),O(Ht,{name:"fade"},{default:Z(()=>[L.value?(c(),x("ul",{key:0,class:"absolute right-0 mt-2 w-44 border border-border-input rounded-[8px] bg-bg-dropdown shadow-xl py-3 z-50",onClick:n[6]||(n[6]=xe(()=>{},["stop"]))},[s("li",{class:"px-4 py-2 text-[14px] font-manrope font-medium text-text-secondary hover:bg-bg-body cursor-pointer",onClick:n[4]||(n[4]=I=>et(e.value))}," Edit Sprint "),s("li",{class:"px-4 py-2 text-[14px] font-manrope font-medium text-red-600 hover:bg-bg-body cursor-pointer",onClick:n[5]||(n[5]=I=>tt(e.value))}," Delete Sprint ")])):ee("",!0)]),_:1})])],512),n[21]||(n[21]=s("button",{class:"flex items-center font-normal justify-center border border-border-input rounded-[8px] w-[36px] h-[36px] text-primary hover:bg-bg-body"},[s("i",{class:"fa-sharp fa-thin fa-arrows-up-down-left-right"})],-1))])]),((Q=v(le))==null?void 0:Q.status)=="active"?(c(),Y(Rs,{key:0,sptint_id:F.value,searchQuery:$.value},null,8,["sptint_id","searchQuery"])):v(p)?(c(),Y(yt,{key:1})):(c(),x("div",Gs,[s("div",{class:"flex gap-2 h-full max-h-screen min-h-0 box-border overflow-x-auto group",ref_key:"containerRef",ref:Be},[s("section",{class:W(["space-y-4 p-4 rounded-md relative group overflow-hidden box-border h-full min-h-0 min-w-[400px]",v(o)==="dark"?"bg-bg-surface":"bg-bg-surface/30"]),style:jt({width:Me.value+"px"})},[s("div",Zs,[s("h2",Js,[Ve(s("input",{type:"checkbox",class:"custom-checkbox bg-bg-body border border-border-input flex-shrink-0","onUpdate:modelValue":n[7]||(n[7]=I=>P.value=I)},null,512),[[it,P.value]]),se(" Backlog ("+H((ye=(ge=v(z))==null?void 0:ge.cards)==null?void 0:ye.length)+" "+H(((Oe=(Pe=v(z))==null?void 0:Pe.cards)==null?void 0:Oe.length)>1?"Tasks":"Task")+") ",1)]),s("div",Xs,[s("button",Ys,[s("img",{src:v(Wa),alt:"icon",class:"w-[16px]"},null,8,el),n[22]||(n[22]=se(" Filters "))]),v(l)?(c(),x("button",{key:0,class:"w-8 h-8 rounded-md border cursor-pointer aspect-square text-sm border-border hover:bg-bg-body",onClick:R},n[23]||(n[23]=[s("i",{class:"text-text-primary fa-regular fa-plus"},null,-1)]))):ee("",!0)])]),v(Te)?(c(),x("div",tl,n[24]||(n[24]=[s("div",{role:"status","aria-label":"Loading",class:"h-10 w-10 rounded-full border-4 border-neutral-700 border-t-transparent animate-spin"},null,-1)]))):(c(),Y(Va,{key:1,checkedAll:P.value,searchQuery:$.value,onMoveSelectedToSprint:v(D),onDeleteSelectedBacklog:n[8]||(n[8]=I=>v(q)("backlog")),onOpenTicket:fe,onTicketMovedToBacklog:g,onOpenCreateTicket:R},null,8,["checkedAll","searchQuery","onMoveSelectedToSprint"]))],6),s("div",{class:"h-full w-[3px] relative z-10 opacity-0 group-hover:opacity-100 bg-red hover:bg-accent cursor-col-resize transition",onMousedown:Lt},null,32),s("section",{class:W(["space-y-6 p-4 rounded-md relative group ovrflow-hidden flex-1 h-full min-h-0 box-border min-w-[400px]",v(o)==="dark"?"bg-bg-surface":"bg-bg-surface/30"])},[s("div",al,[s("h2",sl,[Ve(s("input",{type:"checkbox",class:"custom-checkbox bg-bg-body border border-border-input flex-shrink-0","onUpdate:modelValue":n[9]||(n[9]=I=>h.value=I)},null,512),[[it,h.value]]),se(" Sprint ("+H((Ae=(Ue=te.value)==null?void 0:Ue.tickets)==null?void 0:Ae.length)+" "+H(((lt=(Ie=te.value)==null?void 0:Ie.tickets)==null?void 0:lt.length)>1?"Tasks":"Task")+") ",1)])]),v(ie)?(c(),x("div",ll,n[25]||(n[25]=[s("div",{role:"status","aria-label":"Loading",class:"h-10 w-10 rounded-full border-4 border-neutral-700 border-t-transparent animate-spin"},null,-1)]))):(c(),x(be,{key:1},[te.value?(c(),Y(Ha,{key:0,searchQuery:$.value,sprintId:F.value,checkedSprintAll:h.value,sprint:te.value,onOpenTicket:fe,onEditSprint:Ee,onToggleStart:v(j),onMoveSelectedToBacklog:v(M),onDeleteSelectedSprint:n[10]||(n[10]=I=>v(q)("sprint",I)),onRefresh:f},null,8,["searchQuery","sprintId","checkedSprintAll","sprint","onToggleStart","onMoveSelectedToBacklog"])):ee("",!0)],64))],2)],512)]))]),O(Zt,{onClick:n[11]||(n[11]=xe(()=>{},["stop"])),modelValue:t.value,"onUpdate:modelValue":n[12]||(n[12]=I=>t.value=I),title:"Delete Sprint",itemLabel:"Sprint",itemName:(rt=e.value)==null?void 0:rt.title,requireMatchText:(nt=e.value)==null?void 0:nt.title,confirmText:"Delete Sprint",cancelText:"Cancel",size:"md",loading:v(r),onConfirm:a,onCancel:n[13]||(n[13]=()=>{e.value=null,t.value=!1})},null,8,["modelValue","itemName","requireMatchText","loading"]),O(Ka,{modelValue:ae.value,"onUpdate:modelValue":n[14]||(n[14]=I=>ae.value=I),onSave:wt,sprint:e.value,creatingSprint:e.value?v(Ct):v(kt)},null,8,["modelValue","sprint","creatingSprint"]),O(ns,{sprint:e.value,modelValue:de.value,"onUpdate:modelValue":n[15]||(n[15]=I=>de.value=I),onSave:_,creatingSprint:v(p)||v(y)},null,8,["sprint","modelValue","creatingSprint"]),O(Rt,{modelValue:S.value,"onUpdate:modelValue":n[16]||(n[16]=I=>S.value=I),cardId:(ot=ne.value)==null?void 0:ot.id,onClose:V},null,8,["modelValue","cardId"]),O(Ns,{modelValue:U.value,"onUpdate:modelValue":n[17]||(n[17]=I=>U.value=I)},null,8,["modelValue"])],64)}}}),gl=Ge(rl,[["__scopeId","data-v-091088f8"]]);export{gl as default};
