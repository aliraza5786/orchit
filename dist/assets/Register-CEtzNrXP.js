import{d as C,r as o,c as f,u as E,m as $,b as F,w as g,o as b,e as a,g as S,h as m,i as h,j as z,_ as w,f as i,t as V,n as _,B as q,k as A,l as I}from"./index-BlnrQQsw.js";import{_ as M}from"./AuthLayout.vue_vue_type_script_setup_true_lang-BasKKyq9.js";import{r as R}from"./auth-CWhZyfzc.js";import"./favicon-BAFXWHLW.js";const U={class:"max-w-[500px] md:mx-auto w-full"},j={key:0,class:"text-red-500 text-sm text-center mt-2"},T={class:"text-sm font-medium text-text-secondary text-center mt-8"},J=C({__name:"Register",setup(D){const N=I(),u=o(""),s=o(""),n=o(""),r=o(""),t={fName:o(!1),email:o(!1),password:o(!1)},p=f(()=>t.fName.value?u.value.trim()?u.value.trim().length<2?"Full name must be at least 2 characters":"":"Full name is required":""),c=f(()=>t.email.value?s.value.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.value)?"":"Invalid email format":"Email is required":""),x=f(()=>t.password.value?n.value?n.value.length<6?"Password must be at least 6 characters":"":"Password is required":""),B=f(()=>!p.value&&!c.value&&!x.value),{mutate:k,isPending:y}=E({mutationFn:R,onSuccess:()=>{N.push(`/otp-verification/${s.value}`)},onError:d=>{var e,v;r.value=((v=(e=d==null?void 0:d.response)==null?void 0:e.data)==null?void 0:v.message)||"Something went wrong"}});function P(){if(r.value="",t.fName.value=!0,t.email.value=!0,t.password.value=!0,!B.value){r.value="Please fill all fields correctly.";return}k({u_full_name:u.value,u_email:s.value,u_password:n.value})}return $([u,s,n],()=>{r.value&&(r.value="")}),(d,e)=>{const v=A("router-link");return b(),F(M,null,{form:g(()=>[a("div",U,[e[9]||(e[9]=a("div",{class:"mb-12 space-y-2 text-center"},[a("h2",{class:"text-[32px] font-medium text-text-primary"},"Welcome to Orchit AI"),a("p",{class:"text-base font-medium text-text-secondary"},"Create your free account")],-1)),a("form",{onSubmit:S(P,["prevent"]),class:"space-y-4 w-full"},[m(w,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=l=>u.value=l),label:"Full Name",placeholder:"Full Name",size:"lg",error:!!p.value,message:p.value,onBlur:e[1]||(e[1]=l=>t.fName.value=!0)},null,8,["modelValue","error","message"]),m(w,{modelValue:s.value,"onUpdate:modelValue":e[2]||(e[2]=l=>s.value=l),label:"Email",placeholder:"john@example.com",size:"lg",error:!!c.value,message:c.value,onBlur:e[3]||(e[3]=l=>t.email.value=!0)},null,8,["modelValue","error","message"]),m(w,{modelValue:n.value,"onUpdate:modelValue":e[4]||(e[4]=l=>n.value=l),label:"Password",placeholder:"Password",size:"lg",type:"password",error:!!x.value,message:x.value,onBlur:e[5]||(e[5]=l=>t.password.value=!0)},null,8,["modelValue","error","message"]),m(q,{disabled:_(y),size:"lg",block:!0,type:"submit"},{default:g(()=>[i(V(_(y)?"Creating Account...":"Continue"),1)]),_:1},8,["disabled"]),r.value?(b(),h("p",j,V(r.value),1)):z("",!0),e[8]||(e[8]=a("p",{class:"text-sm font-medium text-text-secondary text-center mt-6"},[i(" By signing up, I agree to the "),a("span",{class:"text-text-primary font-bold"},"Privacy Policy"),i(" and "),a("span",{class:"text-text-primary font-bold"},"Terms of Service"),i(". ")],-1)),a("p",T,[e[7]||(e[7]=i(" Already have an account? ")),m(v,{to:"/login",class:"text-text-primary font-bold underline"},{default:g(()=>e[6]||(e[6]=[i("Sign in")])),_:1,__:[6]})])],32)])]),_:1})}}});export{J as default};
