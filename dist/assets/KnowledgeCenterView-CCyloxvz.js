import{K as D,c as $,n as s,b8 as E,H as M,i as o,o as r,F as k,x as _,e,d as N,r as b,bb as A,p as Q,h as y,y as i,b as F,w as m,af as V,f as j,t as S,a3 as q,l as G,a9 as J,j as P,g as W,A as X,U as Y}from"./index-BwDegMQR.js";import{u as Z}from"./useTheme-C3jNQL4l.js";import{d as z,l as B}from"./dark-logo-Mcb_sJlF.js";const ee=async()=>{const{data:n}=await E.get("/knowledge/categories/active");return n.data},te=(n={})=>D({queryKey:["knowledge","categories","active"],queryFn:ee,...n}),se=async n=>{if(!n)throw new Error("Slug is required");const{data:l}=await E.get(`/knowledge/slug/${n}`);return l.data},le=(n,l={})=>D({queryKey:["knowledge","slug",n],queryFn:()=>se(s(n)),enabled:$(()=>!!s(n)),...l}),ae={},re={class:"p-4 animate-pulse space-y-6"};function oe(n,l){return r(),o("div",re,[(r(),o(k,null,_(4,p=>e("div",{key:p,class:"space-y-3"},[l[0]||(l[0]=e("div",{class:"h-6 bg-gray-300/60 rounded w-1/2"},null,-1)),(r(),o(k,null,_(3,x=>e("div",{key:x,class:"h-4 bg-gray-300/30 rounded w-2/3"})),64))])),64))])}const R=M(ae,[["render",oe],["__scopeId","data-v-a8be7c43"]]),ne={class:"space-y-4"},de={key:0,class:"text-text-secondary"},ie={key:1,class:"text-red-500"},ce=["innerHTML"],ue=N({__name:"KnowledgeArticle",props:{slug:{}},setup(n){const l=n;console.log(l.slug);const p=$(()=>l.slug),{data:x,isLoading:v,isError:u}=le(p);return(K,L)=>{var g;return r(),o("div",ne,[s(v)?(r(),o("div",de,"Loading article...")):s(u)?(r(),o("div",ie,"Failed to load article.")):(r(),o("div",{key:2,class:"artile_content",innerHTML:(g=s(x))==null?void 0:g.content},null,8,ce))])}}}),pe={class:"flex min-h-screen"},ge={class:"flex items-center justify-between px-4 py-4 border-b border-border-input md:border-0"},xe={class:"text-[14px] font-manrope leading-[24px] font-semibold text-text-secondary flex gap-4 w-full items-center"},fe=["src"],be={class:"px-4 hidden md:block"},ye={class:"relative"},ve={key:1,class:"text-center text-red py-8"},me={key:2,class:"px-2 py-6 space-y-2 w-64 md:w-[100%]"},ke=["onClick"],_e={class:"flex items-center gap-3"},he=["src"],we={class:"py-[18px] hidden md:block border-b-1 border-border-input sticky top-0 z-50 bg-bg-body/90 bg-blur-sm"},Ce={class:"font-manrope text-text-primary text-center font-bold text-[24px] leading-[34px] tracking-[-1px] m-0"},Se={class:"p-[15px] md:p-10 max-w-[1088px] mx-auto"},$e={class:"mb-8"},Ke={key:1,class:"text-center text-red py-8"},Le={key:2},Te={class:"w-full max-w-3xl px-6"},Ae={class:"relative"},Fe=N({__name:"KnowledgeCenterView",setup(n){const{theme:l}=Z(),{data:p,isLoading:x,isError:v}=te(),u=$(()=>!p.value||!Array.isArray(p.value)?[]:[...p.value.map(t=>({title:(t==null?void 0:t.title)||"Untitled",items:Array.isArray(t==null?void 0:t.knowledge)?t.knowledge.map(a=>({label:(a==null?void 0:a.title)||"",slug:(a==null?void 0:a.slug)||"",description:(a==null?void 0:a.description)||""})):[]}))]),K=Q(),L=G(),g=b(!1),c=b({label:"",slug:"",description:""});A(()=>{u.value.length&&u.value[0].items.length&&!c.value.slug&&(c.value=u.value[0].items[0])}),A(()=>{const d=K.params.slug;if(d&&u.value.length){const t=u.value.flatMap(a=>a.items).find(a=>a.slug===d);t&&(c.value=t)}});function H(d){c.value=d,g.value=!1,L.push(`/knowledge-center/${d.slug}`)}const h=b(!1),w=b(""),T=b(null);function C(){h.value=!0,J(()=>{var d;return(d=T.value)==null?void 0:d.focus()})}function U(){h.value=!1,w.value=""}return(d,t)=>(r(),o("div",pe,[e("aside",{class:i(["fixed md:static md:flex flex-col w-[100%] md:w-64 bg-bg-primary z-50 transition-transform duration-300",g.value?"translate-x-0":"-translate-x-full md:translate-x-0"])},[e("div",{class:i(["h-screen flex flex-col md:border-r justify-between bg-bg-body z-50 overflow-y-auto bg-bg-primary custom-scrollbar transition-all",s(l)==="dark"?"dark_scroll border-border-input":"light_scroll"])},[e("div",null,[e("div",ge,[e("div",xe,[y(s(V),{to:"/"},{default:m(()=>[e("img",{src:s(l)==="dark"?s(z):s(B),alt:"logo",fetchpriority:"high",width:"100px"},null,8,fe)]),_:1})]),e("button",{onClick:t[0]||(t[0]=a=>g.value=!1),class:"md:hidden text-text-primary"},t[3]||(t[3]=[e("i",{class:"fa-solid fa-xmark font-bold"},null,-1)]))]),e("div",be,[e("div",ye,[t[4]||(t[4]=e("i",{class:"fa-light fa-magnifying-glass absolute top-[11px] left-[10px] text-text-secondary"},null,-1)),e("input",{type:"text",placeholder:"Search...",onClick:C,class:i(["w-full font-manrope text-sm pl-[35px] pr-3 py-2 rounded-lg bg-bg-lavender focus:outline-none focus:ring-1 focus:ring-bg-lavender",s(l)==="dark"?"border border-border-input":"border border-black"])},null,2)])]),s(x)?(r(),F(R,{key:0})):s(v)?(r(),o("div",ve," ⚠️ Failed to load categories ")):(r(),o("nav",me,[(r(!0),o(k,null,_(u.value,(a,I)=>(r(),o("div",{key:I,class:"space-y-1 mb-[24px]"},[e("h3",{class:i(["text-[14px] font-semibold uppercase font-manrope px-2 mb-1 flex justify-between items-center",s(l)==="dark"?"text-text-secondary":"text-black"])},[j(S(a.title)+" ",1),e("i",{class:i(["fa-solid fa-chevron-right text-[8px]",s(l)==="dark"?"text-text-secondary":"text-black"])},null,2)],2),(r(!0),o(k,null,_(a.items,(f,O)=>(r(),o("div",{key:O,onClick:Ve=>H(f),class:i(["cursor-pointer ml-2 border-l px-3 py-2 mb-0 font-bold text-[14px] font-manrope transition-colors",{"text-[#9356c5] ":c.value.slug===f.slug,"text-text-secondary":c.value.slug!==f.slug&&s(l)==="dark","text-black hover:text-black":c.value.slug!==f.slug&&s(l)!=="dark"}])},S(f.label),11,ke))),128))]))),128))]))])],2)],2),e("main",{class:i(["flex-1 mx-auto h-screen bg-bg-body overflow-y-auto bg-bg-primary custom-scrollbar transition-all",s(l)==="dark"?"dark_scroll":"light_scroll"])},[e("header",{class:i(["md:hidden flex items-center justify-between p-4 bg-bg-body sticky top-0 z-40",s(l)==="dark"?"border-b border-border-input":"border-b border-black"])},[e("div",_e,[e("button",{onClick:t[1]||(t[1]=a=>g.value=!0),class:"text-primary hover:text-white"},t[5]||(t[5]=[e("i",{class:"fa-solid fa-bars font-bold text-[18px]"},null,-1)])),t[6]||(t[6]=e("span",{class:"text-xl pb-1"}," |",-1)),t[7]||(t[7]=e("div",{class:"text-[14px] font-manrope leading-[24px] font-semibold text-text-secondary flex items-center gap-2"},[e("i",{class:"fa-regular fa-house text-text-primary"}),j(" Docs ")],-1))]),y(s(V),{to:"/"},{default:m(()=>[e("img",{class:"me-25",src:s(l)==="dark"?s(z):s(B),alt:"logo",fetchpriority:"high",width:"100px"},null,8,he)]),_:1}),e("button",{onClick:C},t[8]||(t[8]=[e("i",{class:"fa-regular fa-magnifying-glass text-text-primary text-[18px]"},null,-1)]))],2),e("header",we,[e("h2",Ce,S(c.value.label),1)]),e("div",Se,[e("div",$e,[s(x)?(r(),F(R,{key:0})):s(v)?(r(),o("div",Ke," ⚠️ Failed to load categories ")):(r(),o("div",Le,[y(ue,{slug:c.value.slug},null,8,["slug"])]))])])],2),y(q,{name:"fade"},{default:m(()=>[h.value?(r(),o("div",{key:0,class:i(["fixed inset-0 z-50 flex items-start pt-15 justify-center",s(l)==="dark"?" bg-black/0 backdrop-blur-[4px]":" bg-[#dfe2e6]/1 backdrop-blur-[6px] "]),onClick:W(U,["self"])},[y(q,{name:"slide-down"},{default:m(()=>[e("div",Te,[e("div",Ae,[t[9]||(t[9]=e("i",{class:"fa-light fa-magnifying-glass absolute top-[14px] lg:top-[17px] left-[10px] text-text-secondary"},null,-1)),X(e("input",{ref_key:"inputRef",ref:T,type:"text","onUpdate:modelValue":t[2]||(t[2]=a=>w.value=a),placeholder:"Search...",onClick:C,class:i(["w-full font-manrope text-sm h-[44px] lg:h-[50px] pl-[35px] pr-3 py-2 rounded-lg bg-bg-lavender focus:outline-none focus:ring-1 focus:ring-bg-lavender",s(l)==="dark"?"border border-border-input":"border border-black"])},null,2),[[Y,w.value]])])])]),_:1})],2)):P("",!0)]),_:1})]))}}),Be=M(Fe,[["__scopeId","data-v-088b2a52"]]);export{Be as default};
