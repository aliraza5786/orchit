import{d as T,c as l,r as V,a as k,w as B,b as s,h as p,i as f,t as o,H as g,e as i,y as _,a4 as q,L as D,f as z,o as n}from"./index-5j6IPDxv.js";import{B as L}from"./BaseModal-OxeRAVmG.js";const N={class:"p-5"},Z={class:"flex items-start gap-3"},$={class:"flex-1 min-w-0"},F={class:"text-base font-semibold text-text-primary"},H={class:"mt-1 text-sm text-muted"},A={key:0,class:"mt-4"},K={class:"text-xs text-muted"},S={class:"font-medium text-body"},j=["placeholder"],E={key:1,class:"mt-4"},U={class:"mt-6 flex justify-end gap-2"},G=["disabled"],I=["disabled"],J={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},Q=T({__name:"ConfirmDeleteModal",props:{modelValue:{type:Boolean},title:{default:"Delete item"},itemLabel:{},itemName:{},message:{},confirmText:{default:"Delete"},cancelText:{default:"Cancel"},requireMatchText:{},loading:{type:Boolean,default:!1},size:{default:"md"},modalClass:{default:""}},emits:["update:modelValue","confirm","cancel"],setup(v,{emit:x}){const a=v,r=x,d=l({get:()=>a.modelValue,set:e=>r("update:modelValue",e)}),u=V(""),y=l(()=>a.message?a.message:`This action cannot be undone. This will permanently delete ${[a.itemLabel,a.itemName].filter(Boolean).join(" ")||"this item"}.`),h=e=>String(e??"").normalize("NFKC").toLowerCase().replace(/[\u200B-\u200D\u2060\u00AD\uFEFF]/g,"").replace(/\s+/g," ").trim(),m=l(()=>{if(!a.requireMatchText)return!0;const e=h(u.value),t=h(a.requireMatchText);return console.log({a:e,b:t,equal:e===t}),e===t}),w=l(()=>`!py-0 bg-card text-body ${a.modalClass}`.trim());function C(){r("cancel"),d.value=!1}function b(){!m.value||a.loading||r("confirm")}function M(){m.value&&b()}return(e,t)=>(n(),k(L,{modelValue:d.value,"onUpdate:modelValue":t[1]||(t[1]=c=>d.value=c),size:e.size,modalClass:w.value},{default:B(()=>[s("div",N,[s("div",Z,[t[4]||(t[4]=s("div",{class:"h-10 w-10 rounded-full bg-red-100 text-red-600 grid place-items-center dark:bg-red-500/15"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor"},[s("path",{d:"M9 3h6a1 1 0 0 1 1 1v1h4a1 1 0 1 1 0 2h-1.077l-1.27 12.03A3 3 0 0 1 14.67 22H9.33a3 3 0 0 1-2.982-2.97L5.077 7H4a1 1 0 1 1 0-2h4V4a1 1 0 0 1 1-1Zm2 0v1h2V3h-2ZM7.08 7l1.2 11.37A1 1 0 0 0 9.33 20h5.34a1 1 0 0 0 1.05-.88L16.92 7H7.08ZM10 9a1 1 0 0 1 1 1v7a1 1 0 1 1-2 0v-7a1 1 0 0 1 1-1Zm4 0a1 1 0 0 1 1 1v7a1 1 0 1 1-2 0v-7a1 1 0 0 1 1-1Z"})])],-1)),s("div",$,[s("h3",F,o(e.title),1),s("p",H,[g(e.$slots,"message",{},()=>[i(o(y.value),1)])]),e.requireMatchText?(n(),p("div",A,[s("label",K,[t[2]||(t[2]=i(" Type ")),s("span",S,o(e.requireMatchText),1),t[3]||(t[3]=i(" to confirm "))]),_(s("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>u.value=c),class:"mt-1 w-full border rounded-lg px-3 py-2 text-sm border-ui bg-card text-body outline-none",placeholder:e.requireMatchText,onKeyup:D(M,["enter"])},null,40,j),[[q,u.value]])])):f("",!0),e.$slots.extra?(n(),p("div",E,[g(e.$slots,"extra")])):f("",!0)])]),s("div",U,[s("button",{type:"button",class:"px-3 py-2 text-sm rounded-md border border-ui bg-card text-body hover:bg-surface-2 disabled:opacity-50",disabled:e.loading,onClick:z(C,["stop"])},o(e.cancelText),9,G),s("button",{type:"button",class:"px-3 py-2 text-sm rounded-md text-white bg-red-600 hover:bg-red-700 disabled:opacity-50 flex items-center gap-2",disabled:!m.value||e.loading,onClick:b},[e.loading?(n(),p("svg",J,t[5]||(t[5]=[s("circle",{cx:"12",cy:"12",r:"10","stroke-width":"4",class:"opacity-25"},null,-1),s("path",{d:"M4 12a8 8 0 0 1 8-8","stroke-width":"4",class:"opacity-75"},null,-1)]))):f("",!0),i(" "+o(e.confirmText),1)],8,I)])])]),_:3},8,["modelValue","size","modalClass"]))}});export{Q as _};
