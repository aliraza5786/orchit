import{d as F,u as M,a as N,r as g,c as a,b as z,e as D,w as i,f as T,g as q,o as b,h as u,s as d,i as s,j as H,k as l,l as R,m as U,_ as k,B as j,t as E}from"./index-DPI-BQvI.js";import{_ as O}from"./AuthLayout.vue_vue_type_script_setup_true_lang-BfvLMKLn.js";import{l as W}from"./auth-Du-W0IJB.js";import"./favicon-BAFXWHLW.js";import"./Header-BnasieKt.js";import"./useTheme-clccTsdR.js";import"./dark-logo-Mcb_sJlF.js";const G={class:"max-w-[500px] md:mx-auto w-full text-text-primary bg-bg-body"},J={key:0,class:"text-red-500 text-sm text-center mt-2"},K={class:"text-center mt-4"},re=F({name:"LoginPage",__name:"Login",setup(Q){const S=M(),V=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,B=N(),m=g(""),p=g(""),r=g(""),n={email:!1,password:!1},f=a(()=>n.email?m.value.trim()?V.test(m.value)?"":"Invalid email":"Email is required":""),P=a(()=>!!f.value),v=a(()=>n.password?p.value?p.value.length<6?"Password must be at least 6 characters":"":"Password is required":""),I=a(()=>!!v.value),_=a(()=>!f.value&&!v.value),c=T(),{mutateAsync:L,isPending:y}=z({mutationFn:W}),C=a(()=>y.value),$=a(()=>y.value?"Signing In...":"Continue");function w(){r.value&&(r.value="")}async function A(){var x,e,o;if(r.value="",n.email=!0,n.password=!0,!_.value){r.value="Please fill all fields correctly.";return}try{const t=await L({u_email:m.value,u_password:p.value});localStorage.setItem("token",(x=t==null?void 0:t.data)==null?void 0:x.token),await B.bootstrap(),S.pricing?c.push("/dashboard?stripePayment=true"):c.push("/dashboard")}catch(t){r.value=((o=(e=t==null?void 0:t.response)==null?void 0:e.data)==null?void 0:o.message)||"Login failed. Please try again."}}return(x,e)=>{const o=q("router-link");return b(),D(O,null,{form:i(()=>[u("div",G,[e[0]||(d(-1,!0),(e[0]=u("h2",{class:"text-[32px] font-medium mb-12 text-center text-text-primary"},[e[7]||(e[7]=s(" Sign in to Orchit AI "))])).cacheIndex=0,d(1),e[0]),u("form",{onSubmit:H(A,["prevent"]),class:"space-y-4 w-full"},[l(k,{modelValue:m.value,"onUpdate:modelValue":[e[1]||(e[1]=t=>m.value=t),w],label:"Email",placeholder:"Email address",size:"lg",error:P.value,message:f.value,onBlur:e[2]||(e[2]=t=>n.email=!0)},null,8,["modelValue","error","message"]),l(k,{modelValue:p.value,"onUpdate:modelValue":[e[3]||(e[3]=t=>p.value=t),w],label:"Password",placeholder:"Enter your password",size:"lg",type:"password",error:I.value,message:v.value,onBlur:e[4]||(e[4]=t=>n.password=!0)},null,8,["modelValue","error","message"]),l(j,{disabled:C.value,size:"lg",block:!0,type:"submit"},{default:i(()=>[s(E($.value),1)]),_:1},8,["disabled"]),r.value?(b(),R("p",J,E(r.value),1)):U("",!0),u("div",K,[l(o,{to:"/forgot-password",class:"text-sm text-accent hover:underline"},{default:i(()=>e[8]||(e[8]=[s(" Forgot password? ")])),_:1,__:[8]})])],32),e[5]||(d(-1,!0),(e[5]=u("p",{class:"text-sm font-medium text-text-secondary text-center mt-6"},[e[11]||(e[11]=s(" By signing in, you agree to the ")),l(o,{to:"/privacy-policy",class:"text-text-primary font-bold hover:underline"},{default:i(()=>e[9]||(e[9]=[s(" Privacy Policy ")])),_:1,__:[9]}),e[12]||(e[12]=s(" and ")),l(o,{to:"/terms-of-services",class:"text-text-primary font-bold hover:underline"},{default:i(()=>e[10]||(e[10]=[s(" Terms of Service ")])),_:1,__:[10]})])).cacheIndex=5,d(1),e[5]),e[6]||(d(-1,!0),(e[6]=u("p",{class:"text-sm font-medium text-text-secondary text-center mt-8"},[e[14]||(e[14]=s(" Donâ€™t have an account? ")),l(o,{to:"/register",class:"text-text-primary font-bold underline"},{default:i(()=>e[13]||(e[13]=[s("Sign up")])),_:1,__:[13]})])).cacheIndex=6,d(1),e[6])])]),_:1})}}});export{re as default};
