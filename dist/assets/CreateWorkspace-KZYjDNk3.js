const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/StepTwo-MlTL7rON.js","assets/index-BUo6hkzk.js","assets/index-CloD0T9Z.css","assets/whitePlus-Cs_P7rE9.js","assets/BaseTextAreaField.vue_vue_type_script_setup_true_lang-DFfi3ARm.js","assets/StepTwo-DhuC5906.css","assets/StepThree-DJA7fKTt.js","assets/BaseEmailChip.vue_vue_type_script_setup_true_lang-ncQpi4mE.js","assets/StepFour-C_jOVv45.js","assets/Loader-DQ-G35BU.js","assets/Loader-88TN_dqm.css"])))=>i.map(i=>d[i]);
import{d as Q,u as ie,aF as we,aG as ye,c as R,A as he,r as b,x as J,aH as ke,C as se,m as u,o as r,G,f as U,n as v,g as o,i as V,s as I,k as S,F as h,y as N,T as ve,ap as ce,w as O,h as D,E as q,t as A,B as ee,V as H,a as ge,aw as Ce,aI as xe,aJ as be,l as X,ai as _e,J as ne,P as te,al as le,aK as Le,aB as Ve,N as ue,aL as Se,aM as Re,aN as Pe,aO as $e,_ as Ie,M as Te,aP as Y,aQ as Ue,aR as pe,v as Be,ae as oe,H as ae}from"./index-BUo6hkzk.js";import{_ as Ee}from"./AudioRecorder.vue_vue_type_script_setup_true_lang-20sCUe_x.js";import{L as je}from"./Loader-DQ-G35BU.js";const Fe={class:"flex flex-col gap-6 w-full"},Me={class:"relative min-h-[3.5rem] w-full max-w-[800px]"},Oe=["disabled"],Ae={class:"suggestions flex gap-3 max-w-[800px] w-full"},We={key:0,class:"suggestions flex gap-3 max-w-[800px] w-full","aria-busy":"true","aria-live":"polite"},He={key:1,class:"suggestions flex overflow-auto gap-3 max-w-[800px] w-full"},De=["onClick"],ze={class:"text-text-secondary line-clamp-3 text-base font-normal leading-5 hover:text-text-primary transition-colors max-md:static max-md:w-auto max-md:h-auto max-sm:text-sm max-sm:leading-[18px]"},Ne={class:"mt-5"},Ge=Q({__name:"IdealStep",emits:["generate","manual","update:isRecording","update:hasAudio"],setup(K,{emit:j}){const B=ie(),p=he(),{data:P,isPending:k}=we("workspace"),{data:_,isSuccess:T}=ye(),a=R(()=>!!p.params.id),w=b(!1),m=R(()=>!a.value||T.value);J(m,e=>{var s;e&&!w.value&&a.value&&(c.value=((s=_.value)==null?void 0:s.data)??"",W(),w.value=!0)},{immediate:!0});const c=b(""),t=b(!1),i=b(null),{mutate:g,isPending:x}=ke({onSuccess:e=>{B.setWorkspace(e),l("manual")},onError:e=>{H.error("Something went wrong",e)}}),F=[];function E(e){F.forEach(clearTimeout),F.length=0,c.value="",e.split("").forEach((d,f)=>{const $=setTimeout(()=>{c.value+=d},f*25);F.push($)})}function z(e){E(e)}function W(){localStorage.setItem("mannualWorkspace","false"),g({idea:c.value})}se(()=>{localStorage.setItem("mannualWorkspace","false")});function M(){localStorage.setItem("mannualWorkspace","true"),B.setWorkspace(null),localStorage.removeItem("jobId"),l("manual","mannual")}function n(e){!x&&e.description.length>3?E(e.description):c.value=e.description}const l=j;return J(t,e=>l("update:isRecording",e)),J(i,e=>l("update:hasAudio",!!e)),(e,s)=>(r(),u(G,null,[V(p).params.id&&V(x)?(r(),U(je,{key:0})):v("",!0),o("div",null,[s[0]||(I(-1,!0),(s[0]=o("h2",{class:"text-2xl md:text-4xl font-semibold text-text-primary text-center m-0"},[s[8]||(s[8]=S(" Welcome to Orchit AI Space "))])).cacheIndex=0,I(1),s[0]),s[1]||(I(-1,!0),(s[1]=o("p",{class:"text-sm md:text-base text-text-secondary text-center mt-3 sm:mt-5 mb-0"},[s[9]||(s[9]=S(" Describe your project, and we'll build the plan instantly with AI magic. "))])).cacheIndex=1,I(1),s[1])]),o("div",Fe,[o("div",Me,[o("div",{class:h(`${V(x)?"neon-flow-border":""} flex h-[150px] items-start gap-2.5 self-stretch shadow-[-1px_-1px_0_0_rgba(255,255,255,0.20)_inset,1px_1px_1px_0_rgba(255,255,255,0.60)_inset] backdrop-blur-[5px] bg-bg-input pl-[17px] pr-[48px] py-[30px] rounded-xl max-sm:h-[120px] max-sm:px-5 max-sm:py-5`)},[!t.value&&!i.value?N((r(),u("textarea",{key:0,autofocus:"",disabled:V(x),"onUpdate:modelValue":s[2]||(s[2]=d=>c.value=d),placeholder:"Ask Orchit AI to create a project...",style:{height:"100% !important"},class:"w-full h-full bg-transparent text-text-primary text-base font-normal leading-7 resize-none outline-none placeholder:opacity-70"},null,8,Oe)),[[ve,c.value]]):v("",!0)],2),c.value?(r(),U(ce,{key:1,name:"rotate-fade",appear:""},{default:O(()=>[o("div",{onClick:W,class:h(["absolute bottom-5 flex justify-center items-center right-4 w-8 h-8 aspect-square rounded-lg cursor-pointer bg-accent",V(x)?"animate-pulse-ring":""])},s[10]||(s[10]=[o("i",{class:"text-base text-white fa-solid fa-arrow-right"},null,-1)]),2)]),_:1})):(r(),U(ce,{key:0,name:"fade-slide",appear:""},{default:O(()=>[o("div",{class:h(["bottom-5 right-4",t.value||i.value?"w-full rounded-full":"absolute"])},[D(Ee,{modelValue:c.value,"onUpdate:modelValue":s[3]||(s[3]=d=>c.value=d),onTranscribed:z,isRecording:t.value,"onUpdate:isRecording":s[4]||(s[4]=d=>t.value=d),hasAudio:i.value,"onUpdate:hasAudio":s[5]||(s[5]=d=>i.value=d)},null,8,["modelValue","isRecording","hasAudio"])],2)]),_:1}))]),s[6]||(I(-1,!0),(s[6]=o("p",{class:"text-sm max-md:text-xs text-text-secondary text-center"},[s[11]||(s[11]=S("Or try these examples:"))])).cacheIndex=6,I(1),s[6]),o("div",Ae,[V(k)?(r(),u("div",We,[(r(),u(G,null,q(3,d=>o("div",{key:d,class:"flex h-[136px] flex-[1_0_0] rounded-xl border border-border/20 bg-bg-card/50 p-[17px] backdrop-blur-sm"},s[12]||(s[12]=[o("div",{class:"w-full space-y-2 animate-pulse"},[o("div",{class:"h-4 w-5/6 rounded bg-border/40"}),o("div",{class:"h-4 w-4/6 rounded bg-border/30"}),o("div",{class:"h-4 w-3/6 rounded bg-border/20"})],-1)]))),64))])):(r(),u("div",He,[(r(!0),u(G,null,q(V(P),(d,f)=>(r(),u("div",{key:f,onClick:$=>n(d),class:"flex min-w-[160px] h-[110px] items-center flex-[1_0_0] cursor-pointer bg-bg-card/50 border border-border/20 backdrop-blur-sm p-[17px] rounded-xl max-md:h-20 max-md:p-5 max-sm:p-[15px] hover:bg-card/70 hover:border-accent-hover/30 hover:shadow-lg hover:shadow-accent/10 transition-all duration-300 hover-scale"},[o("span",ze,A(d.description),1)],8,De))),128))]))]),s[7]||(I(-1,!0),(s[7]=o("div",{class:"flex w-full text-sm text-text-secondary/50 items-center gap-4 mt-6"},[s[13]||(s[13]=o("hr",{class:"flex-auto"},null,-1)),s[14]||(s[14]=o("span",null,"OR",-1)),s[15]||(s[15]=o("hr",{class:"flex-auto"},null,-1))])).cacheIndex=7,I(1),s[7]),o("div",Ne,[D(ee,{variant:"secondary",block:!0,onClick:M},{default:O(()=>s[16]||(s[16]=[S(" Create Manually ")])),_:1,__:[16]})])])],64))}}),re="data:image/svg+xml,%3csvg%20width='14'%20height='14'%20viewBox='0%200%2014%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_18738_81149)'%3e%3cpath%20d='M7%201.3125C7.24162%201.3125%207.4375%201.50838%207.4375%201.75C7.4375%202.92021%208.02701%204.12704%208.94998%205.05002C9.87296%205.97299%2011.0798%206.5625%2012.25%206.5625C12.4916%206.5625%2012.6875%206.75837%2012.6875%207C12.6875%207.24162%2012.4916%207.4375%2012.25%207.4375C11.0798%207.4375%209.87296%208.02701%208.94998%208.94998C8.02701%209.87296%207.4375%2011.0798%207.4375%2012.25C7.4375%2012.4916%207.24162%2012.6875%207%2012.6875C6.75837%2012.6875%206.5625%2012.4916%206.5625%2012.25C6.5625%2011.0798%205.97299%209.87296%205.05002%208.94998C4.12704%208.02701%202.92021%207.4375%201.75%207.4375C1.50838%207.4375%201.3125%207.24162%201.3125%207C1.3125%206.75837%201.50838%206.5625%201.75%206.5625C2.92021%206.5625%204.12704%205.97299%205.05002%205.05002C5.97299%204.12704%206.5625%202.92021%206.5625%201.75C6.5625%201.50838%206.75837%201.3125%207%201.3125Z'%20fill='%23FBBF24'/%3e%3cpath%20d='M11.2292%200.729004C11.3537%200.729004%2011.4616%200.815303%2011.489%200.936787L11.6256%201.54335C11.7189%201.95751%2012.0423%202.28095%2012.4565%202.37424L13.0631%202.51088C13.1845%202.53824%2013.2708%202.64614%2013.2708%202.77067C13.2708%202.8952%2013.1845%203.0031%2013.0631%203.03047L12.4565%203.1671C12.0423%203.2604%2011.7189%203.58383%2011.6256%203.998L11.489%204.60455C11.4616%204.72604%2011.3537%204.81234%2011.2292%204.81234C11.1046%204.81234%2010.9967%204.72604%2010.9694%204.60455L10.8327%203.99799C10.7394%203.58383%2010.416%203.2604%2010.0018%203.1671L9.39528%203.03047C9.2738%203.0031%209.1875%202.8952%209.1875%202.77067C9.1875%202.64614%209.2738%202.53824%209.39528%202.51088L10.0018%202.37424C10.416%202.28095%2010.7394%201.95751%2010.8327%201.54335L10.9694%200.936787C10.9967%200.815303%2011.1046%200.729004%2011.2292%200.729004Z'%20fill='%23FBBF24'/%3e%3cpath%20d='M2.77079%209.1875C2.89532%209.1875%203.00322%209.2738%203.03059%209.39528L3.16722%2010.0018C3.26052%2010.416%203.58395%2010.7394%203.99812%2010.8327L4.60468%2010.9694C4.72616%2010.9967%204.81246%2011.1046%204.81246%2011.2292C4.81246%2011.3537%204.72616%2011.4616%204.60468%2011.489L3.99812%2011.6256C3.58395%2011.7189%203.26052%2012.0423%203.16722%2012.4565L3.03059%2013.0631C3.00322%2013.1845%202.89532%2013.2708%202.77079%2013.2708C2.64626%2013.2708%202.53836%2013.1845%202.511%2013.0631L2.37436%2012.4565C2.28107%2012.0423%201.95764%2011.7189%201.54347%2011.6256L0.936909%2011.489C0.815425%2011.4616%200.729126%2011.3537%200.729126%2011.2292C0.729126%2011.1046%200.815425%2010.9967%200.936909%2010.9694L1.54347%2010.8327C1.95763%2010.7394%202.28107%2010.416%202.37436%2010.0018L2.511%209.39528C2.53836%209.2738%202.64626%209.1875%202.77079%209.1875Z'%20fill='%23FBBF24'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_18738_81149'%3e%3crect%20width='14'%20height='14'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Ke={key:0,class:"inline-block text-text-secondary ml-1 cursor-help"},Ze={class:"flex flex-nowrap gap-1 h-full"},Je=["onClick"],Xe=["placeholder","onKeydown"],qe=["onClick"],Qe=["innerHTML"],me=160,Ye=8,fe=!0,et=Q({__name:"BaseMultiSelect",props:{modelValue:{},options:{},label:{},tooltip:{},message:{},error:{type:Boolean},placeholder:{default:"Select..."},size:{default:"md"},theme:{default:"system"},allowCustom:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(K,{emit:j}){const{isDark:B}=ge(),p=K,P=j,k=b(null),_=b(null),T=b(null),a=b(null),w=b(""),m=b(!1),c=b(!1),t=R(()=>p.theme==="dark"||p.theme==="system"&&B.value),i=R(()=>p.modelValue.map(e=>p.options.find(d=>d._id===e)||{title:String(e),_id:e})),g=R(()=>p.options.filter(e=>e.title.toLowerCase().includes(w.value.toLowerCase())&&!p.modelValue.includes(e._id)));function x(){m.value||(m.value=!0),le(()=>{var e;n(),(e=a.value)==null||e.focus()})}function F(){m.value=!0,le(n)}function E(e){P("update:modelValue",[...p.modelValue,e._id]),w.value="",m.value=!1}function z(e){P("update:modelValue",p.modelValue.filter(s=>s!==e))}function W(){if(!p.allowCustom||!w.value.trim())return;const e=w.value.trim();if(p.options.some(d=>d.title.toLowerCase()===e.toLowerCase())){const d=p.options.find(f=>f.title.toLowerCase()===e.toLowerCase());d&&E(d)}else{const d=e.toLowerCase().replace(/\s+/g,"-");P("update:modelValue",[...p.modelValue,d]),p.options.push({title:e,_id:d})}w.value="",m.value=!1}function M(e){k.value&&!k.value.contains(e.target)&&(m.value=!1)}function n(){var C;const e=_.value;if(!e)return;const s=e.getBoundingClientRect(),f=window.innerHeight-s.bottom,$=s.top,y=Math.min(((C=T.value)==null?void 0:C.scrollHeight)??me,me);f<y+Ye?c.value=$>f:c.value=!1}function l(){m.value&&n()}return se(()=>{document.addEventListener("click",M),window.addEventListener("resize",l),window.addEventListener("scroll",l,fe)}),Ce(()=>{document.removeEventListener("click",M),window.removeEventListener("resize",l),window.removeEventListener("scroll",l,fe)}),J([m,()=>g.value.length],()=>{m.value&&le(n)}),(e,s)=>{const d=xe("tooltip");return r(),u("div",{class:h([t.value?"text-white":"text-text-primary","relative"]),ref_key:"wrapperRef",ref:k},[e.label?(r(),u("label",{key:0,class:h(["text-base font-medium mb-1 flex items-center",t.value?"text-white":"text-text-primary"])},[S(A(e.label)+" ",1),e.tooltip?N((r(),u("span",Ke,s[2]||(s[2]=[o("img",{src:be,alt:"info"},null,-1)]))),[[d,e.tooltip]]):v("",!0)],2)):v("",!0),o("div",{ref_key:"anchorRef",ref:_,class:h(["relative px-3 py-2 rounded-xl overflow-x-auto w-full border text-sm",[e.size==="md"?"h-10":"h-12",t.value?"bg-bg-input border-border":"bg-bg-input border-border ",e.error?"border-red-500 focus-within:ring-red-500":"focus-within:ring-black"]]),onMousedown:X(x,["self"])},[o("div",Ze,[(r(!0),u(G,null,q(i.value,f=>(r(),u("span",{key:f._id,class:"bg-bg-body text-text-primary px-2 text-nowrap py-1 rounded text-xs flex items-center gap-1"},[S(A(f.title)+" ",1),o("span",{onClick:X($=>z(f._id),["stop"]),class:"cursor-pointer"},"âœ•",8,Je)]))),128)),N(o("input",{ref_key:"inputRef",ref:a,class:h(["outline-none flex-1 bg-transparent text-sm h-full",t.value?"!text-white placeholder-white/60":"text-text-primary placeholder-gray-400"]),placeholder:i.value.length?"":e.placeholder,"onUpdate:modelValue":s[0]||(s[0]=f=>w.value=f),onFocus:x,onInput:F,onKeydown:_e(X(W,["prevent"]),["enter"])},null,42,Xe),[[ve,w.value]])])],34),N(o("ul",{ref_key:"menuRef",ref:T,class:h(["absolute left-0 z-10 text-sm p-2 border rounded-md shadow max-h-40 overflow-auto w-full",[t.value?"bg-[#131318] text-white border-border":"bg-bg-dropdown text-text-primary border-border",c.value?"bottom-[76%] ":"top-full "]])},[(r(!0),u(G,null,q(g.value,f=>(r(),u("li",{key:f._id,class:h(["px-3 py-2 rounded-lg cursor-pointer",t.value?"hover:bg-[#000000de]":"hover:bg-bg-dropdown-menu-hover"]),onMousedown:s[1]||(s[1]=X(()=>{},["prevent"])),onClick:X($=>E(f),["stop"])},[o("span",{innerHTML:f.title},null,8,Qe)],42,qe))),128))],2),[[ne,m.value&&g.value.length>0]]),N(o("ul",{class:h(["absolute left-0 z-10 p-2 border rounded shadow w-full",[t.value?"bg-bg-dropdown text-text-primary border-border":"bg-bg-dropdown border-border",c.value?"bottom-full mb-2":"top-full mt-2"]])},s[3]||(s[3]=[o("li",{class:"px-3 py-2 text-sm text-text-secondary"},"No options found",-1)]),2),[[ne,m.value&&g.value.length===0]]),e.message?(r(),u("p",{key:1,class:h(["mt-2 text-xs flex items-center gap-1",e.error?"text-red-500":(t.value,"text-text-secondary ")])},[e.$slots.msgIcon?te(e.$slots,"msgIcon",{key:0}):v("",!0),S(" "+A(e.message),1)],2)):v("",!0)],2)}}}),tt="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M29.3334%2017.3333C28.9798%2017.3333%2028.6406%2017.4737%2028.3906%2017.7238C28.1405%2017.9738%2028%2018.313%2028%2018.6666V24.2839C27.999%2025.2691%2027.6071%2026.2137%2026.9105%2026.9104C26.2138%2027.607%2025.2693%2027.9989%2024.284%2027.9999H7.71604C6.73082%2027.9989%205.78626%2027.607%205.0896%2026.9104C4.39295%2026.2137%204.0011%2025.2691%204.00004%2024.2839V18.6666C4.00004%2018.313%203.85957%2017.9738%203.60952%2017.7238C3.35947%2017.4737%203.02033%2017.3333%202.66671%2017.3333C2.31309%2017.3333%201.97395%2017.4737%201.7239%2017.7238C1.47385%2017.9738%201.33337%2018.313%201.33337%2018.6666V24.2839C1.33514%2025.9762%202.00816%2027.5986%203.20476%2028.7952C4.40136%2029.9918%206.02379%2030.6648%207.71604%2030.6666H24.284C25.9763%2030.6648%2027.5987%2029.9918%2028.7953%2028.7952C29.9919%2027.5986%2030.6649%2025.9762%2030.6667%2024.2839V18.6666C30.6667%2018.313%2030.5262%2017.9738%2030.2762%2017.7238C30.0261%2017.4737%2029.687%2017.3333%2029.3334%2017.3333Z'%20fill='%23BEBEBE'/%3e%3cpath%20d='M8.94272%2011.6092L14.6667%205.88521V22.6665C14.6667%2023.0202%2014.8072%2023.3593%2015.0572%2023.6094C15.3073%2023.8594%2015.6464%2023.9999%2016.0001%2023.9999C16.3537%2023.9999%2016.6928%2023.8594%2016.9429%2023.6094C17.1929%2023.3593%2017.3334%2023.0202%2017.3334%2022.6665V5.88521L23.0574%2011.6092C23.3089%2011.8521%2023.6457%2011.9865%2023.9953%2011.9834C24.3449%2011.9804%2024.6793%2011.8402%2024.9265%2011.593C25.1737%2011.3458%2025.3139%2011.0113%2025.317%2010.6617C25.32%2010.3122%2025.1856%209.97535%2024.9427%209.72388L16.9427%201.72388C16.6927%201.47392%2016.3536%201.3335%2016.0001%201.3335C15.6465%201.3335%2015.3074%201.47392%2015.0574%201.72388L7.05739%209.72388C6.81451%209.97535%206.68012%2010.3122%206.68316%2010.6617C6.68619%2011.0113%206.82642%2011.3458%207.07363%2011.593C7.32084%2011.8402%207.65526%2011.9804%208.00485%2011.9834C8.35445%2011.9865%208.69125%2011.8521%208.94272%2011.6092Z'%20fill='%23BEBEBE'/%3e%3c/svg%3e",st={key:0,class:"inline-block text-text-secondary -400 ml-1 cursor-help"},lt={class:"relative"},ot={key:0,class:"mr-2 text-text-secondary -500"},at=["accept"],rt={key:2,class:"w-full h-32 flex justify-between items-start py-2"},nt=["src"],it={key:3,class:"ml-2 text-text-secondary -500"},ut=Q({__name:"FileUploader",props:{modelValue:{default:null},label:{},tooltip:{},message:{},error:{type:Boolean,default:!1},placeholder:{},accept:{default:"*/*"},size:{default:"md"},theme:{default:"system"}},emits:["update:modelValue"],setup(K,{emit:j}){const{isDark:B}=ge(),p=K,P=j,k=b(p.modelValue),_=b(null),T=t=>{var g;const i=t.target;if((g=i==null?void 0:i.files)!=null&&g.length){const x=i.files[0];k.value=x,P("update:modelValue",x)}},a=R(()=>p.theme==="dark"||p.theme==="system"&&B.value),w=R(()=>{var g,x;const t=k.value,i=p.modelValue;return t instanceof File&&((g=t.type)!=null&&g.startsWith("image/"))?URL.createObjectURL(t):i instanceof File&&((x=i.type)!=null&&x.startsWith("image/"))?URL.createObjectURL(i):typeof i=="string"&&i?i:typeof t=="string"&&t?t:null}),m=b(null);J(w,(t,i)=>{i&&i.startsWith("blob:")&&URL.revokeObjectURL(i),m.value=t??null},{flush:"post"}),Le(()=>{var t;(t=m.value)!=null&&t.startsWith("blob:")&&URL.revokeObjectURL(m.value)}),J(()=>p.modelValue,t=>{console.log("[watch] modelValue changed:",t)},{immediate:!0});const c=()=>{k.value=null,P("update:modelValue",null)};return(t,i)=>{const g=xe("tooltip");return r(),u("div",{class:h(a.value?"text-white":"text-text-primary")},[t.label?(r(),u("label",{key:0,class:h(["text-base font-medium mb-1 flex items-center",a.value?"text-white":"text-text-primary"])},[S(A(t.label)+" ",1),t.tooltip?N((r(),u("span",st,i[0]||(i[0]=[o("img",{src:be,alt:"info"},null,-1)]))),[[g,t.tooltip]]):v("",!0)],2)):v("",!0),o("div",lt,[o("div",{class:h(["flex items-center border h-32 rounded-xl border-dashed border-border  px-3 py-3 w-full text-sm focus-within:ring-2",t.error?"border-red-500 focus-within:ring-red-500":"focus-within:ring-black",(a.value,"bg-bg-input border-border ")])},[t.$slots.prefix?(r(),u("span",ot,[te(t.$slots,"prefix",{},void 0,!0)])):v("",!0),!k.value&&!t.modelValue?(r(),u("label",{key:1,for:"file",class:"w-full flex flex-col items-center justify-center cursor-pointer text-center",ref_key:"wrapperRef",ref:_},[o("input",{type:"file",id:"file",name:"file",accept:t.accept,class:"hidden",ref:"fileInput",onChange:T},null,40,at),i[1]||(i[1]=o("div",{class:"w-full flex flex-col justify-center items-center p-4"},[o("img",{src:tt,class:"w-6",alt:""}),o("span",{class:"text-text-primary mt-4 text-sm text-semibold"},"Upload logo"),o("span",{class:"text-text-secondary mt-1 text-[11px]"},"Upload you existing logo file")],-1))],512)):w.value?(r(),u("div",rt,[w.value?(r(),u("img",{key:0,src:w.value,alt:"Preview",class:"h-28 object-contain rounded border border-border"},null,8,nt)):v("",!0),o("img",{src:Ve,class:"cursor-pointer",onClick:c,alt:"Remove"})])):v("",!0),t.$slots.suffix?(r(),u("span",it,[te(t.$slots,"suffix",{},void 0,!0)])):v("",!0)],2)]),t.message?(r(),u("p",{key:1,class:h(["mt-2 text-xs flex items-center gap-1",t.error?"text-red-500":(a.value,"text-text-secondary ")])},[t.$slots.msgIcon?te(t.$slots,"msgIcon",{key:0},void 0,!0):v("",!0),S(" "+A(t.message),1)],2)):v("",!0)],2)}}}),dt=ue(ut,[["__scopeId","data-v-161f6f15"]]),ct={class:"w-full"},pt={class:"space-y-6 pb-[60px] w-full"},mt=Q({__name:"StepOne",props:{ai:{type:Boolean}},emits:["next","back"],setup(K,{expose:j,emit:B}){const p=ie();function P(n,l){if(!n)return l;try{return n}catch{return l}}function k(){return P(p.workspace,{variables:{}})}function _(n){const l=k(),e=n(l);p.setWorkspace(e)}const T=[{title:"For client",_id:"client"},{title:"For Me",_id:"personel"},{title:"For Team",_id:"team"}],{data:a}=Se(),{data:w}=Re(),m=B,c=b(k().logo??null),t=b({title:"","workspace-type":"","workspace-industries":[]});se(()=>{const l=k().variables||{};t.value={...t.value,...l,"workspace-type":l["workspace-type"]?String(l["workspace-type"]).toLowerCase():"","workspace-industries":Array.isArray(l["workspace-industries"])?l["workspace-industries"]:[],title:String(l.title||"")}});const i=R(()=>!c.value),g=R(()=>{var f,$;const n=!!c.value,l=!!((f=t.value.title)!=null&&f.trim()),e=t.value["workspace-type"],s=typeof e=="string"&&e.trim()!==""&&e!=="undefined"&&e!=="null",d=((($=t.value["workspace-industries"])==null?void 0:$.length)||0)>0;return n&&l&&s&&d});function x(){return(w.value||[]).includes(t.value.title)?(H.error("Workspace title already exists. Please choose a different title."),!1):!0}const{mutate:F,isPending:E}=Pe({onSuccess:n=>{var e;const l=(e=n==null?void 0:n.data)==null?void 0:e.url;if(!l){H.error("Upload succeeded but no URL was returned.");return}_(s=>({...s,logo:l,variables:{...s.variables||{},...t.value}})),m("next")},onError:n=>{console.error("File upload failed",n),H.error("File upload failed. Please try again.")}}),{mutate:z,isPending:W}=$e({onSuccess:n=>{var e;const l=(e=n==null?void 0:n.data)==null?void 0:e.url;if(!l){H.error("Upload succeeded but no URL was returned.");return}_(s=>({...s,logo:l,variables:{...s.variables||{},...t.value}})),m("next")},onError:n=>{console.error("File upload failed",n),H.error("File upload failed. Please try again.")}});function M(){var n;if(!((n=t.value["workspace-type"])!=null&&n.trim())){H.error("Please select a workspace type.");return}if(!g.value){H.error("Please fill all fields and upload a file.");return}if(x()){if(c.value instanceof File){const l=new FormData;l.append("file",c.value),localStorage.getItem("token")?z(l):F(l);return}_(l=>({...l,logo:typeof c.value=="string"?c.value:l.logo,variables:{...l.variables||{},...t.value}})),m("next")}}return j({continueHandler:M,isPending:E,isPrivatePending:W}),(n,l)=>(r(),u(G,null,[o("div",ct,[l[0]||(I(-1,!0),(l[0]=o("h2",{class:"text-2xl md:text-4xl font-semibold text-text-primary text-left m-0"},[l[6]||(l[6]=S("Project Details"))])).cacheIndex=0,I(1),l[0]),l[1]||(I(-1,!0),(l[1]=o("p",{class:"text-sm md:text-base text-text-secondary text-left mt-3 sm:mt-5 mb-0"},[l[7]||(l[7]=S("Let's refine your project details"))])).cacheIndex=1,I(1),l[1])]),o("div",pt,[D(dt,{modelValue:c.value,"onUpdate:modelValue":l[2]||(l[2]=e=>c.value=e),label:"Upload your project logo",tooltip:"You can upload your logo image here",message:"Supports .png, .jpg, .jpeg file formats",error:i.value,placeholder:"Choose a logo",accept:".png,.jpg,.jpeg"},null,8,["modelValue","error"]),D(Ie,{label:"Give your workspace a name",placeholder:"Workspace name",size:"lg",modelValue:t.value.title,"onUpdate:modelValue":l[3]||(l[3]=e=>t.value.title=e),message:n.ai?"AI suggested this name based on your description":""},{msgIcon:O(()=>l[8]||(l[8]=[o("img",{src:re,alt:""},null,-1)])),_:1},8,["modelValue","message"]),D(Te,{modelValue:t.value["workspace-type"],"onUpdate:modelValue":l[4]||(l[4]=e=>t.value["workspace-type"]=e),options:T,label:"Workspace Type",size:"lg",allowCustom:!0,message:n.ai?"AI suggested this name based on your description":"",placeholder:"e.g. for team"},{msgIcon:O(()=>l[9]||(l[9]=[o("img",{src:re,alt:""},null,-1)])),_:1},8,["modelValue","message"]),D(et,{modelValue:t.value["workspace-industries"],"onUpdate:modelValue":l[5]||(l[5]=e=>t.value["workspace-industries"]=e),options:V(a)||[],label:"Industry",size:"lg",allowCustom:!0,message:n.ai?"AI suggested this name based on your description":"",placeholder:"e.g. Ecommerce, Health, EdTech"},{msgIcon:O(()=>l[10]||(l[10]=[o("img",{src:re,alt:""},null,-1)])),_:1},8,["modelValue","options","message"])])],64))}}),ft=ue(mt,[["__scopeId","data-v-cc8a0f38"]]),vt={class:"flex justify-between items-center fixed top-0 z-[1] w-full flex-row px-5 bg-bg-surface border-b border-border h-[60px] lg:h-[70px]"},gt={class:"flex items-center gap-2"},xt={key:0,class:"fa-solid fa-check"},bt={key:1},wt={class:"z-0 overflow-y-auto px-3 h-auto flex-grow relative flex flex-col gap-10 max-w-[800px] mx-auto w-full items-center"},yt={key:0,class:"flex z-2 bg-bg-body justify-between mt-15 fixed bottom-0 w-full px-6 border-t items-center border-border h-[80px]"},ht={class:"flex items-center gap-2"},kt={class:"flex items-center w-full justify-between gap-2"},Ct=Q({name:"CreateWorkspace",__name:"CreateWorkspace",setup(K){var $;const j=ft,B=oe(()=>ae(()=>import("./StepTwo-MlTL7rON.js"),__vite__mapDeps([0,1,2,3,4,5]))),p=oe(()=>ae(()=>import("./StepThree-DJA7fKTt.js"),__vite__mapDeps([6,3,1,2,4,7]))),P=oe(()=>ae(()=>import("./StepFour-C_jOVv45.js"),__vite__mapDeps([8,9,1,2,10]))),k=Be(),_=ie(),T=Object.freeze(["Get Started","Project Setup","Define Work streams","Team Planning","Review Space"]),a=b(_.workspace?($=_.workspace)!=null&&$.logo?4:1:0),w=b(!0),m=b(!0),c=b(0),t=Y(null),i=Y(null),g=Y(null),x=Y(null),F=R(()=>a.value===2||a.value===3),E=R(()=>{var L,de;const y=t.value;if(!y)return!1;const C=typeof y.isPending=="object"?(L=y.isPending)==null?void 0:L.value:y.isPending,Z=typeof y.isPrivatePending=="object"?(de=y.isPrivatePending)==null?void 0:de.value:y.isPrivatePending;return!!(C||Z)}),z=R(()=>a.value===1&&E.value),W=R(()=>a.value===1&&E.value?"Continuing...":a.value===4?"Complete":"Continue");function M(){k.push("/")}se(()=>{const y=_.getFeature("no-of-workspaces");y&&y.usage.current>=y.limits.limit&&(_.setLimitExccedModal(!0),M())});function n(y){c.value++,y=="mannual"&&(m.value=!1),a.value=1}function l(){var y,C,Z,L;if(a.value===1&&((y=t.value)!=null&&y.continueHandler)){t.value.continueHandler();return}if(a.value===2&&((C=i.value)!=null&&C.continueHandler)){i.value.continueHandler();return}if(a.value===3&&((Z=g.value)!=null&&Z.continueHandler)){g.value.continueHandler(),e();return}if(a.value===4&&((L=x.value)!=null&&L.createProjectHandler)){localStorage.getItem("token")||k.push("/register"),x.value.createProjectHandler();return}a.value<4&&(a.value=a.value+1)}function e(){a.value=a.value+1}function s(){a.value>0&&(a.value=a.value-1)}function d(){a.value=4}function f(){a.value=0,c.value++}return(y,C)=>(r(),u("div",{key:c.value,class:"px-2 pt-[100px] md:pt-[110px] lg:pt-[120px] pb-[40px] md:pb-[50px] lg:pb-[70px] w-full justify-start items-center flex flex-col relative"},[N(o("div",vt,[Ue([a.value],()=>(r(),u("div",{class:"flex items-center py-5 justify-start gap-2 md:gap-4 overflow-x-auto no-scrollbar max-w-[calc(100%-40px)]"},[(r(!0),u(G,null,q(V(T),(Z,L)=>(r(),u("div",{key:L,class:"flex items-center group"},[o("div",gt,[o("div",{class:h(["w-6 h-6 md:w-8 md:h-8 rounded-full flex items-center justify-center text-[10px] md:text-xs font-semibold transition-all duration-300 border-2",[L<a.value?"bg-accent border-accent text-accent-text":L===a.value?"bg-bg-body border-accent text-accent shadow-[0_0_10px_rgba(125,104,200,0.3)]":"bg-bg-body border-border text-text-secondary"]])},[L<a.value?(r(),u("i",xt)):(r(),u("span",bt,A(L+1),1))],2),o("span",{class:h(["whitespace-nowrap transition-colors duration-300 font-medium text-[10px] md:text-sm",L<=a.value?"text-text-primary":"text-text-secondary"])},A(Z),3)]),L<V(T).length-1?(r(),u("div",{key:0,class:h(["mx-2 md:mx-4 h-[2px] w-4 md:w-8 transition-colors duration-300",L<a.value?"bg-accent":"bg-text-secondary"])},null,2)):v("",!0)]))),128))])),C,0),o("div",{class:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-bg-body transition-colors duration-200 cursor-pointer",onClick:M,"aria-label":"Close"},C[1]||(C[1]=[o("i",{class:"fa-regular fa-close text-lg"},null,-1)]))],512),[[ne,w.value]]),o("div",wt,[a.value===0?(r(),U(Ge,{key:0,onManual:n})):v("",!0),a.value===1?(r(),U(V(j),{key:1,ai:m.value,ref_key:"stepOneRef",ref:t,onNext:e},null,8,["ai"])):v("",!0),(r(),U(pe,null,[a.value===2?(r(),U(V(B),{key:0,ai:m.value,ref_key:"stepTwoRef",ref:i,onNext:e},null,8,["ai"])):v("",!0)],1024)),(r(),U(pe,null,[a.value===3?(r(),U(V(p),{key:0,ai:m.value,ref_key:"stepThreeRef",ref:g,onNext:l},null,8,["ai"])):v("",!0)],1024)),a.value===4?(r(),U(V(P),{key:2,ai:m.value,ref_key:"stepFourRef",ref:x,onBack:f},null,8,["ai"])):v("",!0)]),a.value!==0?(r(),u("div",yt,[D(ee,{variant:"secondary",size:"md",onClick:s},{default:O(()=>C[2]||(C[2]=[o("div",{class:"flex items-center gap-2"},[o("i",{class:"text-base fa-solid fa-arrow-left"}),S(" Back ")],-1)])),_:1,__:[2]}),o("div",ht,[F.value?(r(),U(ee,{key:0,variant:"secondary",size:"md",onClick:d},{default:O(()=>C[3]||(C[3]=[S(" Skip ")])),_:1,__:[3]})):v("",!0),D(ee,{disabled:z.value,size:"md",variant:"primary",onClick:l},{default:O(()=>[o("div",kt,[S(A(W.value)+" ",1),C[4]||(C[4]=o("i",{class:"text-base fa-solid fa-arrow-right"},null,-1))])]),_:1},8,["disabled"])])])):v("",!0)]))}}),St=ue(Ct,[["__scopeId","data-v-f5916cfe"]]);export{St as default};
