import{d as R,r as d,q as Y,c as T,i as c,j as D,h as g,e,B as _,w as k,f as w,A as U,U as A,F as B,x as P,y as M,t as p,ao as Z,o as s,H as F,a as ee,W as te,bo as ae,b as oe,_ as L,n as O,V as re,p as se}from"./index-BwDegMQR.js";import{a as le}from"./useOpenAIGeneration-DYtWPseQ.js";const ne="/assets/a40c90e37b9e8e45317b9cba411ad897833a9d01-DSQSOdpz.jpg";function ce(C){try{const m=C.match(/```json\s*([\s\S]*?)\s*```|({[\s\S]*})/);if(m){const b=m[1]||m[2];return JSON.parse(b)}}catch(m){console.error("JSON parsing failed:",m)}return null}const ie=["home","user","cog","calendar","search","bell","check","times","plus","minus","trash","pencil","info","question","lock","unlock","star","heart","bookmark","camera","cloud","download","upload","eye","envelope","file","globe","key","map","power-off","edit","save","print","users","bars","mobile","tablet","laptop","desktop","clock","clipboard","flag","comment","comments","share-alt","github","twitter","facebook","linkedin","google","instagram","youtube","whatsapp","chat","cloud-upload","cloud-download","shield","trophy","wrench","tools","rocket","book","map-marker","location","wifi","battery-full","battery-half","battery-empty","volume-up","volume-down","volume-mute","signal","gift","car","truck","bicycle","plane","boat","heart-o","star-o","angle-left","angle-right","angle-double-left","angle-double-right","check-circle","times-circle","exclamation-circle","question-circle","info-circle","circle","circle-thin","square","square-o","circle-o","circle-check","circle-times","circle-info","circle-question","circle-exclamation","play","pause","stop","fast-forward","fast-backward","rewind","forward","backward","eject","volume-off","play-circle","pause-circle","stop-circle","fast-forward-circle","fast-backward-circle","rewind-circle","forward-circle","backward-circle","check-square","times-square","check-circle-o","times-circle-o","pause-circle-o","play-circle-o","search-minus","search-plus","map-pin","share","thumbs-up","thumbs-down","flag-checkered","flag-o","crosshairs","list-ul","list-ol","th-large","th","th-list","th-minus","th-plus","th-x","th-check","th-clock","calendar-minus","calendar-plus","calendar-check","calendar-alt","calendar-day","calendar-week","calendar-times","calendar-range","calendar-week-o","calendar-times-o","circle-thin-o","ellipsis-v","ellipsis-h","forward-fast","backward-fast","ban","lock-open","unlock-alt","lightbulb","eye-slash","clipboard-list","user-plus","user-times","user-lock","user-secret","user-edit","user-circle","user-alt","user-shield","users-cog","users-slash","user-minus","user-check","user-friends","users","user-group","people-carry","user-tag","user-md","user-nurse","user-astronaut","user-tie","user-graduate","user-clock","user-alt-slash","phone","phone-alt","phone-square","phone-square-alt","phone-volume","phone-call","phone-in","phone-out","comment-alt","comments-alt","comment-dots","comments-dots","comments-alt-regular","comment-alt-regular","comments-regular","user-regular","heart-regular","check-regular","times-regular","star-regular","info-regular","question-regular","home-regular","bell-regular","envelope-regular","envelope-open","power-off-regular","arrow-right","arrow-left","arrow-down","arrow-up","arrow-circle-left","arrow-circle-right","arrow-circle-up","arrow-circle-down","arrow-alt-left","arrow-alt-right","arrow-alt-up","arrow-alt-down","chevron-left","chevron-right","chevron-up","chevron-down","caret-left","caret-right","caret-up","caret-down"],ue={key:0,class:"border border-dashed bg-bg-input border-border rounded-xl p-6 flex flex-col items-center text-center"},de={key:1,class:"mt-6"},pe={class:"grid gap-3 w-full"},me=["onClick","aria-label","title"],ge={class:"max-w-[84px] text-[11px] text-text-secondary truncate"},fe={key:0,class:"text-sm text-neutral-400"},be={key:2,class:"mt-4 p-3 bg-bg-input rounded-lg flex items-center gap-2"},ve={class:"min-w-0"},he={class:"font-medium truncate"},xe=120,ke=R({__name:"IconPicker",props:{modelValue:{}},emits:["update:modelValue"],setup(C,{emit:m}){const b=m,V=d([]),f=d(!1),v=d(""),i=d(1),S=d(["fa"]);Y(()=>{const o=ie.map(r=>{const u=`fa-${r}`;return{prefix:"fa",iconName:u,renderClasses:["fa-regular",u],label:r}});o.sort((r,u)=>r.iconName.localeCompare(u.iconName)),V.value=o});const h=T(()=>{const o=v.value.trim().toLowerCase();return V.value.filter(({label:r,iconName:u,prefix:l})=>S.value.includes(l)?o?r.includes(o)||u.includes(o):!0:!1)}),N=T(()=>h.value.slice(0,i.value*xe));function $(o){const r=o.target;r.scrollTop+r.clientHeight>=r.scrollHeight-24&&N.value.length<h.value.length&&(i.value+=1)}function I(o){o?b("update:modelValue",{prefix:o.renderClasses[0],iconName:o.iconName}):b("update:modelValue",null),f.value=!1}function y(){i.value=1,f.value=!f.value}return(o,r)=>{var u;return s(),c("div",null,[!f.value&&!((u=o.modelValue)!=null&&u.iconName)?(s(),c("div",ue,[g(_,{variant:"primary",onClick:y},{default:k(()=>r[2]||(r[2]=[w("Select Icon")])),_:1,__:[2]}),r[3]||(r[3]=e("p",{class:"text-xs text-text-secondary mt-2"},"Browse PrimeIcons",-1))])):f.value?(s(),c("div",de,[e("div",pe,[U(e("input",{"onUpdate:modelValue":r[0]||(r[0]=l=>v.value=l),placeholder:"Search icons…",class:"px-3 py-2 rounded-lg border col-span-full border-border bg-bg-card text-sm placeholder-text-secondary focus:outline-none focus:ring-2 focus:ring-accent focus:border-border",type:"text"},null,512),[[A,v.value]]),e("div",{class:"grid gap-2 col-span-full grid-cols-[repeat(auto-fill,minmax(90px,1fr))] max-h-[360px] overflow-auto pr-1 rounded-lg border-border",onScroll:$},[(s(!0),c(B,null,P(N.value,l=>(s(),c("button",{key:l.prefix+l.iconName,type:"button",onClick:z=>I(l),"aria-label":`${l.prefix} ${l.iconName}`,title:`${l.prefix} ${l.iconName}`,class:"group grid place-items-center gap-1.5 p-2 bg-bg-body cursor-pointer border border-transparent rounded-lg text-text-secondary hover:border-border focus:outline-none focus:ring-2 focus:ring-accent"},[e("i",{class:M([l.renderClasses,"text-base"])},null,2),e("small",ge,p(l.iconName),1)],8,me))),128))],32),h.value.length?D("",!0):(s(),c("p",fe," No icons match “"+p(v.value)+"”. ",1))])])):D("",!0),o.modelValue?(s(),c("div",be,[e("i",{class:M([[o.modelValue.prefix,o.modelValue.iconName],"text-xl"])},null,2),e("div",ve,[e("p",he,p(o.modelValue.iconName),1)]),e("img",{src:Z,onClick:r[1]||(r[1]=l=>I(null)),class:"ml-auto cursor-pointer",alt:"Clear icon"})])):D("",!0)])}}}),we=F(ke,[["__scopeId","data-v-1ec65acb"]]),ye={class:"px-6 py-4 space-y-6"},_e={key:0,class:"space-y-4"},Ce={class:"flex justify-end gap-2 pt-2"},Ve={key:1,class:"space-y-4"},Se={class:"grid grid-cols-1 sm:grid-cols-3 gap-3"},Ne=["onClick"],$e={class:"flex justify-end gap-2 pt-2"},Ie={key:2,class:"space-y-4"},je={class:"flex items-center gap-3"},qe={class:"flex flex-wrap items-center gap-2 text-xs"},De=["onClick"],Be={key:0,class:"ml-1 opacity-70 bg-bg-surface rounded-full text-text-primary p-0.5 aspect-square w-4 h-4 text-[10px]"},Pe={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"},Te=["onClick"],Ue={class:"p-3 py-4"},Ae={class:"text-base font-medium text-text-primary"},Me={class:"text-sm text-[#2B2C30B2] mt-1 line-clamp-1"},ze={class:"flex justify-end gap-2 pt-2"},Ee=R({__name:"CreateSheetModal",props:{modelValue:{type:Boolean}},emits:["update:modelValue","submit:manual","submit:ai","submit:template"],setup(C,{emit:m}){const b=se(),V=ee(),{workspaceId:f,moduleId:v}=te(),i=d({title:"",description:"",icon:null}),{mutate:S,isPending:h}=ae({onSuccess:()=>{V.invalidateQueries({queryKey:["sheets"]}),o()}}),N=C,$=m;function I(){S({icon:i.value.icon,variables:{"sheet-title":i.value.title,"sheet-description":i.value.description},is_ai_generated:!1,workspace_id:f.value,workspace_module_id:v.value})}const y=T({get:()=>N.modelValue,set:n=>$("update:modelValue",n)});function o(){i.value={title:"",description:"",icon:null},y.value=!1}const r=d("manual"),u=d(""),l=["Generate a task board for an Uber-like app with columns for development, testing, and deployment.","Create a product board for an e-commerce platform with vendor, inventory, and customer sections.","Design a project board for a Notion-like tool with team collaboration features."],{mutate:z}=le({onSuccess:n=>{const a=ce(n);S({sheets:[{...a,is_ai_generated:!1}],workspace_id:b.params.id,workspace_module:"product"})},onError:n=>{console.error("Error generating AI data:",n)}});function G(){z("i need response in below json format { title:string , description:string , icon:{prefix : string from fas || far || fab , iconName:string from fontawsome free regular icons}} ")}const H=d([{id:"concept",title:"Product Concept",subtitle:"Early‑stage product or feature ideas.",cover:"/covers/concept.jpg",tags:["Experience Design","Development"]},{id:"inspo",title:"Design Inspiration",subtitle:"UI/UX samples and creative references.",cover:"/covers/inspo.jpg",tags:["Experience Design"]},{id:"launch",title:"Launch Prep",subtitle:"Tasks and assets for go‑live.",cover:"/covers/launch.jpg",tags:["Project Management","Marketing"]}]),j=d(""),J=d([{name:"Experience Design",count:24},{name:"Development",count:6},{name:"Marketing",count:5},{name:"Project Management",count:6}]),x=d(new Set);function Q(n){x.value.has(n)?x.value.delete(n):x.value.add(n)}const W=T(()=>H.value.filter(n=>(!j.value||n.title.toLowerCase().includes(j.value.toLowerCase()))&&(x.value.size===0||n.tags.some(a=>x.value.has(a))))),q=d(null);function K(n){q.value=n}function X(){q.value&&$("submit:template",{id:q.value.id})}return(n,a)=>(s(),oe(re,{modelValue:y.value,"onUpdate:modelValue":a[5]||(a[5]=t=>y.value=t),size:"lg"},{default:k(()=>[a[10]||(a[10]=e("div",{class:"flex justify-between items-start px-6 border-b border-border pb-4"},[e("h2",{class:"text-xl font-semibold"},"Add a new Sheet")],-1)),e("div",ye,[r.value==="manual"?(s(),c("section",_e,[g(we,{modelValue:i.value.icon,"onUpdate:modelValue":a[0]||(a[0]=t=>i.value.icon=t)},null,8,["modelValue"]),g(L,{modelValue:i.value.title,"onUpdate:modelValue":a[1]||(a[1]=t=>i.value.title=t),label:"Sheet name",size:"lg",placeholder:"Design Ideas"},null,8,["modelValue"]),g(L,{modelValue:i.value.description,"onUpdate:modelValue":a[2]||(a[2]=t=>i.value.description=t),label:"Description",size:"lg",placeholder:"a small description",textarea:""},null,8,["modelValue"]),e("div",Ce,[e("button",{class:"px-4 py-2 rounded-md text-sm text-text-secondary border",onClick:o},"Cancel"),g(_,{class:"px-4",onClick:I},{default:k(()=>[w(p(O(h)?"Adding...":"Add board"),1)]),_:1})])])):r.value==="ai"?(s(),c("section",Ve,[U(e("textarea",{"onUpdate:modelValue":a[3]||(a[3]=t=>u.value=t),rows:"6",class:"w-full rounded-lg p-3 text-sm min-h-[186px] outline-none border-border border bg-bg-input",placeholder:"Generate a project management board for a software development team with tasks categorized as 'Backlog', 'In Progress', 'Review', and 'Done'."},null,512),[[A,u.value]]),a[7]||(a[7]=e("div",{class:"text-center text-xs text-text-secondary -500"},"Or try these examples:",-1)),e("div",Se,[(s(),c(B,null,P(l,t=>e("button",{key:t,class:"text-left border border-border hover:border-accent bg-bg-body text-text-primary rounded-xl p-3 text-sm hover:bg-gray-50",onClick:E=>u.value=t},"“"+p(t)+"”",9,Ne)),64))]),e("div",$e,[e("button",{class:"px-4 py-2 rounded-md text-sm text-text-secondary border",onClick:o},"Cancel"),g(_,{class:"px-4",onClick:G},{default:k(()=>a[6]||(a[6]=[w("Add board")])),_:1,__:[6]})])])):(s(),c("section",Ie,[e("div",je,[U(e("input",{"onUpdate:modelValue":a[4]||(a[4]=t=>j.value=t),class:"flex-1 border rounded-lg p-2 text-sm border-border D6D7DA]",placeholder:"Search"},null,512),[[A,j.value]])]),e("div",qe,[(s(!0),c(B,null,P(J.value,t=>(s(),c("button",{key:t.name,class:M(["px-3.5 py-1.5 rounded-md flex",x.value.has(t.name)?"bg-black text-white ":" bg-bg-body cursor-pointer text-text-secondary -700"]),onClick:E=>Q(t.name)},[w(p(t.name),1),t.count?(s(),c("div",Be,p(t.count),1)):D("",!0)],10,De))),128))]),e("div",Pe,[(s(!0),c(B,null,P(W.value,t=>(s(),c("button",{key:t.id,class:"border border-border 2B2C3026] rounded-xl overflow-hidden text-left hover:shadow-sm",onClick:E=>K(t)},[a[8]||(a[8]=e("img",{src:ne,class:"w-full h-36 object-cover"},null,-1)),e("div",Ue,[e("div",Ae,p(t.title),1),e("div",Me,p(t.subtitle),1)])],8,Te))),128))]),e("div",ze,[g(_,{variant:"secondary",onClick:o},{default:k(()=>a[9]||(a[9]=[w("Cancel")])),_:1,__:[9]}),g(_,{varaint:"primary",class:"px-4",disabled:!q.value,onClick:X},{default:k(()=>[w(p(O(h)?"Adding...":"Add board"),1)]),_:1},8,["disabled"])])]))])]),_:1,__:[10]},8,["modelValue"]))}}),Re=F(Ee,[["__scopeId","data-v-a809d44b"]]);export{Re as default};
