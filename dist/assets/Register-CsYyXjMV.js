import{d as $,r as o,c as v,b as E,n as S,e as C,w as g,o as b,f as a,h as F,i as d,j as z,k as R,_ as w,g as i,t as V,p as _,B as h,l as A,m as q}from"./index-0GaFUcCF.js";import{_ as I}from"./AuthLayout.vue_vue_type_script_setup_true_lang-i6yw7lim.js";import{r as M}from"./auth-Dhk2zJEC.js";import"./favicon-BAFXWHLW.js";import"./Header-DeTmv1wG.js";import"./dark-logo-Mcb_sJlF.js";const U={class:"max-w-[500px] md:mx-auto w-full"},j={key:0,class:"text-red-500 text-sm text-center mt-2"},T={class:"text-sm font-medium text-text-secondary text-center mt-8"},K=$({__name:"Register",setup(W){const N=q(),u=o(""),r=o(""),n=o(""),l=o(""),t={fName:o(!1),email:o(!1),password:o(!1)},f=v(()=>t.fName.value?u.value.trim()?u.value.trim().length<2?"Full name must be at least 2 characters":"":"Full name is required":""),c=v(()=>t.email.value?r.value.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.value)?"":"Invalid email format":"Email is required":""),x=v(()=>t.password.value?n.value?/^(?=.*[a-z])(?=.*[A-Z])(?=.*[\W_]).{8,}$/.test(n.value)?"":"Password must be at least 8 characters and include uppercase, lowercase, and a special character":"Password is required":""),B=v(()=>!f.value&&!c.value&&!x.value),{mutate:P,isPending:y}=E({mutationFn:M,onSuccess:()=>{N.push(`/otp-verification/${r.value}`)},onError:m=>{var e,p;l.value=((p=(e=m==null?void 0:m.response)==null?void 0:e.data)==null?void 0:p.message)||"Something went wrong"}});function k(){if(l.value="",t.fName.value=!0,t.email.value=!0,t.password.value=!0,!B.value){l.value="Please fill all fields correctly.";return}P({u_full_name:u.value,u_email:r.value,u_password:n.value})}return S([u,r,n],()=>{l.value&&(l.value="")}),(m,e)=>{const p=A("router-link");return b(),C(I,null,{form:g(()=>[a("div",U,[e[9]||(e[9]=a("div",{class:"mb-12 space-y-2 text-center"},[a("h2",{class:"text-[32px] font-medium text-text-primary"},"Welcome to Orchit AI"),a("p",{class:"text-base font-medium text-text-secondary"},"Create your free account")],-1)),a("form",{onSubmit:F(k,["prevent"]),class:"space-y-4 w-full"},[d(w,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=s=>u.value=s),label:"Full Name",placeholder:"Full Name",size:"lg",error:!!f.value,message:f.value,onBlur:e[1]||(e[1]=s=>t.fName.value=!0)},null,8,["modelValue","error","message"]),d(w,{modelValue:r.value,"onUpdate:modelValue":e[2]||(e[2]=s=>r.value=s),label:"Email",placeholder:"john@example.com",size:"lg",error:!!c.value,message:c.value,onBlur:e[3]||(e[3]=s=>t.email.value=!0)},null,8,["modelValue","error","message"]),d(w,{modelValue:n.value,"onUpdate:modelValue":e[4]||(e[4]=s=>n.value=s),label:"Password",placeholder:"Password",size:"lg",type:"password",error:!!x.value,message:x.value,onBlur:e[5]||(e[5]=s=>t.password.value=!0)},null,8,["modelValue","error","message"]),d(h,{disabled:_(y),size:"lg",block:!0,type:"submit"},{default:g(()=>[i(V(_(y)?"Creating Account...":"Sign up"),1)]),_:1},8,["disabled"]),l.value?(b(),z("p",j,V(l.value),1)):R("",!0),e[8]||(e[8]=a("p",{class:"text-sm font-medium text-text-secondary text-center mt-6"},[i(" By signing up, I agree to the "),a("span",{class:"text-text-primary font-bold"},"Privacy Policy"),i(" and "),a("span",{class:"text-text-primary font-bold"},"Terms of Service"),i(". ")],-1)),a("p",T,[e[7]||(e[7]=i(" Already have an account? ")),d(p,{to:"/login",class:"text-text-primary font-bold underline"},{default:g(()=>e[6]||(e[6]=[i("Sign in")])),_:1,__:[6]})])],32)])]),_:1})}}});export{K as default};
