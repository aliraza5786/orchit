const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CreateTaskModal-DtQ-wXWB.js","assets/CreateTaskModal.vue_vue_type_script_setup_true_lang-DJon-ZAG.js","assets/index-rFytiIBb.js","assets/index-CPb06VNK.css","assets/BaseModal-BCttpRav.js","assets/cross-DvraoB0R.js","assets/BaseModal-FRlOKCB_.css","assets/BaseTextField.vue_vue_type_script_setup_true_lang-BUI_Kz_I.js","assets/info-DjaLHeD_.js","assets/BaseSelectField.vue_vue_type_script_setup_true_lang-BIaf5Tw5.js","assets/KanbanSkeleton-ZnsCiJLk.js","assets/index-CnJM0KZb.js","assets/KanbanSkeleton-DTreKVEl.css","assets/useQueryParams-B46zxRdC.js","assets/BaseRichTextEditor-CvtRRlq8.js","assets/useCommon-CNV75juT.js","assets/BaseRichTextEditor-5b2PDTLF.css","assets/DatePicker-DQn2KvmO.js","assets/DatePicker-CaK9YdY3.css","assets/CreateSheetModal-CqNpDtVD.js","assets/SwitchTab-Bo9Qj-ia.js","assets/SwitchTab-xAML-a-k.css","assets/useOpenAIGeneration-BYtCggv0.js","assets/CreateSheetModal-t_uWXjEL.css","assets/CreateVariableModal-aS3BvXvC.js","assets/ConfirmDeleteModal-_XkyI9pD.js","assets/ConfirmDeleteModal.vue_vue_type_script_setup_true_lang-CfHGrk5n.js","assets/SidePanel-C4v7L0KK.js","assets/AssigmentDropdown.vue_vue_type_script_setup_true_lang-CVCYBqMm.js","assets/SidePanel-fKwN4j-K.css","assets/KanbanBoard-CeFm_zml.js","assets/DropMenu.vue_vue_type_script_setup_true_lang-DcD86uVm.js","assets/workspace-C0mwNU9d.js","assets/KanbanBoard-DJX1cgam.css"])))=>i.map(i=>d[i]);
import{d as be,r as d,I as we,c as I,l as G,h as f,b as s,g as n,a as C,i as A,w as D,e as P,m as t,K as c,f as T,L as xe,t as ge,B as ye,F as Ve,M as _,n as ke,o as r}from"./index-rFytiIBb.js";import{u as Ce}from"./workspace-C0mwNU9d.js";import{b as Ae,c as De,d as Le,e as he,R as Ie,f as Pe,D as J,K as Te}from"./KanbanSkeleton-ZnsCiJLk.js";import{_ as Ee}from"./SearchBar.vue_vue_type_script_setup_true_lang-BMMJyoMN.js";import{_ as Re}from"./BaseTextField.vue_vue_type_script_setup_true_lang-BUI_Kz_I.js";import{u as Me}from"./useQueryParams-B46zxRdC.js";import"./index-CnJM0KZb.js";import"./info-DjaLHeD_.js";const Oe={class:"flex-auto bg-gradient-to-b from-bg-card/95 to-bg-card/90 backdrop-blur rounded-2xl shadow-[0_10px_40px_-10px_rgba(0,0,0,.5)] flex-grow h-full bg-bg-card border border-border overflow-x-auto flex-col flex"},Ue={class:"header px-4 py-3 border-b border-border flex items-center justify-between gap-1"},Be={class:"flex gap-3 items-center"},Se={key:1,class:"flex overflow-x-auto gap-3 p-4"},Ke={key:0,class:"mx-auto text-text-secondary/80 m-2 w-[90%] h-full justify-center flex items-center border border-dashed border-border"},Ne={key:0,class:"bg-bg-body rounded-lg p-4"},qe={class:"flex items-center mt-3 gap-3"},Je=be({__name:"Product",setup($e){const X=c(()=>_(()=>import("./CreateTaskModal-DtQ-wXWB.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]))),Z=c(()=>_(()=>import("./CreateSheetModal-CqNpDtVD.js"),__vite__mapDeps([19,2,3,4,5,6,7,8,20,21,10,11,12,22,13,23]))),ee=c(()=>_(()=>import("./CreateVariableModal-aS3BvXvC.js"),__vite__mapDeps([24,2,3,4,5,6,7,8,13,10,11,12]))),ae=c(()=>_(()=>import("./ConfirmDeleteModal-_XkyI9pD.js"),__vite__mapDeps([25,26,2,3,4,5,6]))),le=c(()=>_(()=>import("./SidePanel-C4v7L0KK.js"),__vite__mapDeps([27,2,3,14,15,9,8,7,16,10,11,12,17,18,28,13,20,21,29]))),te=c(()=>_(()=>import("./KanbanBoard-CeFm_zml.js"),__vite__mapDeps([30,2,3,17,18,10,11,12,31,26,4,5,6,28,13,32,33]))),b=d(!1),E=ke(),{workspaceId:v,moduleId:m}=Me(),{data:L}=Ae(v.value,m.value),oe=we(),{mutate:h,isPending:R}=De({onSuccess:()=>{oe.invalidateQueries({queryKey:["sheet-list"]}),k.value="",p.value=!1,V.value=!1,p.value=!1}}),M=a=>{h({workspace_id:v.value,module_id:m.value,variable_id:o.value,value:a})},{data:O}=Le({workspace_id:v,workspace_module_id:m}),i=d(""),U=I(()=>{var a;return L.value?(a=L.value[0])==null?void 0:a._id:""}),o=d(U.value);G(U,a=>{o.value=a});const w=Ce(),{data:se,isPending:de}=he(m,i,I(()=>[...w.selectedLaneIds]),o),x=d(!1),g=d(),B=a=>{g.value=a},y=d(!1),re=()=>{y.value=!y.value},ie=Ie(),ne=Pe();function ue(a){a.type=="column"?ie.mutate({payload:{workspace_id:v.value,workspace_module_id:m.value,variable_id:o.value,moved_value:a.meta.id,new_index:a.meta.newIndex}}):ne.mutate({payload:{workspace_id:v.value,card_id:a.meta.moved._id,group_value:a.meta.fromColumnId,group_variable_id:o.value,new_index:a.meta.newIndex,sheet_id:i.value}})}const ve=a=>{},me=I(()=>(O.value||[]).map(a=>({_id:a._id,title:a.variables["sheet-title"],description:a.variables["sheet-description"],icon:a.icon})));G(O,a=>{var e;(a==null?void 0:a.length)>0&&(i.value=(e=a[0])==null?void 0:e._id)});const V=d(!1),k=d("");function S(){V.value=!V.value}function K(){const a=k.value.trim();a&&M(a)}const pe=a=>{h({workspace_id:E.params.id,module_id:E.params.module_id,new_value:a.title,value:a.oldTitle,variable_id:o.value})},p=d(!1),u=d(),ce=()=>{h({value:u.value.title,workspace_id:v.value,module_id:m.value,newValue:u.value.title,variable_id:o.value,is_trash:!0})},_e=a=>{p.value=!0,u.value=a},fe=a=>{x.value=!0,u.value=a};return(a,e)=>{var N,q,$,j,z;return r(),f(Ve,null,[s("div",Oe,[s("div",Ue,[n(J,{modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=l=>i.value=l),options:me.value,variant:"secondary"},{more:D(()=>[s("div",{onClick:e[0]||(e[0]=l=>re()),class:"capitalize border-t border-border px-4 py-2 hover:bg-bg-dropdown-menu-hover cursor-pointer flex items-center gap-1 overflow-hidden overflow-ellipsis text-nowrap"},e[16]||(e[16]=[s("i",{class:"fa-solid fa-plus"},null,-1),P(" Add new ")]))]),_:1},8,["modelValue","options"]),s("div",Be,[n(J,{prefix:"View by",modelValue:o.value,"onUpdate:modelValue":e[3]||(e[3]=l=>o.value=l),options:t(L),variant:"secondary"},{more:D(()=>[s("div",{onClick:e[2]||(e[2]=l=>b.value=!0),class:"sticky bottom-0 bg-bg-dropdown shadow-md shadow-border capitalize border-t border-border px-4 py-2 hover:bg-bg-dropdown-menu-hover cursor-pointer flex items-center gap-1 overflow-hidden overflow-ellipsis text-nowrap"},e[17]||(e[17]=[s("i",{class:"fa-solid fa-plus"},null,-1),P(" Add new ")]))]),_:1},8,["modelValue","options"]),n(Ee,{placeholder:"Search in Orchit AI space"})])]),t(de)?(r(),C(Te,{key:0})):(r(),f("div",Se,[n(t(te),{onOnPlus:fe,"onDelete:column":e[4]||(e[4]=l=>_e(l)),"onUpdate:column":e[5]||(e[5]=l=>pe(l)),onReorder:ue,onAddColumn:M,"onSelect:ticket":B,board:t(se),onOnBoardUpdate:ve,variable_id:o.value,sheet_id:i.value},{"column-footer":D(l=>{var H,F,Q,W,Y;return[(F=(H=t(w))==null?void 0:H.transitions)!=null&&F.all_allowed&&!((Y=(W=(Q=t(w))==null?void 0:Q.transitions)==null?void 0:W.all_allowed)!=null&&Y.includes(l.column.title))&&t(w).transitions.currentColumn!=l.column.title?(r(),f("div",Ke," Disbale ( you can't drop here )")):A("",!0)]}),_:1},8,["board","variable_id","sheet_id"]),s("div",{class:"min-w-[328px]",onClick:e[7]||(e[7]=T(()=>{},["stop"]))},[V.value?(r(),f("div",Ne,[n(Re,{autofocus:!0,modelValue:k.value,"onUpdate:modelValue":e[6]||(e[6]=l=>k.value=l),placeholder:"Add New list",onKeyup:xe(K,["enter"])},null,8,["modelValue"]),e[18]||(e[18]=s("p",{class:"text-xs mt-1.5"},"You can add details while editing",-1)),s("div",qe,[n(ye,{onClick:K,varaint:"primary",class:"px-3 py-1 bg-accent cursor-pointer text-white rounded"},{default:D(()=>[P(ge(t(R)?"Adding...":"Add list"),1)]),_:1}),s("i",{class:"fa-solid fa-close",onClick:S})])])):(r(),f("button",{key:1,class:"text-sm text-text-primary py-2.5 cursor-pointer font-medium flex items-center justify-center w-full gap-2 bg-bg-body rounded-lg",onClick:T(S,["stop"])}," + Add List "))])]))]),n(t(ae),{onClick:e[8]||(e[8]=T(()=>{},["stop"])),modelValue:p.value,"onUpdate:modelValue":e[9]||(e[9]=l=>p.value=l),title:"Delete List",itemLabel:"list",itemName:(N=u.value)==null?void 0:N.title,requireMatchText:(q=u.value)==null?void 0:q.title,confirmText:"Delete workspace",cancelText:"Cancel",size:"md",loading:t(R),onConfirm:ce,onCancel:e[10]||(e[10]=()=>{p.value=!1})},null,8,["modelValue","itemName","requireMatchText","loading"]),x.value?(r(),C(t(X),{selectedVariable:o.value,listId:($=u.value)==null?void 0:$.title,sheet_id:i.value,key:"createTaskModalKey",modelValue:x.value,"onUpdate:modelValue":e[11]||(e[11]=l=>x.value=l),onSubmit:e[12]||(e[12]=()=>{})},null,8,["selectedVariable","listId","sheet_id","modelValue"])):A("",!0),(j=g.value)!=null&&j.variables?(r(),C(t(le),{key:1,details:g.value,onClose:e[13]||(e[13]=()=>{B({variables:{}})}),showPanel:((z=g.value)==null?void 0:z.variables.length)>0},null,8,["details","showPanel"])):A("",!0),n(t(Z),{modelValue:y.value,"onUpdate:modelValue":e[14]||(e[14]=l=>y.value=l)},null,8,["modelValue"]),b.value?(r(),C(t(ee),{key:2,modelValue:b.value,"onUpdate:modelValue":e[15]||(e[15]=l=>b.value=l),sheetID:i.value},null,8,["modelValue","sheetID"])):A("",!0)],64)}}});export{Je as default};
