const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dropdown-MjhKMs-e.js","assets/index-B72Saqn_.js","assets/index-DdhnM4u-.css","assets/index-H1cMGHov.js","assets/Dropdown-P9l2osTz.css","assets/SearchBar-B_obhKOM.js","assets/SearchBar.vue_vue_type_script_setup_true_lang-yeOEGUY0.js","assets/KanbanSkeleton-B_yHHhaN.js","assets/KanbanSkeleton-BjQaxKe3.css","assets/BaseTextField-Bb2vyPKa.js","assets/KanbanTicket-D03-fTAw.js","assets/DropMenu.vue_vue_type_script_setup_true_lang-CkyDg0M5.js","assets/ConfirmDeleteModal.vue_vue_type_script_setup_true_lang-BWdb0Wjo.js","assets/KanbanTicket-dlS9DisH.css","assets/TableView-M3JygbHa.js","assets/TableView.vue_vue_type_script_setup_true_lang-D6v8MYOI.js","assets/TableSearchCell-C9oYQIZ1.js","assets/TableAssigneeCell-DNAZCah4.js","assets/CalendarView-CSBbc167.js","assets/CalendarView-BkzIJC_N.css","assets/GanttChartView-DPwxx5Tj.js","assets/TimelineView-DhC5Ze9C.js","assets/TimelineView-BsFP6voT.css","assets/CreateTaskModal-DtaOHp2d.js","assets/CreateTaskModal.vue_vue_type_script_setup_true_lang-gDPSMOPW.js","assets/CreateSheetModal-CGsK6Lp6.js","assets/IconPicker-DK34G8Te.js","assets/IconPicker-CIMr_3tu.css","assets/AudioRecorder.vue_vue_type_script_setup_true_lang-CUC1Qss9.js","assets/CreateSheetModal--7RYCgy-.css","assets/CreateVariableModal-DKnPXTvZ.js","assets/ConfirmDeleteModal-CgYG6Acq.js","assets/SidePanel-DCIm590z.js","assets/sidePanelStore-KgHiFI7M.js","assets/SidePanel-DKz3jwDY.css","assets/KanbanBoard-D_d7AKqz.js","assets/vuedraggable.umd-BWswQCWs.js","assets/_commonjsHelpers-_d1bhYXs.js","assets/KanbanBoard-IqVBNhxM.css"])))=>i.map(i=>d[i]);
import{d as Aa,Z as Da,r as p,Q as La,S as Ia,c as D,a5 as Pa,x as R,a3 as Na,a9 as Ma,u as Oa,au as qa,C as Ra,A as Ua,aa as za,ab as ja,ac as Ba,a4 as Fa,af as T,ag as Ha,U as Wa,ah as g,ae as Ka,a6 as $a,ad as Qa,a as Za,ai as Ya,aj as Ga,m as L,g as s,h as w,f as U,n as k,w as ee,i as u,F as z,G as Ye,y as Ge,J as xt,l as me,al as kt,ak as Ct,t as Je,T as Ja,am as Xe,an as Xa,H as y,o as _,k as De,X as wt,Y as et,ap as el,ao as tt,N as tl}from"./index-B72Saqn_.js";import{F as St}from"./fuse-Ch1WBRTM.js";import{l as al}from"./lodash-CQYOKM_D.js";import{k as _e}from"./MindElixir-Ch35iPok.js";import{u as ll}from"./sidePanelStore-KgHiFI7M.js";import"./_commonjsHelpers-_d1bhYXs.js";const rl={class:"flex-auto rounded-[6px] flex-grow h-full bg-bg-card overflow-x-auto flex-col flex scrollbar-visible"},il={class:"overflow-x-auto shrink-0 sticky top-0 z-20 bg-bg-card"},sl={class:"header px-4 py-3 border-b border-border flex items-center justify-between gap-1 min-w-max h-full"},ol={class:"flex gap-3 items-center"},nl={class:"flex items-center gap-3 bg-bg-surface/50 h-[32px] px-2 rounded-md"},dl={class:"flex overflow-x-auto gap-3 p-4 scrollbar-visible h-full"},ul={key:0,class:"mx-auto text-text-secondary/80 m-2 w-[90%] h-full justify-center flex items-center border border-dashed border-border"},cl={key:0,class:"bg-bg-body rounded-lg p-4"},vl={class:"flex items-center mt-3 gap-3"},pl=["disabled"],fl={class:"relative w-full h-full flex overflow-hidden"},bl={key:0,class:"format-sidebar h-full py-4 px-4 w-[320px] border-l bg-bg-card overflow-x-hidden overflow-y-auto flex flex-col"},ml={class:"flex items-center justify-between pb-3 mb-4 border-b"},_l={class:"format-content space-y-6"},gl={class:"format-group mb-3"},yl={class:"flex items-center gap-2"},hl=["value"],xl={class:"format-group mb-3"},kl={class:"flex items-center gap-2"},Cl=["value"],wl={class:"grid grid-cols-1 gap-3"},Sl=["value"],Tl={class:"mt-6 pt-4"},Vl=["disabled"],El={key:0,class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},Al={key:0,class:"fixed inset-0 bg-black/30 flex items-center justify-center"},Dl={class:"bg-white p-6 rounded-xl w-80"},Ll={class:"flex justify-end gap-2 mt-4"},Il=["disabled"],Pl={class:"flex items-center mt-3 gap-3"},Nl=Aa({__name:"Product",setup(Ml){const at=g(()=>y(()=>import("./Dropdown-MjhKMs-e.js"),__vite__mapDeps([0,1,2,3,4]))),Tt=g(()=>y(()=>import("./SearchBar-B_obhKOM.js"),__vite__mapDeps([5,6,1,2]))),Vt=g(()=>y(()=>import("./KanbanSkeleton-B_yHHhaN.js"),__vite__mapDeps([7,1,2,8]))),ge=g(()=>y(()=>import("./BaseTextField-Bb2vyPKa.js"),__vite__mapDeps([9,1,2]))),lt=g(()=>y(()=>import("./index-B72Saqn_.js").then(t=>t.dq),__vite__mapDeps([1,2]))),Et=g(()=>y(()=>import("./KanbanTicket-D03-fTAw.js"),__vite__mapDeps([10,1,2,11,3,12,13]))),At=g(()=>y(()=>import("./TableView-M3JygbHa.js"),__vite__mapDeps([14,15,1,2]))),Dt=g(()=>y(()=>import("./index-B72Saqn_.js").then(t=>t.ds),__vite__mapDeps([1,2]))),rt=g(()=>y(()=>import("./TableSearchCell-C9oYQIZ1.js"),__vite__mapDeps([16,1,2]))),Lt=g(()=>y(()=>import("./TableAssigneeCell-DNAZCah4.js"),__vite__mapDeps([17,1,2]))),It=g(()=>y(()=>import("./CalendarView-CSBbc167.js"),__vite__mapDeps([18,1,2,19]))),Pt=g(()=>y(()=>import("./GanttChartView-DPwxx5Tj.js"),__vite__mapDeps([20,1,2]))),Nt=g(()=>y(()=>import("./TimelineView-DhC5Ze9C.js"),__vite__mapDeps([21,1,2,22]))),Mt=g(()=>y(()=>import("./CreateTaskModal-DtaOHp2d.js"),__vite__mapDeps([23,24,1,2]))),Ot=g(()=>y(()=>import("./CreateSheetModal-CGsK6Lp6.js"),__vite__mapDeps([25,1,2,26,27,28,29]))),qt=g(()=>y(()=>import("./CreateVariableModal-DKnPXTvZ.js"),__vite__mapDeps([30,1,2]))),Le=g(()=>y(()=>import("./ConfirmDeleteModal-CgYG6Acq.js"),__vite__mapDeps([31,12,1,2]))),Rt=g(()=>y(()=>import("./SidePanel-DCIm590z.js"),__vite__mapDeps([32,1,2,33,34]))),Ut=g(()=>y(()=>import("./KanbanBoard-D_d7AKqz.js"),__vite__mapDeps([35,36,37,1,2,11,3,38]))),{canEditSheet:Ie,canDeleteSheet:zt,canCreateVariable:$,canCreateSheet:ye,canCreateCard:j,canEditCard:N,canDeleteCard:it,canAssignCard:Pe}=Da(),te=p(!1),ae=p(null),le=p(!1),re=p(null),Ne=p(!1),f=p("kanban"),ie=p(null),Q=p(null),se=p(!1),he=Ua(),{workspaceId:V,moduleId:O}=La(),E=Ia(),xe=p(!1),C=p(),B=p(null),Z=p(!1),ke=p(!1),F=p(""),Me=p(null),Oe=ll();function jt(t){F.value="",ke.value=!0,Me.value=t}function Bt(){Me.value&&Me.value(F.value),ke.value=!1}function Ft(){ke.value=!1}const Y=p([]),Ce=p([]),Ht=t=>{Y.value=t.filter(e=>!e._id),Ce.value=t.map(e=>e._id||e.id)},qe=p(null),Wt=t=>{qe.value=t},Kt=D(()=>{var t;return(t=I.value)==null?void 0:t.find(e=>e._id===S.value)}),st=p(!1),ot=p(!1);R(st,t=>{t&&(ot.value=!1)}),R(ot,t=>{t&&(st.value=!1)});const nt=async()=>{if(re.value)try{Ne.value=!0,await wt({url:`workspace/card/${re.value}`,method:"DELETE"}),Qt(re.value),le.value=!1,ae.value=null,et.success("Ticket deleted successfully"),await oe(),await Te()}catch(t){et.error(el(t))}finally{Ne.value=!1}},$t=async()=>{await nt()},Qt=t=>{var e,a;(a=(e=x.value)==null?void 0:e.sheets)==null||a.forEach(r=>{var l;(l=r.sheet_lists)==null||l.forEach(d=>{d.cards=d.cards.filter(c=>c._id!==t)})})},{data:we,refetch:oe,isPending:dt}=Na({workspace_id:V,workspace_module_id:O}),Re=D(()=>{var t;return we.value?(t=we.value[0])==null?void 0:t._id:""}),A=p(Re.value),{data:I,isPending:Zt}=Pa(V,O,A),{mutate:Ue,isPending:ze}=Ma({onSuccess:()=>{E.invalidateQueries({queryKey:["sheet-list"]}),G.value="",J.value=!1,de.value=!1,J.value=!1}}),ut=D(()=>{var t;return((t=Kt.value)==null?void 0:t.title)==="Process"&&qe.value?{variable_slug:"card-type",type_value:qe.value.title}:{}}),ct=t=>{const e={workspace_id:V.value,module_id:O.value,variable_id:S.value,value:t,...ut.value};Ue(e)};R(Re,()=>{A.value=Re.value});const je=D(()=>{var t;return I!=null&&I.value?(t=I==null?void 0:I.value[0])==null?void 0:t._id:""}),S=p(je.value);R(je,()=>{S.value=je.value});const Se=Oa(),{data:x,isPending:Be,refetch:Te}=qa(O,A,D(()=>[...Se.selectedLaneIds]),S,ut);Ra(()=>{vt()}),R(()=>he.params.card_id,()=>vt());async function vt(){const t=he.params.card_id;if(!t)return;Oe.saveLocalId(t),q({_id:t,id:t})}const q=t=>{t._id||(t._id=t.id),C.value=t,Oe.selectTaskCard(t)};window.selectCardHandler=q;const Yt=()=>{C.value=null,Oe.clearSelectedCard()},ne=p(!1),Gt=()=>{W.value={},ne.value=!ne.value},Jt=za(),Xt=ja();function ea(t){t.type==="column"?Jt.mutate({payload:{workspace_id:V.value,workspace_module_id:O.value,variable_id:S.value,moved_value:t.meta.id,new_index:t.meta.newIndex}},{onSuccess:()=>{oe(),Te()}}):Xt.mutate({payload:{workspace_id:V.value,card_id:t.meta.moved._id,group_value:t.meta.fromColumnId,group_variable_id:S.value,new_index:t.meta.newIndex,sheet_id:A.value}},{onSuccess:()=>{oe(),Te()}})}const ta=t=>{},aa=D(()=>(we.value||[]).map(t=>({_id:t._id,title:t==null?void 0:t.variables["sheet-title"],description:t==null?void 0:t.variables["sheet-description"],icon:t.icon,status:t==null?void 0:t.generation_status})));R(we,t=>{var e;(t==null?void 0:t.length)>0&&(A.value=(e=t[0])==null?void 0:e._id)});const de=p(!1),G=p("");function Fe(){de.value=!de.value}function Ve(){const t=G.value.trim();t&&ct(t)}const la=t=>{Ue({workspace_id:he.params.id,module_id:he.params.module_id,new_value:t.title,value:t.oldTitle,variable_id:S.value})},J=p(!1),H=p(),ra=()=>{Ue({value:H.value.title,workspace_id:V.value,module_id:O.value,newValue:H.value.title,variable_id:S.value,is_trash:!0})},ia=t=>{J.value=!0,H.value=t},sa=t=>{xe.value=!0,H.value=t},W=p();function oa(t){te.value=!0,W.value=t}const{mutate:pt,isPending:na}=Ba({onSuccess:()=>{oe(),te.value=!1}});function da(){var t;pt({sheet_id:(t=W.value)==null?void 0:t._id,workspace_module_id:O.value,is_trash:!0})}function ua(t){ne.value=!0,W.value=t}const ue=p(""),ca=p("");R(ue,al.debounce(t=>{ca.value=t},200));const ft=D(()=>{const e=(x.value||[]).flatMap(a=>(a.cards||[]).map(r=>{const l=Array.isArray(r.variables)?r.variables.find(d=>d.slug==="card-description"):null;return{...r,columnId:a.title,"card-description":r["card-description"]||(l==null?void 0:l.value)||""}}));return new St(e,{keys:["card-title","card-description"],threshold:.3})}),ce=D(()=>{var t;if(f.value==="kanban"){if(!ue.value)return x.value;console.log("fuse data",ft.value);const e=ft.value.search(ue.value).map(a=>a.item);return x.value.map(a=>({...a,cards:e.filter(r=>r.columnId===a.title)}))}else{const e=(t=ue.value)==null?void 0:t.trim();if(!e){let l=[];if((x.value??[]).forEach(d=>{l=[...l,...d==null?void 0:d.cards]}),Ce.value.length>0){const d=new Map;l.forEach(i=>d.set(i._id,i)),Y.value.forEach(i=>d.set(i.id,i));const c=Ce.value.map(i=>d.get(i)).filter(Boolean),v=new Set(c.map(i=>i._id||i.id)),n=[...l.filter(i=>!v.has(i._id)),...Y.value.filter(i=>!v.has(i.id))];return[...c,...n]}return[...l,...Y.value]}return[...new St(fa.value,{keys:["card-title","card-description"],threshold:.3}).search(e).map(l=>l.item),...Y.value]}}),{data:He}=Fa(V),We=D(()=>((He==null?void 0:He.value)??[]).map(t=>{var e;return{_id:t._id,title:((e=t==null?void 0:t.variables)==null?void 0:e["lane-title"])??String(t._id)}})),va=D(()=>{var t;return[{key:"card-title",label:"Title",render:({row:e,value:a})=>T("div",{class:"flex items-center gap-1 w-full ps-2"},[T("a",{onClick:()=>C.value=e,class:"text-[12px] underline text-blue-500 shrink-0 overflow-ellipsis cursor-pointer"},e["card-code"]),T("div",{class:"flex-1 min-w-0"},[T("input",{onFocusout:r=>{var l;mt(e,"card-title",(l=r==null?void 0:r.target)==null?void 0:l.value)},class:"text-[12px] w-full overflow-ellipsis capitalize p-1 w-full p-1 focus:border border-accent/60 rounded-sm focus:outline-none focus:ring-1 focus:ring-accent bg-transparent focus:bg-bg-body text-[12px] h-8",defaultValue:a,disabled:!N.value})])])},{key:"end-date",label:"Due Date",render:({row:e,value:a})=>{const r=p(a);return T(Dt,{class:" capitalize flex items-center gap-2 text-[12px]",placeholder:"Set start date",tableInputClass:!0,modelValue:r.value,disabled:!N.value,"onUpdate:modelValue":l=>ya(e,l),emptyText:"Date"})}},{key:"lane",label:"Lane",render:({row:e})=>{var a;return T(rt,{options:We.value??[],placeholder:"Select lane",modelValue:((a=e.lane)==null?void 0:a._id)||null,disabled:!N.value,"onUpdate:modelValue":r=>ha(e,r),displayField:"title",emptyText:"Lane"})}},{key:"created_by",label:"Owner",render:({value:e})=>T("div",{class:"capitalize flex items-center gap-2  px-3"},[T("div",{class:" rounded-full  "},[e!=null&&e.u_profile_image?T("img",{class:"w-6 h-6 rounded-full",src:e==null?void 0:e.u_profile_image}):T("div",{class:"w-5 h-5 rounded-full flex justify-center items-center text-[11px] ",style:`background:${e!=null&&e.u_full_name?Ha({name:e.u_full_name,email:e.u_email}):""}`},Wa(e==null?void 0:e.u_full_name))]),T("span",{class:"text-[12px]"},e?e==null?void 0:e.u_full_name:"")])},{key:"seat",label:"Assignee",render:({row:e,value:a})=>T(Lt,{class:"capitalize flex items-center gap-2 ",onAssign:r=>pa(e,r),assigneeId:a,seat:a,name:!0,disabled:!Pe.value,emptyText:"Assignee"})},...((t=I.value)==null?void 0:t.filter(e=>{var a;return((a=e==null?void 0:e.type)==null?void 0:a.title)==="Select"}).map(e=>({key:e==null?void 0:e.slug,label:e==null?void 0:e.slug,render:({row:a,value:r})=>{var d;let l=r;if(Array.isArray(a==null?void 0:a.variables)){const c=a.variables.find(v=>v.slug===e.slug);c&&(l=c.value)}else l=((d=a==null?void 0:a.variables)==null?void 0:d[e.slug])??(a==null?void 0:a[e.slug])??r;return T("div",{class:"capitalize flex items-center gap-2"},[T(rt,{options:ba(e.data??[]),modelValue:l,disabled:!N.value,emptyText:e.slug,"onUpdate:modelValue":c=>{mt(a,e.slug,c)},columnName:e.slug})])},visible:e==null?void 0:e.is_visible})))??[]]}),pa=(t,e)=>{const a=t==null?void 0:t._id;a?(Ee(a,r=>{r.seat=e}),ve.mutate({card_id:a,seat_id:e==null?void 0:e._id})):(t.seat=e,pe(t))},fa=D(()=>{let t=[];return(x.value??[]).forEach(e=>{t=[...t,...e==null?void 0:e.cards]}),t}),ba=t=>t.map(e=>({_id:e.value??e,title:e.value??e})),ma=(t,e)=>{if(!x.value)return!1;let a=!1;const r=x.value.map(l=>{const d=(l.cards||[]).map(c=>{if(c._id!==t)return c;a=!0;const v={...c,...e};if(Array.isArray(c.variables)){const n=[...c.variables];Object.entries(e).forEach(([i,b])=>{const o=n.findIndex(m=>m.slug===i);o!==-1?n[o]={...n[o],value:b}:n.push({slug:i,value:b,type:"Text"})}),v.variables=n}else v.variables={...c.variables||{},...e};return v});return{...l,cards:d}});return x.value=r,a},ve=Ka({onMutate:async t=>{const{card_id:e,variables:a}=t;await E.cancelQueries({queryKey:["product-card",e]}),await E.cancelQueries({queryKey:["sheet-list"]});const r=E.getQueryData(["product-card",e]),l=E.getQueryData(["sheet-list"]),d=c=>{if(!c)return c;const v={...c,variables:Array.isArray(c.variables)?[...c.variables]:{...c.variables||{}}};return a&&(Object.assign(v,a),Array.isArray(v.variables)?Object.entries(a).forEach(([n,i])=>{const b=v.variables.findIndex(o=>o.slug===n);b!==-1?v.variables[b]={...v.variables[b],value:i}:v.variables.push({slug:n,value:i,type:"Text"})}):Object.assign(v.variables,a)),t.optimisticUser&&(v.seat=t.optimisticUser),t.workspace_lane_id&&(v.workspace_lane_id=t.workspace_lane_id),v};return a&&x.value&&ma(e,a),C.value&&C.value._id===e&&(C.value=d(C.value)),E.setQueryData(["product-card",e],d),E.setQueriesData({queryKey:["sheet-list"]},c=>Array.isArray(c)?c.map(v=>{var n;return{...v,cards:(n=v.cards)==null?void 0:n.map(i=>i._id===e?d(i):i)}}):c),Xe(x),{previousCard:r,previousLists:l}},onError:(t,e,a)=>{a!=null&&a.previousCard&&E.setQueryData(["product-card",e.card_id],a.previousCard),a!=null&&a.previousLists&&E.setQueryData(["sheet-list"],a.previousLists),C.value&&C.value._id===e.card_id&&(a!=null&&a.previousCard)&&(C.value=a.previousCard),console.log(t)}});function _a({cardId:t}){E.setQueriesData({queryKey:["sheet-list"]},e=>Array.isArray(e)?e.map(a=>({...a,cards:a.cards.map(r=>r._id===t?{...r,comment_count:(r.comment_count||0)+1}:r)})):e)}const Ee=(t,e)=>{if(x.value)for(const a of x.value){if(!a.cards)continue;const r=a.cards.findIndex(l=>l._id===t);if(r!==-1){const l=a.cards[r];e(l),Xe(x);break}}},{mutate:bt}=$a({onSuccess:()=>{E.invalidateQueries({queryKey:["sheet-list"]}),Y.value=[],Ce.value=[]}});function pe(t){var d,c;const e=t["card-title"],a=((d=t.lane)==null?void 0:d._id)||t.workspace_lane_id;let r=t["card-status"],l=t["card-type"];if(Array.isArray(t.variables)){const v=t.variables.find(i=>i.slug==="card-status");v&&(r=v.value);const n=t.variables.find(i=>i.slug==="card-type");n&&(l=n.value)}else typeof t.variables=="object"&&t.variables!==null&&(r=t.variables["card-status"]||r,l=t.variables["card-type"]||l);if(e&&r&&l){const v={};I.value&&I.value.forEach(i=>{v[i.slug]=null}),v["card-title"]=e.trim(),v["card-status"]=r,v["card-type"]=l,Object.keys(t).forEach(i=>{v.hasOwnProperty(i)&&(v[i]=t[i])}),Array.isArray(t.variables)?t.variables.forEach(i=>{v.hasOwnProperty(i.slug)&&(v[i.slug]=i.value)}):typeof t.variables=="object"&&t.variables!==null&&Object.entries(t.variables).forEach(([i,b])=>{v.hasOwnProperty(i)&&(v[i]=b)});const n={sheet_list_id:r,workspace_id:V.value,sheet_id:A.value,workspace_lane_id:a,seat_id:((c=t.seat)==null?void 0:c._id)||t.seat_id||null,variables:v,"start-date":t["start-date"]||null,"end-date":t["end-date"]||null,createdAt:new Date().toISOString()};bt(n)}}function mt(t,e,a){const r=t==null?void 0:t._id,l=typeof a=="string"?a.trim():a;if(r)Ee(r,d=>{var c;if(d[e]=l,Array.isArray(d.variables)){const v=d.variables.findIndex(n=>n.slug===e);v!==-1?d.variables[v].value=l:d.variables.push({slug:e,value:l,type:"Text"})}else typeof d.variables=="object"&&d.variables!==null&&(d.variables[e]=l);((c=C.value)==null?void 0:c._id)===r&&(C.value[e]=l)}),ve.mutate({card_id:r,variables:{[e]:l}});else{if(t[e]=l,Array.isArray(t.variables)){const d=t.variables.findIndex(c=>c.slug===e);d!==-1?t.variables[d].value=l:t.variables.push({slug:e,value:l,type:"Text"})}else t.variables||(t.variables={}),t.variables[e]=l;pe(t)}}function ga(t){pe(t)}const ya=(t,e)=>{const a=t==null?void 0:t._id;a?(Ee(a,r=>{r["end-date"]=e}),ve.mutate({card_id:a,variables:{"start-date":e}})):(t["end-date"]=e,pe(t))};function ha(t,e){const a=t==null?void 0:t._id;if(a)Ee(a,r=>{const l=We.value.find(d=>d._id===e);l&&(r.lane=l)}),Xe(x),ve.mutate({card_id:a,workspace_lane_id:e});else{const r=We.value.find(l=>l._id===e);r&&(t.lane=r,t.workspace_lane_id=e),pe(t)}}const{mutate:xa}=Qa(),ka=(t,e)=>{xa({payload:{sheet_id:A.value,workspace_id:V.value,variable_slug:t,is_visible:e}})},K=D(()=>{var t,e;return(e=(t=B.value)==null?void 0:t.nodeObj)!=null&&e.style?B.value.nodeObj.style:Ze(P)});function M(t,e,a){return t!==void 0?t:e!==void 0?e:a}function Ke(t,e){var c;if(!((c=B.value)!=null&&c.nodeObj))return;const a=B.value.nodeObj;a.style||(a.style={});const r=e.target,l=r.type==="number"?Number(r.value):r.value;switch(t){case"bg_color":a.style.background=l;break;case"color":a.style.color=l;break;case"font_size":a.style.fontSize=`${l}px`;break;case"font_weight":a.style.fontWeight=l;break;case"font_style":a.style.fontStyle=l;break;case"font_family":a.style.fontFamily=l;break;case"border_color":a.style.borderColor=l;break;case"border_width":a.style.borderWidth=`${l}px`;break;case"border_radius":a.style.borderRadius=`${l}px`;break;case"padding":a.style.padding=`${l}px`;break}const d=document.getElementById(a.id);d&&yt(a,d)}const P={bg_color:"#ffffff",color:"#000000",font_size:14,font_weight:"normal",font_style:"normal",font_family:"Inter",border_color:"#cccccc",border_width:0,border_radius:0,padding:0},X=p(!1);async function _t(){var e;const t=(e=B.value)==null?void 0:e.nodeObj;if(!(!t||X.value)){X.value=!0;try{const a=Xa(t);a._originalStyle||(a._originalStyle={});const r=a.style||{},l=a._originalStyle,d={bg_color:M(r.background,l.bg_color,P.bg_color),color:M(r.color,l.color,P.color),font_size:M(r.fontSize?parseInt(r.fontSize):void 0,l.font_size,P.font_size),font_weight:M(r.fontWeight,l.font_weight,P.font_weight),font_style:M(r.fontStyle,l.font_style,P.font_style),font_family:M(r.fontFamily,l.font_family,P.font_family),border_color:M(r.borderColor,l.border_color,P.border_color),border_width:M(r.borderWidth?parseInt(r.borderWidth):void 0,l.border_width,P.border_width),border_radius:M(r.borderRadius?parseInt(r.borderRadius):void 0,l.border_radius,P.border_radius),padding:M(r.padding?parseInt(r.padding):void 0,l.padding,P.padding),hyperLink:F.value||a.hyperLink||""};a._originalStyle={...d};const c=a.unique_name==="sheet"?{sheet_id:a.id,workspace_id:V.value,workspace_module_id:O.value,style:d}:{card_id:a.id,seat_id:a.seat_id,style:d};a.unique_name==="sheet"?await pt(c):await ve.mutateAsync(c)}finally{X.value=!1}}}const Ca=p([]),{isDark:$e}=Za();function wa(t){const e={id:"root",topic:localStorage.getItem("currentName")??"",isRoot:!0,children:[],style:{},_originalStyle:{},unique_name:"root"};if(!Array.isArray(t))return e;const a={};return t.forEach(r=>{var v,n;const l=((v=r.variables)==null?void 0:v["sheet-title"])||"Untitled",d=((n=r.style)==null?void 0:n.hyperLink)||"";a[l]||(a[l]={id:r._id,topic:l,variables:r==null?void 0:r.variables,children:[],style:r==null?void 0:r.style,_originalStyle:(r==null?void 0:r.style)||{},unique_name:"sheet",hyperLink:d||""},e.children.push(a[l]));const c={id:r==null?void 0:r._id,topic:r.title,children:[],style:Ze(r==null?void 0:r.style),_originalStyle:r.style||{},unique_name:"List",hyperLink:d||""};(r.cards||[]).forEach((i,b)=>{var h;const o=((h=i.style)==null?void 0:h.hyperLink)||"",m={id:i._id||`card-${b}`,seat_id:i.seat_id,topic:i["card-title"],style:Ze(i.style),_originalStyle:i.style||{},children:[],unique_name:"card",hyperLink:o||""};c.children.push(m),Ca.value=m}),a[l].children.push(c)}),e}const{mutateAsync:Sa}=Ya({onSuccess:()=>{E.invalidateQueries({queryKey:["sheets"]}),E.invalidateQueries({queryKey:["sheet-list"]}),close()}}),Ta=async t=>{try{await wt({url:"workspace/cards/group-card-order",method:"PATCH",data:t}),oe(),Te(),console.log("Card reordered successfully")}catch(e){console.error("Failed to reorder card:",e)}};function gt(){var a;const t=(a=ie.value)==null?void 0:a.querySelector(".mind-elixir-toolbar.rb");if(!t||t.querySelector(".open-sidebar-btn"))return;const e=document.createElement("button");e.className="open-sidebar-btn me-toolbar-btn ms-2",e.title="Open Formatting Sidebar",e.innerHTML='<i class="fa-solid fa-sidebar"></i>',e.addEventListener("click",()=>{Z.value=!Z.value}),t.appendChild(e)}let fe=null;function Va(){var e,a;fe&&(fe.disconnect(),fe=null);const t=(a=(e=ie.value)==null?void 0:e.querySelector(".mind-elixir-toolbar.rb"))==null?void 0:a.parentElement;t&&(fe=new MutationObserver(()=>{gt()}),fe.observe(t,{childList:!0,subtree:!0}),gt())}const Qe=[];(N||Ie)&&(Qe.push({name:"Update Node",onclick:()=>{var e;Z.value&&(Z.value=!1);const t=(e=B.value)==null?void 0:e.nodeObj;t&&q(t)}}),Qe.push({name:"Add Hyperlink",onclick:()=>{jt(async()=>{await _t()})}})),Ga(()=>{f.value!=="mindmap"||!ie.value||!x.value||tt(()=>{var c,v;const t=wa(x.value);Q.value&&((v=(c=Q.value).destroy)==null||v.call(c),Q.value=null);const e=new Set,a=new Set,r=new Set,l=new _e({el:ie.value,theme:$e.value?_e.DARK_THEME:_e.THEME,draggable:!0,contextMenu:!0,toolBar:!0,keypress:!0,locale:"en",overflowHidden:!1,contextMenuOption:{Update:N&&Ie&&j,extend:Qe}});Q.value=l,l.init({nodeData:t}),tt(()=>{setTimeout(()=>{l.toCenter()},300)}),tt(()=>{Va()}),l.bus.addListener("selectNode",n=>{n&&(B.value={nodeObj:n})}),l.bus.addListener("renderNode",n=>{!(n!=null&&n.nodeObj)||!(n!=null&&n.element)||yt(n.nodeObj,n.element)});const d=n=>{let i=n;for(;i;){if(i.unique_name==="sheet")return i;i=i.parent}return null};l.bus.addListener("operation",async n=>{if(!n&&j&&N&&ye){et.error("You do not have permission to perform this action.");return}if(n.name==="moveNode"||n.name==="moveNodeBefore"||n.name==="moveNodeAfter"){if(!N)return;const i=n.obj,b=n.target;if(!i||i.unique_name!=="card"||!b)return;const o=i._originalParent||i.parent;if(!o||o.unique_name!=="List")return;const m=b.unique_name==="List"?b:b.parent;if(!m||m.unique_name!=="List")return;const h=d(m);if(!h)return;const be=m.children.findIndex(Ae=>Ae.id===i.id);if(be===-1)return;i._originalParent=m,await Ta({workspace_id:V.value,card_id:i.id,group_value:m.topic,group_variable_id:S.value,new_index:be,sheet_id:h.id});return}if(n.name==="removeNode"){const i=n.obj;if(!i||!i.id||i.unique_name!=="card"||!it)return;re.value=i.id,await nt();return}if(n.name==="addChild"||n.name==="insertSibling"){const i=n.obj;if(!i||!i.id||i.unique_name==="sheet"&&!ye||i.unique_name==="List"&&!$||i.unique_name==="card"&&!j)return;e.add(i.id);return}if(n.name==="beginEdit"){const i=n.obj;console.log("editing node",i);return}if(n.name==="finishEdit"){const i=n.obj;if(!i||!i.id)return;const b=e.has(i.id),o=a.has(i.id);if(!b&&!o||o)return;if(b){e.delete(i.id),a.add(i.id);const m=i.parent;if(!m||!("unique_name"in m)){a.delete(i.id);return}if(m.unique_name==="root"&&!r.has(i.id)){if(!ye){a.delete(i.id);return}r.add(i.id);try{await Sa({variables:{"sheet-title":i.topic??"New Sheet","sheet-description":"This is custom description"},is_ai_generated:!1,workspace_id:V.value,workspace_module_id:O.value})}catch(h){console.error("Error creating workspace sheet:",h),a.delete(i.id),r.delete(i.id)}return}if(m.unique_name==="List"){if(!j){a.delete(i.id);return}try{const h=Ea({topic:i.topic??"New Card",id:i.id},m);h.variables&&(h.variables["card-description"]="This is a default description"),await bt(h)}catch(h){console.error("Error creating card:",h),a.delete(i.id)}return}if(m.unique_name==="sheet"){if(!$)return;try{console.log("Creating new list under sheet...")}catch(h){console.error("Error creating list:",h),a.delete(i.id)}return}}}})})}),R($e,()=>{Q.value&&Q.value.changeTheme($e.value?_e.DARK_THEME:_e.THEME)},{immediate:!0});function yt(t,e){if(!t||!e||!t.style)return;const a=e.querySelector(".topic"),r=e.querySelector(".node")??e,l=t.style;l.background&&(r.style.background=l.background),l.color&&a&&(a.style.color=l.color),a&&(l.fontSize&&(a.style.fontSize=l.fontSize),l.fontFamily&&(a.style.fontFamily=l.fontFamily),l.fontWeight&&(a.style.fontWeight=l.fontWeight),l.fontStyle&&(a.style.fontStyle=l.fontStyle)),l.borderColor&&(r.style.borderColor=l.borderColor),l.borderWidth&&(r.style.borderWidth=l.borderWidth),l.borderRadius&&(r.style.borderRadius=l.borderRadius),l.padding&&(r.style.padding=l.padding)}function Ze(t={}){return{background:t.bg_color,color:t.color,fontSize:t.font_size!=null?`${t.font_size}px`:void 0,fontWeight:t.font_weight,fontStyle:t.font_style,fontFamily:t.font_family,borderColor:t.border_color,borderWidth:t.border_width!=null?`${t.border_width}px`:void 0,borderRadius:t.border_radius!=null?`${t.border_radius}px`:void 0,padding:t.padding!=null?`${t.padding}px`:void 0,hyperLink:t.hyperLink||void 0}}function Ea(t,e){const a=new Date,r=a.toISOString().split("T")[0],l=new Date(a.getTime()+3*24*60*60*1e3).toISOString().split("T")[0];return{sheet_list_id:(e==null?void 0:e.topic)||"In Progress",workspace_id:V.value,sheet_id:A.value,workspace_lane_id:(t==null?void 0:t.workspace_lane_id)||null,variables:{"card-status":(e==null?void 0:e.topic)||"In Progress","card-type":"General",priority:"medium",process:null,"card-title":t.topic||"New Card","card-description":"","start-date":r,"end-date":l},createdAt:new Date().toISOString()}}return(t,e)=>{var a,r,l,d,c,v,n,i,b;return _(),L(Ye,null,[s("div",rl,[s("div",il,[s("div",sl,[w(u(at),{onEditOption:ua,modelValue:A.value,"onUpdate:modelValue":e[1]||(e[1]=o=>A.value=o),canEdit:u(Ie),canDelete:u(zt),onDeleteOption:oa,options:aa.value,variant:"secondary",customClasses:"fixed w-auto"},{more:ee(()=>[u(ye)?(_(),L("div",{key:0,onClick:e[0]||(e[0]=o=>Gt()),class:"capitalize border-t border-border px-4 py-2 hover:bg-bg-dropdown-menu-hover cursor-pointer flex items-center gap-1 overflow-hidden overflow-ellipsis text-nowrap"},e[37]||(e[37]=[s("i",{class:"fa-solid fa-plus"},null,-1),De(" Add new ")]))):k("",!0)]),_:1},8,["modelValue","canEdit","canDelete","options"]),s("div",ol,[(f.value=="kanban",_(),U(u(at),{key:0,actions:!1,modelValue:S.value,"onUpdate:modelValue":e[3]||(e[3]=o=>S.value=o),options:u(I),variant:"secondary",customClasses:"fixed w-auto",onNestedSelect:Wt},{more:ee(()=>[u($)?(_(),L("div",{key:0,onClick:e[2]||(e[2]=()=>{se.value=!0}),class:"sticky bottom-0 bg-bg-dropdown shadow-md shadow-border capitalize border-t border-border px-4 py-2 hover:bg-bg-dropdown-menu-hover cursor-pointer flex items-center gap-1 overflow-hidden overflow-ellipsis text-nowrap"},e[38]||(e[38]=[s("i",{class:"fa-solid fa-plus"},null,-1),De(" Add new ")]))):k("",!0)]),_:1},8,["modelValue","options"])),w(u(Tt),{onOnChange:e[4]||(e[4]=o=>{ue.value=o}),placeholder:"Search in Orchit AI space"}),s("div",nl,[s("button",{class:z(["aspect-square cursor-pointer rounded-sm p-0 px-0.5",f.value==="kanban"?"text-accent bg-accent-text":" hover:bg-border/50 backdrop-blur-2xl  transition-all duration-75 hover:outline-border hover:outline hover:text-accent"]),title:"Kanban view",onClick:e[5]||(e[5]=o=>f.value="kanban")},e[39]||(e[39]=[s("i",{class:"fa-solid fa-chart-kanban"},null,-1)]),2),s("button",{onClick:e[6]||(e[6]=o=>f.value="table"),class:z(["aspect-square cursor-pointer rounded-sm p-0 px-0.5",f.value==="table"?"text-accent bg-accent-text":"hover:bg-border/50 backdrop-blur-2xl transition-all duration-75 hover:outline-border hover:outline hover:text-accent"]),title:"List view"},e[40]||(e[40]=[s("i",{class:"fa-solid fa-align-left"},null,-1)]),2),s("button",{onClick:e[7]||(e[7]=o=>f.value="mindmap"),class:z(["aspect-square cursor-pointer rounded-sm p-0 px-0.5",f.value==="mindmap"?"text-accent bg-accent-text":"hover:bg-border/50 backdrop-blur-2xl transition-all duration-75 hover:outline-border hover:outline hover:text-accent"]),title:"MindMap view"},e[41]||(e[41]=[s("i",{class:"fa-solid fa-chart-diagram"},null,-1)]),2),s("button",{onClick:e[8]||(e[8]=o=>f.value="calendar"),class:z(["aspect-square cursor-pointer rounded-sm p-0 px-0.5",f.value==="calendar"?"text-accent bg-accent-text":"hover:bg-border/50 backdrop-blur-2xl transition-all duration-75 hover:outline-border hover:outline hover:text-accent"]),title:"Calendar view"},e[42]||(e[42]=[s("i",{class:"fa-regular fa-calendar"},null,-1)]),2),s("button",{onClick:e[9]||(e[9]=o=>f.value="gantt"),class:z(["aspect-square cursor-pointer rounded-sm p-0",f.value==="gantt"?"text-accent bg-accent-text":"hover:bg-border/50 backdrop-blur-2xl transition-all duration-75 hover:outline-border hover:outline hover:text-accent"]),title:"Gantt Chart view"},e[43]||(e[43]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",viewBox:"0 0 24 24",fill:"currentColor"},[s("path",{d:"M4 6h2v12H4V6Zm4 4h10v2H8v-2Zm0 4h10v2H8v-2Zm0-8h10v2H8V6Z"})],-1)]),2),s("button",{onClick:e[10]||(e[10]=o=>f.value="timeline"),class:z(["aspect-square cursor-pointer rounded-sm p-0",f.value==="timeline"?"text-accent bg-accent-text":"hover:bg-border/50 backdrop-blur-2xl transition-all duration-75 hover:outline-border hover:outline hover:text-accent"]),title:"Timeline view"},e[44]||(e[44]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",viewBox:"0 0 24 24",fill:"currentColor"},[s("path",{d:"M4 12a2 2 0 1 1 0-4 2 2 0 0 1 0 4Zm16 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4Zm-8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4Zm0-16a2 2 0 1 1 0-4 2 2 0 0 1 0 4Z",opacity:"0"}),s("path",{d:"M4 12h4m8 0h4M9 12h6M9 12v-6M15 12v6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),2)])])])]),f.value=="kanban"?(_(),L(Ye,{key:0},[Ge(w(u(Vt),null,null,512),[[xt,u(Be)||u(dt)]]),Ge(s("div",dl,[w(u(Ut),{onOnPlus:sa,board:ce.value,"onDelete:column":e[11]||(e[11]=o=>ia(o)),"onUpdate:column":e[12]||(e[12]=o=>la(o)),onReorder:ea,onAddColumn:ct,"onSelect:ticket":q,onOnBoardUpdate:ta,variable_id:S.value,sheet_id:A.value},{"column-footer":ee(o=>{var m,h,be,Ae,ht;return[(h=(m=u(Se))==null?void 0:m.transitions)!=null&&h.all_allowed&&!((ht=(Ae=(be=u(Se))==null?void 0:be.transitions)==null?void 0:Ae.all_allowed)!=null&&ht.includes(o.column.title))&&u(Se).transitions.currentColumn!=o.column.title?(_(),L("div",ul," Disbale ( you can't drop here ) ")):k("",!0)]}),ticket:ee(({ticket:o})=>[w(u(Et),{selectedVar:S.value,onSelect:()=>{q(o)},ticket:o},null,8,["selectedVar","onSelect","ticket"])]),_:1},8,["board","variable_id","sheet_id"]),s("div",{class:"min-w-[270px] sm:min-w-[328px]",onClick:e[14]||(e[14]=me(()=>{},["stop"]))},[de.value?(_(),L("div",cl,[w(u(ge),{autofocus:!0,modelValue:G.value,"onUpdate:modelValue":e[13]||(e[13]=o=>G.value=o),placeholder:"Add New list",onKeyup:kt(Ve,["enter"])},null,8,["modelValue"]),e[45]||(e[45]=s("p",{class:"text-xs mt-1.5"},"You can add details while editing",-1)),s("div",vl,[w(u(lt),{onClick:Ve,varaint:"primary",class:"px-3 py-1 bg-accent cursor-pointer text-white rounded"},{default:ee(()=>[De(Je(u(ze)?"Adding...":"Add list"),1)]),_:1}),s("i",{class:"fa-solid fa-close",onClick:Fe})])])):(_(),L("button",{key:1,disabled:!u($),class:z(["text-sm text-text-primary py-2.5 font-medium flex items-center justify-center w-full gap-2 bg-bg-body rounded-lg",u($)?"cursor-pointer":"cursor-not-allowed"]),onClick:me(Fe,["stop"])}," + Add List ",10,pl))])],512),[[xt,!u(Be)&&!u(dt)]])],64)):k("",!0),f.value=="table"?(_(),U(u(At),{key:1,onToggleVisibility:ka,onAddVar:e[15]||(e[15]=()=>{se.value=!0}),isPending:u(Be)||u(Zt),columns:va.value,rows:ce.value,canCreate:u(j),canCreateVariable:u($),canDelete:u(it),onDelete:e[16]||(e[16]=o=>{ae.value=o,re.value=o._id,le.value=!0}),onCreate:ga,"onUpdate:rows":Ht},null,8,["isPending","columns","rows","canCreate","canCreateVariable","canDelete"])):k("",!0),f.value==="mindmap"?(_(),L(Ye,{key:2},[s("div",fl,[s("div",{ref_key:"mindMapRef",ref:ie,class:"flex-1 h-full overflow-hidden rounded-md relative",style:{height:"600px",width:"100%"}},null,512),Z.value&&u(Pe)&&u(N)&&u(j)?(_(),L("div",bl,[s("div",ml,[e[47]||(e[47]=s("h3",{class:"text-sm font-semibold text-secondary"},"Format Node",-1)),s("button",{onClick:e[17]||(e[17]=o=>Z.value=!1),class:"text-gray-400 hover:text-gray-700"},e[46]||(e[46]=[s("i",{class:"fa-solid fa-times"},null,-1)]))]),s("div",_l,[s("div",null,[e[50]||(e[50]=s("h4",{class:"text-xs font-semibold text-secondary uppercase mb-3"}," Colors ",-1)),s("div",gl,[e[48]||(e[48]=s("label",{class:"block text-xs text-secondary mb-1"},"Background",-1)),s("div",yl,[s("div",{class:"h-10 w-10 rounded-md border cursor-pointer relative",style:Ct({backgroundColor:K.value.background})},[s("input",{type:"color",value:K.value.background,class:"absolute inset-0 opacity-0 cursor-pointer",onInput:e[18]||(e[18]=o=>Ke("bg_color",o)),style:{"pointer-events":"all"}},null,40,hl)],4),w(u(ge),{modelValue:K.value.background,placeholder:"#3b82f6",class:"flex-1",readonly:""},null,8,["modelValue"])])]),s("div",xl,[e[49]||(e[49]=s("label",{class:"block text-xs text-secondary mb-1"},"Text",-1)),s("div",kl,[s("div",{class:"h-10 w-10 rounded-md border cursor-pointer relative",style:Ct({backgroundColor:K.value.color})},[s("input",{type:"color",value:K.value.color,class:"absolute inset-0 opacity-0 cursor-pointer",onInput:e[19]||(e[19]=o=>Ke("color",o)),style:{"pointer-events":"all"}},null,40,Cl)],4),w(u(ge),{modelValue:K.value.color,placeholder:"#3b82f6",class:"flex-1",readonly:""},null,8,["modelValue"])])])]),s("div",null,[s("div",wl,[s("div",null,[e[52]||(e[52]=s("label",{class:"block text-xs text-secondary mb-1"},"Weight",-1)),s("select",{class:"w-full h-8 border rounded px-2 text-sm",value:K.value.fontWeight,onChange:e[20]||(e[20]=o=>Ke("font_weight",o))},e[51]||(e[51]=[s("option",{value:"lighter"},"Light",-1),s("option",{value:"normal"},"Normal",-1),s("option",{value:"bold"},"Bold",-1),s("option",{value:"bolder"},"Extra Bold",-1)]),40,Sl)])])])]),s("div",Tl,[s("button",{class:"w-full cursor-pointer bg-gradient-to-tr from-accent to-accent-hover text-white flex items-center justify-center gap-2 px-4 py-2 rounded-md text-sm font-medium hover:shadow-md disabled:opacity-60",disabled:X.value,onClick:_t},[X.value?(_(),L("span",El)):k("",!0),s("span",null,Je(X.value?"Updating...":"Update"),1)],8,Vl)])])):k("",!0)]),ke.value&&u(Pe)&&u(N)&&u(j)?(_(),L("div",Al,[s("div",Dl,[e[53]||(e[53]=s("h3",{class:"text-lg font-semibold mb-4"},"Insert Web Link",-1)),Ge(s("input",{"onUpdate:modelValue":e[21]||(e[21]=o=>F.value=o),type:"text",placeholder:"Enter or paste a URL",class:"w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Ja,F.value]]),s("div",Ll,[s("button",{onClick:Ft,class:"px-4 py-2 rounded-md bg-gray-200 hover:bg-gray-300"}," Cancel "),s("button",{disabled:!F.value,onClick:Bt,class:z(["px-4 py-2 rounded-md text-white",F.value?"bg-blue-500 hover:bg-blue-600":"bg-blue-300 cursor-not-allowed"])}," Insert ",10,Il)])])])):k("",!0),de.value?(_(),L("div",{key:1,class:"absolute top-40 left-70 bg-bg-body rounded-lg p-4 shadow-lg z-100 min-w-[328px] border",onClick:e[23]||(e[23]=me(()=>{},["stop"]))},[w(u(ge),{autofocus:!0,modelValue:G.value,"onUpdate:modelValue":e[22]||(e[22]=o=>G.value=o),placeholder:"Add New list",onKeyup:kt(Ve,["enter"])},null,8,["modelValue"]),e[54]||(e[54]=s("p",{class:"text-xs mt-1.5"},"You can add details while editing",-1)),s("div",Pl,[w(u(lt),{onClick:Ve,varaint:"primary",class:"px-3 py-1 bg-accent cursor-pointer text-white rounded"},{default:ee(()=>[De(Je(u(ze)?"Adding...":"Add list"),1)]),_:1}),s("i",{class:"fa-solid fa-close cursor-pointer",onClick:Fe})])])):k("",!0)],64)):k("",!0),f.value==="calendar"?(_(),U(u(It),{key:3,data:ce.value,"onSelect:ticket":q},null,8,["data"])):k("",!0),f.value==="gantt"?(_(),U(u(Pt),{key:4,data:ce.value,"onSelect:ticket":q},null,8,["data"])):k("",!0),f.value==="timeline"?(_(),U(u(Nt),{key:5,data:ce.value,"onSelect:ticket":q},null,8,["data"])):k("",!0)]),w(u(Le),{onClick:e[24]||(e[24]=me(()=>{},["stop"])),modelValue:J.value,"onUpdate:modelValue":e[25]||(e[25]=o=>J.value=o),title:"Delete List",itemLabel:"list",itemName:(a=H.value)==null?void 0:a.title,requireMatchText:(r=H.value)==null?void 0:r.title,confirmText:"Delete List",cancelText:"Cancel",size:"md",loading:u(ze),onConfirm:ra,onCancel:e[26]||(e[26]=()=>{J.value=!1})},null,8,["modelValue","itemName","requireMatchText","loading"]),xe.value?(_(),U(u(Mt),{selectedVariable:S.value,listId:(l=H.value)==null?void 0:l.title,sheet_id:A.value,key:"createTaskModalKey",modelValue:xe.value,"onUpdate:modelValue":e[27]||(e[27]=o=>xe.value=o),onSubmit:e[28]||(e[28]=()=>{})},null,8,["selectedVariable","listId","sheet_id","modelValue"])):k("",!0),(d=C.value)!=null&&d._id?(_(),U(u(Rt),{key:1,details:C.value,onClose:e[29]||(e[29]=()=>{q({variables:{}})}),onCloseSidePanel:Yt,"onComment:post":_a,showPanel:!!((c=C.value)!=null&&c._id)},null,8,["details","showPanel"])):k("",!0),w(u(Ot),{size:"md",sheet:W.value,modelValue:ne.value,"onUpdate:modelValue":e[30]||(e[30]=o=>ne.value=o)},null,8,["sheet","modelValue"]),se.value?(_(),U(u(qt),{key:2,modelValue:se.value,"onUpdate:modelValue":e[31]||(e[31]=o=>se.value=o),sheetID:A.value},null,8,["modelValue","sheetID"])):k("",!0),w(u(Le),{onClick:e[32]||(e[32]=me(()=>{},["stop"])),modelValue:te.value,"onUpdate:modelValue":e[33]||(e[33]=o=>te.value=o),title:"Delete Sheet",itemLabel:"Sheet",itemName:(v=W.value)==null?void 0:v.title,requireMatchText:(n=W.value)==null?void 0:n.title,confirmText:"Delete Sheet",cancelText:"Cancel",size:"md",loading:u(na),onConfirm:da,onCancel:e[34]||(e[34]=()=>{te.value=!1})},null,8,["modelValue","itemName","requireMatchText","loading"]),w(u(Le),{modelValue:le.value,"onUpdate:modelValue":e[35]||(e[35]=o=>le.value=o),title:"Delete Ticket",itemLabel:"Ticket",itemName:(i=ae.value)==null?void 0:i.title,requireMatchText:(b=ae.value)==null?void 0:b.title,confirmText:"Delete Ticket",cancelText:"Cancel",size:"md",loading:Ne.value,onConfirm:$t,onCancel:e[36]||(e[36]=()=>{le.value=!1,ae.value=null})},null,8,["modelValue","itemName","requireMatchText","loading"]),e[55]||(e[55]=s("div",null,null,-1))],64)}}}),Bl=tl(Nl,[["__scopeId","data-v-48f03950"]]);export{Bl as default};
