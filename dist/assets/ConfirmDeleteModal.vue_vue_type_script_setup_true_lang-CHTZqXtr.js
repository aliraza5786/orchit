import{d as T,c as n,r as k,f as V,w as B,a0 as _,o as i,g as s,m as p,n as f,t as l,P as g,k as r,y as q,T as D,al as z,l as N}from"./index-BMJFH4UF.js";const L={class:"p-5"},Z={class:"flex items-start gap-3"},$={class:"flex-1 min-w-0"},F={class:"text-base font-semibold text-text-primary"},A={class:"mt-1 text-sm text-muted"},H={key:0,class:"mt-4"},K={class:"text-xs text-muted"},S={class:"font-medium text-body"},j=["placeholder"],E={key:1,class:"mt-4"},U={class:"mt-6 flex justify-end gap-2"},P=["disabled"],G=["disabled"],I={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},O=T({__name:"ConfirmDeleteModal",props:{modelValue:{type:Boolean},title:{default:"Delete item"},itemLabel:{},itemName:{},message:{},confirmText:{default:"Delete"},cancelText:{default:"Cancel"},requireMatchText:{},loading:{type:Boolean,default:!1},size:{default:"md"},modalClass:{default:""}},emits:["update:modelValue","confirm","cancel"],setup(b,{emit:x}){const a=b,d=x,u=n({get:()=>a.modelValue,set:e=>d("update:modelValue",e)}),o=k(""),y=n(()=>a.message?a.message:`This action cannot be undone. This will permanently delete ${[a.itemLabel,a.itemName].filter(Boolean).join(" ")||"this item"}.`),h=e=>String(e??"").normalize("NFKC").toLowerCase().replace(/[\u200B-\u200D\u2060\u00AD\uFEFF]/g,"").replace(/\s+/g," ").trim(),m=n(()=>{if(!a.requireMatchText)return!0;const e=h(o.value),t=h(a.requireMatchText);return console.log({a:e,b:t,equal:e===t}),e===t}),w=n(()=>`!py-0 bg-card text-body ${a.modalClass}`.trim());function C(){o.value="",d("cancel"),u.value=!1}function v(){!m.value||a.loading||(d("confirm"),o.value="")}function M(){m.value&&v()}return(e,t)=>(i(),V(_,{modelValue:u.value,"onUpdate:modelValue":t[1]||(t[1]=c=>u.value=c),size:e.size,modalClass:w.value},{default:B(()=>[s("div",L,[s("div",Z,[t[4]||(t[4]=s("div",{class:"h-10 w-10 rounded-full bg-red-100 text-red-600 grid place-items-center dark:bg-red-500/15"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor"},[s("path",{d:"M9 3h6a1 1 0 0 1 1 1v1h4a1 1 0 1 1 0 2h-1.077l-1.27 12.03A3 3 0 0 1 14.67 22H9.33a3 3 0 0 1-2.982-2.97L5.077 7H4a1 1 0 1 1 0-2h4V4a1 1 0 0 1 1-1Zm2 0v1h2V3h-2ZM7.08 7l1.2 11.37A1 1 0 0 0 9.33 20h5.34a1 1 0 0 0 1.05-.88L16.92 7H7.08ZM10 9a1 1 0 0 1 1 1v7a1 1 0 1 1-2 0v-7a1 1 0 0 1 1-1Zm4 0a1 1 0 0 1 1 1v7a1 1 0 1 1-2 0v-7a1 1 0 0 1 1-1Z"})])],-1)),s("div",$,[s("h3",F,l(e.title),1),s("p",A,[g(e.$slots,"message",{},()=>[r(l(y.value),1)])]),e.requireMatchText?(i(),p("div",H,[s("label",K,[t[2]||(t[2]=r(" Type ")),s("span",S,l(e.requireMatchText),1),t[3]||(t[3]=r(" to confirm "))]),q(s("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>o.value=c),class:"mt-1 w-full border rounded-lg px-3 py-2 text-sm border-ui bg-card text-body outline-none",placeholder:e.requireMatchText,onKeyup:z(M,["enter"])},null,40,j),[[D,o.value]])])):f("",!0),e.$slots.extra?(i(),p("div",E,[g(e.$slots,"extra")])):f("",!0)])]),s("div",U,[s("button",{type:"button",class:"px-3 py-2 cursor-pointer text-sm rounded-md border border-ui bg-card text-body hover:bg-surface-2 disabled:opacity-50",disabled:e.loading,onClick:N(C,["stop"])},l(e.cancelText),9,P),s("button",{type:"button",class:"px-3 py-2 text-sm rounded-md text-white bg-red-600 hover:bg-red-700 disabled:opacity-50 flex items-center gap-2",disabled:!m.value||e.loading,onClick:v},[e.loading?(i(),p("svg",I,t[5]||(t[5]=[s("circle",{cx:"12",cy:"12",r:"10","stroke-width":"4",class:"opacity-25"},null,-1),s("path",{d:"M4 12a8 8 0 0 1 8-8","stroke-width":"4",class:"opacity-75"},null,-1)]))):f("",!0),r(" "+l(e.confirmText),1)],8,G)])])]),_:3},8,["modelValue","size","modalClass"]))}});export{O as _};
