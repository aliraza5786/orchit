const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CreateTaskModal-Dm0c4346.js","assets/CreateTaskModal.vue_vue_type_script_setup_true_lang-irhYUO1y.js","assets/index-DJiJZeY_.js","assets/index-Cg5hqYSL.css","assets/ConfirmDeleteModal-Bq8D_p7P.js","assets/ConfirmDeleteModal.vue_vue_type_script_setup_true_lang-j7DfhwrI.js","assets/SidePanel-Bh6YdSsG.js","assets/SidePanel-Dd-sT7gr.css","assets/KanbanBoard-iUQSsnC2.js","assets/DropMenu.vue_vue_type_script_setup_true_lang-CE_3yJp1.js","assets/index-jJgCAaZK.js","assets/workspace-D6LeJ6jE.js","assets/KanbanBoard-CQdRnJVd.css"])))=>i.map(i=>d[i]);
import{J as ae,K as ve,L as R,n as c,r as w,m as Z,M as fe,c as N,N as oe,d as de,O as Re,i as O,e as l,g as le,y as te,b as I,T as Ie,w as P,t as A,P as je,o as _,Q as tt,R as at,f as j,h as H,_ as st,B as ie,S as Ke,j as re,U as Oe,A as Be,V as nt,W as rt,X as ot,a as ze,Y as lt,Z as it,$ as dt,a0 as ut,C as Ae,a1 as we,a2 as De,p as ct,F as He}from"./index-DJiJZeY_.js";import{K as pt,D as mt}from"./KanbanSkeleton-B2nXpx4X.js";import{_ as gt}from"./SearchBar.vue_vue_type_script_setup_true_lang-Bsta1puo.js";import{_ as ft}from"./ConfirmDeleteModal.vue_vue_type_script_setup_true_lang-j7DfhwrI.js";import{u as vt}from"./workspace-D6LeJ6jE.js";import"./index-jJgCAaZK.js";const bt="data:image/svg+xml,%3csvg%20width='60'%20height='46'%20viewBox='0%200%2060%2046'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20opacity='0.4'%3e%3cpath%20d='M59.7443%2034.8967L50.5682%2025.7206C50.4457%2025.5984%2050.2897%2025.5152%2050.1199%2025.4816C49.9501%2025.4479%2049.7742%2025.4653%2049.6143%2025.5315C49.4544%2025.5976%2049.3176%2025.7097%2049.2213%2025.8535C49.125%2025.9973%2049.0734%2026.1664%2049.073%2026.3394V30.517H25.9775V40.5114H49.0755V44.689C49.0759%2044.8621%2049.1275%2045.0312%2049.2238%2045.175C49.3201%2045.3187%2049.4569%2045.4308%2049.6168%2045.497C49.7767%2045.5632%2049.9527%2045.5805%2050.1224%2045.5468C50.2922%2045.5132%2050.4482%2045.43%2050.5708%2045.3078L59.7468%2036.1318C59.9095%2035.9672%2060.0005%2035.7451%2060.0001%2035.5137C59.9996%2035.2823%2059.9076%2035.0605%2059.7443%2034.8967Z'%20fill='%23C6DBA9'/%3e%3cpath%20d='M32.3149%2030.5293C30.664%2031.5967%2028.7394%2032.1633%2026.7734%2032.1609V40.5237H34.7295C39.2829%2038.5638%2042.9649%2035.0102%2045.0851%2030.5293H32.3149Z'%20fill='url(%23paint0_linear_250_16424)'/%3e%3cpath%20d='M46.2209%2020.2832C46.2317%2015.0884%2044.2448%2010.0884%2040.6714%206.3179C37.0981%202.54738%2032.2119%200.295026%2027.024%200.0269855C21.8362%20-0.241055%2016.7439%201.49574%2012.801%204.87791C8.85809%208.26009%206.36647%2013.0287%205.84178%2018.1969L2.46233%2017.8913C2.31055%2017.8782%202.15829%2017.9103%202.02467%2017.9835C1.89106%2018.0566%201.78205%2018.1677%201.71134%2018.3026C1.64063%2018.4376%201.61138%2018.5904%201.62726%2018.7419C1.64313%2018.8934%201.70343%2019.0368%201.80058%2019.1542L9.51927%2028.406C9.79205%2028.7344%2010.277%2028.7773%2010.378%2028.5045L19.6298%2020.7833C20.3876%2020.3413%2020.1173%2019.4825%2019.4328%2019.4194L15.8008%2019.091C16.0297%2017.1283%2016.8213%2015.2735%2018.0802%2013.7503C19.3391%2012.2271%2021.0115%2011.1004%2022.8961%2010.5059C24.7806%209.9114%2026.7969%209.8745%2028.7019%2010.3996C30.6069%2010.9248%2032.3195%2011.9896%2033.6332%2013.4657C34.947%2014.9419%2035.8059%2016.7664%2036.1065%2018.7195C36.4071%2020.6726%2036.1365%2022.6709%2035.3274%2024.4738C34.5183%2026.2766%2033.2051%2027.8071%2031.5462%2028.8807C29.8872%2029.9544%2027.9531%2030.5254%2025.977%2030.5251H25.9283V40.5094C31.2249%2040.4031%2036.7093%2038.2263%2040.4202%2034.4455C44.1311%2030.6648%2046.2134%2025.5808%2046.2209%2020.2832Z'%20fill='%23D7A39E'/%3e%3cpath%20d='M25.9773%2030.5293H0V40.5237H25.9773V30.5293Z'%20fill='url(%23paint1_linear_250_16424)'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_250_16424'%20x1='6.53714'%20y1='35.5252'%20x2='47.0198'%20y2='35.5252'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%236C798F'/%3e%3cstop%20offset='1'%20stop-color='%236C798F'%20stop-opacity='0.1'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_250_16424'%20x1='0'%20y1='36'%20x2='26'%20y2='36'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23E8D4D3'%20stop-opacity='0'/%3e%3cstop%20offset='1'%20stop-color='%23E2A39F'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",Ze="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='20'%20height='20'%20rx='3.33333'%20fill='%2329BF7F'/%3e%3cpath%20d='M6.43164%2014.3018L9.29004%2012.167L9.29102%2012.166C9.47176%2012.0328%209.69053%2011.9609%209.91504%2011.9609C10.0834%2011.9609%2010.2482%2012.0017%2010.3965%2012.0781L10.5391%2012.166L10.54%2012.167L13.373%2014.291V5.91699H6.43164V14.3018ZM14.4316%2014.3789C14.4277%2014.5672%2014.3725%2014.7506%2014.2725%2014.9102C14.1723%2015.0699%2014.0303%2015.1996%2013.8623%2015.2852C13.6944%2015.3706%2013.5064%2015.4094%2013.3184%2015.3965C13.1304%2015.3835%2012.9495%2015.3196%2012.7949%2015.2119L12.79%2015.208L9.91504%2013.0518L7.01465%2015.209C6.83427%2015.3432%206.61546%2015.4161%206.39062%2015.417H6.38965C6.2298%2015.4164%206.07171%2015.38%205.92773%2015.3105V15.3096C5.75087%2015.2261%205.60123%2015.0946%205.49609%2014.9297C5.3907%2014.7642%205.33364%2014.5721%205.33301%2014.376V5.87402C5.3338%205.7361%205.36234%205.59971%205.41602%205.47266C5.46971%205.3456%205.54812%205.23049%205.64648%205.13379C5.74485%205.0371%205.86131%204.96069%205.98926%204.90918C6.1165%204.85797%206.2525%204.83272%206.38965%204.83398V4.83301H13.3906C13.6661%204.83457%2013.9302%204.94494%2014.125%205.13965C14.3198%205.33446%2014.4301%205.59852%2014.4316%205.87402V14.3789Z'%20fill='white'%20stroke='white'%20stroke-width='0.333333'/%3e%3c/svg%3e",yt=(o,n={})=>ve({queryKey:["sprint-list"],queryFn:({signal:v})=>R({url:`sprints/${o}`,method:"GET",signal:v}),...n}),kt=(o,n={})=>ve({queryKey:["sprint-cards",o],queryFn:({signal:v})=>R({url:`sprints/${c(o)}/backlog`,method:"GET",signal:v}),...n}),xt=(o,n={})=>ve({queryKey:["sprint-kanban",o],queryFn:({signal:v})=>R({url:`workspace/cards/sprintgrouped?sprint_id=${c(o)}&variable_id=68b6c96e0a95eef7d14e6981`,method:"GET",signal:v}),...n}),St=(o,n={})=>ae({key:["sprint-complete"]},{mutationFn:v=>R({url:`sprints/${c(o)}/complete`,method:"POST",data:v.payload}),...n}),_t=(o,n={})=>ve({queryKey:["sprint-detail",o],queryFn:({signal:v})=>R({url:`sprints/detail/${c(o)}?include_cards=true`,method:"GET",signal:v}),...n}),Ee=(o,n={})=>ve({queryKey:["backlog-list",o],queryFn:({signal:v})=>R({url:`sprints/workspace/${c(o)}/cards?include_sprint_cards=false`,method:"GET",signal:v}),...n}),Ct=(o={})=>ae({key:["add-sprint"]},{mutationFn:n=>R({url:"/sprints",method:"POST",data:n.payload}),...o}),Ge=(o={})=>ae({key:["move-card-to-sprint"]},{mutationFn:n=>R({url:`/sprints/${n.id}/cards`,method:"POST",data:n.payload}),...o}),Ue=(o={})=>ae({key:["add-sprint"]},{mutationFn:n=>R({url:`/sprints/${n.id}`,method:"PUT",data:n.payload}),...o}),ht=(o={})=>ae({key:["start-sprint"]},{mutationFn:n=>R({url:`/sprints/${n.id}/start`,method:"POST",data:n.payload}),...o}),wt=(o={})=>ae({key:["delete-sprint"]},{mutationFn:n=>R({url:`/sprints/${n}`,method:"DELETE"}),...o}),Dt=(o={})=>ae({key:["remove-card-from-sprint"]},{mutationFn:n=>R({url:`sprints/${c(n.sprintId)}/cards/remove `,method:"POST",data:{card_ids:[n.cardId]}}),...o}),Je="jira-like:";function Fe(o="id"){return`${o}_${Math.random().toString(36).slice(2,9)}`}function Ne(o,n){try{localStorage.setItem(Je+o,JSON.stringify(n))}catch{}}function qe(o,n){try{const v=localStorage.getItem(Je+o);return v?JSON.parse(v):n}catch{return n}}function Qe(o){switch(o){case"Highest":return"rounded-md bg-red-50 px-2 py-0.5 text-xs text-red-700";case"High":return"rounded-md bg-orange-50 px-2 py-0.5 text-xs text-orange-700";case"Medium":return"rounded-md bg-amber-50 px-2 py-0.5 text-xs text-amber-700";case"Low":return"rounded-md bg-gray-100 px-2 py-0.5 text-xs text-gray-600"}}function We(){const o=w(qe("backlog",[])),n=w(qe("sprints",[]));if(n.value.length===0)n.value.push({id:Fe("sprint"),name:"Sprint 1",goal:"",start:"",end:"",started:!1,tickets:[]});else if(n.value.length>1){for(let t=1;t<n.value.length;t++)o.value.push(...n.value[t].tickets);n.value=[n.value[0]]}const v=w(n.value[0].id);Z([o,n],()=>{Ne("backlog",o.value),Ne("sprints",n.value)},{deep:!0});const D=w([]),C=fe({}),g=N(()=>o.value.length>0&&D.value.length===o.value.length),x=t=>{var s;const a=n.value.find(i=>i.id===t);return!!a&&a.tickets.length>0&&(((s=C[t])==null?void 0:s.length)||0)===a.tickets.length};function V(t,a,s){const i=a.target.checked;if(t==="backlog")D.value=i?o.value.map(p=>p.id):[];else if(s){const p=n.value.find(f=>f.id===s);C[s]=i&&p?p.tickets.map(f=>f.id):[]}}function M(t,a,s,i){const p=s.target.checked,f=t==="backlog"?D.value:C[i]||(C[i]=[]);if(p&&!f.includes(a)&&f.push(a),!p){const U=f.indexOf(a);U>=0&&f.splice(U,1)}}function S(){return n.value.find(t=>t.id===v.value)||n.value[0]}function b(){const a=[...o.value,...n.value.flatMap(i=>i.tickets)].map(i=>Number(String(i.key).replace(/[^0-9]/g,""))).filter(i=>!Number.isNaN(i));return`PRJ-${a.length?Math.max(...a)+1:1}`}const{mutate:T}=Ge({onSuccess:()=>{oe.success("Cards moved to sprint successfully")},onError:t=>{oe.error("Failed to move cards: "+(t.message||"Unknown error"))}});function $(){var i,p;const t=S();if(!t||!D.value.length)return;const a=[],s=[];for(const f of o.value)(D.value.includes(f.id)?s:a).push(f);o.value=a,t.tickets.push(...s),D.value=[],s.length>0&&T({id:t.id,payload:{card_ids:s.map(f=>f.id),priority:((p=(i=s[0])==null?void 0:i.priority)==null?void 0:p.toLowerCase())||"medium",story_points:s.reduce((f,U)=>f+(U.storyPoints||0),0)}})}function h(t){const a=n.value.find(f=>f.id===t);if(!a)return;const s=C[t]||[],i=[],p=[];for(const f of a.tickets)(s.includes(f.id)?p:i).push(f);a.tickets=i,o.value.push(...p),C[t]=[]}function E(t,a){if(t==="backlog")o.value=o.value.filter(s=>!D.value.includes(s.id)),D.value=[];else if(a){const s=C[a]||[],i=n.value.find(p=>p.id===a);if(!i)return;i.tickets=i.tickets.filter(p=>!s.includes(p.id)),C[a]=[]}}function k(t,a){const s={id:Fe("T"),key:b(),createdAt:new Date().toISOString(),...a};if(t==="backlog")o.value.push(s);else{const i=S();i==null||i.tickets.push(s)}}function e(t){const a=S();a&&(a.name=t.name??a.name,a.goal=t.goal??a.goal,a.start=t.start??a.start,a.end=t.end??a.end)}function r(){const t=S();t&&(t.started=!t.started)}function m(t){return t.tickets.reduce((a,s)=>a+(s.storyPoints||0),0)}return{backlog:o,sprints:n,activeSprintId:v,selectedBacklogIds:D,selectedSprintIds:C,allBacklogChecked:g,allSprintChecked:x,toggleAll:V,toggleOne:M,getActiveSprint:S,createTicket:k,saveSprintMeta:e,toggleStartSprint:r,sprintPoints:m,moveSelectedToSprint:$,moveSelectedToBacklog:h,deleteSelected:E,priorityClass:Qe}}const Tt={class:"space-y-3 flex flex-col overflow-y-auto"},Vt={key:0,class:"empty-state flex flex-col justify-center items-center h-full"},$t={class:"flex items-center gap-2 text-text-secondary float-start"},Lt={class:"inline-block rounded-full px-2 py-0.5 text-xs"},Mt={class:"truncate"},Pt={key:0,class:"float-end flex justify-center text-gray-500 items-center text-xs aspect-square max-w-6 min-h-6 bg-gray-500/10 rounded-full"},Bt={key:1,class:"text-xs aspect-square max-w-6 flex justify-center items-center text-center min-h-6 bg-accent/30 text-accent border-accent border rounded-full"},Et=["onDragstart"],Ot=de({__name:"BacklogTable",props:{sorters:{}},emits:["ticket-dragged-to-sprint","open-ticket","ticket-moved-to-backlog"],setup(o,{emit:n}){const v=n,{workspaceId:D}=Re(),{data:C,isPending:g}=Ee(D),x=w([]);Z(C,k=>{k!=null&&k.cards&&(x.value=k.cards.map(e=>{var s,i,p,f,U;const r=((s=e.card)==null?void 0:s.variables)??{},m=((i=e.card)==null?void 0:i._id)??e.card_id,t=String(r["card-status"]??"").trim(),a=String(r.priority??"").trim();return{id:m,key:r["card-code"]||(m==null?void 0:m.slice(-6))||"PRJ-?",summary:r["card-title"]||"(untitled)",type:"Story",status:t,assignee:((f=(p=e.card)==null?void 0:p.assigned_to)==null?void 0:f.name)??"Unassigned",storyPoints:Number(e.story_points??0)||0,priority:M(a),createdAt:((U=e.card)==null?void 0:U.created_at)??new Date().toISOString(),description:r["card-description"]||""}}))},{immediate:!0});function V(k){const e=k.toLowerCase();switch(e.trim()){case"todo":return"bg-gray-500/10 text-gray-500";case"to do":return"bg-gray-500/10 text-gray-500";case"in progress":return"bg-gray-amber/10 text-amber-500";case"done":return"bg-green-500/10 text-green-500"}return e.includes("progress")?"In Progress":e.includes("done")||e.includes("complete")?"Done":"Todo"}function M(k){const e=String(k??"").toLowerCase();return e==="highest"||e==="blocker"||e==="critical"?"Highest":e==="high"||e==="major"?"High":e==="medium"||e==="normal"?"Medium":"Low"}const S=w(!1),b=w(null);function T(k,e,r){var t;b.value=e.id;const m=JSON.stringify({id:e.id,from:r,ticket:e});(t=k.dataTransfer)==null||t.setData("text/plain",m),k.dataTransfer&&(k.dataTransfer.effectAllowed="move")}function $(k){var e;S.value=!1,((e=k.dataTransfer)==null?void 0:e.dropEffect)!=="none"&&b.value&&(x.value=x.value.filter(r=>r.id!==b.value)),b.value=null}function h(k){var e;k.preventDefault(),S.value=!1;try{const r=(e=k.dataTransfer)==null?void 0:e.getData("text/plain");if(!r)return;const m=JSON.parse(r);if(m.from!=="sprint"||x.value.some(a=>a.id===m.id))return;x.value.push(m.ticket),v("ticket-moved-to-backlog",m.id,m.sprintId)}catch(r){console.error("Drop error:",r)}}const E=N(()=>[{key:"summary",label:"Summary",sortable:!1},{key:"status",label:"Status",width:120,sortable:!1},{key:"assignee",label:"",width:120,sortable:!1}]);return(k,e)=>(_(),O("section",Tt,[l("div",{class:te(["rounded-lg border h-[300px] border-border flex flex-col",S.value?"ring-2 ring-blue-400":""]),onDragover:e[4]||(e[4]=le(()=>{},["prevent"])),onDragenter:e[5]||(e[5]=r=>S.value=!0),onDragleave:e[6]||(e[6]=r=>S.value=!1),onDrop:e[7]||(e[7]=r=>h(r))},[!c(g)&&x.value.length===0?(_(),O("div",Vt,e[8]||(e[8]=[l("img",{src:bt,class:"mb-4",alt:"backlog-plan"},null,-1),l("h6",{class:"text-sm text-text-primary font-semibold mb-1"},"Get started in the backlog",-1),l("p",{class:"text-sm text-text-primary/90 mb-3"},"Plan and start a sprint to see issues here.",-1)]))):(_(),I(Ie,{key:1,showHeader:!1,pagination:!1,class:"flex-grow h-full",rowDraggable:!0,onRowDragstart:e[1]||(e[1]=({row:r,$event:m})=>T(m,r,"backlog")),onRowDragend:e[2]||(e[2]=({$event:r})=>$(r)),columns:E.value,rows:x.value,"page-size":20,hover:!0,itemKey:r=>r.id,sorters:k.sorters,onRowClick:e[3]||(e[3]=({row:r})=>k.$emit("open-ticket",r))},{summary:P(({row:r})=>[l("div",$t,[e[9]||(e[9]=l("img",{src:Ze,alt:""},null,-1)),l("span",Lt,A(r.key),1),l("span",Mt,A(r.summary),1)])]),status:P(({row:r})=>[l("span",{class:te([V(r.status),"px-2 py-1 rounded-md"])},A(r.status),3)]),assignee:P(({row:r})=>[r.assignee=="Unassigned"?(_(),O("span",Pt,"UA")):(_(),O("span",Bt,A(c(je)(r.assignee)),1))]),drag:P(({row:r})=>[l("button",{class:"cursor-grab",title:"Drag to Sprint",draggable:"",onClick:e[0]||(e[0]=le(()=>{},["stop"])),onDragstart:m=>T(m,r,"backlog"),onDragend:$},"↕",40,Et)]),_:1},8,["columns","rows","itemKey","sorters"]))],34)]))}}),At="data:image/svg+xml,%3csvg%20width='60'%20height='60'%20viewBox='0%200%2060%2060'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20opacity='0.4'%3e%3cpath%20d='M9.375%2030C11.6402%2030%2013.4766%2028.1637%2013.4766%2025.8984C13.4766%2023.6332%2011.6402%2021.7969%209.375%2021.7969C7.10977%2021.7969%205.27344%2023.6332%205.27344%2025.8984C5.27344%2028.1637%207.10977%2030%209.375%2030Z'%20fill='%23AE2A19'/%3e%3cpath%20d='M26.25%2024.375C28.5152%2024.375%2030.3516%2022.5387%2030.3516%2020.2734C30.3516%2018.0082%2028.5152%2016.1719%2026.25%2016.1719C23.9848%2016.1719%2022.1484%2018.0082%2022.1484%2020.2734C22.1484%2022.5387%2023.9848%2024.375%2026.25%2024.375Z'%20fill='%23BF63F3'/%3e%3cpath%20d='M15.3931%2035.8594H11.0159V33.0938C9.93587%2033.3387%208.81469%2033.3387%207.73465%2033.0938V35.8594H1.87528C1.55115%2035.8601%201.2345%2035.9568%200.965283%2036.1373C0.696064%2036.3178%200.486343%2036.574%200.362583%2036.8736C0.238824%2037.1731%200.206573%2037.5027%200.269899%2037.8205C0.333226%2038.1384%200.489292%2038.4304%200.718404%2038.6597L7.05872%2045L0.718404%2051.3403C0.489292%2051.5696%200.333226%2051.8616%200.269899%2052.1795C0.206573%2052.4973%200.238824%2052.8269%200.362583%2053.1264C0.486343%2053.426%200.696064%2053.6822%200.965283%2053.8627C1.2345%2054.0432%201.55115%2054.1399%201.87528%2054.1406H15.3931L21.7503%2045L15.3931%2035.8594Z'%20fill='%2382B536'/%3e%3cpath%20d='M34.4562%2035.8594H27.8937V27.4688C26.8137%2027.7138%2025.6925%2027.7138%2024.6125%2027.4688V35.8594H19.3896L25.7487%2045L19.3896%2054.1406H34.4562L40.8143%2045L34.4562%2035.8594Z'%20fill='%2382B536'/%3e%3cpath%20d='M43.8281%2019.6875H55.3125C55.7475%2019.6873%2056.1647%2019.5143%2056.4723%2019.2067C56.7799%2018.8991%2056.9529%2018.4819%2056.9531%2018.0469V9.375C56.9529%208.93996%2056.7799%208.5228%2056.4723%208.21518C56.1647%207.90755%2055.7475%207.73462%2055.3125%207.73438H43.8281V7.5C43.8281%207.06488%2043.6553%206.64758%2043.3476%206.3399C43.0399%206.03223%2042.6226%205.85938%2042.1875%205.85938C41.7524%205.85938%2041.3351%206.03223%2041.0274%206.3399C40.7197%206.64758%2040.5469%207.06488%2040.5469%207.5V32.5781H43.8281V19.6875Z'%20fill='%23FCA700'/%3e%3cpath%20d='M59.2843%2043.8403L51.7843%2036.3403C51.6322%2036.1878%2051.4514%2036.0668%2051.2524%2035.9842C51.0534%2035.9017%2050.8401%2035.8593%2050.6246%2035.8594H38.4521L44.8121%2045L38.4531%2054.1406H50.6246C50.8401%2054.1407%2051.0534%2054.0983%2051.2524%2054.0158C51.4514%2053.9332%2051.6322%2053.8122%2051.7843%2053.6597L59.2843%2046.1597C59.4368%2046.0075%2059.5577%2045.8267%2059.6402%2045.6277C59.7228%2045.4287%2059.7652%2045.2154%2059.7652%2045C59.7652%2044.7846%2059.7228%2044.5713%2059.6402%2044.3723C59.5577%2044.1733%2059.4368%2043.9925%2059.2843%2043.8403Z'%20fill='%2382B536'/%3e%3c/g%3e%3c/svg%3e",Ht={class:"rounded-lg flex flex-col"},Ut=["checked"],Ft=["checked","onChange"],Nt={class:"flex items-center gap-2 text-text-secondary float-start"},qt={class:"inline-block rounded-full px-2 py-0.5 text-xs"},Rt={class:"truncate"},It={key:0,class:"float-end flex justify-center text-gray-500 items-center text-xs aspect-square max-w-6 min-h-6 bg-gray-500/10 rounded-full"},jt={key:1,class:"text-xs aspect-square max-w-6 flex justify-center items-center text-center min-h-6 bg-accent/30 text-accent border-accent border rounded-full"},Kt=["onDragstart"],zt={key:1,class:"empty-state flex flex-col h-full justify-center items-center border-dashed border border-border"},Zt=de({__name:"SprintCard",props:{sprint:{},sprintId:{}},emits:["edit-sprint","toggle-start","open-ticket","move-selected-to-backlog","delete-selected-sprint","refresh"],setup(o,{emit:n}){const v=o;Z(v,t=>{console.log("props changes",t)});const D=n,C=We(),{selectedSprintIds:g,allSprintChecked:x,toggleAll:V,toggleOne:M}=C,S=w([]);Z(()=>v.sprint.tickets,t=>{S.value=[...t||[]]},{immediate:!0,deep:!0});const b=w(!1),T=w(null),{mutate:$}=Ge({onSuccess:()=>{oe.success("Card moved to sprint successfully"),D("refresh")},onError:t=>{oe.error("Failed to move card: "+(t.message||"Unknown error"))}});function h(t,a,s,i){var f;T.value=a.id;const p=JSON.stringify({id:a.id,from:s,sprintId:i,ticket:a});(f=t.dataTransfer)==null||f.setData("text/plain",p),t.dataTransfer&&(t.dataTransfer.effectAllowed="move")}function E(t){var a;b.value=!1,((a=t.dataTransfer)==null?void 0:a.dropEffect)!=="none"&&T.value&&(S.value=S.value.filter(s=>s.id!==T.value)),T.value=null}function k(){b.value=!0}function e(){b.value=!1}function r(t){var a;t.preventDefault(),b.value=!1;try{const s=(a=t.dataTransfer)==null?void 0:a.getData("text/plain");if(!s)return;const i=JSON.parse(s);if(i.from!=="backlog"||S.value.some(f=>f.id===i.id))return;S.value.push(i.ticket),$({id:v.sprintId,payload:{card_ids:[i.ticket.id],priority:i.ticket.priority.toLowerCase(),story_points:i.ticket.storyPoints||0}})}catch(s){console.error("Drop error:",s)}}const m=[{key:"summary",label:"Summary",sortable:!0},{key:"status",label:"Status",width:120,sortable:!0},{key:"assignee",label:"Assignee",width:120,sortable:!0}];return(t,a)=>(_(),O("div",Ht,[l("div",{class:te(["h-[300px]",b.value?"ring-2 ring-blue-400 rounded-lg":""]),onDragover:a[5]||(a[5]=le(()=>{},["prevent"])),onDragenter:k,onDragleave:e,onDrop:r},[S.value.length>0?(_(),I(Ie,{key:0,showHeader:!1,pagination:!1,"row-draggable":!0,class:"h-full",onRowDragstart:a[2]||(a[2]=({row:s,$event:i})=>h(i,s,"sprint",t.sprint.id)),onRowDragend:a[3]||(a[3]=({$event:s})=>E(s)),columns:m,rows:S.value,"page-size":100,hover:!0,"item-key":s=>s.id,onRowClick:a[4]||(a[4]=({row:s})=>t.$emit("open-ticket",s))},{"select-header":P(()=>[l("input",{type:"checkbox",checked:c(x)(t.sprint.id),onChange:a[0]||(a[0]=s=>c(V)("sprint",s,t.sprint.id))},null,40,Ut)]),select:P(({row:s})=>[l("input",{type:"checkbox",checked:(c(g)[t.sprint.id]||[]).includes(s.id),onChange:i=>c(M)("sprint",s.id,i,t.sprint.id)},null,40,Ft)]),summary:P(({row:s})=>[l("div",Nt,[a[6]||(a[6]=l("img",{src:Ze,alt:""},null,-1)),l("span",qt,A(s.key),1),l("span",Rt,A(s.summary),1)])]),status:P(({row:s})=>[l("span",{class:te([c(tt)(s.status),"px-2 py-1 rounded-md"])},A(s.status),3)]),assignee:P(({row:s})=>[s.assignee=="Unassigned"?(_(),O("span",It,"UA")):(_(),O("span",jt,A(c(je)(`${s.assignee}`)),1))]),priority:P(({row:s})=>[l("span",{class:te(c(Qe)(s.priority))},A(s.priority),3)]),drag:P(({row:s})=>[l("button",{class:"cursor-grab",title:"Drag to Backlog",draggable:"",onClick:a[1]||(a[1]=le(()=>{},["stop"])),onDragstart:i=>h(i,s,"sprint",t.sprint.id),onDragend:E},"↕",40,Kt)]),_:1},8,["rows","item-key"])):(_(),O("div",zt,a[7]||(a[7]=[at('<img src="'+At+'" class="mb-4" alt="backlog-plan"><h6 class="text-sm text-text-primary font-semibold mb-1 text-center">Plan your sprint</h6><p class="text-sm text-text-primary/90 mb-3 max-w-120 text-center">Drag work items from the <span class="font-bold"> Backlog </span> section or create new ones to plan the work for this sprint. Select <span class="font-bold">Start sprint</span> when you&#39;re ready.</p>',3)])))],34)]))}}),Gt={class:"px-6 gap-4"},Jt={class:"flex justify-end gap-2 p-6 mt-8 sticky bottom-0 bg-bg-body border-t border-border"},Qt=de({__name:"SprintModal",props:{modelValue:{type:Boolean,default:!1},sprint:{},creatingSprint:{type:Boolean}},emits:["update:modelValue","save","close"],setup(o,{emit:n}){const v=n,D=o,C=N({get:()=>D.modelValue,set:$=>v("update:modelValue",$)}),g=fe({name:""}),x=fe({name:!1}),V=N(()=>x.name&&!String(g.name||"").trim()?"Name is required":""),M=N(()=>!!String(g.name||"").trim()&&!V.value);function S(){C.value=!1,v("close")}function b(){x.name=!0,M.value&&v("save",{name:String(g.name||"").trim()})}function T(){x.name=!1}return Z(()=>D.sprint,$=>{if(!$){g.name="";return}g.name=$.name??($==null?void 0:$.title)??"",T()},{immediate:!0}),($,h)=>(_(),I(Ke,{modelValue:C.value,"onUpdate:modelValue":h[2]||(h[2]=E=>C.value=E),modalClass:"!py-0",size:"md"},{default:P(()=>[h[5]||(h[5]=l("div",{class:"sticky top-0 z-10 flex flex-col items-start pt-6 px-6 border-b border-border bg-bg-body pb-4 mb-4"},[l("h2",{class:"text-xl font-semibold"},"Add Sprint"),l("p",{class:"text-sm text-text-secondary mt-1"},[j(" Add sprint name and then click "),l("span",{class:"font-medium"},"Save"),j(". ")])],-1)),l("div",Gt,[H(st,{modelValue:g.name,"onUpdate:modelValue":h[0]||(h[0]=E=>g.name=E),label:"Name",placeholder:"Sprint 1",error:!!V.value,message:V.value,onBlur:h[1]||(h[1]=E=>x.name=!0)},null,8,["modelValue","error","message"]),h[3]||(h[3]=l("div",null,null,-1))]),l("div",Jt,[H(ie,{variant:"secondary",onClick:S},{default:P(()=>h[4]||(h[4]=[j("Cancel")])),_:1,__:[4]}),H(ie,{variant:"primary",disabled:!M.value,onClick:b},{default:P(()=>[j(A($.creatingSprint?"Saving...":"Save"),1)]),_:1},8,["disabled"])])]),_:1,__:[5]},8,["modelValue"]))}}),Wt={class:"px-6 grid grid-cols-2 gap-4"},Xt={class:"flex gap-1 flex-col"},Yt={key:0,class:"text-xs text-red-500"},ea={class:"flex gap-1 flex-col"},ta={key:0,class:"text-xs text-red-500"},aa={class:"flex flex-col col-span-2"},sa={class:"flex justify-end gap-2 p-6 mt-8 sticky bottom-0 bg-bg-body border-t border-border"},na=de({__name:"StartSprintModal",props:{modelValue:{type:Boolean,default:!1},sprint:{},creatingSprint:{type:Boolean}},emits:["update:modelValue","save","close"],setup(o,{emit:n}){const v=n,D=o,C=N({get:()=>D.modelValue,set:e=>v("update:modelValue",e)}),g=fe({goal:"",start:"",end:""});Z(()=>D.sprint,e=>{e&&(g.goal=e.goal??"",g.start=e.start??"",g.end=e.end??"",E())},{immediate:!0});const x=fe({start:!1,end:!1}),V=N(()=>""),M=N(()=>{if(!x.end)return"";if(g.start&&g.end){const e=k(g.start),r=k(g.end);if(Number.isFinite(e)&&Number.isFinite(r)&&r<e)return"End date cannot be before start date"}return""}),S=N(()=>!M.value);function b(e){g.start=e||"",x.start=!0}function T(e){g.end=e||"",x.end=!0}function $(){C.value=!1,v("close")}function h(){x.start=!0,x.end=!0,S.value&&v("save",{goal:g.goal??"",start:g.start||"",end:g.end||""})}function E(){x.start=!1,x.end=!1}function k(e){return e?new Date(`${e}T00:00:00`).getTime():NaN}return(e,r)=>(_(),I(Ke,{modelValue:C.value,"onUpdate:modelValue":r[1]||(r[1]=m=>C.value=m),modalClass:"!py-0",size:"md"},{default:P(()=>[r[6]||(r[6]=l("div",{class:"sticky top-0 z-10 flex flex-col items-start pt-6 px-6 border-b border-border bg-bg-body pb-4 mb-4"},[l("h2",{class:"text-xl font-semibold"},"Start Sprint"),l("p",{class:"text-sm text-text-secondary mt-1"},[j(" Update sprint name, goal, and dates, then click "),l("span",{class:"font-medium"},"Start"),j(". ")])],-1)),l("div",Wt,[l("div",Xt,[r[2]||(r[2]=l("label",{class:"text-sm"},"Start date",-1)),l("div",{class:te(["border flex items-center border-border h-10 px-2 bg-bg-input rounded-lg",V.value?"border-red-500":""])},[H(Oe,{placeholder:"Set start date",class:"w-full","model-value":g.start,"emit-as":"ymd","onUpdate:modelValue":b},null,8,["model-value"])],2),V.value?(_(),O("p",Yt,A(V.value),1)):re("",!0)]),l("div",ea,[r[3]||(r[3]=l("label",{class:"text-sm"},"End date",-1)),l("div",{class:te(["border flex items-center border-border h-10 px-2 bg-bg-input rounded-lg",M.value?"border-red-500":""])},[H(Oe,{placeholder:"Set end date",class:"w-full","model-value":g.end,"emit-as":"ymd","onUpdate:modelValue":T},null,8,["model-value"])],2),M.value?(_(),O("p",ta,A(M.value),1)):re("",!0)]),l("div",aa,[r[4]||(r[4]=l("label",{class:"text-sm"},"Goal (optional)",-1)),Be(l("textarea",{"onUpdate:modelValue":r[0]||(r[0]=m=>g.goal=m),class:"w-full rounded-lg border border-border px-3 py-2 bg-bg-input",rows:"2",placeholder:"Ship onboarding flow"},null,512),[[nt,g.goal]])])]),l("div",sa,[H(ie,{variant:"secondary",onClick:$},{default:P(()=>r[5]||(r[5]=[j("Cancel")])),_:1,__:[5]}),H(ie,{variant:"primary",disabled:!S.value,onClick:h},{default:P(()=>[j(A(e.creatingSprint?"Starting...":"Start"),1)]),_:1},8,["disabled"])])]),_:1,__:[6]},8,["modelValue"]))}}),ra={class:"flex gap-2 flex-auto overflow-y-auto"},oa={class:"flex-auto bg-gradient-to-b from-bg-card/95 to-bg-card/90 backdrop-blur rounded-2xl shadow-[0_10px_40px_-10px_rgba(0,0,0,.5)] flex-grow h-full bg-bg-card border border-border overflow-x-auto flex"},la={class:"flex overflow-x-auto gap-3 p-4"},ia={key:0,class:"mx-auto text-text-secondary/80 m-2 w-[90%] h-full justify-center flex items-center border border-dashed border-border"},da=de({__name:"ActiveSprint",props:{sptint_id:{}},setup(o){const n=o,v=we(()=>De(()=>import("./CreateTaskModal-Dm0c4346.js"),__vite__mapDeps([0,1,2,3]))),D=we(()=>De(()=>import("./ConfirmDeleteModal-Bq8D_p7P.js"),__vite__mapDeps([4,5,2,3]))),C=we(()=>De(()=>import("./SidePanel-Bh6YdSsG.js"),__vite__mapDeps([6,2,3,7]))),g=we(()=>De(()=>import("./KanbanBoard-iUQSsnC2.js"),__vite__mapDeps([8,2,3,9,10,5,11,12]))),x=ct(),{workspaceId:V,moduleId:M}=rt(),{data:S}=ot(V.value,M.value),b=ze(),{mutate:T,isPending:$}=lt({onSuccess:()=>{b.invalidateQueries({queryKey:["sheet-list"]}),Ve.value="",J.value=!1,X.value=!1,J.value=!1}}),h=y=>{T({workspace_id:V.value,module_id:M.value,variable_id:m.value,value:y})},{data:E}=it({workspace_id:V,workspace_module_id:M}),k=N(()=>{var y;return E.value?(y=E.value[0])==null?void 0:y._id:""}),e=w(k),r=N(()=>{var y;return S.value?(y=S.value[0])==null?void 0:y._id:""}),m=w(r),t=vt(),a=N(()=>n.sptint_id),{data:s,isPending:i}=xt(a),p=w(!1),f=w(),U=y=>{f.value=y},se=dt(),Te=ut();function G(y){y.type=="column"?se.mutate({payload:{workspace_id:V.value,workspace_module_id:M.value,variable_id:m.value,moved_value:y.meta.id,new_index:y.meta.newIndex}}):Te.mutate({payload:{workspace_id:V.value,card_id:y.meta.moved._id,group_value:y.meta.fromColumnId,group_variable_id:m.value,new_index:y.meta.newIndex,sheet_id:e.value}})}const ue=y=>{};Z(E,y=>{var L;(y==null?void 0:y.length)>0&&(e.value=(L=y[0])==null?void 0:L._id)});const X=w(!1),Ve=w(""),$e=y=>{T({workspace_id:x.params.id,module_id:x.params.module_id,new_value:y.title,value:y.oldTitle,variable_id:m.value})},J=w(!1),K=w(),Le=()=>{T({value:K.value.title,workspace_id:V.value,module_id:M.value,newValue:K.value.title,variable_id:m.value,is_trash:!0})},Me=y=>{J.value=!0,K.value=y},Pe=y=>{p.value=!0,K.value=y};return(y,L)=>{var z,be,ne,ye,ke;return _(),O("div",ra,[l("div",oa,[Be(H(pt,null,null,512),[[Ae,c(i)]]),Be(l("div",la,[H(c(g),{onOnPlus:Pe,"onDelete:column":L[0]||(L[0]=q=>Me(q)),"onUpdate:column":L[1]||(L[1]=q=>$e(q)),onReorder:G,onAddColumn:h,"onSelect:ticket":U,board:c(s),onOnBoardUpdate:ue,variable_id:m.value,sheet_id:e.value},{"column-footer":P(q=>{var xe,Se,_e,Ce,he;return[(Se=(xe=c(t))==null?void 0:xe.transitions)!=null&&Se.all_allowed&&!((he=(Ce=(_e=c(t))==null?void 0:_e.transitions)==null?void 0:Ce.all_allowed)!=null&&he.includes(q.column.title))&&c(t).transitions.currentColumn!=q.column.title?(_(),O("div",ia," Disbale ( you can't drop here )")):re("",!0)]}),_:1},8,["board","variable_id","sheet_id"])],512),[[Ae,!c(i)]])]),H(c(D),{onClick:L[2]||(L[2]=le(()=>{},["stop"])),modelValue:J.value,"onUpdate:modelValue":L[3]||(L[3]=q=>J.value=q),title:"Delete List",itemLabel:"list",itemName:(z=K.value)==null?void 0:z.title,requireMatchText:(be=K.value)==null?void 0:be.title,confirmText:"Delete workspace",cancelText:"Cancel",size:"md",loading:c($),onConfirm:Le,onCancel:L[4]||(L[4]=()=>{J.value=!1})},null,8,["modelValue","itemName","requireMatchText","loading"]),p.value?(_(),I(c(v),{selectedVariable:m.value,listId:(ne=K.value)==null?void 0:ne.title,sheet_id:e.value,key:"createTaskModalKey",modelValue:p.value,"onUpdate:modelValue":L[5]||(L[5]=q=>p.value=q),onSubmit:L[6]||(L[6]=()=>{})},null,8,["selectedVariable","listId","sheet_id","modelValue"])):re("",!0),(ye=f.value)!=null&&ye._id?(_(),I(c(C),{key:1,details:f.value,onClose:L[7]||(L[7]=()=>{U({variables:{}})}),showPanel:!!((ke=f.value)!=null&&ke._id)},null,8,["details","showPanel"])):re("",!0)])}}}),ua={class:"flex-auto flex-grow h-full bg-bg-card rounded-lg border border-border overflow-x-auto flex-col flex"},ca={class:"header px-4 py-3 border-b border-border flex items-center justify-between gap-1"},pa={class:"flex gap-3 items-center"},ma={key:1,class:"space-y-6 p-4 w-full flex-auto overflow-y-auto"},ga={class:"flex flex-col gap-6"},fa={class:"space-y-4 bg-bg-surface/30 p-4 rounded-md"},va={class:"flex items-center justify-between"},ba={class:"text-sm font-semibold"},ya={key:0,class:"w-full h-full min-h-[250px] flex justify-center items-center"},ka={class:"space-y-4 bg-bg-surface/30 p-4 rounded-md"},xa={class:"flex items-center justify-between"},Sa={class:"text-sm font-semibold"},_a={key:0,class:"w-full h-full min-h-[250px] flex justify-center items-center"},$a=de({__name:"Plan",setup(o){const{workspaceId:n}=Re(),{moveSelectedToSprint:v,moveSelectedToBacklog:D,deleteSelected:C,saveSprintMeta:g,toggleStartSprint:x}=We(),{data:V}=Ee(n),{mutate:M,isPending:S}=wt({onSuccess:()=>{ne.invalidateQueries({queryKey:["sprint-list"]}),T.value=!1}}),b=w(null),T=w(!1),$=()=>{var u;M((u=b.value)==null?void 0:u._id)},{mutate:h,isPending:E}=Ue({onSuccess:u=>{g({name:u.title}),k({id:p.value}),se.value=!1}}),{mutate:k,isPending:e}=ht({onSuccess:()=>{U()}}),r=u=>{console.log("helo",b.value,u),h({id:p.value,payload:{goal:u.goal,start_date:u.start,end_date:u.end}})},{data:m,refetch:t}=yt(n.value),{refetch:a,isPending:s}=Ee(n),i=N(()=>{var u,d;return(d=(u=m==null?void 0:m.value)==null?void 0:u.sprints[0])==null?void 0:d._id}),p=w(i.value);Z(()=>i.value,u=>{p.value=u});const{data:f,refetch:U}=_t(i),se=w(!1),Te=()=>{se.value=!0},{data:G,isPending:ue}=kt(p);Z(()=>ue.value,u=>{console.log(u,ue.value,">>>> laoding state changes")});const X=N(()=>{var Y,Q;const u=(Y=G==null?void 0:G.value)==null?void 0:Y.backlog_items;if(!u)return null;const d=(((Q=G==null?void 0:G.value)==null?void 0:Q.backlog_items)||[]).map(B=>{var ce,pe,me,ge,F;const W=((ce=B==null?void 0:B.card)==null?void 0:ce.variables)||{},ee=((pe=B==null?void 0:B.card)==null?void 0:pe._id)||B.card_id;return{id:ee,key:W["card-code"]||(ee==null?void 0:ee.slice(-6))||"PRJ-?",summary:W["card-title"]||"(untitled)",type:"Story",status:Ve(String(W["card-status"]||"").trim()),assignee:((ge=(me=B==null?void 0:B.card)==null?void 0:me.assigned_to)==null?void 0:ge.name)||"Unassigned",storyPoints:Number(B.story_points||0),priority:$e(String(W.priority||"").trim()),createdAt:((F=B==null?void 0:B.card)==null?void 0:F.created_at)||new Date().toISOString(),description:W["card-description"]||""}});return{id:u._id,name:u.title||"Sprint 1",title:u.title,goal:"",start:"",end:"",started:!1,tickets:d}});function Ve(u){const d=u.toLowerCase();return d.includes("progress")?"In Progress":d.includes("done")||d.includes("complete")?"Done":"Todo"}function $e(u){const d=u.toLowerCase();return d==="highest"||d==="blocker"||d==="critical"?"Highest":d==="high"||d==="major"?"High":d==="medium"||d==="normal"?"Medium":"Low"}const{mutate:J}=Dt({onSuccess:()=>{oe.success("Card removed from sprint successfully"),K()},onError:u=>{oe.error("Failed to remove card from sprint"),console.error("Failed to remove card from sprint:",u)}});function K(){t(),a(),U()}function Le(u){console.log(">>> moving back to backlog"),p&&J({sprintId:p,cardId:u})}const Me={createdAt:(u,d,Y)=>{const Q=new Date(u.createdAt).getTime(),B=new Date(d.createdAt).getTime();return Y==="asc"?Q-B:B-Q}},Pe=w(!1),y=w(null);function L(u){y.value=u,Pe.value=!0}const z=w(!1);function be(){z.value=!0}const ne=ze(),{mutate:ye,isPending:ke}=Ct({onSuccess:u=>{g({name:u.title}),ne.invalidateQueries({queryKey:["sprint-list"]}),z.value=!1}}),{mutate:q,isPending:xe}=Ue({onSuccess:u=>{g({name:u.title}),ne.invalidateQueries({queryKey:["sprint-list"]}),z.value=!1}});function Se(u){var d;b.value?q({id:(d=b.value)==null?void 0:d._id,payload:{workspace_id:n.value,title:u.name}}):ye({payload:{workspace_id:n.value,title:u.name}})}function _e(){b.value=null,console.log(">>> felo"),z.value=!0}function Ce(u){b.value=u,z.value=!0}function he(u){b.value=u,T.value=!0}const{mutate:Xe,isPending:Ye}=St(p,{onSuccess:()=>{U()}}),et=()=>{Xe({})};return(u,d)=>{var Y,Q,B,W,ee,ce,pe,me,ge;return _(),O(He,null,[l("div",ua,[l("div",ca,[H(mt,{prefix:"View By",modelValue:p.value,"onUpdate:modelValue":d[1]||(d[1]=F=>p.value=F),options:(Y=c(m))==null?void 0:Y.sprints,variant:"secondary",onEditOption:Ce,onDeleteOption:he},{more:P(()=>[l("div",{onClick:d[0]||(d[0]=F=>_e()),class:"capitalize border-t border-border px-4 py-2 hover:bg-bg-dropdown-menu-hover cursor-pointer flex items-center gap-1 overflow-hidden overflow-ellipsis text-nowrap"},d[9]||(d[9]=[l("i",{class:"fa-solid fa-plus"},null,-1),j(" Add new ")]))]),_:1},8,["modelValue","options"]),l("div",pa,[H(gt,{placeholder:"Search in Orchit AI space"}),((Q=c(f))==null?void 0:Q.status)=="active"?(_(),I(ie,{key:0,size:"sm",onClick:et},{default:P(()=>[j(A(c(Ye)?"Ending...":"End"),1)]),_:1})):(_(),I(ie,{key:1,size:"sm",onClick:Te,disabled:!X.value||X.value.tickets.length==0},{default:P(()=>d[10]||(d[10]=[j("Start Sprint")])),_:1,__:[10]},8,["disabled"]))])]),((B=c(f))==null?void 0:B.status)=="active"?(_(),I(da,{key:0,sptint_id:p.value},null,8,["sptint_id"])):(_(),O("div",ma,[l("div",ga,[l("section",fa,[l("div",va,[l("h2",ba,"Sprint ("+A((ee=(W=X.value)==null?void 0:W.tickets)==null?void 0:ee.length)+" Taks)",1)]),c(ue)?(_(),O("div",ya,d[11]||(d[11]=[l("div",{role:"status","aria-label":"Loading",class:"h-10 w-10 rounded-full border-4 border-neutral-700 border-t-transparent animate-spin"},null,-1)]))):(_(),O(He,{key:1},[X.value?(_(),I(Zt,{key:0,sprintId:p.value,sprint:X.value,onOpenTicket:L,onEditSprint:be,onToggleStart:c(x),onMoveSelectedToBacklog:c(D),onDeleteSelectedSprint:d[2]||(d[2]=F=>c(C)("sprint",F)),onRefresh:K},null,8,["sprintId","sprint","onToggleStart","onMoveSelectedToBacklog"])):re("",!0)],64))]),l("section",ka,[l("div",xa,[l("h2",Sa,"Backlog ("+A((pe=(ce=c(V))==null?void 0:ce.cards)==null?void 0:pe.length)+" Tasks)",1)]),c(s)?(_(),O("div",_a,d[12]||(d[12]=[l("div",{role:"status","aria-label":"Loading",class:"h-10 w-10 rounded-full border-4 border-neutral-700 border-t-transparent animate-spin"},null,-1)]))):(_(),I(Ot,{key:1,sorters:Me,onMoveSelectedToSprint:c(v),onDeleteSelectedBacklog:d[3]||(d[3]=F=>c(C)("backlog")),onOpenTicket:L,onTicketMovedToBacklog:Le},null,8,["onMoveSelectedToSprint"]))])])]))]),H(ft,{onClick:d[4]||(d[4]=le(()=>{},["stop"])),modelValue:T.value,"onUpdate:modelValue":d[5]||(d[5]=F=>T.value=F),title:"Delete Sprint",itemLabel:"Sprint",itemName:(me=b.value)==null?void 0:me.title,requireMatchText:(ge=b.value)==null?void 0:ge.title,confirmText:"Delete Ticket",cancelText:"Cancel",size:"md",loading:c(S),onConfirm:$,onCancel:d[6]||(d[6]=()=>{b.value=null,T.value=!1})},null,8,["modelValue","itemName","requireMatchText","loading"]),H(Qt,{modelValue:z.value,"onUpdate:modelValue":d[7]||(d[7]=F=>z.value=F),onSave:Se,sprint:b.value,creatingSprint:b.value?c(xe):c(ke)},null,8,["modelValue","sprint","creatingSprint"]),H(na,{sprint:b.value,modelValue:se.value,"onUpdate:modelValue":d[8]||(d[8]=F=>se.value=F),onSave:r,creatingSprint:c(e)||c(E)},null,8,["sprint","modelValue","creatingSprint"])],64)}}});export{$a as default};
