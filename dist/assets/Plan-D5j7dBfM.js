const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CreateTaskModal-BVlvtfv7.js","assets/CreateTaskModal.vue_vue_type_script_setup_true_lang-BK1pwJm6.js","assets/index-DPI-BQvI.js","assets/index-Db3QeTzS.css","assets/ConfirmDeleteModal-BMXtnf2h.js","assets/ConfirmDeleteModal.vue_vue_type_script_setup_true_lang-Ckar-tRs.js","assets/SidePanel-D3WfNYCN.js","assets/SidePanel-U7OOMI6M.css","assets/KanbanBoard-DYBHuyy-.js","assets/lodash-B3d4OLnQ.js","assets/DropMenu.vue_vue_type_script_setup_true_lang-Btsqne5P.js","assets/KanbanBoard-Dffh696C.css"])))=>i.map(i=>d[i]);
import{Q as Se,R as qe,S as ne,p as v,r as w,n as N,J as ke,c as T,T as Ve,d as Ce,U as mt,V as vt,l as x,h as s,j as xe,z as W,F as be,y as De,o as p,t as H,P as ft,I as Ge,N as Et,e as ee,w as J,W as Je,k as P,_ as Ze,i as re,B as ce,H as Qe,m as te,X as He,C as $e,O as Bt,M as Xe,L as gt,Y as Mt,Z as bt,$ as Ot,a0 as xt,a1 as Pt,D as Ke,a2 as Ut,a3 as It,u as At,a4 as qt,a5 as Nt,q as Ft,a6 as Fe,a7 as ze,v as zt,a8 as jt,a9 as it,aa as Ht,ab as Rt}from"./index-DPI-BQvI.js";import{u as Ye}from"./useTheme-clccTsdR.js";import{_ as Qt}from"./BaseTextAreaField.vue_vue_type_script_setup_true_lang-DRa1t_Ch.js";import{K as yt,D as Kt}from"./Dropdown-HJKOA4Ay.js";import{_ as Wt}from"./SearchBar.vue_vue_type_script_setup_true_lang-B5ldfQWf.js";import{o as Gt,_ as Jt}from"./ConfirmDeleteModal.vue_vue_type_script_setup_true_lang-Ckar-tRs.js";import{K as Zt}from"./KanbanTicket-BnCoRNZV.js";import{F as Xt}from"./fuse-Ch1WBRTM.js";import{l as Yt}from"./lodash-B3d4OLnQ.js";import"./DropMenu.vue_vue_type_script_setup_true_lang-Btsqne5P.js";const ea="data:image/svg+xml,%3csvg%20width='60'%20height='46'%20viewBox='0%200%2060%2046'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20opacity='0.4'%3e%3cpath%20d='M59.7443%2034.8967L50.5682%2025.7206C50.4457%2025.5984%2050.2897%2025.5152%2050.1199%2025.4816C49.9501%2025.4479%2049.7742%2025.4653%2049.6143%2025.5315C49.4544%2025.5976%2049.3176%2025.7097%2049.2213%2025.8535C49.125%2025.9973%2049.0734%2026.1664%2049.073%2026.3394V30.517H25.9775V40.5114H49.0755V44.689C49.0759%2044.8621%2049.1275%2045.0312%2049.2238%2045.175C49.3201%2045.3187%2049.4569%2045.4308%2049.6168%2045.497C49.7767%2045.5632%2049.9527%2045.5805%2050.1224%2045.5468C50.2922%2045.5132%2050.4482%2045.43%2050.5708%2045.3078L59.7468%2036.1318C59.9095%2035.9672%2060.0005%2035.7451%2060.0001%2035.5137C59.9996%2035.2823%2059.9076%2035.0605%2059.7443%2034.8967Z'%20fill='%23C6DBA9'/%3e%3cpath%20d='M32.3149%2030.5293C30.664%2031.5967%2028.7394%2032.1633%2026.7734%2032.1609V40.5237H34.7295C39.2829%2038.5638%2042.9649%2035.0102%2045.0851%2030.5293H32.3149Z'%20fill='url(%23paint0_linear_250_16424)'/%3e%3cpath%20d='M46.2209%2020.2832C46.2317%2015.0884%2044.2448%2010.0884%2040.6714%206.3179C37.0981%202.54738%2032.2119%200.295026%2027.024%200.0269855C21.8362%20-0.241055%2016.7439%201.49574%2012.801%204.87791C8.85809%208.26009%206.36647%2013.0287%205.84178%2018.1969L2.46233%2017.8913C2.31055%2017.8782%202.15829%2017.9103%202.02467%2017.9835C1.89106%2018.0566%201.78205%2018.1677%201.71134%2018.3026C1.64063%2018.4376%201.61138%2018.5904%201.62726%2018.7419C1.64313%2018.8934%201.70343%2019.0368%201.80058%2019.1542L9.51927%2028.406C9.79205%2028.7344%2010.277%2028.7773%2010.378%2028.5045L19.6298%2020.7833C20.3876%2020.3413%2020.1173%2019.4825%2019.4328%2019.4194L15.8008%2019.091C16.0297%2017.1283%2016.8213%2015.2735%2018.0802%2013.7503C19.3391%2012.2271%2021.0115%2011.1004%2022.8961%2010.5059C24.7806%209.9114%2026.7969%209.8745%2028.7019%2010.3996C30.6069%2010.9248%2032.3195%2011.9896%2033.6332%2013.4657C34.947%2014.9419%2035.8059%2016.7664%2036.1065%2018.7195C36.4071%2020.6726%2036.1365%2022.6709%2035.3274%2024.4738C34.5183%2026.2766%2033.2051%2027.8071%2031.5462%2028.8807C29.8872%2029.9544%2027.9531%2030.5254%2025.977%2030.5251H25.9283V40.5094C31.2249%2040.4031%2036.7093%2038.2263%2040.4202%2034.4455C44.1311%2030.6648%2046.2134%2025.5808%2046.2209%2020.2832Z'%20fill='%23D7A39E'/%3e%3cpath%20d='M25.9773%2030.5293H0V40.5237H25.9773V30.5293Z'%20fill='url(%23paint1_linear_250_16424)'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_250_16424'%20x1='6.53714'%20y1='35.5252'%20x2='47.0198'%20y2='35.5252'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%236C798F'/%3e%3cstop%20offset='1'%20stop-color='%236C798F'%20stop-opacity='0.1'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_250_16424'%20x1='0'%20y1='36'%20x2='26'%20y2='36'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23E8D4D3'%20stop-opacity='0'/%3e%3cstop%20offset='1'%20stop-color='%23E2A39F'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",ta=(d,o={})=>qe({queryKey:["sprint-list"],queryFn:({signal:S})=>ne({url:`sprints/${d}`,method:"GET",signal:S}),...o}),aa=(d,o={})=>qe({queryKey:["sprint-cards",d],queryFn:({signal:S})=>ne({url:`sprints/${v(d)}/backlog`,method:"GET",signal:S}),...o}),sa=(d,o={})=>qe({queryKey:["sprint-kanban",d],queryFn:({signal:S})=>ne({url:`workspace/cards/sprintgrouped?sprint_id=${v(d)}&variable_id=68b6c96e0a95eef7d14e6981`,method:"GET",signal:S}),...o}),la=(d,o={})=>Se({key:["sprint-complete"]},{mutationFn:S=>ne({url:`sprints/${v(d)}/complete`,method:"POST",data:S.payload}),...o}),ra=(d,o={})=>qe({queryKey:["sprint-detail",d],queryFn:({signal:S})=>ne({url:`sprints/detail/${v(d)}?include_cards=true`,method:"GET",signal:S}),...o}),We=(d,o={})=>qe({queryKey:["backlog-list",d],queryFn:({signal:S})=>ne({url:`sprints/workspace/${v(d)}/cards?include_sprint_cards=false`,method:"GET",signal:S}),...o}),na=(d={})=>Se({key:["add-sprint"]},{mutationFn:o=>ne({url:"/sprints",method:"POST",data:o.payload}),...d}),ht=(d={})=>Se({key:["move-card-to-sprint"]},{mutationFn:o=>ne({url:`/sprints/${o.id}/cards`,method:"POST",data:o.payload}),...d}),dt=(d={})=>Se({key:["add-sprint"]},{mutationFn:o=>ne({url:`/sprints/${o.id}`,method:"PUT",data:o.payload}),...d}),oa=(d={})=>Se({key:["start-sprint"]},{mutationFn:o=>ne({url:`/sprints/${o.id}/start`,method:"POST",data:o.payload}),...d}),ia=(d={})=>Se({key:["delete-sprint"]},{mutationFn:o=>ne({url:`/sprints/${o}`,method:"DELETE"}),...d}),da=(d={})=>Se({key:["remove-card-from-sprint"]},{mutationFn:o=>ne({url:`sprints/${v(o.sprintId)}/cards/remove `,method:"POST",data:{card_ids:[o.cardId]}}),...d}),_t="jira-like:";function ut(d="id"){return`${d}_${Math.random().toString(36).slice(2,9)}`}function ct(d,o){try{localStorage.setItem(_t+d,JSON.stringify(o))}catch{}}function pt(d,o){try{const S=localStorage.getItem(_t+d);return S?JSON.parse(S):o}catch{return o}}function ua(d){switch(d){case"Highest":return"rounded-md bg-red-50 px-2 py-0.5 text-xs text-red-700";case"High":return"rounded-md bg-orange-50 px-2 py-0.5 text-xs text-orange-700";case"Medium":return"rounded-md bg-amber-50 px-2 py-0.5 text-xs text-amber-700";case"Low":return"rounded-md bg-gray-100 px-2 py-0.5 text-xs text-gray-600"}}function ca(){const d=w(pt("backlog",[])),o=w(pt("sprints",[]));if(o.value.length===0)o.value.push({id:ut("sprint"),name:"Sprint 1",goal:"",start:"",end:"",started:!1,tickets:[]});else if(o.value.length>1){for(let r=1;r<o.value.length;r++)d.value.push(...o.value[r].tickets);o.value=[o.value[0]]}const S=w(o.value[0].id);N([d,o],()=>{ct("backlog",d.value),ct("sprints",o.value)},{deep:!0});const $=w([]),O=ke({}),h=T(()=>d.value.length>0&&$.value.length===d.value.length),l=r=>{var t;const e=o.value.find(a=>a.id===r);return!!e&&e.tickets.length>0&&(((t=O[r])==null?void 0:t.length)||0)===e.tickets.length};function C(r,e,t){const a=e.target.checked;if(r==="backlog")$.value=a?d.value.map(i=>i.id):[];else if(t){const i=o.value.find(y=>y.id===t);O[t]=a&&i?i.tickets.map(y=>y.id):[]}}function L(r,e,t,a){const i=t.target.checked,y=r==="backlog"?$.value:O[a]||(O[a]=[]);if(i&&!y.includes(e)&&y.push(e),!i){const E=y.indexOf(e);E>=0&&y.splice(E,1)}}function V(){return o.value.find(r=>r.id===S.value)||o.value[0]}function I(){const e=[...d.value,...o.value.flatMap(a=>a.tickets)].map(a=>Number(String(a.key).replace(/[^0-9]/g,""))).filter(a=>!Number.isNaN(a));return`PRJ-${e.length?Math.max(...e)+1:1}`}const{mutate:U}=ht({onSuccess:()=>{Ve.success("Cards moved to sprint successfully")},onError:r=>{Ve.error("Failed to move cards: "+(r.message||"Unknown error"))}});function D(){var a,i;const r=V();if(!r||!$.value.length)return;const e=[],t=[];for(const y of d.value)($.value.includes(y.id)?t:e).push(y);d.value=e,r.tickets.push(...t),$.value=[],t.length>0&&U({id:r.id,payload:{card_ids:t.map(y=>y.id),priority:((i=(a=t[0])==null?void 0:a.priority)==null?void 0:i.toLowerCase())||"medium",story_points:t.reduce((y,E)=>y+(E.storyPoints||0),0)}})}function M(r){const e=o.value.find(y=>y.id===r);if(!e)return;const t=O[r]||[],a=[],i=[];for(const y of e.tickets)(t.includes(y.id)?i:a).push(y);e.tickets=a,d.value.push(...i),O[r]=[]}function q(r,e){if(r==="backlog")d.value=d.value.filter(t=>!$.value.includes(t.id)),$.value=[];else if(e){const t=O[e]||[],a=o.value.find(i=>i.id===e);if(!a)return;a.tickets=a.tickets.filter(i=>!t.includes(i.id)),O[e]=[]}}function K(r,e){const t={id:ut("T"),key:I(),createdAt:new Date().toISOString(),...e};if(r==="backlog")d.value.push(t);else{const a=V();a==null||a.tickets.push(t)}}function R(r){const e=V();e&&(e.name=r.name??e.name,e.goal=r.goal??e.goal,e.start=r.start??e.start,e.end=r.end??e.end)}function j(){const r=V();r&&(r.started=!r.started)}function b(r){return r.tickets.reduce((e,t)=>e+(t.storyPoints||0),0)}return{backlog:d,sprints:o,activeSprintId:S,selectedBacklogIds:$,selectedSprintIds:O,allBacklogChecked:h,allSprintChecked:l,toggleAll:C,toggleOne:L,getActiveSprint:V,createTicket:K,saveSprintMeta:R,toggleStartSprint:j,sprintPoints:b,moveSelectedToSprint:D,moveSelectedToBacklog:M,deleteSelected:q,priorityClass:ua}}const pa={class:"h-full min-h-0"},ma={key:0,class:"empty-state flex flex-col justify-center items-center h-full"},va=["disabled"],fa={key:1,class:"overflow-y-auto h-[calc(100%-50px)] tickets-scroll"},ga={class:"flex flex-col flex-1 gap-[4px] min-w-0 me-1"},ba=["onDragstart","onClick"],xa=["checked","onChange"],ya={class:"flex items-center text-[14px] font-sans font-medium capitalize text-text-secondary flex-1 min-w-0"},ha={class:"truncate"},_a={class:"flex-shrink-0"},ka={key:0,class:"flex justify-center text-gray-500 items-center text-[11px] aspect-square w-[24px] h-[24px] bg-bg-body rounded-full border-border-input border-2"},Sa={key:1,class:"w-6 h-6 rounded-full"},Ca=["src"],wa={key:2,class:"text-[11px] aspect-square w-24px flex justify-center items-center h-[24px] bg-accent/30 text-accent border-accent border rounded-full"},Da=Ce({__name:"BacklogTable",props:{searchQuery:{type:String,default:""},checkedAll:{type:Boolean,default:!1}},emits:["ticket-dragged-to-sprint","open-ticket","ticket-moved-to-backlog","open-create-ticket"],setup(d,{emit:o}){const{theme:S}=Ye(),{canCreateCard:$}=mt(),O=o,h=d,{workspaceId:l}=vt(),{data:C,isPending:L}=We(l),V=w([]),I=w(!1),U=w([]),D=w([]);N(C,e=>{e!=null&&e.cards&&(V.value=e.cards.map(t=>{var u,_,G,pe;const a=((u=t.card)==null?void 0:u.variables)??{},i=((_=t.card)==null?void 0:_._id)??t.card_id,y=String(a["card-status"]??"").trim(),E=String(a.priority??"").trim();return{id:i,key:a["card-code"]||(i==null?void 0:i.slice(-6))||"PRJ-?",summary:a["card-title"]||"(untitled)",type:"Story",status:y,assignee:((G=t.card)==null?void 0:G.assigned_to)??"Unassigned",storyPoints:Number(t.story_points??0)||0,priority:q(E),createdAt:((pe=t.card)==null?void 0:pe.created_at)??new Date().toISOString(),description:a["card-description"]||""}}))},{immediate:!0}),N(V,e=>{const t=new Set(e.map(a=>a.id));D.value=D.value.filter(a=>t.has(a))});const M=T(()=>{if(console.log(h.searchQuery,"this is query"),!h.searchQuery)return V.value;const e=h.searchQuery.toLowerCase();return V.value.filter(t=>{var i;const a=typeof t.assignee=="string"?t.assignee:((i=t.assignee)==null?void 0:i.u_full_name)||"";return t.key.toLowerCase().includes(e)||t.summary.toLowerCase().includes(e)||a.toLowerCase().includes(e)})});function q(e){const t=String(e??"").toLowerCase();return["highest","blocker","critical"].includes(t)?"Highest":["high","major"].includes(t)?"High":["medium","normal"].includes(t)?"Medium":"Low"}function K(e,t,a){var u;const i=D.value.includes(t.id)?[...D.value]:[t.id],y=i.map(_=>V.value.find(G=>G.id===_)).filter(Boolean);U.value=i;const E=JSON.stringify({id:t.id,ids:i,from:a,tickets:y});(u=e.dataTransfer)==null||u.setData("text/plain",E),e.dataTransfer&&(e.dataTransfer.effectAllowed="move")}function R(e){var t;I.value=!1,((t=e.dataTransfer)==null?void 0:t.dropEffect)!=="none"&&U.value.length&&(V.value=V.value.filter(a=>!U.value.includes(a.id)),D.value=D.value.filter(a=>!U.value.includes(a))),U.value=[]}function j(e){var t;e.preventDefault(),I.value=!1;try{const a=(t=e.dataTransfer)==null?void 0:t.getData("text/plain");if(!a)return;const i=JSON.parse(a);if(i.from!=="sprint")return;const E=(i.tickets&&i.tickets.length?i.tickets:i.ticket?[i.ticket]:[]).filter(Boolean).filter(_=>!V.value.some(G=>G.id===_.id));E.length&&V.value.push(...E);const u=i.ids&&i.ids.length?i.ids:i.id?[i.id]:[];u.length&&O("ticket-moved-to-backlog",u,i.sprintId),console.log(i.sprintId,"sprintId ....")}catch(a){console.error("Drop error:",a)}}function b(e,t){t?D.value.includes(e)||D.value.push(e):D.value=D.value.filter(a=>a!==e)}function r(e,t){const a=t.target.checked;b(e,a)}return N(()=>h.checkedAll,e=>{e?(D.value=V.value.map(t=>t.id),console.log(D.value)):D.value=[]}),(e,t)=>(p(),x("section",pa,[s("div",{class:W(["rounded-lg flex flex-col h-full",I.value?"ring-2 ring-blue-400":""]),onDragover:t[3]||(t[3]=xe(()=>{},["prevent"])),onDragenter:t[4]||(t[4]=a=>I.value=!0),onDragleave:t[5]||(t[5]=a=>I.value=!1),onDrop:t[6]||(t[6]=a=>j(a))},[!v(L)&&M.value.length===0?(p(),x("div",ma,[t[7]||(t[7]=s("img",{src:ea,class:"mb-4",alt:"backlog-plan"},null,-1)),t[8]||(t[8]=s("h6",{class:"text-sm text-text-primary font-semibold mb-1"}," Get started in the backlog ",-1)),t[9]||(t[9]=s("p",{class:"text-sm text-text-primary/90 mb-4"}," Plan and start a sprint to see issues here. ",-1)),s("button",{disabled:!v($),onClick:t[0]||(t[0]=a=>e.$emit("open-create-ticket")),class:W(["relative inline-flex items-center justify-center font-medium py-1.5 px-3 text-sm rounded-md focus:outline-none transition text-xs px-3 py-1.5 h-[34px] bg-accent text-white hover:bg-accent-hover border-border-input border",v($)?"cursor-pointer":"cursor-not-allowed"])}," Create Ticket ",10,va)])):(p(),x("div",fa,[s("div",ga,[(p(!0),x(be,null,De(M.value,a=>{var i,y;return p(),x("div",{key:a.id,draggable:"true",class:W(["flex items-center  gap-3 p-[8px] cursor-pointer transition-colors rounded-[8px]",D.value.includes(a.id)?"border-2 border-[#5a2d7f]":"border border-border-input",v(S)==="dark"?"bg-bg-body hover:bg-bg-surface":"bg-bg-charcoal hover:bg-bg-body"]),onDragstart:E=>K(E,a,"backlog"),onDragend:t[2]||(t[2]=E=>R(E)),onClick:E=>e.$emit("open-ticket",a)},[s("input",{type:"checkbox",class:"custom-checkbox bg-bg-body border border-border-input flex-shrink-0",checked:D.value.includes(a.id),onClick:t[1]||(t[1]=xe(()=>{},["stop"])),onChange:E=>r(a.id,E)},null,40,xa),s("div",ya,[s("span",ha,H(a.summary),1)]),s("div",_a,[(a==null?void 0:a.assignee)==="Unassigned"?(p(),x("span",ka,"UA")):(i=a==null?void 0:a.assignee)!=null&&i.u_profile_image?(p(),x("div",Sa,[s("img",{src:a.assignee.u_profile_image,alt:""},null,8,Ca)])):(p(),x("span",wa,H(v(ft)((y=a==null?void 0:a.assignee)==null?void 0:y.u_full_name)),1))])],42,ba)}),128))])]))],34)]))}}),Va=Ge(Da,[["__scopeId","data-v-d7c5c505"]]),$a="data:image/svg+xml,%3csvg%20width='60'%20height='60'%20viewBox='0%200%2060%2060'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20opacity='0.4'%3e%3cpath%20d='M9.375%2030C11.6402%2030%2013.4766%2028.1637%2013.4766%2025.8984C13.4766%2023.6332%2011.6402%2021.7969%209.375%2021.7969C7.10977%2021.7969%205.27344%2023.6332%205.27344%2025.8984C5.27344%2028.1637%207.10977%2030%209.375%2030Z'%20fill='%23AE2A19'/%3e%3cpath%20d='M26.25%2024.375C28.5152%2024.375%2030.3516%2022.5387%2030.3516%2020.2734C30.3516%2018.0082%2028.5152%2016.1719%2026.25%2016.1719C23.9848%2016.1719%2022.1484%2018.0082%2022.1484%2020.2734C22.1484%2022.5387%2023.9848%2024.375%2026.25%2024.375Z'%20fill='%23BF63F3'/%3e%3cpath%20d='M15.3931%2035.8594H11.0159V33.0938C9.93587%2033.3387%208.81469%2033.3387%207.73465%2033.0938V35.8594H1.87528C1.55115%2035.8601%201.2345%2035.9568%200.965283%2036.1373C0.696064%2036.3178%200.486343%2036.574%200.362583%2036.8736C0.238824%2037.1731%200.206573%2037.5027%200.269899%2037.8205C0.333226%2038.1384%200.489292%2038.4304%200.718404%2038.6597L7.05872%2045L0.718404%2051.3403C0.489292%2051.5696%200.333226%2051.8616%200.269899%2052.1795C0.206573%2052.4973%200.238824%2052.8269%200.362583%2053.1264C0.486343%2053.426%200.696064%2053.6822%200.965283%2053.8627C1.2345%2054.0432%201.55115%2054.1399%201.87528%2054.1406H15.3931L21.7503%2045L15.3931%2035.8594Z'%20fill='%2382B536'/%3e%3cpath%20d='M34.4562%2035.8594H27.8937V27.4688C26.8137%2027.7138%2025.6925%2027.7138%2024.6125%2027.4688V35.8594H19.3896L25.7487%2045L19.3896%2054.1406H34.4562L40.8143%2045L34.4562%2035.8594Z'%20fill='%2382B536'/%3e%3cpath%20d='M43.8281%2019.6875H55.3125C55.7475%2019.6873%2056.1647%2019.5143%2056.4723%2019.2067C56.7799%2018.8991%2056.9529%2018.4819%2056.9531%2018.0469V9.375C56.9529%208.93996%2056.7799%208.5228%2056.4723%208.21518C56.1647%207.90755%2055.7475%207.73462%2055.3125%207.73438H43.8281V7.5C43.8281%207.06488%2043.6553%206.64758%2043.3476%206.3399C43.0399%206.03223%2042.6226%205.85938%2042.1875%205.85938C41.7524%205.85938%2041.3351%206.03223%2041.0274%206.3399C40.7197%206.64758%2040.5469%207.06488%2040.5469%207.5V32.5781H43.8281V19.6875Z'%20fill='%23FCA700'/%3e%3cpath%20d='M59.2843%2043.8403L51.7843%2036.3403C51.6322%2036.1878%2051.4514%2036.0668%2051.2524%2035.9842C51.0534%2035.9017%2050.8401%2035.8593%2050.6246%2035.8594H38.4521L44.8121%2045L38.4531%2054.1406H50.6246C50.8401%2054.1407%2051.0534%2054.0983%2051.2524%2054.0158C51.4514%2053.9332%2051.6322%2053.8122%2051.7843%2053.6597L59.2843%2046.1597C59.4368%2046.0075%2059.5577%2045.8267%2059.6402%2045.6277C59.7228%2045.4287%2059.7652%2045.2154%2059.7652%2045C59.7652%2044.7846%2059.7228%2044.5713%2059.6402%2044.3723C59.5577%2044.1733%2059.4368%2043.9925%2059.2843%2043.8403Z'%20fill='%2382B536'/%3e%3c/g%3e%3c/svg%3e",Ta={key:0,class:"overflow-y-auto h-[calc(100%-50px)] tickets-scroll"},La={class:"flex flex-col flex-1 gap-[4px] min-w-0 me-1"},Ea=["onDragstart","onClick"],Ba=["checked","onChange"],Ma={class:"flex items-center text-[14px] font-sans font-medium capitalize text-text-secondary flex-1 min-w-0"},Oa={class:"truncate"},Pa={class:"flex-shrink-0"},Ua={key:0,class:"flex justify-center text-gray-500 items-center text-[11px] aspect-square w-[24px] h-[24px] bg-bg-body rounded-full border-border-input border-2"},Ia={key:1,class:"w-6 h-6 rounded-full"},Aa=["src"],qa={key:2,class:"text-[11px] aspect-square w-[24px] flex justify-center items-center h-[24px] bg-accent/30 text-accent border-accent border rounded-full"},Na={key:1,class:"empty-state flex flex-col justify-center items-center border-dashed border-3 p-2 border-border h-[calc(100%-50px)] min-h-0"},Fa=Ce({__name:"SprintCard",props:{sprint:{},sprintId:{},searchQuery:{},checkedSprintAll:{}},emits:["edit-sprint","toggle-start","open-ticket","move-selected-to-backlog","delete-selected-sprint","refresh"],setup(d,{emit:o}){const{theme:S}=Ye(),$=d,O=o,h=w([]),l=w([]);N(()=>$.sprint.tickets,b=>{h.value=[...b||[]];const r=new Set(h.value.map(e=>e.id));l.value=l.value.filter(e=>r.has(e))},{immediate:!0,deep:!0});const C=T(()=>{var r;const b=((r=$.searchQuery)==null?void 0:r.toLowerCase())||"";return b?h.value.filter(e=>{var a;const t=((a=e.assignee)==null?void 0:a.u_full_name)??"";return e.key.toLowerCase().includes(b)||e.summary.toLowerCase().includes(b)||t.toLowerCase().includes(b)}):h.value}),L=w(!1),V=w([]),{mutate:I}=ht({onSuccess:()=>{Ve.success("Card moved to sprint successfully"),O("refresh")},onError:b=>{Ve.error("Failed to move card: "+(b.message||"Unknown error"))}});function U(b,r,e,t){var E;const a=l.value.includes(r.id)?[...l.value]:[r.id],i=a.map(u=>h.value.find(_=>_.id===u)).filter(Boolean);V.value=a;const y=JSON.stringify({id:r.id,ids:a,from:e,sprintId:t,ticket:r,tickets:i});(E=b.dataTransfer)==null||E.setData("text/plain",y),b.dataTransfer&&(b.dataTransfer.effectAllowed="move")}function D(b){var r;L.value=!1,((r=b.dataTransfer)==null?void 0:r.dropEffect)!=="none"&&V.value.length&&(h.value=h.value.filter(e=>!V.value.includes(e.id)),l.value=l.value.filter(e=>!V.value.includes(e))),V.value=[]}function M(){L.value=!0}function q(){L.value=!1}function K(b){var r;b.preventDefault(),L.value=!1;try{const e=(r=b.dataTransfer)==null?void 0:r.getData("text/plain");if(!e)return;const t=JSON.parse(e);if(t.from!=="backlog")return;const i=(t.tickets&&t.tickets.length?t.tickets:t.ticket?[t.ticket]:[]).filter(Boolean).filter(y=>!h.value.some(E=>E.id===y.id));if(!i.length)return;h.value.push(...i),i.forEach(y=>{I({id:$.sprintId,payload:{card_ids:[y.id],priority:(y.priority||"Medium").toLowerCase(),story_points:y.storyPoints||0}})})}catch(e){console.error("Drop error:",e)}}function R(b,r){r?l.value.includes(b)||l.value.push(b):l.value=l.value.filter(e=>e!==b)}function j(b,r){const e=r.target.checked;R(b,e)}return N(()=>$.checkedSprintAll,b=>{b?(l.value=C.value.map(r=>r.id),console.log(C.value)):l.value=[]}),(b,r)=>(p(),x("div",{class:W(["h-full min-h-0 px-2",v(S)==="dark"?"bg-bg-surface":"bg-bg-surface/30"])},[s("div",{class:W([L.value?"ring-2 ring-blue-400 rounded-lg":"","h-full box-border"]),onDragover:r[2]||(r[2]=xe(()=>{},["prevent"])),onDragenter:M,onDragleave:q,onDrop:K},[C.value.length>0?(p(),x("div",Ta,[s("div",La,[(p(!0),x(be,null,De(C.value,e=>{var t,a;return p(),x("div",{key:e.id,draggable:"true",class:W(["flex items-center  gap-3 p-[8px] cursor-pointer transition-colors rounded-[8px]",l.value.includes(e.id)?"border-2 border-[#5a2d7f]":"border border-border-input",v(S)==="dark"?"bg-bg-body hover:bg-bg-surface":"bg-bg-charcoal hover:bg-bg-body"]),onDragstart:i=>U(i,e,"sprint",b.sprint.id),onDragend:r[1]||(r[1]=i=>D(i)),onClick:i=>b.$emit("open-ticket",e)},[s("input",{type:"checkbox",class:W(["custom-checkbox border border-border-input flex-shrink-0",v(S)==="dark"?"bg-bg-charcoal":"bg-bg-body "]),checked:l.value.includes(e.id),onClick:r[0]||(r[0]=xe(()=>{},["stop"])),onChange:i=>j(e.id,i)},null,42,Ba),s("div",Ma,[s("span",Oa,H(e.summary),1)]),s("div",Pa,[(e==null?void 0:e.assignee)=="Unassigned"?(p(),x("span",Ua,"UA")):(t=e.assignee)!=null&&t.u_profile_image?(p(),x("div",Ia,[s("img",{src:e.assignee.u_profile_image,alt:""},null,8,Aa)])):(p(),x("span",qa,H(v(ft)(((a=e.assignee)==null?void 0:a.u_full_name)??"")),1))])],42,Ea)}),128))])])):(p(),x("div",Na,r[3]||(r[3]=[Et('<img src="'+$a+'" class="mb-4" alt="backlog-plan" data-v-181800bc><h6 class="text-sm text-text-primary font-semibold mb-1 text-center" data-v-181800bc> Plan your sprint </h6><p class="text-sm text-text-primary/90 mb-3 max-w-120 text-center" data-v-181800bc> Drag work items from the <span class="font-bold" data-v-181800bc>Backlog</span> section or create new ones to plan the work for this sprint. Select <span class="font-bold" data-v-181800bc>Start sprint</span> when you&#39;re ready. </p>',3)])))],34)],2))}}),za=Ge(Fa,[["__scopeId","data-v-181800bc"]]),ja={class:"px-6 gap-4 bg-bg-input pt-5 pb-8"},Ha={class:"mt-3"},Ra={class:"flex justify-end gap-2 p-6 sticky bottom-0 bg-bg-input border-t border-border"},Qa=Ce({__name:"SprintModal",props:{modelValue:{type:Boolean,default:!1},sprint:{},creatingSprint:{type:Boolean}},emits:["update:modelValue","save","close"],setup(d,{emit:o}){const S=o,$=d,O=T({get:()=>$.modelValue,set:D=>S("update:modelValue",D)}),h=ke({name:"",description:""}),l=ke({name:!1}),C=T(()=>l.name&&!String(h.name||"").trim()?"Name is required":""),L=T(()=>!!String(h.name||"").trim()&&!C.value);function V(){O.value=!1,S("close")}function I(){l.name=!0,L.value&&S("save",{name:String(h.name||"").trim(),description:String(h.description||"").trim()})}function U(){l.name=!1}return N(()=>$.sprint,D=>{if(!D){h.name="";return}h.name=D.name??(D==null?void 0:D.title)??"",h.description=D.description??"",U()},{immediate:!0}),(D,M)=>(p(),ee(Je,{modelValue:O.value,"onUpdate:modelValue":M[3]||(M[3]=q=>O.value=q),modalClass:"!py-0",size:"md"},{default:J(()=>[M[6]||(M[6]=s("div",{class:"sticky top-0 z-10 flex flex-col items-start pt-6 px-6 border-b border-border bg-bg-input pb-4"},[s("h2",{class:"text-xl font-semibold"},"Add New Sprint")],-1)),s("div",ja,[P(Ze,{class:"rounded-1",modelValue:h.name,"onUpdate:modelValue":M[0]||(M[0]=q=>h.name=q),label:"Name",placeholder:"Sprint 1",error:!!C.value,message:C.value,onBlur:M[1]||(M[1]=q=>l.name=!0)},null,8,["modelValue","error","message"]),s("div",Ha,[P(Qt,{modelValue:h.description,"onUpdate:modelValue":M[2]||(M[2]=q=>h.description=q),label:"Description",placeholder:"Sprint description...",type:"textarea",rows:4},null,8,["modelValue"])]),M[4]||(M[4]=s("div",null,null,-1))]),s("div",Ra,[P(ce,{variant:"secondary",onClick:V},{default:J(()=>M[5]||(M[5]=[re("Cancel")])),_:1,__:[5]}),P(ce,{variant:"primary",disabled:!L.value,onClick:I},{default:J(()=>[re(H(D.creatingSprint?"Saving...":"Save"),1)]),_:1},8,["disabled"])])]),_:1,__:[6]},8,["modelValue"]))}}),Ka="/assets/filter-JX25xO5j.svg",Wa={class:"px-6 grid grid-cols-2 gap-4 bg-bg-input pt-5"},Ga={class:"flex flex-col col-span-2"},Ja={class:"flex flex-col col-span-2"},Za={class:"flex gap-1 flex-col col-span-2 sm:col-span-1"},Xa={key:0,class:"text-xs text-red-500"},Ya={class:"flex gap-1 flex-col col-span-2 sm:col-span-1"},es={key:0,class:"text-xs text-red-500"},ts={class:"flex flex-col col-span-2"},as={class:"flex flex-col col-span-2"},ss={class:"bg-bg-body wfull px-4 py-3 rounded-lg text-xs text-text-secondary"},ls={class:"flex justify-end gap-2 p-6 sticky bottom-0 bg-bg-input"},rs=Ce({__name:"StartSprintModal",props:{modelValue:{type:Boolean,default:!1},sprint:{},creatingSprint:{type:Boolean}},emits:["update:modelValue","save","close"],setup(d,{emit:o}){const S=o,$=d,O=[{_id:1,title:"1 Week"},{_id:2,title:"2 Weeks"},{_id:3,title:"3 Weeks"},{_id:4,title:"4 Weeks"},{_id:5,title:"Custom"}],h=T({get:()=>$.modelValue,set:e=>S("update:modelValue",e)}),l=ke({goal:"",start:new Date().toISOString().slice(0,10),end:"",sprint_name:"",duration:null}),C=ke({start:!1,end:!1}),L=T(()=>!l.start&&C.start?"Start date is required":""),V=T(()=>{if(!l.end&&C.end)return"End date is required";if(l.start&&l.end){const e=R(l.start),t=R(l.end);if(Number.isFinite(e)&&Number.isFinite(t)&&t<e)return"End date cannot be before start date"}return""}),I=T(()=>!L.value&&!V.value);function U(e){l.start=e||"",C.start=!0}function D(e){l.end=e||"",C.end=!0}function M(){h.value=!1,S("close")}function q(){C.start=!0,C.end=!0,I.value&&(S("save",{title:l.sprint_name||"new sprint",duration:String(r.value)||null,start:l.start||"",end:l.end||"",goal:l.goal??""}),h.value=!1,S("close"))}function K(){C.start=!1,C.end=!1}function R(e){return e?new Date(`${e}T00:00:00`).getTime():NaN}const j=T(()=>l.duration===5);N(()=>l.duration,e=>{if(!e)return;const t=typeof e=="object"?e._id:e;if(t!==5&&l.start){const a=b(l.start,t*7);l.end=a}}),N(()=>l.start,e=>{e&&(l.duration&&l.duration!==5&&(l.end=b(l.start,l.duration*7)),l.end&&R(l.end)<R(l.start)&&(l.end=l.start))});function b(e,t){const a=new Date(e);return a.setDate(a.getDate()+t),a.toISOString().slice(0,10)}const r=T(()=>!l.start||!l.end?0:l.duration!==5?l.duration*7:(R(l.end)-R(l.start))/864e5);return N(()=>$.sprint,e=>{if(!e){l.start=new Date().toISOString().slice(0,10),l.end="",l.sprint_name="",l.goal="",K();return}l.goal=e.goal??"",l.start=e.start??new Date().toISOString().slice(0,10),l.end=e.end??"",l.sprint_name=e.title??"",K()},{immediate:!0}),(e,t)=>(p(),ee(Je,{modelValue:h.value,"onUpdate:modelValue":t[3]||(t[3]=a=>h.value=a),modalClass:"!py-0",size:"md"},{default:J(()=>[s("div",{class:"sticky top-0 z-10 flex justify-between items-center py-6 px-6 border-b border-border bg-bg-input"},[t[5]||(t[5]=s("h2",{class:"text-xl font-semibold"},"Start Sprint",-1)),s("span",{onClick:M,class:"text-sm text-text-secondary cursor-pointer"},t[4]||(t[4]=[s("i",{class:"fa-solid fa-xmark text-text-primary text-[19px]"},null,-1)]))]),s("div",Wa,[s("div",Ga,[P(Ze,{modelValue:l.sprint_name,"onUpdate:modelValue":t[0]||(t[0]=a=>l.sprint_name=a),label:"Sprint Name",placeholder:"Enter sprint name",size:"md",class:"rounded-1"},null,8,["modelValue"])]),s("div",Ja,[P(Qe,{modelValue:l.duration,"onUpdate:modelValue":t[1]||(t[1]=a=>l.duration=a),options:O,label:"Duration",placeholder:"Select duration"},null,8,["modelValue"])]),s("div",Za,[t[7]||(t[7]=s("label",{class:"text-sm font-medium"},"Start date",-1)),s("div",{class:W(["border relative flex items-center border-border h-10 px-2 bg-bg-input rounded-lg",L.value?"border-red-500":""])},[P(He,{placeholder:"Set start date",class:"w-full z-1","model-value":l.start,"emit-as":"ymd","onUpdate:modelValue":U},null,8,["model-value"]),t[6]||(t[6]=s("i",{class:"fa-regular fa-calendar absolute right-2 top-3 z-0"},null,-1))],2),L.value?(p(),x("p",Xa,H(L.value),1)):te("",!0)]),s("div",Ya,[t[8]||(t[8]=s("label",{class:"text-sm font-medium"},"End date",-1)),s("div",{class:W(["border relative flex items-center border-border h-10 px-2 bg-bg-input rounded-lg",V.value?"border-red-500":""])},[P(He,{placeholder:"Set end date",class:"w-full","model-value":l.end,"emit-as":"ymd",disabled:!j.value,"onUpdate:modelValue":D,"min-date":l.start},null,8,["model-value","disabled","min-date"]),s("i",{class:W(["fa-regular fa-calendar absolute right-2 top-3 z-0",{"text-text-secondary/30 pointer-events-none":!j.value,"text-text-primary":j.value}])},null,2)],2),V.value?(p(),x("p",es,H(V.value),1)):te("",!0)]),s("div",ts,[t[9]||(t[9]=s("label",{class:"text-sm font-medium pb-1"},"Goal (optional)",-1)),$e(s("textarea",{"onUpdate:modelValue":t[2]||(t[2]=a=>l.goal=a),class:"w-full text-sm rounded-md border border-border px-3 py-2 bg-bg-input",rows:"2",placeholder:"Ship onboarding flow"},null,512),[[Bt,l.goal]])]),s("div",as,[s("p",ss," Duration: "+H(l.start?r.value+" days":""),1)])]),s("div",ls,[P(ce,{variant:"secondary",onClick:M},{default:J(()=>t[10]||(t[10]=[re("Cancel")])),_:1,__:[10]}),P(ce,{variant:"primary",disabled:!I.value,onClick:q},{default:J(()=>[re(H(e.creatingSprint?"Starting...":"Start"),1)]),_:1},8,["disabled"])])]),_:1},8,["modelValue"]))}}),ns={class:"sticky top-0 z-10 flex flex-col items-start pt-6 px-6 border-b border-border bg-bg-body pb-4 mb-4"},os={class:"text-sm text-text-secondary mt-1"},is={class:"flex items-center gap-2 mt-4 w-full"},ds={class:"flex items-center gap-2 flex-1"},us={class:"px-6 min-h-[400px]"},cs={key:0},ps={key:0,class:"flex items-center justify-center py-12"},ms={key:1,class:"text-center py-12 text-text-secondary"},vs={key:2,class:"grid grid-cols-2 gap-3"},fs=["onClick"],gs={class:"flex items-center gap-3"},bs={class:"w-10 h-10 rounded-lg bg-bg-input flex items-center justify-center group-hover:bg-primary/10 transition-colors"},xs={class:"font-medium"},ys={key:1},hs={key:0,class:"flex items-center justify-center py-12"},_s={key:1,class:"text-center py-12 text-text-secondary"},ks={key:2,class:"grid grid-cols-2 gap-3"},Ss=["onClick"],Cs={class:"flex items-center gap-3"},ws={class:"w-10 h-10 rounded-lg bg-bg-input flex items-center justify-center group-hover:bg-primary/10 transition-colors"},Ds={class:"font-medium"},Vs={key:2},$s={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Ts={key:0,class:"flex flex-col"},Ls={class:"flex gap-1 flex-col"},Es={key:0,class:"text-xs text-red-500"},Bs={class:"flex gap-1 flex-col"},Ms={key:0,class:"text-xs text-red-500"},Os={class:"mt-4"},Ps={key:0,class:"text-xs text-red-500 mt-1 px-1"},Us={class:"flex justify-between gap-2 p-6 mt-8 sticky bottom-0 bg-bg-body border-t border-border"},Is={key:1},As={class:"flex gap-2"},qs=Ce({__name:"CreateBacklogTicketWithModuleSelection",props:{modelValue:{type:Boolean,default:!1},listId:{},selectedVariable:{}},emits:["update:modelValue","created"],setup(d,{emit:o}){const S=o,$=d,O=Xe(),{workspaceId:h}=gt(),l=w(1),C=w(null),L=w(null),{data:V,isLoading:I}=Mt(h.value),U=T(()=>{var m;return((m=V.value)==null?void 0:m.modules)||[]}),{data:D,isFetching:M,refetch:q}=bt({workspace_module_id:C,workspace_id:h},{enabled:T(()=>!!C.value)});N(()=>C.value,()=>{q()});const K=T(()=>D.value||[]),{data:R}=Ot(h.value),{data:j}=xt(h.value,C,{enabled:T(()=>!!C.value)}),{mutate:b,isPending:r}=Pt({onSuccess:()=>{de(),O.invalidateQueries({queryKey:["sheet-list"]}),O.invalidateQueries({queryKey:["backlog-list"]}),e.value=!1}}),e=T({get:()=>$.modelValue,set:m=>S("update:modelValue",m)}),t=T(()=>{switch(l.value){case 1:return"Select a module to create the ticket in";case 2:return"Select a sheet within the module";case 3:return"Provide the ticket details below and click Add Ticket";default:return""}}),a=T(()=>((j==null?void 0:j.value)??[]).filter(m=>{var f;return((f=m==null?void 0:m.type)==null?void 0:f.title)==="Select"})),i=m=>m.map(f=>({_id:f,title:f})),y=T(()=>((R==null?void 0:R.value)??[]).map(m=>{var f;return{_id:m._id,title:((f=m==null?void 0:m.variables)==null?void 0:f["lane-title"])??String(m._id)}})),E=m=>m.slug,u=ke({title:"",description:"",startDate:null,endDate:null,lane_id:null,variables:{}});N(a,m=>{for(const f of m){const g=E(f);g in u.variables||(u.variables[g]=null)}},{immediate:!0});const _=ke({title:!1,description:!1,startDate:!1,endDate:!1,lane:!1}),G=T(()=>!!u.title.trim()&&!!u.lane_id&&!!u.startDate&&!!u.endDate&&!Z.value&&!oe.value&&!ve.value&&!ae.value&&!k.value);function pe(m){u.startDate=m,_.startDate=!0}function Te(m){u.endDate=m,_.endDate=!0}function Le(m){u.lane_id=m,_.lane=!0}function we(m){C.value=m._id,l.value=2}function F(m){L.value=m._id,l.value=3}function le(){l.value>1&&l.value--}function me(){e.value=!1,de()}function de(){l.value=1,C.value=null,L.value=null,u.title="",u.description="",u.startDate=null,u.endDate=null,u.lane_id=null,u.variables={},_.title=!1,_.description=!1,_.startDate=!1,_.endDate=!1,_.lane=!1}const Ee=T(()=>{var m;return(m=j==null?void 0:j.value)==null?void 0:m.find(f=>(f==null?void 0:f._id)==$.selectedVariable)}),Z=T(()=>_.title&&!u.title.trim()?"Title is required":""),oe=T(()=>_.startDate?u.startDate?"":"Start date is required":""),ve=T(()=>_.endDate?u.endDate?u.startDate&&u.endDate&&u.endDate<u.startDate?"End date cannot be before start date":"":"End date is required":""),ae=T(()=>_.lane?u.lane_id?"":"Lane is required":""),k=T(()=>_.description&&!u.description.trim()?"Description is required":""),B=new Date().toISOString().split("T")[0];function ie(){var f;if(_.title=!0,_.lane=!0,_.description=!0,_.startDate=!0,_.endDate=!0,!G.value||r.value)return;const m={sheet_list_id:$.listId,workspace_id:h.value,sheet_id:L.value,workspace_lane_id:u.lane_id,variables:{...u.variables,[`${(f=Ee.value)==null?void 0:f.slug}`]:$.listId,"card-title":u.title.trim(),"card-description":u.description.trim(),"start-date":u.startDate,"end-date":u.endDate},createdAt:new Date().toISOString()};b(m)}return N(()=>u.title,m=>{m!=null&&m.trim()&&_.title&&(_.title=!1)}),N(()=>u.lane_id,m=>{m&&_.lane&&(_.lane=!1)}),N(()=>u.startDate,m=>{m&&_.startDate&&(_.startDate=!1)}),N(()=>u.endDate,m=>{m&&_.endDate&&(_.endDate=!1)}),N(()=>u.description,m=>{m!=null&&m.trim()&&_.description&&(_.description=!1)}),(m,f)=>(p(),ee(Je,{modelValue:e.value,"onUpdate:modelValue":f[4]||(f[4]=g=>e.value=g),modalClass:"!py-0",size:"lg"},{default:J(()=>[s("div",ns,[f[5]||(f[5]=s("h2",{class:"text-xl font-semibold"},"Create Backlog Ticket",-1)),s("p",os,H(t.value),1),s("div",is,[(p(),x(be,null,De(3,g=>s("div",{key:g,class:"flex items-center flex-1"},[s("div",ds,[s("div",{class:W(["h-1 flex-1 rounded-full transition-colors",l.value>=g?"bg-primary":"bg-border"])},null,2)])])),64))])]),s("div",us,[l.value===1?(p(),x("div",cs,[f[7]||(f[7]=s("h3",{class:"text-lg font-medium mb-4"},"Select Module",-1)),v(I)?(p(),x("div",ps,f[6]||(f[6]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},null,-1)]))):!U.value||U.value.length===0?(p(),x("div",ms," No modules available ")):(p(),x("div",vs,[(p(!0),x(be,null,De(U.value,g=>{var X,z,ue,se,ye;return p(),x("button",{key:g._id,onClick:he=>we(g),class:W(["p-4 border rounded-lg hover:border-primary transition-all text-left group",C.value===g._id?"border-primary bg-primary/5":"border-border"])},[s("div",gs,[s("div",bs,[s("i",{class:W([`${(z=(X=g==null?void 0:g.variables)==null?void 0:X["module-icon"])==null?void 0:z.prefix} ${(se=(ue=g==null?void 0:g.variables)==null?void 0:ue["module-icon"])==null?void 0:se.iconName}`,"text-lg"])},null,2)]),s("div",null,[s("p",xs,H(((ye=g.variables)==null?void 0:ye["module-title"])||"Untitled"),1)])])],10,fs)}),128))]))])):l.value===2?(p(),x("div",ys,[f[9]||(f[9]=s("h3",{class:"text-lg font-medium mb-4"},"Select Sheet",-1)),v(M)?(p(),x("div",hs,f[8]||(f[8]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},null,-1)]))):!K.value||K.value.length===0?(p(),x("div",_s," No sheets available for this module ")):(p(),x("div",ks,[(p(!0),x(be,null,De(K.value,g=>{var X,z;return p(),x("button",{key:g._id,onClick:ue=>F(g),class:W(["p-4 border rounded-lg hover:border-primary transition-all text-left group",L.value===g._id?"border-primary bg-primary/5":"border-border"])},[s("div",Cs,[s("div",ws,[s("i",{class:W(`${(X=g==null?void 0:g.variables["sheet-icon"])==null?void 0:X.prefix} ${(z=g==null?void 0:g.variables["sheet-icon"])==null?void 0:z.iconName} text-lg`)},null,2)]),s("div",null,[s("p",Ds,H((g==null?void 0:g.variables["sheet-title"])||"Untitled Sheet"),1)])])],10,Ss)}),128))]))])):l.value===3?(p(),x("div",Vs,[f[12]||(f[12]=s("h3",{class:"text-lg font-medium mb-4"},"Ticket Details",-1)),s("div",$s,[P(Ze,{modelValue:u.title,"onUpdate:modelValue":f[0]||(f[0]=g=>u.title=g),label:"Ticket Title",placeholder:"e.g., Implement real-time notifications",error:!!Z.value,message:Z.value,onBlur:f[1]||(f[1]=g=>_.title=!0)},null,8,["modelValue","error","message"]),y.value.length>0?(p(),x("div",Ts,[P(Qe,{size:"md",label:"Lane",options:y.value,placeholder:"Select lane",allowCustom:!1,"model-value":u.lane_id,"onUpdate:modelValue":Le,error:!!ae.value,message:ae.value},null,8,["options","model-value","error","message"])])):te("",!0),(p(!0),x(be,null,De(a.value,g=>$e((p(),ee(Qe,{size:"md",key:E(g),modelValue:u.variables[g.slug],"onUpdate:modelValue":X=>u.variables[g.slug]=X,options:i(g.data),label:g.title,placeholder:"Select value",allowCustom:!0},null,8,["modelValue","onUpdate:modelValue","options","label"])),[[Ke,(g==null?void 0:g._id)!=m.selectedVariable]])),128)),s("div",Ls,[f[10]||(f[10]=s("label",{class:"text-sm"},"Start date",-1)),s("div",{class:W(["border flex items-center border-border h-10 px-2 bg-bg-input rounded-lg",oe.value?"border-red-500":""])},[P(He,{placeholder:"Set start date",class:"w-full","model-value":u.startDate,"emit-as":"ymd","onUpdate:modelValue":pe,"min-date":v(B)},null,8,["model-value","min-date"])],2),oe.value?(p(),x("p",Es,H(oe.value),1)):te("",!0)]),s("div",Bs,[f[11]||(f[11]=s("label",{class:"text-sm"},"End date",-1)),s("div",{class:W(["border flex items-center border-border h-10 px-2 bg-bg-input rounded-lg",ve.value?"border-red-500":""])},[P(He,{placeholder:"Set end date",class:"w-full","model-value":u.endDate,"emit-as":"ymd","onUpdate:modelValue":Te,"min-date":u.startDate||v(B)},null,8,["model-value","min-date"])],2),ve.value?(p(),x("p",Ms,H(ve.value),1)):te("",!0)])]),s("div",Os,[P(Ut,{label:"Description",placeholder:"What needs to be done, acceptance criteria, links…",modelValue:u.description,"onUpdate:modelValue":f[2]||(f[2]=g=>u.description=g),onBlur:f[3]||(f[3]=g=>_.description=!0)},null,8,["modelValue"]),k.value?(p(),x("p",Ps,H(k.value),1)):te("",!0)])])):te("",!0)]),s("div",Us,[l.value>1?(p(),ee(ce,{key:0,variant:"secondary",onClick:le},{default:J(()=>f[13]||(f[13]=[re("Back")])),_:1,__:[13]})):(p(),x("div",Is)),s("div",As,[P(ce,{variant:"secondary",onClick:me},{default:J(()=>f[14]||(f[14]=[re("Cancel")])),_:1,__:[14]}),l.value===3?(p(),ee(ce,{key:0,variant:"primary",disabled:!G.value||v(r),onClick:ie},{default:J(()=>[re(H(v(r)?"Adding…":"Add Ticket"),1)]),_:1},8,["disabled"])):te("",!0)])])]),_:1},8,["modelValue"]))}}),Ns={class:"flex gap-2 flex-auto overflow-y-auto"},Fs={class:"flex-auto bg-gradient-to-b from-bg-card/95 to-bg-card/90 backdrop-blur shadow-[0_10px_40px_-10px_rgba(0,0,0,.5)] flex-grow h-full bg-bg-card border border-border overflow-x-auto flex"},zs={class:"flex overflow-x-auto gap-3 p-4"},js={key:0,class:"mx-auto text-text-secondary/80 m-2 w-[90%] h-full justify-center flex items-center border border-dashed border-border"},Hs=Ce({__name:"ActiveSprint",props:{sptint_id:{},searchQuery:{}},setup(d){const o=d,S=Fe(()=>ze(()=>import("./CreateTaskModal-BVlvtfv7.js"),__vite__mapDeps([0,1,2,3]))),$=Fe(()=>ze(()=>import("./ConfirmDeleteModal-BMXtnf2h.js"),__vite__mapDeps([4,5,2,3]))),O=Fe(()=>ze(()=>import("./SidePanel-D3WfNYCN.js"),__vite__mapDeps([6,2,3,7]))),h=Fe(()=>ze(()=>import("./KanbanBoard-DYBHuyy-.js"),__vite__mapDeps([8,9,2,3,10,5,11]))),l=Ft(),{workspaceId:C,moduleId:L}=gt(),{data:V}=bt({workspace_id:C,workspace_module_id:L}),I=T(()=>{var k;return V.value?(k=V.value[0])==null?void 0:k._id:""}),U=w(I),{data:D}=xt(C.value,L.value,U),M=Xe(),{mutate:q,isPending:K}=It({onSuccess:()=>{M.invalidateQueries({queryKey:["sheet-list"]}),Le.value="",F.value=!1,Te.value=!1,F.value=!1}}),R=k=>{q({workspace_id:C.value,module_id:L.value,variable_id:b.value,value:k})},j=T(()=>{var k;return D.value?(k=D.value[0])==null?void 0:k._id:""}),b=w(j),r=At(),e=T(()=>o.sptint_id),{data:t,isPending:a}=sa(e),i=w(!1),y=w(),E=k=>{y.value=k},u=qt(),_=Nt();function G(k){k.type=="column"?u.mutate({payload:{workspace_id:C.value,workspace_module_id:L.value,variable_id:b.value,moved_value:k.meta.id,new_index:k.meta.newIndex}}):_.mutate({payload:{workspace_id:C.value,card_id:k.meta.moved._id,group_value:k.meta.fromColumnId,group_variable_id:b.value,new_index:k.meta.newIndex,sheet_id:U.value}})}const pe=k=>{};N(V,k=>{var B;(k==null?void 0:k.length)>0&&(U.value=(B=k[0])==null?void 0:B._id)});const Te=w(!1),Le=w(""),we=k=>{q({workspace_id:l.params.id,module_id:l.params.module_id,new_value:k.title,value:k.oldTitle,variable_id:b.value})},F=w(!1),le=w(),me=()=>{q({value:le.value.title,workspace_id:C.value,module_id:L.value,newValue:le.value.title,variable_id:b.value,is_trash:!0})},de=k=>{F.value=!0,le.value=k},Ee=k=>{i.value=!0,le.value=k},Z=T(()=>o.searchQuery),oe=w("");N(Z,Yt.debounce(k=>{oe.value=k},200));const ve=T(()=>{const k=t.value.flatMap(B=>B.cards.map(ie=>({...ie,columnId:B.title})));return new Xt(k,{keys:["card-title","card-description","card-key"],threshold:.3})}),ae=T(()=>{if(!Z.value)return t.value;const k=ve.value.search(Z.value).map(B=>B.item);return t.value.map(B=>({...B,cards:k.filter(ie=>ie.columnId===B.title)}))});return(k,B)=>{var ie,m,f,g,X;return p(),x("div",Ns,[s("div",Fs,[$e(P(yt,null,null,512),[[Ke,v(a)]]),$e(s("div",zs,[P(v(h),{onOnPlus:Ee,"onDelete:column":B[0]||(B[0]=z=>de(z)),"onUpdate:column":B[1]||(B[1]=z=>we(z)),onReorder:G,onAddColumn:R,"onSelect:ticket":E,board:ae.value,onOnBoardUpdate:pe,variable_id:b.value,sheet_id:U.value},{"column-footer":J(z=>{var ue,se,ye,he,Ne;return[(se=(ue=v(r))==null?void 0:ue.transitions)!=null&&se.all_allowed&&!((Ne=(he=(ye=v(r))==null?void 0:ye.transitions)==null?void 0:he.all_allowed)!=null&&Ne.includes(z.column.title))&&v(r).transitions.currentColumn!=z.column.title?(p(),x("div",js," Disbale ( you can't drop here )")):te("",!0)]}),ticket:J(({ticket:z})=>[P(Zt,{selectedVar:b.value,onSelect:()=>{E(z)},ticket:z},null,8,["selectedVar","onSelect","ticket"])]),_:1},8,["board","variable_id","sheet_id"])],512),[[Ke,!v(a)]])]),P(v($),{onClick:B[2]||(B[2]=xe(()=>{},["stop"])),modelValue:F.value,"onUpdate:modelValue":B[3]||(B[3]=z=>F.value=z),title:"Delete List",itemLabel:"list",itemName:(ie=le.value)==null?void 0:ie.title,requireMatchText:(m=le.value)==null?void 0:m.title,confirmText:"Delete workspace",cancelText:"Cancel",size:"md",loading:v(K),onConfirm:me,onCancel:B[4]||(B[4]=()=>{F.value=!1})},null,8,["modelValue","itemName","requireMatchText","loading"]),i.value?(p(),ee(v(S),{selectedVariable:b.value,listId:(f=le.value)==null?void 0:f.title,sheet_id:U.value,key:"createTaskModalKey",modelValue:i.value,"onUpdate:modelValue":B[5]||(B[5]=z=>i.value=z),onSubmit:B[6]||(B[6]=()=>{})},null,8,["selectedVariable","listId","sheet_id","modelValue"])):te("",!0),(g=y.value)!=null&&g._id?(p(),ee(v(O),{key:1,details:y.value,onClose:B[7]||(B[7]=()=>{E({variables:{}})}),showPanel:!!((X=y.value)!=null&&X._id)},null,8,["details","showPanel"])):te("",!0)])}}}),Rs={class:"flex-auto flex-grow h-full min-h-0 bg-bg-card rounded-[6px] border border-border overflow-x-auto flex-col flex"},Qs={key:2,class:"p-4 w-full min-w-0 box-border h-full min-h-0"},Ks={class:"flex items-center justify-between"},Ws={class:"text-sm font-semibold flex gap-2 items-center"},Gs={class:"flex items-center gap-2"},Js={class:"h-8 w-22 flex items-center justify-center gap-2 rounded-md border cursor-pointer aspect-square text-sm border-border hover:bg-bg-body"},Zs=["src"],Xs={key:0,class:"w-full h-full min-h-[250px] flex justify-center items-center"},Ys={class:"space-y-4 rounded-md relative group pt-2 ovrflow-hidden flex-1 h-full min-h-0 box-border min-w-[400px] border border-border bg-bg-surface"},el={class:"flex justify-between px-2"},tl={class:"flex items-center justify-start gap-3 bg-transparent"},al={class:"text-sm font-semibold flex gap-2 items-center mt-1"},sl={class:"flex gap-3 items-center"},ll={key:0,class:"w-full h-full min-h-[250px] flex justify-center items-center"},je=400,rl=Ce({__name:"Plan",setup(d){const{theme:o}=Ye(),S=w(!1),$=w(""),O=w(!1),h=w(!1),{canCreateCard:l}=mt(),C=w(null),L=w(!1);Gt(C,()=>{L.value=!1});const V=()=>{S.value=!1},{workspaceId:I}=vt(),U=w(!1),{moveSelectedToSprint:D,moveSelectedToBacklog:M,deleteSelected:q,saveSprintMeta:K,toggleStartSprint:R}=ca(),{data:j}=We(I),{mutate:b,isPending:r}=ia({onSuccess:()=>{he.invalidateQueries({queryKey:["sprint-list"]}),t.value=!1}}),e=w(null),t=w(!1),a=()=>{var c;b((c=e.value)==null?void 0:c._id)},{mutate:i,isPending:y}=dt({onSuccess:c=>{K({name:c.title}),console.log(c,"this is testing data"),E({id:F.value,payload:{title:c.title,start_date:c.start_date,end_date:c.end_date,goal:c.goal,duration:Number(c.duration_days)}}),de.value=!1}}),{mutate:E,isPending:u}=oa({onSuccess:()=>{me()}}),_=c=>{console.log("helo",e.value,c),i({id:F.value,payload:{title:c.title,duration:c.duration,start_date:c.start,end_date:c.end,goal:c.goal}})},{data:G,refetch:pe}=ta(I.value),{refetch:Te,isPending:Le}=We(I),we=T(()=>{var c,n;return(n=(c=G==null?void 0:G.value)==null?void 0:c.sprints[0])==null?void 0:n._id}),F=w(we.value);N(()=>we.value,c=>{F.value=c}),N(()=>F.value,c=>{var n;e.value=((n=G.value)==null?void 0:n.sprints.find(Y=>Y._id===c))||null});const{data:le,refetch:me}=ra(F),de=w(!1),Ee=()=>{console.log(ae.value,"this is sprint"),de.value=!0},{data:Z,isPending:oe,refetch:ve}=aa(F);N(()=>oe.value,c=>{console.log(c,oe.value,">>>> laoding state changes")}),N(()=>F.value,()=>{me()});const ae=T(()=>{var Y,fe;const c=(Y=Z==null?void 0:Z.value)==null?void 0:Y.backlog_items;if(!c)return null;const n=(((fe=Z==null?void 0:Z.value)==null?void 0:fe.backlog_items)||[]).map(Q=>{var Oe,Pe,Ue,Ie,Ae;const ge=((Oe=Q==null?void 0:Q.card)==null?void 0:Oe.variables)||{},_e=((Pe=Q==null?void 0:Q.card)==null?void 0:Pe._id)||Q.card_id;return{id:_e,key:ge["card-code"]||(_e==null?void 0:_e.slice(-6))||"PRJ-?",summary:ge["card-title"]||"(untitled)",type:"Story",status:k(String(ge["card-status"]||"").trim()),assignee:((Ie=(Ue=Q==null?void 0:Q.card)==null?void 0:Ue.assigned_to)==null?void 0:Ie.name)||"Unassigned",storyPoints:Number(Q.story_points||0),priority:B(String(ge.priority||"").trim()),createdAt:((Ae=Q==null?void 0:Q.card)==null?void 0:Ae.created_at)||new Date().toISOString(),description:ge["card-description"]||""}});return{id:c._id,name:c.title||"Sprint 1",title:c.title,goal:"",start:"",end:"",started:!1,tickets:n}});function k(c){const n=c.toLowerCase();return n.includes("progress")?"In Progress":n.includes("done")||n.includes("complete")?"Done":"Todo"}function B(c){const n=c.toLowerCase();return n==="highest"||n==="blocker"||n==="critical"?"Highest":n==="high"||n==="major"?"High":n==="medium"||n==="normal"?"Medium":"Low"}const{mutate:ie}=da({onSuccess:()=>{Ve.success("Card removed from sprint successfully"),m()},onError:c=>{Ve.error("Failed to remove card from sprint"),console.error("Failed to remove card from sprint:",c)}});function m(){ve(),pe(),Te(),me()}function f(c,n){const Y=Array.isArray(c)?c:[c],fe=n||F.value;!fe||!Y.length||Y.forEach(Q=>{ie({sprintId:fe,cardId:Q})})}const g=w(!1),X=w(null);function z(){U.value=!0,X.value=null}function ue(c){X.value=c,S.value=!0,g.value=!0}const se=w(!1);function ye(){se.value=!0}const he=Xe(),{mutate:Ne,isPending:kt}=na({onSuccess:c=>{K({name:c.title}),he.invalidateQueries({queryKey:["sprint-list"]}),se.value=!1}}),{mutate:St,isPending:Ct}=dt({onSuccess:c=>{K({name:c.title}),he.invalidateQueries({queryKey:["sprint-list"]}),se.value=!1}});function wt(c){var n;e.value?St({id:(n=e.value)==null?void 0:n._id,payload:{workspace_id:I.value,title:c.name,description:c.description}}):Ne({payload:{workspace_id:I.value,title:c.name,description:c.description}})}function Dt(){e.value=null,console.log(">>> felo"),se.value=!0}function et(c){e.value=c,se.value=!0}function tt(c){e.value=c,t.value=!0}const{mutate:Vt,isPending:$t}=la(F,{onSuccess:()=>{me()}}),Tt=()=>{Vt({})},Be=w(null),Me=w(0);let Re=!1;zt(()=>{if(!Be.value)return;const c=Be.value.offsetWidth;Me.value=c/3});function Lt(){Re=!0,document.addEventListener("mousemove",at),document.addEventListener("mouseup",st)}function at(c){if(!Re||!Be.value)return;const n=Be.value.getBoundingClientRect(),Y=c.clientX-n.left;Y<je?Me.value=je:Y>n.width-je?Me.value=n.width-je:Me.value=Y}function st(){Re=!1,document.removeEventListener("mousemove",at),document.removeEventListener("mouseup",st)}return(c,n)=>{var Y,fe,Q,ge,_e,Oe,Pe,Ue,Ie,Ae,lt,rt,nt,ot;return p(),x(be,null,[s("div",Rs,[((Y=v(le))==null?void 0:Y.status)=="active"?(p(),ee(Hs,{key:0,sptint_id:F.value,searchQuery:$.value},null,8,["sptint_id","searchQuery"])):v(u)?(p(),ee(yt,{key:1})):(p(),x("div",Qs,[s("div",{class:"flex gap-2 h-full max-h-screen min-h-0 box-border overflow-x-auto group",ref_key:"containerRef",ref:Be},[s("section",{class:W(["space-y-4 p-4 rounded-md relative group overflow-hidden box-border h-full min-h-0 min-w-[400px]",v(o)==="dark"?"bg-bg-surface":"bg-bg-surface/30"]),style:jt({width:Me.value+"px"})},[s("div",Ks,[s("h2",Ws,[$e(s("input",{type:"checkbox",class:"custom-checkbox bg-bg-body border border-border-input flex-shrink-0","onUpdate:modelValue":n[0]||(n[0]=A=>O.value=A)},null,512),[[it,O.value]]),re(" Backlog ("+H((Q=(fe=v(j))==null?void 0:fe.cards)==null?void 0:Q.length)+" "+H(((_e=(ge=v(j))==null?void 0:ge.cards)==null?void 0:_e.length)>1?"Tasks":"Task")+") ",1)]),s("div",Gs,[s("button",Js,[s("img",{src:v(Ka),alt:"icon",class:"w-[16px]"},null,8,Zs),n[18]||(n[18]=re(" Filters "))]),v(l)?(p(),x("button",{key:0,class:"w-8 h-8 rounded-md border cursor-pointer aspect-square text-sm border-border hover:bg-bg-body",onClick:z},n[19]||(n[19]=[s("i",{class:"text-text-primary fa-regular fa-plus"},null,-1)]))):te("",!0)])]),v(Le)?(p(),x("div",Xs,n[20]||(n[20]=[s("div",{role:"status","aria-label":"Loading",class:"h-10 w-10 rounded-full border-4 border-neutral-700 border-t-transparent animate-spin"},null,-1)]))):(p(),ee(Va,{key:1,checkedAll:O.value,searchQuery:$.value,onMoveSelectedToSprint:v(D),onDeleteSelectedBacklog:n[1]||(n[1]=A=>v(q)("backlog")),onOpenTicket:ue,onTicketMovedToBacklog:f,onOpenCreateTicket:z},null,8,["checkedAll","searchQuery","onMoveSelectedToSprint"]))],6),s("div",{class:"h-full w-[3px] relative z-10 opacity-0 group-hover:opacity-100 bg-red hover:bg-accent cursor-col-resize transition",onMousedown:Lt},null,32),s("section",Ys,[s("div",el,[s("div",tl,[P(Kt,{modelValue:F.value,"onUpdate:modelValue":n[2]||(n[2]=A=>F.value=A),options:(Oe=v(G))==null?void 0:Oe.sprints,variant:"secondary",onEditOption:et,onDeleteOption:tt,class:"border border-gray-300 rounded-lg"},null,8,["modelValue","options"]),s("h2",al,[$e(s("input",{type:"checkbox",class:"custom-checkbox bg-bg-body border border-border-input flex-shrink-0","onUpdate:modelValue":n[3]||(n[3]=A=>h.value=A)},null,512),[[it,h.value]]),re(" Sprint ("+H((Ue=(Pe=ae.value)==null?void 0:Pe.tickets)==null?void 0:Ue.length)+" "+H(((Ae=(Ie=ae.value)==null?void 0:Ie.tickets)==null?void 0:Ae.length)>1?"Tasks":"Task")+") ",1)]),s("div",{onClick:n[4]||(n[4]=A=>Dt()),class:"capitalize border-t mt-1 border-border px-4 py-2 hover:bg-bg-dropdown-menu-hover cursor-pointer flex items-center gap-1 overflow-hidden overflow-ellipsis text-nowrap"},n[21]||(n[21]=[s("i",{class:"fa-solid fa-plus"},null,-1)]))]),s("div",sl,[P(Wt,{placeholder:"Search in sprint",onOnChange:n[5]||(n[5]=A=>{$.value=A})}),((lt=v(le))==null?void 0:lt.status)=="active"?(p(),ee(ce,{key:0,size:"sm",onClick:Tt,variant:(v(o)==="dark","primary"),class:"border-border-input border"},{default:J(()=>[re(H(v($t)?"Ending...":"End"),1)]),_:1},8,["variant"])):(p(),ee(ce,{key:1,size:"sm",variant:(v(o)==="dark","primary"),class:"border-border-input border",onClick:Ee,disabled:!ae.value||ae.value.tickets.length==0},{default:J(()=>n[22]||(n[22]=[re("Start Sprint")])),_:1,__:[22]},8,["variant","disabled"])),s("div",{class:"relative inline-block",ref_key:"elipseWrapper",ref:C},[s("div",null,[s("button",{onClick:n[6]||(n[6]=xe(A=>L.value=!L.value,["stop"])),class:"flex items-center cursor-pointer justify-center border border-border-input rounded-[8px] w-[36px] h-[36px] text-primary hover:bg-bg-body"},n[23]||(n[23]=[s("i",{class:"fa-solid fa-ellipsis-vertical text-md"},null,-1)])),P(Ht,{name:"fade"},{default:J(()=>[L.value?(p(),x("ul",{key:0,class:"absolute right-0 mt-2 w-44 border border-border-input rounded-[8px] bg-bg-dropdown shadow-xl py-3 z-50",onClick:n[9]||(n[9]=xe(()=>{},["stop"]))},[s("li",{class:"px-4 py-2 text-[14px] font-manrope font-medium text-text-secondary hover:bg-bg-body cursor-pointer",onClick:n[7]||(n[7]=A=>et(e.value))}," Edit Sprint "),s("li",{class:"px-4 py-2 text-[14px] font-manrope font-medium text-red-600 hover:bg-bg-body cursor-pointer",onClick:n[8]||(n[8]=A=>tt(e.value))}," Delete Sprint ")])):te("",!0)]),_:1})])],512),n[24]||(n[24]=s("button",{class:"flex items-center font-normal justify-center border border-border-input rounded-[8px] w-[36px] h-[36px] text-primary hover:bg-bg-body"},[s("i",{class:"fa-sharp fa-thin fa-arrows-up-down-left-right"})],-1))])]),v(oe)?(p(),x("div",ll,n[25]||(n[25]=[s("div",{role:"status","aria-label":"Loading",class:"h-10 w-10 rounded-full border-4 border-neutral-700 border-t-transparent animate-spin"},null,-1)]))):(p(),x(be,{key:1},[ae.value?(p(),ee(za,{key:0,searchQuery:$.value,sprintId:F.value,checkedSprintAll:h.value,sprint:ae.value,onOpenTicket:ue,onEditSprint:ye,onToggleStart:v(R),onMoveSelectedToBacklog:v(M),onDeleteSelectedSprint:n[10]||(n[10]=A=>v(q)("sprint",A)),onRefresh:m},null,8,["searchQuery","sprintId","checkedSprintAll","sprint","onToggleStart","onMoveSelectedToBacklog"])):te("",!0)],64))])],512)]))]),P(Jt,{onClick:n[11]||(n[11]=xe(()=>{},["stop"])),modelValue:t.value,"onUpdate:modelValue":n[12]||(n[12]=A=>t.value=A),title:"Delete Sprint",itemLabel:"Sprint",itemName:(rt=e.value)==null?void 0:rt.title,requireMatchText:(nt=e.value)==null?void 0:nt.title,confirmText:"Delete Sprint",cancelText:"Cancel",size:"md",loading:v(r),onConfirm:a,onCancel:n[13]||(n[13]=()=>{e.value=null,t.value=!1})},null,8,["modelValue","itemName","requireMatchText","loading"]),P(Qa,{modelValue:se.value,"onUpdate:modelValue":n[14]||(n[14]=A=>se.value=A),onSave:wt,sprint:e.value,creatingSprint:e.value?v(Ct):v(kt)},null,8,["modelValue","sprint","creatingSprint"]),P(rs,{sprint:e.value,modelValue:de.value,"onUpdate:modelValue":n[15]||(n[15]=A=>de.value=A),onSave:_,creatingSprint:v(u)||v(y)},null,8,["sprint","modelValue","creatingSprint"]),P(Rt,{modelValue:S.value,"onUpdate:modelValue":n[16]||(n[16]=A=>S.value=A),cardId:(ot=X.value)==null?void 0:ot.id,onClose:V},null,8,["modelValue","cardId"]),P(qs,{modelValue:U.value,"onUpdate:modelValue":n[17]||(n[17]=A=>U.value=A)},null,8,["modelValue"])],64)}}}),gl=Ge(rl,[["__scopeId","data-v-da71a9fc"]]);export{gl as default};
