import{d as M,u as N,a as z,r as g,c as o,b as D,e as T,w as p,f as q,g as H,o as c,h as s,s as n,i as r,j as R,k as d,l as U,m as j,_ as k,B as O,t as E}from"./index-Ba6ntxZR.js";import{_ as W}from"./AuthLayout.vue_vue_type_script_setup_true_lang-CoL7rXXa.js";import{l as G}from"./auth-DKSbHWvC.js";import"./favicon-BAFXWHLW.js";import"./Header-Cj3B3N30.js";import"./useTheme-BlLwjyHY.js";import"./dark-logo-Mcb_sJlF.js";const J={class:"max-w-[500px] md:mx-auto w-full text-text-primary bg-bg-body"},K={key:0,class:"text-red-500 text-sm text-center mt-2"},Q={class:"text-center mt-4"},re=M({name:"LoginPage",__name:"Login",setup(X){const S=N(),V=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,B=z(),u=g(""),i=g(""),a=g(""),l={email:!1,password:!1},f=o(()=>l.email?u.value.trim()?V.test(u.value)?"":"Invalid email":"Email is required":""),P=o(()=>!!f.value),v=o(()=>l.password?i.value?i.value.length<6?"Password must be at least 6 characters":"":"Password is required":""),I=o(()=>!!v.value),L=o(()=>!f.value&&!v.value),w=q(),{mutateAsync:C,isPending:y}=D({mutationFn:G}),$=o(()=>y.value),A=o(()=>y.value?"Signing In...":"Continue");function b(){a.value&&(a.value="")}async function F(){var x,e,m;if(a.value="",l.email=!0,l.password=!0,!L.value){a.value="Please fill all fields correctly.";return}try{const t=await C({u_email:u.value,u_password:i.value});localStorage.setItem("token",(x=t==null?void 0:t.data)==null?void 0:x.token),await B.bootstrap(),S.pricing?w.push("/dashboard?stripePayment=true"):w.push("/dashboard")}catch(t){a.value=((m=(e=t==null?void 0:t.response)==null?void 0:e.data)==null?void 0:m.message)||"Login failed. Please try again."}}return(x,e)=>{const m=H("router-link");return c(),T(W,null,{form:p(()=>[s("div",J,[e[0]||(n(-1,!0),(e[0]=s("h2",{class:"text-[32px] font-medium mb-12 text-center text-text-primary"},[e[7]||(e[7]=r(" Sign in to Orchit AI "))])).cacheIndex=0,n(1),e[0]),s("form",{onSubmit:R(F,["prevent"]),class:"space-y-4 w-full"},[d(k,{modelValue:u.value,"onUpdate:modelValue":[e[1]||(e[1]=t=>u.value=t),b],label:"Email",placeholder:"Email address",size:"lg",error:P.value,message:f.value,onBlur:e[2]||(e[2]=t=>l.email=!0)},null,8,["modelValue","error","message"]),d(k,{modelValue:i.value,"onUpdate:modelValue":[e[3]||(e[3]=t=>i.value=t),b],label:"Password",placeholder:"Enter your password",size:"lg",type:"password",error:I.value,message:v.value,onBlur:e[4]||(e[4]=t=>l.password=!0)},null,8,["modelValue","error","message"]),d(O,{disabled:$.value,size:"lg",block:!0,type:"submit"},{default:p(()=>[r(E(A.value),1)]),_:1},8,["disabled"]),a.value?(c(),U("p",K,E(a.value),1)):j("",!0),s("div",Q,[d(m,{to:"/forgot-password",class:"text-sm text-accent hover:underline"},{default:p(()=>e[8]||(e[8]=[r(" Forgot password? ")])),_:1,__:[8]})])],32),e[5]||(n(-1,!0),(e[5]=s("p",{class:"text-sm font-medium text-text-secondary text-center mt-6"},[e[9]||(e[9]=r(" By signing in, you agree to the ")),e[10]||(e[10]=s("span",{class:"text-text-primary font-bold"},"Privacy Policy",-1)),e[11]||(e[11]=r(" and ")),e[12]||(e[12]=s("span",{class:"text-text-primary font-bold"},"Terms of Service",-1)),e[13]||(e[13]=r(". "))])).cacheIndex=5,n(1),e[5]),e[6]||(n(-1,!0),(e[6]=s("p",{class:"text-sm font-medium text-text-secondary text-center mt-8"},[e[15]||(e[15]=r(" Donâ€™t have an account? ")),d(m,{to:"/register",class:"text-text-primary font-bold underline"},{default:p(()=>e[14]||(e[14]=[r("Sign up")])),_:1,__:[14]})])).cacheIndex=6,n(1),e[6])])]),_:1})}}});export{re as default};
