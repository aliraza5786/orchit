import{d as M,r as x,c as r,u as N,a as z,w as g,b as a,s as n,e as o,f as A,g as d,h as D,i as F,t as w,B as T,j as q,k as H,o as c}from"./index-DXbJhmZM.js";import{_ as R}from"./AuthLayout.vue_vue_type_script_setup_true_lang-ffM-Gtc1.js";import{_ as k}from"./BaseTextField.vue_vue_type_script_setup_true_lang-DKWFnRpb.js";import{l as U}from"./auth-DVPbkTqo.js";import"./favicon-BAFXWHLW.js";import"./info-DjaLHeD_.js";const j={class:"max-w-[500px] md:mx-auto w-full text-text-primary bg-bg-body"},O={key:0,class:"text-red-500 text-sm text-center mt-2"},Z=M({name:"LoginPage",__name:"Login",setup(G){const E=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,u=x(""),i=x(""),s=x(""),l={email:!1,password:!1},p=r(()=>l.email?u.value.trim()?E.test(u.value)?"":"Invalid email":"Email is required":""),V=r(()=>!!p.value),f=r(()=>l.password?i.value?i.value.length<6?"Password must be at least 6 characters":"":"Password is required":""),B=r(()=>!!f.value),I=r(()=>!p.value&&!f.value),P=H(),{mutateAsync:S,isPending:y}=N({mutationFn:U}),L=r(()=>y.value),C=r(()=>y.value?"Signing In...":"Continue");function b(){s.value&&(s.value="")}async function $(){var v,e,m;if(s.value="",l.email=!0,l.password=!0,!I.value){s.value="Please fill all fields correctly.";return}try{const t=await S({u_email:u.value,u_password:i.value});localStorage.setItem("token",(v=t==null?void 0:t.data)==null?void 0:v.token),P.push("/dashboard")}catch(t){s.value=((m=(e=t==null?void 0:t.response)==null?void 0:e.data)==null?void 0:m.message)||"Login failed. Please try again."}}return(v,e)=>{const m=q("router-link");return c(),z(R,null,{form:g(()=>[a("div",j,[e[0]||(n(-1,!0),(e[0]=a("h2",{class:"text-[32px] font-medium mb-12 text-center text-text-primary"},[e[7]||(e[7]=o(" Sign in to Orchit AI "))])).cacheIndex=0,n(1),e[0]),a("form",{onSubmit:A($,["prevent"]),class:"space-y-4 w-full"},[d(k,{modelValue:u.value,"onUpdate:modelValue":[e[1]||(e[1]=t=>u.value=t),b],label:"Email",placeholder:"Email address",size:"lg",error:V.value,message:p.value,onBlur:e[2]||(e[2]=t=>l.email=!0)},null,8,["modelValue","error","message"]),d(k,{modelValue:i.value,"onUpdate:modelValue":[e[3]||(e[3]=t=>i.value=t),b],label:"Password",placeholder:"Enter your password",size:"lg",type:"password",error:B.value,message:f.value,onBlur:e[4]||(e[4]=t=>l.password=!0)},null,8,["modelValue","error","message"]),d(T,{disabled:L.value,size:"lg",block:!0,type:"submit"},{default:g(()=>[o(w(C.value),1)]),_:1},8,["disabled"]),s.value?(c(),D("p",O,w(s.value),1)):F("",!0)],32),e[5]||(n(-1,!0),(e[5]=a("p",{class:"text-sm font-medium text-text-secondary text-center mt-6"},[e[8]||(e[8]=o(" By signing in, you agree to the ")),e[9]||(e[9]=a("span",{class:"text-text-primary font-bold"},"Privacy Policy",-1)),e[10]||(e[10]=o(" and ")),e[11]||(e[11]=a("span",{class:"text-text-primary font-bold"},"Terms of Service",-1)),e[12]||(e[12]=o(". "))])).cacheIndex=5,n(1),e[5]),e[6]||(n(-1,!0),(e[6]=a("p",{class:"text-sm font-medium text-text-secondary text-center mt-8"},[e[14]||(e[14]=o(" Donâ€™t have an account? ")),d(m,{to:"/register",class:"text-text-primary font-bold underline"},{default:g(()=>e[13]||(e[13]=[o("Sign up")])),_:1,__:[13]})])).cacheIndex=6,n(1),e[6])])]),_:1})}}});export{Z as default};
