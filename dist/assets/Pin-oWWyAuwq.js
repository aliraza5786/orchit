const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ConfirmDeleteModal-D01-Rc7B.js","assets/ConfirmDeleteModal.vue_vue_type_script_setup_true_lang-QiQIlSIU.js","assets/index-DKO9vpWs.js","assets/index-U_lIj89R.css","assets/CreateVariableModal-Bi_ouh9v.js","assets/KanbanBoard-BTJGHvw7.js","assets/lodash-Dt_72mC4.js","assets/lodash-B_VDCJnj.css","assets/DropMenu.vue_vue_type_script_setup_true_lang-DqzadSif.js","assets/workspace-OrqjaA3b.js","assets/KanbanBoard-DlFwUlEB.css"])))=>i.map(i=>d[i]);
import{d as le,r as o,q as xe,v as Te,i as V,e as l,h as c,t as j,a8 as Ue,w as D,j as G,a9 as Z,g as f,F as X,x as Ce,o as g,H as Qe,c as E,m as M,a as ye,aa as He,ab as qe,ac as Ne,y as Ye,A as te,b as J,C as ae,s as ge,f as K,U as be,n as S,W as ze,$ as Ge,Y as Ze,ad as Je,a2 as Xe,a3 as $e,a4 as et,ae as tt,B as ke,a5 as $,_ as at,a6 as ee,p as lt}from"./index-DKO9vpWs.js";import{u as st}from"./workspace-OrqjaA3b.js";import{l as ot,F as nt,D as it,K as rt}from"./lodash-Dt_72mC4.js";import{_ as dt}from"./DropMenu.vue_vue_type_script_setup_true_lang-DqzadSif.js";import{_ as ut}from"./ConfirmDeleteModal.vue_vue_type_script_setup_true_lang-QiQIlSIU.js";import{_ as ct}from"./CreateTaskModal.vue_vue_type_script_setup_true_lang-Ch4RHO4z.js";import vt from"./SidePanel-BFvZcF7S.js";import mt from"./CreateSheetModal-B0IrfRUV.js";import{_ as pt}from"./SearchBar.vue_vue_type_script_setup_true_lang-K_iaIn0L.js";import"./IconPicker-CDjwoOYr.js";import"./AudioRecorder.vue_vue_type_script_setup_true_lang-ChOs4L7_.js";const ft="data:image/png;base64,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",gt=["aria-expanded","disabled"],bt={class:"truncate"},kt=["onKeydown"],xt=["aria-checked","onClick","onKeydown"],Ct={class:"rounded-full hover:bg-bg-dropdown-menu-hover px-1 text-text-primary"},yt=le({__name:"TypeChanger",props:{default:{},disabled:{type:Boolean,default:!1},cardId:{},data:{},placeholder:{}},emits:["onselect"],setup(H,{emit:W}){const r=H,F=o(r.default),C=o(!1),v=o(null),y=o(null);function h(n){if(r.data)return r.data.find(d=>d===n)}function b(){r.disabled||(C.value=!C.value)}function w(){C.value=!1}function k(n){F.value=n,_("onselect",n),w()}function x(n){var I;const d=(I=y.value)==null?void 0:I.querySelectorAll('button[role="menuitemradio"]');if(!(d!=null&&d.length))return;const L=d.length-1,B=Math.max(0,Math.min(n,L));d[B].focus()}function m(n){v.value&&(v.value.contains(n.target)||w())}xe(()=>document.addEventListener("click",m)),Te(()=>document.removeEventListener("click",m));const _=W;return(n,d)=>(g(),V("div",{ref_key:"root",ref:v,class:"relative inline-block text-left"},[l("button",{type:"button",class:"inline-flex !text-text-primary max-w-50 line-clamp-1 text-[10px] items-center gap-2 rounded-full px-3 py-1 focus:outline-none hover:opacity-90 bg-bg-body cursor-pointer","aria-expanded":C.value?"true":"false",onClick:b,disabled:n.disabled},[l("span",bt,j(h(F.value)??n.placeholder),1)],8,gt),c(Ue,{name:"fade"},{default:D(()=>[C.value?(g(),V("div",{key:0,role:"menu",class:"absolute z-50 mt-2 max-w-20 origin-top-left rounded-md border border-border shadow-2xl bg-bg-dropdown p-2 left-0",onKeydown:Z(f(w,["prevent","stop"]),["esc"])},[l("ul",{class:"space-y-2 max-h-50 overflow-y-auto",ref_key:"list",ref:y},[(g(!0),V(X,null,Ce(n.data,(L,B)=>(g(),V("li",{key:B},[l("button",{role:"menuitemradio","aria-checked":F.value===L?"true":"false",class:"flex !text-text-primary w-full items-center justify-between cursor-pointer rounded px-1 py-1 text-[10px] gap-1 focus:outline-none focus:ring-2 hover:bg-bg-dropdown-menu-hover",onClick:I=>k(L),onKeydown:[Z(f(I=>x(B+1),["prevent"]),["down"]),Z(f(I=>x(B-1),["prevent"]),["up"])]},[l("span",Ct,j(L),1)],40,xt)]))),128))],512)],40,kt)):G("",!0)]),_:1})],512))}}),wt=Qe(yt,[["__scopeId","data-v-c0f814e8"]]),At={class:"flex justify-between gap-2 items-center"},ht={class:"flex gap-2 py-2 flex-wrap"},St={class:"flex items-start justify-between mb-2"},Lt={class:"text-sm font-medium text-card-foreground leading-tight"},Bt={class:"flex justify-end pt-2 items-center text-xs gap-4 text-text-secondary"},It={class:"flex justify-center items-center text-xs gap-1 text-text-secondary"},Vt={class:"flex justify-center items-center text-xs gap-1 text-text-secondary"},Et=le({__name:"KanbanCard",props:{ticket:{}},emits:["click"],setup(H,{emit:W}){const r=H,F={critical:"border-l-priority-critical",high:"border-l-priority-high",medium:"border-l-priority-medium",low:"border-l-priority-low"},C=E(()=>F[r.ticket.priority]??"border-l-gray-300"),v=o(!1),y=o(r.ticket["end-date"]??null);M(()=>{var s;return(s=r.ticket)==null?void 0:s.end_date},s=>{y.value=s??null});const h=E(()=>r.ticket["start-date"]),b=E(()=>r.ticket["end-date"]),w=o(r.ticket["start-date"]??null);M(h,()=>w.value=h.value),M(b,()=>y.value=b.value);const k=ye(),x=He({onSuccess:()=>{k.invalidateQueries({queryKey:["people-lists"]}),k.invalidateQueries({queryKey:["get-sheets"]}),k.invalidateQueries({queryKey:["sheet-list"]}),k.invalidateQueries({queryKey:["roles"]})}}),{mutate:m,isPending:_}=qe(r.ticket._id,{onSuccess:()=>{k.invalidateQueries({queryKey:["sheet-list"]}),v.value=!1}}),n=s=>{x.mutate({card_id:r.ticket._id,variables:s})};function d(){return[{label:"View Card",danger:!0,action:()=>{q("click",r.ticket)},icon:{prefix:"fa-regular",iconName:"fa-eye"}},{label:"Delete",danger:!0,action:()=>{v.value=!0},icon:{prefix:"fa-regular",iconName:"fa-trash"}}]}const L=()=>{m({})},B=s=>{x.mutate({card_id:r.ticket._id,variables:{"start-date":s}})},I=s=>{x.mutate({card_id:r.ticket._id,variables:{"end-date":s}})},q=W;return(s,a)=>{var N,A,O,P;return g(),V(X,null,[l("div",{onClick:a[5]||(a[5]=u=>s.$emit("click")),class:Ye(["bg-bg-card rounded-lg p-4 pt-0 shadow-sm cursor-grab border-t-4 hover:shadow-md transition-all duration-200 active:cursor-grabbing",C.value]),style:Ne({borderColor:(A=(N=s.ticket)==null?void 0:N.lane)==null?void 0:A.variables["lane-color"]})},[l("div",At,[l("div",ht,[(g(!0),V(X,null,Ce(s.ticket.variables,(u,T)=>{var U;return te((g(),J(wt,{key:T,onClick:a[0]||(a[0]=f(()=>{},["stop"])),default:u==null?void 0:u.value,data:u==null?void 0:u.data,cardId:(U=s.ticket)==null?void 0:U._id,onOnselect:a[1]||(a[1]=Y=>n(Y))},null,8,["default","data","cardId"])),[[ae,(u==null?void 0:u.type)==="Select"&&(u==null?void 0:u.visible_on_card)]])}),128))]),c(dt,{onClick:a[2]||(a[2]=f(()=>{},["stop"])),items:d()},{trigger:D(()=>a[12]||(a[12]=[l("i",{class:"cursor-pointer fa-solid fa-ellipsis"},null,-1)])),_:1},8,["items"])]),l("div",St,[l("h3",Lt,j(s.ticket["card-title"]),1)]),a[3]||(ge(-1,!0),(a[3]=l("p",{innerHTML:s.ticket["card-description"],class:"text-xs text-muted-foreground mb-3 text-text-secondary line-clamp-2"},null,8,["innerHTML"])).cacheIndex=3,ge(1),a[3]),l("div",Bt,[l("div",It,[a[13]||(a[13]=l("i",{class:"fa-regular fa-message"},null,-1)),K(" "+j((O=s.ticket)==null?void 0:O.comments_count),1)]),l("div",Vt,[a[14]||(a[14]=l("i",{class:"fa-regular fa-file"},null,-1)),K(" "+j((P=s.ticket)==null?void 0:P.attachments.length),1)])]),l("div",{onClick:a[4]||(a[4]=f(()=>{},["stop"])),class:"flex gap-2 text-xs text-text-secondary mt-2"},[c(be,{placeholder:"set start date","model-value":w.value,theme:"dark","emit-as":"ymd","onUpdate:modelValue":B},null,8,["model-value"]),a[15]||(a[15]=K(" - ")),c(be,{placeholder:"set end date","model-value":y.value,theme:"dark","emit-as":"ymd","onUpdate:modelValue":I},null,8,["model-value"])])],6),l("div",{class:"no-drag-zone",draggable:"false",onMousedown:a[9]||(a[9]=f(()=>{},["stop"])),onTouchstart:a[10]||(a[10]=f(()=>{},["stop"])),onPointerdown:a[11]||(a[11]=f(()=>{},["stop"]))},[c(ut,{onClick:a[6]||(a[6]=f(()=>{},["stop"])),modelValue:v.value,"onUpdate:modelValue":a[7]||(a[7]=u=>v.value=u),title:"Delete Ticket",itemLabel:"Ticket",itemName:s.ticket.title,requireMatchText:s.ticket.title,confirmText:"Delete Ticket",cancelText:"Cancel",size:"md",loading:S(_),onConfirm:L,onCancel:a[8]||(a[8]=()=>{v.value=!1})},null,8,["modelValue","itemName","requireMatchText","loading"])],32)],64)}}}),Ft={class:"flex-auto flex-grow h-full bg-bg-card rounded-lg border border-border overflow-x-auto flex-col flex"},Rt={class:"header px-4 py-3 border-b border-border flex items-center justify-between gap-1"},Dt={class:"flex overflow-x-auto gap-3 p-4"},Mt={class:"flex flex-col items-center justify-center gap-2 py-10"},Wt={key:0,class:"bg-bg-body rounded-lg p-4"},_t={class:"flex items-center mt-3 gap-3"},zt=le({__name:"Pin",setup(H){var re,de;const W=$(()=>ee(()=>import("./ConfirmDeleteModal-D01-Rc7B.js"),__vite__mapDeps([0,1,2,3]))),r=$(()=>ee(()=>import("./CreateVariableModal-Bi_ouh9v.js"),__vite__mapDeps([4,2,3]))),F=$(()=>ee(()=>import("./KanbanBoard-BTJGHvw7.js"),__vite__mapDeps([5,6,2,3,1,7,8,9,10]))),C=o(!1),v=o(!1),y=o(!1),h=o(!1),b=o(),w=o(!1),k=o(""),x=o(),m=o([]),_=lt(),{workspaceId:n,moduleId:d}=ze(),L=st(),B=ye(),{data:I}=Ge(n.value,d.value),q=E(()=>{var t,e;return((e=(t=I.value)==null?void 0:t[0])==null?void 0:e._id)??""}),s=o(q.value);M(q,t=>s.value=t);const{data:a,refetch:N}=Ze({workspace_id:n,workspace_module_id:d},{onSuccess:()=>u()}),A=o(((de=(re=a.value)==null?void 0:re[0])==null?void 0:de._id)??null);M(a,t=>{t!=null&&t.length&&(A.value=t[0]._id)});const{data:O,isPending:P,refetch:u}=Je(d,A,E(()=>[...L.selectedLaneIds]),s);M(O,()=>m.value=JSON.parse(JSON.stringify(O.value||[]))),xe(()=>m.value=JSON.parse(JSON.stringify(O.value||[])));const{mutate:T,isPending:U}=Xe({onSuccess:(t,e)=>{e.is_trash?(m.value=m.value.filter(p=>p.title!==e.value),h.value=!1):m.value=[...m.value,{title:t==null?void 0:t.value}],w.value=!1,k.value="",B.invalidateQueries({queryKey:["sheet-list"]}),Object.assign({newColumn:"",showDelete:!1,activeAddList:!1})}});function Y(t){T({workspace_id:n.value,module_id:d.value,variable_id:s.value,value:t})}function se(){const t=k.value.trim();t&&Y(t)}function we({title:t,oldTitle:e}){T({workspace_id:_.params.id,module_id:_.params.module_id,new_value:t,value:e,variable_id:s.value})}function Ae(){T({value:b.value.title,workspace_id:n.value,module_id:d.value,newValue:b.value.title,variable_id:s.value,is_trash:!0})}function he(t){h.value=!0,b.value=t}const Se=$e(),Le=et();function Be(t){const{type:e,meta:p}=t;e==="column"?Se.mutate({payload:{workspace_id:n.value,workspace_module_id:d.value,variable_id:s.value,moved_value:p.id,new_index:p.newIndex}}):Le.mutate({payload:{workspace_id:n.value,card_id:p.moved._id,group_value:p.fromColumnId,group_variable_id:s.value,new_index:p.newIndex,sheet_id:A.value}})}function Ie(t){}function oe(t){x.value=t}function Ve(t){x.value=t}function ne(t){y.value=!0,b.value=t}function Ee(){R.value={},v.value=!v.value}function ie(){w.value=!w.value}const Fe=E(()=>(a.value||[]).map(t=>({_id:t._id,title:t.variables["sheet-title"],description:t.variables["sheet-description"],icon:t.icon}))),Q=o(!1),R=o(),{mutate:Re,isPending:De}=tt({onSuccess:()=>{console.log(">>. clicong"),Q.value=!1,N()}});function Me(t){Q.value=!0,R.value=t}function We(){var t;Re({sheet_id:(t=R.value)==null?void 0:t._id,workspace_module_id:d.value,is_trash:!0})}function _e(t){v.value=!0,R.value=t}const z=o(""),Oe=o("");M(z,ot.debounce(t=>{Oe.value=t},200));const je=E(()=>{const t=m.value.flatMap(e=>e.cards.map(p=>({...p,columnId:e.title})));return new nt(t,{keys:["card-title","card-description"],threshold:.3})}),Ke=E(()=>{if(!z.value)return m.value;const t=je.value.search(z.value).map(e=>e.item);return m.value.map(e=>({...e,cards:t.filter(p=>p.columnId===e.title)}))});return(t,e)=>{var p,ue,ce,ve,me,pe,fe;return g(),V(X,null,[l("div",Ft,[l("div",Rt,[c(it,{onEditOption:_e,modelValue:A.value,"onUpdate:modelValue":e[0]||(e[0]=i=>A.value=i),options:Fe.value,variant:"secondary",onDeleteOption:Me},{more:D(()=>[l("div",{onClick:Ee,class:"capitalize border-t border-border px-4 py-2 hover:bg-bg-dropdown-menu-hover cursor-pointer flex items-center gap-1 overflow-hidden overflow-ellipsis text-nowrap"},e[13]||(e[13]=[l("i",{class:"fa-solid fa-plus"},null,-1),K(" Add new ")]))]),_:1},8,["modelValue","options"]),c(pt,{class:"max-w-[250px]",onOnChange:e[1]||(e[1]=i=>{z.value=i}),placeholder:"Search in Orchit AI space"})]),te(c(rt,null,null,512),[[ae,S(P)]]),te(l("div",Dt,[c(S(F),{onOnPlus:ne,"onDelete:column":he,"onUpdate:column":we,onReorder:Be,onAddColumn:Y,"onSelect:ticket":oe,onOnBoardUpdate:Ie,board:Ke.value,variable_id:s.value,sheet_id:A.value},{ticket:D(({ticket:i})=>[c(Et,{onClick:Pe=>Ve(i),ticket:i},null,8,["onClick","ticket"])]),emptyState:D(({column:i})=>[l("div",Mt,[e[15]||(e[15]=l("img",{src:ft,alt:""},null,-1)),e[16]||(e[16]=l("h1",{class:"text-sm text-text-primary mt-2"},"Start creating your pins",-1)),e[17]||(e[17]=l("p",{class:"text-sm text-text-secondary mb-2 text-center"}," Create pins and add your ideas into the related pins. ",-1)),c(ke,{size:"sm",onClick:Pe=>ne(i)},{default:D(()=>e[14]||(e[14]=[K("Create Pin")])),_:2,__:[14]},1032,["onClick"])])]),_:1},8,["board","variable_id","sheet_id"]),l("div",{class:"min-w-[328px]",onClick:e[3]||(e[3]=f(()=>{},["stop"]))},[w.value?(g(),V("div",Wt,[c(at,{autofocus:!0,modelValue:k.value,"onUpdate:modelValue":e[2]||(e[2]=i=>k.value=i),placeholder:"Add New list",onKeyup:Z(se,["enter"])},null,8,["modelValue"]),e[18]||(e[18]=l("p",{class:"text-xs mt-1.5"},"You can add details while editing",-1)),l("div",_t,[c(ke,{onClick:se,variant:"primary",class:"px-3 py-1 bg-accent cursor-pointer text-white rounded"},{default:D(()=>[K(j(S(U)?"Adding...":"Add list"),1)]),_:1}),l("i",{class:"fa-solid fa-close",onClick:ie})])])):(g(),V("button",{key:1,class:"text-sm text-text-primary py-2.5 cursor-pointer font-medium flex items-center justify-center w-full gap-2 bg-bg-body rounded-lg",onClick:f(ie,["stop"])}," + Add List "))])],512),[[ae,!S(P)]]),c(S(W),{modelValue:h.value,"onUpdate:modelValue":e[4]||(e[4]=i=>h.value=i),title:"Delete List",itemLabel:"list",itemName:(p=b.value)==null?void 0:p.title,requireMatchText:(ue=b.value)==null?void 0:ue.title,confirmText:"Delete List",cancelText:"Cancel",size:"md",loading:S(U),onConfirm:Ae,onCancel:e[5]||(e[5]=()=>h.value=!1)},null,8,["modelValue","itemName","requireMatchText","loading"]),y.value?(g(),J(ct,{size:"md",pin:!0,selectedVariable:s.value,listId:(ce=b.value)==null?void 0:ce.title,sheet_id:A.value,key:"createTaskModalKey",modelValue:y.value,"onUpdate:modelValue":e[6]||(e[6]=i=>y.value=i)},null,8,["selectedVariable","listId","sheet_id","modelValue"])):G("",!0),c(mt,{sheet:R.value,size:"md",modelValue:v.value,"onUpdate:modelValue":e[7]||(e[7]=i=>v.value=i)},null,8,["sheet","modelValue"]),C.value?(g(),J(S(r),{key:1,modelValue:C.value,"onUpdate:modelValue":e[8]||(e[8]=i=>C.value=i),sheetID:A.value},null,8,["modelValue","sheetID"])):G("",!0),c(S(W),{onClick:e[9]||(e[9]=f(()=>{},["stop"])),modelValue:Q.value,"onUpdate:modelValue":e[10]||(e[10]=i=>Q.value=i),title:"Delete Sheet",itemLabel:"Sheet",itemName:(ve=R.value)==null?void 0:ve.title,requireMatchText:(me=R.value)==null?void 0:me.title,confirmText:"Delete Sheet",cancelText:"Cancel",size:"md",loading:S(De),onConfirm:We,onCancel:e[11]||(e[11]=()=>{Q.value=!1})},null,8,["modelValue","itemName","requireMatchText","loading"])]),(pe=x.value)!=null&&pe._id?(g(),J(vt,{key:0,pin:!0,details:x.value,showPanel:!!((fe=x.value)!=null&&fe._id),onClose:e[12]||(e[12]=()=>oe({variables:{}}))},null,8,["details","showPanel"])):G("",!0)],64)}}});export{zt as default};
