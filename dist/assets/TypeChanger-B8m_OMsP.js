import{d as M,r as i,q as T,v as B,i as c,e as r,h as N,t as b,T as E,w as F,j as L,M as m,g as v,F as V,x as $,o as d,_ as j}from"./index-CoNh7NKH.js";const q=["aria-expanded","disabled"],D={class:"truncate"},I=["onKeydown"],S=["aria-checked","onClick","onKeydown"],z={class:"rounded-full hover:bg-bg-dropdown-menu-hover px-1 text-text-primary"},A=M({__name:"TypeChanger",props:{default:{},disabled:{type:Boolean,default:!1},cardId:{},data:{},placeholder:{}},emits:["onselect"],setup(g,{emit:_}){const l=g,u=i(l.default),n=i(!1),p=i(null),h=i(null);function w(e){if(l.data)return l.data.find(t=>t===e)}function k(){l.disabled||(n.value=!n.value)}function f(){n.value=!1}function C(e){u.value=e,K("onselect",e),f()}function x(e){var s;const t=(s=h.value)==null?void 0:s.querySelectorAll('button[role="menuitemradio"]');if(!(t!=null&&t.length))return;const o=t.length-1,a=Math.max(0,Math.min(e,o));t[a].focus()}function y(e){p.value&&(p.value.contains(e.target)||f())}T(()=>document.addEventListener("click",y)),B(()=>document.removeEventListener("click",y));const K=_;return(e,t)=>(d(),c("div",{ref_key:"root",ref:p,class:"relative inline-block text-left"},[r("button",{type:"button",class:"inline-flex !text-text-primary max-w-50 line-clamp-1 text-[10px] items-center gap-2 rounded-full px-3 py-1 focus:outline-none hover:opacity-90 bg-bg-body cursor-pointer","aria-expanded":n.value?"true":"false",onClick:k,disabled:e.disabled},[r("span",D,b(w(u.value)??e.placeholder),1)],8,q),N(E,{name:"fade"},{default:F(()=>[n.value?(d(),c("div",{key:0,role:"menu",class:"absolute z-50 mt-2 max-w-20 origin-top-left rounded-md border border-border shadow-2xl bg-bg-dropdown p-2 left-0",onKeydown:m(v(f,["prevent","stop"]),["esc"])},[r("ul",{class:"space-y-2 max-h-50 overflow-y-auto",ref_key:"list",ref:h},[(d(!0),c(V,null,$(e.data,(o,a)=>(d(),c("li",{key:a},[r("button",{role:"menuitemradio","aria-checked":u.value===o?"true":"false",class:"flex !text-text-primary w-full items-center justify-between cursor-pointer rounded px-1 py-1 text-[10px] gap-1 focus:outline-none focus:ring-2 hover:bg-bg-dropdown-menu-hover",onClick:s=>C(o),onKeydown:[m(v(s=>x(a+1),["prevent"]),["down"]),m(v(s=>x(a-1),["prevent"]),["up"])]},[r("span",z,b(o),1)],40,S)]))),128))],512)],40,I)):L("",!0)]),_:1})],512))}}),G=j(A,[["__scopeId","data-v-c0f814e8"]]);export{G as T};
