import{d as S,r as f,c as o,b as M,e as N,w as l,g as $,o as u,h as t,l as c,j as z,k as r,m as D,_ as I,B as w,i,t as v}from"./index-Ba6ntxZR.js";import{_ as j}from"./AuthLayout.vue_vue_type_script_setup_true_lang-CoL7rXXa.js";import{f as A}from"./auth-DKSbHWvC.js";import"./favicon-BAFXWHLW.js";import"./Header-Cj3B3N30.js";import"./useTheme-BlLwjyHY.js";import"./dark-logo-Mcb_sJlF.js";const L={class:"max-w-[500px] md:mx-auto w-full text-text-primary bg-bg-body"},R={key:0},h={key:0,class:"text-red-500 text-sm text-center mt-2"},q={class:"text-center mt-6"},H={key:1,class:"text-center"},T={class:"text-sm text-text-secondary mb-8"},U={class:"text-text-primary"},W={class:"mt-8"},ee=S({name:"ForgotPasswordPage",__name:"ForgotPassword",setup(G){const k=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,s=f(""),a=f(""),d=f(!1),n={email:!1},x=o(()=>n.email?s.value.trim()?k.test(s.value)?"":"Invalid email":"Email is required":""),E=o(()=>!!x.value),p=o(()=>!x.value&&s.value.trim()),{mutateAsync:B,isPending:y}=M({mutationFn:A}),P=o(()=>y.value||!p.value),F=o(()=>y.value?"Sending...":"Send reset instructions");function V(){a.value&&(a.value="")}async function g(){if(a.value="",n.email=!0,!p.value){a.value="Please enter a valid email address.";return}try{await B({u_email:s.value}),d.value=!0}catch(m){a.value=(m==null?void 0:m.message)||"Failed to send reset email. Please try again."}}function C(){d.value=!1,n.email=!1,g()}return(m,e)=>{const b=$("router-link");return u(),N(j,null,{form:l(()=>[t("div",L,[d.value?(u(),c("div",H,[e[9]||(e[9]=t("div",{class:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4"},[t("i",{class:"fa-solid fa-check text-green-600 text-2xl"})],-1)),e[10]||(e[10]=t("h2",{class:"text-2xl font-medium mb-4 text-text-primary"}," Check your email ",-1)),t("p",T,[e[5]||(e[5]=i(" We've sent password reset instructions to")),e[6]||(e[6]=t("br",null,null,-1)),t("strong",U,v(s.value),1)]),e[11]||(e[11]=t("p",{class:"text-sm text-text-secondary mb-6"}," Didn't receive the email? Check your spam folder or ",-1)),r(w,{size:"md",variant:"secondary",onClick:C},{default:l(()=>e[7]||(e[7]=[i(" Resend email ")])),_:1,__:[7]}),t("div",W,[r(b,{to:"/login",class:"text-sm text-text-secondary hover:text-text-primary"},{default:l(()=>e[8]||(e[8]=[t("i",{class:"fa-solid fa-arrow-left mr-2"},null,-1),i("Back to login ")])),_:1,__:[8]})])])):(u(),c("div",R,[e[3]||(e[3]=t("h2",{class:"text-[32px] font-medium mb-4 text-center text-text-primary"}," Forgot Password? ",-1)),e[4]||(e[4]=t("p",{class:"text-sm text-text-secondary text-center mb-8"}," Enter your email address and we'll send you instructions to reset your password. ",-1)),t("form",{onSubmit:z(g,["prevent"]),class:"space-y-4 w-full"},[r(I,{modelValue:s.value,"onUpdate:modelValue":[e[0]||(e[0]=_=>s.value=_),V],label:"Email",placeholder:"Email address",size:"lg",error:E.value,message:x.value,onBlur:e[1]||(e[1]=_=>n.email=!0)},null,8,["modelValue","error","message"]),r(w,{disabled:P.value,size:"lg",block:!0,type:"submit"},{default:l(()=>[i(v(F.value),1)]),_:1},8,["disabled"]),a.value?(u(),c("p",h,v(a.value),1)):D("",!0)],32),t("div",q,[r(b,{to:"/login",class:"text-sm text-text-secondary hover:text-text-primary"},{default:l(()=>e[2]||(e[2]=[t("i",{class:"fa-solid fa-arrow-left mr-2"},null,-1),i("Back to login ")])),_:1,__:[2]})])]))])]),_:1})}}});export{ee as default};
