import{d as G,r as _,c as n,m as le,i as l,e,h as oe,y as r,j as p,b as W,aJ as q,t as k,a3 as re,w as ne,g as w,I as ie,F as z,x as D,o as s,H as Q,D as de,R as ue}from"./index-vaYjaRQi.js";import{o as ce}from"./index-RXaN8Wog.js";const ve=["src"],pe={key:0,class:"font-bold"},me={class:"text-nowrap"},fe=["onClick"],xe={class:"flex items-center gap-2 min-w-0 flex-1"},be=["src"],he={class:"flex flex-col gap-1 max-w-40"},ye={class:"overflow-hidden font-semibold overflow-ellipsis"},we={key:0,class:"min-w-40 line-clamp-2 text-wrap text-text-secondary text-xs"},ge={key:0,class:"pl-2 flex items-center relative"},_e=["onClick","aria-expanded","aria-label"],ke=["onClick"],Ce=["onClick"],$e=G({__name:"Dropdown",props:{prefix:{},options:{default:()=>[]},modelValue:{default:""},variant:{default:"primary"},icon:{},size:{default:"md"},actions:{type:Boolean,default:!0}},emits:["update:modelValue","edit-option","delete-option"],setup(C,{emit:m}){const f=C,h=m,u=_(!1),o=_(null),y=n({get:()=>f.modelValue,set:a=>h("update:modelValue",a)}),d=n(()=>f.options.find(a=>a._id===y.value)??null);function B(){u.value=!u.value}function x(a){y.value=a._id,u.value=!1}const i=_(null),c=_(null);function $(a){c.value=null,i.value=i.value===a?null:a}function U(a){h("edit-option",a),i.value=null,c.value=null}function X(a){h("delete-option",a),i.value=null,c.value=null}ce(o,()=>{u.value=!1,i.value=null,c.value=null});const v=n(()=>f.size==="sm"),Y=n(()=>v.value?"px-2 py-1 text-xs":"px-3 py-1.5 text-sm"),Z=n(()=>v.value?"text-xs":"text-sm"),ee=n(()=>v.value?"text-xs":"text-sm"),se=n(()=>v.value?"px-3 py-1":"px-4 py-2"),I=n(()=>v.value?"w-3.5 h-3.5":"w-4 h-4"),g=n(()=>v.value?"w-3.5 h-3.5":"w-4 h-4"),N=n(()=>v.value?"text-base":"text-lg"),ae=n(()=>v.value?"w-3.5 h-3.5":"w-4 h-4"),te=n(()=>"dark:border-light-black border-border-gray");return le(()=>f.options,()=>{},{deep:!0}),(a,b)=>{var V,A,j,P,R,E,K,L,M,O,F;return s(),l("div",{ref_key:"dropdownRef",ref:o,class:"relative inline-block text-left"},[e("button",{onClick:B,type:"button",class:r(["text-nowrap inline-flex justify-between items-center gap-1 border rounded-md font-medium cursor-pointer transition bg-bg-surface",[Y.value,a.variant==="secondary"?"!bg-bg-body border-0":"border-border"]])},[(V=d.value)!=null&&V.prefix?(s(),l("span",{key:0,class:r(I.value)},[typeof((A=d.value)==null?void 0:A.prefix)=="string"?(s(),l("img",{key:0,src:(j=d.value)==null?void 0:j.prefix,class:r(g.value)},null,10,ve)):(s(),W(q((P=d.value)==null?void 0:P.prefix),{key:1,class:r(g.value)},null,8,["class"]))],2)):p("",!0),e("i",{class:r(`${(E=(R=d.value)==null?void 0:R.icon)==null?void 0:E.prefix} ${(L=(K=d.value)==null?void 0:K.icon)!=null&&L.iconName?(O=(M=d.value)==null?void 0:M.icon)==null?void 0:O.iconName:"file"} ${N.value}`)},null,2),e("span",{class:r(Z.value)},[a.prefix?(s(),l("span",pe,k(a.prefix)+":",1)):p("",!0),e("span",me,k((F=d.value)==null?void 0:F.title),1)],2),(s(),l("svg",{class:r([ae.value,"text-text-secondary"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},b[2]||(b[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],2),oe(re,{name:"fade-scale","enter-active-class":"transition duration-200 ease-out","leave-active-class":"transition duration-150 ease-in","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:ne(()=>[u.value?(s(),l("div",{key:0,class:r(["absolute max-h-[500px] overflow-y-auto z-12 mt-1 w-full min-w-fit rounded-md border border-border shadow-lg bg-bg-dropdown",te.value]),onClick:b[1]||(b[1]=w(()=>{},["stop"]))},[e("ul",{class:r(["py-1 z-[2]",ee.value])},[(s(!0),l(z,null,D(a.options,t=>{var T,H,J;return s(),l("li",{key:t._id,class:r(["group cursor-pointer flex items-stretch text-nowrap hover:bg-bg-dropdown-menu-hover",se.value]),onClick:S=>x(t)},[e("div",xe,[t.prefix?(s(),l("span",{key:0,class:r(I.value)},[typeof t.prefix=="string"?(s(),l("img",{key:0,src:t.prefix,class:r(g.value)},null,10,be)):(s(),W(q(t.prefix),{key:1,class:r(["text-text-primary",g.value])},null,8,["class"]))],2)):p("",!0),e("i",{class:r(`${(T=t.icon)==null?void 0:T.prefix} ${(H=t.icon)!=null&&H.iconName?(J=t.icon)==null?void 0:J.iconName:"file"} ${N.value}`)},null,2),e("div",he,[e("span",ye,k(t.title),1),t.description?(s(),l("p",we,k(t.description),1)):p("",!0)])]),a.actions?(s(),l("div",ge,[e("button",{class:"opacity-0 cursor-pointer group-hover:opacity-100 focus:opacity-100 transition rounded-md px-1.5 py-1 text-text-secondary hover:bg-bg-dropdown-menu-hover",onClick:w(S=>$(t._id),["stop"]),"aria-expanded":i.value===t._id?"true":"false","aria-label":`Actions for ${t.title}`}," â‹¯ ",8,_e),i.value===t._id&&c.value!==t._id?(s(),l("div",{key:0,class:"ml-1 inline-flex items-center gap-1",onClick:b[0]||(b[0]=w(()=>{},["stop"]))},[e("button",{class:"rounded-md cursor-pointer px-2 py-1 text-xs border border-border hover:bg-bg-dropdown-menu-hover",onClick:w(S=>U(t),["stop"])}," Edit ",8,ke),e("button",{class:"rounded-md cursor-pointer px-2 py-1 text-xs border border-border hover:bg-red-50 text-red-600",onClick:w(S=>X(t),["stop"])}," Delete ",8,Ce)])):p("",!0)])):p("",!0)],10,fe)}),128)),ie(a.$slots,"more",{},void 0,!0)],2)],2)):p("",!0)]),_:3})],512)}}}),Ve=Q($e,[["__scopeId","data-v-bc10941f"]]),Se={class:"p-4 overflow-x-auto flex-auto flex gap-6","aria-busy":"true","aria-live":"polite"},ze={class:"flex-1 w-full overflow-y-auto space-y-3 px-2 pb-2",role:"presentation"},De={key:0,class:"min-w-[328px]",role:"presentation"},Be=G({__name:"KanbanSkeleton",props:{columns:{default:3},cardsPerColumn:{default:3},showAddList:{type:Boolean,default:!0}},setup(C){const m=C,f=n(()=>Array.from({length:m.columns},(u,o)=>o)),h=n(()=>Array.from({length:m.cardsPerColumn},(u,o)=>o));return(u,o)=>(s(),l("div",Se,[(s(!0),l(z,null,D(f.value,(y,d,B,x)=>{const i=[m.cardsPerColumn];if(x&&x.key===y&&de(x,i))return x;const c=(s(),l("div",{key:y,class:"kanban-col max-w-[328px] min-w-[328px] min-h-[555px] h-full bg-bg-body rounded-lg p-2 flex flex-col",role:"presentation"},[o[4]||(o[4]=e("div",{class:"flex justify-between items-center py-3 px-4 sticky top-0 bg-bg-body rounded-xl mb-2 z-10",role:"presentation"},[e("div",{class:"flex items-center gap-2"},[e("div",{class:"h-4 w-24 rounded shimmer","aria-hidden":"true"}),e("div",{class:"h-4 w-4 rounded-full shimmer","aria-hidden":"true"})]),e("div",{class:"flex items-center gap-2"},[e("div",{class:"h-4 w-4 rounded shimmer","aria-hidden":"true"}),e("div",{class:"h-4 w-4 rounded shimmer","aria-hidden":"true"})])],-1)),e("div",ze,[(s(!0),l(z,null,D(h.value,$=>(s(),l("div",{key:$,class:"bg-bg-card rounded-xl border border-border p-3 space-y-3 shadow-sm",role:"presentation"},o[2]||(o[2]=[ue('<div class="flex gap-2" data-v-5a4807f3><div class="h-5 w-14 rounded-full shimmer" aria-hidden="true" data-v-5a4807f3></div><div class="h-5 w-10 rounded-full shimmer" aria-hidden="true" data-v-5a4807f3></div></div><div data-v-5a4807f3><div class="h-4 w-3/4 rounded shimmer mb-2" aria-hidden="true" data-v-5a4807f3></div><div class="h-3 w-full rounded shimmer" aria-hidden="true" data-v-5a4807f3></div><div class="h-3 w-5/6 rounded shimmer mt-1" aria-hidden="true" data-v-5a4807f3></div></div><div class="flex justify-between items-center" data-v-5a4807f3><div class="h-4 w-20 rounded shimmer" aria-hidden="true" data-v-5a4807f3></div><div class="flex -space-x-2" data-v-5a4807f3><div class="w-6 h-6 rounded-full border-2 border-border shimmer" aria-hidden="true" data-v-5a4807f3></div><div class="w-6 h-6 rounded-full border-2 border-border shimmer" aria-hidden="true" data-v-5a4807f3></div></div></div>',3)])))),128)),o[3]||(o[3]=e("div",{class:"h-9 rounded shimmer mt-3","aria-hidden":"true"},null,-1))])]));return c.memo=i,c},o,0),128)),m.showAddList?(s(),l("div",De,o[5]||(o[5]=[e("div",{class:"bg-bg-body rounded-lg p-4"},[e("div",{class:"h-9 rounded shimmer","aria-hidden":"true"})],-1)]))):p("",!0)]))}}),Ae=Q(Be,[["__scopeId","data-v-5a4807f3"]]);export{Ve as D,Ae as K};
