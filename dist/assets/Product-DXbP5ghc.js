const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CreateTaskModal-DaGYENl-.js","assets/CreateTaskModal.vue_vue_type_script_setup_true_lang-B3TAjKkd.js","assets/index-DqBmIt7I.js","assets/index-vhztISsv.css","assets/CreateSheetModal-vSxpDKkt.js","assets/IconPicker-CaeNgnDV.js","assets/IconPicker-BPf3BB8o.css","assets/AudioRecorder.vue_vue_type_script_setup_true_lang-CkF80097.js","assets/CreateSheetModal-CEob18WV.css","assets/CreateVariableModal-7vVVotHU.js","assets/ConfirmDeleteModal-JqrLfzSR.js","assets/ConfirmDeleteModal.vue_vue_type_script_setup_true_lang-CJ3msgSf.js","assets/SidePanel-C09Fhk7B.js","assets/SidePanel-5-aOg4mI.css","assets/KanbanBoard-5Qy0EF5l.js","assets/lodash-BUuEkE3Z.js","assets/lodash-B_VDCJnj.css","assets/DropMenu.vue_vue_type_script_setup_true_lang-B6fjgqKd.js","assets/workspace-DIwL_2nC.js","assets/KanbanBoard-DlFwUlEB.css"])))=>i.map(i=>d[i]);
import{d as ze,M as ve,m as W,r as v,c as h,i as p,e as o,F as E,x as q,ac as pe,t as be,j as L,g as ee,y as fe,f as te,A as ge,I as dt,V as it,b as H,aQ as ut,o as d,af as ct,ap as x,W as mt,Y as vt,$ as pt,a as bt,a2 as ft,ad as gt,a3 as yt,a4 as _t,ae as xt,Z as wt,aa as kt,U as ht,G as Ee,b0 as Ct,P as Vt,bc as Dt,a0 as St,bd as Lt,h as S,w as J,n as b,C as $e,a5 as K,a9 as Tt,_ as At,B as Et,a6 as F,p as $t,H as Mt}from"./index-DqBmIt7I.js";import{u as Pt}from"./workspace-DIwL_2nC.js";import{l as zt,D as Me,K as It}from"./lodash-BUuEkE3Z.js";import{_ as Ot}from"./SearchBar.vue_vue_type_script_setup_true_lang-BCjuq7Cx.js";import{K as Ut}from"./KanbanTicket-DukIKBQq.js";import{F as Pe}from"./fuse-Ch1WBRTM.js";import"./ConfirmDeleteModal.vue_vue_type_script_setup_true_lang-CJ3msgSf.js";import"./DropMenu.vue_vue_type_script_setup_true_lang-B6fjgqKd.js";const Rt={class:"kanban-table space-y-4 px-4 h-[85vh] overflow-y-auto"},Bt={class:"w-full table-fixed border-collapse rounded-md shadow-sm bg-bg-body/20 text-sm border border-border/60"},Nt={class:"bg-bg-surface border-b border-border sticky top-[-1px] z-10"},qt={class:"text-text-secondary"},Kt=["onMousedown"],Ft={class:"w-10 p-2 text-center relative"},Ht={class:"relative inline-block"},Wt={key:0,class:"column-menu absolute w-[200px] right-0 mt-2 bg-bg-surface border border-border rounded shadow p-2 z-50"},jt=["onClick"],Qt={class:"bg-bg-surface/20"},Xt=["onClick"],Gt=["colspan"],Yt=["onMouseenter"],Zt=["onUpdate:modelValue","onBlur"],Jt=["colspan"],es=ze({__name:"TableView",props:{columns:{},rows:{},isPending:{type:Boolean}},emits:["update:rows","create","toggleVisibility","addVar"],setup(ye,{emit:C}){const V=ye,$=C,y=ve(V.rows||[]);W(()=>V.rows,l=>{l&&y.splice(0,y.length,...l)});const u=ve({id:null,field:""}),M=v(null),se=v(null),P=h(()=>y.some(l=>u.id===l.id&&!l[u.field])),le=(l,s)=>{u.id=l.id,u.field=s,ct(()=>{var a;return(a=se.value)==null?void 0:a.focus()})},k=()=>{u.id=null,u.field=""},T=l=>{var s;if(!((s=l[u.field])!=null&&s.trim())){const a=y.findIndex(f=>f.id===l.id);a!==-1&&y.splice(a,1)}k(),$("update:rows",y.slice()),$("create",l)},I=l=>{var a;const s={id:Date.now()};V.columns.forEach(f=>s[f.key]=""),y.splice(l,0,s),le(s,((a=V.columns[0])==null?void 0:a.key)||""),M.value=null,$("update:rows",y.slice())};function ce(l,s){if(!(!l||!s))return s.includes(".")?s.split(".").reduce((a,f)=>a==null?a:a[f],l):l[s]}function ae(l,s){return s!=null&&s.accessor?s.accessor(l):ce(l,s.key)}const j=l=>{var a;const s=ae(l.row,l.column);return(a=l.column)!=null&&a.render?l.column.render({row:l==null?void 0:l.row,column:l==null?void 0:l.column,value:s,index:l==null?void 0:l.index}):x("span",String(s??""))},c=ve({});W(()=>V.columns,l=>{l.forEach((s,a)=>{a==0?c[s.key]=null:c[s.key]||(c[s.key]=150)})},{immediate:!0});let w=null,oe=0,ne=0;const Q=(l,s)=>{w=s,oe=l.clientX,ne=c[s],document.addEventListener("mousemove",X),document.addEventListener("mouseup",G)},X=l=>{if(!w)return;const s=l.clientX-oe,a=Math.max(80,ne+s);c[w]=a},G=()=>{w=null,document.removeEventListener("mousemove",X),document.removeEventListener("mouseup",G)};document.addEventListener("click",l=>{l.target.closest(".column-menu")||(D.value=!1)});const A=v(V.columns.filter(l=>l.visible??!0).map(l=>l.key)),_=h(()=>V.columns.filter(l=>A.value.includes(l.key))),D=v(!1);document.addEventListener("click",l=>{l.target.closest(".column-menu")||(D.value=!1)});const O=l=>{const s=A.value.indexOf(l);s===-1?($("toggleVisibility",l,!0),A.value.push(l)):($("toggleVisibility",l,!1),A.value.splice(s,1))};return(l,s)=>(d(),p("div",Rt,[o("table",Bt,[o("thead",Nt,[o("tr",qt,[s[8]||(s[8]=o("th",{class:"w-2 p-0"},null,-1)),(d(!0),p(E,null,q(_.value,a=>(d(),p("th",{key:a==null?void 0:a.key,class:"relative font-bold p-2 uppercase text-left text-[11px] tracking-wide border-r border-border/40 select-none whitespace-nowrap min-w-[200px]",style:pe({width:c[a.key]?c[a.key]+"px":"100%"})},[o("span",null,be(a==null?void 0:a.label),1),o("div",{class:"absolute right-0 top-0 h-full w-2 cursor-col-resize z-30 hover:bg-accent/20 active:bg-accent/40 transition",onMousedown:f=>Q(f,a.key)},null,40,Kt)],4))),128)),o("th",Ft,[o("div",Ht,[o("button",{onClick:s[0]||(s[0]=ee(a=>D.value=!D.value,["stop"])),class:"p-1 rounded hover:bg-bg-surface/50 cursor-pointer"},s[6]||(s[6]=[o("i",{class:"fa-regular fa-columns-3"},null,-1)])),D.value?(d(),p("div",Wt,[(d(!0),p(E,null,q(V.columns,a=>(d(),p("div",{key:"toggle-"+a.key,class:"flex items-center space-x-2"},[o("span",{onClick:f=>O(a.key),class:"cursor-pointer text-lg"},[o("i",{class:fe(A.value.includes(a.key)?"fa-solid fa-eye":"fa-solid fa-eye-slash")},null,2)],8,jt),o("span",null,be(a.label),1)]))),128)),o("div",{onClick:s[1]||(s[1]=a=>$("addVar")),class:"sticky bottom-0 bg-bg-dropdown shadow-md shadow-border capitalize border-t border-border px-4 py-2 hover:bg-bg-dropdown-menu-hover cursor-pointer flex items-center gap-1 overflow-hidden overflow-ellipsis text-nowrap"},s[7]||(s[7]=[o("i",{class:"fa-solid fa-plus"},null,-1),te(" Add new ")]))])):L("",!0)])])])]),o("tbody",Qt,[l.isPending?(d(),p(E,{key:0},q(5,a=>o("tr",{key:"sk-"+a,class:"border-b border-border animate-pulse"},[s[10]||(s[10]=o("td",{class:"p-3"},[o("div",{class:"w-4 h-4 bg-bg-surface rounded"})],-1)),(d(!0),p(E,null,q(l.columns,f=>(d(),p("td",{key:f.key,class:"p-3 border-r border-border",style:pe({width:c[f.key]+"px"})},s[9]||(s[9]=[o("div",{class:"w-full h-4 bg-bg-surface rounded"},null,-1)]),4))),128))])),64)):(d(!0),p(E,{key:1},q(y,(a,f)=>{var z;return d(),p(E,{key:a==null?void 0:a.id},[M.value===f&&!P.value?(d(),p("tr",{key:0,class:"relative bg-bg-surface/20 transition-all cursor-pointer border border-accent",onMouseleave:s[2]||(s[2]=i=>M.value=null)},[o("td",{class:"!p-0 w-8",onClick:i=>I(f)},s[11]||(s[11]=[o("span",{class:"absolute left-[-6px] top-[-6px] bg-bg-surface border border-border w-6 h-6 text-sm rounded-md flex justify-center items-center shadow-sm hover:bg-bg-surface/70"},"+",-1)]),8,Xt),o("td",{class:"!p-0",colspan:(z=l.columns)==null?void 0:z.length},null,8,Gt)],32)):L("",!0),o("tr",{onMouseenter:i=>M.value=f,class:"border-b border-border !bg-bg-surface/20 hover:bg-bg-surface/40 transition-colors"},[s[12]||(s[12]=o("td",{class:"p-2"},null,-1)),(d(!0),p(E,null,q(_.value,i=>(d(),p("td",{key:i==null?void 0:i.key,class:"p-2 border-r border-border truncate",style:pe({width:c[i.key]+"px"})},[(u==null?void 0:u.id)===(a==null?void 0:a.id)&&(u==null?void 0:u.field)===(i==null?void 0:i.key)?ge((d(),p("input",{key:0,"onUpdate:modelValue":U=>a[i==null?void 0:i.key]=U,onBlur:U=>T(a),class:"w-full p-1 border border-border/60 rounded-sm focus:outline-none focus:ring-2 focus:ring-blue-300 bg-bg-surface",ref_for:!0,ref:U=>U&&(u==null?void 0:u.id)===(a==null?void 0:a.id)&&(u==null?void 0:u.field)===(i==null?void 0:i.key)&&(se.value=U)},null,40,Zt)),[[it,a[i==null?void 0:i.key]]]):dt(l.$slots,i.key,{key:2,row:a,column:i,index:`r-${a._id}`},()=>[(d(),H(ut(j),{row:a,column:i,index:a._id},null,8,["row","column","index"]))])],4))),128))],40,Yt)],64)}),128)),P.value?L("",!0):(d(),p("tr",{key:2,onClick:s[3]||(s[3]=a=>I(y==null?void 0:y.length)),class:"sticky bottom-0 bg-bg-surface border-t border-border cursor-pointer transition hover:bg-bg-surface/70",onMouseenter:s[4]||(s[4]=a=>M.value=y==null?void 0:y.length),onMouseleave:s[5]||(s[5]=a=>M.value=null)},[o("td",{colspan:l.columns.length,class:"p-2 text-text-secondary"},s[13]||(s[13]=[o("span",{class:"inline-flex w-5 h-5 border border-border rounded-full justify-center items-center text-secondary hover:bg-bg-surface/50 transition"},"+",-1),te(" Add New Row ")]),8,Jt)],32))])])]))}}),ts={class:"flex-auto bg-gradient-to-b from-bg-card/95 to-bg-card/90 backdrop-blur rounded-2xl shadow-[0_10px_40px_-10px_rgba(0,0,0,.5)] flex-grow h-full bg-bg-card border border-border overflow-x-auto flex-col flex scrollbar-visible"},ss={class:"header px-4 py-3 border-b border-border flex items-center justify-between gap-1"},ls={class:"flex gap-3 items-center"},as={class:"flex items-center gap-3 bg-bg-surface/50 h-[32px] px-2 rounded-md"},os={class:"flex overflow-x-auto gap-3 p-4 scrollbar-visible"},ns={key:0,class:"mx-auto text-text-secondary/80 m-2 w-[90%] h-full justify-center flex items-center border border-dashed border-border"},rs={key:0,class:"bg-bg-body rounded-lg p-4"},ds={class:"flex items-center mt-3 gap-3"},is=ze({__name:"Product",setup(ye){const C=v("kanban"),V=K(()=>F(()=>import("./CreateTaskModal-DaGYENl-.js"),__vite__mapDeps([0,1,2,3]))),$=K(()=>F(()=>import("./CreateSheetModal-vSxpDKkt.js"),__vite__mapDeps([4,2,3,5,6,7,8]))),y=K(()=>F(()=>import("./CreateVariableModal-7vVVotHU.js"),__vite__mapDeps([9,2,3]))),u=K(()=>F(()=>import("./ConfirmDeleteModal-JqrLfzSR.js"),__vite__mapDeps([10,11,2,3]))),M=K(()=>F(()=>import("./SidePanel-C09Fhk7B.js"),__vite__mapDeps([12,2,3,13]))),se=K(()=>F(()=>import("./KanbanBoard-5Qy0EF5l.js"),__vite__mapDeps([14,15,2,3,11,16,17,18,19]))),P=v(!1),le=$t(),{workspaceId:k,moduleId:T}=mt(),{data:I,refetch:ce,isPending:ae}=vt({workspace_id:k,workspace_module_id:T}),j=h(()=>{var t;return I.value?(t=I.value[0])==null?void 0:t._id:""}),c=v(j.value),{data:w,isPending:oe}=pt(k.value,T.value,c),ne=bt(),{mutate:Q,isPending:X}=ft({onSuccess:()=>{ne.invalidateQueries({queryKey:["sheet-list"]}),de.value="",N.value=!1,re.value=!1,N.value=!1}}),G=t=>{Q({workspace_id:k.value,module_id:T.value,variable_id:_.value,value:t})};W(j,()=>{c.value=j.value});const A=h(()=>{var t;return w!=null&&w.value?(t=w==null?void 0:w.value[0])==null?void 0:t._id:""}),_=v(A.value);W(A,()=>{_.value=A.value});const D=Pt(),{data:O,isPending:l}=gt(T,c,h(()=>[...D.selectedLaneIds]),_),s=v(!1),a=v(),f=t=>{a.value=t},z=v(!1),i=()=>{B.value={},z.value=!z.value},U=yt(),Ie=_t();function Oe(t){t.type=="column"?U.mutate({payload:{workspace_id:k.value,workspace_module_id:T.value,variable_id:_.value,moved_value:t.meta.id,new_index:t.meta.newIndex}}):Ie.mutate({payload:{workspace_id:k.value,card_id:t.meta.moved._id,group_value:t.meta.fromColumnId,group_variable_id:_.value,new_index:t.meta.newIndex,sheet_id:c.value}})}const Ue=t=>{},Re=h(()=>(I.value||[]).map(t=>({_id:t._id,title:t==null?void 0:t.variables["sheet-title"],description:t==null?void 0:t.variables["sheet-description"],icon:t.icon,status:t==null?void 0:t.generation_status})));W(I,t=>{var e;(t==null?void 0:t.length)>0&&(c.value=(e=t[0])==null?void 0:e._id)});const re=v(!1),de=v("");function _e(){re.value=!re.value}function xe(){const t=de.value.trim();t&&G(t)}const Be=t=>{Q({workspace_id:le.params.id,module_id:le.params.module_id,new_value:t.title,value:t.oldTitle,variable_id:_.value})},N=v(!1),R=v(),Ne=()=>{Q({value:R.value.title,workspace_id:k.value,module_id:T.value,newValue:R.value.title,variable_id:_.value,is_trash:!0})},qe=t=>{N.value=!0,R.value=t},Ke=t=>{s.value=!0,R.value=t},Y=v(!1),B=v();function Fe(t){Y.value=!0,B.value=t}const{mutate:He,isPending:We}=xt({onSuccess:()=>{ce(),Y.value=!1}});function je(){var t;He({sheet_id:(t=B.value)==null?void 0:t._id,workspace_module_id:T.value,is_trash:!0})}function Qe(t){z.value=!0,B.value=t}const Z=v(""),Xe=v("");W(Z,zt.debounce(t=>{Xe.value=t},200));const Ge=h(()=>{const t=O.value.flatMap(e=>e.cards.map(n=>({...n,columnId:e.title})));return new Pe(t,{keys:["card-title","card-description"],threshold:.3})}),we=h(()=>{var t;if(C.value==="kanban"){if(!Z.value)return O.value;const e=Ge.value.search(Z.value).map(n=>n.item);return O.value.map(n=>({...n,cards:e.filter(m=>m.columnId===n.title)}))}else{const e=(t=Z.value)==null?void 0:t.trim();if(!e){let m=[];return(O.value??[]).forEach(g=>{m=[...m,...g==null?void 0:g.cards]}),m}return new Pe(et.value,{keys:["card-title","card-description"],threshold:.3}).search(e).map(m=>m.item)}}),{data:me}=wt(k),Ye=h(()=>((me==null?void 0:me.value)??[]).map(t=>{var e;return{_id:t._id,title:((e=t==null?void 0:t.variables)==null?void 0:e["lane-title"])??String(t._id)}})),Ze=h(()=>{var t;return[{key:"card-title",label:"Title",render:({row:e,value:n})=>x("div",[x("a",{onClick:()=>{a.value=e},class:"text-sm underline text-blue-500 w-full overflow-ellipsis cursor-pointer"},e["card-code"]),x("input",{onFocusout:m=>{var g;ke(e==null?void 0:e._id,"card-title",(g=m==null?void 0:m.target)==null?void 0:g.value)},class:"text-sm w-full overflow-ellipsis cursor-pointer text-text-primary capitalize outline-none border-none focus:border active:bg-bg-surface focus:bg-bg-card backdrop-blur focus:border-accent p-1 rounded-md",defaultValue:n})])},{key:"end-date",label:"Due Date",render:({row:e,value:n})=>{const m=v(n);return x(ht,{class:" capitalize flex items-center gap-2 ",placeholder:"Set start date",modelValue:m.value,"onUpdate:modelValue":g=>at(e==null?void 0:e._id,g)})}},{key:"lane",label:"Lane",render:({row:e,value:n})=>x(Ee,{class:"capitalize flex items-center gap-2 ",size:"sm",options:Ye.value??[],placeholder:"Select lane",allowCustom:!1,modelValue:n==null?void 0:n._id,"onUpdate:modelValue":m=>ot(e==null?void 0:e._id,m)})},{key:"created_by",label:"Owner",render:({value:e})=>x("div",{class:"capitalize flex items-center gap-2 "},[x("div",{class:" rounded-full  "},[e!=null&&e.u_profile_image?x("img",{class:"w-6 h-6 rounded-full",src:e==null?void 0:e.u_profile_image}):x("div",{class:"w-6 h-6 rounded-full flex justify-center items-center ",style:`background:${e!=null&&e.u_full_name?Ct({name:e.u_full_name,email:e.u_email}):""}`},Vt(e==null?void 0:e.u_full_name))]),x("span",e?e==null?void 0:e.u_full_name:"")])},{key:"seat",label:"Assignee",render:({row:e,value:n})=>x(Dt,{class:"capitalize flex items-center gap-2 ",onAssign:m=>Je(e==null?void 0:e._id,m),assigneeId:n,seat:n,name:!0})},...((t=w.value)==null?void 0:t.filter(e=>{var n;return((n=e==null?void 0:e.type)==null?void 0:n.title)==="Select"}).map(e=>({key:e==null?void 0:e.slug,label:e==null?void 0:e.slug,render:({row:n,value:m})=>{const g=v(m);return x("div",{class:"capitalize flex items-center gap-2"},[x(Ee,{class:"w-full border-none",options:tt(e.data??[]),size:"sm",modelValue:g==null?void 0:g.value,defaultValue:g==null?void 0:g.value,onUpdate:ue=>{ke(n==null?void 0:n._id,e.slug,ue)}})])},visible:e==null?void 0:e.is_visible})))??[]]}),Je=(t,e)=>{console.log(t,e,">>>> card >>>"),ie.mutate({card_id:t,seat_id:e==null?void 0:e._id})},et=h(()=>{let t=[];return(O.value??[]).forEach(e=>{t=[...t,...e==null?void 0:e.cards]}),t}),tt=t=>t.map(e=>({_id:e.value??e,title:e.value??e})),ie=kt({onSuccess:()=>{}});function ke(t,e,n){ie.mutate({card_id:t,variables:{[e]:n.trim()}})}const{mutate:st}=St({onSuccess:()=>{}});function lt(t){if(t["card-title"]){const e={sheet_list_id:"To Do",workspace_id:k.value,sheet_id:c.value,variables:{"card-title":t["card-title"].trim()},createdAt:new Date().toISOString()};st(e)}}const at=(t,e)=>ie.mutate({card_id:t,variables:{"start-date":e}});function ot(t,e){ie.mutate({card_id:t,workspace_lane_id:e})}const{mutate:nt}=Lt(),rt=(t,e)=>{nt({payload:{sheet_id:c.value,workspace_id:k.value,variable_slug:t,is_visible:e}})};return(t,e)=>{var n,m,g,ue,he,Ce,Ve;return d(),p(E,null,[o("div",ts,[o("div",ss,[S(Me,{onEditOption:Qe,modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=r=>c.value=r),onDeleteOption:Fe,options:Re.value,variant:"secondary"},{more:J(()=>[o("div",{onClick:e[0]||(e[0]=r=>i()),class:"capitalize border-t border-border px-4 py-2 hover:bg-bg-dropdown-menu-hover cursor-pointer flex items-center gap-1 overflow-hidden overflow-ellipsis text-nowrap"},e[23]||(e[23]=[o("i",{class:"fa-solid fa-plus"},null,-1),te(" Add new ")]))]),_:1},8,["modelValue","options"]),o("div",ls,[C.value=="kanban"?(d(),H(Me,{key:0,actions:!1,prefix:"View by",modelValue:_.value,"onUpdate:modelValue":e[3]||(e[3]=r=>_.value=r),options:b(w),variant:"secondary"},{more:J(()=>[o("div",{onClick:e[2]||(e[2]=()=>{P.value=!0}),class:"sticky bottom-0 bg-bg-dropdown shadow-md shadow-border capitalize border-t border-border px-4 py-2 hover:bg-bg-dropdown-menu-hover cursor-pointer flex items-center gap-1 overflow-hidden overflow-ellipsis text-nowrap"},e[24]||(e[24]=[o("i",{class:"fa-solid fa-plus"},null,-1),te(" Add new ")]))]),_:1},8,["modelValue","options"])):L("",!0),S(Ot,{onOnChange:e[4]||(e[4]=r=>{Z.value=r}),placeholder:"Search in Orchit AI space"}),o("div",as,[o("button",{class:fe(["aspect-square cursor-pointer rounded-sm p-0 px-0.5",C.value==="kanban"?"text-accent bg-accent-text":" hover:bg-border/50 backdrop-blur-2xl  transition-all duration-75 hover:outline-border hover:outline hover:text-accent"]),title:"List view",onClick:e[5]||(e[5]=r=>C.value="kanban")},e[25]||(e[25]=[o("i",{class:"fa-solid fa-chart-kanban"},null,-1)]),2),o("button",{onClick:e[6]||(e[6]=r=>C.value="table"),class:fe(["aspect-square cursor-pointer rounded-sm p-0 px-0.5",C.value==="table"?"text-accent bg-accent-text":"hover:bg-border/50 backdrop-blur-2xl transition-all duration-75 hover:outline-border hover:outline hover:text-accent"]),title:"Gallery view"},e[26]||(e[26]=[o("i",{class:"fa-solid fa-align-left"},null,-1)]),2)])])]),C.value=="kanban"?(d(),p(E,{key:0},[ge(S(It,null,null,512),[[$e,b(l)||b(ae)]]),ge(o("div",os,[S(b(se),{onOnPlus:Ke,board:we.value,"onDelete:column":e[7]||(e[7]=r=>qe(r)),"onUpdate:column":e[8]||(e[8]=r=>Be(r)),onReorder:Oe,onAddColumn:G,"onSelect:ticket":f,onOnBoardUpdate:Ue,variable_id:_.value,sheet_id:c.value},{"column-footer":J(r=>{var De,Se,Le,Te,Ae;return[(Se=(De=b(D))==null?void 0:De.transitions)!=null&&Se.all_allowed&&!((Ae=(Te=(Le=b(D))==null?void 0:Le.transitions)==null?void 0:Te.all_allowed)!=null&&Ae.includes(r.column.title))&&b(D).transitions.currentColumn!=r.column.title?(d(),p("div",ns," Disbale ( you can't drop here )")):L("",!0)]}),ticket:J(({ticket:r})=>[S(Ut,{selectedVar:_.value,onSelect:()=>{f(r)},ticket:r},null,8,["selectedVar","onSelect","ticket"])]),_:1},8,["board","variable_id","sheet_id"]),o("div",{class:"min-w-[328px]",onClick:e[10]||(e[10]=ee(()=>{},["stop"]))},[re.value?(d(),p("div",rs,[S(At,{autofocus:!0,modelValue:de.value,"onUpdate:modelValue":e[9]||(e[9]=r=>de.value=r),placeholder:"Add New list",onKeyup:Tt(xe,["enter"])},null,8,["modelValue"]),e[27]||(e[27]=o("p",{class:"text-xs mt-1.5"},"You can add details while editing",-1)),o("div",ds,[S(Et,{onClick:xe,varaint:"primary",class:"px-3 py-1 bg-accent cursor-pointer text-white rounded"},{default:J(()=>[te(be(b(X)?"Adding...":"Add list"),1)]),_:1}),o("i",{class:"fa-solid fa-close",onClick:_e})])])):(d(),p("button",{key:1,class:"text-sm text-text-primary py-2.5 cursor-pointer font-medium flex items-center justify-center w-full gap-2 bg-bg-body rounded-lg",onClick:ee(_e,["stop"])}," + Add List "))])],512),[[$e,!b(l)&&!b(ae)]])],64)):L("",!0),C.value=="table"?(d(),H(es,{key:1,onToggleVisibility:rt,onAddVar:e[11]||(e[11]=()=>{P.value=!0}),isPending:b(l)||b(oe),columns:Ze.value,rows:we.value,onCreate:lt},null,8,["isPending","columns","rows"])):L("",!0)]),S(b(u),{onClick:e[12]||(e[12]=ee(()=>{},["stop"])),modelValue:N.value,"onUpdate:modelValue":e[13]||(e[13]=r=>N.value=r),title:"Delete List",itemLabel:"list",itemName:(n=R.value)==null?void 0:n.title,requireMatchText:(m=R.value)==null?void 0:m.title,confirmText:"Delete List",cancelText:"Cancel",size:"md",loading:b(X),onConfirm:Ne,onCancel:e[14]||(e[14]=()=>{N.value=!1})},null,8,["modelValue","itemName","requireMatchText","loading"]),s.value?(d(),H(b(V),{selectedVariable:_.value,listId:(g=R.value)==null?void 0:g.title,sheet_id:c.value,key:"createTaskModalKey",modelValue:s.value,"onUpdate:modelValue":e[15]||(e[15]=r=>s.value=r),onSubmit:e[16]||(e[16]=()=>{})},null,8,["selectedVariable","listId","sheet_id","modelValue"])):L("",!0),(ue=a.value)!=null&&ue._id?(d(),H(b(M),{key:1,details:a.value,onClose:e[17]||(e[17]=()=>{f({variables:{}})}),showPanel:!!((he=a.value)!=null&&he._id)},null,8,["details","showPanel"])):L("",!0),S(b($),{size:"md",sheet:B.value,modelValue:z.value,"onUpdate:modelValue":e[18]||(e[18]=r=>z.value=r)},null,8,["sheet","modelValue"]),P.value?(d(),H(b(y),{key:2,modelValue:P.value,"onUpdate:modelValue":e[19]||(e[19]=r=>P.value=r),sheetID:c.value},null,8,["modelValue","sheetID"])):L("",!0),S(b(u),{onClick:e[20]||(e[20]=ee(()=>{},["stop"])),modelValue:Y.value,"onUpdate:modelValue":e[21]||(e[21]=r=>Y.value=r),title:"Delete Sheet",itemLabel:"Sheet",itemName:(Ce=B.value)==null?void 0:Ce.title,requireMatchText:(Ve=B.value)==null?void 0:Ve.title,confirmText:"Delete Sheet",cancelText:"Cancel",size:"md",loading:b(We),onConfirm:je,onCancel:e[22]||(e[22]=()=>{Y.value=!1})},null,8,["modelValue","itemName","requireMatchText","loading"])],64)}}}),ys=Mt(is,[["__scopeId","data-v-2181ce7a"]]);export{ys as default};
