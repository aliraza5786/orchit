import{d as G,r as d,q as Z,c as P,i,j as B,h as f,e,B as _,w as k,f as w,z as M,O as U,F as D,x as T,y as A,t as p,o as s,_ as R,a as ee,b as te,n as O,p as oe}from"./index-BZn88Tk7.js";import{B as ae}from"./BaseModal-Lpve6HiZ.js";import{_ as L}from"./BaseTextField.vue_vue_type_script_setup_true_lang-DmEZLbRb.js";import{S as re}from"./SwitchTab-D0sbUn_B.js";import{i as le}from"./KanbanSkeleton-Z7y0jmeQ.js";import{a as se}from"./useOpenAIGeneration-jH8PARqQ.js";import{a as ne}from"./useQueryParams-B2NYtDZ6.js";import{_ as ie}from"./cross-DvraoB0R.js";import"./info-DjaLHeD_.js";import"./index-BgzE4qkI.js";const ce="/assets/a40c90e37b9e8e45317b9cba411ad897833a9d01-DSQSOdpz.jpg";function ue(C){try{const m=C.match(/```json\s*([\s\S]*?)\s*```|({[\s\S]*})/);if(m){const b=m[1]||m[2];return JSON.parse(b)}}catch(m){console.error("JSON parsing failed:",m)}return null}const de=["home","user","cog","calendar","search","bell","check","times","plus","minus","trash","pencil","info","question","lock","unlock","star","heart","bookmark","camera","cloud","download","upload","eye","envelope","file","globe","key","map","power-off","edit","save","print","users","bars","mobile","tablet","laptop","desktop","clock","clipboard","flag","comment","comments","share-alt","github","twitter","facebook","linkedin","google","instagram","youtube","whatsapp","chat","cloud-upload","cloud-download","shield","trophy","wrench","tools","rocket","book","map-marker","location","wifi","battery-full","battery-half","battery-empty","volume-up","volume-down","volume-mute","signal","gift","car","truck","bicycle","plane","boat","heart-o","star-o","angle-left","angle-right","angle-double-left","angle-double-right","check-circle","times-circle","exclamation-circle","question-circle","info-circle","circle","circle-thin","square","square-o","circle-o","circle-check","circle-times","circle-info","circle-question","circle-exclamation","play","pause","stop","fast-forward","fast-backward","rewind","forward","backward","eject","volume-off","play-circle","pause-circle","stop-circle","fast-forward-circle","fast-backward-circle","rewind-circle","forward-circle","backward-circle","check-square","times-square","check-circle-o","times-circle-o","pause-circle-o","play-circle-o","search-minus","search-plus","map-pin","share","thumbs-up","thumbs-down","flag-checkered","flag-o","crosshairs","list-ul","list-ol","th-large","th","th-list","th-minus","th-plus","th-x","th-check","th-clock","calendar-minus","calendar-plus","calendar-check","calendar-alt","calendar-day","calendar-week","calendar-times","calendar-range","calendar-week-o","calendar-times-o","circle-thin-o","ellipsis-v","ellipsis-h","forward-fast","backward-fast","ban","lock-open","unlock-alt","lightbulb","eye-slash","clipboard-list","user-plus","user-times","user-lock","user-secret","user-edit","user-circle","user-alt","user-shield","users-cog","users-slash","user-minus","user-check","user-friends","users","user-group","people-carry","user-tag","user-md","user-nurse","user-astronaut","user-tie","user-graduate","user-clock","user-alt-slash","phone","phone-alt","phone-square","phone-square-alt","phone-volume","phone-call","phone-in","phone-out","comment-alt","comments-alt","comment-dots","comments-dots","comments-alt-regular","comment-alt-regular","comments-regular","user-regular","heart-regular","check-regular","times-regular","star-regular","info-regular","question-regular","home-regular","bell-regular","envelope-regular","envelope-open","power-off-regular","arrow-right","arrow-left","arrow-down","arrow-up","arrow-circle-left","arrow-circle-right","arrow-circle-up","arrow-circle-down","arrow-alt-left","arrow-alt-right","arrow-alt-up","arrow-alt-down","chevron-left","chevron-right","chevron-up","chevron-down","caret-left","caret-right","caret-up","caret-down"],pe={key:0,class:"border border-dashed bg-bg-input border-border rounded-xl p-6 flex flex-col items-center text-center"},me={key:1,class:"mt-6"},fe={class:"grid gap-3 w-full"},ge=["onClick","aria-label","title"],be={class:"max-w-[84px] text-[11px] text-text-secondary truncate"},ve={key:0,class:"text-sm text-neutral-400"},he={key:2,class:"mt-4 p-3 bg-bg-input rounded-lg flex items-center gap-2"},xe={class:"min-w-0"},ke={class:"font-medium truncate"},we={class:"text-xs block break-all"},ye=120,_e=G({__name:"IconPicker",props:{modelValue:{}},emits:["update:modelValue"],setup(C,{emit:m}){const b=m,V=d([]),g=d(!1),v=d(""),c=d(1),N=d(["pi"]);Z(()=>{const a=de.map(r=>{const u=`pi-${r}`;return{prefix:"pi",iconName:u,renderClasses:["pi",u],label:r}});a.sort((r,u)=>r.iconName.localeCompare(u.iconName)),V.value=a});const h=P(()=>{const a=v.value.trim().toLowerCase();return V.value.filter(({label:r,iconName:u,prefix:l})=>N.value.includes(l)?a?r.includes(a)||u.includes(a):!0:!1)}),S=P(()=>h.value.slice(0,c.value*ye));function $(a){const r=a.target;r.scrollTop+r.clientHeight>=r.scrollHeight-24&&S.value.length<h.value.length&&(c.value+=1)}function I(a){a?b("update:modelValue",{prefix:a.renderClasses[0],iconName:a.iconName}):b("update:modelValue",null),g.value=!1}function y(){c.value=1,g.value=!g.value}return(a,r)=>{var u;return s(),i("div",null,[!g.value&&!((u=a.modelValue)!=null&&u.iconName)?(s(),i("div",pe,[f(_,{variant:"primary",onClick:y},{default:k(()=>r[2]||(r[2]=[w("Select Icon")])),_:1,__:[2]}),r[3]||(r[3]=e("p",{class:"text-xs text-text-secondary mt-2"},"Browse PrimeIcons",-1))])):g.value?(s(),i("div",me,[e("div",fe,[M(e("input",{"onUpdate:modelValue":r[0]||(r[0]=l=>v.value=l),placeholder:"Search icons…",class:"px-3 py-2 rounded-lg border col-span-full border-border bg-bg-card text-sm placeholder-text-secondary focus:outline-none focus:ring-2 focus:ring-accent focus:border-border",type:"text"},null,512),[[U,v.value]]),e("div",{class:"grid gap-2 col-span-full grid-cols-[repeat(auto-fill,minmax(90px,1fr))] max-h-[360px] overflow-auto pr-1 rounded-lg border-border",onScroll:$},[(s(!0),i(D,null,T(S.value,l=>(s(),i("button",{key:l.prefix+l.iconName,type:"button",onClick:z=>I(l),"aria-label":`${l.prefix} ${l.iconName}`,title:`${l.prefix} ${l.iconName}`,class:"group grid place-items-center gap-1.5 p-2 bg-bg-body cursor-pointer border border-transparent rounded-lg text-text-secondary hover:border-border focus:outline-none focus:ring-2 focus:ring-accent"},[e("i",{class:A([l.renderClasses,"text-base"])},null,2),e("small",be,p(l.iconName),1)],8,ge))),128))],32),h.value.length?B("",!0):(s(),i("p",ve," No icons match “"+p(v.value)+"”. ",1))])])):B("",!0),a.modelValue?(s(),i("div",he,[e("i",{class:A([[a.modelValue.prefix,a.modelValue.iconName],"text-xl"])},null,2),e("div",xe,[e("p",ke,p(a.modelValue.prefix)+" "+p(a.modelValue.iconName),1),e("code",we," { prefix: '"+p(a.modelValue.prefix)+"', iconName: '"+p(a.modelValue.iconName)+"' } ",1)]),e("img",{src:ie,onClick:r[1]||(r[1]=l=>I(null)),class:"ml-auto cursor-pointer",alt:"Clear icon"})])):B("",!0)])}}}),Ce=R(_e,[["__scopeId","data-v-8850d76a"]]),Ve={class:"px-6"},Ne={class:"px-6 py-4 space-y-6"},Se={key:0,class:"space-y-4"},$e={class:"flex justify-end gap-2 pt-2"},Ie={key:1,class:"space-y-4"},je={class:"grid grid-cols-1 sm:grid-cols-3 gap-3"},qe=["onClick"],Be={class:"flex justify-end gap-2 pt-2"},De={key:2,class:"space-y-4"},Te={class:"flex items-center gap-3"},Pe={class:"flex flex-wrap items-center gap-2 text-xs"},Me=["onClick"],Ue={key:0,class:"ml-1 opacity-70 bg-bg-surface rounded-full text-text-primary p-0.5 aspect-square w-4 h-4 text-[10px]"},Ae={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"},ze=["onClick"],Ee={class:"p-3 py-4"},Oe={class:"text-base font-medium text-text-primary"},Le={class:"text-sm text-[#2B2C30B2] mt-1 line-clamp-1"},Ge={class:"flex justify-end gap-2 pt-2"},Re=G({__name:"CreateSheetModal",props:{modelValue:{type:Boolean}},emits:["update:modelValue","submit:manual","submit:ai","submit:template"],setup(C,{emit:m}){const b=oe(),V=ee(),{workspaceId:g,moduleId:v}=ne(),c=d({title:"",description:"",icon:null}),{mutate:N,isPending:h}=le({onSuccess:()=>{V.invalidateQueries({queryKey:["sheets"]}),a()}}),S=C,$=m;function I(){N({icon:c.value.icon,variables:{"sheet-title":c.value.title,"sheet-description":c.value.description},is_ai_generated:!1,workspace_id:g.value,workspace_module_id:v.value})}const y=P({get:()=>S.modelValue,set:n=>$("update:modelValue",n)});function a(){c.value={title:"",description:"",icon:null},y.value=!1}const r=[{label:"Manual",value:"manual"},{label:"Generate with AI",value:"ai"},{label:"Templates",value:"templates"}],u=d("manual"),l=d(""),z=["Generate a task board for an Uber-like app with columns for development, testing, and deployment.","Create a product board for an e-commerce platform with vendor, inventory, and customer sections.","Design a project board for a Notion-like tool with team collaboration features."],{mutate:F}=se({onSuccess:n=>{const o=ue(n);N({sheets:[{...o,is_ai_generated:!1}],workspace_id:b.params.id,workspace_module:"product"})},onError:n=>{console.error("Error generating AI data:",n)}});function J(){F("i need response in below json format { title:string , description:string , icon:{prefix : string from fas || far || fab , iconName:string from fontawsome free regular icons}} ")}const Q=d([{id:"concept",title:"Product Concept",subtitle:"Early‑stage product or feature ideas.",cover:"/covers/concept.jpg",tags:["Experience Design","Development"]},{id:"inspo",title:"Design Inspiration",subtitle:"UI/UX samples and creative references.",cover:"/covers/inspo.jpg",tags:["Experience Design"]},{id:"launch",title:"Launch Prep",subtitle:"Tasks and assets for go‑live.",cover:"/covers/launch.jpg",tags:["Project Management","Marketing"]}]),j=d(""),H=d([{name:"Experience Design",count:24},{name:"Development",count:6},{name:"Marketing",count:5},{name:"Project Management",count:6}]),x=d(new Set);function K(n){x.value.has(n)?x.value.delete(n):x.value.add(n)}const W=P(()=>Q.value.filter(n=>(!j.value||n.title.toLowerCase().includes(j.value.toLowerCase()))&&(x.value.size===0||n.tags.some(o=>x.value.has(o))))),q=d(null);function X(n){q.value=n}function Y(){q.value&&$("submit:template",{id:q.value.id})}return(n,o)=>(s(),te(ae,{modelValue:y.value,"onUpdate:modelValue":o[6]||(o[6]=t=>y.value=t),size:"lg"},{default:k(()=>[o[11]||(o[11]=e("div",{class:"flex justify-between items-start px-6 border-b border-border pb-4"},[e("h2",{class:"text-xl font-semibold"},"Add a new board")],-1)),e("div",Ve,[f(re,{options:r,modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=t=>u.value=t)},null,8,["modelValue"])]),e("div",Ne,[u.value==="manual"?(s(),i("section",Se,[f(Ce,{modelValue:c.value.icon,"onUpdate:modelValue":o[1]||(o[1]=t=>c.value.icon=t)},null,8,["modelValue"]),f(L,{modelValue:c.value.title,"onUpdate:modelValue":o[2]||(o[2]=t=>c.value.title=t),label:"Board name",size:"lg",placeholder:"Design Ideas"},null,8,["modelValue"]),f(L,{modelValue:c.value.description,"onUpdate:modelValue":o[3]||(o[3]=t=>c.value.description=t),label:"Description",size:"lg",placeholder:"a small description",textarea:""},null,8,["modelValue"]),e("div",$e,[e("button",{class:"px-4 py-2 rounded-md text-sm text-text-secondary border",onClick:a},"Cancel"),f(_,{class:"px-4",onClick:I},{default:k(()=>[w(p(O(h)?"Adding...":"Add board"),1)]),_:1})])])):u.value==="ai"?(s(),i("section",Ie,[M(e("textarea",{"onUpdate:modelValue":o[4]||(o[4]=t=>l.value=t),rows:"6",class:"w-full rounded-lg p-3 text-sm min-h-[186px] outline-none border-border border bg-bg-input",placeholder:"Generate a project management board for a software development team with tasks categorized as 'Backlog', 'In Progress', 'Review', and 'Done'."},null,512),[[U,l.value]]),o[8]||(o[8]=e("div",{class:"text-center text-xs text-text-secondary -500"},"Or try these examples:",-1)),e("div",je,[(s(),i(D,null,T(z,t=>e("button",{key:t,class:"text-left border border-border hover:border-accent bg-bg-body text-text-primary rounded-xl p-3 text-sm hover:bg-gray-50",onClick:E=>l.value=t},"“"+p(t)+"”",9,qe)),64))]),e("div",Be,[e("button",{class:"px-4 py-2 rounded-md text-sm text-text-secondary border",onClick:a},"Cancel"),f(_,{class:"px-4",onClick:J},{default:k(()=>o[7]||(o[7]=[w("Add board")])),_:1,__:[7]})])])):(s(),i("section",De,[e("div",Te,[M(e("input",{"onUpdate:modelValue":o[5]||(o[5]=t=>j.value=t),class:"flex-1 border rounded-lg p-2 text-sm border-border D6D7DA]",placeholder:"Search"},null,512),[[U,j.value]])]),e("div",Pe,[(s(!0),i(D,null,T(H.value,t=>(s(),i("button",{key:t.name,class:A(["px-3.5 py-1.5 rounded-md flex",x.value.has(t.name)?"bg-black text-white ":" bg-bg-body cursor-pointer text-text-secondary -700"]),onClick:E=>K(t.name)},[w(p(t.name),1),t.count?(s(),i("div",Ue,p(t.count),1)):B("",!0)],10,Me))),128))]),e("div",Ae,[(s(!0),i(D,null,T(W.value,t=>(s(),i("button",{key:t.id,class:"border border-border 2B2C3026] rounded-xl overflow-hidden text-left hover:shadow-sm",onClick:E=>X(t)},[o[9]||(o[9]=e("img",{src:ce,class:"w-full h-36 object-cover"},null,-1)),e("div",Ee,[e("div",Oe,p(t.title),1),e("div",Le,p(t.subtitle),1)])],8,ze))),128))]),e("div",Ge,[f(_,{variant:"secondary",onClick:a},{default:k(()=>o[10]||(o[10]=[w("Cancel")])),_:1,__:[10]}),f(_,{varaint:"primary",class:"px-4",disabled:!q.value,onClick:Y},{default:k(()=>[w(p(O(h)?"Adding...":"Add board"),1)]),_:1},8,["disabled"])])]))])]),_:1,__:[11]},8,["modelValue"]))}}),tt=R(Re,[["__scopeId","data-v-2a7679c6"]]);export{tt as default};
