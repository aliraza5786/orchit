import{d as nt,r as p,U as dt,K as rt,bw as ut,n as $,v as we,an as ct,S as ye,c as U,$ as vt,bx as mt,by as pt,bz as ft,bA as ht,bB as xt,L as bt,ad as gt,aj as _t,l as d,e as wt,p as r,h as s,aa as F,w as y,o as n,C as H,D as yt,z as I,k as h,y as P,F as g,m as k,t as c,H as se,ac as ke,j as Ce,N as ae,a2 as kt,aI as Ct,bm as St,X as Se,B as le,i as N,T as oe,ai as Ee,I as Et}from"./index-Dc-0hjci.js";const Dt={key:0,class:"flex max-w-[380px] min-w-full sm:min-w-[380px] justify-center min-h-[400px] items-center h-full w-full"},Vt={class:"sticky top-0 z-10 border-b border-border px-4 sm:px-6 py-[9px] flex items-center justify-between bg-bg-card"},Ut={class:"flex items-center gap-2"},It=["aria-label"],Pt={class:"py-5 px-4 sm:px-6 flex flex-col gap-5 flex-grow"},Tt={key:0,class:"space-y-2 sm:col-span-1"},Lt={class:"text-xs uppercase tracking-wider text-text-secondary"},zt={class:"capitalize"},Bt=["disabled","title","onKeydown"],jt=["title"],At=["disabled"],Mt=["innerHTML"],$t={key:1,class:"opacity-60"},Ft={key:"tab-details",class:"space-y-6"},Ot={class:"grid grid-cols-2 gap-4 text-sm"},Kt={class:"rounded-xl bg-orchit-white/5 border border-orchit-white/10 p-4"},qt={class:"mt-1 font-medium"},Ht={class:"rounded-xl bg-orchit-white/5 border border-orchit-white/10 p-4"},Nt={class:"mt-1 font-medium"},Rt={class:"rounded-2xl border border-orchit-white/10 bg-orchit-white/5 p-4 grid grid-cols-1 gap-4"},Yt={class:"space-y-2"},Qt={class:"space-y-2"},Wt={class:"space-y-2"},Xt={class:"h-8 px-3 flex items-center gap-2 rounded-lg bg-bg-input border border-orchit-white/10"},Gt={class:"space-y-2"},Jt={key:0,class:"text-xs text-red-400 mt-1"},Zt={key:0,class:"space-y-2 sm:col-span-1"},es={class:"text-xs uppercase tracking-wider text-text-secondary"},ts={key:1},ss={class:"relative border-l border-orchit-white/10 pl-5 space-y-4 ml-1"},as={class:"rounded-xl bg-orchit-white/5 border border-orchit-white/10 p-3 hover:bg-orchit-white/7 transition"},ls={class:"font-semibold"},os={class:"font-semibold"},is={key:"tab-comments",class:"space-y-4"},ns={class:"flex items-center gap-3 mb-2"},ds={class:"h-8 w-8 rounded-full bg-accent/15 text-accent flex items-center justify-center text-xs font-semibold"},rs={class:"flex-1"},us={class:"text-sm font-medium"},cs={class:"text-xs text-text-secondary"},vs={key:0,class:"flex items-center gap-2"},ms=["disabled","onClick"],ps=["disabled","onClick"],fs={class:"flex items-center gap-2 justify-end"},hs={key:0,class:"mt-3 grid grid-cols-2 gap-2"},xs=["href"],bs={class:"text-xs truncate"},gs={class:"rounded-xl border border-orchit-white/10 bg-orchit-white/5 overflow-hidden"},_s=["disabled"],ws={class:"grid grid-cols-3 items-center w-full justify-between p-2 border-t border-orchit-white/10"},ys={key:"tab-attachments",class:"space-y-3"},ks={class:"text-xs text-text-secondary"},Cs={class:"grid sm:grid-cols-2 gap-4"},Ss={class:"p-3"},Es={key:0,class:"rounded-lg overflow-hidden"},Ds=["src"],Vs={key:1,class:"rounded-lg overflow-hidden"},Us=["src"],Is={key:2,class:"h-40 rounded-lg bg-black/5 grid place-items-center"},Ps={class:"mt-3"},Ts={class:"font-medium truncate"},Ls={class:"text-xs text-text-secondary capitalize"},zs={class:"p-3 pt-0"},Bs=["href"],js=nt({__name:"SidePanel",props:{pin:{type:Boolean,default:!1},showPanel:{type:Boolean,default:!0},details:{type:Object,default:()=>({})}},emits:["close","update:details","comment:post","priority:change"],setup(T,{emit:De}){var he,xe,be;const L=p(!1),{canCreateComment:R,canEditComment:O,canViewComment:ie,canDeleteComment:Ve,canEditCard:x,canViewAttachment:Ue}=dt(),{workspaceId:Ie}=rt(),m=T,Pe=De,ne=p(m.details._id),{data:i,isPending:de,isFetching:re}=ut(ne);$(m,()=>{ne.value=m.details._id});const z=p("details"),Te=[{label:"Details",value:"details"},{label:"Comments",value:"comments",disabled:ie},{label:"History",value:"history"},{label:"Attachment",value:"attachment"}],K=p(!1),w=p(i.value?i.value["card-title"]:""),Y=p(null);function Le(){x.value&&(K.value=!0,Ee(()=>{var t,e;(t=Y.value)==null||t.focus(),(e=Y.value)==null||e.select()}))}function ue(){var t;w.value.trim()||(w.value=m.details["card-title"]??""),x.value?S.mutate({card_id:m.details._id,variables:{"card-title":w.value.trim()}}):(w.value=((t=i.value)==null?void 0:t["card-title"])??"",oe.error("You do not have permission to do that"),console.log("you  dont have access to do that")),K.value=!1}const D=p(i!=null&&i.value?i==null?void 0:i.value["card-description"]:""),q=p(!1),Q=p(null);function ze(t){var v,f;const e=(v=t==null?void 0:t.querySelector)==null?void 0:v.call(t,".ProseMirror");if(!e)return;e.focus();const a=(f=window.getSelection)==null?void 0:f.call(window),o=document.createRange();o.selectNodeContents(e),o.collapse(!1),a==null||a.removeAllRanges(),a==null||a.addRange(o)}async function Be(){x.value&&(q.value=!0,await Ee(),ze(Q.value||void 0))}function ce(t){console.log(t,"???"),S.mutate({card_id:m.details._id,attachments:t??[],variables:{"card-description":D.value}}),q.value=!1}function ve(t){var a;if(!q.value)return;const e=t.target;(a=Q.value)!=null&&a.contains(e)||ce()}we(()=>document.addEventListener("mousedown",ve)),ct(()=>document.removeEventListener("mousedown",ve));const W=ye({posted_on:((he=m.details)==null?void 0:he.posted_on)??((xe=m.details)==null?void 0:xe.created_at)??""}),je=U({get:()=>W.posted_on?new Date(W.posted_on).toISOString().slice(0,10):"",set:t=>{W.posted_on=t?new Date(t+"T00:00:00").toISOString():""}}),{data:X}=vt(Ie.value),G=p(i!=null&&i.value?i.value.workspace_lane_id:"");$([()=>i.value,()=>re.value],()=>{i!=null&&i.value&&(w.value=i==null?void 0:i.value["card-title"],D.value=i.value["card-description"],G.value=i.value.workspace_lane_id)});const Ae=U(()=>((X==null?void 0:X.value)??[]).map(t=>{var e;return{_id:t._id,title:((e=t==null?void 0:t.variables)==null?void 0:e["lane-title"])??String(t._id)}}));function Me(t){G.value=t,S.mutate({card_id:m.details._id,workspace_lane_id:t})}const b=p({startDate:null,endDate:null});$(()=>i.value,t=>{b.value.startDate=(t==null?void 0:t["start-date"])??null,b.value.endDate=(t==null?void 0:t["end-date"])??null},{immediate:!0,deep:!0});const J=U(()=>b!=null&&b.value.startDate&&b.value.endDate&&b.value.endDate<b.value.startDate?"End date cannot be before start date":""),$e=t=>{b.value.startDate=t??null,S.mutate({card_id:m.details._id,variables:{"start-date":t}})},Fe=t=>{b.value.endDate=t??null,S.mutate({card_id:m.details._id,variables:{"end-date":t}})},Oe=U(()=>i==null?void 0:i.value.assigned_to),Ke=t=>{S.mutate({card_id:m.details._id,seat_id:t==null?void 0:t._id})},qe=U(()=>{var t;return(t=m.details)==null?void 0:t._id}),{data:Z}=mt(qe),u=p((be=Z.value)==null?void 0:be.comments);$(()=>Z.value,()=>{var t;u.value=(t=Z.value)==null?void 0:t.comments});const{mutate:He,isPending:Ne}=pt({onSuccess:t=>{B.value="",A.value=[],u.value=[...u.value,t]}}),B=p(""),Re=t=>(t??"").split(" ").map(e=>e[0]).filter(Boolean).slice(0,2).join("").toUpperCase(),Ye=t=>t?new Date(t).toLocaleString():"",{data:Qe}=ft(),We=t=>{var e;return((e=t==null?void 0:t.created_by)==null?void 0:e._id)===Qe.value},j=p(null),C=p(""),{mutate:Xe,isPending:me}=ht({onSuccess:t=>{const e=u.value.findIndex(a=>a._id===t._id);e>-1&&(u.value[e]={...u.value[e],comment_text:t.comment_text}),j.value=null,C.value=""}}),{mutate:Ge}=xt();function Je(t){j.value=t._id,C.value=t.comment_text??""}function ee(){j.value=null,C.value="",K.value=!1}function Ze(t){const e=C.value.trim();if(!e)return;const a=u.value.findIndex(v=>v._id===t._id),o=a>-1?{...u.value[a]}:null;a>-1&&(u.value[a]={...u.value[a],comment_text:e}),Xe({id:t._id,payload:{comment_text:e}},{onError:()=>{a>-1&&o&&(u.value[a]=o)},onSuccess:v=>{a>-1&&(u.value[a]=v??u.value[a]),ee()}})}function et(t){const e=u.value.findIndex(o=>o._id===t._id),a=e>-1?u.value[e]:null;e>-1&&u.value.splice(e,1),Ge({id:t._id},{onError:()=>{a&&u.value.splice(e,0,a)}})}const tt=U(()=>{var t,e;return console.log((t=m.details)==null?void 0:t.attachments,">>>"),(e=i.value)==null?void 0:e.attachments.map(a=>{var o;return{_id:a._id??a.id??((o=crypto.randomUUID)==null?void 0:o.call(crypto))??Math.random(),name:a.name??a.filename??"file",url:a.url,kind:(a.type??a.kind??"").toLowerCase().includes("image")?"image":(a.type??a.kind??"").toLowerCase().includes("video")?"video":"file"}})}),te=bt(),S=gt({onSuccess:()=>{te.invalidateQueries({queryKey:["get-sheets"]}),te.invalidateQueries({queryKey:["sheet-list"]}),te.invalidateQueries({queryKey:["roles"]})}}),A=p([]),{mutate:st}=_t({onSuccess:t=>{A.value=[t]}});function at(t){const e=t.target.files;Array.from(e).forEach(a=>{const o=new FormData;o.append("file",a),st(o)})}function lt(){const t=B.value.trim();!t&&!A.value.length||He({id:m.details._id,payload:{comment_text:t,attachments:A.value.map(e=>({name:e.data.name,url:e.data.url}))}})}const M=ye({}),pe=()=>{var t;(t=i==null?void 0:i.value)!=null&&t.variables&&(i.value.variables??[]).forEach(a=>{var v,f;if(!a||a.type!=="Select")return;const o=Array.isArray(a.data)&&a.data.length?((v=a.data[0])==null?void 0:v.value)??((f=a.data[0])==null?void 0:f._id)??a.data[0]:void 0;M[a.slug]=a.value??M[a.slug]??o??null})};we(pe),$(()=>i.value,pe,{deep:!0});function fe(t,e){var o,v;M[e]=t,((v=(((o=i.value)==null?void 0:o.variables)??[]).find(f=>f.slug===e))==null?void 0:v.value)!==t&&S.mutate({card_id:m.details._id,variables:{[e]:t}})}function ot(t){return t==="comments"&&!ie.value?(oe.error("You do not have permission to view comments"),!1):t==="attachment"&&!Ue.value?(oe.error("You do not have permission to view attachments"),!1):!0}return(t,e)=>r(re)||r(de)?(n(),d("div",Dt,e[8]||(e[8]=[s("div",{role:"status","aria-label":"Loading",class:"h-10 w-10 rounded-full border-4 border-neutral-700 border-t-transparent animate-spin"},null,-1)]))):(n(),wt(F,{key:1,name:"panel",appear:""},{default:y(()=>{var a;return[H(s("div",{class:I(["flex flex-col h-full overflow-y-auto bg-gradient-to-b from-bg-card/95 to-bg-card/90 backdrop-blur rounded-[6px] shadow-[0_10px_40px_-10px_rgba(0,0,0,.5)] border border-orchit-white/5 overflow-hidden transition-all duration-300 ease-in-out",L.value?"min-w-full max-w-full":"min-w-full max-w-[380px] sm:min-w-[380px]"]),role:"complementary","aria-label":"Details panel"},[s("div",Vt,[e[10]||(e[10]=s("h5",{class:"text-[18px] font-semibold tracking-tight"},"Details",-1)),s("div",Ut,[s("button",{class:"p-2 rounded-xl hover:bg-orchit-white/5 active:scale-[.98] cursor-pointer transition",onClick:e[0]||(e[0]=o=>L.value=!L.value),"aria-label":L.value?"Collapse details":"Expand details"},[s("i",{class:I(["fa-solid",L.value?"fa-compress":"fa-expand","text-lg"])},null,2)],8,It),s("button",{class:"p-2 rounded-xl hover:bg-orchit-white/5 active:scale-[.98] cursor-pointer transition",onClick:e[1]||(e[1]=()=>Pe("close")),"aria-label":"Close details"},e[9]||(e[9]=[s("i",{class:"fa-solid fa-xmark text-lg"},null,-1)]))])]),s("div",Pt,[(n(!0),d(g,null,P((a=r(i))==null?void 0:a.variables,(o,v)=>(n(),d(g,{key:o.slug||`var-${v}`},[(o==null?void 0:o.type)==="Select"&&o.slug=="card-type"?(n(),d("div",Tt,[s("div",Lt,c(o.title),1),h(se,{canEditCard:!r(x),size:"sm",options:o==null?void 0:o.data.map(f=>({_id:f,title:f})),placeholder:"Select option",allowCustom:!1,"model-value":M[o.slug],"onUpdate:modelValue":f=>fe(f,o.slug)},null,8,["canEditCard","options","model-value","onUpdate:modelValue"])])):k("",!0)],64))),128)),s("div",zt,[h(F,{name:"fade-scale",mode:"out-in"},{default:y(()=>[K.value?H((n(),d("input",{disabled:!r(x),title:r(x)?"":"You do not have permission to edit this card",key:"title-edit",ref_key:"titleInput",ref:Y,"onUpdate:modelValue":e[2]||(e[2]=o=>w.value=o),onBlur:ue,onKeydown:[ke(Ce(ue,["prevent"]),["enter"]),ke(Ce(ee,["prevent"]),["esc"])],class:"w-full text-2xl font-semibold rounded-xl px-3 py-2 bg-orchit-white/5 border border-orchit-white/10 focus:outline-none focus:ring-2 focus:ring-accent/40 transition",type:"text","aria-label":"Edit title"},null,40,Bt)),[[ae,w.value]]):(n(),d("h1",{key:"title-view",class:I([r(x)?"cursor-text":"cursor-not-allowed","text-[20px] leading-[28px] font-semibold tracking-tight rounded-lg px-2 py-1 hover:bg-orchit-white/5 transition"]),onClick:Le,"aria-label":"Card title",title:r(x)?"":"You do not have permission to edit this card"},c(w.value||"Untitled"),11,jt))]),_:1})]),s("div",null,[e[11]||(e[11]=s("h3",{class:"mb-2 text-base font-semibold tracking-wide px-1"},"Description",-1)),h(F,{name:"fade-scale",mode:"out-in"},{default:y(()=>[q.value?(n(),d("div",{key:"desc-edit",ref_key:"descEditorWrap",ref:Q,class:"rounded-xl overflow-hidden border border-orchit-white/10 shadow-sm"},[h(kt,{modelValue:D.value,"onUpdate:modelValue":e[3]||(e[3]=o=>D.value=o),onFocusOut:ce},null,8,["modelValue"])],512)):(n(),d("div",{key:"desc-view",class:I(["text-[15px] leading-6 text-text-secondary whitespace-pre-wrap rounded-xl px-4 py-3 border border-orchit-white/10 bg-orchit-white/5 hover:border-orchit-white/20 transition",r(x)?"cursor-text":"cursor-not-allowed"]),disabled:!r(x),onClick:Be},[D.value?(n(),d("div",{key:0,innerHTML:D.value},null,8,Mt)):(n(),d("span",$t,"Click to add a description…"))],10,At))]),_:1})]),h(Ct,{modelValue:z.value,"onUpdate:modelValue":e[4]||(e[4]=o=>z.value=o),options:Te,size:"md",beforeChange:ot},null,8,["modelValue"]),h(F,{name:"section",mode:"out-in"},{default:y(()=>{var o,v,f,ge;return[z.value==="details"?(n(),d("section",Ft,[s("div",Ot,[s("div",Kt,[e[12]||(e[12]=s("div",{class:"text-xs uppercase tracking-wider text-text-secondary"},"Posted On",-1)),s("div",qt,c(je.value),1)]),s("div",Ht,[e[13]||(e[13]=s("div",{class:"text-xs uppercase tracking-wider text-text-secondary"},"ID",-1)),s("div",Nt,c(T.details["card-code"]),1)])]),s("div",Rt,[s("div",Yt,[e[14]||(e[14]=s("div",{class:"text-xs uppercase tracking-wider text-text-secondary"},"Lane",-1)),h(se,{canEditCard:!r(x),size:"sm",options:Ae.value,placeholder:"Select lane",allowCustom:!1,"model-value":G.value,"onUpdate:modelValue":Me},null,8,["canEditCard","options","model-value"])]),s("div",Qt,[e[15]||(e[15]=s("div",{class:"text-xs uppercase tracking-wider text-text-secondary"},"Assign",-1)),h(St,{onAssign:e[5]||(e[5]=l=>Ke(l)),assigneeId:Oe.value,seat:r(i).seat},null,8,["assigneeId","seat"])]),T.pin?k("",!0):(n(),d(g,{key:0},[s("div",Wt,[e[17]||(e[17]=s("div",{class:"text-xs uppercase tracking-wider text-text-secondary"},"Start Date",-1)),s("div",Xt,[e[16]||(e[16]=s("i",{class:"fa-regular fa-calendar"},null,-1)),h(Se,{disabled:!r(x),placeholder:"Set start date",class:"w-full","model-value":b.value.startDate,"emit-as":"ymd","onUpdate:modelValue":$e},null,8,["disabled","model-value"])])]),s("div",Gt,[e[19]||(e[19]=s("div",{class:"text-xs uppercase tracking-wider text-text-secondary"},"Target End",-1)),s("div",{class:I(["h-8 px-3 flex items-center gap-2 rounded-lg bg-bg-input border transition-colors",J.value?"border-red-500":"border-orchit-white/10"])},[e[18]||(e[18]=s("i",{class:"fa-regular fa-calendar"},null,-1)),h(Se,{disabled:!r(x),placeholder:"Set end date",class:"w-full","model-value":b.value.endDate,"emit-as":"ymd","onUpdate:modelValue":Fe},null,8,["disabled","model-value"])],2),J.value?(n(),d("p",Jt,c(J.value),1)):k("",!0)])],64)),r(de)?(n(),d(g,{key:1},[e[20]||(e[20]=s("div",{class:"bg-bg-surface/40 w-full animate-pulse h-8 p-1"},null,-1)),e[21]||(e[21]=s("div",{class:"bg-bg-surface/40 w-full animate-pulse h-8 p-1"},null,-1)),e[22]||(e[22]=s("div",{class:"bg-bg-surface/40 w-full animate-pulse h-8 p-1"},null,-1)),e[23]||(e[23]=s("div",{class:"bg-bg-surface/40 w-full animate-pulse h-6 p-1"},null,-1))],64)):(o=r(i))!=null&&o.variables?(n(!0),d(g,{key:2},P((v=r(i))==null?void 0:v.variables,(l,V)=>(n(),d(g,{key:l.slug||`var-${V}`},[l.type==="Select"&&l.slug!=="card-type"?(n(),d("div",Zt,[s("div",es,c(l.title),1),h(se,{canEditCard:!r(x),size:"sm",options:l==null?void 0:l.data.map(E=>({_id:E,title:E})),placeholder:"Select option",allowCustom:!1,"model-value":M[l.slug],"onUpdate:modelValue":E=>fe(E,l.slug)},null,8,["canEditCard","options","model-value","onUpdate:modelValue"])])):k("",!0)],64))),128)):k("",!0)])])):z.value==="history"?(n(),d("section",ts,[s("div",null,[e[26]||(e[26]=s("h3",{class:"text-sm font-semibold tracking-wide mb-3"},"History",-1)),s("ol",ss,[(n(!0),d(g,null,P((f=r(i))==null?void 0:f.history,(l,V)=>(n(),d("li",{key:V,class:"group"},[e[25]||(e[25]=s("span",{class:"absolute -left-[5px] top-0 w-2 h-2 rounded-full bg-accent/70 ring-4 ring-accent/10"},null,-1)),s("div",as,[s("span",ls,c(l.user.u_full_name),1),e[24]||(e[24]=s("span",{class:"text-text-secondary"}," changed ",-1)),s("span",os,c(l.field_name),1)])]))),128))])])])):z.value==="comments"?(n(),d("section",is,[(n(!0),d(g,null,P(u.value??[],l=>{var V,E,_e;return n(),d("div",{key:l._id,class:"rounded-xl border border-orchit-white/10 bg-orchit-white/5 p-4 hover:bg-orchit-white/7 transition"},[s("div",ns,[s("div",ds,c(Re((V=l.commented_by)==null?void 0:V.u_full_name)),1),s("div",rs,[s("div",us,c((E=l.commented_by)==null?void 0:E.u_full_name),1),s("div",cs,c(Ye(l.created_at)),1)]),We(l)?(n(),d("div",vs,[j.value!==l._id?(n(),d("button",{key:0,disabled:!r(O),class:"text-xs text-accent hover:underline",onClick:_=>Je(l)},"Edit",8,ms)):k("",!0),s("button",{disabled:!r(Ve),class:"text-xs text-red-400 hover:underline",onClick:_=>et(l)},"Delete",8,ps)])):k("",!0)]),h(F,{name:"fade",mode:"out-in"},{default:y(()=>[j.value!==l._id?(n(),d("p",{key:`c-view-${l._id}`,class:"text-[15px] leading-6"},c(l.comment_text),1)):(n(),d("div",{key:`c-edit-${l._id}`,class:"space-y-2"},[H(s("textarea",{"onUpdate:modelValue":e[6]||(e[6]=_=>C.value=_),rows:"3",class:"w-full p-3 rounded-lg bg-bg-input/80 border border-orchit-white/10 focus:ring-2 focus:ring-accent/40 outline-none"},null,512),[[ae,C.value]]),s("div",fs,[h(le,{variant:"secondary",size:"sm",onClick:ee},{default:y(()=>e[27]||(e[27]=[N("Cancel")])),_:1,__:[27]}),h(le,{class:"btn",size:"sm",onClick:_=>Ze(l),disabled:!C.value.trim()||r(me)||!r(O)},{default:y(()=>[N(c(r(me)?"Saving…":"Save"),1)]),_:2},1032,["onClick","disabled"])])]))]),_:2},1024),(_e=l==null?void 0:l.attachments)!=null&&_e.length?(n(),d("div",hs,[(n(!0),d(g,null,P(l.attachments,(_,it)=>(n(),d("a",{key:it,href:_.url,target:"_blank",class:"group flex items-center gap-2 rounded-lg border border-orchit-white/10 bg-orchit-white/5 px-2 py-1 hover:bg-orchit-white/10 transition"},[e[28]||(e[28]=s("i",{class:"fa-regular fa-file text-text-secondary group-hover:text-text-primary transition"},null,-1)),s("span",bs,c(_==null?void 0:_.name),1)],8,xs))),128))])):k("",!0)])}),128)),s("div",gs,[H(s("textarea",{disabled:!r(R)||!r(O),"onUpdate:modelValue":e[7]||(e[7]=l=>B.value=l),rows:"3",class:I([r(R)||r(O)?"cursor-text":"cursor-not-allowed","w-full p-3 bg-transparent outline-none text-sm"]),placeholder:"Write a comment"},null,10,_s),[[ae,B.value]]),s("div",ws,[s("input",{type:"file",multiple:"",onChange:at,class:"max-w-full text-ellipsis text-xs text-text-secondary file:mr-3 col-span-2 file:px-3 file:py-1.5 file:rounded-md file:border file:border-orchit-white/10 file:bg-orchit-white/10 hover:file:bg-orchit-white/15 file:text-text-primary transition inline w-fit"},null,32),h(le,{variant:"primary",class:"",size:"sm",onClick:lt,disabled:!B.value.trim()&&!A.value.length||!r(R)},{default:y(()=>[N(c(r(Ne)?"Posting…":"Post"),1)]),_:1},8,["disabled"])])])])):(n(),d("section",ys,[s("div",ks," Files attached to this "+c(((ge=T.details)==null?void 0:ge.type)??"item")+". ",1),s("div",Cs,[(n(!0),d(g,null,P(tt.value,l=>(n(),d("div",{key:l._id,class:"rounded-2xl overflow-hidden border border-orchit-white/10 bg-orchit-white/5 hover:bg-orchit-white/8 transition group"},[s("div",Ss,[l.kind==="image"?(n(),d("div",Es,[s("img",{src:l.url,class:"w-full h-40 object-cover group-hover:scale-[1.02] transition"},null,8,Ds)])):l.kind==="video"?(n(),d("div",Vs,[s("video",{src:l.url,controls:"",class:"w-full h-40 object-cover"},null,8,Us)])):(n(),d("div",Is,e[29]||(e[29]=[s("i",{class:"fa-regular fa-file text-3xl text-text-secondary"},null,-1)]))),s("div",Ps,[s("div",Ts,c(l.name),1),s("div",Ls,c(l.kind),1)])]),s("div",zs,[s("a",{href:l.url,target:"_blank",rel:"noopener",class:"w-full inline-flex items-center justify-center gap-2 h-9 rounded-lg bg-accent text-orchit-white text-sm hover:opacity-90 transition"},e[30]||(e[30]=[s("i",{class:"fa-regular fa-arrow-up-right-from-square"},null,-1),N(" View ")]),8,Bs)])]))),128))])]))]}),_:1})])],2),[[yt,T.showPanel]])]}),_:1}))}}),Ms=Et(js,[["__scopeId","data-v-2d2cfe2b"]]);export{Ms as default};
