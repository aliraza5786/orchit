import{d as S,r as x,J as M,c as o,b as N,e as $,w as l,g as z,o as u,h as t,l as f,j as D,k as r,m as I,_ as j,B as k,i,t as c}from"./index-hpIJpQCe.js";import{_ as A}from"./AuthLayout.vue_vue_type_script_setup_true_lang-DJqC5HUp.js";import{f as L}from"./auth-D7QeJIQ7.js";import"./favicon-BAFXWHLW.js";import"./Header-DFRdKH0J.js";import"./useTheme-jh1DIJ65.js";import"./dark-logo-Mcb_sJlF.js";const R={class:"max-w-[500px] md:mx-auto w-full text-text-primary bg-bg-body"},h={key:0},q={key:0,class:"text-red-500 text-sm text-center mt-2"},H={class:"text-center mt-6"},J={key:1,class:"text-center"},T={class:"text-sm text-text-secondary mb-8"},U={class:"text-text-primary"},W={class:"mt-8"},te=S({name:"ForgotPasswordPage",__name:"ForgotPassword",setup(G){const v=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,s=x(""),a=x(""),d=x(!1),n=M({email:!1}),p=o(()=>n.email?s.value.trim()?v.test(s.value)?"":"Invalid email":"Email is required":""),E=o(()=>!!p.value),y=o(()=>v.test(s.value)),{mutateAsync:B,isPending:g}=N({mutationFn:L}),P=o(()=>g.value||!y.value),F=o(()=>g.value?"Sending...":"Send reset instructions");function V(){a.value&&(a.value="")}async function b(){if(a.value="",n.email=!0,!y.value){a.value="Please enter a valid email address.";return}try{await B({u_email:s.value}),d.value=!0}catch(m){a.value=(m==null?void 0:m.message)||"Failed to send reset email. Please try again."}}function C(){d.value=!1,n.email=!1,b()}return(m,e)=>{const _=z("router-link");return u(),$(A,null,{form:l(()=>[t("div",R,[d.value?(u(),f("div",J,[e[9]||(e[9]=t("div",{class:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4"},[t("i",{class:"fa-solid fa-check text-green-600 text-2xl"})],-1)),e[10]||(e[10]=t("h2",{class:"text-2xl font-medium mb-4 text-text-primary"}," Check your email ",-1)),t("p",T,[e[5]||(e[5]=i(" We've sent password reset instructions to")),e[6]||(e[6]=t("br",null,null,-1)),t("strong",U,c(s.value),1)]),e[11]||(e[11]=t("p",{class:"text-sm text-text-secondary mb-6"}," Didn't receive the email? Check your spam folder or ",-1)),r(k,{size:"md",variant:"secondary",onClick:C},{default:l(()=>e[7]||(e[7]=[i(" Resend email ")])),_:1,__:[7]}),t("div",W,[r(_,{to:"/login",class:"text-sm text-text-secondary hover:text-text-primary"},{default:l(()=>e[8]||(e[8]=[t("i",{class:"fa-solid fa-arrow-left mr-2"},null,-1),i("Back to login ")])),_:1,__:[8]})])])):(u(),f("div",h,[e[3]||(e[3]=t("h2",{class:"text-[32px] font-medium mb-4 text-center text-text-primary"}," Forgot Password? ",-1)),e[4]||(e[4]=t("p",{class:"text-sm text-text-secondary text-center mb-8"}," Enter your email address and we'll send you instructions to reset your password. ",-1)),t("form",{onSubmit:D(b,["prevent"]),class:"space-y-4 w-full"},[r(j,{modelValue:s.value,"onUpdate:modelValue":[e[0]||(e[0]=w=>s.value=w),V],label:"Email",placeholder:"Email address",size:"lg",error:E.value,message:p.value,onBlur:e[1]||(e[1]=w=>n.email=!0)},null,8,["modelValue","error","message"]),r(k,{disabled:P.value,size:"lg",block:!0,type:"submit"},{default:l(()=>[i(c(F.value),1)]),_:1},8,["disabled"]),a.value?(u(),f("p",q,c(a.value),1)):I("",!0)],32),t("div",H,[r(_,{to:"/login",class:"text-sm text-text-secondary hover:text-text-primary"},{default:l(()=>e[2]||(e[2]=[t("i",{class:"fa-solid fa-arrow-left mr-2"},null,-1),i("Back to login ")])),_:1,__:[2]})])]))])]),_:1})}}});export{te as default};
