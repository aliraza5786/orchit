import{d as X,r as n,z as J,m as w,b as S,w as k,o as g,e as s,A as u,C as p,s as i,f as r,i as h,x as Q,D as Y,y as Z,E as ee,t as z,n as m,F as te,h as c,_ as se,G as B,j as O,B as j,k as A,l as oe,H as ae}from"./index-DKO9vpWs.js";import{_ as le}from"./AuthLayout.vue_vue_type_script_setup_true_lang-BnADCcIC.js";import{_ as ie}from"./BaseEmailChip.vue_vue_type_script_setup_true_lang-DiN4jgjX.js";import{u as ne,b as re}from"./auth-DYfvFjXU.js";import{u as ue}from"./workspace-OrqjaA3b.js";import"./favicon-BAFXWHLW.js";const me="/assets/team-CfslT0UO.svg",de="/assets/personal-use-BX8mpocf.svg",pe="/assets/school-0jN-fdE3.svg",ce={class:"max-w-[500px] md:mx-auto w-full"},ve={class:"mb-6 md:mb-12 space-y-2"},xe={class:"how_help_steps grid sm:grid-cols-3 gap-4"},ye=["value"],fe={class:"flex flex-col items-center"},ge=["src"],_e={class:"font-medium text-sm text-text-primary mt-4"},be={class:"text-[11px] text-text-secondary mt-2 text-center"},we={class:"space-y-2 mb-6 md:mb-12"},ke={class:"space-y-6"},Ce={class:"mb-6 md:mb-12 space-y-2"},Se={class:"space-y-6"},ze={class:"flex justify-between items-center mt-[40px] md:mt-[60px] lg:mt-[132px]"},Ie={class:"flex items-center gap-1"},Ve={class:"flex gap-4 items-center ml-auto"},Pe=X({name:"OnboardingFlow",__name:"CreateProfile",setup(he){const _=ue(),o=n({});function L(){const t={};return y.value.trim()||(t.team="Please enter your company name."),x.value||(t.role="Please select your role."),f.value||(t.companySize="Please select your company size."),o.value=t,Object.keys(t).length===0}const I=n(),{mutate:F,isPending:T}=ne({onSuccess:t=>{a.value=a.value+1,I.value=t==null?void 0:t._id}}),{mutate:$,isPending:N}=re({onSuccess:()=>{_.pricing?C.push("/dashboard?stripePayment=true"):_.workspace?C.push("/create-workspace"):C.push("/finish-profile")}}),C=oe(),{data:U}=J(),D=Object.freeze([{_id:"team",title:"For my team",description:"Collaborate on your docs and projects.",icon:me},{_id:"personal",title:"For personal use",description:"Write better. Think more clearly. Stay organised.",icon:de},{_id:"school",title:"For school",description:"Keep notes, research and tasks in one place.",icon:pe}]),R=Object.freeze([{title:"1 – 10",_id:"1–10"},{title:"11 – 50",_id:"11–50"},{title:"51 – 200",_id:"51–200"},{title:"201 – 500",_id:"201–500"},{title:"501 – 1,000",_id:"501–1000"},{title:"1,001 – 5,000",_id:"1001–5000"},{title:"5,001 – 10,000",_id:"5001–10000"},{title:"10,001+",_id:"10001+"}]),v=n("team"),a=n(1),x=n(""),y=n(""),f=n(""),d=n([]);function W(){const t={};return(!d.value.length||!d.value.some(e=>e&&e.trim()!==""))&&(t.emailList="Please add at least one email to invite."),o.value={...o.value,...t},Object.keys(t).length===0}function E(t){return t===v.value?"bg-accent/30 border-accent":"border-border"}function H(){a.value=Math.max(1,a.value-1)}function M(){if(a.value===2){if(!L())return;const t={title:y.value,type:v.value,role_id:x.value,company_size:f.value};F({payload:t});return}if(a.value===3){if(!W())return;$({payload:{company_id:I.value,emails:[...d.value]}});return}a.value=a.value+1}return w(y,t=>{t!=null&&t.trim()&&o.value.team&&(o.value.team=void 0)}),w(x,t=>{t&&o.value.role&&(o.value.role=void 0)}),w(f,t=>{t&&o.value.companySize&&(o.value.companySize=void 0)}),w(d,t=>{Array.isArray(t)&&t.some(e=>e&&e.trim()!=="")&&o.value.emailList&&(o.value.emailList=void 0)}),(t,e)=>{const q=A("FontAwesomeIcon"),G=A("router-link");return g(),S(le,{steps:["Purpose","About Company","Invite Team"],activeStep:a.value},{form:k(()=>[s("div",ce,[u(s("div",ve,[e[0]||(i(-1,!0),(e[0]=s("h2",{class:"text-[24px] lg:text-[32px] leading-[32px] lg:leading-[44px] font-medium text-text-primary"},[e[13]||(e[13]=r(" How will you use Orchit AI?"))])).cacheIndex=0,i(1),e[0]),e[1]||(i(-1,!0),(e[1]=s("p",{class:"text-[14px] md:text-base sm:text-nowrap font-medium text-text-secondary"},[e[14]||(e[14]=r(" This will help us personalize your experience in Orchit AI. "))])).cacheIndex=1,i(1),e[1])],512),[[p,a.value===1]]),u(s("div",xe,[(g(!0),h(te,null,Q(m(D),(l,Be,Oe,b)=>{const V=[v.value,l._id];if(b&&b.key===l._id&&Y(b,V))return b;const P=(g(),h("label",{key:l._id,class:Z(["border rounded-xl py-4 px-2.5 cursor-pointer transition-all aspect-square",E(l._id)])},[u(s("input",{type:"radio",class:"hidden","onUpdate:modelValue":e[2]||(e[2]=K=>v.value=K),value:l._id},null,8,ye),[[ee,v.value]]),s("div",fe,[s("img",{src:l.icon,class:"w-12 h-12"},null,8,ge),s("h3",_e,z(l.title),1),s("p",be,z(l.description),1)])],2));return P.memo=V,P},e,3),128))],512),[[p,a.value===1]]),u(s("div",we,[e[5]||(i(-1,!0),(e[5]=s("h2",{class:"text-[24px] lg:text-[32px] leading-[32px] lg:leading-[44px] font-medium text-text-primary"},[e[15]||(e[15]=r(" Tell us about your company"))])).cacheIndex=5,i(1),e[5]),e[6]||(i(-1,!0),(e[6]=s("p",{class:"text-[14px] md:text-base sm:text-nowrap font-medium text-text-secondary"},[e[16]||(e[16]=r(" This will help us personalize your experience in Orchit AI. "))])).cacheIndex=6,i(1),e[6])],512),[[p,a.value===2]]),u(s("div",ke,[c(se,{modelValue:y.value,"onUpdate:modelValue":e[7]||(e[7]=l=>y.value=l),label:"Company Name",placeholder:"Company name",size:"lg",error:!!o.value.team,message:o.value.team},null,8,["modelValue","error","message"]),c(B,{modelValue:x.value,"onUpdate:modelValue":e[8]||(e[8]=l=>x.value=l),label:"What role do you perform in your company?",options:m(U)||[],placeholder:"Select Role",size:"lg",error:!!o.value.role,message:o.value.role},null,8,["modelValue","options","error","message"]),c(B,{modelValue:f.value,"onUpdate:modelValue":e[9]||(e[9]=l=>f.value=l),label:"What’s your company size?",options:m(R),placeholder:"Select Company size",size:"lg",error:!!o.value.companySize,message:o.value.companySize},null,8,["modelValue","options","error","message"])],512),[[p,a.value===2]]),u(s("div",Ce,[e[10]||(i(-1,!0),(e[10]=s("h2",{class:"text-[24px] lg:text-[32px] leading-[32px] lg:leading-[44px] font-medium text-text-primary"},[e[17]||(e[17]=r(" Invite your team"))])).cacheIndex=10,i(1),e[10]),e[11]||(i(-1,!0),(e[11]=s("p",{class:"text-[14px] md:text-base sm:text-nowrap font-medium text-text-secondary"},[e[18]||(e[18]=r(" Invite your teammates to your first project. "))])).cacheIndex=11,i(1),e[11])],512),[[p,a.value===3]]),u(s("div",Se,[c(ie,{modelValue:d.value,"onUpdate:modelValue":e[12]||(e[12]=l=>d.value=l),error:!!o.value.emailList,message:o.value.emailList},null,8,["modelValue","error","message"])],512),[[p,a.value===3]]),s("div",ze,[a.value!=1?(g(),S(j,{key:0,variant:"secondary",size:"md",type:"button",onClick:H,disabled:a.value===1},{default:k(()=>[s("div",Ie,[c(q,{icon:["fas","arrow-left"]}),e[19]||(e[19]=r(" Back "))])]),_:1},8,["disabled"])):O("",!0),s("div",Ve,[a.value==3?(g(),S(G,{key:0,to:`${m(_).pricing?"/dashboard?stripePayment=true":m(_).workspace?"/create-workspace":"/finish-profile"}`},{default:k(()=>e[20]||(e[20]=[s("button",{class:"text-text-primary text-sm px-3 cursor-pointer"},"Skip",-1)])),_:1,__:[20]},8,["to"])):O("",!0),c(j,{size:"md",type:"submit",onClick:M},{default:k(()=>[r(z(m(T)||m(N)?"Continuing...":a.value==3?"Invite":"Continue"),1)]),_:1})])])]),e[21]||(e[21]=s("div",{class:"max-w-[500px] md:mx-auto w-full space-y-6"},null,-1))]),_:1},8,["activeStep"])}}}),Ne=ae(Pe,[["__scopeId","data-v-32b8aa84"]]);export{Ne as default};
