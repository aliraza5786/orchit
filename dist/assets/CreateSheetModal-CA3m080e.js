import{d as J,r as d,q as se,c as T,i as u,j as B,h as v,e as a,B as S,w,f as y,A as O,V as L,F as U,x as M,y as R,t as m,au as re,o as i,H as Q,a as le,W as ne,m as A,br as ie,ae as ce,b as ue,_ as H,n as E,S as de,p as pe}from"./index-BRH08Fos.js";import{a as me}from"./useOpenAIGeneration-DJmPISR9.js";const fe="/assets/a40c90e37b9e8e45317b9cba411ad897833a9d01-DSQSOdpz.jpg";function ge(N){try{const f=N.match(/```json\s*([\s\S]*?)\s*```|({[\s\S]*})/);if(f){const k=f[1]||f[2];return JSON.parse(k)}}catch(f){console.error("JSON parsing failed:",f)}return null}const ve=["home","user","cog","calendar","search","bell","check","times","plus","minus","trash","pencil","info","question","lock","unlock","star","heart","bookmark","camera","cloud","download","upload","eye","envelope","file","globe","key","map","power-off","edit","save","print","users","bars","mobile","tablet","laptop","desktop","clock","clipboard","flag","comment","comments","share-alt","github","twitter","facebook","linkedin","google","instagram","youtube","whatsapp","chat","cloud-upload","cloud-download","shield","trophy","wrench","tools","rocket","book","map-marker","location","wifi","battery-full","battery-half","battery-empty","volume-up","volume-down","volume-mute","signal","gift","car","truck","bicycle","plane","boat","heart-o","star-o","angle-left","angle-right","angle-double-left","angle-double-right","check-circle","times-circle","exclamation-circle","question-circle","info-circle","circle","circle-thin","square","square-o","circle-o","circle-check","circle-times","circle-info","circle-question","circle-exclamation","play","pause","stop","fast-forward","fast-backward","rewind","forward","backward","eject","volume-off","play-circle","pause-circle","stop-circle","fast-forward-circle","fast-backward-circle","rewind-circle","forward-circle","backward-circle","check-square","times-square","check-circle-o","times-circle-o","pause-circle-o","play-circle-o","search-minus","search-plus","map-pin","share","thumbs-up","thumbs-down","flag-checkered","flag-o","crosshairs","list-ul","list-ol","th-large","th","th-list","th-minus","th-plus","th-x","th-check","th-clock","calendar-minus","calendar-plus","calendar-check","calendar-alt","calendar-day","calendar-week","calendar-times","calendar-range","calendar-week-o","calendar-times-o","circle-thin-o","ellipsis-v","ellipsis-h","forward-fast","backward-fast","ban","lock-open","unlock-alt","lightbulb","eye-slash","clipboard-list","user-plus","user-times","user-lock","user-secret","user-edit","user-circle","user-alt","user-shield","users-cog","users-slash","user-minus","user-check","user-friends","users","user-group","people-carry","user-tag","user-md","user-nurse","user-astronaut","user-tie","user-graduate","user-clock","user-alt-slash","phone","phone-alt","phone-square","phone-square-alt","phone-volume","phone-call","phone-in","phone-out","comment-alt","comments-alt","comment-dots","comments-dots","comments-alt-regular","comment-alt-regular","comments-regular","user-regular","heart-regular","check-regular","times-regular","star-regular","info-regular","question-regular","home-regular","bell-regular","envelope-regular","envelope-open","power-off-regular","arrow-right","arrow-left","arrow-down","arrow-up","arrow-circle-left","arrow-circle-right","arrow-circle-up","arrow-circle-down","arrow-alt-left","arrow-alt-right","arrow-alt-up","arrow-alt-down","chevron-left","chevron-right","chevron-up","chevron-down","caret-left","caret-right","caret-up","caret-down"],he={key:0,class:"border border-dashed bg-bg-input border-border rounded-xl p-6 flex flex-col items-center text-center"},be={key:1,class:"mt-6"},xe={class:"grid gap-3 w-full"},ke=["onClick","aria-label","title"],_e={class:"max-w-[84px] text-[11px] text-text-secondary truncate"},we={key:0,class:"text-sm text-neutral-400"},ye={key:2,class:"mt-4 p-3 bg-bg-input rounded-lg flex items-center gap-2"},Ce={class:"min-w-0"},Ve={class:"font-medium truncate"},Se=120,Ne=J({__name:"IconPicker",props:{modelValue:{}},emits:["update:modelValue"],setup(N,{emit:f}){const k=f,$=d([]),g=d(!1),h=d(""),s=d(1),p=d(["fa"]);se(()=>{const l=ve.map(r=>{const c=`fa-${r}`;return{prefix:"fa",iconName:c,renderClasses:["fa-regular",c],label:r}});l.sort((r,c)=>r.iconName.localeCompare(c.iconName)),$.value=l});const C=T(()=>{const l=h.value.trim().toLowerCase();return $.value.filter(({label:r,iconName:c,prefix:n})=>p.value.includes(n)?l?r.includes(l)||c.includes(l):!0:!1)}),I=T(()=>C.value.slice(0,s.value*Se));function b(l){const r=l.target;r.scrollTop+r.clientHeight>=r.scrollHeight-24&&I.value.length<C.value.length&&(s.value+=1)}function V(l){l?k("update:modelValue",{prefix:l.renderClasses[0],iconName:l.iconName}):k("update:modelValue",null),g.value=!1}function j(){s.value=1,g.value=!g.value}return(l,r)=>{var c;return i(),u("div",null,[!g.value&&!((c=l.modelValue)!=null&&c.iconName)?(i(),u("div",he,[v(S,{variant:"primary",onClick:j},{default:w(()=>r[2]||(r[2]=[y("Select Icon")])),_:1,__:[2]}),r[3]||(r[3]=a("p",{class:"text-xs text-text-secondary mt-2"},"Browse PrimeIcons",-1))])):g.value?(i(),u("div",be,[a("div",xe,[O(a("input",{"onUpdate:modelValue":r[0]||(r[0]=n=>h.value=n),placeholder:"Search icons…",class:"px-3 py-2 rounded-lg border col-span-full border-border bg-bg-card text-sm placeholder-text-secondary focus:outline-none focus:ring-2 focus:ring-accent focus:border-border",type:"text"},null,512),[[L,h.value]]),a("div",{class:"grid gap-2 col-span-full grid-cols-[repeat(auto-fill,minmax(90px,1fr))] max-h-[360px] overflow-auto pr-1 rounded-lg border-border",onScroll:b},[(i(!0),u(U,null,M(I.value,n=>(i(),u("button",{key:n.prefix+n.iconName,type:"button",onClick:D=>V(n),"aria-label":`${n.prefix} ${n.iconName}`,title:`${n.prefix} ${n.iconName}`,class:"group grid place-items-center gap-1.5 p-2 bg-bg-body cursor-pointer border border-transparent rounded-lg text-text-secondary hover:border-border focus:outline-none focus:ring-2 focus:ring-accent"},[a("i",{class:R([n.renderClasses,"text-base"])},null,2),a("small",_e,m(n.iconName),1)],8,ke))),128))],32),C.value.length?B("",!0):(i(),u("p",we," No icons match “"+m(h.value)+"”. ",1))])])):B("",!0),l.modelValue?(i(),u("div",ye,[a("i",{class:R([[l.modelValue.prefix,l.modelValue.iconName],"text-xl"])},null,2),a("div",Ce,[a("p",Ve,m(l.modelValue.iconName),1)]),a("img",{src:re,onClick:r[1]||(r[1]=n=>V(null)),class:"ml-auto cursor-pointer",alt:"Clear icon"})])):B("",!0)])}}}),$e=Q(Ne,[["__scopeId","data-v-1ec65acb"]]),Ie={class:"flex justify-between items-start px-6 border-b border-border pb-4"},je={class:"text-xl font-semibold"},De={class:"px-6 py-4 space-y-6"},qe={key:0,class:"space-y-4"},Pe={class:"flex justify-end gap-2 pt-2"},Be={key:1,class:"space-y-4"},Ue={class:"grid grid-cols-1 sm:grid-cols-3 gap-3"},Me=["onClick"],Te={class:"flex justify-end gap-2 pt-2"},ze={key:2,class:"space-y-4"},Ae={class:"flex items-center gap-3"},Ee={class:"flex flex-wrap items-center gap-2 text-xs"},Oe=["onClick"],Le={key:0,class:"ml-1 opacity-70 bg-bg-surface rounded-full text-text-primary p-0.5 aspect-square w-4 h-4 text-[10px]"},Re={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"},Fe=["onClick"],Ge={class:"p-3 py-4"},He={class:"text-base font-medium text-text-primary"},Je={class:"text-sm text-[#2B2C30B2] mt-1 line-clamp-1"},Qe={class:"flex justify-end gap-2 pt-2"},We=J({__name:"CreateSheetModal",props:{modelValue:{type:Boolean},sheet:{}},emits:["update:modelValue","submit:manual","submit:ai","submit:template"],setup(N,{emit:f}){const k=pe(),$=le(),{workspaceId:g,moduleId:h}=ne(),s=d({title:"",description:"",icon:null}),p=d({});function C(){var t,x;const e={};return(t=s.value.title)!=null&&t.trim()||(e.title="Please enter a sheet name."),(x=s.value.description)!=null&&x.trim()||(e.description="Please enter a description."),p.value=e,Object.keys(e).length===0}function I(){var e,t;C()&&((e=c.sheet)!=null&&e._id?l({sheet_id:(t=c.sheet)==null?void 0:t._id,icon:s.value.icon,variables:{"sheet-title":s.value.title,"sheet-description":s.value.description},is_ai_generated:!1,workspace_id:g.value,workspace_module_id:h.value}):V({icon:s.value.icon,variables:{"sheet-title":s.value.title,"sheet-description":s.value.description},is_ai_generated:!1,workspace_id:g.value,workspace_module_id:h.value}))}A(()=>s.value.title,e=>{e!=null&&e.trim()&&p.value.title&&(p.value.title=void 0)}),A(()=>s.value.description,e=>{e!=null&&e.trim()&&p.value.description&&(p.value.description=void 0)});function b(){s.value={title:"",description:"",icon:null},p.value={},D.value=!1}const{mutate:V,isPending:j}=ie({onSuccess:()=>{$.invalidateQueries({queryKey:["sheets"]}),b()}}),{mutate:l,isPending:r}=ce({onSuccess:()=>{b()}}),c=N;A(c,()=>{c.sheet&&(s.value=c.sheet)});const n=f,D=T({get:()=>c.modelValue,set:e=>n("update:modelValue",e)}),F=d("manual"),z=d(""),W=["Generate a task board for an Uber-like app with columns for development, testing, and deployment.","Create a product board for an e-commerce platform with vendor, inventory, and customer sections.","Design a project board for a Notion-like tool with team collaboration features."],{mutate:K}=me({onSuccess:e=>{const t=ge(e);V({sheets:[{...t,is_ai_generated:!1}],workspace_id:k.params.id,workspace_module:"product"})},onError:e=>{console.error("Error generating AI data:",e)}});function X(){K("i need response in below json format { title:string , description:string , icon:{prefix : string from fas || far || fab , iconName:string from fontawsome free regular icons}} ")}const Y=d([{id:"concept",title:"Product Concept",subtitle:"Early‑stage product or feature ideas.",cover:"/covers/concept.jpg",tags:["Experience Design","Development"]},{id:"inspo",title:"Design Inspiration",subtitle:"UI/UX samples and creative references.",cover:"/covers/inspo.jpg",tags:["Experience Design"]},{id:"launch",title:"Launch Prep",subtitle:"Tasks and assets for go‑live.",cover:"/covers/launch.jpg",tags:["Project Management","Marketing"]}]),q=d(""),Z=d([{name:"Experience Design",count:24},{name:"Development",count:6},{name:"Marketing",count:5},{name:"Project Management",count:6}]),_=d(new Set);function ee(e){_.value.has(e)?_.value.delete(e):_.value.add(e)}const te=T(()=>Y.value.filter(e=>(!q.value||e.title.toLowerCase().includes(q.value.toLowerCase()))&&(_.value.size===0||e.tags.some(t=>_.value.has(t))))),P=d(null);function ae(e){P.value=e}function oe(){P.value&&n("submit:template",{id:P.value.id})}return(e,t)=>(i(),ue(de,{modelValue:D.value,"onUpdate:modelValue":t[5]||(t[5]=x=>D.value=x),size:"lg"},{default:w(()=>{var x;return[a("div",Ie,[a("h2",je,m((x=e.sheet)!=null&&x._id?"Update sheet ":"Add a new Sheet"),1)]),a("div",De,[F.value==="manual"?(i(),u("section",qe,[v($e,{modelValue:s.value.icon,"onUpdate:modelValue":t[0]||(t[0]=o=>s.value.icon=o)},null,8,["modelValue"]),v(H,{modelValue:s.value.title,"onUpdate:modelValue":t[1]||(t[1]=o=>s.value.title=o),label:"Sheet name",size:"lg",placeholder:"Design Ideas",error:!!p.value.title,message:p.value.title},null,8,["modelValue","error","message"]),v(H,{modelValue:s.value.description,"onUpdate:modelValue":t[2]||(t[2]=o=>s.value.description=o),label:"Description",size:"lg",placeholder:"a small description",textarea:"",error:!!p.value.description,message:p.value.description},null,8,["modelValue","error","message"]),a("div",Pe,[a("button",{class:"px-4 py-2 rounded-md text-sm text-text-secondary border",onClick:b},"Cancel"),v(S,{class:"px-4",onClick:I},{default:w(()=>[y(m(E(j)||E(r)?"Saving...":"Save"),1)]),_:1})])])):F.value==="ai"?(i(),u("section",Be,[O(a("textarea",{"onUpdate:modelValue":t[3]||(t[3]=o=>z.value=o),rows:"6",class:"w-full rounded-lg p-3 text-sm min-h-[186px] outline-none border-border border bg-bg-input",placeholder:"Generate a project management board for a software development team with tasks categorized as 'Backlog', 'In Progress', 'Review', and 'Done'."},null,512),[[L,z.value]]),t[7]||(t[7]=a("div",{class:"text-center text-xs text-text-secondary -500"},"Or try these examples:",-1)),a("div",Ue,[(i(),u(U,null,M(W,o=>a("button",{key:o,class:"text-left border border-border hover:border-accent bg-bg-body text-text-primary rounded-xl p-3 text-sm hover:bg-gray-50",onClick:G=>z.value=o},"“"+m(o)+"”",9,Me)),64))]),a("div",Te,[a("button",{class:"px-4 py-2 rounded-md text-sm text-text-secondary border",onClick:b},"Cancel"),v(S,{class:"px-4",onClick:X},{default:w(()=>t[6]||(t[6]=[y("Add board")])),_:1,__:[6]})])])):(i(),u("section",ze,[a("div",Ae,[O(a("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>q.value=o),class:"flex-1 border rounded-lg p-2 text-sm border-border D6D7DA]",placeholder:"Search"},null,512),[[L,q.value]])]),a("div",Ee,[(i(!0),u(U,null,M(Z.value,o=>(i(),u("button",{key:o.name,class:R(["px-3.5 py-1.5 rounded-md flex",_.value.has(o.name)?"bg-black text-white ":" bg-bg-body cursor-pointer text-text-secondary -700"]),onClick:G=>ee(o.name)},[y(m(o.name),1),o.count?(i(),u("div",Le,m(o.count),1)):B("",!0)],10,Oe))),128))]),a("div",Re,[(i(!0),u(U,null,M(te.value,o=>(i(),u("button",{key:o.id,class:"border border-border 2B2C3026] rounded-xl overflow-hidden text-left hover:shadow-sm",onClick:G=>ae(o)},[t[8]||(t[8]=a("img",{src:fe,class:"w-full h-36 object-cover"},null,-1)),a("div",Ge,[a("div",He,m(o.title),1),a("div",Je,m(o.subtitle),1)])],8,Fe))),128))]),a("div",Qe,[v(S,{variant:"secondary",onClick:b},{default:w(()=>t[9]||(t[9]=[y("Cancel")])),_:1,__:[9]}),v(S,{varaint:"primary",class:"px-4",disabled:!P.value,onClick:oe},{default:w(()=>[y(m(E(j)?"Adding...":"Add board"),1)]),_:1},8,["disabled"])])]))])]}),_:1},8,["modelValue"]))}}),Ye=Q(We,[["__scopeId","data-v-fa50ece0"]]);export{Ye as default};
