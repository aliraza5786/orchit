import{x as R,b5 as L,bs as T,bi as F,b9 as $,ba as B,aQ as S,aj as N,c as k,b7 as p,C as Q,i as z}from"./index-DsMiglFN.js";function D(e){return $()?(B(e),!0):!1}const W=new WeakMap,G=(...e)=>{var n;const u=e[0],r=(n=L())==null?void 0:n.proxy;if(r==null&&!T())throw new Error("injectLocal must be called in setup");return r&&W.has(r)&&u in W.get(r)?W.get(r)[u]:F(...e)},x=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const V=Object.prototype.toString,H=e=>V.call(e)==="[object Object]",b=()=>{},J=K();function K(){var e,n;return x&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((n=window==null?void 0:window.navigator)==null?void 0:n.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function O(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function A(e){return Array.isArray(e)?e:[e]}function U(e,n,u){return R(e,n,{...u,immediate:!0})}const P=x?window:void 0;function g(e){var n;const u=p(e);return(n=u==null?void 0:u.$el)!=null?n:u}function E(...e){const n=[],u=()=>{n.forEach(s=>s()),n.length=0},r=(s,o,l,a)=>(s.addEventListener(o,l,a),()=>s.removeEventListener(o,l,a)),f=k(()=>{const s=A(p(e[0])).filter(o=>o!=null);return s.every(o=>typeof o!="string")?s:void 0}),w=U(()=>{var s,o;return[(o=(s=f.value)==null?void 0:s.map(l=>g(l)))!=null?o:[P].filter(l=>l!=null),A(p(f.value?e[1]:e[0])),A(z(f.value?e[2]:e[1])),p(f.value?e[3]:e[2])]},([s,o,l,a])=>{if(u(),!(s!=null&&s.length)||!(o!=null&&o.length)||!(l!=null&&l.length))return;const y=H(a)?{...a}:a;n.push(...s.flatMap(h=>o.flatMap(m=>l.map(d=>r(h,m,d,y)))))},{flush:"post"}),v=()=>{w(),u()};return D(u),v}let C=!1;function ee(e,n,u={}){const{window:r=P,ignore:f=[],capture:w=!0,detectIframe:v=!1,controls:s=!1}=u;if(!r)return s?{stop:b,cancel:b,trigger:b}:b;if(J&&!C){C=!0;const t={passive:!0};Array.from(r.document.body.children).forEach(i=>i.addEventListener("click",b,t)),r.document.documentElement.addEventListener("click",b,t)}let o=!0;const l=t=>p(f).some(i=>{if(typeof i=="string")return Array.from(r.document.querySelectorAll(i)).some(c=>c===t.target||t.composedPath().includes(c));{const c=g(i);return c&&(t.target===c||t.composedPath().includes(c))}});function a(t){const i=p(t);return i&&i.$.subTree.shapeFlag===16}function y(t,i){const c=p(t),M=c.$.subTree&&c.$.subTree.children;return M==null||!Array.isArray(M)?!1:M.some(I=>I.el===i.target||i.composedPath().includes(I.el))}const h=t=>{const i=g(e);if(t.target!=null&&!(!(i instanceof Element)&&a(e)&&y(e,t))&&!(!i||i===t.target||t.composedPath().includes(i))){if("detail"in t&&t.detail===0&&(o=!l(t)),!o){o=!0;return}n(t)}};let m=!1;const d=[E(r,"click",t=>{m||(m=!0,setTimeout(()=>{m=!1},0),h(t))},{passive:!0,capture:w}),E(r,"pointerdown",t=>{const i=g(e);o=!l(t)&&!!(i&&!t.composedPath().includes(i))},{passive:!0}),v&&E(r,"blur",t=>{setTimeout(()=>{var i;const c=g(e);((i=r.document.activeElement)==null?void 0:i.tagName)==="IFRAME"&&!(c!=null&&c.contains(r.document.activeElement))&&n(t)},0)},{passive:!0})].filter(Boolean),j=()=>d.forEach(t=>t());return s?{stop:j,cancel:()=>{o=!1},trigger:t=>{o=!0,h(t),o=!1}}:j}function X(){const e=S(!1),n=L();return n&&Q(()=>{e.value=!0},n),e}function Y(e){const n=X();return k(()=>(n.value,!!e()))}const Z=Symbol("vueuse-ssr-width");function _(){const e=T()?G(Z,null):null;return typeof e=="number"?e:void 0}function te(e,n={}){const{window:u=P,ssrWidth:r=_()}=n,f=Y(()=>u&&"matchMedia"in u&&typeof u.matchMedia=="function"),w=S(typeof r=="number"),v=S(),s=S(!1),o=l=>{s.value=l.matches};return N(()=>{if(w.value){w.value=!f.value;const l=p(e).split(",");s.value=l.some(a=>{const y=a.includes("not all"),h=a.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),m=a.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let d=!!(h||m);return h&&d&&(d=r>=O(h[1])),m&&d&&(d=r<=O(m[1])),y?!d:d});return}f.value&&(v.value=u.matchMedia(p(e)),s.value=v.value.matches)}),E(v,"change",o,{passive:!0}),k(()=>s.value)}export{ee as o,te as u};
