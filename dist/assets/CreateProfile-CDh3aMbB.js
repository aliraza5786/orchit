import{d as Q,u as X,r as n,a as Y,E as Z,q as w,e as I,w as k,o as g,f as s,G as u,H as p,s as i,g as r,j as A,A as ee,I as te,C as se,J as oe,t as z,v as m,F as ae,i as c,_ as le,K as L,k as B,B as O,l as j,p as ie,L as ne}from"./index-DFBiQQO5.js";import{_ as re}from"./AuthLayout.vue_vue_type_script_setup_true_lang-CVXHbV5B.js";import{_ as ue}from"./BaseEmailChip.vue_vue_type_script_setup_true_lang-B9Ic-6Cs.js";import{u as me,b as de}from"./auth-Dg69sQeT.js";import"./favicon-BAFXWHLW.js";import"./dark-logo-Mcb_sJlF.js";const pe="/assets/team-D4tebHDd.svg",ce="/assets/personal-use-Cfq5KW_M.svg",ve="/assets/school-QAfNAmXy.svg",xe={class:"max-w-[500px] md:mx-auto w-full"},ye={class:"mb-6 md:mb-12 space-y-2"},fe={class:"how_help_steps grid sm:grid-cols-3 gap-4"},ge=["value"],_e={class:"flex flex-col items-center"},be=["src"],we={class:"font-medium text-sm text-text-primary mt-4"},ke={class:"text-[11px] text-text-secondary mt-2 text-center"},Se={class:"space-y-2 mb-6 md:mb-12"},Ce={class:"space-y-6"},Ie={class:"mb-6 md:mb-12 space-y-2"},ze={class:"space-y-6"},Ve={class:"flex justify-between items-center mt-[40px] md:mt-[60px] lg:mt-[132px]"},he={class:"flex items-center gap-1"},Pe={class:"flex gap-4 items-center ml-auto"},Ae=Q({name:"OnboardingFlow",__name:"CreateProfile",setup(Le){const _=X(),o=n({}),S=Y();function F(){const t={};return y.value.trim()||(t.team="Please enter your company name."),x.value||(t.role="Please select your role."),f.value||(t.companySize="Please select your company size."),o.value=t,Object.keys(t).length===0}const V=n(),{mutate:T,isPending:$}=me({onSuccess:t=>{a.value=a.value+1,V.value=t==null?void 0:t._id}}),{mutate:N,isPending:D}=de({onSuccess:async()=>{_.pricing?(await S.bootstrap(),C.push("/dashboard?stripePayment=true")):_.workspace?(await S.bootstrap(),C.push("/create-workspace")):(await S.bootstrap(),C.push("/finish-profile"))}}),C=ie(),{data:U}=Z(),W=Object.freeze([{_id:"team",title:"For my team",description:"Collaborate on your docs and projects.",icon:pe},{_id:"personal",title:"For personal use",description:"Write better. Think more clearly. Stay organised.",icon:ce},{_id:"school",title:"For school",description:"Keep notes, research and tasks in one place.",icon:ve}]),H=Object.freeze([{title:"1 – 10",_id:"1–10"},{title:"11 – 50",_id:"11–50"},{title:"51 – 200",_id:"51–200"},{title:"201 – 500",_id:"201–500"},{title:"501 – 1,000",_id:"501–1000"},{title:"1,001 – 5,000",_id:"1001–5000"},{title:"5,001 – 10,000",_id:"5001–10000"},{title:"10,001+",_id:"10001+"}]),v=n("team"),a=n(1),x=n(""),y=n(""),f=n(""),d=n([]);function M(){const t={};return(!d.value.length||!d.value.some(e=>e&&e.trim()!==""))&&(t.emailList="Please add at least one email to invite."),o.value={...o.value,...t},Object.keys(t).length===0}function R(t){return t===v.value?"bg-accent/30 border-accent":"border-border"}function q(){a.value=Math.max(1,a.value-1)}function K(){if(a.value===2){if(!F())return;const t={title:y.value,type:v.value,role_id:x.value,company_size:f.value};T({payload:t});return}if(a.value===3){if(!M())return;N({payload:{company_id:V.value,emails:[...d.value]}});return}a.value=a.value+1}return w(y,t=>{t!=null&&t.trim()&&o.value.team&&(o.value.team=void 0)}),w(x,t=>{t&&o.value.role&&(o.value.role=void 0)}),w(f,t=>{t&&o.value.companySize&&(o.value.companySize=void 0)}),w(d,t=>{Array.isArray(t)&&t.some(e=>e&&e.trim()!=="")&&o.value.emailList&&(o.value.emailList=void 0)}),(t,e)=>{const E=j("FontAwesomeIcon"),G=j("router-link");return g(),I(re,{steps:["Purpose","About Company","Invite Team"],activeStep:a.value},{form:k(()=>[s("div",xe,[u(s("div",ye,[e[0]||(i(-1,!0),(e[0]=s("h2",{class:"text-[24px] lg:text-[32px] leading-[32px] lg:leading-[44px] font-medium text-text-primary"},[e[13]||(e[13]=r(" How will you use Orchit AI?"))])).cacheIndex=0,i(1),e[0]),e[1]||(i(-1,!0),(e[1]=s("p",{class:"text-[14px] md:text-base sm:text-nowrap font-medium text-text-secondary"},[e[14]||(e[14]=r(" This will help us personalize your experience in Orchit AI. "))])).cacheIndex=1,i(1),e[1])],512),[[p,a.value===1]]),u(s("div",fe,[(g(!0),A(ae,null,ee(m(W),(l,Be,Oe,b)=>{const h=[v.value,l._id];if(b&&b.key===l._id&&te(b,h))return b;const P=(g(),A("label",{key:l._id,class:se(["border rounded-xl py-4 px-2.5 cursor-pointer transition-all sm:aspect-square",R(l._id)])},[u(s("input",{type:"radio",class:"hidden","onUpdate:modelValue":e[2]||(e[2]=J=>v.value=J),value:l._id},null,8,ge),[[oe,v.value]]),s("div",_e,[s("img",{src:l.icon,class:"w-12 h-12"},null,8,be),s("h3",we,z(l.title),1),s("p",ke,z(l.description),1)])],2));return P.memo=h,P},e,3),128))],512),[[p,a.value===1]]),u(s("div",Se,[e[5]||(i(-1,!0),(e[5]=s("h2",{class:"text-[24px] lg:text-[32px] leading-[32px] lg:leading-[44px] font-medium text-text-primary"},[e[15]||(e[15]=r(" Tell us about your company"))])).cacheIndex=5,i(1),e[5]),e[6]||(i(-1,!0),(e[6]=s("p",{class:"text-[14px] md:text-base sm:text-nowrap font-medium text-text-secondary"},[e[16]||(e[16]=r(" This will help us personalize your experience in Orchit AI. "))])).cacheIndex=6,i(1),e[6])],512),[[p,a.value===2]]),u(s("div",Ce,[c(le,{modelValue:y.value,"onUpdate:modelValue":e[7]||(e[7]=l=>y.value=l),label:"Company Name",placeholder:"Company name",size:"lg",error:!!o.value.team,message:o.value.team},null,8,["modelValue","error","message"]),c(L,{modelValue:x.value,"onUpdate:modelValue":e[8]||(e[8]=l=>x.value=l),label:"What role do you perform in your company?",options:m(U)||[],placeholder:"Select Role",size:"lg",error:!!o.value.role,message:o.value.role},null,8,["modelValue","options","error","message"]),c(L,{modelValue:f.value,"onUpdate:modelValue":e[9]||(e[9]=l=>f.value=l),label:"What’s your company size?",options:m(H),placeholder:"Select Company size",size:"lg",error:!!o.value.companySize,message:o.value.companySize},null,8,["modelValue","options","error","message"])],512),[[p,a.value===2]]),u(s("div",Ie,[e[10]||(i(-1,!0),(e[10]=s("h2",{class:"text-[24px] lg:text-[32px] leading-[32px] lg:leading-[44px] font-medium text-text-primary"},[e[17]||(e[17]=r(" Invite your team"))])).cacheIndex=10,i(1),e[10]),e[11]||(i(-1,!0),(e[11]=s("p",{class:"text-[14px] md:text-base sm:text-nowrap font-medium text-text-secondary"},[e[18]||(e[18]=r(" Invite your teammates to your first project. "))])).cacheIndex=11,i(1),e[11])],512),[[p,a.value===3]]),u(s("div",ze,[c(ue,{modelValue:d.value,"onUpdate:modelValue":e[12]||(e[12]=l=>d.value=l),error:!!o.value.emailList,message:o.value.emailList},null,8,["modelValue","error","message"])],512),[[p,a.value===3]]),s("div",Ve,[a.value!=1?(g(),I(O,{key:0,variant:"secondary",size:"md",type:"button",onClick:q,disabled:a.value===1},{default:k(()=>[s("div",he,[c(E,{icon:["fas","arrow-left"]}),e[19]||(e[19]=r(" Back "))])]),_:1},8,["disabled"])):B("",!0),s("div",Pe,[a.value==3?(g(),I(G,{key:0,to:`${m(_).pricing?"/dashboard?stripePayment=true":m(_).workspace?"/create-workspace":"/finish-profile"}`},{default:k(()=>e[20]||(e[20]=[s("button",{class:"text-text-primary text-sm px-3 cursor-pointer"},"Skip",-1)])),_:1,__:[20]},8,["to"])):B("",!0),c(O,{size:"md",type:"submit",onClick:K},{default:k(()=>[r(z(m($)||m(D)?"Continuing...":a.value==3?"Invite":"Continue"),1)]),_:1})])])]),e[21]||(e[21]=s("div",{class:"max-w-[500px] md:mx-auto w-full space-y-6"},null,-1))]),_:1},8,["activeStep"])}}}),Ue=ne(Ae,[["__scopeId","data-v-4dcdef03"]]);export{Ue as default};
