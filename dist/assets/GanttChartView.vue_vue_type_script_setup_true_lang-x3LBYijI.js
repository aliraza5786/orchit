import{d as Ke,K as Ln,n as kt,r as Z,c as te,j as I,f as L,F as ge,y as Te,k as Ve,h as lt,g as tn,o as N,ad as we,t as ce,D as yr,L as er,P as Er,e as wr,b0 as ua,ak as Sr,ah as _t,v as Ys,aw as qs,z as Qs,ae as nn,az as Cr,V as fa,M as ha,aS as pa,p as xt,ai as _i,Q as Ri,i as Be,J as ga,w as Ti,l as Pn}from"./index-tfagm7Um.js";const ma={class:"px-4"},va={class:"kanban-table space-y-4 h-[85vh] mt-4 overflow-y-auto overflow-x-auto"},ba={class:"w-full table-fixed border-collapse rounded-[6px] shadow-sm bg-bg-body/20 text-sm border border-border/60"},ya={class:"bg-bg-surface border-b border-border sticky top-[-1px] z-10"},Ea={class:"text-text-secondary"},wa=["onMousedown"],Sa={class:"w-10 p-2 text-center relative"},Ca={class:"relative inline-block"},Aa={key:0,class:"column-menu absolute w-[200px] -right-1 bg-bg-dropdown border border-border rounded shadow z-50"},xa=["checked","onChange"],Da={class:"bg-bg-surface/20"},_a=["colspan"],Ra=["onClick"],Ta=["colspan"],Ma=["onMouseenter"],ka=["colspan"],Na=["onUpdate:modelValue","onBlur"],Ia=["colspan"],u0=Ke({__name:"TableView",props:{columns:{},rows:{},isPending:{type:Boolean},canCreate:{type:Boolean,default:!0},canCreateVariable:{type:Boolean,default:!0}},emits:["update:rows","create","toggleVisibility","addVar"],setup(t,{emit:e}){const n=t,r=e,i=Ln(n.rows||[]);kt(()=>n.rows,E=>{E&&i.splice(0,i.length,...E)});const s=Ln({id:null,field:""}),o=Z(null),l=Z(null),a=te(()=>i.some(E=>s.id===E.id&&!E[s.field])),d=(E,C)=>{s.id=E.id,s.field=C,Sr(()=>{var D;return(D=l.value)==null?void 0:D.focus()})},c=()=>{s.id=null,s.field=""},f=E=>{var C;if(!((C=E[s.field])!=null&&C.trim())){const D=i.findIndex(z=>z.id===E.id);D!==-1&&i.splice(D,1)}c(),r("update:rows",i.slice()),r("create",E)},u=E=>{var D;const C={id:Date.now()};n.columns.forEach(z=>C[z.key]=""),i.splice(E,0,C),d(C,((D=n.columns[0])==null?void 0:D.key)||""),o.value=null,r("update:rows",i.slice())};function h(E,C){if(!(!E||!C))return C.includes(".")?C.split(".").reduce((D,z)=>D==null?D:D[z],E):E[C]}function v(E,C){return C!=null&&C.accessor?C.accessor(E):h(E,C.key)}const p=E=>{var D;const C=v(E.row,E.column);return(D=E.column)!=null&&D.render?E.column.render({row:E==null?void 0:E.row,column:E==null?void 0:E.column,value:C,index:E==null?void 0:E.index}):_t("span",String(C??""))},g=Ln({});kt(()=>n.columns,E=>{E.forEach((C,D)=>{D==0?g[C.key]=250:g[C.key]||(g[C.key]=150)})},{immediate:!0});let b=null,w=0,A=0;const x=(E,C)=>{b=C,w=E.clientX,A=g[C],document.addEventListener("mousemove",_),document.addEventListener("mouseup",R)},_=E=>{if(!b)return;const C=E.clientX-w,D=Math.max(80,A+C);g[b]=D},R=()=>{b=null,document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",R)};document.addEventListener("click",E=>{E.target.closest(".column-menu")||(B.value=!1)});const O=Z(n.columns.filter(E=>E.visible??!0).map(E=>E.key)),T=te(()=>n.columns.filter(E=>O.value.includes(E.key))),B=Z(!1);document.addEventListener("click",E=>{E.target.closest(".column-menu")||(B.value=!1)});const K=E=>{const C=O.value.indexOf(E);C===-1?(r("toggleVisibility",E,!0),O.value.push(E)):(r("toggleVisibility",E,!1),O.value.splice(C,1))},S=te(()=>1+T.value.length+1);return(E,C)=>(N(),I("div",ma,[L("div",va,[L("table",ba,[L("thead",ya,[L("tr",Ea,[C[8]||(C[8]=L("th",{class:"w-2 p-0"},null,-1)),(N(!0),I(ge,null,Te(T.value,D=>(N(),I("th",{key:D==null?void 0:D.key,class:"relative font-bold p-2 uppercase text-left text-[11px] tracking-wide border-r border-border/40 select-none whitespace-nowrap min-w-[200px]",style:we({width:g[D.key]?g[D.key]+"px":"100%"})},[L("span",null,ce(D==null?void 0:D.label),1),L("div",{class:"absolute right-0 top-0 h-full w-2 cursor-col-resize z-30 hover:bg-accent/20 active:bg-accent/40 transition",onMousedown:z=>x(z,D.key)},null,40,wa)],4))),128)),L("th",Sa,[L("div",Ca,[L("button",{onClick:C[0]||(C[0]=lt(D=>B.value=!B.value,["stop"])),class:"p-1 rounded hover:bg-bg-surface/50 cursor-pointer"},C[6]||(C[6]=[L("i",{class:"fa-regular fa-columns-3"},null,-1)])),B.value?(N(),I("div",Aa,[(N(!0),I(ge,null,Te(n.columns,D=>(N(),I("div",{key:"toggle-"+D.key,class:"flex items-center space-x-2 px-3 py-1.5 capitalize font-medium cursor-pointer hover:bg-bg-dropdown-menu-hover text-[12px] text-text-primary gap-2"},[L("input",{type:"checkbox",checked:O.value.includes(D.key),onChange:z=>K(D.key),class:"h-4 w-4 mt-0.5 rounded border-border accent-accent cursor-pointer flex-shrink-0"},null,40,xa),L("span",null,ce(D.label),1)]))),128)),E.canCreateVariable?(N(),I("div",{key:0,onClick:C[1]||(C[1]=D=>r("addVar")),class:"sticky bottom-0 bg-bg-dropdown shadow-md mt-2 shadow-border capitalize border-t border-border px-4 py-2 hover:bg-bg-dropdown-menu-hover cursor-pointer flex items-center gap-1 overflow-hidden overflow-ellipsis text-nowrap"},C[7]||(C[7]=[L("i",{class:"fa-solid fa-plus"},null,-1),tn(" Add new ")]))):Ve("",!0)])):Ve("",!0)])])])]),L("tbody",Da,[E.isPending?(N(),I(ge,{key:0},Te(5,D=>L("tr",{key:"sk-"+D,class:"border-b border-border animate-pulse"},[C[10]||(C[10]=L("td",null,[L("div",{class:"w-4 h-4 bg-bg-surface rounded"})],-1)),(N(!0),I(ge,null,Te(E.columns,(z,$)=>(N(),I("td",{key:z.key,class:"border-r border-border h-8",style:we({width:g[z.key]+"px"}),colspan:$===T.value.length-1?2:1},C[9]||(C[9]=[L("div",{class:"w-full h-4 bg-bg-surface rounded"},null,-1)]),12,_a))),128))])),64)):(N(!0),I(ge,{key:1},Te(i,(D,z)=>{var $;return N(),I(ge,{key:D==null?void 0:D.id},[o.value===z&&!a.value?(N(),I("tr",{key:0,class:"relative bg-bg-surface/20 transition-all cursor-pointer border border-accent",onMouseleave:C[2]||(C[2]=H=>o.value=null)},[L("td",{class:"!p-0 w-8",onClick:H=>u(z)},C[11]||(C[11]=[L("span",{class:"absolute left-[-6px] top-[-14px] bg-bg-surface border border-border w-6 h-6 text-sm rounded-md flex justify-center items-center shadow-sm hover:bg-bg-surface/70"},"+",-1)]),8,Ra),L("td",{class:"!p-0",colspan:($=E.columns)==null?void 0:$.length},null,8,Ta)],32)):Ve("",!0),L("tr",{onMouseenter:H=>o.value=z,class:"border-b border-border hover:bg-bg-surface/40 transition-colors"},[C[12]||(C[12]=L("td",null,null,-1)),(N(!0),I(ge,null,Te(T.value,(H,he)=>(N(),I("td",{key:H==null?void 0:H.key,class:"border-r border-border overflow-visible relative h-8",style:we({width:g[H.key]+"px"}),colspan:he===T.value.length-1?2:1},[(s==null?void 0:s.id)===(D==null?void 0:D.id)&&(s==null?void 0:s.field)===(H==null?void 0:H.key)?yr((N(),I("input",{key:0,"onUpdate:modelValue":pe=>D[H==null?void 0:H.key]=pe,onBlur:pe=>f(D),class:"min-w-[200px] w-full p-1 border border-accent/60 rounded-sm focus:outline-none focus:ring-1 focus:ring-accent bg-bg-body text-[12px] h-8",ref_for:!0,ref:pe=>pe&&(s==null?void 0:s.id)===(D==null?void 0:D.id)&&(s==null?void 0:s.field)===(H==null?void 0:H.key)&&(l.value=pe)},null,40,Na)),[[Er,D[H==null?void 0:H.key]]]):er(E.$slots,H.key,{key:2,row:D,column:H,index:`r-${D._id}`},()=>[(N(),wr(ua(p),{row:D,column:H,index:D._id},null,8,["row","column","index"]))])],12,ka))),128))],40,Ma)],64)}),128)),!a.value&&E.canCreate?(N(),I("tr",{key:2,onClick:C[3]||(C[3]=D=>u(i==null?void 0:i.length)),class:"sticky bottom-0 bg-bg-surface border-t border-border cursor-pointer transition hover:bg-bg-body",onMouseenter:C[4]||(C[4]=D=>o.value=i==null?void 0:i.length),onMouseleave:C[5]||(C[5]=D=>o.value=null)},[L("td",{colspan:S.value,class:"text-text-secondary h-8 px-3"},C[13]||(C[13]=[L("span",{class:"inline-flex w-5 h-5 border border-border-input rounded-full justify-center items-center text-secondary hover:bg-bg-surface/50 transition pb-0.5"},"+",-1),tn(" Add New Row ")]),8,Ia)],32)):Ve("",!0)])])])]))}});(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".mind-elixir{--gap: 30px;--root-radius: 30px;--main-radius: 20px;--root-color: #ffffff;--root-bgcolor: #4c4f69;--main-color: #444446;--main-bgcolor: #ffffff;--topic-padding: 3px;--color: #777777;--bgcolor: #f6f6f6;--selected: #4dc4ff;--panel-color: #444446;--panel-bgcolor: #ffffff;--panel-border-color: #eaeaea;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0);font-family:-apple-system,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Microsoft YaHei,Source Han Sans SC,Noto Sans CJK SC,WenQuanYi Micro Hei,sans-serif}.mind-elixir .hyper-link{text-decoration:none;margin-left:.3em}.map-container{-webkit-user-select:none;user-select:none;height:100%;width:100%;overflow:scroll;font-size:15px}.map-container *{box-sizing:border-box}.map-container::-webkit-scrollbar{width:0px;height:0px}.map-container .selected{box-shadow:0 0 0 2px var(--selected)}.map-container .lhs{direction:rtl}.map-container .lhs me-tpc{direction:ltr}.map-container .map-canvas{height:20000px;width:20000px;position:relative;-webkit-user-select:none;user-select:none;transition:transform .3s;transform:scale(1);background-color:var(--bgcolor)}.map-container .map-canvas me-nodes{position:absolute;display:flex;justify-content:center;align-items:center;height:fit-content;width:fit-content}.map-container .map-canvas me-root{position:relative}.map-container .map-canvas me-root me-tpc{display:block;font-size:25px;color:var(--root-color);padding:10px var(--gap);border-radius:var(--root-radius);white-space:pre-wrap;background-color:var(--root-bgcolor)}.map-container .map-canvas me-root me-tpc #input-box{padding:10px var(--gap)}.map-container me-main>me-wrapper{position:relative;margin:45px 65px}.map-container me-main>me-wrapper>me-parent{margin:10px;padding:0}.map-container me-main>me-wrapper>me-parent>me-tpc{border-radius:var(--main-radius);background-color:var(--main-bgcolor);border:2px solid var(--main-color);color:var(--main-color);padding:8px 25px}.map-container me-main>me-wrapper>me-parent>me-tpc #input-box{padding:8px 25px}.map-container me-wrapper{display:block;pointer-events:none;width:fit-content}.map-container me-children,.map-container me-parent{display:inline-block;vertical-align:middle}.map-container me-parent{position:relative;cursor:pointer;padding:6px var(--gap);margin-top:10px}.map-container me-parent me-tpc{position:relative;display:block;border-radius:3px;color:var(--color);pointer-events:all;max-width:35em;white-space:pre-wrap;padding:var(--topic-padding)}.map-container me-parent me-tpc .insert-preview{position:absolute;width:100%;left:0;z-index:9}.map-container me-parent me-tpc .show{background:#7ad5ff;pointer-events:none;opacity:.7}.map-container me-parent me-tpc .before{height:14px;top:-14px}.map-container me-parent me-tpc .in{height:100%;top:0}.map-container me-parent me-tpc .after{height:14px;bottom:-14px}.map-container me-parent me-epd{position:absolute;height:18px;width:18px;opacity:.8;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgdD0iMTY1NjY1NDcxNzI0MiIgY2xhc3M9Imljb24iIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHZlcnNpb249IjEuMSIKICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+CiAgICA8cGF0aCBkPSJNNTEyIDc0LjY2NjY2N0MyNzAuOTMzMzMzIDc0LjY2NjY2NyA3NC42NjY2NjcgMjcwLjkzMzMzMyA3NC42NjY2NjcgNTEyUzI3MC45MzMzMzMgOTQ5LjMzMzMzMyA1MTIgOTQ5LjMzMzMzMyA5NDkuMzMzMzMzIDc1My4wNjY2NjcgOTQ5LjMzMzMzMyA1MTIgNzUzLjA2NjY2NyA3NC42NjY2NjcgNTEyIDc0LjY2NjY2N3oiIHN0cm9rZS13aWR0aD0iNTQiIHN0cm9rZT0nYmxhY2snIGZpbGw9J3doaXRlJyA+PC9wYXRoPgogICAgPHBhdGggZD0iTTY4Mi42NjY2NjcgNDgwaC0xMzguNjY2NjY3VjM0MS4zMzMzMzNjMC0xNy4wNjY2NjctMTQuOTMzMzMzLTMyLTMyLTMycy0zMiAxNC45MzMzMzMtMzIgMzJ2MTM4LjY2NjY2N0gzNDEuMzMzMzMzYy0xNy4wNjY2NjcgMC0zMiAxNC45MzMzMzMtMzIgMzJzMTQuOTMzMzMzIDMyIDMyIDMyaDEzOC42NjY2NjdWNjgyLjY2NjY2N2MwIDE3LjA2NjY2NyAxNC45MzMzMzMgMzIgMzIgMzJzMzItMTQuOTMzMzMzIDMyLTMydi0xMzguNjY2NjY3SDY4Mi42NjY2NjdjMTcuMDY2NjY3IDAgMzItMTQuOTMzMzMzIDMyLTMycy0xNC45MzMzMzMtMzItMzItMzJ6Ij48L3BhdGg+Cjwvc3ZnPg==);background-repeat:no-repeat;background-size:contain;background-position:center;pointer-events:all;z-index:9}.map-container me-parent me-epd.minus{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgdD0iMTY1NjY1NTU2NDk4NSIgY2xhc3M9Imljb24iIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHZlcnNpb249IjEuMSIKICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+CiAgICA8cGF0aCBkPSJNNTEyIDc0LjY2NjY2N0MyNzAuOTMzMzMzIDc0LjY2NjY2NyA3NC42NjY2NjcgMjcwLjkzMzMzMyA3NC42NjY2NjcgNTEyUzI3MC45MzMzMzMgOTQ5LjMzMzMzMyA1MTIgOTQ5LjMzMzMzMyA5NDkuMzMzMzMzIDc1My4wNjY2NjcgOTQ5LjMzMzMzMyA1MTIgNzUzLjA2NjY2NyA3NC42NjY2NjcgNTEyIDc0LjY2NjY2N3oiIHN0cm9rZS13aWR0aD0iNTQiIHN0cm9rZT0nYmxhY2snIGZpbGw9J3doaXRlJyA+PC9wYXRoPgogICAgPHBhdGggZD0iTTY4Mi42NjY2NjcgNTQ0SDM0MS4zMzMzMzNjLTE3LjA2NjY2NyAwLTMyLTE0LjkzMzMzMy0zMi0zMnMxNC45MzMzMzMtMzIgMzItMzJoMzQxLjMzMzMzNGMxNy4wNjY2NjcgMCAzMiAxNC45MzMzMzMgMzIgMzJzLTE0LjkzMzMzMyAzMi0zMiAzMnoiPjwvcGF0aD4KPC9zdmc+)!important;transition:opacity .3s;opacity:0}.map-container me-parent me-epd.minus:hover{opacity:.8}.map-container .icon{width:1em;height:1em;vertical-align:-.15em;fill:currentColor;overflow:hidden}.map-container .lines,.map-container .summary,.map-container .subLines,.map-container .topiclinks,.map-container .linkcontroller{position:absolute;height:102%;width:100%;top:0;left:0}.map-container .topiclinks,.map-container .linkcontroller,.map-container .summary{pointer-events:none}.map-container .topiclinks text,.map-container .linkcontroller text,.map-container .summary text{pointer-events:all}.map-container .topiclinks .selected,.map-container .linkcontroller .selected,.map-container .summary .selected{pointer-events:none}.map-container .lines,.map-container .subLines{pointer-events:none;z-index:-1}.map-container .topiclinks *,.map-container .linkcontroller *{z-index:100}.map-container .topiclinks g{cursor:pointer}.map-container #input-box{position:absolute;top:0;left:0;padding:var(--topic-padding);color:var(--color);background-color:var(--bgcolor);width:max-content;max-width:35em;z-index:11;direction:ltr;-webkit-user-select:auto;user-select:auto;pointer-events:all}.map-container me-tpc>*{pointer-events:none}.map-container me-tpc>img{display:block;margin-bottom:8px;object-fit:cover}.map-container me-tpc>.text{display:inline-block}.map-container .circle{position:absolute;height:10px;width:10px;margin-top:-5px;margin-left:-5px;border-radius:100%;background:#757575;border:2px solid #ffffff;cursor:pointer}.map-container .tags{direction:ltr}.map-container .tags span{display:inline-block;border-radius:3px;padding:2px 4px;background:#d6f0f8;color:#276f86;margin:2px 3px 0 0;font-size:12px;line-height:1.3em}.map-container .icons{display:inline-block;direction:ltr;margin-right:10px}.map-container .icons span{display:inline-block;line-height:1.3em}.map-container .mind-elixir-ghost{position:fixed;top:-100%;left:-100%;box-sizing:content-box;opacity:.5;background-color:#f6f6f6;max-width:200px;width:fit-content;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding:8px 16px;border-radius:6px;border:#666666 2px solid}.map-container .selection-area{background:#4f90f22d;border:1px solid #4f90f2}.mind-elixir .context-menu{position:fixed;top:0;left:0;width:100%;height:100%;z-index:99}.mind-elixir .context-menu .menu-list{position:fixed;list-style:none;margin:0;padding:0;font:300 15px Roboto,sans-serif;color:var(--panel-color);box-shadow:0 12px 15px #0003}.mind-elixir .context-menu .menu-list li{min-width:200px;overflow:hidden;white-space:nowrap;padding:10px 14px;background:var(--panel-bgcolor);border-bottom:1px solid var(--panel-border-color)}.mind-elixir .context-menu .menu-list li a{color:#333;text-decoration:none}.mind-elixir .context-menu .menu-list li.disabled{display:none;color:#5e5e5e;background-color:#f7f7f7}.mind-elixir .context-menu .menu-list li.disabled:hover{cursor:default;background-color:#f7f7f7}.mind-elixir .context-menu .menu-list li:hover{cursor:pointer;filter:brightness(.9)}.mind-elixir .context-menu .menu-list li:first-child{border-radius:5px 5px 0 0}.mind-elixir .context-menu .menu-list li:last-child{border-bottom:0;border-radius:0 0 5px 5px}.mind-elixir .context-menu .menu-list li span:last-child{float:right}.mind-elixir .tips{position:absolute;bottom:20px;left:50%;transform:translate(-50%);color:var(--panel-color);font-weight:bolder}.mind-elixir .mobile-menu{position:absolute;left:20px;bottom:70px;z-index:99;margin:0;padding:0;color:#333;border-radius:5px;box-shadow:0 12px 15px #0003;overflow:hidden}.mind-elixir .mobile-menu *{transition:color .4s,background-color .4s}.mind-elixir .mobile-menu div{float:left;text-align:center;width:30px;overflow:hidden;white-space:nowrap;padding:8px;background-color:#fff;border-bottom:1px solid #ecf0f1}.mind-elixir .mobile-menu div a{color:#333;text-decoration:none}.mind-elixir .mobile-menu div.disabled{color:#5e5e5e;background-color:#f7f7f7}.mind-elixir .mobile-menu div.disabled:hover{cursor:default;background-color:#f7f7f7}.mind-elixir .mobile-menu div:hover{cursor:pointer;background-color:#ecf0f1}.mind-elixir-toolbar{font-family:iconfont;position:absolute;color:var(--panel-color);background:var(--panel-bgcolor);padding:10px;border-radius:5px;box-shadow:0 1px 2px #0003}.mind-elixir-toolbar svg{display:inline-block}.mind-elixir-toolbar span:active{opacity:.5}.mind-elixir-toolbar.rb{right:20px;bottom:20px}.mind-elixir-toolbar.rb span+span{margin-left:10px}.mind-elixir-toolbar.lt{font-size:20px;left:20px;top:20px}.mind-elixir-toolbar.lt span{display:block}.mind-elixir-toolbar.lt span+span{margin-top:10px}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();(function(t){var e,n,r,i,s,o,l='<svg><symbol id="icon-edit" viewBox="0 0 1024 1024"><path d="M423.765333 128a42.666667 42.666667 0 0 1 3.2 85.205333L423.765333 213.333333H234.666667a64 64 0 0 0-63.872 60.245334L170.666667 277.333333v512a64 64 0 0 0 60.245333 63.872L234.666667 853.333333h512a64 64 0 0 0 63.872-60.245333L810.666667 789.333333v-189.098666a42.666667 42.666667 0 0 1 85.205333-3.2l0.128 3.2V789.333333a149.333333 149.333333 0 0 1-144.213333 149.248L746.666667 938.666667h-512a149.333333 149.333333 0 0 1-149.248-144.213334L85.333333 789.333333v-512a149.333333 149.333333 0 0 1 144.213334-149.248L234.666667 128h189.098666z m324.949334-53.248a42.666667 42.666667 0 0 1 60.330666 0l150.869334 150.869333a42.666667 42.666667 0 0 1 0 60.330667l-329.386667 329.386667a42.666667 42.666667 0 0 1-29.44 12.458666l-153.386667 2.517334a42.666667 42.666667 0 0 1-43.349333-43.349334l2.56-153.386666a42.666667 42.666667 0 0 1 12.458667-29.44z m30.165333 90.496L491.946667 452.266667l-1.493334 91.989333 92.032-1.493333 286.976-286.976-90.538666-90.538667z"  ></path></symbol><symbol id="icon-rising" viewBox="0 0 1024 1024"><path d="M553.173333 803.84h-64l0.021334-474.581333-224.021334 224-45.269333-45.226667L521.6 206.293333l301.717333 301.696-45.269333 45.269334-224.853333-224.896v475.477333z"  ></path></symbol><symbol id="icon-falling" viewBox="0 0 1024 1024"><path d="M553.173333 238.314667h-64l0.021334 474.602666-224.021334-224-45.269333 45.226667L521.6 835.861333l301.717333-301.717333-45.269333-45.226667-224.853333 224.853334V238.336z"  ></path></symbol><symbol id="icon-shanchu2" viewBox="0 0 1024 1024"><path d="M516.60601807 107.93026734c-82.64382935 0-149.71865844 65.51751709-152.5729065 147.77160644H171.37136841c-21.40603638 0-38.92044068 17.38504028-38.92044068 38.92126465 0 21.40686036 17.38504028 38.92208862 38.92126466 38.92208862h42.94308471v435.40136719c0 81.73498536 55.39828492 148.55026245 123.90106201 148.55026245h348.99444581c68.37341309 0 123.90106201-66.42553711 123.901062-148.55026245V333.80477906h38.92126465c21.40686036 0 38.92126464-17.38586426 38.92126465-38.92208863 0-21.40686036-17.38504028-38.92126464-38.92126465-38.92126465H668.91854859C666.45321656 173.44860839 599.24902344 107.93109131 516.60601807 107.93109131z m-79.65939331 147.77160644c2.85424805-42.16442872 37.2354126-74.85809326 79.78875732-74.85809326s76.93450927 32.82302857 79.39984131 74.85809326H436.94662476z m-98.86047364 589.01165771c-24.2611084 0-50.98754883-31.13717651-50.98754883-75.76693725V333.80477906h450.97036744V769.33551026c0 44.50039673-26.72644043 75.76776123-50.98754884 75.76776122H338.08615112v-0.38973999z m0 0"  ></path><path d="M390.37063599 751.17263794c17.77313232 0 32.43411255-17.7739563 32.43411255-40.08883667V482.35504151c0-22.31488037-14.53079224-40.08966065-32.43411255-40.08966065-17.77478027 0-32.43493653 17.77478027-32.43493653 40.08966065v228.72875976c0 22.18469239 14.27124023 40.08883667 32.43493653 40.08883667z m117.41308594 0c17.7739563 0 32.43411255-17.7739563 32.43411255-40.08883667V482.35504151c0-22.31488037-14.53079224-40.08966065-32.43411255-40.08966065-17.7739563 0-32.43493653 17.77478027-32.43493653 40.08966065v228.72875976c0 22.18469239 14.66098023 40.08883667 32.43493653 40.08883667z m123.51049804 0c17.7739563 0 32.43493653-17.7739563 32.43493652-40.08883667V482.35504151c0-22.31488037-14.53079224-40.08966065-32.43493652-40.08966065-17.7739563 0-32.43411255 17.77478027-32.43411255 40.08966065v228.72875976c0 22.18469239 14.14105224 40.08883667 32.43411255 40.08883667z m0 0"  ></path></symbol><symbol id="icon-zijiedian" viewBox="0 0 1024 1024"><path d="M312.208 472c19.568-157.856 153.432-280 315.656-280 175.68 0 318.112 143.272 318.112 320S803.552 832 627.864 832c-162.224 0-296.08-122.144-315.656-280H120a40 40 0 0 1 0-80h192.208zM632 752c132.552 0 240-107.448 240-240 0-132.552-107.448-240-240-240-132.552 0-240 107.448-240 240 0 132.552 107.448 240 240 240z m-40-280v-80a40 40 0 0 1 80 0v80h80a40 40 0 0 1 0 80h-80v80a40 40 0 0 1-80 0v-80h-80a40 40 0 0 1 0-80h80z"  ></path></symbol><symbol id="icon-tongjijiedian-" viewBox="0 0 1024 1024"><path d="M803.84 131.626667H410.24A59.733333 59.733333 0 0 0 350.506667 192v45.226667H199.68a51.626667 51.626667 0 0 0-51.626667 51.626666v465.92a51.626667 51.626667 0 0 0 51.626667 51.626667h187.52v-55.466667h-162.133333a21.333333 21.333333 0 0 1-21.333334-21.333333V313.386667a21.333333 21.333333 0 0 1 21.333334-21.333334h125.653333v64a59.733333 59.733333 0 0 0 59.733333 59.733334h393.386667a59.733333 59.733333 0 0 0 59.733333-59.733334V192a59.733333 59.733333 0 0 0-59.733333-60.373333z m4.266667 224.64a4.266667 4.266667 0 0 1-4.266667 4.266666H410.24a4.266667 4.266667 0 0 1-4.266667-4.266666V192a4.266667 4.266667 0 0 1 4.266667-4.266667h393.6a4.266667 4.266667 0 0 1 4.266667 4.266667zM716.16 749.44h-81.28v-81.493333a27.733333 27.733333 0 0 0-55.466667 0v81.28h-81.493333a27.733333 27.733333 0 1 0 0 55.466666h81.28v81.28a27.733333 27.733333 0 1 0 55.466667 0v-81.066666h81.28a27.733333 27.733333 0 0 0 0-55.466667z"  ></path></symbol><symbol id="icon-close" viewBox="0 0 1024 1024"><path d="M557.312 513.248l265.28-263.904c12.544-12.48 12.608-32.704 0.128-45.248-12.512-12.576-32.704-12.608-45.248-0.128L512.128 467.904l-263.04-263.84c-12.448-12.48-32.704-12.544-45.248-0.064-12.512 12.48-12.544 32.736-0.064 45.28l262.976 263.776L201.6 776.8c-12.544 12.48-12.608 32.704-0.128 45.248a31.937 31.937 0 0 0 22.688 9.44c8.16 0 16.32-3.104 22.56-9.312l265.216-263.808 265.44 266.24c6.24 6.272 14.432 9.408 22.656 9.408a31.94 31.94 0 0 0 22.592-9.344c12.512-12.48 12.544-32.704 0.064-45.248L557.312 513.248z" fill="" ></path></symbol><symbol id="icon-menu" viewBox="0 0 1024 1024"><path d="M109.714 292.571h804.572c21.943 0 36.571-21.942 36.571-43.885 0-14.629-14.628-29.257-36.571-29.257H109.714c-21.943 0-36.571 14.628-36.571 36.571 0 14.629 14.628 36.571 36.571 36.571zM914.286 512H109.714c-21.943 0-36.571 14.629-36.571 36.571 0 14.629 14.628 36.572 36.571 36.572h804.572c21.943 0 36.571-21.943 36.571-43.886 0-14.628-14.628-29.257-36.571-29.257z m0 292.571H109.714c-21.943 0-36.571 14.629-36.571 36.572s14.628 36.571 36.571 36.571h804.572c21.943 0 36.571-21.943 36.571-36.571 0-21.943-14.628-36.572-36.571-36.572z"  ></path></symbol><symbol id="icon-right" viewBox="0 0 1024 1024"><path d="M385 560.69999999L385 738.9c0 36.90000001 26.4 68.5 61.3 68.5l150.2 0c1.5 0 3-0.1 4.5-0.3 10.2 38.7 45.5 67.3 87.5 67.3 50 0 90.5-40.5 90.5-90.5s-40.5-90.5-90.5-90.5c-42 0-77.3 28.6-87.5 67.39999999-1.4-0.3-2.9-0.4-4.5-0.39999999L446.3 760.4c-6.8 0-14.3-8.9-14.3-21.49999999l0-427.00000001c0-12.7 7.40000001-21.5 14.30000001-21.5l150.19999999 0c1.5 0 3-0.2 4.5-0.4 10.2 38.8 45.5 67.3 87.5 67.3 50 0 90.5-40.5 90.5-90.4 0-49.9-40.5-90.6-90.5-90.59999999-42 0-77.3 28.6-87.5 67.39999999-1.4-0.2-2.9-0.4-4.49999999-0.4L446.3 243.3c-34.80000001 0-61.3 31.6-61.3 68.50000001L385 513.7l-79.1 0c-10.4-38.5-45.49999999-67-87.4-67-50 0-90.5 40.5-90.5 90.5s40.5 90.5 90.5 90.5c41.79999999 0 77.00000001-28.4 87.4-67L385 560.69999999z" fill="" ></path></symbol><symbol id="icon-left" viewBox="0 0 1024 1024"><path d="M639 463.30000001L639 285.1c0-36.90000001-26.4-68.5-61.3-68.5l-150.2 0c-1.5 0-3 0.1-4.5 0.3-10.2-38.7-45.5-67.3-87.5-67.3-50 0-90.5 40.5-90.5 90.5s40.5 90.5 90.5 90.5c42 0 77.3-28.6 87.5-67.39999999 1.4 0.3 2.9 0.4 4.5 0.39999999L577.7 263.6c6.8 0 14.3 8.9 14.3 21.49999999l0 427.00000001c0 12.7-7.40000001 21.5-14.30000001 21.5l-150.19999999 0c-1.5 0-3 0.2-4.5 0.4-10.2-38.8-45.5-67.3-87.5-67.3-50 0-90.5 40.5-90.5 90.4 0 49.9 40.5 90.6 90.5 90.59999999 42 0 77.3-28.6 87.5-67.39999999 1.4 0.2 2.9 0.4 4.49999999 0.4L577.7 780.7c34.80000001 0 61.3-31.6 61.3-68.50000001L639 510.3l79.1 0c10.4 38.5 45.49999999 67 87.4 67 50 0 90.5-40.5 90.5-90.5s-40.5-90.5-90.5-90.5c-41.79999999 0-77.00000001 28.4-87.4 67L639 463.30000001z" fill="" ></path></symbol><symbol id="icon-side" viewBox="0 0 1024 1024"><path d="M851.91168 328.45312c-59.97056 0-108.6208 48.47104-108.91264 108.36992l-137.92768 38.4a109.14304 109.14304 0 0 0-63.46752-46.58688l1.39264-137.11872c47.29344-11.86816 82.31936-54.66624 82.31936-105.64096 0-60.15488-48.76288-108.91776-108.91776-108.91776s-108.91776 48.76288-108.91776 108.91776c0 49.18784 32.60928 90.75712 77.38368 104.27392l-1.41312 138.87488a109.19936 109.19936 0 0 0-63.50336 48.55808l-138.93632-39.48544 0.01024-0.72704c0-60.15488-48.76288-108.91776-108.91776-108.91776s-108.91776 48.75776-108.91776 108.91776c0 60.15488 48.76288 108.91264 108.91776 108.91264 39.3984 0 73.91232-20.92032 93.03552-52.2496l139.19232 39.552-0.00512 0.2304c0 25.8304 9.00096 49.5616 24.02816 68.23424l-90.14272 132.63872a108.7488 108.7488 0 0 0-34.2528-5.504c-60.15488 0-108.91776 48.768-108.91776 108.91776 0 60.16 48.76288 108.91776 108.91776 108.91776 60.16 0 108.92288-48.75776 108.92288-108.91776 0-27.14624-9.9328-51.968-26.36288-71.04l89.04704-131.03104a108.544 108.544 0 0 0 37.6832 6.70208 108.672 108.672 0 0 0 36.48512-6.272l93.13792 132.57216a108.48256 108.48256 0 0 0-24.69888 69.0688c0 60.16 48.768 108.92288 108.91776 108.92288 60.16 0 108.91776-48.76288 108.91776-108.92288 0-60.14976-48.75776-108.91776-108.91776-108.91776a108.80512 108.80512 0 0 0-36.69504 6.3488l-93.07136-132.48a108.48768 108.48768 0 0 0 24.79616-72.22784l136.09984-37.888c18.99008 31.93856 53.84192 53.3504 93.69088 53.3504 60.16 0 108.92288-48.75776 108.92288-108.91264-0.00512-60.15488-48.77312-108.92288-108.92288-108.92288z"  ></path></symbol><symbol id="icon-B" viewBox="0 0 1024 1024"><path d="M98.067692 65.457231H481.28c75.854769 0 132.411077 3.150769 169.668923 9.452307 37.336615 6.301538 70.656 19.534769 100.036923 39.620924 29.459692 20.007385 53.956923 46.710154 73.570462 80.029538 19.692308 33.398154 29.459692 70.734769 29.459692 112.167385 0 44.898462-12.130462 86.094769-36.233846 123.588923a224.886154 224.886154 0 0 1-98.461539 84.283077c58.368 17.092923 103.266462 46.08 134.695385 87.04 31.350154 40.96 47.025231 89.088 47.025231 144.462769 0 43.638154-10.082462 86.016-30.404923 127.212308-20.243692 41.196308-47.891692 74.043077-83.02277 98.697846-35.052308 24.654769-78.296615 39.778462-129.732923 45.449846-32.295385 3.465846-110.119385 5.671385-233.472 6.537846H98.067692V65.457231z m193.536 159.507692V446.621538h126.818462c75.460923 0 122.328615-1.024 140.603077-3.229538 33.083077-3.938462 59.155692-15.36 78.139077-34.343385 18.904615-18.904615 28.435692-43.874462 28.435692-74.830769 0-29.696-8.192-53.720615-24.497231-72.310154-16.384-18.510769-40.644923-29.696-72.940307-33.634461-19.140923-2.205538-74.279385-3.308308-165.415385-3.308308h-111.064615z m0 381.243077v256.315077h179.2c69.710769 0 113.979077-1.969231 132.726154-5.907692 28.750769-5.198769 52.145231-17.959385 70.262154-38.281847 18.116923-20.243692 27.096615-47.340308 27.096615-81.368615 0-28.750769-6.931692-53.169231-20.873846-73.255385a118.232615 118.232615 0 0 0-60.494769-43.795692c-26.387692-9.137231-83.574154-13.705846-171.638154-13.705846H291.603692z"  ></path></symbol><symbol id="icon-a" viewBox="0 0 1024 1024"><path d="M757.76 665.6q0 20.48 1.536 34.304t7.68 22.016 18.944 12.288 34.304 4.096q-3.072 25.6-15.36 44.032-11.264 16.384-33.28 29.696t-62.976 13.312q-11.264 0-20.48-0.512t-17.408-2.56l-6.144-2.048-1.024 0q-4.096-1.024-10.24-4.096-2.048-2.048-4.096-2.048-1.024-1.024-2.048-1.024-14.336-8.192-23.552-17.408t-14.336-17.408q-6.144-10.24-9.216-20.48-63.488 75.776-178.176 75.776-48.128 0-88.064-15.36t-69.12-44.032-45.056-68.096-15.872-88.576 16.896-89.088 47.616-67.584 74.24-42.496 96.768-14.848q48.128 0 88.576 17.408t66.048 49.152q0-8.192 0.512-16.384t0.512-15.36q0-71.68-39.936-104.448t-128-32.768q-43.008 0-84.992 6.656t-84.992 17.92q14.336-28.672 25.088-47.616t24.064-29.184q30.72-24.576 158.72-24.576 79.872 0 135.168 13.824t90.624 43.52 51.2 75.264 15.872 108.032l0 200.704zM487.424 743.424q50.176 0 79.872-33.28t29.696-95.744q0-61.44-28.672-93.696t-76.8-32.256q-52.224 0-82.944 33.28t-30.72 94.72q0 58.368 31.744 92.672t77.824 34.304z"  ></path></symbol><symbol id="icon-full" viewBox="0 0 1024 1024"><path d="M639.328 416c8.032 0 16.096-3.008 22.304-9.056l202.624-197.184-0.8 143.808c-0.096 17.696 14.144 32.096 31.808 32.192 0.064 0 0.128 0 0.192 0 17.6 0 31.904-14.208 32-31.808l1.248-222.208c0-0.672-0.352-1.248-0.384-1.92 0.032-0.512 0.288-0.896 0.288-1.408 0.032-17.664-14.272-32-31.968-32.032L671.552 96l-0.032 0c-17.664 0-31.968 14.304-32 31.968C639.488 145.632 653.824 160 671.488 160l151.872 0.224-206.368 200.8c-12.672 12.32-12.928 32.608-0.64 45.248C622.656 412.736 630.976 416 639.328 416z"  ></path><path d="M896.032 639.552 896.032 639.552c-17.696 0-32 14.304-32.032 31.968l-0.224 151.872-200.832-206.4c-12.32-12.64-32.576-12.96-45.248-0.64-12.672 12.352-12.928 32.608-0.64 45.248l197.184 202.624-143.808-0.8c-0.064 0-0.128 0-0.192 0-17.6 0-31.904 14.208-32 31.808-0.096 17.696 14.144 32.096 31.808 32.192l222.24 1.248c0.064 0 0.128 0 0.192 0 0.64 0 1.12-0.32 1.76-0.352 0.512 0.032 0.896 0.288 1.408 0.288l0.032 0c17.664 0 31.968-14.304 32-31.968L928 671.584C928.032 653.952 913.728 639.584 896.032 639.552z"  ></path><path d="M209.76 159.744l143.808 0.8c0.064 0 0.128 0 0.192 0 17.6 0 31.904-14.208 32-31.808 0.096-17.696-14.144-32.096-31.808-32.192L131.68 95.328c-0.064 0-0.128 0-0.192 0-0.672 0-1.248 0.352-1.888 0.384-0.448 0-0.8-0.256-1.248-0.256 0 0-0.032 0-0.032 0-17.664 0-31.968 14.304-32 31.968L96 352.448c-0.032 17.664 14.272 32 31.968 32.032 0 0 0.032 0 0.032 0 17.664 0 31.968-14.304 32-31.968l0.224-151.936 200.832 206.4c6.272 6.464 14.624 9.696 22.944 9.696 8.032 0 16.096-3.008 22.304-9.056 12.672-12.32 12.96-32.608 0.64-45.248L209.76 159.744z"  ></path><path d="M362.368 617.056l-202.624 197.184 0.8-143.808c0.096-17.696-14.144-32.096-31.808-32.192-0.064 0-0.128 0-0.192 0-17.6 0-31.904 14.208-32 31.808l-1.248 222.24c0 0.704 0.352 1.312 0.384 2.016 0 0.448-0.256 0.832-0.256 1.312-0.032 17.664 14.272 32 31.968 32.032L352.448 928c0 0 0.032 0 0.032 0 17.664 0 31.968-14.304 32-31.968s-14.272-32-31.968-32.032l-151.936-0.224 206.4-200.832c12.672-12.352 12.96-32.608 0.64-45.248S375.008 604.704 362.368 617.056z"  ></path></symbol><symbol id="icon-add" viewBox="0 0 1024 1024"><path d="M863.328 482.56l-317.344-1.12L545.984 162.816c0-17.664-14.336-32-32-32s-32 14.336-32 32l0 318.4L159.616 480.064c-0.032 0-0.064 0-0.096 0-17.632 0-31.936 14.24-32 31.904C127.424 529.632 141.728 544 159.392 544.064l322.592 1.152 0 319.168c0 17.696 14.336 32 32 32s32-14.304 32-32l0-318.944 317.088 1.12c0.064 0 0.096 0 0.128 0 17.632 0 31.936-14.24 32-31.904C895.264 496.992 880.96 482.624 863.328 482.56z"  ></path></symbol><symbol id="icon-move" viewBox="0 0 1024 1024"><path d="M863.744 544 163.424 544c-17.664 0-32-14.336-32-32s14.336-32 32-32l700.32 0c17.696 0 32 14.336 32 32S881.44 544 863.744 544z"  ></path></symbol><symbol id="icon-living" viewBox="0 0 1024 1024"><path d="M514.133333 488.533333m-106.666666 0a106.666667 106.666667 0 1 0 213.333333 0 106.666667 106.666667 0 1 0-213.333333 0Z" fill="" ></path><path d="M512 64C264.533333 64 64 264.533333 64 512c0 236.8 183.466667 428.8 416 445.866667v-134.4c-53.333333-59.733333-200.533333-230.4-200.533333-334.933334 0-130.133333 104.533333-234.666667 234.666666-234.666666s234.666667 104.533333 234.666667 234.666666c0 61.866667-49.066667 153.6-145.066667 270.933334l-59.733333 68.266666V960C776.533333 942.933333 960 748.8 960 512c0-247.466667-200.533333-448-448-448z" fill="" ></path></symbol></svg>',a=(a=document.getElementsByTagName("script"))[a.length-1].getAttribute("data-injectcss");if(a&&!t.__iconfont__svg__cssinject__){t.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(c){console&&console.log(c)}}function d(){s||(s=!0,r())}e=function(){var c,f,u,h;(h=document.createElement("div")).innerHTML=l,l=null,(u=h.getElementsByTagName("svg")[0])&&(u.setAttribute("aria-hidden","true"),u.style.position="absolute",u.style.width=0,u.style.height=0,u.style.overflow="hidden",c=u,(f=document.body).firstChild?(h=c,(u=f.firstChild).parentNode.insertBefore(h,u)):f.appendChild(c))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(e,0):(n=function(){document.removeEventListener("DOMContentLoaded",n,!1),e()},document.addEventListener("DOMContentLoaded",n,!1)):document.attachEvent&&(r=e,i=t.document,s=!1,(o=function(){try{i.documentElement.doScroll("left")}catch{return void setTimeout(o,50)}d()})(),i.onreadystatechange=function(){i.readyState=="complete"&&(i.onreadystatechange=null,d())})})(window);const de=0,$e=1,An=2,Re=30,Zs={name:"Latte",palette:["#dd7878","#ea76cb","#8839ef","#e64553","#fe640b","#df8e1d","#40a02b","#209fb5","#1e66f5","#7287fd"],cssVar:{"--main-color":"#444446","--main-bgcolor":"#ffffff","--color":"#777777","--bgcolor":"#f6f6f6","--panel-color":"#444446","--panel-bgcolor":"#ffffff","--panel-border-color":"#eaeaea"}},Xs={name:"Dark",palette:["#848FA0","#748BE9","#D2F9FE","#4145A5","#789AFA","#706CF4","#EF987F","#775DD5","#FCEECF","#DA7FBC"],cssVar:{"--main-color":"#ffffff","--main-bgcolor":"#4c4f69","--color":"#cccccc","--bgcolor":"#252526","--panel-color":"#ffffff","--panel-bgcolor":"#2d3748","--panel-border-color":"#696969"}};function rn(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}const Oa=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),sn=function(t,e){if(e.id===t)return e;if(e.children&&e.children.length){for(let n=0;n<e.children.length;n++){const r=sn(t,e.children[n]);if(r)return r}return null}else return null},Pe=(t,e)=>{if(t.parent=e,t.children)for(let n=0;n<t.children.length;n++)Pe(t.children[n],t)};function Ar(t){if(t.id=Lt(),t.children)for(let e=0;e<t.children.length;e++)Ar(t.children[e])}const La=(t,e)=>{let n=Date.now();return function(...r){Date.now()-n<e||(t(...r),n=Date.now())}};function Ks(t,e,n,r){const i=r-e,s=t-n;let o=Math.atan(Math.abs(i)/Math.abs(s))/3.14*180;s<0&&i>0&&(o=180-o),s<0&&i<0&&(o=180+o),s>0&&i<0&&(o=360-o);const l=15,a=30,d=o+a,c=o-a;return{x1:n+Math.cos(Math.PI*d/180)*l,y1:r-Math.sin(Math.PI*d/180)*l,x2:n+Math.cos(Math.PI*c/180)*l,y2:r-Math.sin(Math.PI*c/180)*l}}function Lt(){return(new Date().getTime().toString(16)+Math.random().toString(16).substr(2)).substr(2,16)}const Pa=function(){const t=Lt();return{topic:this.newTopicName,id:t}};function xr(t){return JSON.parse(JSON.stringify(t,(e,n)=>{if(e!=="parent")return n}))}const He=(t,e)=>{let n=0,r=0;for(;e&&e!==t;)n+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;return{offsetLeft:n,offsetTop:r}},Y=(t,e)=>{for(const n in e)t.setAttribute(n,e[n])},tr=t=>t?t.tagName==="ME-TPC":!1,xn=t=>t.filter(e=>{for(let n=0;n<t.length;n++)if(e!==t[n]&&t[n].parentElement.parentElement.contains(e))return!1;return!0}),ae={moved:!1,mousedown:!1,onMove(t,e){if(this.mousedown){this.moved=!0;const n=t.movementX,r=t.movementY;e.scrollTo(e.scrollLeft-n,e.scrollTop-r)}},clear(){this.moved=!1,this.mousedown=!1}};function Ha(t){t.map.addEventListener("click",e=>{var n,r;if(e.button!==0)return;if((n=t.helper1)!=null&&n.moved){t.helper1.clear();return}if((r=t.helper2)!=null&&r.moved){t.helper2.clear();return}if(ae.moved){ae.clear();return}t.clearSelection();const i=e.target;if(i.tagName==="ME-EPD")t.expandNode(i.previousSibling);else if(t.editable)tr(i)?t.selectNode(i,!1,e):i.tagName==="text"?i.dataset.type==="custom-link"?t.selectArrow(i.parentElement):t.selectSummary(i.parentElement):i.className;else return}),t.map.addEventListener("dblclick",e=>{if(e.preventDefault(),!t.editable)return;const n=e.target;tr(n)?t.beginEdit(n):n.tagName==="text"&&(n.dataset.type==="custom-link"?t.editArrowLabel(n.parentElement):t.editSummary(n.parentElement))}),t.map.addEventListener("mousemove",e=>{e.target.contentEditable!=="true"&&ae.onMove(e,t.container)}),t.map.addEventListener("mousedown",e=>{const n=t.mouseSelectionButton===0?2:0;e.button===n&&e.target.contentEditable!=="true"&&(ae.moved=!1,ae.mousedown=!0)}),t.map.addEventListener("mouseleave",e=>{const n=t.mouseSelectionButton===0?2:0;e.button===n&&ae.clear()}),t.map.addEventListener("mouseup",e=>{const n=t.mouseSelectionButton===0?2:0;e.button===n&&ae.clear()}),t.map.addEventListener("contextmenu",e=>{e.preventDefault()})}const ja={create(){return{handlers:{},showHandler:function(){console.log(this.handlers)},addListener:function(t,e){this.handlers[t]===void 0&&(this.handlers[t]=[]),this.handlers[t].push(e)},fire:function(t,...e){if(this.handlers[t]instanceof Array){const n=this.handlers[t];for(let r=0;r<n.length;r++)n[r](...e)}},removeListener:function(t,e){if(!this.handlers[t])return;const n=this.handlers[t];if(!e)n.length=0;else if(n.length)for(let r=0;r<n.length;r++)n[r]===e&&this.handlers[t].splice(r,1)}}}},on=document,za=function(){console.time("layout"),this.nodes.innerHTML="";const t=this.createTopic(this.nodeData);Dr(t,this.nodeData),t.draggable=!1;const e=on.createElement("me-root");e.appendChild(t);const n=this.nodeData.children||[];if(this.direction===An){let r=0,i=0;n.map(s=>{s.direction===de?r+=1:s.direction===$e?i+=1:r<=i?(s.direction=de,r+=1):(s.direction=$e,i+=1)})}Ba(this,n,e),console.timeEnd("layout")},Ba=function(t,e,n){const r=on.createElement("me-main");r.className="lhs";const i=on.createElement("me-main");i.className="rhs";for(let s=0;s<e.length;s++){const o=e[s],{grp:l}=t.createWrapper(o);t.direction===An?o.direction===de?r.appendChild(l):i.appendChild(l):t.direction===de?r.appendChild(l):i.appendChild(l)}t.nodes.appendChild(r),t.nodes.appendChild(n),t.nodes.appendChild(i),t.nodes.appendChild(t.lines)},Fa=function(t,e){const n=on.createElement("me-children");for(let r=0;r<e.length;r++){const i=e[r],{grp:s}=t.createWrapper(i);n.appendChild(s)}return n},re=document,Q=(t,e)=>{const n=(e?e.mindElixirBox:re).querySelector(`[data-nodeid=me${t}]`);if(!n)throw new Error(`FindEle: Node ${t} not found, maybe it's collapsed.`);return n},Dr=function(t,e){if(t.innerHTML="",e.style&&(t.style.color=e.style.color||"",t.style.background=e.style.background||"",t.style.fontSize=e.style.fontSize+"px",t.style.fontWeight=e.style.fontWeight||"normal"),e.dangerouslySetInnerHTML){t.innerHTML=e.dangerouslySetInnerHTML;return}if(e.image){const n=e.image;if(n.url&&n.width&&n.height){const r=re.createElement("img");r.src=n.url,r.style.width=n.width+"px",r.style.height=n.height+"px",t.appendChild(r),t.image=r}else console.warn("image url/width/height are required")}else t.image&&(t.image=void 0);{const n=re.createElement("span");n.className="text",n.textContent=e.topic,t.appendChild(n),t.text=n}if(e.hyperLink){const n=re.createElement("a");n.className="hyper-link",n.target="_blank",n.innerText="ðŸ”—",n.href=e.hyperLink,t.appendChild(n),t.linkContainer=n}else t.linkContainer&&(t.linkContainer=void 0);if(e.icons&&e.icons.length){const n=re.createElement("span");n.className="icons",n.innerHTML=e.icons.map(r=>`<span>${rn(r)}</span>`).join(""),t.appendChild(n),t.icons=n}else t.icons&&(t.icons=void 0);if(e.tags&&e.tags.length){const n=re.createElement("div");n.className="tags",n.innerHTML=e.tags.map(r=>`<span>${rn(r)}</span>`).join(""),t.appendChild(n),t.tags=n}else t.tags&&(t.tags=void 0)},Ua=function(t,e){const n=re.createElement("me-wrapper"),{p:r,tpc:i}=this.createParent(t);if(n.appendChild(r),!e&&t.children&&t.children.length>0){const s=_r(t.expanded);if(r.appendChild(s),t.expanded!==!1){const o=Fa(this,t.children);n.appendChild(o)}}return{grp:n,top:r,tpc:i}},Wa=function(t){const e=re.createElement("me-parent"),n=this.createTopic(t);return Dr(n,t),e.appendChild(n),{p:e,tpc:n}},Va=function(t){const e=re.createElement("me-children");return e.append(...t),e},$a=function(t){const e=re.createElement("me-tpc");return e.nodeObj=t,e.dataset.nodeid="me"+t.id,e.draggable=this.draggable,e};function Js(t){const e=re.createRange();e.selectNodeContents(t);const n=window.getSelection();n&&(n.removeAllRanges(),n.addRange(e))}const Ga=function(t){if(console.time("editTopic"),!t)return;const e=re.createElement("div"),n=t.text.textContent;t.appendChild(e),e.id="input-box",e.textContent=n,e.contentEditable="true",e.spellcheck=!1,e.style.cssText=`min-width:${t.offsetWidth-8}px;`,this.direction===de&&(e.style.right="0"),e.focus(),Js(e),this.bus.fire("operation",{name:"beginEdit",obj:t.nodeObj}),e.addEventListener("keydown",r=>{r.stopPropagation();const i=r.key;if(i==="Enter"||i==="Tab"){if(r.shiftKey)return;r.preventDefault(),e==null||e.blur(),this.map.focus()}}),e.addEventListener("blur",()=>{var r;if(!e)return;const i=t.nodeObj,s=((r=e.textContent)==null?void 0:r.trim())||"";console.log(s),s===""?i.topic=n:i.topic=s,e.remove(),s!==n&&(t.text.textContent=i.topic,this.linkDiv(),this.bus.fire("operation",{name:"finishEdit",obj:i,origin:n}))}),console.timeEnd("editTopic")},_r=function(t){const e=re.createElement("me-epd");return e.expanded=t!==!1,e.className=t!==!1?"minus":"",e},at=document,ct="http://www.w3.org/2000/svg",eo=function(t,e,n){const r=at.createElementNS(ct,"path");return Y(r,{d:t,stroke:e||"#666",fill:"none","stroke-width":n}),r},Dt=function(t){const e=at.createElementNS(ct,"svg");return e.setAttribute("class",t),e.setAttribute("overflow","visible"),e},Mi=function(){const t=at.createElementNS(ct,"line");return t.setAttribute("stroke","#bbb"),t.setAttribute("fill","none"),t.setAttribute("stroke-width","2"),t},Ya=function(t,e){const n={stroke:"rgb(235, 95, 82)",fill:"none","stroke-linecap":"cap","stroke-width":"2"},r=at.createElementNS(ct,"g"),i=at.createElementNS(ct,"path"),s=at.createElementNS(ct,"path");return Y(s,{d:e,...n}),Y(i,{d:t,...n,"stroke-dasharray":"8,2"}),r.appendChild(i),r.appendChild(s),r},to=function(t,e,n){if(console.time("editSummary"),!e)return;const r=document.createElement("div");t.nodes.appendChild(r);const i=e.innerHTML;r.id="input-box",r.textContent=i,r.contentEditable="true",r.spellcheck=!1;const s=e.getAttribute("x"),o=e.getAttribute("y");r.style.cssText=`min-width:88px;position:absolute;left:${s}px;top:${o}px;`;const l=e.getAttribute("text-anchor");l==="end"?r.style.cssText+="transform: translate(-100%, -100%);":l==="middle"?r.style.cssText+="transform: translate(-50%, -100%);":r.style.cssText+="transform: translate(0, -100%);",r.focus(),Js(r),r.addEventListener("keydown",a=>{a.stopPropagation();const d=a.key;if(d==="Enter"||d==="Tab"){if(a.shiftKey)return;a.preventDefault(),r.blur(),t.map.focus()}}),r.addEventListener("blur",()=>{r&&n(r)}),console.timeEnd("editSummary")},qa=function(t){console.time("linkDiv"),this.nodes.style.top=`${1e4-this.nodes.offsetHeight/2}px`,this.nodes.style.left=`${1e4-this.nodes.offsetWidth/2}px`;const e=this.map.querySelectorAll("me-main > me-wrapper");this.lines.innerHTML="";const n=this.map.querySelector("me-root"),r=n.offsetTop,i=n.offsetLeft,s=n.offsetWidth,o=n.offsetHeight;for(let l=0;l<e.length;l++){const a=e[l],d=a.querySelector("me-tpc"),{offsetLeft:c,offsetTop:f}=He(this.nodes,d),u=d.offsetWidth,h=d.offsetHeight,v=a.parentNode.className,p=this.generateMainBranch({pT:r,pL:i,pW:s,pH:o,cT:f,cL:c,cW:u,cH:h,direction:v,containerHeight:this.nodes.offsetHeight}),g=this.theme.palette,b=d.nodeObj.branchColor||g[l%g.length];d.style.borderColor=b,this.lines.appendChild(eo(p,b,"3"));const w=a.children[0].children[1];if(w&&(w.style.top=(w.parentNode.offsetHeight-w.offsetHeight)/2+"px",v==="lhs"?w.style.left="-10px":w.style.right="-10px"),!(t&&t!==a)&&a.childElementCount){const A=Dt("subLines"),x=a.lastChild;x.tagName==="svg"&&x.remove(),a.appendChild(A),no(this,A,b,a,v,!0)}}this.renderArrow(),this.renderSummary(),console.timeEnd("linkDiv")},no=function(t,e,n,r,i,s){const o=r.firstChild,l=r.children[1].children,a=o.offsetTop,d=o.offsetLeft,c=o.offsetWidth,f=o.offsetHeight;for(let u=0;u<l.length;u++){const h=l[u],v=h.firstChild,p=v.offsetTop,g=v.offsetLeft,b=v.offsetWidth,w=v.offsetHeight,A=v.firstChild.nodeObj.branchColor||n,x=t.generateSubBranch({pT:a,pL:d,pW:c,pH:f,cT:p,cL:g,cW:b,cH:w,direction:i,isFirst:s});e.appendChild(eo(x,A,"2"));const _=v.children[1];if(_){if(_.style.bottom=-(_.offsetHeight/2)+"px",i==="lhs"?_.style.left="10px":i==="rhs"&&(_.style.right="10px"),!_.expanded)continue}else continue;h.children[1].children.length>0&&no(t,e,A,h,i)}},ki={addChild:"æ’å…¥å­èŠ‚ç‚¹",addParent:"æ’å…¥çˆ¶èŠ‚ç‚¹",addSibling:"æ’å…¥åŒçº§èŠ‚ç‚¹",removeNode:"åˆ é™¤èŠ‚ç‚¹",focus:"ä¸“æ³¨",cancelFocus:"å–æ¶ˆä¸“æ³¨",moveUp:"ä¸Šç§»",moveDown:"ä¸‹ç§»",link:"è¿žæŽ¥",clickTips:"è¯·ç‚¹å‡»ç›®æ ‡èŠ‚ç‚¹",summary:"æ‘˜è¦"},Ni={cn:ki,zh_CN:ki,zh_TW:{addChild:"æ’å…¥å­ç¯€é»ž",addParent:"æ’å…¥çˆ¶ç¯€é»ž",addSibling:"æ’å…¥åŒç´šç¯€é»ž",removeNode:"åˆªé™¤ç¯€é»ž",focus:"å°ˆæ³¨",cancelFocus:"å–æ¶ˆå°ˆæ³¨",moveUp:"ä¸Šç§»",moveDown:"ä¸‹ç§»",link:"é€£æŽ¥",clickTips:"è«‹é»žæ“Šç›®æ¨™ç¯€é»ž",summary:"æ‘˜è¦"},en:{addChild:"Add child",addParent:"Add parent",addSibling:"Add sibling",removeNode:"Remove node",focus:"Focus Mode",cancelFocus:"Cancel Focus Mode",moveUp:"Move up",moveDown:"Move down",link:"Link",clickTips:"Please click the target node",summary:"Summary"},ru:{addChild:"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð´Ð¾Ñ‡ÐµÑ€Ð½Ð¸Ð¹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚",addParent:"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ñ€Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÑÐºÐ¸Ð¹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚",addSibling:"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð° ÑÑ‚Ð¾Ð¼ ÑƒÑ€Ð¾Ð²Ð½Ðµ",removeNode:"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ ÑƒÐ·ÐµÐ»",focus:"Ð ÐµÐ¶Ð¸Ð¼ Ñ„Ð¾ÐºÑƒÑÐ¸Ñ€Ð¾Ð²ÐºÐ¸",cancelFocus:"ÐžÑ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ñ€ÐµÐ¶Ð¸Ð¼ Ñ„Ð¾ÐºÑƒÑÐ¸Ñ€Ð¾Ð²ÐºÐ¸",moveUp:"ÐŸÐ¾Ð´Ð½ÑÑ‚ÑŒ Ð²Ñ‹ÑˆÐµ",moveDown:"ÐžÐ¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð½Ð¸Ð¶Ðµ",link:"Ð¡ÑÑ‹Ð»ÐºÐ°",clickTips:"ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð½Ð°Ð¶Ð¼Ð¸Ñ‚Ðµ Ð½Ð° Ñ†ÐµÐ»ÐµÐ²Ð¾Ð¹ ÑƒÐ·ÐµÐ»",summary:"ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ"},ja:{addChild:"å­ãƒŽãƒ¼ãƒ‰ã‚’è¿½åŠ ã™ã‚‹",addParent:"è¦ªãƒŽãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¾ã™",addSibling:"å…„å¼ŸãƒŽãƒ¼ãƒ‰ã‚’è¿½åŠ ã™ã‚‹",removeNode:"ãƒŽãƒ¼ãƒ‰ã‚’å‰Šé™¤",focus:"é›†ä¸­",cancelFocus:"é›†ä¸­è§£é™¤",moveUp:"ä¸Šã¸ç§»å‹•",moveDown:"ä¸‹ã¸ç§»å‹•",link:"ã‚³ãƒã‚¯ãƒˆ",clickTips:"ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒŽãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„",summary:"æ¦‚è¦"},pt:{addChild:"Adicionar item filho",addParent:"Adicionar item pai",addSibling:"Adicionar item irmao",removeNode:"Remover item",focus:"Modo Foco",cancelFocus:"Cancelar Modo Foco",moveUp:"Mover para cima",moveDown:"Mover para baixo",link:"Link",clickTips:"Favor clicar no item alvo",summary:"Resumo"}};function Qa(t,e){const n=A=>{const x=document.createElement("div");return x.innerText=A,x.className="tips",x},r=(A,x,_)=>{const R=document.createElement("li");return R.id=A,R.innerHTML=`<span>${rn(x)}</span><span>${rn(_)}</span>`,R},i=Ni[t.locale]?t.locale:"en",s=Ni[i],o=r("cm-add_child",s.addChild,"tab"),l=r("cm-add_parent",s.addParent,""),a=r("cm-add_sibling",s.addSibling,"enter"),d=r("cm-remove_child",s.removeNode,"delete"),c=r("cm-fucus",s.focus,""),f=r("cm-unfucus",s.cancelFocus,""),u=r("cm-up",s.moveUp,"PgUp"),h=r("cm-down",s.moveDown,"Pgdn"),v=r("cm-down",s.link,""),p=r("cm-down",s.summary,""),g=document.createElement("ul");if(g.className="menu-list",g.appendChild(o),g.appendChild(l),g.appendChild(a),g.appendChild(d),(!e||e.focus)&&(g.appendChild(c),g.appendChild(f)),g.appendChild(u),g.appendChild(h),g.appendChild(p),(!e||e.link)&&g.appendChild(v),e&&e.extend)for(let A=0;A<e.extend.length;A++){const x=e.extend[A],_=r(x.name,x.name,x.key||"");g.appendChild(_),_.onclick=R=>{x.onclick(R)}}const b=document.createElement("div");b.className="context-menu",b.appendChild(g),b.hidden=!0,t.container.append(b);let w=!0;t.container.oncontextmenu=function(A){if(A.preventDefault(),!t.editable)return;const x=A.target;if(tr(x)){x.parentElement.tagName==="ME-ROOT"?w=!0:w=!1,w?(c.className="disabled",u.className="disabled",h.className="disabled",l.className="disabled",a.className="disabled",d.className="disabled"):(c.className="",u.className="",h.className="",l.className="",a.className="",d.className=""),t.currentNodes||t.selectNode(x),b.hidden=!1,ae.mousedown&&(ae.mousedown=!1),g.style.top="",g.style.bottom="",g.style.left="",g.style.right="";const _=g.getBoundingClientRect(),R=g.offsetHeight,O=g.offsetWidth,T=A.clientY-_.top,B=A.clientX-_.left;R+T>window.innerHeight?(g.style.top="",g.style.bottom="0px"):(g.style.bottom="",g.style.top=T+15+"px"),O+B>window.innerWidth?(g.style.left="",g.style.right="0px"):(g.style.right="",g.style.left=B+10+"px")}},b.onclick=A=>{A.target===b&&(b.hidden=!0)},o.onclick=()=>{t.addChild(),b.hidden=!0},l.onclick=()=>{t.insertParent(),b.hidden=!0},a.onclick=()=>{w||(t.insertSibling("after"),b.hidden=!0)},d.onclick=()=>{w||(t.removeNode(),b.hidden=!0)},c.onclick=()=>{w||(t.focusNode(t.currentNode),b.hidden=!0)},f.onclick=()=>{t.cancelFocus(),b.hidden=!0},u.onclick=()=>{w||(t.moveUpNode(),b.hidden=!0)},h.onclick=()=>{w||(t.moveDownNode(),b.hidden=!0)},v.onclick=()=>{b.hidden=!0;const A=t.currentNode,x=n(s.clickTips);t.container.appendChild(x),t.map.addEventListener("click",_=>{_.preventDefault(),x.remove();const R=_.target;R.parentElement.tagName==="ME-PARENT"||R.parentElement.tagName==="ME-ROOT"?t.createArrow(A,R):console.log("link cancel")},{once:!0})},p.onclick=()=>{b.hidden=!0,t.createSummary(),t.unselectNodes()}}const Za=t=>{const e=t.map.querySelectorAll(".lhs>me-wrapper>me-parent>me-tpc");t.selectNode(e[Math.ceil(e.length/2)-1])},Xa=t=>{const e=t.map.querySelectorAll(".rhs>me-wrapper>me-parent>me-tpc");t.selectNode(e[Math.ceil(e.length/2)-1])},Ka=t=>{t.selectNode(t.map.querySelector("me-root>me-tpc"))},Ja=function(t,e){const n=e.parentElement.parentElement.parentElement.previousSibling;if(n){const r=n.firstChild;t.selectNode(r)}},ec=function(t,e){const n=e.parentElement.nextSibling;if(n&&n.firstChild){const r=n.firstChild.firstChild.firstChild;t.selectNode(r)}},Ii=function(t,e){var n,r;const i=t.currentNode||((n=t.currentNodes)==null?void 0:n[0]);if(!i)return;const s=i.nodeObj,o=i.offsetParent.offsetParent.parentElement;s.root?e==="lhs"?Za(t):Xa(t):o.className===e?ec(t,i):(r=s.parent)!=null&&r.root?Ka(t):Ja(t,i)},Oi=function(t,e){var n;const r=t.currentNode||((n=t.currentNodes)==null?void 0:n[0]);if(!r||r.nodeObj.root)return;const i=e+"Sibling",s=r.parentElement.parentElement[i];s&&t.selectNode(s.firstChild.firstChild)};function tc(t){const e=()=>{t.currentArrow?t.removeArrow():t.currentSummary?t.removeSummary(t.currentSummary.summaryObj.id):t.currentNode?t.removeNode():t.currentNodes&&t.removeNodes(t.currentNodes)},n={13:r=>{r.shiftKey?t.insertSibling("before"):r.ctrlKey?t.insertParent():t.insertSibling("after")},9:()=>{t.addChild()},112:()=>{t.toCenter()},113:()=>{t.beginEdit()},38:r=>{if(r.altKey)t.moveUpNode();else{if(r.metaKey||r.ctrlKey)return t.initSide();Oi(t,"previous")}},40:r=>{r.altKey?t.moveDownNode():Oi(t,"next")},37:r=>{if(r.metaKey||r.ctrlKey)return t.initLeft();Ii(t,"lhs")},39:r=>{if(r.metaKey||r.ctrlKey)return t.initRight();Ii(t,"rhs")},33(){t.moveUpNode()},34(){t.moveDownNode()},67:r=>{(r.metaKey||r.ctrlKey)&&(t.currentNode?t.waitCopy=[t.currentNode]:t.currentNodes&&(t.waitCopy=t.currentNodes))},86:r=>{!t.waitCopy||!t.currentNode||(r.metaKey||r.ctrlKey)&&(t.waitCopy.length===1?t.copyNode(t.waitCopy[0],t.currentNode):t.copyNodes(t.waitCopy,t.currentNode))},187:r=>{if(r.metaKey||r.ctrlKey){if(t.scaleVal>1.6)return;t.scale(t.scaleVal+=.2)}},189:r=>{if(r.metaKey||r.ctrlKey){if(t.scaleVal<.6)return;t.scale(t.scaleVal-=.2)}},48:r=>{(r.metaKey||r.ctrlKey)&&t.scale(1)},8:e,46:e};t.map.onkeydown=r=>{if(r.preventDefault(),!t.editable||r.target!==r.currentTarget)return;const i=n[r.keyCode];i&&i(r)}}function nc(t,e){const n=(u,h)=>{const v=document.createElement("div");return v.id=u,v.innerHTML=`<svg class="icon" aria-hidden="true">
    <use xlink:href="#icon-${h}"></use>
  </svg>`,v},r=n("cm-add_child","zijiedian"),i=n("cm-add_sibling","tongjijiedian-"),s=n("cm-remove_child","shanchu2"),o=n("cm-up","rising"),l=n("cm-down","falling"),a=n("cm-edit","edit"),d=document.createElement("ul");d.className="menu-list";const c=document.createElement("mmenu");c.className="mobile-menu",c.appendChild(r),c.appendChild(i),c.appendChild(s),c.appendChild(o),c.appendChild(l),c.appendChild(a),c.hidden=!0,t.container.append(c);let f=!0;t.bus.addListener("unselectNode",function(){c.hidden=!0}),t.bus.addListener("selectNode",function(u){c.hidden=!1,u.root?f=!0:f=!1}),c.onclick=u=>{u.target===c&&(c.hidden=!0)},r.onclick=()=>{t.addChild()},i.onclick=()=>{f||t.insertSibling("after")},s.onclick=()=>{f||t.removeNode()},o.onclick=u=>{f||t.moveUpNode()},l.onclick=u=>{f||t.moveDownNode()},a.onclick=u=>{t.beginEdit()}}const nr=document,rc=function(t,e){if(!e)return rr(t),t;let n=t.querySelector(".insert-preview");const r=`insert-preview ${e} show`;return n||(n=nr.createElement("div"),t.appendChild(n)),n.className=r,t},rr=function(t){if(!t)return;const e=t.querySelectorAll(".insert-preview");for(const n of e||[])n.remove()},Li=function(t,e){for(const n of e){const r=n.parentElement.parentElement.contains(t);if(!(t&&t.tagName==="ME-TPC"&&t!==n&&!r&&t.nodeObj.root!==!0))return!1}return!0},ic=function(t){const e=document.createElement("div");return e.className="mind-elixir-ghost",t.map.appendChild(e),e};function sc(t){let e=null,n=null,r=null;const i=ic(t),s=12;t.map.addEventListener("dragstart",o=>{var l,a;const d=o.target;if((d==null?void 0:d.tagName)!=="ME-TPC"){o.preventDefault();return}(l=t.currentNodes)!=null&&l.includes(d)||(t.unselectNodes(),t.selectNode(d)),t.currentNodes?(e=t.currentNodes,i.innerHTML=t.currentNodes.length+" nodes"):(e=[d],i.innerHTML=d.innerHTML);for(const c of e)c.parentElement.parentElement.style.opacity="0.5";(a=o.dataTransfer)==null||a.setDragImage(i,0,0),ae.clear()}),t.map.addEventListener("dragend",async o=>{if(!e)return;for(const a of e)a.parentElement.parentElement.style.opacity="1";const l=o.target;l.style.opacity="",r&&(rr(r),n==="before"?t.moveNodeBefore(e,r):n==="after"?t.moveNodeAfter(e,r):n==="in"&&t.moveNodeIn(e,r),e=null)}),t.map.addEventListener("dragover",La(function(o){if(!e)return;rr(r);const l=nr.elementFromPoint(o.clientX,o.clientY-s);if(Li(l,e)){r=l;const a=l.getBoundingClientRect().y;o.clientY>a+l.clientHeight?n="after":n="in"}else{const a=nr.elementFromPoint(o.clientX,o.clientY+s);if(Li(a,e)){r=a;const d=a.getBoundingClientRect().y;o.clientY<d?n="before":n="in"}else n=r=null}r&&rc(r,n)},100))}const oc=function(t){return["createSummary","removeSummary","finishEditSummary"].includes(t.name)?{type:"summary",value:t.obj.id}:["createArrow","removeArrow","finishEditArrowLabel"].includes(t.name)?{type:"arrow",value:t.obj.id}:["removeNodes","copyNodes","moveNodeBefore","moveNodeAfter","moveNodeIn"].includes(t.name)?{type:"nodes",value:t.objs.map(e=>e.id)}:{type:"node",value:t.obj.id}};function lc(t){let e=[],n=-1,r=t.getData();t.bus.addListener("operation",i=>{if(i.name==="beginEdit")return;e=e.slice(0,n+1);const s=t.getData();e.push({prev:r,currentObject:oc(i),next:s}),r=s,n=e.length-1}),t.undo=function(){if(n>-1){const i=e[n];r=i.prev,t.refresh(i.prev),i.currentObject.type==="node"?t.selectNode(Q(i.currentObject.value)):i.currentObject.type==="nodes"&&t.selectNodes(i.currentObject.value.map(s=>Q(s))),n--,console.log("current",r)}},t.redo=function(){if(n<e.length-1){n++;const i=e[n];r=i.next,t.refresh(i.next),i.currentObject.type==="node"?t.selectNode(Q(i.currentObject.value)):i.currentObject.type==="nodes"&&t.selectNodes(i.currentObject.value.map(s=>Q(s)))}},t.map.addEventListener("keydown",i=>{(i.metaKey||i.ctrlKey)&&i.shiftKey&&i.key==="Z"?t.redo():(i.metaKey||i.ctrlKey)&&i.key==="z"&&t.undo()})}const Ge=(t,e)=>{const n=document.createElement("span");return n.id=t,n.innerHTML=`<svg class="icon" aria-hidden="true">
    <use xlink:href="#icon-${e}"></use>
  </svg>`,n};function ac(t){const e=document.createElement("div"),n=Ge("fullscreen","full"),r=Ge("toCenter","living"),i=Ge("zoomout","move"),s=Ge("zoomin","add"),o=document.createElement("span");return o.innerText="100%",e.appendChild(n),e.appendChild(r),e.appendChild(i),e.appendChild(s),e.className="mind-elixir-toolbar rb",n.onclick=()=>{t.container.requestFullscreen()},r.onclick=()=>{t.toCenter()},i.onclick=()=>{t.scaleVal<.6||t.scale(t.scaleVal-=.2)},s.onclick=()=>{t.scaleVal>1.6||t.scale(t.scaleVal+=.2)},e}function cc(t){const e=document.createElement("div"),n=Ge("tbltl","left"),r=Ge("tbltr","right"),i=Ge("tblts","side");return e.appendChild(n),e.appendChild(r),e.appendChild(i),e.className="mind-elixir-toolbar lt",n.onclick=()=>{t.initLeft()},r.onclick=()=>{t.initRight()},i.onclick=()=>{t.initSide()},e}function dc(t){t.container.append(ac(t)),t.container.append(cc(t))}/*! @viselect/vanilla v3.3.1 MIT | https://github.com/Simonwep/selection/tree/master/packages/vanilla */var uc=Object.defineProperty,fc=(t,e,n)=>e in t?uc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,G=(t,e,n)=>(fc(t,typeof e!="symbol"?e+"":e,n),n);class hc{constructor(){G(this,"_listeners",new Map),G(this,"on",this.addEventListener),G(this,"off",this.removeEventListener),G(this,"emit",this.dispatchEvent)}addEventListener(e,n){const r=this._listeners.get(e)??new Set;return this._listeners.set(e,r),r.add(n),this}removeEventListener(e,n){var r;return(r=this._listeners.get(e))==null||r.delete(n),this}dispatchEvent(e,...n){let r=!0;for(const i of this._listeners.get(e)??[])r=i(...n)!==!1&&r;return r}unbindAllListeners(){this._listeners.clear()}}const Pi=(t,e="px")=>typeof t=="number"?t+e:t;function De({style:t},e,n){if(typeof e=="object")for(const[r,i]of Object.entries(e))i!==void 0&&(t[r]=Pi(i));else n!==void 0&&(t[e]=Pi(n))}function ro(t){return(e,n,r,i={})=>{e instanceof HTMLCollection||e instanceof NodeList?e=Array.from(e):Array.isArray(e)||(e=[e]),Array.isArray(n)||(n=[n]);for(const s of e)for(const o of n)s[t](o,r,{capture:!1,...i});return[e,n,r,i]}}const nt=ro("addEventListener"),_e=ro("removeEventListener"),zt=t=>{var e;const{clientX:n,clientY:r,target:i}=((e=t.touches)==null?void 0:e[0])??t;return{x:n,y:r,target:i}};function Hi(t,e,n="touch"){switch(n){case"center":{const r=e.left+e.width/2,i=e.top+e.height/2;return r>=t.left&&r<=t.right&&i>=t.top&&i<=t.bottom}case"cover":return e.left>=t.left&&e.top>=t.top&&e.right<=t.right&&e.bottom<=t.bottom;case"touch":return t.right>=e.left&&t.left<=e.right&&t.bottom>=e.top&&t.top<=e.bottom}}function rt(t,e=document){const n=Array.isArray(t)?t:[t];let r=[];for(let i=0,s=n.length;i<s;i++){const o=n[i];typeof o=="string"?r=r.concat(Array.from(e.querySelectorAll(o))):o instanceof Element&&r.push(o)}return r}const pc=()=>matchMedia("(hover: none), (pointer: coarse)").matches,gc=()=>"safari"in window,mc=t=>{let e,n=-1,r=!1;return{next(...i){e=i,r||(r=!0,n=requestAnimationFrame(()=>{t(...e),r=!1}))},cancel(){cancelAnimationFrame(n),r=!1}}},{abs:ze,max:ji,min:zi,ceil:Bi}=Math;class io extends hc{constructor(e){var n,r,i,s,o;super(),G(this,"_options"),G(this,"_selection",{stored:[],selected:[],touched:[],changed:{added:[],removed:[]}}),G(this,"_area"),G(this,"_clippingElement"),G(this,"_targetElement"),G(this,"_targetRect"),G(this,"_selectables",[]),G(this,"_latestElement"),G(this,"_areaRect",new DOMRect),G(this,"_areaLocation",{y1:0,x2:0,y2:0,x1:0}),G(this,"_singleClick",!0),G(this,"_frame"),G(this,"_scrollAvailable",!0),G(this,"_scrollingActive",!1),G(this,"_scrollSpeed",{x:0,y:0}),G(this,"_scrollDelta",{x:0,y:0}),G(this,"disable",this._bindStartEvents.bind(this,!1)),G(this,"enable",this._bindStartEvents),this._options={selectionAreaClass:"selection-area",selectionContainerClass:void 0,selectables:[],document:window.document,startAreas:["html"],boundaries:["html"],container:"body",...e,behaviour:{overlap:"invert",intersect:"touch",...e.behaviour,startThreshold:(n=e.behaviour)!=null&&n.startThreshold?typeof e.behaviour.startThreshold=="number"?e.behaviour.startThreshold:{x:10,y:10,...e.behaviour.startThreshold}:{x:10,y:10},scrolling:{speedDivider:10,manualSpeed:750,...(r=e.behaviour)==null?void 0:r.scrolling,startScrollMargins:{x:0,y:0,...(s=(i=e.behaviour)==null?void 0:i.scrolling)==null?void 0:s.startScrollMargins}}},features:{range:!0,touch:!0,...e.features,singleTap:{allow:!0,intersect:"native",...(o=e.features)==null?void 0:o.singleTap}}};for(const c of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))typeof this[c]=="function"&&(this[c]=this[c].bind(this));const{document:l,selectionAreaClass:a,selectionContainerClass:d}=this._options;this._area=l.createElement("div"),this._clippingElement=l.createElement("div"),this._clippingElement.appendChild(this._area),this._area.classList.add(a),d&&this._clippingElement.classList.add(d),De(this._area,{willChange:"top, left, bottom, right, width, height",top:0,left:0,position:"fixed"}),De(this._clippingElement,{overflow:"hidden",position:"fixed",transform:"translate3d(0, 0, 0)",pointerEvents:"none",zIndex:"1"}),this._frame=mc(c=>{this._recalculateSelectionAreaRect(),this._updateElementSelection(),this._emitEvent("move",c),this._redrawSelectionArea()}),this.enable()}_bindStartEvents(e=!0){const{document:n,features:r}=this._options,i=e?nt:_e;i(n,"mousedown",this._onTapStart),r.touch&&i(n,"touchstart",this._onTapStart,{passive:!1})}_onTapStart(e,n=!1){const{x:r,y:i,target:s}=zt(e),{_options:o}=this,{document:l}=this._options,a=s.getBoundingClientRect(),d=rt(o.startAreas,o.document),c=rt(o.boundaries,o.document);this._targetElement=c.find(h=>Hi(h.getBoundingClientRect(),a));const f=e.composedPath();if(!this._targetElement||!d.find(h=>f.includes(h))||!c.find(h=>f.includes(h))||!n&&this._emitEvent("beforestart",e)===!1)return;this._areaLocation={x1:r,y1:i,x2:0,y2:0};const u=l.scrollingElement??l.body;this._scrollDelta={x:u.scrollLeft,y:u.scrollTop},this._singleClick=!0,this.clearSelection(!1,!0),nt(l,["touchmove","mousemove"],this._delayedTapMove,{passive:!1}),nt(l,["mouseup","touchcancel","touchend"],this._onTapStop),nt(l,"scroll",this._onScroll)}_onSingleTap(e){const{singleTap:{intersect:n},range:r}=this._options.features,i=zt(e);let s;if(n==="native")s=i.target;else if(n==="touch"){this.resolveSelectables();const{x:l,y:a}=i;s=this._selectables.find(d=>{const{right:c,left:f,top:u,bottom:h}=d.getBoundingClientRect();return l<c&&l>f&&a<h&&a>u})}if(!s)return;for(this.resolveSelectables();!this._selectables.includes(s);){if(!s.parentElement)return;s=s.parentElement}const{stored:o}=this._selection;if(this._emitEvent("start",e),e.shiftKey&&r&&this._latestElement){const l=this._latestElement,[a,d]=l.compareDocumentPosition(s)&4?[s,l]:[l,s],c=[...this._selectables.filter(f=>f.compareDocumentPosition(a)&4&&f.compareDocumentPosition(d)&2),a,d];this.select(c),this._latestElement=l}else o.includes(s)&&(o.length===1||e.ctrlKey||o.every(l=>this._selection.stored.includes(l)))?this.deselect(s):(this.select(s),this._latestElement=s);this._emitEvent("stop",e)}_delayedTapMove(e){const{container:n,document:r,behaviour:{startThreshold:i}}=this._options,{x1:s,y1:o}=this._areaLocation,{x:l,y:a}=zt(e);if(typeof i=="number"&&ze(l+a-(s+o))>=i||typeof i=="object"&&ze(l-s)>=i.x||ze(a-o)>=i.y){if(_e(r,["mousemove","touchmove"],this._delayedTapMove,{passive:!1}),this._emitEvent("beforedrag",e)===!1){_e(r,["mouseup","touchcancel","touchend"],this._onTapStop);return}nt(r,["mousemove","touchmove"],this._onTapMove,{passive:!1}),De(this._area,"display","block"),rt(n,r)[0].appendChild(this._clippingElement),this.resolveSelectables(),this._singleClick=!1,this._targetRect=this._targetElement.getBoundingClientRect(),this._scrollAvailable=this._targetElement.scrollHeight!==this._targetElement.clientHeight||this._targetElement.scrollWidth!==this._targetElement.clientWidth,this._scrollAvailable&&(nt(r,"wheel",this._manualScroll,{passive:!1}),this._selectables=this._selectables.filter(d=>this._targetElement.contains(d))),this._setupSelectionArea(),this._emitEvent("start",e),this._onTapMove(e)}this._handleMoveEvent(e)}_setupSelectionArea(){const{_clippingElement:e,_targetElement:n,_area:r}=this,i=this._targetRect=n.getBoundingClientRect();this._scrollAvailable?(De(e,{top:i.top,left:i.left,width:i.width,height:i.height}),De(r,{marginTop:-i.top,marginLeft:-i.left})):(De(e,{top:0,left:0,width:"100%",height:"100%"}),De(r,{marginTop:0,marginLeft:0}))}_onTapMove(e){const{x:n,y:r}=zt(e),{_scrollSpeed:i,_areaLocation:s,_options:o,_frame:l}=this,{speedDivider:a}=o.behaviour.scrolling,d=this._targetElement;if(s.x2=n,s.y2=r,this._scrollAvailable&&!this._scrollingActive&&(i.y||i.x)){this._scrollingActive=!0;const c=()=>{if(!i.x&&!i.y){this._scrollingActive=!1;return}const{scrollTop:f,scrollLeft:u}=d;i.y&&(d.scrollTop+=Bi(i.y/a),s.y1-=d.scrollTop-f),i.x&&(d.scrollLeft+=Bi(i.x/a),s.x1-=d.scrollLeft-u),l.next(e),requestAnimationFrame(c)};requestAnimationFrame(c)}else l.next(e);this._handleMoveEvent(e)}_handleMoveEvent(e){const{features:n}=this._options;(n.touch&&pc()||this._scrollAvailable&&gc())&&e.preventDefault()}_onScroll(){const{_scrollDelta:e,_options:{document:n}}=this,{scrollTop:r,scrollLeft:i}=n.scrollingElement??n.body;this._areaLocation.x1+=e.x-i,this._areaLocation.y1+=e.y-r,e.x=i,e.y=r,this._setupSelectionArea(),this._frame.next(null)}_manualScroll(e){const{manualSpeed:n}=this._options.behaviour.scrolling,r=e.deltaY?e.deltaY>0?1:-1:0,i=e.deltaX?e.deltaX>0?1:-1:0;this._scrollSpeed.y+=r*n,this._scrollSpeed.x+=i*n,this._onTapMove(e),e.preventDefault()}_recalculateSelectionAreaRect(){const{_scrollSpeed:e,_areaLocation:n,_areaRect:r,_targetElement:i,_options:s}=this,{scrollTop:o,scrollHeight:l,clientHeight:a,scrollLeft:d,scrollWidth:c,clientWidth:f}=i,u=this._targetRect,{x1:h,y1:v}=n;let{x2:p,y2:g}=n;const{behaviour:{scrolling:{startScrollMargins:b}}}=s;p<u.left+b.x?(e.x=d?-ze(u.left-p+b.x):0,p=p<u.left?u.left:p):p>u.right-b.x?(e.x=c-d-f?ze(u.left+u.width-p-b.x):0,p=p>u.right?u.right:p):e.x=0,g<u.top+b.y?(e.y=o?-ze(u.top-g+b.y):0,g=g<u.top?u.top:g):g>u.bottom-b.y?(e.y=l-o-a?ze(u.top+u.height-g-b.y):0,g=g>u.bottom?u.bottom:g):e.y=0;const w=zi(h,p),A=zi(v,g),x=ji(h,p),_=ji(v,g);r.x=w,r.y=A,r.width=x-w,r.height=_-A}_redrawSelectionArea(){const{x:e,y:n,width:r,height:i}=this._areaRect,{style:s}=this._area;s.left=`${e}px`,s.top=`${n}px`,s.width=`${r}px`,s.height=`${i}px`}_onTapStop(e,n){var r;const{document:i,features:s}=this._options,{_singleClick:o}=this;_e(i,["mousemove","touchmove"],this._delayedTapMove),_e(i,["touchmove","mousemove"],this._onTapMove),_e(i,["mouseup","touchcancel","touchend"],this._onTapStop),_e(i,"scroll",this._onScroll),this._keepSelection(),e&&o&&s.singleTap.allow?this._onSingleTap(e):!o&&!n&&(this._updateElementSelection(),this._emitEvent("stop",e)),this._scrollSpeed.x=0,this._scrollSpeed.y=0,this._scrollAvailable&&_e(i,"wheel",this._manualScroll,{passive:!0}),this._clippingElement.remove(),(r=this._frame)==null||r.cancel(),De(this._area,"display","none")}_updateElementSelection(){const{_selectables:e,_options:n,_selection:r,_areaRect:i}=this,{stored:s,selected:o,touched:l}=r,{intersect:a,overlap:d}=n.behaviour,c=d==="invert",f=[],u=[],h=[];for(let p=0;p<e.length;p++){const g=e[p];if(Hi(i,g.getBoundingClientRect(),a)){if(o.includes(g))s.includes(g)&&!l.includes(g)&&l.push(g);else if(c&&s.includes(g)){h.push(g);continue}else u.push(g);f.push(g)}}c&&u.push(...s.filter(p=>!o.includes(p)));const v=d==="keep";for(let p=0;p<o.length;p++){const g=o[p];!f.includes(g)&&!(v&&s.includes(g))&&h.push(g)}r.selected=f,r.changed={added:u,removed:h},this._latestElement=void 0}_emitEvent(e,n){return this.emit(e,{event:n,store:this._selection,selection:this})}_keepSelection(){const{_options:e,_selection:n}=this,{selected:r,changed:i,touched:s,stored:o}=n,l=r.filter(a=>!o.includes(a));switch(e.behaviour.overlap){case"drop":{n.stored=[...l,...o.filter(a=>!s.includes(a))];break}case"invert":{n.stored=[...l,...o.filter(a=>!i.removed.includes(a))];break}case"keep":{n.stored=[...o,...r.filter(a=>!o.includes(a))];break}}}trigger(e,n=!0){this._onTapStart(e,n)}resolveSelectables(){this._selectables=rt(this._options.selectables,this._options.document)}clearSelection(e=!0,n=!1){const{selected:r,stored:i,changed:s}=this._selection;s.added=[],s.removed.push(...r,...e?i:[]),n||(this._emitEvent("move",null),this._emitEvent("stop",null)),this._selection={stored:e?[]:i,selected:[],touched:[],changed:{added:[],removed:[]}}}getSelection(){return this._selection.stored}getSelectionArea(){return this._area}cancel(e=!1){this._onTapStop(null,!e)}destroy(){this.cancel(),this.disable(),this._clippingElement.remove(),super.unbindAllListeners()}select(e,n=!1){const{changed:r,selected:i,stored:s}=this._selection,o=rt(e,this._options.document).filter(l=>!i.includes(l)&&!s.includes(l));return s.push(...o),i.push(...o),r.added.push(...o),r.removed=[],this._latestElement=void 0,n||(this._emitEvent("move",null),this._emitEvent("stop",null)),o}deselect(e,n=!1){const{selected:r,stored:i,changed:s}=this._selection,o=rt(e,this._options.document).filter(l=>r.includes(l)||i.includes(l));o.length&&(this._selection.stored=i.filter(l=>!o.includes(l)),this._selection.selected=r.filter(l=>!o.includes(l)),this._selection.changed.added=[],this._selection.changed.removed.push(...o.filter(l=>!s.removed.includes(l))),this._latestElement=void 0,n||(this._emitEvent("move",null),this._emitEvent("stop",null)))}}G(io,"version","3.3.1");function vc(t){const e=new io({selectables:[".map-container me-tpc"],boundaries:[t.container],container:"body",behaviour:{scrolling:{speedDivider:10,manualSpeed:750,startScrollMargins:{x:10,y:10}}}}).on("beforestart",({event:n})=>{if(n.button!==t.mouseSelectionButton||n.target.tagName==="ME-TPC"||n.target.id==="input-box"||n.target.className==="circle")return!1;const r=e.getSelectionArea();return r.style.background="#4f90f22d",r.style.border="1px solid #4f90f2",r.parentElement&&(r.parentElement.style.zIndex="9999"),!0}).on("start",({event:n})=>{!n.ctrlKey&&!n.metaKey&&(t.clearSelection(),e.clearSelection(!0,!0))}).on("move",({store:{changed:{added:n,removed:r}}})=>{ae.moved=!0;for(const i of n)i.classList.add("selected");for(const i of r)i.classList.remove("selected")}).on("stop",({store:{stored:n}})=>{t.selectNodes(n)});t.selection=e}const bc=function(t,e=!0){this.theme=t;const n=this.theme.cssVar,r=Object.keys(n);for(let i=0;i<r.length;i++){const s=r[i];this.mindElixirBox.style.setProperty(s,n[s])}e&&this.refresh()};function so(t){return{nodeData:t.isFocusMode?t.nodeDataBackup:t.nodeData,arrows:t.arrows,summaries:t.summaries,direction:t.direction,theme:t.theme}}const yc=function(t,e,n){if(t){if(console.time("selectNode"),this.clearSelection(),typeof t=="string"){const r=Q(t);return r?this.selectNode(r):void 0}t.className="selected",t.scrollIntoView({block:"nearest",inline:"nearest"}),this.currentNode=t,e?this.bus.fire("selectNewNode",t.nodeObj):this.bus.fire("selectNode",t.nodeObj,n),console.timeEnd("selectNode")}},Ec=function(){this.currentNode&&(this.currentNode.className=""),this.currentNode=null,this.bus.fire("unselectNode")},wc=function(t){console.time("selectNodes"),this.clearSelection();for(const e of t)e.className="selected";this.currentNodes=t,this.bus.fire("selectNodes",t.map(e=>e.nodeObj)),console.timeEnd("selectNodes")},Sc=function(){if(this.currentNodes)for(const t of this.currentNodes)t.classList.remove("selected");this.currentNodes=null,this.bus.fire("unselectNodes")},Cc=function(){this.unselectNode(),this.unselectNodes(),this.unselectSummary(),this.unselectArrow()},Ac=function(){const t=so(this);return JSON.stringify(t,(e,n)=>{if(!(e==="parent"&&typeof n!="string"))return n})},xc=function(){return JSON.parse(this.getDataString())},Dc=function(){const t=so(this).nodeData;let e="# "+t.topic+`

`;function n(r,i){for(let s=0;s<r.length;s++)i<=6?e+="".padStart(i,"#")+" "+r[s].topic+`

`:e+="".padStart(i-7,"	")+"- "+r[s].topic+`
`,r[s].children&&n(r[s].children||[],i+1)}return n(t.children||[],2),e},_c=function(){this.editable=!0},Rc=function(){this.editable=!1},Tc=function(t){this.scaleVal=t,this.map.style.transform="scale("+t+")"},Mc=function(){this.container.scrollTo(1e4-this.container.offsetWidth/2,1e4-this.container.offsetHeight/2)},kc=function(t){t(this)},Nc=function(t){t.nodeObj.root||(this.tempDirection===null&&(this.tempDirection=this.direction),this.isFocusMode||(this.nodeDataBackup=this.nodeData,this.isFocusMode=!0),this.nodeData=t.nodeObj,this.nodeData.root=!0,this.initRight(),this.toCenter())},Ic=function(){this.isFocusMode=!1,this.tempDirection!==null&&(delete this.nodeData.root,this.nodeData=this.nodeDataBackup,this.direction=this.tempDirection,this.tempDirection=null,this.refresh(),this.toCenter())},Oc=function(){this.direction=0,this.refresh()},Lc=function(){this.direction=1,this.refresh()},Pc=function(){this.direction=2,this.refresh()},Hc=function(t){this.locale=t,this.refresh()},jc=function(t,e){const n=t.nodeObj;typeof e=="boolean"?n.expanded=e:n.expanded!==!1?n.expanded=!1:n.expanded=!0,this.layout(),this.linkDiv(),this.bus.fire("expandNode",n)},zc=function(t){t&&(t=JSON.parse(JSON.stringify(t)),this.nodeData=t.nodeData,this.arrows=t.arrows||[],this.summaries=t.summaries||[]),Pe(this.nodeData),this.layout(),this.linkDiv()},Bc=Object.freeze(Object.defineProperty({__proto__:null,cancelFocus:Ic,clearSelection:Cc,disableEdit:Rc,enableEdit:_c,expandNode:jc,focusNode:Nc,getData:xc,getDataMd:Dc,getDataString:Ac,initLeft:Oc,initRight:Lc,initSide:Pc,install:kc,refresh:zc,scale:Tc,selectNode:yc,selectNodes:wc,setLocale:Hc,toCenter:Mc,unselectNode:Ec,unselectNodes:Sc},Symbol.toStringTag,{value:"Module"})),mt=t=>{var e;const n=(e=t.parent)==null?void 0:e.children,r=n.indexOf(t);return{siblings:n,index:r}};function Fc(t){const{siblings:e,index:n}=mt(t),r=e[n];n===0?(e[n]=e[e.length-1],e[e.length-1]=r):(e[n]=e[n-1],e[n-1]=r)}function Uc(t){const{siblings:e,index:n}=mt(t),r=e[n];n===e.length-1?(e[n]=e[0],e[0]=r):(e[n]=e[n+1],e[n+1]=r)}function Rr(t){const{siblings:e,index:n}=mt(t);return e.splice(n,1),e.length}function Wc(t,e,n){const{siblings:r,index:i}=mt(n);e==="before"?r.splice(i,0,t):r.splice(i+1,0,t)}function Vc(t,e){const{siblings:n,index:r}=mt(t);n[r]=e,e.children=[t]}function oo(t,e,n){if(Rr(e),t==="in")n.children?n.children.push(e):n.children=[e];else{e.direction!==void 0&&(e.direction=n.direction);const{siblings:r,index:i}=mt(n);t==="before"?r.splice(i,0,e):r.splice(i+1,0,e)}}const $c=function(t,e){var n,r;if(t===de)return de;if(t===$e)return $e;if(t===An){const i=((n=document.querySelector(".lhs"))==null?void 0:n.childElementCount)||0,s=((r=document.querySelector(".rhs"))==null?void 0:r.childElementCount)||0;return i<=s?(e.direction=de,de):(e.direction=$e,$e)}},lo=function(t,e,n){var r,i;const s=n.children[0].children[0],o=e.parentElement;if(o.tagName==="ME-PARENT"){if(Dn(s),o.children[1])o.nextSibling.appendChild(n);else{const l=t.createChildren([n]);o.appendChild(_r(!0)),o.insertAdjacentElement("afterend",l)}t.linkDiv(n.offsetParent)}else o.tagName==="ME-ROOT"&&($c(t.direction,s.nodeObj)===de?(r=document.querySelector(".lhs"))==null||r.appendChild(n):(i=document.querySelector(".rhs"))==null||i.appendChild(n),t.linkDiv())},Tr=function(t,e,n){if(!e)return null;const r=e.nodeObj;r.expanded===!1&&(t.expandNode(e,!0),e=Q(r.id));const i=n||t.generateNewObj();r.children?r.children.push(i):r.children=[i],Pe(t.nodeData);const{grp:s,top:o}=t.createWrapper(i);return lo(t,e,s),{newTop:o,newNodeObj:i}},ao=function(t,e){const n=t.parentNode;if(e===0){const r=n.parentNode.parentNode;r.tagName!=="ME-MAIN"&&r.previousSibling.children[1].remove()}n.parentNode.remove()},co={before:"beforebegin",after:"afterend"},Dn=function(t){const e=t.parentElement.parentElement.lastElementChild;(e==null?void 0:e.tagName)==="svg"&&(e==null||e.remove())},Gc=function(t,e){const n=t.nodeObj,r=xr(n);r.style&&e.style&&(e.style=Object.assign(r.style,e.style));const i=Object.assign(n,e);Dr(t,i),this.linkDiv(),this.bus.fire("operation",{name:"reshapeNode",obj:i,origin:r})},Yc=function(t,e,n){var r,i,s;const o=e||this.currentNode;if(!o)return;const l=o.nodeObj;if(l.root===!0){this.addChild();return}else if(((r=l.parent)==null?void 0:r.root)===!0&&((s=(i=l.parent)==null?void 0:i.children)==null?void 0:s.length)===1){this.addChild(Q(l.parent.id));return}const a=n||this.generateNewObj();Wc(a,t,l),Pe(this.nodeData);const d=o.parentElement;console.time("insertSibling_DOM");const{grp:c,top:f}=this.createWrapper(a);d.parentElement.insertAdjacentElement(co[t],c),this.linkDiv(c.offsetParent),n||this.editTopic(f.firstChild),this.selectNode(f.firstChild,!0),console.timeEnd("insertSibling_DOM"),this.bus.fire("operation",{name:"insertSibling",type:t,obj:a})},qc=function(t,e){const n=t||this.currentNode;if(!n)return;Dn(n);const r=n.nodeObj;if(r.root===!0)return;const i=e||this.generateNewObj();Vc(r,i),Pe(this.nodeData);const s=n.parentElement.parentElement;console.time("insertParent_DOM");const{grp:o,top:l}=this.createWrapper(i,!0);l.appendChild(_r(!0)),s.insertAdjacentElement("afterend",o);const a=this.createChildren([s]);l.insertAdjacentElement("afterend",a),this.linkDiv(),e||this.editTopic(l.firstChild),this.selectNode(l.firstChild,!0),console.timeEnd("insertParent_DOM"),this.bus.fire("operation",{name:"insertParent",obj:i})},Qc=function(t,e){console.time("addChild");const n=t||this.currentNode;if(!n)return;const r=Tr(this,n,e);if(!r)return;const{newTop:i,newNodeObj:s}=r;this.bus.fire("operation",{name:"addChild",obj:s}),console.timeEnd("addChild"),e||this.editTopic(i.firstChild),this.selectNode(i.firstChild,!0)},Zc=function(t,e){console.time("copyNode");const n=xr(t.nodeObj);Ar(n);const r=Tr(this,e,n);if(!r)return;const{newNodeObj:i}=r;console.timeEnd("copyNode"),this.selectNode(Q(i.id)),this.bus.fire("operation",{name:"copyNode",obj:i})},Xc=function(t,e){t=xn(t);const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=xr(i.nodeObj);Ar(s);const o=Tr(this,e,s);if(!o)return;const{newNodeObj:l}=o;n.push(l)}this.selectNodes(n.map(r=>Q(r.id))),this.bus.fire("operation",{name:"copyNodes",objs:n})},Kc=function(t){const e=t||this.currentNode;if(!e)return;const n=e.nodeObj;Fc(n);const r=e.parentNode.parentNode;r.parentNode.insertBefore(r,r.previousSibling),this.linkDiv(),this.bus.fire("operation",{name:"moveUpNode",obj:n})},Jc=function(t){const e=t||this.currentNode;if(!e)return;const n=e.nodeObj;Uc(n);const r=e.parentNode.parentNode;r.nextSibling?r.nextSibling.insertAdjacentElement("afterend",r):r.parentNode.prepend(r),this.linkDiv(),this.bus.fire("operation",{name:"moveDownNode",obj:n})},ed=function(t){var e;const n=t||this.currentNode;if(!n)return;const r=n.nodeObj;if(r.root===!0)throw new Error("Can not remove root node");const i=r.parent.children,s=i.findIndex(l=>l===r),o=Rr(r);if(ao(n,o),i.length!==0){const l=i[s]||i[s-1];this.selectNode(Q(l.id))}else this.selectNode(Q(r.parent.id));this.linkDiv(),this.bus.fire("operation",{name:"removeNode",obj:r,originIndex:s,originParentId:(e=r==null?void 0:r.parent)==null?void 0:e.id})},td=function(t){t=xn(t);for(const e of t){const n=e.nodeObj;if(n.root===!0)continue;const r=Rr(n);ao(e,r)}this.linkDiv(),this.bus.fire("operation",{name:"removeNodes",objs:t.map(e=>e.nodeObj)})},nd=function(t,e){t=xn(t);const n=e.nodeObj;n.expanded===!1&&(this.expandNode(e,!0),e=Q(n.id)),console.time("moveNodeIn");for(const r of t){const i=r.nodeObj;oo("in",i,n),Pe(this.nodeData);const s=r.parentElement;lo(this,e,s.parentElement)}this.linkDiv(),this.bus.fire("operation",{name:"moveNodeIn",objs:t.map(r=>r.nodeObj),toObj:n}),console.timeEnd("moveNodeIn")},uo=(t,e,n,r)=>{t=xn(t),e==="after"&&(t=t.reverse());const i=n.nodeObj;for(const s of t){const o=s.nodeObj;oo(e,o,i),Pe(r.nodeData),Dn(s);const l=s.parentElement.parentNode;n.parentElement.parentNode.insertAdjacentElement(co[e],l)}r.linkDiv(),r.bus.fire("operation",{name:e==="before"?"moveNodeBefore":"moveNodeAfter",objs:t.map(s=>s.nodeObj),toObj:i})},rd=function(t,e){uo(t,"before",e,this)},id=function(t,e){uo(t,"after",e,this)},sd=function(t){const e=t||this.currentNode;e&&(e.nodeObj.dangerouslySetInnerHTML||this.editTopic(e))},od=function(t,e){t.text.textContent=e,t.nodeObj.topic=e,this.linkDiv()},fo=Object.freeze(Object.defineProperty({__proto__:null,addChild:Qc,beginEdit:sd,copyNode:Zc,copyNodes:Xc,insertParent:qc,insertSibling:Yc,mainToSub:Dn,moveDownNode:Jc,moveNodeAfter:id,moveNodeBefore:rd,moveNodeIn:nd,moveUpNode:Kc,removeNode:ed,removeNodes:td,reshapeNode:Gc,setNodeTopic:od},Symbol.toStringTag,{value:"Module"})),ld=function(t){return{dom:t,moved:!1,mousedown:!1,handleMouseMove(e){this.mousedown&&(this.moved=!0,this.cb&&this.cb(e.movementX,e.movementY))},handleMouseDown(e){e.button===0&&(this.mousedown=!0)},handleClear(e){this.mousedown=!1},cb:null,init(e,n){this.cb=n,this.handleClear=this.handleClear.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),e.addEventListener("mousemove",this.handleMouseMove),e.addEventListener("mouseleave",this.handleClear),e.addEventListener("mouseup",this.handleClear),this.dom.addEventListener("mousedown",this.handleMouseDown)},destory(e){e.removeEventListener("mousemove",this.handleMouseMove),e.removeEventListener("mouseleave",this.handleClear),e.removeEventListener("mouseup",this.handleClear),this.dom.removeEventListener("mousedown",this.handleMouseDown)},clear(){this.moved=!1,this.mousedown=!1}}},Fi={create:ld};function ln(t,e,n){const{offsetLeft:r,offsetTop:i}=He(t.nodes,e),s=e.offsetWidth,o=e.offsetHeight,l=r+s/2,a=i+o/2,d=l+n.x,c=a+n.y;return{w:s,h:o,cx:l,cy:a,ctrlX:d,ctrlY:c}}function st(t){let e,n;const r=(t.cy-t.ctrlY)/(t.ctrlX-t.cx);return r>t.h/t.w||r<-t.h/t.w?t.cy-t.ctrlY<0?(e=t.cx-t.h/2/r,n=t.cy+t.h/2):(e=t.cx+t.h/2/r,n=t.cy-t.h/2):t.cx-t.ctrlX<0?(e=t.cx+t.w/2,n=t.cy-t.w*r/2):(e=t.cx-t.w/2,n=t.cy+t.w*r/2),{x:e,y:n}}const ad=function(t,e,n,r){const i=document.createElementNS("http://www.w3.org/2000/svg","text");return Y(i,{"text-anchor":"middle",x:e+"",y:n+"",fill:r||"#666"}),i.dataset.type="custom-link",i.innerHTML=t,i},ho=function(t,e,n,r,i){if(!e||!n)return;const s=performance.now(),o=ln(t,e,r.delta1),l=ln(t,n,r.delta2),{x:a,y:d}=st(o),{ctrlX:c,ctrlY:f}=o,{ctrlX:u,ctrlY:h}=l,{x:v,y:p}=st(l),g=Ks(u,h,v,p),b=Ya(`M ${a} ${d} C ${c} ${f} ${u} ${h} ${v} ${p}`,`M ${g.x1} ${g.y1} L ${v} ${p} L ${g.x2} ${g.y2}`),w=a/8+c*3/8+u*3/8+v/8,A=d/8+f*3/8+h*3/8+p/8,x=ad(r.label,w,A,t.theme.cssVar["--color"]);b.appendChild(x),b.arrowObj=r,b.dataset.linkid=r.id,t.linkSvgGroup.appendChild(b),i||(t.arrows.push(r),t.currentArrow=b,go(t,r,o,l));const _=performance.now();console.log(`DrawArrow Execution time: ${_-s} ms`)},cd=function(t,e){const n={id:Lt(),label:"Custom Link",from:t.nodeObj.id,to:e.nodeObj.id,delta1:{x:0,y:-200},delta2:{x:0,y:-200}};ho(this,t,e,n),this.bus.fire("operation",{name:"createArrow",obj:n})},dd=function(t){let e;if(t?e=t:e=this.currentArrow,!e)return;po(this);const n=e.arrowObj.id;this.arrows=this.arrows.filter(r=>r.id!==n),e.remove(),this.bus.fire("operation",{name:"removeArrow",obj:{id:n}})},ud=function(t){this.currentArrow=t;const e=t.arrowObj,n=Q(e.from),r=Q(e.to),i=ln(this,n,e.delta1),s=ln(this,r,e.delta2);go(this,e,i,s)},fd=function(){this.currentArrow=null,po(this)},po=function(t){t.linkController.style.display="none",t.P2.style.display="none",t.P3.style.display="none"},go=function(t,e,n,r){var i;t.linkController.style.display="initial",t.P2.style.display="initial",t.P3.style.display="initial",t.nodes.appendChild(t.linkController),t.nodes.appendChild(t.P2),t.nodes.appendChild(t.P3);let{x:s,y:o}=st(n),{ctrlX:l,ctrlY:a}=n,{ctrlX:d,ctrlY:c}=r,{x:f,y:u}=st(r);t.P2.style.cssText=`top:${a}px;left:${l}px;`,t.P3.style.cssText=`top:${c}px;left:${d}px;`,Y(t.line1,{x1:s+"",y1:o+"",x2:l+"",y2:a+""}),Y(t.line2,{x1:d+"",y1:c+"",x2:f+"",y2:u+""}),t.helper1&&(t.helper1.destory(t.map),(i=t.helper2)==null||i.destory(t.map)),t.helper1=Fi.create(t.P2),t.helper2=Fi.create(t.P3),t.helper1.init(t.map,(h,v)=>{var p;l=l+h/t.scaleVal,a=a+v/t.scaleVal;const g=st({...n,ctrlX:l,ctrlY:a});s=g.x,o=g.y;const b=s/8+l*3/8+d*3/8+f/8,w=o/8+a*3/8+c*3/8+u/8;t.P2.style.top=a+"px",t.P2.style.left=l+"px",(p=t.currentArrow)==null||p.children[0].setAttribute("d",`M ${s} ${o} C ${l} ${a} ${d} ${c} ${f} ${u}`),Y(t.currentArrow.children[2],{x:b+"",y:w+""}),Y(t.line1,{x1:s+"",y1:o+"",x2:l+"",y2:a+""}),e.delta1.x=l-n.cx,e.delta1.y=a-n.cy}),t.helper2.init(t.map,(h,v)=>{var p,g;d=d+h/t.scaleVal,c=c+v/t.scaleVal;const b=st({...r,ctrlX:d,ctrlY:c});f=b.x,u=b.y;const w=s/8+l*3/8+d*3/8+f/8,A=o/8+a*3/8+c*3/8+u/8,x=Ks(d,c,f,u);t.P3.style.top=c+"px",t.P3.style.left=d+"px",(p=t.currentArrow)==null||p.children[0].setAttribute("d",`M ${s} ${o} C ${l} ${a} ${d} ${c} ${f} ${u}`),(g=t.currentArrow)==null||g.children[1].setAttribute("d",`M ${x.x1} ${x.y1} L ${f} ${u} L ${x.x2} ${x.y2}`),Y(t.currentArrow.children[2],{x:w+"",y:A+""}),Y(t.line2,{x1:d+"",y1:c+"",x2:f+"",y2:u+""}),e.delta2.x=d-r.cx,e.delta2.y=c-r.cy})};function hd(){this.linkSvgGroup.innerHTML="";for(let t=0;t<this.arrows.length;t++){const e=this.arrows[t];try{ho(this,Q(e.from),Q(e.to),e,!0)}catch{console.warn("Node may not be expanded")}}this.nodes.appendChild(this.linkSvgGroup)}function pd(t){if(console.time("editSummary"),!t)return;const e=t.children[2];console.log(e,t),to(this,e,n=>{var r;const i=t.arrowObj,s=((r=n.textContent)==null?void 0:r.trim())||"";s===""?i.label=origin:i.label=s,n.remove(),s!==origin&&(e.innerHTML=i.label,this.linkDiv(),this.bus.fire("operation",{name:"finishEditArrowLabel",obj:i}))}),console.timeEnd("editSummary")}function gd(){this.arrows=this.arrows.filter(t=>sn(t.from,this.nodeData)&&sn(t.to,this.nodeData))}const md=Object.freeze(Object.defineProperty({__proto__:null,createArrow:cd,editArrowLabel:pd,removeArrow:dd,renderArrow:hd,selectArrow:ud,tidyArrow:gd,unselectArrow:fd},Symbol.toStringTag,{value:"Module"})),vd=function(t){var e,n;if(t.length===0)throw new Error("No selected node.");if(t.length===1){const c=t[0].nodeObj,f=t[0].nodeObj.parent;if(!f)throw new Error("Can not select root node.");const u=f.children.findIndex(h=>c===h);return{parent:f.id,start:u,end:u}}let r=0;const i=t.map(c=>{let f=c.nodeObj;const u=[];for(;f.parent;){const h=f.parent,v=h.children,p=v==null?void 0:v.indexOf(f);f=h,u.unshift({node:f,index:p})}return u.length>r&&(r=u.length),u});let s=0;e:for(;s<r;s++){const c=(e=i[0][s])==null?void 0:e.node;for(let f=1;f<i.length;f++)if(((n=i[f][s])==null?void 0:n.node)!==c)break e}if(!s)throw new Error("Can not select root node.");const o=i.map(c=>c[s-1].index).sort(),l=o[0]||0,a=o[o.length-1]||0,d=i[0][s-1].node;if(d.root)throw new Error("Please select nodes in the same main topic.");return{parent:d.id,start:l,end:a}},bd=function(t){const e=document.createElementNS("http://www.w3.org/2000/svg","g");return e.setAttribute("id",t),e},Ui=function(t,e){const n=document.createElementNS("http://www.w3.org/2000/svg","path");return Y(n,{d:t,stroke:e||"#666",fill:"none","stroke-linecap":"round","stroke-width":"2"}),n},Wi=function(t,e,n,r,i){const s=document.createElementNS("http://www.w3.org/2000/svg","text");return Y(s,{"text-anchor":r,x:e+"",y:n+"",fill:i||"#666"}),s.innerHTML=t,s},yd=t=>Q(t).parentElement.parentElement,Ed=function({parent:t,start:e}){var n,r;const i=Q(t),s=i.nodeObj;let o;return s.root===!0?o=(n=Q(s.children[e].id).closest("me-main"))==null?void 0:n.className:o=(r=i.closest("me-main"))==null?void 0:r.className,o},mo=function(t,e){var n;const{id:r,text:i,parent:s,start:o,end:l}=e,a=t.nodes,d=Q(s).nodeObj,c=Ed(e);let f=1/0,u=0,h=0,v=0;for(let R=o;R<=l;R++){const O=(n=d.children)==null?void 0:n[R];if(!O)return console.warn("Child not found"),t.removeSummary(r),null;const T=yd(O.id),{offsetLeft:B,offsetTop:K}=He(a,T);R===o&&(h=K),R===l&&(v=K+T.offsetHeight),B<f&&(f=B),T.offsetWidth+B>u&&(u=T.offsetWidth+B)}let p,g;const b=h+10,w=v+10,A=(b+w)/2,x=t.theme.cssVar["--color"];c==="lhs"?(p=Ui(`M ${f+10} ${b} c -5 0 -10 5 -10 10 L ${f} ${w-10} c 0 5 5 10 10 10 M ${f} ${A} h -10`,x),g=Wi(i,f-20,A+6,"end",x)):(p=Ui(`M ${u-10} ${b} c 5 0 10 5 10 10 L ${u} ${w-10} c 0 5 -5 10 -10 10 M ${u} ${A} h 10`,x),g=Wi(i,u+20,A+6,"start",x));const _=bd("s-"+r);return _.appendChild(p),_.appendChild(g),_.summaryObj=e,t.summarySvg.appendChild(_),_},wd=function(){let t=[];this.currentNode?t=[this.currentNode]:this.currentNodes&&(t=this.currentNodes);const{parent:e,start:n,end:r}=vd(t),i={id:Lt(),parent:e,start:n,end:r,text:"summary"},s=mo(this,i);this.summaries.push(i),this.editSummary(s),this.bus.fire("operation",{name:"createSummary",obj:i})},Sd=function(t){var e;const n=this.summaries.findIndex(r=>r.id===t);n>-1&&(this.summaries.splice(n,1),(e=document.querySelector("#s-"+t))==null||e.remove()),this.bus.fire("operation",{name:"removeSummary",obj:{id:t}})},Cd=function(t){const e=t.children[1].getBBox(),n=6,r=3,i=document.createElementNS("http://www.w3.org/2000/svg","rect");Y(i,{x:e.x-n+"",y:e.y-n+"",width:e.width+n*2+"",height:e.height+n*2+"",rx:r+"",stroke:this.theme.cssVar["--selected"]||"#4dc4ff","stroke-width":"2",fill:"none"}),i.classList.add("selected"),t.appendChild(i),this.currentSummary=t},Ad=function(){var t,e;(e=(t=this.currentSummary)==null?void 0:t.querySelector("rect"))==null||e.remove(),this.currentSummary=null},xd=function(){this.summarySvg.innerHTML="",this.summaries.forEach(t=>{try{mo(this,t)}catch{console.warn("Node may not be expanded")}}),this.nodes.insertAdjacentElement("beforeend",this.summarySvg)},Dd=function(t){if(console.time("editSummary"),!t)return;const e=t.childNodes[1];to(this,e,n=>{var r;const i=t.summaryObj,s=((r=n.textContent)==null?void 0:r.trim())||"";s===""?i.text=origin:i.text=s,n.remove(),s!==origin&&(e.innerHTML=i.text,this.linkDiv(),this.bus.fire("operation",{name:"finishEditSummary",obj:i}))}),console.timeEnd("editSummary")},_d=Object.freeze(Object.defineProperty({__proto__:null,createSummary:wd,editSummary:Dd,removeSummary:Sd,renderSummary:xd,selectSummary:Cd,unselectSummary:Ad},Symbol.toStringTag,{value:"Module"})),oe="http://www.w3.org/2000/svg";function Rd(t,e){const n=document.createElementNS(oe,"svg");return Y(n,{version:"1.1",xmlns:oe,height:t,width:e}),n}function Td(t,e){return(parseInt(t)-parseInt(e))/2}function Md(t,e,n,r){const i=document.createElementNS(oe,"g");let s="";return t.text?s=t.text.textContent:s=t.childNodes[0].textContent,s.split(`
`).forEach((o,l)=>{const a=document.createElementNS(oe,"text");Y(a,{x:n+parseInt(e.paddingLeft)+"",y:r+parseInt(e.paddingTop)+Td(e.lineHeight,e.fontSize)*(l+1)+parseFloat(e.fontSize)*(l+1)+"","text-anchor":"start","font-family":e.fontFamily,"font-size":`${e.fontSize}`,"font-weight":`${e.fontWeight}`,fill:`${e.color}`}),a.innerHTML=o,i.appendChild(a)}),i}function kd(t,e,n,r){var i;let s="";(i=t.nodeObj)!=null&&i.dangerouslySetInnerHTML?s=t.nodeObj.dangerouslySetInnerHTML:t.text?s=t.text.textContent:s=t.childNodes[0].textContent;const o=document.createElementNS(oe,"foreignObject");Y(o,{x:n+parseInt(e.paddingLeft)+"",y:r+parseInt(e.paddingTop)+"",width:e.width,height:e.height});const l=document.createElement("div");return Y(l,{xmlns:"http://www.w3.org/1999/xhtml",style:`font-family: ${e.fontFamily}; font-size: ${e.fontSize}; font-weight: ${e.fontWeight}; color: ${e.color}; white-space: pre-wrap;`}),l.innerHTML=s,o.appendChild(l),o}function Nd(t,e){const n=getComputedStyle(e),{offsetLeft:r,offsetTop:i}=He(t.nodes,e),s=document.createElementNS(oe,"rect");return Y(s,{x:r+"",y:i+"",rx:n.borderRadius,ry:n.borderRadius,width:n.width,height:n.height,fill:n.backgroundColor,stroke:n.borderColor,"stroke-width":n.borderWidth}),s}function Bt(t,e,n=!1){const r=getComputedStyle(e),{offsetLeft:i,offsetTop:s}=He(t.nodes,e),o=document.createElementNS(oe,"rect");Y(o,{x:i+"",y:s+"",rx:r.borderRadius,ry:r.borderRadius,width:r.width,height:r.height,fill:r.backgroundColor,stroke:r.borderColor,"stroke-width":r.borderWidth});const l=document.createElementNS(oe,"g");l.appendChild(o);let a;return n?a=kd(e,r,i,s):a=Md(e,r,i,s),l.appendChild(a),l}function Id(t,e){const n=getComputedStyle(e),{offsetLeft:r,offsetTop:i}=He(t.nodes,e),s=document.createElementNS(oe,"a"),o=document.createElementNS(oe,"text");return Y(o,{x:r+"",y:i+parseInt(n.fontSize)+"","text-anchor":"start","font-family":n.fontFamily,"font-size":`${n.fontSize}`,"font-weight":`${n.fontWeight}`,fill:`${n.color}`}),o.innerHTML=e.textContent,s.appendChild(o),s.setAttribute("href",e.href),s}function Od(t,e){const n=getComputedStyle(e),{offsetLeft:r,offsetTop:i}=He(t.nodes,e),s=document.createElementNS(oe,"image");return Y(s,{x:r+"",y:i+"",width:n.width+"",height:n.height+"",href:e.src}),s}const Ft=100,Ld='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">',Pd=(t,e=!1)=>{var n,r,i;const s=t.nodes,o=s.offsetHeight+Ft*2,l=s.offsetWidth+Ft*2,a=Rd(o+"px",l+"px"),d=document.createElementNS(oe,"svg"),c=document.createElementNS(oe,"rect");Y(c,{x:"0",y:"0",width:`${l}`,height:`${o}`,fill:t.theme.cssVar["--bgcolor"]}),a.appendChild(c),s.querySelectorAll(".subLines").forEach(v=>{const p=v.cloneNode(!0),{offsetLeft:g,offsetTop:b}=He(s,v.parentElement);p.setAttribute("x",`${g}`),p.setAttribute("y",`${b}`),d.appendChild(p)});const f=(n=s.querySelector(".lines"))==null?void 0:n.cloneNode(!0);f&&d.appendChild(f);const u=(r=s.querySelector(".topiclinks"))==null?void 0:r.cloneNode(!0);u&&d.appendChild(u);const h=(i=s.querySelector(".summary"))==null?void 0:i.cloneNode(!0);return h&&d.appendChild(h),s.querySelectorAll("me-tpc").forEach(v=>{v.nodeObj.dangerouslySetInnerHTML?d.appendChild(Bt(t,v,!e)):(d.appendChild(Nd(t,v)),d.appendChild(Bt(t,v.text,!e)))}),s.querySelectorAll(".tags > span").forEach(v=>{d.appendChild(Bt(t,v))}),s.querySelectorAll(".icons > span").forEach(v=>{d.appendChild(Bt(t,v))}),s.querySelectorAll(".hyper-link").forEach(v=>{d.appendChild(Id(t,v))}),s.querySelectorAll("img").forEach(v=>{d.appendChild(Od(t,v))}),Y(d,{x:Ft+"",y:Ft+"",overflow:"visible"}),a.appendChild(d),a},Hd=(t,e)=>(e&&t.insertAdjacentHTML("afterbegin","<style>"+e+"</style>"),Ld+t.outerHTML);function jd(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=i=>{e(i.target.result)},r.onerror=i=>{n(i)},r.readAsDataURL(t)})}const zd=function(t=!1,e){const n=Pd(this,t),r=Hd(n,e);return new Blob([r],{type:"image/svg+xml"})},Bd=async function(t=!1,e){const n=this.exportSvg(t,e),r=await jd(n);return new Promise((i,s)=>{const o=new Image;o.setAttribute("crossOrigin","anonymous"),o.onload=()=>{const l=document.createElement("canvas");l.width=o.width,l.height=o.height,l.getContext("2d").drawImage(o,0,0),l.toBlob(i,"image/png",1)},o.src=r,o.onerror=s})},Fd=Object.freeze(Object.defineProperty({__proto__:null,exportPng:Bd,exportSvg:zd},Symbol.toStringTag,{value:"Module"}));function Ud(t,e){return async function(...n){const r=this.before[e];r&&!await r.apply(this,n)||t.apply(this,n)}}const Vi=Object.keys(fo),vo={};for(let t=0;t<Vi.length;t++){const e=Vi[t];vo[e]=Ud(fo[e],e)}const Wd={getObjById:sn,generateNewObj:Pa,layout:za,linkDiv:qa,editTopic:Ga,createWrapper:Ua,createParent:Wa,createChildren:Va,createTopic:$a,findEle:Q,changeTheme:bc,...Bc,...vo,...md,..._d,...Fd,init(t){if(!t||!t.nodeData)return new Error("MindElixir: `data` is required");t.direction!==void 0&&(this.direction=t.direction),this.changeTheme(t.theme||this.theme,!1),this.nodeData=t.nodeData,Pe(this.nodeData),this.arrows=t.arrows||[],this.summaries=t.summaries||[],this.tidyArrow(),this.toolBar&&dc(this),this.keypress&&tc(this),this.editable&&vc(this),Oa()&&this.mobileMenu?nc(this):this.contextMenu&&Qa(this,this.contextMenuOption),this.draggable&&sc(this),this.allowUndo&&lc(this),this.toCenter(),this.layout(),this.linkDiv()}};function Vd({pT:t,pL:e,pW:n,pH:r,cT:i,cL:s,cW:o,cH:l,direction:a,containerHeight:d}){let c=e+n/2;const f=t+r/2;let u;a==="lhs"?u=s+o:u=s;const h=i+l/2,v=(1-Math.abs(h-f)/d)*.25*(n/2);return a==="lhs"?c=c-n/10-v:c=c+n/10+v,`M ${c} ${f} Q ${c} ${h} ${u} ${h}`}function $d({pT:t,pL:e,pW:n,pH:r,cT:i,cL:s,cW:o,cH:l,direction:a,isFirst:d}){let c=0,f=0;d?c=t+r/2:c=t+r;const u=i+l;let h=0,v=0,p=0;const g=Math.abs(c-u)/300*Re;return a==="lhs"?(p=e,h=p+Re,v=p-Re,f=s+Re,`M ${h} ${c} C ${p} ${c} ${p+g} ${u} ${v} ${u} H ${f}`):(p=e+n,h=p-Re,v=p+Re,f=s+o-Re,`M ${h} ${c} C ${p} ${c} ${p-g} ${u} ${v} ${u} H ${f}`)}const Ct=document;function be({el:t,direction:e,locale:n,draggable:r,editable:i,contextMenu:s,contextMenuOption:o,toolBar:l,keypress:a,mouseSelectionButton:d,before:c,newTopicName:f,allowUndo:u,generateMainBranch:h,generateSubBranch:v,overflowHidden:p,mobileMenu:g,theme:b}){console.log("ME_version "+be.version,this);let w=null;const A=Object.prototype.toString.call(t);if(A==="[object HTMLDivElement]"?w=t:A==="[object String]"&&(w=document.querySelector(t)),!w)throw new Error("MindElixir: el is not a valid element");w.className+=" mind-elixir",w.innerHTML="",w.style.setProperty("--gap",Re+"px"),this.mindElixirBox=w,this.before=c||{},this.locale=n||"en",this.contextMenuOption=o,this.contextMenu=s===void 0?!0:s,this.toolBar=l===void 0?!0:l,this.keypress=a===void 0?!0:a,this.mouseSelectionButton=d||0,this.mobileMenu=g||!1,this.direction=typeof e=="number"?e:1,this.draggable=r===void 0?!0:r,this.newTopicName=f||"new node",this.editable=i===void 0?!0:i,this.allowUndo=u===void 0?!1:u,this.currentNode=null,this.currentArrow=null,this.scaleVal=1,this.tempDirection=null,this.generateMainBranch=h||Vd,this.generateSubBranch=v||$d,this.overflowHidden=p||!1,this.bus=ja.create(),this.container=Ct.createElement("div"),this.container.className="map-container";const x=window.matchMedia("(prefers-color-scheme: dark)");this.theme=b||(x.matches?Xs:Zs);const _=Ct.createElement("div");_.className="map-canvas",this.map=_,this.map.setAttribute("tabindex","0"),this.container.appendChild(this.map),this.mindElixirBox.appendChild(this.container),this.nodes=Ct.createElement("me-nodes"),this.nodes.className="main-node-container",this.lines=Dt("lines"),this.summarySvg=Dt("summary"),this.linkController=Dt("linkcontroller"),this.P2=Ct.createElement("div"),this.P3=Ct.createElement("div"),this.P2.className=this.P3.className="circle",this.P2.style.display=this.P3.style.display="none",this.line1=Mi(),this.line2=Mi(),this.linkController.appendChild(this.line1),this.linkController.appendChild(this.line2),this.linkSvgGroup=Dt("topiclinks"),this.map.appendChild(this.nodes),this.overflowHidden?this.container.style.overflow="hidden":Ha(this)}be.prototype=Wd;be.LEFT=de;be.RIGHT=$e;be.SIDE=An;be.THEME=Zs;be.DARK_THEME=Xs;be.version="4.0.0";be.E=Q;be.new=t=>({nodeData:{id:Lt(),topic:t||"new topic",root:!0,children:[]}});const Gd={key:1,class:"truncate text-text-secondary opacity-0 group-hover:opacity-100 transition-opacity flex items-center gap-2 text-xs font-medium"},Yd={key:1,class:"relative w-full h-full"},qd=["placeholder"],Qd={class:"max-h-50 overflow-y-auto"},Zd=["onMousedown"],Xd={key:1,class:"px-3 py-2 text-center text-text-secondary text-sm"},f0=Ke({__name:"TableSearchCell",props:{modelValue:{},options:{default:()=>[]},placeholder:{default:"Type to search..."},disabled:{type:Boolean,default:!1},displayField:{},emptyText:{},columnName:{default:""}},emits:["update:modelValue","change"],setup(t,{emit:e}){const n=t,r=e,i={High:"#F87171",Medium:"#FBBF24",Low:"#34D399"},s=te(()=>{if(n.columnName.toLowerCase()!=="priority")return"transparent";const S=A.value;return i[S]??"#E5E7EB"}),o=S=>n.columnName.toLowerCase()!=="priority"?"transparent":i[S]??"#E5E7EB",l=Z(!1),a=Z(!1),d=Z(""),c=Z(null),f=Z(null),u=Z(null),h=Z({top:"0px",left:"0px",width:"100%"}),v=Z(!1),p=()=>{if(!c.value||!u.value)return;const S=c.value.getBoundingClientRect(),E=u.value.offsetHeight||200,D=window.innerHeight-S.bottom;let $=S.bottom+window.scrollY+6;D<E&&S.top>E&&($=S.top+window.scrollY-E-5),h.value={top:`${$}px`,left:`${S.left+window.scrollX}px`,width:`${S.width}px`}};kt(()=>n.modelValue,S=>{A.value=S});const g=S=>typeof S=="string"?S:String(S.title??S.label??S.value??""),b=te(()=>{if(!A.value)return"";const S=n.options.find(E=>{var C,D;return typeof E=="string"?E===A.value:typeof A.value!="object"?E._id==A.value||E.value==A.value:E._id==((C=A.value)==null?void 0:C._id)||E.value==((D=A.value)==null?void 0:D.value)});return S?g(S):""}),w=te(()=>(n.options??[]).map(S=>typeof S=="string"?{value:S,label:S}:S));kt(()=>n.modelValue,S=>{const E=w.value.find(C=>C._id==S||C.value==S);d.value=E?g(E):""},{immediate:!0});const A=Z(n.modelValue),x=te(()=>{if(!d.value||d.value===b.value)return w.value;const S=d.value.toLowerCase();return w.value.filter(E=>g(E).toLowerCase().includes(S))}),_=async()=>{var S,E;n.disabled||(l.value=!0,d.value=b.value,a.value=!0,await Sr(),(S=c.value)==null||S.focus(),(E=c.value)==null||E.select(),p(),window.addEventListener("scroll",p,!0),window.addEventListener("resize",p))},R=()=>{l.value=!1,a.value=!1,d.value="",window.removeEventListener("scroll",p,!0),window.removeEventListener("resize",p)},O=S=>{let E;typeof S=="string"?E=S:E=S._id??S.value??S.title,A.value=E,r("update:modelValue",E),r("change",E),R()},T=()=>{if(x.value.length>0){const S=x.value.find(E=>g(E).toLowerCase()===d.value.toLowerCase());if(S){O(S);return}}r("update:modelValue",d.value),r("change",d.value),R()},B=()=>{setTimeout(()=>{if(v.value){v.value=!1;return}l.value&&T()},150)},K=S=>{f.value&&!f.value.contains(S.target)&&u.value&&!u.value.contains(S.target)&&l.value&&T()};return Ys(()=>{document.addEventListener("mousedown",K)}),qs(()=>{document.removeEventListener("mousedown",K),window.removeEventListener("scroll",p,!0),window.removeEventListener("resize",p)}),(S,E)=>(N(),I("div",{class:"relative w-full h-full",ref_key:"containerRef",ref:f,onClick:E[2]||(E[2]=lt(()=>{},["stop"]))},[l.value?(N(),I("div",Yd,[yr(L("input",{ref_key:"inputRef",ref:c,"onUpdate:modelValue":E[0]||(E[0]=C=>d.value=C),onBlur:B,onKeydown:[nn(T,["enter"]),nn(R,["esc"])],onInput:E[1]||(E[1]=C=>a.value=!0),class:"absolute left-0 top-1/2 -translate-y-1/2 min-w-[150px] w-full p-1 border border-accent/60 rounded-sm focus:outline-none focus:ring-1 focus:ring-accent bg-bg-body z-50 text-[12px] h-8",placeholder:S.placeholder},null,40,qd),[[Er,d.value]]),(N(),wr(Cr,{to:"body"},[a.value?(N(),I("div",{key:0,ref_key:"dropdownRef",ref:u,class:"fixed z-[9999] bg-bg-dropdown border border-border rounded-md shadow-lg py-2",style:we(h.value)},[L("div",Qd,[x.value.length>0?(N(!0),I(ge,{key:0},Te(x.value,C=>(N(),I("div",{key:C._id??C.value,onMousedown:lt(D=>O(C),["prevent"]),class:"px-3 py-1.5 capitalize font-medium cursor-pointer hover:bg-bg-dropdown-menu-hover text-[12px] text-text-primary flex items-center gap-2"},[er(S.$slots,"option",{option:C},()=>{var D;return[L("span",{style:we(((D=S.columnName)==null?void 0:D.toLowerCase())==="priority"?{backgroundColor:o(g(C)),color:"white",padding:"2px 8px",borderRadius:"10px"}:{})},ce(g(C)),5)]})],40,Zd))),128)):(N(),I("div",Xd," No match found "))])],4)):Ve("",!0)]))])):(N(),I("div",{key:0,onClick:_,class:Qs(["h-full flex items-center px-3 py-1.5 cursor-pointer hover:bg-bg-surface-hover rounded-md truncate transition-all duration-200 group",{"opacity-50 cursor-not-allowed":S.disabled}])},[er(S.$slots,"display",{},()=>{var C;return[b.value?(N(),I("span",{key:0,class:"truncate font-normal text-[12px] text-text-primary",style:we(((C=S.columnName)==null?void 0:C.toLowerCase())==="priority"?{backgroundColor:s.value,color:"white",padding:"2px 8px",borderRadius:"10px",fontSize:"10px"}:{})},ce(b.value),5)):S.emptyText&&!S.disabled?(N(),I("span",Gd,[E[3]||(E[3]=L("i",{class:"fa-solid fa-plus text-[10px]"},null,-1)),tn(" Add "+ce(S.emptyText),1)])):Ve("",!0)]})],2))],512))}}),Kd={key:0,class:"flex gap-2 items-center truncate"},Jd=["src"],eu={key:2,class:"w-6 h-6 bg-bg-body border border-border rounded-full flex justify-center items-center flex-shrink-0"},tu={class:"text-[11px] text-text-primary truncate"},nu={key:1,class:"truncate text-text-secondary opacity-0 group-hover:opacity-100 transition-opacity flex items-center gap-1.5 text-xs"},ru={key:1,class:"relative w-full"},iu={class:"max-h-60 overflow-y-auto py-1"},su=["onMousedown"],ou={class:"flex items-center gap-3 min-w-0"},lu=["src"],au={key:2,class:"w-6 h-6 bg-bg-body border border-border rounded-full flex justify-center items-center flex-shrink-0"},cu={class:"min-w-0"},du={class:"text-xs font-medium truncate"},uu={class:"text-[10px] text-text-secondary truncate"},fu={class:"text-xs font-medium text-text-secondary whitespace-nowrap ml-2"},hu={key:0,class:"text-[10px] px-2 py-1 border rounded-full border-red-500 transition group-hover:bg-red-500 group-hover:text-white"},pu={key:1,class:"text-red-500"},gu={key:2,class:"text-[10px] px-2 py-1 border rounded-full border-accent group-hover:bg-accent transition group-hover:text-white"},mu={key:1,class:"px-4 py-3 text-center text-sm text-text-secondary"},h0=Ke({__name:"TableAssigneeCell",props:{assigneeId:{},disabled:{type:Boolean},seat:{},workspaceId:{},name:{},emptyText:{}},emits:["update:modelValue","assign","unassign"],setup(t,{emit:e}){const n=t,r=e,{canAssignCard:i}=fa(),{workspaceId:s}=ha(),{data:o}=pa(te(()=>(n==null?void 0:n.workspaceId)??s.value)),l=Z(n.assigneeId??n.seat);kt(()=>[n.assigneeId,n.seat],()=>{l.value=n.assigneeId??n.seat},{deep:!0});const a=Z(!1),d=Z(!1),c=Z(""),f=Z(null),u=Z(null),h=Z(null),v=Z({top:"0px",left:"0px",width:"100%"}),p=te(()=>{const S=l.value;if(!S)return null;const E=S._id||S.id||S;return(o.value||[]).find(D=>{var H,he;const z=D._id||D.id,$=((H=D.user)==null?void 0:H._id)||((he=D.user)==null?void 0:he.id);return z==E||$==E})||S}),g=te(()=>{const S=p.value,E=o.value||[];if(S&&(S._id||S.id)){const C=S._id||S.id,D=S,z=E.filter($=>{var yt,Et,wt,St;const H=$._id||$.id,he=((yt=$.user)==null?void 0:yt._id)||((Et=$.user)==null?void 0:Et.id),pe=((wt=S.user)==null?void 0:wt._id)||((St=S.user)==null?void 0:St.id);return!(H==C||he&&he==(pe||C))});return[D,{_id:null,name:"Unassign",email:""},...z]}return[{_id:null,name:"Unassign",email:""},...E]}),b=te(()=>{const S=c.value.trim().toLowerCase(),E=g.value;return S?E.filter(C=>(C.title||C.name||"").toLowerCase().includes(S)||(C.email||"").toLowerCase().includes(S)):E}),w=()=>{if(!f.value||!h.value)return;const S=f.value.getBoundingClientRect(),E=h.value.offsetHeight||200,D=window.innerHeight-S.bottom;let $=S.bottom+window.scrollY+6;D<E&&S.top>E&&($=S.top+window.scrollY-E-5),v.value={top:`${$}px`,left:`${S.left+window.scrollX}px`,width:`${S.width}px`}},A=async()=>{var E,C,D,z,$;if(n.disabled||!i.value)return;a.value=!0,d.value=!0;const S=((E=p.value)==null?void 0:E.name)||((C=p.value)==null?void 0:C.title)||((D=p.value)==null?void 0:D.u_full_name);c.value=S||"",await Sr(),(z=f.value)==null||z.focus(),($=f.value)==null||$.select(),w(),window.addEventListener("scroll",w,!0),window.addEventListener("resize",w)},x=()=>{a.value=!1,d.value=!1,c.value="",window.removeEventListener("scroll",w,!0),window.removeEventListener("resize",w)};function _(S){const E=g.value.find(C=>C._id==S);E&&(l.value=E,r("assign",E),r("update:modelValue",S)),x()}function R(){l.value=null,r("unassign"),r("assign",{_id:null}),r("update:modelValue",null),x()}function O(S){if(S._id==null){R();return}if(p.value&&S._id===p.value._id){R();return}_(S._id)}const T=()=>{b.value.length>0?O(b.value[0]):x()},B=()=>{setTimeout(()=>{a.value&&x()},150)},K=S=>{u.value&&!u.value.contains(S.target)&&h.value&&!h.value.contains(S.target)&&a.value&&x()};return Ys(()=>{document.addEventListener("mousedown",K)}),qs(()=>{document.removeEventListener("mousedown",K),window.removeEventListener("scroll",w,!0),window.removeEventListener("resize",w)}),(S,E)=>{var C,D,z,$,H,he,pe,yt,Et,wt,St,di,ui,fi,hi,pi,gi,mi,vi,bi,yi,Ei,wi,Si,Ci,Ai;return N(),I("div",{class:"relative w-full h-full",ref_key:"containerRef",ref:u,onClick:E[3]||(E[3]=lt(()=>{},["stop"]))},[a.value?(N(),I("div",ru,[yr(L("input",{ref_key:"inputRef",ref:f,"onUpdate:modelValue":E[0]||(E[0]=W=>c.value=W),onBlur:B,onKeydown:[nn(T,["enter"]),nn(x,["esc"])],onInput:E[1]||(E[1]=W=>d.value=!0),class:"absolute left-0 top-1/2 h-8 -translate-y-1/2 min-w-[200px] w-full p-1 border border-accent/60 rounded-sm focus:outline-none focus:ring-1 focus:ring-accent bg-bg-body z-50 text-[12px]",placeholder:"Add people by name or email"},null,544),[[Er,c.value]]),(N(),wr(Cr,{to:"body"},[d.value?(N(),I("div",{key:0,ref_key:"dropdownRef",ref:h,class:"fixed z-[9999] bg-bg-dropdown border border-border rounded-md shadow-lg",style:we(v.value),onMousedown:E[2]||(E[2]=lt(()=>{},["prevent"]))},[L("ul",iu,[b.value.length>0?(N(!0),I(ge,{key:0},Te(b.value,W=>{var xi,Di;return N(),I("li",{key:W._id??"unassign",onMousedown:lt(c0=>O(W),["prevent"]),class:"px-3 py-2 cursor-pointer hover:bg-bg-dropdown-menu-hover text-[12px] text-text-primary flex items-center justify-between group"},[L("div",ou,[(xi=W==null?void 0:W.user)!=null&&xi.avatar?(N(),I("img",{key:0,src:W.user.avatar,class:"w-6 h-6 rounded-full object-cover flex-shrink-0",alt:""},null,8,lu)):W.name&&W._id?(N(),I("div",{key:1,class:"w-6 h-6 border border-border rounded-full text-xs font-semibold flex items-center justify-center flex-shrink-0",style:we({backgroundColor:W!=null&&W.email?xt(_i)({name:W.name,email:W.email,_id:W._id}):""})},ce(xt(Ri)(W.name)),5)):(N(),I("div",au,E[6]||(E[6]=[L("i",{class:"fa-regular fa-user text-xs"},null,-1)]))),L("div",cu,[L("div",du,ce(W.name||W.title),1),L("div",uu,ce(W.role_title),1)])]),L("div",fu,[W._id&&((Di=p.value)==null?void 0:Di._id)===W._id?(N(),I("span",hu," Unassign ")):W._id==null?(N(),I("span",pu)):(N(),I("span",gu," Assign to "))])],40,su)}),128)):(N(),I("div",mu," No match found "))])],36)):Ve("",!0)]))])):(N(),I("div",{key:0,onClick:A,class:Qs(["w-full h-full flex items-center px-3 py-1.5 cursor-pointer hover:bg-bg-surface-hover rounded-md truncate transition-all duration-200 min-h-[36px] group",{"opacity-50 cursor-not-allowed":S.disabled}])},[(D=(C=p.value)==null?void 0:C.user)!=null&&D.avatar||(z=p.value)!=null&&z._id||($=S.seat)!=null&&$._id?(N(),I("div",Kd,[(he=(H=p.value)==null?void 0:H.avatar)!=null&&he.src||(yt=(pe=p.value)==null?void 0:pe.user)!=null&&yt.avatar||(Et=p.value)!=null&&Et.u_profile_image?(N(),I("img",{key:0,src:((St=(wt=p.value)==null?void 0:wt.avatar)==null?void 0:St.src)??((di=p.value)==null?void 0:di.u_profile_image)??((fi=(ui=p.value)==null?void 0:ui.user)==null?void 0:fi.avatar),class:"w-5 h-5 object-cover rounded-full flex-shrink-0",alt:""},null,8,Jd)):(hi=p.value)!=null&&hi.u_full_name||(pi=p.value)!=null&&pi.name?(N(),I("div",{key:1,class:"w-5 h-5 aspect-square rounded-full text-[11px] bg-bg-surface text-text-primary flex items-center justify-center flex-shrink-0",style:we({backgroundColor:((gi=p.value)==null?void 0:gi.u_full_name)??((mi=p.value)==null?void 0:mi.title)?xt(_i)({name:((vi=p.value)==null?void 0:vi.u_full_name)??((bi=p.value)==null?void 0:bi.title),_id:(yi=p.value)==null?void 0:yi._id}):""})},ce(xt(Ri)(((Ei=p.value)==null?void 0:Ei.u_full_name)??((wi=p.value)==null?void 0:wi.name))),5)):(N(),I("div",eu,E[4]||(E[4]=[L("i",{class:"fa-regular fa-user text-xs"},null,-1)]))),L("span",tu,ce((((Si=p.value)==null?void 0:Si.name)||((Ci=p.value)==null?void 0:Ci.title)||((Ai=p.value)==null?void 0:Ai.u_full_name))??"Unassigned"),1)])):(N(),I("span",nu,[E[5]||(E[5]=L("i",{class:"fa-solid fa-plus text-[10px]"},null,-1)),tn(" Add "+ce(S.emptyText||"Assignee"),1)]))],2))],512)}}});var _n,M,bo,yo,ht,We,$i,Eo,wo,an={},So=[],vu=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Me(t,e){for(var n in e)t[n]=e[n];return t}function Co(t){var e=t.parentNode;e&&e.removeChild(t)}function m(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?_n.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return Qt(t,o,r,i,null)}function Qt(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++bo};return i==null&&M.vnode!=null&&M.vnode(s),s}function ee(){return{current:null}}function F(t){return t.children}function bu(t,e,n,r,i){var s;for(s in n)s==="children"||s==="key"||s in e||cn(t,s,null,n[s],r);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===e[s]||cn(t,s,e[s],n[s],r)}function Gi(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||vu.test(e)?n:n+"px"}function cn(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||Gi(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||Gi(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r||t.addEventListener(e,s?qi:Yi,s):t.removeEventListener(e,s?qi:Yi,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function Yi(t){ht=!0;try{return this.l[t.type+!1](M.event?M.event(t):t)}finally{ht=!1}}function qi(t){ht=!0;try{return this.l[t.type+!0](M.event?M.event(t):t)}finally{ht=!1}}function ie(t,e){this.props=t,this.context=e}function Nt(t,e){if(e==null)return t.__?Nt(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Nt(t):null}function Ao(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Ao(t)}}function yu(t){ht?setTimeout(t):Eo(t)}function ir(t){(!t.__d&&(t.__d=!0)&&We.push(t)&&!dn.__r++||$i!==M.debounceRendering)&&(($i=M.debounceRendering)||yu)(dn)}function dn(){var t,e,n,r,i,s,o,l;for(We.sort(function(a,d){return a.__v.__b-d.__v.__b});t=We.shift();)t.__d&&(e=We.length,r=void 0,i=void 0,o=(s=(n=t).__v).__e,(l=n.__P)&&(r=[],(i=Me({},s)).__v=s.__v+1,Mr(l,s,i,n.__n,l.ownerSVGElement!==void 0,s.__h!=null?[o]:null,r,o??Nt(s),s.__h),To(r,s),s.__e!=o&&Ao(s)),We.length>e&&We.sort(function(a,d){return a.__v.__b-d.__v.__b}));dn.__r=0}function xo(t,e,n,r,i,s,o,l,a,d){var c,f,u,h,v,p,g,b=r&&r.__k||So,w=b.length;for(n.__k=[],c=0;c<e.length;c++)if((h=n.__k[c]=(h=e[c])==null||typeof h=="boolean"?null:typeof h=="string"||typeof h=="number"||typeof h=="bigint"?Qt(null,h,null,null,h):Array.isArray(h)?Qt(F,{children:h},null,null,null):h.__b>0?Qt(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)!=null){if(h.__=n,h.__b=n.__b+1,(u=b[c])===null||u&&h.key==u.key&&h.type===u.type)b[c]=void 0;else for(f=0;f<w;f++){if((u=b[f])&&h.key==u.key&&h.type===u.type){b[f]=void 0;break}u=null}Mr(t,h,u=u||an,i,s,o,l,a,d),v=h.__e,(f=h.ref)&&u.ref!=f&&(g||(g=[]),u.ref&&g.push(u.ref,null,h),g.push(f,h.__c||v,h)),v!=null?(p==null&&(p=v),typeof h.type=="function"&&h.__k===u.__k?h.__d=a=Do(h,a,t):a=_o(t,h,u,b,v,a),typeof n.type=="function"&&(n.__d=a)):a&&u.__e==a&&a.parentNode!=t&&(a=Nt(u))}for(n.__e=p,c=w;c--;)b[c]!=null&&(typeof n.type=="function"&&b[c].__e!=null&&b[c].__e==n.__d&&(n.__d=Ro(r).nextSibling),ko(b[c],b[c]));if(g)for(c=0;c<g.length;c++)Mo(g[c],g[++c],g[++c])}function Do(t,e,n){for(var r,i=t.__k,s=0;i&&s<i.length;s++)(r=i[s])&&(r.__=t,e=typeof r.type=="function"?Do(r,e,n):_o(n,r,r,i,r.__e,e));return e}function un(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){un(n,e)}):e.push(t)),e}function _o(t,e,n,r,i,s){var o,l,a;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(n==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(l=s,a=0;(l=l.nextSibling)&&a<r.length;a+=1)if(l==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function Ro(t){var e,n,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(r=Ro(n)))return r}return null}function Mr(t,e,n,r,i,s,o,l,a){var d,c,f,u,h,v,p,g,b,w,A,x,_,R,O,T=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(a=n.__h,l=e.__e=n.__e,e.__h=null,s=[l]),(d=M.__b)&&d(e);try{e:if(typeof T=="function"){if(g=e.props,b=(d=T.contextType)&&r[d.__c],w=d?b?b.props.value:d.__:r,n.__c?p=(c=e.__c=n.__c).__=c.__E:("prototype"in T&&T.prototype.render?e.__c=c=new T(g,w):(e.__c=c=new ie(g,w),c.constructor=T,c.render=wu),b&&b.sub(c),c.props=g,c.state||(c.state={}),c.context=w,c.__n=r,f=c.__d=!0,c.__h=[],c._sb=[]),c.__s==null&&(c.__s=c.state),T.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=Me({},c.__s)),Me(c.__s,T.getDerivedStateFromProps(g,c.__s))),u=c.props,h=c.state,c.__v=e,f)T.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(T.getDerivedStateFromProps==null&&g!==u&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(g,w),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(g,c.__s,w)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(c.props=g,c.state=c.__s,c.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(B){B&&(B.__=e)}),A=0;A<c._sb.length;A++)c.__h.push(c._sb[A]);c._sb=[],c.__h.length&&o.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(g,c.__s,w),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(u,h,v)})}if(c.context=w,c.props=g,c.__P=t,x=M.__r,_=0,"prototype"in T&&T.prototype.render){for(c.state=c.__s,c.__d=!1,x&&x(e),d=c.render(c.props,c.state,c.context),R=0;R<c._sb.length;R++)c.__h.push(c._sb[R]);c._sb=[]}else do c.__d=!1,x&&x(e),d=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++_<25);c.state=c.__s,c.getChildContext!=null&&(r=Me(Me({},r),c.getChildContext())),f||c.getSnapshotBeforeUpdate==null||(v=c.getSnapshotBeforeUpdate(u,h)),O=d!=null&&d.type===F&&d.key==null?d.props.children:d,xo(t,Array.isArray(O)?O:[O],e,n,r,i,s,o,l,a),c.base=e.__e,e.__h=null,c.__h.length&&o.push(c),p&&(c.__E=c.__=null),c.__e=!1}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Eu(n.__e,e,n,r,i,s,o,a);(d=M.diffed)&&d(e)}catch(B){e.__v=null,(a||s!=null)&&(e.__e=l,e.__h=!!a,s[s.indexOf(l)]=null),M.__e(B,e,n)}}function To(t,e){M.__c&&M.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){M.__e(r,n.__v)}})}function Eu(t,e,n,r,i,s,o,l){var a,d,c,f=n.props,u=e.props,h=e.type,v=0;if(h==="svg"&&(i=!0),s!=null){for(;v<s.length;v++)if((a=s[v])&&"setAttribute"in a==!!h&&(h?a.localName===h:a.nodeType===3)){t=a,s[v]=null;break}}if(t==null){if(h===null)return document.createTextNode(u);t=i?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,u.is&&u),s=null,l=!1}if(h===null)f===u||l&&t.data===u||(t.data=u);else{if(s=s&&_n.call(t.childNodes),d=(f=n.props||an).dangerouslySetInnerHTML,c=u.dangerouslySetInnerHTML,!l){if(s!=null)for(f={},v=0;v<t.attributes.length;v++)f[t.attributes[v].name]=t.attributes[v].value;(c||d)&&(c&&(d&&c.__html==d.__html||c.__html===t.innerHTML)||(t.innerHTML=c&&c.__html||""))}if(bu(t,u,f,i,l),c)e.__k=[];else if(v=e.props.children,xo(t,Array.isArray(v)?v:[v],e,n,r,i&&h!=="foreignObject",s,o,s?s[0]:n.__k&&Nt(n,0),l),s!=null)for(v=s.length;v--;)s[v]!=null&&Co(s[v]);l||("value"in u&&(v=u.value)!==void 0&&(v!==t.value||h==="progress"&&!v||h==="option"&&v!==f.value)&&cn(t,"value",v,f.value,!1),"checked"in u&&(v=u.checked)!==void 0&&v!==t.checked&&cn(t,"checked",v,f.checked,!1))}return t}function Mo(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){M.__e(r,n)}}function ko(t,e,n){var r,i;if(M.unmount&&M.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||Mo(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){M.__e(s,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&ko(r[i],e,n||typeof t.type!="function");n||t.__e==null||Co(t.__e),t.__=t.__e=t.__d=void 0}function wu(t,e,n){return this.constructor(t,n)}function It(t,e,n){var r,i,s;M.__&&M.__(t,e),i=(r=!1)?null:e.__k,s=[],Mr(e,t=e.__k=m(F,null,[t]),i||an,an,e.ownerSVGElement!==void 0,i?null:e.firstChild?_n.call(e.childNodes):null,s,i?i.__e:e.firstChild,r),To(s,t)}function Su(t,e){var n={__c:e="__cC"+wo++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(l){l.__e=!0,ir(l)})},this.sub=function(o){i.push(o);var l=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),l&&l.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}_n=So.slice,M={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(l){t=l}throw t}},bo=0,yo=function(t){return t!=null&&t.constructor===void 0},ht=!1,ie.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Me({},this.state),typeof t=="function"&&(t=t(Me({},n),this.props)),t&&Me(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),ir(this))},ie.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ir(this))},ie.prototype.render=F,We=[],Eo=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,dn.__r=0,wo=0;var me,Hn,Qi,No=[],jn=[],Zi=M.__b,Xi=M.__r,Ki=M.diffed,Ji=M.__c,es=M.unmount;function Cu(){for(var t;t=No.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Zt),t.__H.__h.forEach(sr),t.__H.__h=[]}catch(e){t.__H.__h=[],M.__e(e,t.__v)}}M.__b=function(t){me=null,Zi&&Zi(t)},M.__r=function(t){Xi&&Xi(t);var e=(me=t.__c).__H;e&&(Hn===me?(e.__h=[],me.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=jn,n.__N=n.i=void 0})):(e.__h.forEach(Zt),e.__h.forEach(sr),e.__h=[])),Hn=me},M.diffed=function(t){Ki&&Ki(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(No.push(e)!==1&&Qi===M.requestAnimationFrame||((Qi=M.requestAnimationFrame)||Au)(Cu)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==jn&&(n.__=n.__V),n.i=void 0,n.__V=jn})),Hn=me=null},M.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Zt),n.__h=n.__h.filter(function(r){return!r.__||sr(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],M.__e(r,n.__v)}}),Ji&&Ji(t,e)},M.unmount=function(t){es&&es(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Zt(r)}catch(i){e=i}}),n.__H=void 0,e&&M.__e(e,n.__v))};var ts=typeof requestAnimationFrame=="function";function Au(t){var e,n=function(){clearTimeout(r),ts&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);ts&&(e=requestAnimationFrame(n))}function Zt(t){var e=me,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),me=e}function sr(t){var e=me;t.__c=t.__(),me=e}function xu(t,e){for(var n in e)t[n]=e[n];return t}function ns(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function rs(t){this.props=t}(rs.prototype=new ie).isPureReactComponent=!0,rs.prototype.shouldComponentUpdate=function(t,e){return ns(this.props,t)||ns(this.state,e)};var is=M.__b;M.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),is&&is(t)};var Du=M.__e;M.__e=function(t,e,n,r){if(t.then){for(var i,s=e;s=s.__;)if((i=s.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}Du(t,e,n,r)};var ss=M.unmount;function Io(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=xu({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return Io(r,e,n)})),t}function Oo(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return Oo(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function zn(){this.__u=0,this.t=null,this.__b=null}function Lo(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Ut(){this.u=null,this.o=null}M.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),ss&&ss(t)},(zn.prototype=new ie).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=Lo(r.__v),s=!1,o=function(){s||(s=!0,n.__R=null,i?i(l):l())};n.__R=o;var l=function(){if(!--r.__u){if(r.state.__a){var d=r.state.__a;r.__v.__k[0]=Oo(d,d.__c.__P,d.__c.__O)}var c;for(r.setState({__a:r.__b=null});c=r.t.pop();)c.forceUpdate()}},a=e.__h===!0;r.__u++||a||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(o,o)},zn.prototype.componentWillUnmount=function(){this.t=[]},zn.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=Io(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&m(F,null,t.fallback);return i&&(i.__h=null),[m(F,null,e.__a?null:t.children),i]};var os=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function _u(t){return this.getChildContext=function(){return t.context},t.children}function Ru(t){var e=this,n=t.i;e.componentWillUnmount=function(){It(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),It(m(_u,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function Tu(t,e){var n=m(Ru,{__v:t,i:e});return n.containerInfo=e,n}(Ut.prototype=new ie).__a=function(t){var e=this,n=Lo(e.__v),r=e.o.get(t);return r[0]++,function(i){var s=function(){e.props.revealOrder?(r.push(i),os(e,t,r)):i()};n?n(s):s()}},Ut.prototype.render=function(t){this.u=null,this.o=new Map;var e=un(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},Ut.prototype.componentDidUpdate=Ut.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){os(t,n,e)})};var Mu=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,ku=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Nu=typeof document<"u",Iu=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};ie.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(ie.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var ls=M.event;function Ou(){}function Lu(){return this.cancelBubble}function Pu(){return this.defaultPrevented}M.event=function(t){return ls&&(t=ls(t)),t.persist=Ou,t.isPropagationStopped=Lu,t.isDefaultPrevented=Pu,t.nativeEvent=t};var as={configurable:!0,get:function(){return this.class}},cs=M.vnode;M.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var s in r={},n){var o=n[s];Nu&&s==="children"&&e==="noscript"||s==="value"&&"defaultValue"in n&&o==null||(s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&o===!0?o="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+e)&&!Iu(n.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():i&&ku.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),r[s]&&(s="oninputCapture")),r[s]=o)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=un(n.children).forEach(function(l){l.props.selected=r.value.indexOf(l.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=un(n.children).forEach(function(l){l.props.selected=r.multiple?r.defaultValue.indexOf(l.props.value)!=-1:r.defaultValue==l.props.value})),t.props=r,n.class!=n.className&&(as.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",as))}t.$$typeof=Mu,cs&&cs(t)};var ds=M.__r;M.__r=function(t){ds&&ds(t),t.__c};const Po=[],or=new Map;function kr(t){Po.push(t),or.forEach(e=>{jo(e,t)})}function Hu(t){t.isConnected&&t.getRootNode&&Ho(t.getRootNode())}function Ho(t){let e=or.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=zu();n&&(e.nonce=n);const r=t===document?document.head:t,i=t===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,i)}or.set(t,e),ju(e)}}function ju(t){for(const e of Po)jo(t,e)}function jo(t,e){const{sheet:n}=t,r=n.cssRules.length;e.split("}").forEach((i,s)=>{i=i.trim(),i&&n.insertRule(i+"}",r+s)})}let Bn;function zu(){return Bn===void 0&&(Bn=Bu()),Bn}function Bu(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&Ho(document);var Fu=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';kr(Fu);class Nr{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:r}=this;e in r&&(n?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function Ir(t){t.parentNode&&t.parentNode.removeChild(t)}function J(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(Uu(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function Uu(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function Wu(t,e){let n=t instanceof HTMLElement?[t]:t,r=[];for(let i=0;i<n.length;i+=1){let s=n[i].querySelectorAll(e);for(let o=0;o<s.length;o+=1)r.push(s[o])}return r}const Vu=/(top|left|right|bottom|width|height)$/i;function Rt(t,e){for(let n in e)zo(t,n,e[n])}function zo(t,e,n){n==null?t.style[e]="":typeof n=="number"&&Vu.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function Bo(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let us=0;function Rn(){return us+=1,"fc-dom-"+us}function Tn(t){t.preventDefault()}function $u(t,e){return n=>{let r=J(n.target,t);r&&e.call(r,n,r)}}function Fo(t,e,n,r){let i=$u(n,r);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function Gu(t,e,n,r){let i;return Fo(t,"mouseover",e,(s,o)=>{if(o!==i){i=o,n(s,o);let l=a=>{i=null,r(a,o),o.removeEventListener("mouseleave",l)};o.addEventListener("mouseleave",l)}})}const fs=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function Yu(t,e){let n=r=>{e(r),fs.forEach(i=>{t.removeEventListener(i,n)})};fs.forEach(r=>{t.addEventListener(r,n)})}function Uo(t){return Object.assign({onClick:t},Wo(t))}function Wo(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let hs=0;function Je(){return hs+=1,String(hs)}function Or(){document.body.classList.add("fc-not-allowed")}function Lr(){document.body.classList.remove("fc-not-allowed")}function qu(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",Tn)}function Qu(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",Tn)}function Zu(t){t.addEventListener("contextmenu",Tn)}function Xu(t){t.removeEventListener("contextmenu",Tn)}function Ku(t){let e=[],n=[],r,i;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)i=n[r],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function Ju(t,e,n){let r,i;for(r=0;r<n.length;r+=1)if(i=ef(t,e,n[r]),i)return i;return 0}function ef(t,e,n){return n.func?n.func(t,e):tf(t[n.field],e[n.field])*(n.order||1)}function tf(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function dt(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function Tt(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((r,i,s)=>r.replace("$"+s,i||""),t):n}function nf(t,e){return t-e}function Xt(t){return t%1===0}function rf(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const ps=["years","months","days","milliseconds"],sf=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function P(t,e){return typeof t=="string"?of(t):typeof t=="object"&&t?gs(t):typeof t=="number"?gs({[e||"milliseconds"]:t}):null}function of(t){let e=sf.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function gs(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function lf(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function lr(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function af(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function cf(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function df(t){return ut(t)/365}function uf(t){return ut(t)/30}function ut(t){return ue(t)/864e5}function ue(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function Pr(t,e){let n=null;for(let r=0;r<ps.length;r+=1){let i=ps[r];if(e[i]){let s=t[i]/e[i];if(!Xt(s)||n!==null&&n!==s)return null;n=s}else if(t[i])return null}return n}function ar(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function Oe(t,e,n){if(t===e)return!0;let r=t.length,i;if(r!==e.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(t[i],e[i]):t[i]===e[i]))return!1;return!0}const ff=["sun","mon","tue","wed","thu","fri","sat"];function ms(t,e){let n=ke(t);return n[2]+=e*7,ne(n)}function X(t,e){let n=ke(t);return n[2]+=e,ne(n)}function Le(t,e){let n=ke(t);return n[6]+=e,ne(n)}function hf(t,e){return et(t,e)/7}function et(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function pf(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function gf(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function mf(t,e){return(e.valueOf()-t.valueOf())/1e3}function vf(t,e){let n=U(t),r=U(e);return{years:0,months:0,days:Math.round(et(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function bf(t,e){let n=fn(t,e);return n!==null&&n%7===0?n/7:null}function fn(t,e){return Ne(t)===Ne(e)?Math.round(et(t,e)):null}function U(t){return ne([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function yf(t){return ne([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function Ef(t){return ne([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function wf(t){return ne([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function Sf(t,e,n){let r=t.getUTCFullYear(),i=Fn(t,r,e,n);if(i<1)return Fn(t,r-1,e,n);let s=Fn(t,r+1,e,n);return s>=1?Math.min(i,s):i}function Fn(t,e,n,r){let i=ne([e,0,1+Cf(e,n,r)]),s=U(t),o=Math.round(et(i,s));return Math.floor(o/7)+1}function Cf(t,e,n){let r=7+e-n;return-((7+ne([t,0,r]).getUTCDay()-e)%7)+r-1}function vs(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function bs(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function ke(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function ne(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function Vo(t){return!isNaN(t.valueOf())}function Ne(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function $o(t,e,n=!1){let r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",jr(e,!0)))),r}function Hr(t){return t.toISOString().replace(/T.*$/,"")}function Af(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function xf(t){return dt(t.getUTCHours(),2)+":"+dt(t.getUTCMinutes(),2)+":"+dt(t.getUTCSeconds(),2)}function jr(t,e=!1){let n=t<0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=Math.round(r%60);return e?`${n+dt(i,2)}:${dt(s,2)}`:`GMT${n}${i}${s?`:${dt(s,2)}`:""}`}function k(t,e,n){let r,i;return function(...s){if(!r)i=t.apply(this,s);else if(!Oe(r,s)){let o=t.apply(this,s);(!e||!e(o,i))&&(i=o)}return r=s,i}}function Kt(t,e,n){let r,i;return s=>(r?fe(r,s)||(i=t.call(this,s)):i=t.call(this,s),r=s,i)}const Un={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},hn={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Wt=/\s*([ap])\.?m\.?/i,Df=/,/g,_f=/\s+/g,Rf=/\u200e/g,Tf=/UTC|GMT/;class Mf{constructor(e){let n={},r={},i=9;for(let s in e)s in Un?(r[s]=e[s],Un[s]<9&&(i=Math.min(Un[s],i))):(n[s]=e[s],s in hn&&(i=Math.min(hn[s],i)));this.standardDateProps=n,this.extendedSettings=r,this.smallestUnitNum=i,this.buildFormattingFunc=k(ys)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,r,i){let{standardDateProps:s,extendedSettings:o}=this,l=Pf(e.marker,n.marker,r.calendarSystem);if(!l)return this.format(e,r);let a=l;a>1&&(s.year==="numeric"||s.year==="2-digit")&&(s.month==="numeric"||s.month==="2-digit")&&(s.day==="numeric"||s.day==="2-digit")&&(a=1);let d=this.format(e,r),c=this.format(n,r);if(d===c)return d;let f=Hf(s,a),u=ys(f,o,r),h=u(e),v=u(n),p=jf(d,h,c,v),g=o.separator||i||r.defaultSeparator||"";return p?p.before+h+g+v+p.after:d+g+c}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function ys(t,e,n){let r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?i=>jr(i.timeZoneOffset):r===0&&e.week?i=>Lf(n.computeWeekNumber(i.marker),n.weekText,n.weekTextLong,n.locale,e.week):kf(t,e,n)}function kf(t,e,n){t=Object.assign({},t),e=Object.assign({},e),Nf(t,e),t.timeZone="UTC";let r=new Intl.DateTimeFormat(n.locale.codes,t),i;if(e.omitZeroMinute){let s=Object.assign({},t);delete s.minute,i=new Intl.DateTimeFormat(n.locale.codes,s)}return s=>{let{marker:o}=s,l;i&&!o.getUTCMinutes()?l=i:l=r;let a=l.format(o);return If(a,s,t,e,n)}}function Nf(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function If(t,e,n,r,i){return t=t.replace(Rf,""),n.timeZoneName==="short"&&(t=Of(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":jr(e.timeZoneOffset))),r.omitCommas&&(t=t.replace(Df,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace(Wt,"").trim():r.meridiem==="narrow"?t=t.replace(Wt,(s,o)=>o.toLocaleLowerCase()):r.meridiem==="short"?t=t.replace(Wt,(s,o)=>`${o.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(t=t.replace(Wt,s=>s.toLocaleLowerCase())),t=t.replace(_f," "),t=t.trim(),t}function Of(t,e){let n=!1;return t=t.replace(Tf,()=>(n=!0,e)),n||(t+=` ${e}`),t}function Lf(t,e,n,r,i){let s=[];return i==="long"?s.push(n):(i==="short"||i==="narrow")&&s.push(e),(i==="long"||i==="short")&&s.push(" "),s.push(r.simpleNumberFormat.format(t)),r.options.direction==="rtl"&&s.reverse(),s.join("")}function Pf(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:Ne(t)!==Ne(e)?1:0}function Hf(t,e){let n={};for(let r in t)(!(r in hn)||hn[r]<=e)&&(n[r]=t[r]);return n}function jf(t,e,n,r){let i=0;for(;i<t.length;){let s=t.indexOf(e,i);if(s===-1)break;let o=t.substr(0,s);i=s+e.length;let l=t.substr(i),a=0;for(;a<n.length;){let d=n.indexOf(r,a);if(d===-1)break;let c=n.substr(0,d);a=d+r.length;let f=n.substr(a);if(o===c&&l===f)return{before:o,after:l}}}return null}function Es(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function pn(t,e,n,r){let i=Es(t,n.calendarSystem),s=e?Es(e,n.calendarSystem):null;return{date:i,start:i,end:s,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class zf{constructor(e){this.cmdStr=e}format(e,n,r){return n.cmdFormatter(this.cmdStr,pn(e,null,n,r))}formatRange(e,n,r,i){return r.cmdFormatter(this.cmdStr,pn(e,n,r,i))}}class Bf{constructor(e){this.func=e}format(e,n,r){return this.func(pn(e,null,n,r))}formatRange(e,n,r,i){return this.func(pn(e,n,r,i))}}function q(t){return typeof t=="object"&&t?new Mf(t):typeof t=="string"?new zf(t):typeof t=="function"?new Bf(t):null}const ws={navLinkDayClick:y,navLinkWeekClick:y,duration:P,bootstrapFontAwesome:y,buttonIcons:y,customButtons:y,defaultAllDayEventDuration:P,defaultTimedEventDuration:P,nextDayThreshold:P,scrollTime:P,scrollTimeReset:Boolean,slotMinTime:P,slotMaxTime:P,dayPopoverFormat:q,slotDuration:P,snapDuration:P,headerToolbar:y,footerToolbar:y,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:q,dayHeaderClassNames:y,dayHeaderContent:y,dayHeaderDidMount:y,dayHeaderWillUnmount:y,dayCellClassNames:y,dayCellContent:y,dayCellDidMount:y,dayCellWillUnmount:y,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:y,weekNumbers:Boolean,weekNumberClassNames:y,weekNumberContent:y,weekNumberDidMount:y,weekNumberWillUnmount:y,editable:Boolean,viewClassNames:y,viewDidMount:y,viewWillUnmount:y,nowIndicator:Boolean,nowIndicatorSnap:y,nowIndicatorClassNames:y,nowIndicatorContent:y,nowIndicatorDidMount:y,nowIndicatorWillUnmount:y,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:y,locale:y,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:y,eventOrder:Ku,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:y,contentHeight:y,direction:String,weekNumberFormat:q,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:y,initialDate:y,now:y,eventDataTransform:y,stickyHeaderDates:y,stickyFooterScrollbar:y,viewHeight:y,defaultAllDay:Boolean,eventSourceFailure:y,eventSourceSuccess:y,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:y,eventConstraint:y,eventAllow:y,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:y,eventContent:y,eventDidMount:y,eventWillUnmount:y,selectConstraint:y,selectOverlap:y,selectAllow:y,droppable:Boolean,unselectCancel:String,slotLabelFormat:y,slotLaneClassNames:y,slotLaneContent:y,slotLaneDidMount:y,slotLaneWillUnmount:y,slotLabelClassNames:y,slotLabelContent:y,slotLabelDidMount:y,slotLabelWillUnmount:y,dayMaxEvents:y,dayMaxEventRows:y,dayMinWidth:Number,slotLabelInterval:P,allDayText:String,allDayClassNames:y,allDayContent:y,allDayDidMount:y,allDayWillUnmount:y,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:q,rerenderDelay:Number,moreLinkText:y,moreLinkHint:y,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:y,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:P,hiddenDays:y,fixedWeekCount:Boolean,validRange:y,visibleRange:y,titleFormat:y,eventInteractive:Boolean,noEventsText:String,viewHint:y,navLinkHint:y,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:y,moreLinkClassNames:y,moreLinkContent:y,moreLinkDidMount:y,moreLinkWillUnmount:y,monthStartFormat:q,handleCustomRendering:y,customRenderingMetaMap:y,customRenderingReplaces:Boolean},Mt={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" â€“ ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},Ss={datesSet:y,eventsSet:y,eventAdd:y,eventChange:y,eventRemove:y,windowResize:y,eventClick:y,eventMouseEnter:y,eventMouseLeave:y,select:y,unselect:y,loading:y,_unmount:y,_beforeprint:y,_afterprint:y,_noEventDrop:y,_noEventResize:y,_resize:y,_scrollRequest:y},Cs={buttonText:y,buttonHints:y,views:y,plugins:y,initialEvents:y,events:y,eventSources:y},Fe={headerToolbar:Ue,footerToolbar:Ue,buttonText:Ue,buttonHints:Ue,buttonIcons:Ue,dateIncrement:Ue,plugins:Vt,events:Vt,eventSources:Vt,resources:Vt};function Ue(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?fe(t,e):t===e}function Vt(t,e){return Array.isArray(t)&&Array.isArray(e)?Oe(t,e):t===e}const Ff={type:String,component:y,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:y,usesMinMaxTime:Boolean,classNames:y,content:y,didMount:y,willUnmount:y};function Wn(t){return Br(t,Fe)}function zr(t,e){let n={},r={};for(let i in e)i in t&&(n[i]=e[i](t[i]));for(let i in t)i in e||(r[i]=t[i]);return{refined:n,extra:r}}function y(t){return t}const{hasOwnProperty:gn}=Object.prototype;function Br(t,e){let n={};if(e){for(let r in e)if(e[r]===Ue){let i=[];for(let s=t.length-1;s>=0;s-=1){let o=t[s][r];if(typeof o=="object"&&o)i.unshift(o);else if(o!==void 0){n[r]=o;break}}i.length&&(n[r]=Br(i))}}for(let r=t.length-1;r>=0;r-=1){let i=t[r];for(let s in i)s in n||(n[s]=i[s])}return n}function Qe(t,e){let n={};for(let r in t)e(t[r],r)&&(n[r]=t[r]);return n}function Ce(t,e){let n={};for(let r in t)n[r]=e(t[r],r);return n}function Go(t){let e={};for(let n of t)e[n]=!0;return e}function Fr(t){let e=[];for(let n in t)e.push(t[n]);return e}function fe(t,e){if(t===e)return!0;for(let n in t)if(gn.call(t,n)&&!(n in e))return!1;for(let n in e)if(gn.call(e,n)&&t[n]!==e[n])return!1;return!0}const Uf=/^on[A-Z]/;function Wf(t,e){const n=Vf(t,e);for(let r of n)if(!Uf.test(r))return!1;return!0}function Vf(t,e){let n=[];for(let r in t)gn.call(t,r)&&(r in e||n.push(r));for(let r in e)gn.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function Vn(t,e,n={}){if(t===e)return!0;for(let r in e)if(!(r in t&&$f(t[r],e[r],n[r])))return!1;for(let r in t)if(!(r in e))return!1;return!0}function $f(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function Gf(t,e=0,n,r=1){let i=[];n==null&&(n=Object.keys(t).length);for(let s=e;s<n;s+=r){let o=t[s];o!==void 0&&i.push(o)}return i}let Yo={};function Yf(t,e){Yo[t]=e}function qf(t){return new Yo[t]}class Qf{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return ne(e)}markerToArray(e){return ke(e)}}Yf("gregory",Qf);const Zf=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function Xf(t){let e=Zf.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(Vo(n)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class Kf{constructor(e){let n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=qf(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):ne(vs(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=ne(e)),n===null||!Vo(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=Xf(e);if(n===null)return null;let{marker:r}=n,i=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):i=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)}addMonths(e,n){let r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,n){let{calendarSystem:r}=this;return Ne(e)===Ne(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:r}=this;return Ne(e)===Ne(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=bf(e,n),r!==null?{unit:"week",value:r}:(r=fn(e,n),r!==null?{unit:"day",value:r}:(r=pf(e,n),Xt(r)?{unit:"hour",value:r}:(r=gf(e,n),Xt(r)?{unit:"minute",value:r}:(r=mf(e,n),Xt(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,r){let i;return r.years&&(i=this.diffWholeYears(e,n),i!==null)?i/df(r):r.months&&(i=this.diffWholeMonths(e,n),i!==null)?i/uf(r):r.days&&(i=fn(e,n),i!==null)?i/ut(r):(n.valueOf()-e.valueOf())/ue(r)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?U(e):n==="hour"?yf(e):n==="minute"?Ef(e):n==="second"?wf(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):Sf(e,this.weekDow,this.weekDoy)}format(e,n,r={}){return n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,r,i={}){return i.isEndExclusive&&(n=Le(n,-1)),r.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(n)},this,i.defaultSeparator)}formatIso(e,n={}){let r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),$o(e,r,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?ne(vs(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):ne(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-bs(ke(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(ke(e)):null}toDate(e,n){return this.timeZone==="local"?bs(ke(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(ke(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class Pt{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,r;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}Pt.prototype.classes={};Pt.prototype.iconClasses={};Pt.prototype.baseIconClass="";Pt.prototype.iconOverridePrefix="";function mn(t){t();let e=M.debounceRendering,n=[];function r(i){n.push(i)}for(M.debounceRendering=r,It(m(Jf,{}),document.createElement("div"));n.length;)n.shift()();M.debounceRendering=e}class Jf extends ie{render(){return m("div",{})}componentDidMount(){this.setState({})}}function qo(t){let e=Su(t),n=e.Provider;return e.Provider=function(){let r=!this.getChildContext,i=n.apply(this,arguments);if(r){let s=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&s.forEach(l=>{l.context=o.value,l.forceUpdate()})},this.sub=o=>{s.push(o);let l=o.componentWillUnmount;o.componentWillUnmount=()=>{s.splice(s.indexOf(o),1),l&&l.call(o)}}}return i},e}class eh{constructor(e,n,r,i){this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=i,this.handleScrollRequest=s=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},s),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Ae=qo({});function th(t,e,n,r,i,s,o,l,a,d,c,f,u,h){return{dateEnv:i,nowManager:s,options:n,pluginHooks:l,emitter:c,dispatch:a,getCurrentData:d,calendarApi:f,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:o,isRtl:n.direction==="rtl",addResizeHandler(v){c.on("_resize",v)},removeResizeHandler(v){c.off("_resize",v)},createScrollResponder(v){return new eh(v,c,P(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:u,unregisterInteractiveComponent:h}}class tt extends ie{shouldComponentUpdate(e,n){return!Vn(this.props,e,this.propEquality)||!Vn(this.state,n,this.stateEquality)}safeSetState(e){Vn(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}tt.addPropsEquality=nh;tt.addStateEquality=rh;tt.contextType=Ae;tt.prototype.propEquality={};tt.prototype.stateEquality={};class j extends tt{}j.contextType=Ae;function nh(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function rh(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function ve(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class Ur extends j{constructor(){super(...arguments),this.id=Je(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:r}=this.props;(!n.customRenderingReplaces||!cr(r,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&ve(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:r}=n,{customGenerator:i,defaultGenerator:s,renderProps:o}=e,l=Qo(e,[],this.handleEl);let a=!1,d,c=[],f;if(i!=null){const u=typeof i=="function"?i(o,m):i;if(u===!0)a=!0;else{const h=u&&typeof u=="object";h&&"html"in u?l.dangerouslySetInnerHTML={__html:u.html}:h&&"domNodes"in u?c=Array.prototype.slice.call(u.domNodes):(h?yo(u):typeof u!="function")?d=u:f=u}}else a=!cr(e.generatorName,r);return a&&s&&(d=s(o)),this.queuedDomNodes=c,this.currentGeneratorMeta=f,m(e.elTag,l,d)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:r,context:i}=this,{handleCustomRendering:s,customRenderingMetaMap:o}=i.options;if(s){const l=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:o==null?void 0:o[r.generatorName];l&&s(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:l},r),{elClasses:(r.elClasses||[]).filter(ih)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,r=this.base;if(!Oe(e,n)){n.forEach(Ir);for(let i of e)r.appendChild(i);this.currentDomNodes=e}}}Ur.addPropsEquality({elClasses:Oe,elStyle:fe,elAttrs:Wf,renderProps:fe});function cr(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function Qo(t,e,n){const r=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(r.className=(t.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),t.elStyle&&(r.style=t.elStyle),r}function ih(t){return!!t}const Zo=qo(0);class le extends ie{constructor(){super(...arguments),this.InnerContent=sh.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(ve(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=oh(e.classNameGenerator,e.renderProps);if(e.children){const r=Qo(e,n,this.handleEl),i=e.children(this.InnerContent,e.renderProps,r);return e.elTag?m(e.elTag,r,i):i}else return m(Ur,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}le.contextType=Zo;function sh(t,e){const n=t.props;return m(Ur,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function oh(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class vn extends j{render(){let{props:e,context:n}=this,{options:r}=n,i={view:n.viewApi};return m(le,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...Xo(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount},()=>e.children)}}function Xo(t){return[`fc-${t.type}-view`,"fc-view"]}function lh(t,e){let n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function As(t,e){let n=[],{start:r}=e,i,s;for(t.sort(ah),i=0;i<t.length;i+=1)s=t[i],s.start>r&&n.push({start:r,end:s.start}),s.end>r&&(r=s.end);return r<e.end&&n.push({start:r,end:e.end}),n}function ah(t,e){return t.start.valueOf()-e.start.valueOf()}function Ze(t,e){let{start:n,end:r}=t,i=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(i={start:n,end:r}),i}function ch(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function Wr(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function Mn(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function Se(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function dh(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function Ko(t){let e=Math.floor(et(t.start,t.end))||1,n=U(t.start),r=X(n,e);return{start:n,end:r}}function Jo(t,e=P(0)){let n=null,r=null;if(t.end){r=U(t.end);let i=t.end.valueOf()-r.valueOf();i&&i>=ue(e)&&(r=X(r,1))}return t.start&&(n=U(t.start),r&&r<=n&&(r=X(n,1))),{start:n,end:r}}function ot(t,e,n,r){return r==="year"?P(n.diffWholeYears(t,e),"year"):r==="month"?P(n.diffWholeMonths(t,e),"month"):vf(t,e)}class el{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,n,r){let{dateEnv:i}=this.props,s=i.subtract(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,-1,r)}buildNext(e,n,r){let{dateEnv:i}=this.props,s=i.add(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,1,r)}build(e,n,r=!0){let{props:i}=this,s,o,l,a,d,c;return s=this.buildValidRange(),s=this.trimHiddenDays(s),r&&(e=dh(e,s)),o=this.buildCurrentRangeInfo(e,n),l=/^(year|month|week|day)$/.test(o.unit),a=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,l),a=this.trimHiddenDays(a),d=a,i.showNonCurrentDates||(d=Ze(d,o.range)),d=this.adjustActiveRange(d),d=Ze(d,s),c=Wr(o.range,s),Se(a,e)||(e=a.start),{currentDate:e,validRange:s,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:l,activeRange:d,renderRange:a,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:c,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:r}=this,i=null,s=null,o=null,l;return r.duration?(i=r.duration,s=r.durationUnit,o=this.buildRangeFromDuration(e,n,i,s)):(l=this.props.dayCount)?(s="day",o=this.buildRangeFromDayCount(e,n,l)):(o=this.buildCustomVisibleRange(e))?s=r.dateEnv.greatestWholeUnit(o.start,o.end).unit:(i=this.getFallbackDuration(),s=ar(i).unit,o=this.buildRangeFromDuration(e,n,i,s)),{duration:i,unit:s,range:o}}getFallbackDuration(){return P({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:r,slotMinTime:i,slotMaxTime:s}=this.props,{start:o,end:l}=e;return r&&(ut(i)<0&&(o=U(o),o=n.add(o,i)),ut(s)>1&&(l=U(l),l=X(l,-1),l=n.add(l,s))),{start:o,end:l}}buildRangeFromDuration(e,n,r,i){let{dateEnv:s,dateAlignment:o}=this.props,l,a,d;if(!o){let{dateIncrement:f}=this.props;f&&ue(f)<ue(r)?o=ar(f).unit:o=i}ut(r)<=1&&this.isHiddenDay(l)&&(l=this.skipHiddenDays(l,n),l=U(l));function c(){l=s.startOf(e,o),a=s.add(l,r),d={start:l,end:a}}return c(),this.trimHiddenDays(d)||(e=this.skipHiddenDays(e,n),c()),d}buildRangeFromDayCount(e,n,r){let{dateEnv:i,dateAlignment:s}=this.props,o=0,l=e,a;s&&(l=i.startOf(l,s)),l=U(l),l=this.skipHiddenDays(l,n),a=l;do a=X(a,1),this.isHiddenDay(a)||(o+=1);while(o<r);return{start:l,end:a}}buildCustomVisibleRange(e){let{props:n}=this,r=n.visibleRangeInput,i=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,s=this.refineRange(i);return s&&(s.start==null||s.end==null)?null:s}buildRenderRange(e,n,r){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,r;return n||((r=this.props.dateAlignment)?P(1,r):e||P({days:1}))}refineRange(e){if(e){let n=lh(e,this.props.dateEnv);return n&&(n=Jo(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],r=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(n[i]=e.indexOf(i)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:r}=e;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=X(e,n);return e}}function Vr(t,e,n,r){return{instanceId:Je(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:r??null}}function uh(t,e,n,r){for(let i=0;i<r.length;i+=1){let s=r[i].parse(t,n);if(s){let{allDay:o}=t;return o==null&&(o=e,o==null&&(o=s.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:s.duration,typeData:s.typeData,typeId:i}}}return null}function Xe(t,e,n){let{dateEnv:r,pluginHooks:i,options:s}=n,{defs:o,instances:l}=t;l=Qe(l,a=>!o[a.defId].recurringDef);for(let a in o){let d=o[a];if(d.recurringDef){let{duration:c}=d.recurringDef;c||(c=d.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);let f=fh(d,c,e,r,i.recurringTypes);for(let u of f){let h=Vr(a,{start:u,end:r.add(u,c)});l[h.instanceId]=h}}}return{defs:o,instances:l}}function fh(t,e,n,r,i){let o=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(o=o.map(U)),o}const Jt={id:String,groupId:String,title:String,url:String,interactive:Boolean},tl={start:y,end:y,date:y,allDay:Boolean},hh=Object.assign(Object.assign(Object.assign({},Jt),tl),{extendedProps:y});function nl(t,e,n,r,i=$r(n),s,o){let{refined:l,extra:a}=rl(t,n,i),d=gh(e,n),c=uh(l,d,n.dateEnv,n.pluginHooks.recurringTypes);if(c){let u=dr(l,a,e?e.sourceId:"",c.allDay,!!c.duration,n,s);return u.recurringDef={typeId:c.typeId,typeData:c.typeData,duration:c.duration},{def:u,instance:null}}let f=ph(l,d,n,r);if(f){let u=dr(l,a,e?e.sourceId:"",f.allDay,f.hasEnd,n,s),h=Vr(u.defId,f.range,f.forcedStartTzo,f.forcedEndTzo);return o&&u.publicId&&o[u.publicId]&&(h.instanceId=o[u.publicId]),{def:u,instance:h}}return null}function rl(t,e,n=$r(e)){return zr(t,n)}function $r(t){return Object.assign(Object.assign(Object.assign({},bn),hh),t.pluginHooks.eventRefiners)}function dr(t,e,n,r,i,s,o){let l={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(o&&t.id?o[t.id]:"")||Je(),sourceId:n,allDay:r,hasEnd:i,interactive:t.interactive,ui:yn(t,s),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let a of s.pluginHooks.eventDefMemberAdders)Object.assign(l,a(t));return Object.freeze(l.ui.classNames),Object.freeze(l.extendedProps),l}function ph(t,e,n,r){let{allDay:i}=t,s,o=null,l=!1,a,d=null,c=t.start!=null?t.start:t.date;if(s=n.dateEnv.createMarkerMeta(c),s)o=s.marker;else if(!r)return null;return t.end!=null&&(a=n.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!s||s.isTimeUnspecified)&&(!a||a.isTimeUnspecified)),i&&o&&(o=U(o)),a&&(d=a.marker,i&&(d=U(d)),o&&d<=o&&(d=null)),d?l=!0:r||(l=n.options.forceEventDuration||!1,d=n.dateEnv.add(o,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:l,range:{start:o,end:d},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:a?a.forcedTzo:null}}function gh(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function Ot(t,e,n,r,i,s){let o=se(),l=$r(n);for(let a of t){let d=nl(a,e,n,r,l,i,s);d&&ur(d,o)}return o}function ur(t,e=se()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function Gr(t,e){let n=t.instances[e];if(n){let r=t.defs[n.defId],i=kn(t,s=>mh(r,s));return i.defs[r.defId]=r,i.instances[n.instanceId]=n,i}return se()}function mh(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function se(){return{defs:{},instances:{}}}function Yr(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function kn(t,e){let n=Qe(t.defs,e),r=Qe(t.instances,i=>n[i.defId]);return{defs:n,instances:r}}function vh(t,e){let{defs:n,instances:r}=t,i={},s={};for(let o in n)e.defs[o]||(i[o]=n[o]);for(let o in r)!e.instances[o]&&i[r[o].defId]&&(s[o]=r[o]);return{defs:i,instances:s}}function bh(t,e){return Array.isArray(t)?Ot(t,null,e,!0):typeof t=="object"&&t?Ot([t],null,e,!0):t!=null?String(t):null}function xs(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const bn={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:y,overlap:y,allow:y,className:xs,classNames:xs,color:String,backgroundColor:String,borderColor:String,textColor:String},yh={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function yn(t,e){let n=bh(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function il(t){return t.reduce(Eh,yh)}function Eh(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const wh={id:String,defaultAllDay:Boolean,url:String,format:String,events:y,eventDataTransform:y,success:y,failure:y};function sl(t,e,n=ol(e)){let r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){let{refined:i,extra:s}=zr(r,n),o=Sh(i,e);if(o)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:Je(),sourceDefId:o.sourceDefId,meta:o.meta,ui:yn(i,e),extendedProps:s}}return null}function ol(t){return Object.assign(Object.assign(Object.assign({},bn),wh),t.pluginHooks.eventSourceRefiners)}function Sh(t,e){let n=e.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let s=n[r].parseMeta(t);if(s)return{sourceDefId:r,meta:s}}return null}function Ch(t,e,n,r,i){switch(e.type){case"RECEIVE_EVENTS":return Ah(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return xh(t,n[e.sourceId],e.rawEvents,r.activeRange,i);case"ADD_EVENTS":return Dh(t,e.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return Yr(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?Xe(t,r.activeRange,i):t;case"REMOVE_EVENTS":return vh(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return al(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return kn(t,s=>!s.sourceId);case"REMOVE_ALL_EVENTS":return se();default:return t}}function Ah(t,e,n,r,i,s){if(e&&n===e.latestFetchId){let o=Ot(ll(i,e,s),e,s);return r&&(o=Xe(o,r,s)),Yr(al(t,e.sourceId),o)}return t}function xh(t,e,n,r,i){const{defIdMap:s,instanceIdMap:o}=Rh(t);let l=Ot(ll(n,e,i),e,i,!1,s,o);return Xe(l,r,i)}function ll(t,e,n){let r=n.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=Ds(t,i)),r&&(t=Ds(t,r)),t}function Ds(t,e){let n;if(!e)n=t;else{n=[];for(let r of t){let i=e(r);i?n.push(i):i==null&&n.push(r)}}return n}function Dh(t,e,n,r){return n&&(e=Xe(e,n,r)),Yr(t,e)}function _s(t,e,n){let{defs:r}=t,i=Ce(t.instances,s=>r[s.defId].allDay?s:Object.assign(Object.assign({},s),{range:{start:n.createMarker(e.toDate(s.range.start,s.forcedStartTzo)),end:n.createMarker(e.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:s.forcedEndTzo}));return{defs:r,instances:i}}function al(t,e){return kn(t,n=>n.sourceId!==e)}function _h(t,e){return{defs:t.defs,instances:Qe(t.instances,n=>!e[n.instanceId])}}function Rh(t){const{defs:e,instances:n}=t,r={},i={};for(let s in e){const o=e[s],{publicId:l}=o;l&&(r[l]=s)}for(let s in n){const o=n[s],l=e[o.defId],{publicId:a}=l;a&&(i[a]=s)}return{defIdMap:r,instanceIdMap:i}}class Nn{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){Th(this.handlers,e,n)}off(e,n){Mh(this.handlers,e,n)}trigger(e,...n){let r=this.handlers[e]||[],i=this.options&&this.options[e],s=[].concat(i||[],r);for(let o of s)o.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function Th(t,e,n){(t[e]||(t[e]=[])).push(n)}function Mh(t,e,n){n?t[e]&&(t[e]=t[e].filter(r=>r!==n)):delete t[e]}const kh={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Nh(t,e){return Ot(Ih(t),null,e)}function Ih(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},kh),n)),e}function cl(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},qr(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function Oh(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function qr(t,e){let n={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(n,r(t,e));return Object.assign(n,qh(t,e.dateEnv)),n}function Rs(t,e,n){let{dateEnv:r,options:i}=n,s=e;return t?(s=U(s),s=r.add(s,i.defaultAllDayEventDuration)):s=r.add(s,i.defaultTimedEventDuration),s}function Qr(t,e,n,r){let i=En(t.defs,e),s=se();for(let o in t.defs){let l=t.defs[o];s.defs[o]=Lh(l,i[o],n,r)}for(let o in t.instances){let l=t.instances[o],a=s.defs[l.defId];s.instances[o]=Ph(l,a,i[l.defId],n,r)}return s}function Lh(t,e,n,r){let i=n.standardProps||{};i.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});n.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),n.extendedProps));for(let o of r.pluginHooks.eventDefMutationAppliers)o(s,n,r);return!s.hasEnd&&r.options.forceEventDuration&&(s.hasEnd=!0),s}function Ph(t,e,n,r,i){let{dateEnv:s}=i,o=r.standardProps&&r.standardProps.allDay===!0,l=r.standardProps&&r.standardProps.hasEnd===!1,a=Object.assign({},t);return o&&(a.range=Ko(a.range)),r.datesDelta&&n.startEditable&&(a.range={start:s.add(a.range.start,r.datesDelta),end:s.add(a.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(a.range={start:s.add(a.range.start,r.startDelta),end:a.range.end}),r.endDelta&&n.durationEditable&&(a.range={start:a.range.start,end:s.add(a.range.end,r.endDelta)}),l&&(a.range={start:a.range.start,end:Rs(e.allDay,a.range.start,i)}),e.allDay&&(a.range={start:U(a.range.start),end:U(a.range.end)}),a.range.end<a.range.start&&(a.range.end=Rs(e.allDay,a.range.start,i)),a}class it{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class V{constructor(e,n,r){this._context=e,this._def=n,this._instance=r||null}setProp(e,n){if(e in tl)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=Jt[e](n),this.mutate({standardProps:{publicId:n}});else if(e in Jt)n=Jt[e](n),this.mutate({standardProps:{[e]:n}});else if(e in bn){let r=bn[e](n);e==="color"?r={backgroundColor:n,borderColor:n}:e==="editable"?r={startEditable:n,durationEditable:n}:r={[e]:n},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:r}=this._context,i=r.createMarker(e);if(i&&this._instance){let s=this._instance.range,o=ot(s.start,i,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(e,n={}){let{dateEnv:r}=this._context,i;if(!(e!=null&&(i=r.createMarker(e),!i))&&this._instance)if(i){let s=ot(this._instance.range.end,i,r,n.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,r={}){let{dateEnv:i}=this._context,s={allDay:r.allDay},o=i.createMarker(e),l;if(o&&!(n!=null&&(l=i.createMarker(n),!l))&&this._instance){let a=this._instance.range;r.allDay===!0&&(a=Ko(a));let d=ot(a.start,o,i,r.granularity);if(l){let c=ot(a.end,l,i,r.granularity);lf(d,c)?this.mutate({datesDelta:d,standardProps:s}):this.mutate({startDelta:d,endDelta:c,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:d,standardProps:s})}}moveStart(e){let n=P(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=P(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=P(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let r={allDay:e},{maintainDuration:i}=n;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=i),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:n}=this._context,r=this._instance,i=q(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let r=this._def,i=this._context,{eventStore:s}=i.getCurrentData(),o=Gr(s,n.instanceId);o=Qr(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let a=new V(i,r,n);this._def=o.defs[r.defId],this._instance=o.instances[n.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:o}),i.emitter.trigger("eventChange",{oldEvent:a,event:this,relatedEvents:Ye(o,i,n),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let e=this._context,n=dl(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new it(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:r}=n,{startStr:i,endStr:s}=this,o={allDay:n.allDay};return n.title&&(o.title=n.title),i&&(o.start=i),s&&(o.end=s),n.publicId&&(o.id=n.publicId),n.groupId&&(o.groupId=n.groupId),n.url&&(o.url=n.url),r.display&&r.display!=="auto"&&(o.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?o.color=r.backgroundColor:(r.backgroundColor&&(o.backgroundColor=r.backgroundColor),r.borderColor&&(o.borderColor=r.borderColor)),r.textColor&&(o.textColor=r.textColor),r.classNames.length&&(o.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(o,n.extendedProps):o.extendedProps=n.extendedProps),o}toJSON(){return this.toPlainObject()}}function dl(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function Ye(t,e,n){let{defs:r,instances:i}=t,s=[],o=n?n.instanceId:"";for(let l in i){let a=i[l],d=r[a.defId];a.instanceId!==o&&s.push(new V(e,d,a))}return s}function Ts(t,e,n,r){let i={},s={},o={},l=[],a=[],d=En(t.defs,e);for(let c in t.defs){let f=t.defs[c];d[f.defId].display==="inverse-background"&&(f.groupId?(i[f.groupId]=[],o[f.groupId]||(o[f.groupId]=f)):s[c]=[])}for(let c in t.instances){let f=t.instances[c],u=t.defs[f.defId],h=d[u.defId],v=f.range,p=!u.allDay&&r?Jo(v,r):v,g=Ze(p,n);g&&(h.display==="inverse-background"?u.groupId?i[u.groupId].push(g):s[f.defId].push(g):h.display!=="none"&&(h.display==="background"?l:a).push({def:u,ui:h,instance:f,range:g,isStart:p.start&&p.start.valueOf()===g.start.valueOf(),isEnd:p.end&&p.end.valueOf()===g.end.valueOf()}))}for(let c in i){let f=i[c],u=As(f,n);for(let h of u){let v=o[c],p=d[v.defId];l.push({def:v,ui:p,instance:null,range:h,isStart:!1,isEnd:!1})}}for(let c in s){let f=s[c],u=As(f,n);for(let h of u)l.push({def:t.defs[c],ui:d[c],instance:null,range:h,isStart:!1,isEnd:!1})}return{bg:l,fg:a}}function Hh(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function Ms(t,e){t.fcSeg=e}function pt(t){return t.fcSeg||t.parentNode.fcSeg||null}function En(t,e){return Ce(t,n=>ul(n,e))}function ul(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),il(n)}function fl(t,e){let n=t.map(jh);return n.sort((r,i)=>Ju(r,i,e)),n.map(r=>r._seg)}function jh(t){let{eventRange:e}=t,n=e.def,r=e.instance?e.instance.range:e.range,i=r.start?r.start.valueOf():0,s=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:s,duration:s-i,allDay:Number(n.allDay),_seg:t})}function zh(t,e){let{pluginHooks:n}=e,r=n.isDraggableTransformers,{def:i,ui:s}=t.eventRange,o=s.startEditable;for(let l of r)o=l(o,i,s,e);return o}function Bh(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function Fh(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function hl(t,e,n,r,i,s,o){let{dateEnv:l,options:a}=n,{displayEventTime:d,displayEventEnd:c}=a,f=t.eventRange.def,u=t.eventRange.instance;d==null&&(d=r!==!1),c==null&&(c=i!==!1);let h=u.range.start,v=u.range.end,p=t.start||t.eventRange.range.start,g=t.end||t.eventRange.range.end,b=U(h).valueOf()===U(p).valueOf(),w=U(Le(v,-1)).valueOf()===U(Le(g,-1)).valueOf();return d&&!f.allDay&&(b||w)?(p=b?h:p,g=w?v:g,c&&f.hasEnd?l.formatRange(p,g,e,{forcedStartTzo:u.forcedStartTzo,forcedEndTzo:u.forcedEndTzo}):l.format(p,e,{forcedTzo:u.forcedStartTzo})):""}function Ie(t,e,n){let r=t.eventRange.range;return{isPast:r.end<=(n||e.start),isFuture:r.start>=(n||e.end),isToday:e&&Se(e,r.start)}}function Uh(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function pl(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function gl(t,e){let{def:n,instance:r}=t.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:s,options:o}=e,{eventInteractive:l}=o;return l==null&&(l=n.interactive,l==null&&(l=!!s.hasHandlers("eventClick"))),l?Wo(a=>{s.trigger("eventClick",{el:a.target,event:new V(e,n,r),jsEvent:a,view:e.viewApi})}):{}}const Wh={start:y,end:y,allDay:Boolean};function Vh(t,e,n){let r=$h(t,e),{range:i}=r;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=e.add(i.start,n)}return r}function $h(t,e){let{refined:n,extra:r}=zr(t,Wh),i=n.start?e.createMarkerMeta(n.start):null,s=n.end?e.createMarkerMeta(n.end):null,{allDay:o}=n;return o==null&&(o=i&&i.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:s?s.marker:null},allDay:o},r)}function Gh(t,e){return ch(t.range,e.range)&&t.allDay===e.allDay&&Yh(t,e)}function Yh(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function qh(t,e){return Object.assign(Object.assign({},vl(t.range,e,t.allDay)),{allDay:t.allDay})}function ml(t,e,n){return Object.assign(Object.assign({},vl(t,e,n)),{timeZone:e.timeZone})}function vl(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function Qh(t,e,n){let r=rl({editable:!1},n),i=dr(r.refined,r.extra,"",t.allDay,!0,n);return{def:i,ui:ul(i,e),instance:Vr(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function Zh(t,e,n){let r=!1,i=function(l){r||(r=!0,e(l))},s=function(l){r||(r=!0,n(l))},o=t(i,s);o&&typeof o.then=="function"&&o.then(i,s)}class ks extends Error{constructor(e,n){super(e),this.response=n}}function Xh(t,e,n){t=t.toUpperCase();const r={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(i=>{if(i.ok)return i.json().then(s=>[s,i],()=>{throw new ks("Failure parsing JSON",i)});throw new ks("Request failed",i)})}let $n;function bl(){return $n==null&&($n=Kh()),$n}function Kh(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class Jh extends j{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{mn(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{mn(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:r}=this.state,i=r||n.height==="auto"||n.contentHeight==="auto",s=!i&&n.height!=null?n.height:"",o=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return bl()||o.push("fc-liquid-hack"),e.children(o,s,i,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class vt{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function ep(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function Zr(t){return{[t.component.uid]:t}}const fr={};class bt extends ie{constructor(e,n){super(e,n),this.handleRefresh=()=>{let r=this.computeTiming();r.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(r.state),this.clearTimeout(),this.setTimeout(r.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:n}=this,r=n.nowManager.getDateMarker(),{nowIndicatorSnap:i}=n.options;i==="auto"&&(i=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let s,o;return i?(s=n.dateEnv.startOf(r,e.unit),o=n.dateEnv.add(s,P(1,e.unit)).valueOf()-r.valueOf()):(s=r,o=1e3*60),o=Math.min(1e3*60*60*24,o),{state:{nowDate:s,todayRange:tp(s)},waitMs:o}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const n=this.computeTiming();this.setState(n.state,()=>{this.setTimeout(n.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}bt.contextType=Ae;function tp(t){let e=U(t),n=X(e,1);return{start:e,end:n}}class np{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let r=this.getCurrentData(),i;n=n||"day",i=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),i=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),s,o;for(let l in n)i.push(l);for(s=0;s<i.length;s+=1)if(o=n[i[s]],o&&o.singleUnit===e)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),r=P(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),q(n))}formatRange(e,n,r){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(n),q(r),r)}formatIso(e,n){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:n})}select(e,n){let r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};let i=this.getCurrentData(),s=Vh(r,i.dateEnv,P({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),cl(s,null,i))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),Oh(e,n))}addEvent(e,n){if(e instanceof V){let o=e._def,l=e._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:ur({def:o,instance:l})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),i;if(n instanceof it)i=n.internalEventSource;else if(typeof n=="boolean")n&&([i]=Fr(r.eventSources));else if(n!=null){let o=this.getEventSourceById(n);if(!o)return console.warn(`Could not find an event source with ID "${n}"`),null;i=o.internalEventSource}let s=nl(e,i,r,!1);if(s){let o=new V(r,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:ur(s)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:dl(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:r,instances:i}=n.eventStore;e=String(e);for(let s in r){let o=r[s];if(o.publicId===e){if(o.recurringDef)return new V(n,o,null);for(let l in i){let a=i[l];if(a.defId===o.defId)return new V(n,o,a)}}}return null}getEvents(){let e=this.getCurrentData();return Ye(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,r=[];for(let i in n)r.push(new it(e,n[i]));return r}getEventSourceById(e){let n=this.getCurrentData(),r=n.eventSources;e=String(e);for(let i in r)if(r[i].publicId===e)return new it(n,r[i]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof it)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=sl(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new it(n,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=P(e);n&&this.trigger("_scrollRequest",{time:n})}}function rp(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function yl(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function ip(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function sp(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function op(t,e){return{left:t.left-e.left,top:t.top-e.top}}const Gn=se();class lp{constructor(){this.getKeysForEventDefs=k(this._getKeysForEventDefs),this.splitDateSelection=k(this._splitDateSpan),this.splitEventStore=k(this._splitEventStore),this.splitIndividualUi=k(this._splitIndividualUi),this.splitEventDrag=k(this._splitInteraction),this.splitEventResize=k(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let n=this.getKeyInfo(e),r=this.getKeysForEventDefs(e.eventStore),i=this.splitDateSelection(e.dateSelection),s=this.splitIndividualUi(e.eventUiBases,r),o=this.splitEventStore(e.eventStore,r),l=this.splitEventDrag(e.eventDrag),a=this.splitEventResize(e.eventResize),d={};this.eventUiBuilders=Ce(n,(c,f)=>this.eventUiBuilders[f]||k(ap));for(let c in n){let f=n[c],u=o[c]||Gn,h=this.eventUiBuilders[c];d[c]={businessHours:f.businessHours||e.businessHours,dateSelection:i[c]||null,eventStore:u,eventUiBases:h(e.eventUiBases[""],f.ui,s[c]),eventSelection:u.instances[e.eventSelection]?e.eventSelection:"",eventDrag:l[c]||null,eventResize:a[c]||null}}return d}_splitDateSpan(e){let n={};if(e){let r=this.getKeysForDateSpan(e);for(let i of r)n[i]=e}return n}_getKeysForEventDefs(e){return Ce(e.defs,n=>this.getKeysForEventDef(n))}_splitEventStore(e,n){let{defs:r,instances:i}=e,s={};for(let o in r)for(let l of n[o])s[l]||(s[l]=se()),s[l].defs[o]=r[o];for(let o in i){let l=i[o];for(let a of n[l.defId])s[a]&&(s[a].instances[o]=l)}return s}_splitIndividualUi(e,n){let r={};for(let i in e)if(i)for(let s of n[i])r[s]||(r[s]={}),r[s][i]=e[i];return r}_splitInteraction(e){let n={};if(e){let r=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),i=this._getKeysForEventDefs(e.mutatedEvents),s=this._splitEventStore(e.mutatedEvents,i),o=l=>{n[l]||(n[l]={affectedEvents:r[l]||Gn,mutatedEvents:s[l]||Gn,isEvent:e.isEvent})};for(let l in r)o(l);for(let l in s)o(l)}return n}}function ap(t,e,n){let r=[];t&&r.push(t),e&&r.push(e);let i={"":il(r)};return n&&Object.assign(i,n),i}function El(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:!!(r&&(!r.activeRange||!Se(r.activeRange,t))),isOther:!!(r&&!Se(r.currentRange,t)),isToday:!!(e&&Se(e,t)),isPast:!!(e&&t<e.start),isFuture:!!(e&&t>=e.end)}}function Xr(t,e){let n=["fc-day",`fc-day-${ff[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const cp=q({year:"numeric",month:"long",day:"numeric"}),dp=q({week:"long"});function wn(t,e,n="day",r=!0){const{dateEnv:i,options:s,calendarApi:o}=t;let l=i.format(e,n==="week"?dp:cp);if(s.navLinks){let a=i.toDate(e);const d=c=>{let f=n==="day"?s.navLinkDayClick:n==="week"?s.navLinkWeekClick:null;typeof f=="function"?f.call(o,i.toDate(e),c):(typeof f=="string"&&(n=f),o.zoomTo(e,n))};return Object.assign({title:Tt(s.navLinkHint,[l,a],l),"data-navlink":""},r?Uo(d):{onClick:d})}return{"aria-label":l}}let Yn=null;function up(){return Yn===null&&(Yn=fp()),Yn}function fp(){let t=document.createElement("div");Rt(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return Ir(t),n}let qn;function hp(){return qn||(qn=pp()),qn}function pp(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=wl(t);return document.body.removeChild(t),e}function wl(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function gp(t,e=!1){let n=window.getComputedStyle(t),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,s=parseInt(n.borderTopWidth,10)||0,o=parseInt(n.borderBottomWidth,10)||0,l=wl(t),a=l.y-r-i,d=l.x-s-o,c={borderLeft:r,borderRight:i,borderTop:s,borderBottom:o,scrollbarBottom:d,scrollbarLeft:0,scrollbarRight:0};return up()&&n.direction==="rtl"?c.scrollbarLeft=a:c.scrollbarRight=a,e&&(c.paddingLeft=parseInt(n.paddingLeft,10)||0,c.paddingRight=parseInt(n.paddingRight,10)||0,c.paddingTop=parseInt(n.paddingTop,10)||0,c.paddingBottom=parseInt(n.paddingBottom,10)||0),c}function mp(t,e=!1,n){let r=Kr(t),i=gp(t,e),s={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return e&&(s.left+=i.paddingLeft,s.right-=i.paddingRight,s.top+=i.paddingTop,s.bottom-=i.paddingBottom),s}function Kr(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function vp(t){let e=Sl(t),n=t.getBoundingClientRect();for(let r of e){let i=yl(n,r.getBoundingClientRect());if(i)n=i;else return null}return n}function Sl(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class gt{constructor(e,n,r,i){this.els=n;let s=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(s.left),i&&this.buildElVerticals(s.top)}buildElHorizontals(e){let n=[],r=[];for(let i of this.els){let s=i.getBoundingClientRect();n.push(s.left-e),r.push(s.right-e)}this.lefts=n,this.rights=r}buildElVerticals(e){let n=[],r=[];for(let i of this.els){let s=i.getBoundingClientRect();n.push(s.top-e),r.push(s.bottom-e)}this.tops=n,this.bottoms=r}leftToIndex(e){let{lefts:n,rights:r}=this,i=n.length,s;for(s=0;s<i;s+=1)if(e>=n[s]&&e<r[s])return s}topToIndex(e){let{tops:n,bottoms:r}=this,i=n.length,s;for(s=0;s<i;s+=1)if(e>=n[s]&&e<r[s])return s}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return $t(this.tops||[],e.tops||[])&&$t(this.bottoms||[],e.bottoms||[])&&$t(this.lefts||[],e.lefts||[])&&$t(this.rights||[],e.rights||[])}}function $t(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(Math.round(t[r])!==Math.round(e[r]))return!1;return!0}class Jr{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class bp extends Jr{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class yp extends Jr{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class ye extends j{constructor(){super(...arguments),this.uid=Je()}prepareHits(){}queryHit(e,n,r,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!J(e,".fc-event-mirror")}isValidDateDownEl(e){return!J(e,".fc-event:not(.fc-bg-event)")&&!J(e,".fc-more-link")&&!J(e,"a[data-navlink]")&&!J(e,".fc-popover")}}class Cl{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let r of e)this.insertEntry(r,n);return n}insertEntry(e,n){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,r){if(this.allowReslicing&&e.touchingEntry){const i=Object.assign(Object.assign({},n),{span:ei(n.span,e.touchingEntry.span)});r.push(i),this.splitEntry(n,e.touchingEntry,r)}else r.push(n)}splitEntry(e,n,r){let i=e.span,s=n.span;i.start<s.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:s.start}},r),i.end>s.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.end,end:i.end}},r)}insertEntryAt(e,n){let{entriesByLevel:r,levelCoords:i}=this;n.lateral===-1?(Qn(i,n.level,n.levelCoord),Qn(r,n.level,[e])):Qn(r[n.level],n.lateral,e),this.stackCnts[qe(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:r,strictOrder:i,stackCnts:s}=this,o=n.length,l=0,a=-1,d=-1,c=null,f=0;for(let v=0;v<o;v+=1){const p=n[v];if(!i&&p>=l+this.getEntryThickness(e))break;let g=r[v],b,w=pr(g,e.span.start,hr),A=w[0]+w[1];for(;(b=g[A])&&b.span.start<e.span.end;){let x=p+this.getEntryThickness(b);x>l&&(l=x,c=b,a=v,d=A),x===l&&(f=Math.max(f,s[qe(b)]+1)),A+=1}}let u=0;if(c)for(u=a+1;u<o&&n[u]<l;)u+=1;let h=-1;return u<o&&n[u]===l&&(h=pr(r[u],e.span.end,hr)[0]),{touchingLevel:a,touchingLateral:d,touchingEntry:c,stackCnt:f,levelCoord:l,level:u,lateral:h}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,r=e.length,i=[];for(let s=0;s<r;s+=1){let o=e[s],l=n[s];for(let a of o)i.push(Object.assign(Object.assign({},a),{thickness:this.getEntryThickness(a),levelCoord:l}))}return i}}function hr(t){return t.span.end}function qe(t){return t.index+":"+t.span.start}function Ep(t){let e=[];for(let n of t){let r=[],i={span:n.span,entries:[n]};for(let s of e)ei(s.span,i.span)?i={entries:s.entries.concat(i.entries),span:wp(s.span,i.span)}:r.push(s);r.push(i),e=r}return e}function wp(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function ei(t,e){let n=Math.max(t.start,e.start),r=Math.min(t.end,e.end);return n<r?{start:n,end:r}:null}function Qn(t,e,n){t.splice(e,0,n)}function pr(t,e,n){let r=0,i=t.length;if(!i||e<n(t[r]))return[0,0];if(e>n(t[i-1]))return[i,0];for(;r<i;){let s=Math.floor(r+(i-r)/2),o=n(t[s]);if(e<o)i=s;else if(e>o)r=s+1;else return[s,1]}return[r,0]}class Sp{constructor(e,n){this.emitter=new Nn}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const ti={};function Cp(t,e){return!t||e>10?q({weekday:"short"}):e>1?q({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):q({weekday:"long"})}const Al="fc-col-header-cell";function xl(t){return t.text}class Ap extends j{render(){let{dateEnv:e,options:n,theme:r,viewApi:i}=this.context,{props:s}=this,{date:o,dateProfile:l}=s,a=El(o,s.todayRange,null,l),d=[Al].concat(Xr(a,r)),c=e.format(o,s.dayHeaderFormat),f=!a.isDisabled&&s.colCnt>1?wn(this.context,o):{},u=e.toDate(o);e.namedTimeZoneImpl&&(u=Le(u,36e5));let h=Object.assign(Object.assign(Object.assign({date:u,view:i},s.extraRenderProps),{text:c}),a);return m(le,{elTag:"th",elClasses:d,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":a.isDisabled?void 0:Hr(o)},s.extraDataAttrs),renderProps:h,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:xl,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},v=>m("div",{className:"fc-scrollgrid-sync-inner"},!a.isDisabled&&m(v,{elTag:"a",elAttrs:f,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]})))}}const xp=q({weekday:"long"});class Dp extends j{render(){let{props:e}=this,{dateEnv:n,theme:r,viewApi:i,options:s}=this.context,o=X(new Date(2592e5),e.dow),l={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},a=n.format(o,e.dayHeaderFormat),d=Object.assign(Object.assign(Object.assign(Object.assign({date:o},l),{view:i}),e.extraRenderProps),{text:a});return m(le,{elTag:"th",elClasses:[Al,...Xr(l,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:d,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:xl,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},c=>m("div",{className:"fc-scrollgrid-sync-inner"},m(c,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(o,xp)}})))}}class Dl extends j{constructor(){super(...arguments),this.createDayHeaderFormatter=k(_p)}render(){let{context:e}=this,{dates:n,dateProfile:r,datesRepDistinctDays:i,renderIntro:s}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,n.length);return m(bt,{unit:"day"},(l,a)=>m("tr",{role:"row"},s&&s("day"),n.map(d=>i?m(Ap,{key:d.toISOString(),date:d,dateProfile:r,todayRange:a,colCnt:n.length,dayHeaderFormat:o}):m(Dp,{key:d.getUTCDay(),dow:d.getUTCDay(),dayHeaderFormat:o}))))}}function _p(t,e,n){return t||Cp(e,n)}class _l{constructor(e,n){let r=e.start,{end:i}=e,s=[],o=[],l=-1;for(;r<i;)n.isHiddenDay(r)?s.push(l+.5):(l+=1,s.push(l),o.push(r)),r=X(r,1);this.dates=o,this.indices=s,this.cnt=o.length}sliceRange(e){let n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(X(e.end,-1)),i=Math.max(0,n),s=Math.min(this.cnt-1,r);return i=Math.ceil(i),s=Math.floor(s),i<=s?{firstIndex:i,lastIndex:s,isStart:n===i,isEnd:r===s}:null}getDateDayIndex(e){let{indices:n}=this,r=Math.floor(et(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]}}class Rl{constructor(e,n){let{dates:r}=e,i,s,o;if(n){for(s=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==s;i+=1);o=Math.ceil(r.length/i)}else o=1,i=r.length;this.rowCnt=o,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let r=[];for(let i=0;i<this.colCnt;i+=1)r.push(this.buildCell(n,i));e.push(r)}return e}buildCell(e,n){let r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,r=this.daySeries.sliceRange(e),i=[];if(r){let{firstIndex:s,lastIndex:o}=r,l=s;for(;l<=o;){let a=Math.floor(l/n),d=Math.min((a+1)*n,o+1);i.push({row:a,firstCol:l%n,lastCol:(d-1)%n,isStart:r.isStart&&l===s,isEnd:r.isEnd&&d-1===o}),l=d}}return i}}class Tl{constructor(){this.sliceBusinessHours=k(this._sliceBusinessHours),this.sliceDateSelection=k(this._sliceDateSpan),this.sliceEventStore=k(this._sliceEventStore),this.sliceEventDrag=k(this._sliceInteraction),this.sliceEventResize=k(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,r,i,...s){let{eventUiBases:o}=e,l=this.sliceEventStore(e.eventStore,o,n,r,...s);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,r,o,i,...s),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,r,i,...s),fgEventSegs:l.fg,bgEventSegs:l.bg,eventDrag:this.sliceEventDrag(e.eventDrag,o,n,r,...s),eventResize:this.sliceEventResize(e.eventResize,o,n,r,...s),eventSelection:e.eventSelection}}sliceNowDate(e,n,r,i,...s){return this._sliceDateSpan({range:{start:e,end:Le(e,1)},allDay:!1},n,r,{},i,...s)}_sliceBusinessHours(e,n,r,i,...s){return e?this._sliceEventStore(Xe(e,Gt(n,!!r),i),{},n,r,...s).bg:[]}_sliceEventStore(e,n,r,i,...s){if(e){let o=Ts(e,n,Gt(r,!!i),i);return{bg:this.sliceEventRanges(o.bg,s),fg:this.sliceEventRanges(o.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,r,i,...s){if(!e)return null;let o=Ts(e.mutatedEvents,n,Gt(r,!!i),i);return{segs:this.sliceEventRanges(o.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,r,i,s,...o){if(!e)return[];let l=Gt(n,!!r),a=Ze(e.range,l);if(a){e=Object.assign(Object.assign({},e),{range:a});let d=Qh(e,i,s),c=this.sliceRange(e.range,...o);for(let f of c)f.eventRange=d;return c}return[]}sliceEventRanges(e,n){let r=[];for(let i of e)r.push(...this.sliceEventRange(i,n));return r}sliceEventRange(e,n){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:X(r.start,1)});let i=this.sliceRange(r,...n);for(let s of i)s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd;return i}}function Gt(t,e){let n=t.activeRange;return e?n:{start:Le(n.start,t.slotMinTime.milliseconds),end:Le(n.end,t.slotMaxTime.milliseconds-864e5)}}function Ml(t,e,n){let{instances:r}=t.mutatedEvents;for(let i in r)if(!Mn(e.validRange,r[i].range))return!1;return kl({eventDrag:t},n)}function Rp(t,e,n){return Mn(e.validRange,t.range)?kl({dateSelection:t},n):!1}function kl(t,e){let n=e.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||Tp)(r,e)}function Tp(t,e,n={},r){return!(t.eventDrag&&!Mp(t,e,n,r)||t.dateSelection&&!kp(t,e,n,r))}function Mp(t,e,n,r){let i=e.getCurrentData(),s=t.eventDrag,o=s.mutatedEvents,l=o.defs,a=o.instances,d=En(l,s.isEvent?t.eventUiBases:{"":i.selectionConfig});r&&(d=Ce(d,r));let c=_h(t.eventStore,s.affectedEvents.instances),f=c.defs,u=c.instances,h=En(f,t.eventUiBases);for(let v in a){let p=a[v],g=p.range,b=d[p.defId],w=l[p.defId];if(!Nl(b.constraints,g,c,t.businessHours,e))return!1;let{eventOverlap:A}=e.options,x=typeof A=="function"?A:null;for(let R in u){let O=u[R];if(Wr(g,O.range)&&(h[O.defId].overlap===!1&&s.isEvent||b.overlap===!1||x&&!x(new V(e,f[O.defId],O),new V(e,w,p))))return!1}let _=i.eventStore;for(let R of b.allows){let O=Object.assign(Object.assign({},n),{range:p.range,allDay:w.allDay}),T=_.defs[w.defId],B=_.instances[v],K;if(T?K=new V(e,T,B):K=new V(e,w),!R(qr(O,e),K))return!1}}return!0}function kp(t,e,n,r){let i=t.eventStore,s=i.defs,o=i.instances,l=t.dateSelection,a=l.range,{selectionConfig:d}=e.getCurrentData();if(r&&(d=r(d)),!Nl(d.constraints,a,i,t.businessHours,e))return!1;let{selectOverlap:c}=e.options,f=typeof c=="function"?c:null;for(let u in o){let h=o[u];if(Wr(a,h.range)&&(d.overlap===!1||f&&!f(new V(e,s[h.defId],h),null)))return!1}for(let u of d.allows){let h=Object.assign(Object.assign({},n),l);if(!u(qr(h,e),null))return!1}return!0}function Nl(t,e,n,r,i){for(let s of t)if(!Ip(Np(s,e,n,r,i),e))return!1;return!0}function Np(t,e,n,r,i){return t==="businessHours"?Zn(Xe(r,e,i)):typeof t=="string"?Zn(kn(n,s=>s.groupId===t)):typeof t=="object"&&t?Zn(Xe(t,e,i)):[]}function Zn(t){let{instances:e}=t,n=[];for(let r in e)n.push(e[r].range);return n}function Ip(t,e){for(let n of t)if(Mn(n,e))return!0;return!1}const Yt=/^(visible|hidden)$/;class Op extends j{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,ve(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:r}=e,i=n&&r,s=["fc-scroller"];return n&&(r?s.push("fc-scroller-liquid-absolute"):s.push("fc-scroller-liquid")),m("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Yt.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(Yt.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return Yt.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Yt.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Ee{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,r)=>{let{depths:i,currentMap:s}=this,o=!1,l=!1;n!==null?(o=r in s,s[r]=n,i[r]=(i[r]||0)+1,l=!0):(i[r]-=1,i[r]||(delete s[r],delete this.callbackMap[r],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(r)),l&&this.masterCallback(n,String(r)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),n}collect(e,n,r){return Gf(this.currentMap,e,n,r)}getAll(){return Fr(this.currentMap)}}function Lp(t){let e=Wu(t,".fc-scrollgrid-shrink"),n=0;for(let r of e)n=Math.max(n,rf(r));return Math.ceil(n)}function Il(t,e){return t.liquid&&e.liquid}function Pp(t,e){return e.maxHeight!=null||Il(t,e)}function Hp(t,e,n,r){let{expandRows:i}=n;return typeof e.content=="function"?e.content(n):m("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,m(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function jp(t,e){return Oe(t,e,fe)}function zp(t,e){let n=[];for(let r of t){let i=r.span||1;for(let s=0;s<i;s+=1)n.push(m("col",{style:{width:r.width==="shrink"?Bp(e):r.width||"",minWidth:r.minWidth||""}}))}return m("colgroup",{},...n)}function Bp(t){return t??4}function Fp(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function Up(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function Wp(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function gr(t){return m("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function Sn(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function Ol(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class ni extends j{constructor(){super(...arguments),this.processCols=k(e=>e,jp),this.renderMicroColGroup=k(zp),this.scrollerRefs=new Ee,this.scrollerElRefs=new Ee(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:r}=this,i=e.sections||[],s=this.processCols(e.cols),o=this.renderMicroColGroup(s,n.shrinkWidth),l=Up(e.liquid,r);e.collapsibleWidth&&l.push("fc-scrollgrid-collapsible");let a=i.length,d=0,c,f=[],u=[],h=[];for(;d<a&&(c=i[d]).type==="header";)f.push(this.renderSection(c,o,!0)),d+=1;for(;d<a&&(c=i[d]).type==="body";)u.push(this.renderSection(c,o,!1)),d+=1;for(;d<a&&(c=i[d]).type==="footer";)h.push(this.renderSection(c,o,!0)),d+=1;let v=!bl();const p={role:"rowgroup"};return m("table",{role:"grid",className:l.join(" "),style:{height:e.height}},!!(!v&&f.length)&&m("thead",p,...f),!!(!v&&u.length)&&m("tbody",p,...u),!!(!v&&h.length)&&m("tfoot",p,...h),v&&m("tbody",p,...f,...u,...h))}renderSection(e,n,r){return"outerContent"in e?m(F,{key:e.key},e.outerContent):m("tr",{key:e.key,role:"presentation",className:Wp(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,r))}renderChunkTd(e,n,r,i){if("outerContent"in r)return r.outerContent;let{props:s}=this,{forceYScrollbars:o,scrollerClientWidths:l,scrollerClientHeights:a}=this.state,d=Pp(s,e),c=Il(s,e),f=s.liquid?o?"scroll":d?"auto":"hidden":"visible",u=e.key,h=Hp(e,r,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!s.collapsibleWidth&&l[u]!==void 0?l[u]:null,clientHeight:a[u]!==void 0?a[u]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return m(i?"th":"td",{ref:r.elRef,role:"presentation"},m("div",{className:`fc-scroller-harness${c?" fc-scroller-harness-liquid":""}`},m(Op,{ref:this.scrollerRefs.createRef(u),elRef:this.scrollerElRefs.createRef(u),overflowY:f,overflowX:s.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:c,liquidIsAbsolute:!0},h)))}_handleScrollerEl(e,n){let r=Vp(this.props.sections,n);r&&ve(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return Fp(this.props.cols)?Lp(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=hp(),{scrollerRefs:n,scrollerElRefs:r}=this,i=!1,s={},o={};for(let l in n.currentMap){let a=n.currentMap[l];if(a&&a.needsYScrolling()){i=!0;break}}for(let l of this.props.sections){let a=l.key,d=r.currentMap[a];if(d){let c=d.parentNode;s[a]=Math.floor(c.getBoundingClientRect().width-(i?e.y:0)),o[a]=Math.floor(c.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:s,scrollerClientHeights:o}}}ni.addStateEquality({scrollerClientWidths:fe,scrollerClientHeights:fe});function Vp(t,e){for(let n of t)if(n.key===e)return n;return null}class ri extends j{constructor(){super(...arguments),this.buildPublicEvent=k((e,n,r)=>new V(e,n,r)),this.handleEl=e=>{this.el=e,ve(this.props.elRef,e),e&&Ms(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{eventRange:s}=i,{ui:o}=s,l={event:this.buildPublicEvent(n,s.def,s.instance),view:n.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&zh(i,n),isStartResizable:!e.disableResizing&&Bh(i,n),isEndResizable:!e.disableResizing&&Fh(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return m(le,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...Uh(l),...i.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:l,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&Ms(this.el,this.props.seg)}}class ii extends j{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{ui:s}=i.eventRange,o=r.eventTimeFormat||e.defaultTimeFormat,l=hl(i,o,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return m(ri,Object.assign({},e,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:gl(i,n),defaultGenerator:$p,timeText:l}),(a,d)=>m(F,null,m(a,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:d.textColor}}),!!d.isStartResizable&&m("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!d.isEndResizable&&m("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}ii.addPropsEquality({seg:fe});function $p(t){return m("div",{className:"fc-event-main-frame"},t.timeText&&m("div",{className:"fc-event-time"},t.timeText),m("div",{className:"fc-event-title-container"},m("div",{className:"fc-event-title fc-sticky"},t.event.title||m(F,null,"Â "))))}const si=t=>m(Ae.Consumer,null,e=>{let{options:n}=e,r={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return m(le,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:r,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},t.children)}),Gp=q({day:"numeric"});class oi extends j{constructor(){super(...arguments),this.refineRenderProps=Kt(Yp)}render(){let{props:e,context:n}=this,{options:r}=n,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:r.monthStartFormat});return m(le,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":Hr(e.date)}),elClasses:[...Xr(i,n.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount},e.children)}}function li(t){return!!(t.dayCellContent||cr("dayCellContent",t))}function Yp(t){let{date:e,dateEnv:n,dateProfile:r,isMonthStart:i}=t,s=El(e,t.todayRange,null,r),o=t.showDayNumber?n.format(e,i?t.monthStartFormat:Gp):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},s),{isMonthStart:i,dayNumberText:o}),t.extraRenderProps)}class Ll extends j{render(){let{props:e}=this,{seg:n}=e;return m(ri,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:qp,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function qp(t){let{title:e}=t.event;return e&&m("div",{className:"fc-event-title"},t.event.title)}function Pl(t){return m("div",{className:`fc-${t}`})}const Hl=t=>m(Ae.Consumer,null,e=>{let{dateEnv:n,options:r}=e,{date:i}=t,s=r.weekNumberFormat||t.defaultFormat,o=n.computeWeekNumber(i),l=n.format(i,s),a={num:o,text:l,date:i};return m(le,{elRef:t.elRef,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:a,generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:Qp,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},t.children)});function Qp(t){return t.text}const Xn=10;class Zp extends j{constructor(){super(...arguments),this.state={titleId:Rn()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&ve(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=Bo(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:r,state:i}=this,s=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return Tu(m("div",Object.assign({},r.extraAttrs,{id:r.id,className:s.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),m("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},m("span",{className:"fc-popover-title",id:i.titleId},r.title),m("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),m("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:r}=this.props,{rootEl:i}=this,s=vp(n);if(s){let o=i.getBoundingClientRect(),l=r?J(n,".fc-scrollgrid").getBoundingClientRect().top:s.top,a=e?s.right-o.width:s.left;l=Math.max(l,Xn),a=Math.min(a,document.documentElement.clientWidth-Xn-o.width),a=Math.max(a,Xn);let d=i.offsetParent.getBoundingClientRect();Rt(i,{top:l-d.top,left:a-d.left})}}}class Xp extends ye{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:r}=this,{startDate:i,todayRange:s,dateProfile:o}=r,l=n.format(i,e.dayPopoverFormat);return m(oi,{elRef:this.handleRootEl,date:i,dateProfile:o,todayRange:s},(a,d,c)=>m(Zp,{elRef:c.ref,id:r.id,title:l,extraClassNames:["fc-more-popover"].concat(c.className||[]),extraAttrs:c,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},li(e)&&m(a,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,n,r,i){let{rootEl:s,props:o}=this;return e>=0&&e<r&&n>=0&&n<i?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:r,bottom:i},layer:1}:null}}class jl extends j{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Rn()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&ve(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:r}=this,{moreLinkClick:i}=r.options,s=Ns(n).start;function o(l){let{def:a,instance:d,range:c}=l.eventRange;return{event:new V(r,a,d),start:r.dateEnv.toDate(c.start),end:r.dateEnv.toDate(c.end),isStart:l.isStart,isEnd:l.isEnd}}typeof i=="function"&&(i=i({date:s,allDay:!!n.allDayDate,allSegs:n.allSegs.map(o),hiddenSegs:n.hiddenSegs.map(o),jsEvent:e,view:r.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&r.calendarApi.zoomTo(s,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return m(Ae.Consumer,null,r=>{let{viewApi:i,options:s,calendarApi:o}=r,{moreLinkText:l}=s,{moreCnt:a}=e,d=Ns(e),c=typeof l=="function"?l.call(o,a):`+${a} ${l}`,f=Tt(s.moreLinkHint,[a],c),u={num:a,shortText:`+${a}`,text:c,view:i};return m(F,null,!!e.moreCnt&&m(le,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),Uo(this.handleClick)),{title:f,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:u,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:e.defaultGenerator||Kp,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},e.children),n.isPopoverOpen&&m(Xp,{id:n.popoverId,startDate:d.start,endDate:d.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=J(this.linkEl,".fc-view-harness"))}}function Kp(t){return t.text}function Ns(t){if(t.allDayDate)return{start:t.allDayDate,end:X(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:zl(e),end:eg(e)}}function zl(t){return t.reduce(Jp).eventRange.range.start}function Jp(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function eg(t){return t.reduce(tg).eventRange.range.end}function tg(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class ng{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class rg extends ng{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let r=!1;e.isActive?(n.set(e.id,e),r=!0):n.has(e.id)&&(n.delete(e.id),r=!0),r&&this.set(n)}}const ig=[],Bl={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},Fl=Object.assign(Object.assign({},Bl),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function sg(t){let e=t.length>0?t[0].code:"en",n=ig.concat(t),r={en:Fl};for(let i of n)r[i.code]=i;return{map:r,defaultCode:e}}function Ul(t,e){return typeof t=="object"&&!Array.isArray(t)?Wl(t.code,[t.code],t):og(t,e)}function og(t,e){let n=[].concat(t||[]),r=lg(n,e)||Fl;return Wl(t,n,r)}function lg(t,e){for(let n=0;n<t.length;n+=1){let r=t[n].toLocaleLowerCase().split("-");for(let i=r.length;i>0;i-=1){let s=r.slice(0,i).join("-");if(e[s])return e[s]}}return null}function Wl(t,e,n){let r=Br([Bl,n],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}function xe(t){return{id:Je(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function ag(t,e){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(s){for(let o of s){const l=o.name,a=n[l];a===void 0?(n[l]=o.id,i(o.deps),r=dg(r,o)):a!==o.id&&console.warn(`Duplicate plugin '${l}'`)}}return t&&i(t),i(e),r}function cg(){let t=[],e=[],n;return(r,i)=>((!n||!Oe(r,t)||!Oe(i,e))&&(n=ag(r,i)),t=r,e=i,n)}function dg(t,e){return{premiumReleaseDate:ug(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function ug(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class je extends Pt{}je.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};je.prototype.baseIconClass="fc-icon";je.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};je.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};je.prototype.iconOverrideOption="buttonIcons";je.prototype.iconOverrideCustomButtonOption="icon";je.prototype.iconOverridePrefix="fc-icon-";function fg(t,e){let n={},r;for(r in t)mr(r,n,t,e);for(r in e)mr(r,n,t,e);return n}function mr(t,e,n,r){if(e[t])return e[t];let i=hg(t,e,n,r);return i&&(e[t]=i),i}function hg(t,e,n,r){let i=n[t],s=r[t],o=c=>i&&i[c]!==null?i[c]:s&&s[c]!==null?s[c]:null,l=o("component"),a=o("superType"),d=null;if(a){if(a===t)throw new Error("Can't have a custom view type that references itself");d=mr(a,e,n,r)}return!l&&d&&(l=d.component),l?{type:t,component:l,defaults:Object.assign(Object.assign({},d?d.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},d?d.overrides:{}),s?s.rawOptions:{})}:null}function Is(t){return Ce(t,pg)}function pg(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=Os(e):n&&!(n.prototype instanceof j)&&(n=Os(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function Os(t){return e=>m(Ae.Consumer,null,n=>m(le,{elTag:"div",elClasses:Xo(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function gg(t,e,n,r){let i=Is(t),s=Is(e.views),o=fg(i,s);return Ce(o,l=>mg(l,s,e,n,r))}function mg(t,e,n,r,i){let s=t.overrides.duration||t.defaults.duration||r.duration||n.duration,o=null,l="",a="",d={};if(s&&(o=vg(s),o)){let u=ar(o);l=u.unit,u.value===1&&(a=l,d=e[l]?e[l].rawOptions:{})}let c=u=>{let h=u.buttonText||{},v=t.defaults.buttonTextKey;return v!=null&&h[v]!=null?h[v]:h[t.type]!=null?h[t.type]:h[a]!=null?h[a]:null},f=u=>{let h=u.buttonHints||{},v=t.defaults.buttonTextKey;return v!=null&&h[v]!=null?h[v]:h[t.type]!=null?h[t.type]:h[a]!=null?h[a]:null};return{type:t.type,component:t.component,duration:o,durationUnit:l,singleUnit:a,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},d),t.overrides),buttonTextOverride:c(r)||c(n)||t.overrides.buttonText,buttonTextDefault:c(i)||t.defaults.buttonText||c(Mt)||t.type,buttonTitleOverride:f(r)||f(n)||t.overrides.buttonHint,buttonTitleDefault:f(i)||t.defaults.buttonHint||f(Mt)}}let Ls={};function vg(t){let e=JSON.stringify(t),n=Ls[e];return n===void 0&&(n=P(t),Ls[e]=n),n}function bg(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function yg(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function Eg(t,e,n){let r=t.initialDate;return r!=null?e.createMarker(r):n.getDateMarker()}function wg(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function Sg(t,e,n,r){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(i=r.buildPrev(t,n),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(t,n),i.isValid)return i;break}return t}function Cg(t,e,n){let r=e?e.activeRange:null;return $l({},Mg(t,n),r,n)}function Ag(t,e,n,r){let i=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return $l(t,e.sources,i,r);case"REMOVE_EVENT_SOURCE":return Dg(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?Gl(t,i,r):t;case"FETCH_EVENT_SOURCES":return ai(t,e.sourceIds?Go(e.sourceIds):Yl(t,r),i,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return Tg(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function xg(t,e,n){let r=e?e.activeRange:null;return ai(t,Yl(t,n),r,!0,n)}function Vl(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function $l(t,e,n,r){let i={};for(let s of e)i[s.sourceId]=s;return n&&(i=Gl(i,n,r)),Object.assign(Object.assign({},t),i)}function Dg(t,e){return Qe(t,n=>n.sourceId!==e)}function Gl(t,e,n){return ai(t,Qe(t,r=>_g(r,e,n)),e,!1,n)}function _g(t,e,n){return ql(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function ai(t,e,n,r,i){let s={};for(let o in t){let l=t[o];e[o]?s[o]=Rg(l,n,r,i):s[o]=l}return s}function Rg(t,e,n,r){let{options:i,calendarApi:s}=r,o=r.pluginHooks.eventSourceDefs[t.sourceDefId],l=Je();return o.fetch({eventSource:t,range:e,isRefetch:n,context:r},a=>{let{rawEvents:d}=a;i.eventSourceSuccess&&(d=i.eventSourceSuccess.call(s,d,a.response)||d),t.success&&(d=t.success.call(s,d,a.response)||d),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:l,fetchRange:e,rawEvents:d})},a=>{let d=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(s,a),d=!0),t.failure&&(t.failure(a),d=!0),d||console.warn(a.message,a),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:l,fetchRange:e,error:a})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:l})}function Tg(t,e,n,r){let i=t[e];return i&&n===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:r})}):t}function Yl(t,e){return Qe(t,n=>ql(n,e))}function Mg(t,e){let n=ol(e),r=[].concat(t.eventSources||[]),i=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(let s of r){let o=sl(s,e,n);o&&i.push(o)}return i}function ql(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function kg(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function Ng(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function Ig(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function Og(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function Lg(t,e,n,r,i){let s=t.headerToolbar?Ps(t.headerToolbar,t,e,n,r,i):null,o=t.footerToolbar?Ps(t.footerToolbar,t,e,n,r,i):null;return{header:s,footer:o}}function Ps(t,e,n,r,i,s){let o={},l=[],a=!1;for(let d in t){let c=t[d],f=Pg(c,e,n,r,i,s);o[d]=f.widgets,l.push(...f.viewsWithButtons),a=a||f.hasTitle}return{sectionWidgets:o,viewsWithButtons:l,hasTitle:a}}function Pg(t,e,n,r,i,s){let o=e.direction==="rtl",l=e.customButtons||{},a=n.buttonText||{},d=e.buttonText||{},c=n.buttonHints||{},f=e.buttonHints||{},u=t?t.split(" "):[],h=[],v=!1;return{widgets:u.map(g=>g.split(",").map(b=>{if(b==="title")return v=!0,{buttonName:b};let w,A,x,_,R,O;if(w=l[b])x=T=>{w.click&&w.click.call(T.target,T,T.target)},(_=r.getCustomButtonIconClass(w))||(_=r.getIconClass(b,o))||(R=w.text),O=w.hint||w.text;else if(A=i[b]){h.push(b),x=()=>{s.changeView(b)},(R=A.buttonTextOverride)||(_=r.getIconClass(b,o))||(R=A.buttonTextDefault);let T=A.buttonTextOverride||A.buttonTextDefault;O=Tt(A.buttonTitleOverride||A.buttonTitleDefault||e.viewHint,[T,b],T)}else if(s[b])if(x=()=>{s[b]()},(R=a[b])||(_=r.getIconClass(b,o))||(R=d[b]),b==="prevYear"||b==="nextYear"){let T=b==="prevYear"?"prev":"next";O=Tt(c[T]||f[T],[d.year||"year","year"],d[b])}else O=T=>Tt(c[b]||f[b],[d[T]||T,T],d[b]);return{buttonName:b,buttonClick:x,buttonIcon:_,buttonText:R,buttonHint:O}})),viewsWithButtons:h,hasTitle:v}}class Hg{constructor(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let jg={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const zg=xe({name:"array-event-source",eventSourceDefs:[jg]});let Bg={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:r}=t.context,i=t.eventSource.meta;Zh(i.bind(null,ml(t.range,r)),s=>e({rawEvents:s}),n)}};const Fg=xe({name:"func-event-source",eventSourceDefs:[Bg]}),Ug={method:String,extraParams:y,startParam:String,endParam:String,timeZoneParam:String};let Wg={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:r}=t.eventSource,i=$g(r,t.range,t.context);Xh(r.method,r.url,i).then(([s,o])=>{e({rawEvents:s,response:o})},n)}};const Vg=xe({name:"json-event-source",eventSourceRefiners:Ug,eventSourceDefs:[Wg]});function $g(t,e,n){let{dateEnv:r,options:i}=n,s,o,l,a,d={};return s=t.startParam,s==null&&(s=i.startParam),o=t.endParam,o==null&&(o=i.endParam),l=t.timeZoneParam,l==null&&(l=i.timeZoneParam),typeof t.extraParams=="function"?a=t.extraParams():a=t.extraParams||{},Object.assign(d,a),d[s]=r.formatIso(e.start),d[o]=r.formatIso(e.end),r.timeZone!=="local"&&(d[l]=r.timeZone),d}const Gg={daysOfWeek:y,startTime:P,endTime:P,duration:P,startRecur:y,endRecur:y};let Yg={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},r;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=af(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:r,typeData:n}}return null},expand(t,e,n){let r=Ze(e,{start:t.startRecur,end:t.endRecur});return r?Qg(t.daysOfWeek,t.startTime,t.dateEnv,n,r):[]}};const qg=xe({name:"simple-recurring-event",recurringTypes:[Yg],eventRefiners:Gg});function Qg(t,e,n,r,i){let s=t?Go(t):null,o=U(i.start),l=i.end,a=[];for(e&&(e.milliseconds<0?l=X(l,1):e.milliseconds>=1e3*60*60*24&&(o=X(o,-1)));o<l;){let d;(!s||s[o.getUTCDay()])&&(e?d=r.add(o,e):d=o,a.push(r.createMarker(n.toDate(d)))),o=X(o,1)}return a}const Zg=xe({name:"change-handler",optionChangeHandlers:{events(t,e){Hs([t],e)},eventSources:Hs}});function Hs(t,e){let n=Fr(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let r=[];for(let i of t){let s=!1;for(let o=0;o<n.length;o+=1)if(n[o]._raw===i){n.splice(o,1),s=!0;break}s||r.push(i)}for(let i of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of r)e.calendarApi.addEventSource(i)}function Xg(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},ml(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function Kg(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",Ye(t,e))}const Jg=[zg,Fg,Vg,qg,Zg,xe({name:"misc",isLoadingFuncs:[t=>Vl(t.eventSources)],propSetHandlers:{dateProfile:Xg,eventStore:Kg}})];class em{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new Nr(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],r;for(;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function tm(t,e,n){let r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,q(e.titleFormat||nm(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function nm(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=fn(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class js{constructor(){this.resetListeners=new Set}handleInput(e,n){const r=this.dateEnv;if(e!==r&&(typeof n=="function"?this.nowFn=n:r||(this.nowAnchorDate=e.toDate(n?e.createMarker(n):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,r))for(const i of this.resetListeners.values())i()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class rm{constructor(e){this.computeCurrentViewData=k(this._computeCurrentViewData),this.organizeRawLocales=k(sg),this.buildLocale=k(Ul),this.buildPluginHooks=cg(),this.buildDateEnv=k(im),this.buildTheme=k(sm),this.parseToolbars=k(Lg),this.buildViewSpecs=k(gg),this.buildDateProfileGenerator=Kt(om),this.buildViewApi=k(lm),this.buildViewUiProps=Kt(dm),this.buildEventUiBySource=k(am,fe),this.buildEventUiBases=k(cm),this.parseContextBusinessHours=Kt(um),this.buildTitle=k(tm),this.nowManager=new js,this.emitter=new Nn,this.actionRunner=new em(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=u=>{this.actionRunner.request(u)},this.props=e,this.actionRunner.pause(),this.nowManager=new js;let n={},r=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),i=r.calendarOptions.initialView||r.pluginHooks.initialView,s=this.computeCurrentViewData(i,r,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);let o={nowManager:this.nowManager,dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},l=Eg(r.calendarOptions,r.dateEnv,this.nowManager),a=s.dateProfileGenerator.build(l);Se(a.activeRange,l)||(l=a.currentRange.start);for(let u of r.pluginHooks.contextInit)u(o);let d=Cg(r.calendarOptions,a,o),c={dynamicOptionOverrides:n,currentViewType:i,currentDate:l,dateProfile:a,businessHours:this.parseContextBusinessHours(o),eventSources:d,eventUiBases:{},eventStore:se(),renderableEventStore:se(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(o).selectionConfig},f=Object.assign(Object.assign({},o),c);for(let u of r.pluginHooks.reducers)Object.assign(c,u(null,null,f));Kn(c,o)&&this.emitter.trigger("loading",!0),this.state=c,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:r}=this;n===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:r,emitter:i}=this,s=wg(r.dynamicOptionOverrides,e),o=this.computeOptionsData(n.optionOverrides,s,n.calendarApi),l=bg(r.currentViewType,e),a=this.computeCurrentViewData(l,o,n.optionOverrides,s);n.calendarApi.currentDataManager=this,i.setThisContext(n.calendarApi),i.setOptions(a.options);let d={nowManager:this.nowManager,dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:c,dateProfile:f}=r;this.data&&this.data.dateProfileGenerator!==a.dateProfileGenerator&&(f=a.dateProfileGenerator.build(c)),c=yg(c,e),f=Sg(f,e,c,a.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Se(f.currentRange,c))&&(c=f.currentRange.start);let u=Ag(r.eventSources,e,f,d),h=Ch(r.eventStore,e,u,f,d),p=Vl(u)&&!a.options.progressiveEventRendering&&r.renderableEventStore||h,{eventUiSingleBase:g,selectionConfig:b}=this.buildViewUiProps(d),w=this.buildEventUiBySource(u),A=this.buildEventUiBases(p.defs,g,w),x={dynamicOptionOverrides:s,currentViewType:l,currentDate:c,dateProfile:f,eventSources:u,eventStore:h,renderableEventStore:p,selectionConfig:b,eventUiBases:A,businessHours:this.parseContextBusinessHours(d),dateSelection:kg(r.dateSelection,e),eventSelection:Ng(r.eventSelection,e),eventDrag:Ig(r.eventDrag,e),eventResize:Og(r.eventResize,e)},_=Object.assign(Object.assign({},d),x);for(let T of o.pluginHooks.reducers)Object.assign(x,T(r,e,_));let R=Kn(r,d),O=Kn(x,d);!R&&O?i.trigger("loading",!0):R&&!O&&i.trigger("loading",!1),this.state=x,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,r=this.data,i=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(n.currentViewType,i,e.optionOverrides,n.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(n.dateProfile,s.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),s),n),l=i.pluginHooks.optionChangeHandlers,a=r&&r.calendarOptions,d=i.calendarOptions;if(a&&a!==d){a.timeZone!==d.timeZone&&(n.eventSources=o.eventSources=xg(o.eventSources,n.dateProfile,o),n.eventStore=o.eventStore=_s(o.eventStore,r.dateEnv,o.dateEnv),n.renderableEventStore=o.renderableEventStore=_s(o.renderableEventStore,r.dateEnv,o.dateEnv));for(let c in l)(this.optionsForHandling.indexOf(c)!==-1||a[c]!==d[c])&&l[c](d[c],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,n,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:s,localeDefaults:o,availableLocaleData:l,extra:a}=this.processRawCalendarOptions(e,n);zs(a);let d=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,s,l,i.defaultRangeSeparator),c=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),f=this.buildTheme(i,s),u=this.parseToolbars(i,this.stableOptionOverrides,f,c,r);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:s,dateEnv:d,viewSpecs:c,theme:f,toolbarConfig:u,localeDefaults:o,availableRawLocales:l.map}}processRawCalendarOptions(e,n){let{locales:r,locale:i}=Wn([Mt,e,n]),s=this.organizeRawLocales(r),o=s.map,l=this.buildLocale(i||s.defaultCode,o).options,a=this.buildPluginHooks(e.plugins||[],Jg),d=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ws),Ss),Cs),a.listenerRefiners),a.optionRefiners),c={},f=Wn([Mt,l,e,n]),u={},h=this.currentCalendarOptionsInput,v=this.currentCalendarOptionsRefined,p=!1;for(let g in f)this.optionsForRefining.indexOf(g)===-1&&(f[g]===h[g]||Fe[g]&&g in h&&Fe[g](h[g],f[g]))?u[g]=v[g]:d[g]?(u[g]=d[g](f[g]),p=!0):c[g]=h[g];return p&&(this.currentCalendarOptionsInput=f,this.currentCalendarOptionsRefined=u,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:a,availableLocaleData:s,localeDefaults:l,extra:c}}_computeCurrentViewData(e,n,r,i){let s=n.viewSpecs[e];if(!s)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:l}=this.processRawViewOptions(s,n.pluginHooks,n.localeDefaults,r,i);zs(l),this.nowManager.handleInput(n.dateEnv,o.now);let a=this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),d=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:s,options:o,dateProfileGenerator:a,viewApi:d}}processRawViewOptions(e,n,r,i,s){let o=Wn([Mt,e.optionDefaults,r,i,e.optionOverrides,s]),l=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ws),Ss),Cs),Ff),n.listenerRefiners),n.optionRefiners),a={},d=this.currentViewOptionsInput,c=this.currentViewOptionsRefined,f=!1,u={};for(let h in o)o[h]===d[h]||Fe[h]&&Fe[h](o[h],d[h])?a[h]=c[h]:(o[h]===this.currentCalendarOptionsInput[h]||Fe[h]&&Fe[h](o[h],this.currentCalendarOptionsInput[h])?h in this.currentCalendarOptionsRefined&&(a[h]=this.currentCalendarOptionsRefined[h]):l[h]?a[h]=l[h](o[h]):u[h]=o[h],f=!0);return f&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=a),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:u}}}function im(t,e,n,r,i,s,o,l){let a=Ul(e||o.defaultCode,o.map);return new Kf({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:a,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:s.cmdFormatter,defaultSeparator:l})}function sm(t,e){let n=e.themeClasses[t.themeSystem]||je;return new n(t)}function om(t){let e=t.dateProfileGeneratorClass||el;return new e(t)}function lm(t,e,n){return new Hg(t,e,n)}function am(t){return Ce(t,e=>e.ui)}function cm(t,e,n){let r={"":e};for(let i in t){let s=t[i];s.sourceId&&n[s.sourceId]&&(r[i]=n[s.sourceId])}return r}function dm(t){let{options:e}=t;return{eventUiSingleBase:yn({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:yn({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function Kn(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function um(t){return Nh(t.options.businessHours,t)}function zs(t,e){for(let n in t)console.warn(`Unknown option '${n}'`)}class fm extends j{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return m("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:r}=this.context,i=[],s=!0;for(let o of e){let{buttonName:l,buttonClick:a,buttonText:d,buttonIcon:c,buttonHint:f}=o;if(l==="title")s=!1,i.push(m("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let u=l===n.activeButton,h=!n.isTodayEnabled&&l==="today"||!n.isPrevEnabled&&l==="prev"||!n.isNextEnabled&&l==="next",v=[`fc-${l}-button`,r.getClass("button")];u&&v.push(r.getClass("buttonActive")),i.push(m("button",{type:"button",title:typeof f=="function"?f(n.navUnit):f,disabled:h,"aria-pressed":u,className:v.join(" "),onClick:a},d||(c?m("span",{className:c,role:"img"}):"")))}}if(i.length>1){let o=s&&r.getClass("buttonGroup")||"";return m("div",{className:o},...i)}return i[0]}}class Bs extends j{render(){let{model:e,extraClassName:n}=this.props,r=!1,i,s,o=e.sectionWidgets,l=o.center;return o.left?(r=!0,i=o.left):i=o.start,o.right?(r=!0,s=o.right):s=o.end,m("div",{className:[n||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",l||[]),this.renderSection("end",s||[]))}renderSection(e,n){let{props:r}=this;return m(fm,{key:e,widgetGroups:n,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class hm extends j{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,ve(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:r}=e,i=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",o="";return r?n.availableWidth!==null?s=n.availableWidth/r:o=`${1/r*100}%`:s=e.height||"",m("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:s,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class pm extends vt{constructor(e){super(e),this.handleSegClick=(n,r)=>{let{component:i}=this,{context:s}=i,o=pt(r);if(o&&i.isValidSegDownEl(n.target)){let l=J(n.target,".fc-event-forced-url"),a=l?l.querySelector("a[href]").href:"";s.emitter.trigger("eventClick",{el:r,event:new V(i.context,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:s.viewApi}),a&&!n.defaultPrevented&&(window.location.href=a)}},this.destroy=Fo(e.el,"click",".fc-event",this.handleSegClick)}}class gm extends vt{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,r)=>{pt(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",n,r))},this.handleSegLeave=(n,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,r))},this.removeHoverListeners=Gu(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,r){let{component:i}=this,{context:s}=i,o=pt(r);(!n||i.isValidSegDownEl(n.target))&&s.emitter.trigger(e,{el:r,event:new V(s,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:s.viewApi})}}class mm extends tt{constructor(){super(...arguments),this.buildViewContext=k(th),this.buildViewPropTransformers=k(bm),this.buildToolbarProps=k(vm),this.headerRef=ee(),this.footerRef=ee(),this.interactionsStore={},this.state={viewLabelId:Rn()},this.registerInteractiveComponent=(e,n)=>{let r=ep(e,n),o=[pm,gm].concat(this.props.pluginHooks.componentInteractions).map(l=>new l(r));this.interactionsStore[e.uid]=o,fr[e.uid]=r},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let r of n)r.destroy();delete this.interactionsStore[e.uid]}delete fr[e.uid]},this.resizeRunner=new Nr(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:r}=e,i=!1,s="",o;e.isHeightAuto||e.forPrint?s="":r.height!=null?i=!0:r.contentHeight!=null?s=r.contentHeight:o=Math.max(r.aspectRatio,.5);let l=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),a=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return m(Ae.Provider,{value:l},m(bt,{unit:"day"},d=>{let c=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,d,e.viewTitle);return m(F,null,n.header&&m(Bs,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:a},c)),m(hm,{liquid:i,height:s,aspectRatio:o,labeledById:a},this.renderView(e),this.buildAppendContent()),n.footer&&m(Bs,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},c)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let r in n)n[r](e[r],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:r}=n.pluginHooks;for(let i in r)n[i]!==e[i]&&r[i](n[i],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(r=>r(e));return m(F,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:r}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},s=this.buildViewPropTransformers(n.viewPropsTransformers);for(let l of s)Object.assign(i,l.transform(i,e));let o=r.component;return m(o,Object.assign({},i))}}function vm(t,e,n,r,i,s){let o=n.build(i,void 0,!1),l=n.buildPrev(e,r,!1),a=n.buildNext(e,r,!1);return{title:s,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:o.isValid&&!Se(e.currentRange,i),isPrevEnabled:l.isValid,isNextEnabled:a.isValid}}function bm(t){return t.map(e=>new e)}class ym extends np{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;mn(()=>{It(m(Jh,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(i,s,o,l)=>(this.setClassNames(i),this.setHeight(s),m(Zo.Provider,{value:this.customContentRenderId},m(mm,Object.assign({isHeightAuto:o,forPrint:l},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,It(null,this.el),this.setClassNames([]),this.setHeight(""))},Hu(e),this.el=e,this.renderRunner=new Nr(this.handleRenderRequest),new rm({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){mn(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!Oe(e,this.currentClassNames)){let{classList:n}=this.el;for(let r of this.currentClassNames)n.remove(r);for(let r of e)n.add(r);this.currentClassNames=e}}setHeight(e){zo(this.el,"height",e)}}const Em={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},wm=Ke({props:{options:Object},data(){return{renderId:0,customRenderingMap:new Map}},methods:{getApi(){return this.calendar},buildOptions(t){return{...t,customRenderingMetaMap:Am(this.$slots),handleCustomRendering:this.handleCustomRendering}}},render(){const t=[];for(const e of this.customRenderingMap.values())t.push(_t(Sm,{key:e.id,customRendering:e}));return _t("div",{attrs:{"data-fc-render-id":this.renderId}},_t(ge,t))},mounted(){const t=new rg;this.handleCustomRendering=t.handle.bind(t);const e=this.buildOptions(this.options),n=new ym(this.$el,e);this.calendar=n,n.render(),t.subscribe(r=>{this.customRenderingMap=r,this.renderId++,this.needCustomRenderingResize=!0})},beforeUpdate(){this.getApi().resumeRendering()},updated(){this.needCustomRenderingResize&&(this.needCustomRenderingResize=!1,this.getApi().updateSize())},beforeUnmount(){this.getApi().destroy()},watch:Cm()}),Sm=Ke({props:{customRendering:Object},render(){const t=this.customRendering,e=typeof t.generatorMeta=="function"?t.generatorMeta(t.renderProps):t.generatorMeta;return _t(Cr,{to:t.containerEl},e)}});function Cm(){let t={options:{deep:!0,handler(e){let n=this.getApi();n.pauseRendering();let r=this.buildOptions(e);n.resetOptions(r),this.renderId++}}};for(let e in Em)t[`options.${e}`]={deep:!0,handler(n){if(n!==void 0){let r=this.getApi();r.pauseRendering(),r.resetOptions({[e]:n},[e]),this.renderId++}}};return t}function Am(t){const e={};for(const n in t)e[xm(n)]=t[n];return e}function xm(t){return t.split("-").map((e,n)=>n?Dm(e):e).join("")}function Dm(t){return t.charAt(0).toUpperCase()+t.slice(1)}class _m extends ye{constructor(){super(...arguments),this.headerElRef=ee()}renderSimpleLayout(e,n){let{props:r,context:i}=this,s=[],o=Sn(i.options);return e&&s.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),m(vn,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},m(ni,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:s}))}renderHScrollLayout(e,n,r,i){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:o,context:l}=this,a=!o.forPrint&&Sn(l.options),d=!o.forPrint&&Ol(l.options),c=[];return e&&c.push({type:"header",key:"header",isSticky:a,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),c.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),d&&c.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:gr}]}),m(vn,{elClasses:["fc-daygrid"],viewSpec:l.viewSpec},m(s,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:r,minWidth:i}]}],sections:c}))}}function en(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.row].push(r);return n}function qt(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.firstCol].push(r);return n}function Fs(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}const Ql=q({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function Zl(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class Xl extends j{render(){let{props:e}=this;return m(ii,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Ql,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class Kl extends j{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,s=r.eventTimeFormat||Ql,o=hl(i,s,n,!0,e.defaultDisplayEventEnd);return m(ri,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:gl(e.seg,n),defaultGenerator:Rm,timeText:o,isResizing:!1,isDateSelecting:!1}))}}function Rm(t){return m(F,null,m("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&m("div",{className:"fc-event-time"},t.timeText),m("div",{className:"fc-event-title"},t.event.title||m(F,null,"Â ")))}class Tm extends j{constructor(){super(...arguments),this.compileSegs=k(Mm)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return m(jl,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return m(F,null,n.map(s=>{let o=s.eventRange.instance.instanceId;return m("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:i[o]?"hidden":""}},Zl(s)?m(Kl,Object.assign({seg:s,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Ie(s,e.todayRange))):m(Xl,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Ie(s,e.todayRange))))}))}})}}function Mm(t){let e=[],n=[];for(let r of t)e.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:e,invisibleSegs:n}}const km=q({week:"narrow"});class Nm extends ye{constructor(){super(...arguments),this.rootElRef=ee(),this.state={dayNumberId:Rn()},this.handleRootEl=e=>{ve(this.rootElRef,e),ve(this.props.elRef,e)}}render(){let{context:e,props:n,state:r,rootElRef:i}=this,{options:s,dateEnv:o}=e,{date:l,dateProfile:a}=n;const d=n.showDayNumber&&Om(l,a.currentRange,o);return m(oi,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:Im,date:l,dateProfile:a,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:d,extraRenderProps:n.extraRenderProps},(c,f)=>m("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&m(Hl,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:wn(e,l,"week"),date:l,defaultFormat:km}),!f.isDisabled&&(n.showDayNumber||li(s)||n.forceDayTop)?m("div",{className:"fc-daygrid-day-top"},m(c,{elTag:"a",elClasses:["fc-daygrid-day-number",d&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},wn(e,l)),{id:r.dayNumberId})})):n.showDayNumber?m("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},m("a",{className:"fc-daygrid-day-number"},"Â ")):void 0,m("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,m("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},m(Tm,{allDayDate:l,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:i,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),m("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function Im(t){return t.dayNumberText||m(F,null,"Â ")}function Om(t,e,n){const{start:r,end:i}=e,s=Le(i,-1),o=n.getYear(r),l=n.getMonth(r),a=n.getYear(s),d=n.getMonth(s);return!(o===a&&l===d)&&(t.valueOf()===r.valueOf()||n.getDay(t)===1&&t.valueOf()<i.valueOf())}function Jl(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function ea(t){return Jl(t)+":"+t.lastCol}function Lm(t,e,n,r,i,s,o){let l=new jm(b=>{let w=t[b.index].eventRange.instance.instanceId+":"+b.span.start+":"+(b.span.end-1);return i[w]||1});l.allowReslicing=!0,l.strictOrder=r,e===!0||n===!0?(l.maxCoord=s,l.hiddenConsumes=!0):typeof e=="number"?l.maxStackCnt=e:typeof n=="number"&&(l.maxStackCnt=n,l.hiddenConsumes=!0);let a=[],d=[];for(let b=0;b<t.length;b+=1){let w=t[b],A=ea(w);i[A]!=null?a.push({index:b,span:{start:w.firstCol,end:w.lastCol+1}}):d.push(w)}let c=l.addSegs(a),f=l.toRects(),{singleColPlacements:u,multiColPlacements:h,leftoverMargins:v}=Pm(f,t,o),p=[],g=[];for(let b of d){h[b.firstCol].push({seg:b,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let w=b.firstCol;w<=b.lastCol;w+=1)u[w].push({seg:ft(b,w,w+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let b=0;b<o.length;b+=1)p.push(0);for(let b of c){let w=t[b.index],A=b.span;h[A.start].push({seg:ft(w,A.start,A.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let x=A.start;x<A.end;x+=1)p[x]+=1,u[x].push({seg:ft(w,x,x+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let b=0;b<o.length;b+=1)g.push(v[b]);return{singleColPlacements:u,multiColPlacements:h,moreCnts:p,moreMarginTops:g}}function Pm(t,e,n){let r=Hm(t,n.length),i=[],s=[],o=[];for(let l=0;l<n.length;l+=1){let a=r[l],d=[],c=0,f=0;for(let h of a){let v=e[h.index];d.push({seg:ft(v,l,l+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:h.levelCoord,marginTop:h.levelCoord-c}),c=h.levelCoord+h.thickness}let u=[];c=0,f=0;for(let h of a){let v=e[h.index],p=h.span.end-h.span.start>1,g=h.span.start===l;f+=h.levelCoord-c,c=h.levelCoord+h.thickness,p?(f+=h.thickness,g&&u.push({seg:ft(v,h.span.start,h.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:h.levelCoord,marginTop:0})):g&&(u.push({seg:ft(v,h.span.start,h.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:h.levelCoord,marginTop:f}),f=0)}i.push(d),s.push(u),o.push(f)}return{singleColPlacements:i,multiColPlacements:s,leftoverMargins:o}}function Hm(t,e){let n=[];for(let r=0;r<e;r+=1)n.push([]);for(let r of t)for(let i=r.span.start;i<r.span.end;i+=1)n[i].push(r);return n}function ft(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;let i=t.eventRange,s=i.range,o=Ze(s,{start:r[e].date,end:X(r[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:o},isStart:t.isStart&&o.start.valueOf()===s.start.valueOf(),isEnd:t.isEnd&&o.end.valueOf()===s.end.valueOf()})}class jm extends Cl{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:r}=this,i=s=>!this.forceHidden[qe(s)];for(let s=0;s<r.length;s+=1)r[s]=r[s].filter(i);return n}handleInvalidInsertion(e,n,r){const{entriesByLevel:i,forceHidden:s}=this,{touchingEntry:o,touchingLevel:l,touchingLateral:a}=e;if(this.hiddenConsumes&&o){const d=qe(o);if(!s[d])if(this.allowReslicing){const c=Object.assign(Object.assign({},o),{span:ei(o.span,n.span)}),f=qe(c);s[f]=!0,i[l][a]=c,r.push(c),this.splitEntry(o,n,r)}else s[d]=!0,r.push(o)}super.handleInvalidInsertion(e,n,r)}}class ta extends ye{constructor(){super(...arguments),this.cellElRefs=new Ee,this.frameElRefs=new Ee,this.fgElRefs=new Ee,this.segHarnessRefs=new Ee,this.rootElRef=ee(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:r}=this,{options:i}=r,s=e.cells.length,o=qt(e.businessHourSegs,s),l=qt(e.bgEventSegs,s),a=qt(this.getHighlightSegs(),s),d=qt(this.getMirrorSegs(),s),{singleColPlacements:c,multiColPlacements:f,moreCnts:u,moreMarginTops:h}=Lm(fl(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),v=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return m("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((p,g)=>{let b=this.renderFgSegs(g,e.forPrint?c[g]:f[g],e.todayRange,v),w=this.renderFgSegs(g,zm(d[g],f),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return m(Nm,{key:p.key,elRef:this.cellElRefs.createRef(p.key),innerElRef:this.frameElRefs.createRef(p.key),dateProfile:e.dateProfile,date:p.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&g===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:p.extraRenderProps,extraDataAttrs:p.extraDataAttrs,extraClassNames:p.extraClassNames,extraDateSpan:p.extraDateSpan,moreCnt:u[g],moreMarginTop:h[g],singlePlacements:c[g],fgContentElRef:this.fgElRefs.createRef(p.key),fgContent:m(F,null,m(F,null,b),m(F,null,w)),bgContent:m(F,null,this.renderFillSegs(a[g],"highlight"),this.renderFillSegs(o[g],"non-business"),this.renderFillSegs(l[g],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let r=this.props;this.updateSizing(!fe(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,r,i,s,o,l){let{context:a}=this,{eventSelection:d}=this.props,{framePositions:c}=this.state,f=this.props.cells.length===1,u=s||o||l,h=[];if(c)for(let v of n){let{seg:p}=v,{instanceId:g}=p.eventRange.instance,b=v.isVisible&&!i[g],w=v.isAbsolute,A="",x="";w&&(a.isRtl?(x=0,A=c.lefts[p.lastCol]-c.lefts[p.firstCol]):(A=0,x=c.rights[p.firstCol]-c.rights[p.lastCol])),h.push(m("div",{className:"fc-daygrid-event-harness"+(w?" fc-daygrid-event-harness-abs":""),key:Jl(p),ref:u?null:this.segHarnessRefs.createRef(ea(p)),style:{visibility:b?"":"hidden",marginTop:w?"":v.marginTop,top:w?v.absoluteTop:"",left:A,right:x}},Zl(p)?m(Kl,Object.assign({seg:p,isDragging:s,isSelected:g===d,defaultDisplayEventEnd:f},Ie(p,r))):m(Xl,Object.assign({seg:p,isDragging:s,isResizing:o,isDateSelecting:l,isSelected:g===d,defaultDisplayEventEnd:f},Ie(p,r)))))}return h}renderFillSegs(e,n){let{isRtl:r}=this.context,{todayRange:i}=this.props,{framePositions:s}=this.state,o=[];if(s)for(let l of e){let a=r?{right:0,left:s.lefts[l.lastCol]-s.lefts[l.firstCol]}:{left:0,right:s.rights[l.firstCol]-s.rights[l.lastCol]};o.push(m("div",{key:pl(l.eventRange),className:"fc-daygrid-bg-harness",style:a},n==="bg-event"?m(Ll,Object.assign({seg:l},Ie(l,i))):Pl(n)))}return m(F,{},...o)}updateSizing(e){let{props:n,state:r,frameElRefs:i}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let a=n.cells.map(d=>i.currentMap[d.key]);if(a.length){let d=this.rootElRef.current,c=new gt(d,a,!0,!1);(!r.framePositions||!r.framePositions.similarTo(c))&&this.setState({framePositions:new gt(d,a,!0,!1)})}}const s=this.state.segHeights,o=this.querySegHeights(),l=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},s),o),maxContentHeight:l?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let r in e){let i=Math.round(e[r].getBoundingClientRect().height);n[r]=Math.max(n[r]||0,i)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}ta.addStateEquality({segHeights:fe});function zm(t,e){if(!t.length)return[];let n=Bm(e);return t.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}))}function Bm(t){let e={};for(let n of t)for(let r of n)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class Fm extends ye{constructor(){super(...arguments),this.splitBusinessHourSegs=k(en),this.splitBgEventSegs=k(Um),this.splitFgEventSegs=k(en),this.splitDateSelectionSegs=k(en),this.splitEventDrag=k(Fs),this.splitEventResize=k(Fs),this.rowRefs=new Ee}render(){let{props:e,context:n}=this,r=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,r),s=this.splitBgEventSegs(e.bgEventSegs,r),o=this.splitFgEventSegs(e.fgEventSegs,r),l=this.splitDateSelectionSegs(e.dateSelectionSegs,r),a=this.splitEventDrag(e.eventDrag,r),d=this.splitEventResize(e.eventResize,r),c=r>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return m(bt,{unit:"day"},(f,u)=>m(F,null,e.cells.map((h,v)=>m(ta,{ref:this.rowRefs.createRef(v),key:h.length?h[0].date.toISOString():v,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:u,dateProfile:e.dateProfile,cells:h,renderIntro:e.renderRowIntro,businessHourSegs:i[v],eventSelection:e.eventSelection,bgEventSegs:s[v],fgEventSegs:o[v],dateSelectionSegs:l[v],eventDrag:a[v],eventResize:d[v],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:c,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new gt(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new gt(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:r,rowPositions:i}=this,s=r.leftToIndex(e),o=i.topToIndex(n);if(o!=null&&s!=null){let l=this.props.cells[o][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,s),allDay:!0},l.extraDateSpan),dayEl:this.getCellEl(o,s),rect:{left:r.lefts[s],right:r.rights[s],top:i.tops[o],bottom:i.bottoms[o]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let r=this.props.cells[e][n].date,i=X(r,1);return{start:r,end:i}}}function Um(t,e){return en(t.filter(Wm),e)}function Wm(t){return t.eventRange.def.allDay}class Vm extends ye{constructor(){super(...arguments),this.elRef=ee(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:r,expandRows:i}=e,s=r===!0||n===!0;s&&!i&&(s=!1,n=null,r=null);let o=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return m("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},m("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,m("tbody",{role:"presentation"},m(Fm,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=$m(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),r=n.closest(".fc-scroller"),i=e.getBoundingClientRect().top-n.getBoundingClientRect().top;r.scrollTop=i?i+1:0}this.needsScrollReset=!1}}}function $m(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${Af(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${Hr(e.currentDate)}"]`)),n}class Gm extends Tl{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class na extends ye{constructor(){super(...arguments),this.slicer=new Gm,this.tableRef=ee()}render(){let{props:e,context:n}=this;return m(Vm,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class Ym extends _m{constructor(){super(...arguments),this.buildDayTableModel=k(qm),this.headerRef=ee(),this.tableRef=ee()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:r}=this,i=this.buildDayTableModel(r.dateProfile,n),s=e.dayHeaders&&m(Dl,{ref:this.headerRef,dateProfile:r.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),o=l=>m(na,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:i,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:l.tableColGroupNode,tableMinWidth:l.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:l.clientWidth,clientHeight:l.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(s,o,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(s,o)}}function qm(t,e){let n=new _l(t.renderRange,e);return new Rl(n,/year|month|week/.test(t.currentRangeUnit))}class Qm extends el{buildRenderRange(e,n,r){let i=super.buildRenderRange(e,n,r),{props:s}=this;return Zm({currentRange:i,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}function Zm(t){let{dateEnv:e,currentRange:n}=t,{start:r,end:i}=n,s;if(t.snapToWeek&&(r=e.startOfWeek(r),s=e.startOfWeek(i),s.valueOf()!==i.valueOf()&&(i=ms(s,1))),t.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth(X(n.end,-1))),l=Math.ceil(hf(o,i));i=ms(i,6-l)}return{start:r,end:i}}var Xm=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';kr(Xm);var Km=xe({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:Ym,dateProfileGeneratorClass:Qm},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class Jm extends lp{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?Hh(e)?["timed","allDay"]:["allDay"]:["timed"]}}const ev=q({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function ra(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return m(Ae.Consumer,null,n=>{if(!t.isLabeled)return m("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:r,options:i,viewApi:s}=n,o=i.slotLabelFormat==null?ev:Array.isArray(i.slotLabelFormat)?q(i.slotLabelFormat[0]):q(i.slotLabelFormat),l={level:0,time:t.time,date:r.toDate(t.date),view:s,text:r.format(t.date,o)};return m(le,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:l,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:tv,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},a=>m("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},m(a,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function tv(t){return t.text}class nv extends j{render(){return this.props.slatMetas.map(e=>m("tr",{key:e.key},m(ra,Object.assign({},e))))}}const rv=q({week:"short"}),iv=5;class sv extends ye{constructor(){super(...arguments),this.allDaySplitter=new Jm,this.headerElRef=ee(),this.rootElRef=ee(),this.scrollerElRef=ee(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let n=this.scrollerElRef.current;n&&(n.scrollTop=e)},this.renderHeadAxis=(e,n="")=>{let{options:r}=this.context,{dateProfile:i}=this.props,s=i.renderRange,l=et(s.start,s.end)===1?wn(this.context,s.start,"week"):{};return r.weekNumbers&&e==="day"?m(Hl,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:s.start,defaultFormat:rv},a=>m("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:n}},m(a,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:l}))):m("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},m("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},this.renderTableRowAxis=e=>{let{options:n,viewApi:r}=this.context,i={text:n.allDayText,view:r};return m(le,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:i,generatorName:"allDayContent",customGenerator:n.allDayContent,defaultGenerator:ov,classNameGenerator:n.allDayClassNames,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},s=>m("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},m(s,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,n,r){let{context:i,props:s}=this,o=[],l=Sn(i.options);return e&&o.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),n&&(o.push({type:"body",key:"all-day",chunk:{content:n}}),o.push({type:"body",key:"all-day-divider",outerContent:m("tr",{role:"presentation",className:"fc-scrollgrid-section"},m("td",{className:"fc-timegrid-divider "+i.theme.getClass("tableCellShaded")}))})),o.push({type:"body",key:"body",liquid:!0,expandRows:!!i.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:r}}),m(vn,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:i.viewSpec},m(ni,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:o}))}renderHScrollLayout(e,n,r,i,s,o,l){let a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");let{context:d,props:c}=this,f=!c.forPrint&&Sn(d.options),u=!c.forPrint&&Ol(d.options),h=[];e&&h.push({type:"header",key:"header",isSticky:f,syncRowHeights:!0,chunks:[{key:"axis",rowContent:p=>m("tr",{role:"presentation"},this.renderHeadAxis("day",p.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),n&&(h.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:p=>m("tr",{role:"presentation"},this.renderTableRowAxis(p.rowSyncHeights[0]))},{key:"cols",content:n}]}),h.push({key:"all-day-divider",type:"body",outerContent:m("tr",{role:"presentation",className:"fc-scrollgrid-section"},m("td",{colSpan:2,className:"fc-timegrid-divider "+d.theme.getClass("tableCellShaded")}))}));let v=d.options.nowIndicator;return h.push({type:"body",key:"body",liquid:!0,expandRows:!!d.options.expandRows,chunks:[{key:"axis",content:p=>m("div",{className:"fc-timegrid-axis-chunk"},m("table",{"aria-hidden":!0,style:{height:p.expandRows?p.clientHeight:""}},p.tableColGroupNode,m("tbody",null,m(nv,{slatMetas:o}))),m("div",{className:"fc-timegrid-now-indicator-container"},m(bt,{unit:v?"minute":"day"},g=>{let b=v&&l&&l.safeComputeTop(g);return typeof b=="number"?m(si,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:b},isAxis:!0,date:g}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:r}]}),u&&h.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:gr},{key:"cols",content:gr}]}),m(vn,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:d.viewSpec},m(a,{liquid:!c.isHeightAuto&&!c.forPrint,forPrint:c.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:i,minWidth:s}]}],sections:h}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:n}=this.context.options;return(e===!0||n===!0)&&(e=void 0,n=iv),{dayMaxEvents:e,dayMaxEventRows:n}}}function ov(t){return t.text}class lv{constructor(e,n,r){this.positions=e,this.dateProfile=n,this.slotDuration=r}safeComputeTop(e){let{dateProfile:n}=this;if(Se(n.currentRange,e)){let r=U(e),i=e.valueOf()-r.valueOf();if(i>=ue(n.slotMinTime)&&i<ue(n.slotMaxTime))return this.computeTimeTop(P(i))}return null}computeDateTop(e,n){return n||(n=U(e)),this.computeTimeTop(P(e.valueOf()-n.valueOf()))}computeTimeTop(e){let{positions:n,dateProfile:r}=this,i=n.els.length,s=(e.milliseconds-ue(r.slotMinTime))/ue(this.slotDuration),o,l;return s=Math.max(0,s),s=Math.min(i,s),o=Math.floor(s),o=Math.min(o,i-1),l=s-o,n.tops[o]+n.getHeight(o)*l}}class av extends j{render(){let{props:e,context:n}=this,{options:r}=n,{slatElRefs:i}=e;return m("tbody",null,e.slatMetas.map((s,o)=>{let l={time:s.time,date:n.dateEnv.toDate(s.date),view:n.viewApi};return m("tr",{key:s.key,ref:i.createRef(s.key)},e.axis&&m(ra,Object.assign({},s)),m(le,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!s.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":s.isoTimeStr},renderProps:l,generatorName:"slotLaneContent",customGenerator:r.slotLaneContent,classNameGenerator:r.slotLaneClassNames,didMount:r.slotLaneDidMount,willUnmount:r.slotLaneWillUnmount}))}))}}class cv extends j{constructor(){super(...arguments),this.rootElRef=ee(),this.slatElRefs=new Ee}render(){let{props:e,context:n}=this;return m("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},m("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,m(av,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:n}=this;n.onCoords&&n.clientWidth!==null&&this.rootElRef.current.offsetHeight&&n.onCoords(new lv(new gt(this.rootElRef.current,dv(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function dv(t,e){return e.map(n=>t[n.key])}function At(t,e){let n=[],r;for(r=0;r<e;r+=1)n.push([]);if(t)for(r=0;r<t.length;r+=1)n[t[r].col].push(t[r]);return n}function Us(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.col].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}class uv extends j{render(){let{props:e}=this;return m(jl,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>sa(e.hiddenSegs,e),defaultGenerator:fv,forceTimed:!0},n=>m(n,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function fv(t){return t.shortText}function hv(t,e,n){let r=new Cl;e!=null&&(r.strictOrder=e),n!=null&&(r.maxStackCnt=n);let i=r.addSegs(t),s=Ep(i),o=pv(r);return o=bv(o,1),{segRects:yv(o),hiddenGroups:s}}function pv(t){const{entriesByLevel:e}=t,n=ci((r,i)=>r+":"+i,(r,i)=>{let s=vv(t,r,i),o=Ws(s,n),l=e[r][i];return[Object.assign(Object.assign({},l),{nextLevelNodes:o[0]}),l.thickness+o[1]]});return Ws(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,n)[0]}function Ws(t,e){if(!t)return[[],0];let{level:n,lateralStart:r,lateralEnd:i}=t,s=r,o=[];for(;s<i;)o.push(e(n,s)),s+=1;return o.sort(gv),[o.map(mv),o[0][1]]}function gv(t,e){return e[1]-t[1]}function mv(t){return t[0]}function vv(t,e,n){let{levelCoords:r,entriesByLevel:i}=t,s=i[e][n],o=r[e]+s.thickness,l=r.length,a=e;for(;a<l&&r[a]<o;a+=1);for(;a<l;a+=1){let d=i[a],c,f=pr(d,s.span.start,hr),u=f[0]+f[1],h=u;for(;(c=d[h])&&c.span.start<s.span.end;)h+=1;if(u<h)return{level:a,lateralStart:u,lateralEnd:h}}return null}function bv(t,e){const n=ci((r,i,s)=>qe(r),(r,i,s)=>{let{nextLevelNodes:o,thickness:l}=r,a=l+s,d=l/a,c,f=[];if(!o.length)c=e;else for(let h of o)if(c===void 0){let v=n(h,i,a);c=v[0],f.push(v[1])}else{let v=n(h,c,0);f.push(v[1])}let u=(c-i)*d;return[c-u,Object.assign(Object.assign({},r),{thickness:u,nextLevelNodes:f})]});return t.map(r=>n(r,0,0)[1])}function yv(t){let e=[];const n=ci((i,s,o)=>qe(i),(i,s,o)=>{let l=Object.assign(Object.assign({},i),{levelCoord:s,stackDepth:o,stackForward:0});return e.push(l),l.stackForward=r(i.nextLevelNodes,s+i.thickness,o+1)+1});function r(i,s,o){let l=0;for(let a of i)l=Math.max(n(a,s,o),l);return l}return r(t,0,0),e}function ci(t,e){const n={};return(...r)=>{let i=t(...r);return i in n?n[i]:n[i]=e(...r)}}function Vs(t,e,n=null,r=0){let i=[];if(n)for(let s=0;s<t.length;s+=1){let o=t[s],l=n.computeDateTop(o.start,e),a=Math.max(l+(r||0),n.computeDateTop(o.end,e));i.push({start:Math.round(l),end:Math.round(a)})}return i}function Ev(t,e,n,r){let i=[],s=[];for(let d=0;d<t.length;d+=1){let c=e[d];c?i.push({index:d,thickness:1,span:c}):s.push(t[d])}let{segRects:o,hiddenGroups:l}=hv(i,n,r),a=[];for(let d of o)a.push({seg:t[d.index],rect:d});for(let d of s)a.push({seg:d,rect:null});return{segPlacements:a,hiddenGroups:l}}const wv=q({hour:"numeric",minute:"2-digit",meridiem:!1});class ia extends j{render(){return m(ii,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:wv}))}}class Sv extends j{constructor(){super(...arguments),this.sortEventSegs=k(fl)}render(){let{props:e,context:n}=this,{options:r}=n,i=r.selectMirror,s=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||i&&e.dateSelectionSegs||[],o=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},l=this.sortEventSegs(e.fgEventSegs,r.eventOrder);return m(oi,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},a=>m("div",{className:"fc-timegrid-col-frame"},m("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),m("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(l,o,!1,!1,!1)),m("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,{},!!e.eventDrag,!!e.eventResize,!!i,"mirror")),m("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),li(r)&&m(a,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,n,r,i,s,o){let{props:l}=this;return l.forPrint?sa(e,l):this.renderPositionedFgSegs(e,n,r,i,s,o)}renderPositionedFgSegs(e,n,r,i,s,o){let{eventMaxStack:l,eventShortHeight:a,eventOrderStrict:d,eventMinHeight:c}=this.context.options,{date:f,slatCoords:u,eventSelection:h,todayRange:v,nowDate:p}=this.props,g=r||i||s,b=Vs(e,f,u,c),{segPlacements:w,hiddenGroups:A}=Ev(e,b,d,l);return m(F,null,this.renderHiddenGroups(A,e),w.map(x=>{let{seg:_,rect:R}=x,O=_.eventRange.instance.instanceId,T=g||!!(!n[O]&&R),B=Jn(R&&R.span),K=!g&&R?this.computeSegHStyle(R):{left:0,right:0},S=!!R&&R.stackForward>0,E=!!R&&R.span.end-R.span.start<a;return m("div",{className:"fc-timegrid-event-harness"+(S?" fc-timegrid-event-harness-inset":""),key:o||O,style:Object.assign(Object.assign({visibility:T?"":"hidden"},B),K)},m(ia,Object.assign({seg:_,isDragging:r,isResizing:i,isDateSelecting:s,isSelected:O===h,isShort:E},Ie(_,v,p))))}))}renderHiddenGroups(e,n){let{extraDateSpan:r,dateProfile:i,todayRange:s,nowDate:o,eventSelection:l,eventDrag:a,eventResize:d}=this.props;return m(F,null,e.map(c=>{let f=Jn(c.span),u=Cv(c.entries,n);return m(uv,{key:$o(zl(u)),hiddenSegs:u,top:f.top,bottom:f.bottom,extraDateSpan:r,dateProfile:i,todayRange:s,nowDate:o,eventSelection:l,eventDrag:a,eventResize:d})}))}renderFillSegs(e,n){let{props:r,context:i}=this,o=Vs(e,r.date,r.slatCoords,i.options.eventMinHeight).map((l,a)=>{let d=e[a];return m("div",{key:pl(d.eventRange),className:"fc-timegrid-bg-harness",style:Jn(l)},n==="bg-event"?m(Ll,Object.assign({seg:d},Ie(d,r.todayRange,r.nowDate))):Pl(n))});return m(F,null,o)}renderNowIndicator(e){let{slatCoords:n,date:r}=this.props;return n?e.map((i,s)=>m(si,{key:s,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:n.computeDateTop(i.start,r)},isAxis:!1,date:r})):null}computeSegHStyle(e){let{isRtl:n,options:r}=this.context,i=r.slotEventOverlap,s=e.levelCoord,o=e.levelCoord+e.thickness,l,a;i&&(o=Math.min(1,s+(o-s)*2)),n?(l=1-o,a=s):(l=s,a=1-o);let d={zIndex:e.stackDepth+1,left:l*100+"%",right:a*100+"%"};return i&&!e.stackForward&&(d[n?"marginLeft":"marginRight"]=10*2),d}}function sa(t,{todayRange:e,nowDate:n,eventSelection:r,eventDrag:i,eventResize:s}){let o=(i?i.affectedInstances:null)||(s?s.affectedInstances:null)||{};return m(F,null,t.map(l=>{let a=l.eventRange.instance.instanceId;return m("div",{key:a,style:{visibility:o[a]?"hidden":""}},m(ia,Object.assign({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:a===r,isShort:!1},Ie(l,e,n))))}))}function Jn(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function Cv(t,e){return t.map(n=>e[n.index])}class Av extends j{constructor(){super(...arguments),this.splitFgEventSegs=k(At),this.splitBgEventSegs=k(At),this.splitBusinessHourSegs=k(At),this.splitNowIndicatorSegs=k(At),this.splitDateSelectionSegs=k(At),this.splitEventDrag=k(Us),this.splitEventResize=k(Us),this.rootElRef=ee(),this.cellElRefs=new Ee}render(){let{props:e,context:n}=this,r=n.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),i=e.cells.length,s=this.splitFgEventSegs(e.fgEventSegs,i),o=this.splitBgEventSegs(e.bgEventSegs,i),l=this.splitBusinessHourSegs(e.businessHourSegs,i),a=this.splitNowIndicatorSegs(e.nowIndicatorSegs,i),d=this.splitDateSelectionSegs(e.dateSelectionSegs,i),c=this.splitEventDrag(e.eventDrag,i),f=this.splitEventResize(e.eventResize,i);return m("div",{className:"fc-timegrid-cols",ref:this.rootElRef},m("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,m("tbody",{role:"presentation"},m("tr",{role:"row"},e.axis&&m("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},m("div",{className:"fc-timegrid-col-frame"},m("div",{className:"fc-timegrid-now-indicator-container"},typeof r=="number"&&m(si,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:r},isAxis:!0,date:e.nowDate})))),e.cells.map((u,h)=>m(Sv,{key:u.key,elRef:this.cellElRefs.createRef(u.key),dateProfile:e.dateProfile,date:u.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:u.extraRenderProps,extraDataAttrs:u.extraDataAttrs,extraClassNames:u.extraClassNames,extraDateSpan:u.extraDateSpan,fgEventSegs:s[h],bgEventSegs:o[h],businessHourSegs:l[h],nowIndicatorSegs:a[h],dateSelectionSegs:d[h],eventDrag:c[h],eventResize:f[h],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new gt(this.rootElRef.current,xv(this.cellElRefs.currentMap,e.cells),!0,!1))}}function xv(t,e){return e.map(n=>t[n.key])}class Dv extends ye{constructor(){super(...arguments),this.processSlotOptions=k(_v),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:n}=this.props,{slatCoords:r}=this.state;if(n&&r){if(e.time){let i=r.computeTimeTop(e.time);i=Math.ceil(i),i&&(i+=1),n(i)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:n}=this;return m("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},m(cv,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),m(Av,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,n){let{dateEnv:r,options:i}=this.context,{colCoords:s}=this,{dateProfile:o}=this.props,{slatCoords:l}=this.state,{snapDuration:a,snapsPerSlot:d}=this.processSlotOptions(this.props.slotDuration,i.snapDuration),c=s.leftToIndex(e),f=l.positions.topToIndex(n);if(c!=null&&f!=null){let u=this.props.cells[c],h=l.positions.tops[f],v=l.positions.getHeight(f),p=(n-h)/v,g=Math.floor(p*d),b=f*d+g,w=this.props.cells[c].date,A=lr(o.slotMinTime,cf(a,b)),x=r.add(w,A),_=r.add(x,a);return{dateProfile:o,dateSpan:Object.assign({range:{start:x,end:_},allDay:!1},u.extraDateSpan),dayEl:s.els[c],rect:{left:s.lefts[c],right:s.rights[c],top:h,bottom:h+v},layer:0}}return null}}function _v(t,e){let n=e||t,r=Pr(t,n);return r===null&&(n=t,r=1),{snapDuration:n,snapsPerSlot:r}}class Rv extends Tl{sliceRange(e,n){let r=[];for(let i=0;i<n.length;i+=1){let s=Ze(e,n[i]);s&&r.push({start:s.start,end:s.end,isStart:s.start.valueOf()===e.start.valueOf(),isEnd:s.end.valueOf()===e.end.valueOf(),col:i})}return r}}class Tv extends ye{constructor(){super(...arguments),this.buildDayRanges=k(Mv),this.slicer=new Rv,this.timeColsRef=ee()}render(){let{props:e,context:n}=this,{dateProfile:r,dayTableModel:i}=e,{nowIndicator:s,nextDayThreshold:o}=n.options,l=this.buildDayRanges(i,r,n.dateEnv);return m(bt,{unit:s?"minute":"day"},(a,d)=>m(Dv,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,r,null,n,l),{forPrint:e.forPrint,axis:e.axis,dateProfile:r,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:i.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:a,nowIndicatorSegs:s&&this.slicer.sliceNowDate(a,r,o,n,l),todayRange:d,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function Mv(t,e,n){let r=[];for(let i of t.headerDates)r.push({start:n.add(i,e.slotMinTime),end:n.add(i,e.slotMaxTime)});return r}const $s=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function kv(t,e,n,r,i){let s=new Date(0),o=t,l=P(0),a=n||Nv(r),d=[];for(;ue(o)<ue(e);){let c=i.add(s,o),f=Pr(l,a)!==null;d.push({date:c,time:o,key:c.toISOString(),isoTimeStr:xf(c),isLabeled:f}),o=lr(o,r),l=lr(l,r)}return d}function Nv(t){let e,n,r;for(e=$s.length-1;e>=0;e-=1)if(n=P($s[e]),r=Pr(n,t),r!==null&&r>1)return n;return t}class Iv extends sv{constructor(){super(...arguments),this.buildTimeColsModel=k(Ov),this.buildSlatMetas=k(kv)}render(){let{options:e,dateEnv:n,dateProfileGenerator:r}=this.context,{props:i}=this,{dateProfile:s}=i,o=this.buildTimeColsModel(s,r),l=this.allDaySplitter.splitProps(i),a=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,e.slotLabelInterval,e.slotDuration,n),{dayMinWidth:d}=e,c=!d,f=d,u=e.dayHeaders&&m(Dl,{dates:o.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:c?this.renderHeadAxis:null}),h=e.allDaySlot!==!1&&(p=>m(na,Object.assign({},l.allDay,{dateProfile:s,dayTableModel:o,nextDayThreshold:e.nextDayThreshold,tableMinWidth:p.tableMinWidth,colGroupNode:p.tableColGroupNode,renderRowIntro:c?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:p.clientWidth,clientHeight:p.clientHeight,forPrint:i.forPrint},this.getAllDayMaxEventProps()))),v=p=>m(Tv,Object.assign({},l.timed,{dayTableModel:o,dateProfile:s,axis:c,slotDuration:e.slotDuration,slatMetas:a,forPrint:i.forPrint,tableColGroupNode:p.tableColGroupNode,tableMinWidth:p.tableMinWidth,clientWidth:p.clientWidth,clientHeight:p.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:p.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return f?this.renderHScrollLayout(u,h,v,o.colCnt,d,a,this.state.slatCoords):this.renderSimpleLayout(u,h,v)}}function Ov(t,e){let n=new _l(t.renderRange,e);return new Rl(n,!1)}var Lv='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';kr(Lv);const Pv={allDaySlot:Boolean};var Hv=xe({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:Pv,views:{timeGrid:{component:Iv,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});ti.touchMouseIgnoreWait=500;let vr=0,Cn=0,br=!1;class oa{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&jv(n)&&this.tryStart(n)){let r=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let r=this.createEventFromMouse(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let r=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let i=n.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let r=this.createEventFromTouch(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=n=>{if(this.isDragging){let r=n.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,zv()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,i=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:i,deltaX:r-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new Nn,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Bv()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),Fv()}tryStart(e){let n=this.querySubjectEl(e),r=e.target;return n&&(!this.handleSelector||J(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){br=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?J(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return vr||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(br=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let r=0,i=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}}createEventFromTouch(e,n){let r=e.touches,i,s,o=0,l=0;return r&&r.length?(i=r[0].pageX,s=r[0].pageY):(i=e.pageX,s=e.pageY),n?(this.origPageX=i,this.origPageY=s):(o=i-this.origPageX,l=s-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:s,deltaX:o,deltaY:l}}}function jv(t){return t.button===0&&!t.ctrlKey}function zv(){vr+=1,setTimeout(()=>{vr-=1},ti.touchMouseIgnoreWait)}function Bv(){Cn+=1,Cn===1&&window.addEventListener("touchmove",la,{passive:!1})}function Fv(){Cn-=1,Cn||window.removeEventListener("touchmove",la,{passive:!1})}function la(t){br&&t.preventDefault()}class Uv{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let r=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,n){let r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",Rt(r,{left:i.left,top:i.top}),Yu(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(Ir(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Rt(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),Rt(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class aa extends Jr{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class ca extends aa{constructor(e,n){super(new bp(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return mp(this.scrollController.el)}}class Wv extends aa{constructor(e){super(new yp,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const Gs=typeof performance=="function"?performance.now:Date.now;class Vv{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=Gs();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let r=e-window.scrollX,i=n-window.scrollY,s=this.pointerScreenY===null?0:i-this.pointerScreenY,o=this.pointerScreenX===null?0:r-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Gs()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:r}=e,{edgeThreshold:i}=this,s=i-e.distance,o=s*s/(i*i)*this.maxVelocity*n,l=1;switch(e.name){case"left":l=-1;case"right":r.setScrollLeft(r.getScrollLeft()+o*l);break;case"top":l=-1;case"bottom":r.setScrollTop(r.getScrollTop()+o*l);break}}computeBestEdge(e,n){let{edgeThreshold:r}=this,i=null,s=this.scrollCaches||[];for(let o of s){let l=o.clientRect,a=e-l.left,d=l.right-e,c=n-l.top,f=l.bottom-n;a>=0&&d>=0&&c>=0&&f>=0&&(c<=r&&this.everMovedUp&&o.canScrollUp()&&(!i||i.distance>c)&&(i={scrollCache:o,name:"top",distance:c}),f<=r&&this.everMovedDown&&o.canScrollDown()&&(!i||i.distance>f)&&(i={scrollCache:o,name:"bottom",distance:f}),a<=r&&this.everMovedLeft&&o.canScrollLeft()&&(!i||i.distance>a)&&(i={scrollCache:o,name:"left",distance:a}),d<=r&&this.everMovedRight&&o.canScrollRight()&&(!i||i.distance>d)&&(i={scrollCache:o,name:"right",distance:d}))}return i}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new Wv(!1):new ca(n,!1))}queryScrollEls(e){let n=[];for(let r of this.scrollQuery)typeof r=="object"?n.push(r):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return n}}class Ht extends Sp{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,qu(document.body),Zu(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let s=this.minDistance,o,{deltaX:l,deltaY:a}=i;o=l*l+a*a,o>=s*s&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,Qu(document.body),Xu(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new oa(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),n&&(r.selector=n),this.mirror=new Uv,this.autoScroller=new Vv}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class $v{constructor(e){this.el=e,this.origRect=Kr(e),this.scrollCaches=Sl(e).map(n=>new ca(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let r={left:e,top:n};for(let i of this.scrollCaches)if(!Gv(i.getEventTarget())&&!rp(r,i.clientRect))return!1;return!0}}function Gv(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class In{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):i.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Nn}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},r=n,i=e.subjectEl,s;i instanceof HTMLElement&&(s=Kr(i),r=ip(r,s));let o=this.initialHit=this.queryHitForOffset(r.left,r.top);if(o){if(this.useSubjectCenter&&s){let l=yl(s,o.rect);l&&(r=sp(l))}this.coordAdjust=op(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!On(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=Ce(this.droppableStore,e=>(e.component.prepareHits(),new $v(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:r,offsetTrackers:i}=this,s=null;for(let o in r){let l=r[o].component,a=i[o];if(a&&a.isWithinClipping(e,n)){let d=a.computeLeft(),c=a.computeTop(),f=e-d,u=n-c,{origRect:h}=a,v=h.right-h.left,p=h.bottom-h.top;if(f>=0&&f<v&&u>=0&&u<p){let g=l.queryHit(f,u,v,p);g&&Mn(g.dateProfile.activeRange,g.dateSpan.range)&&(this.disablePointCheck||a.el.contains(a.el.getRootNode().elementFromPoint(f+d-window.scrollX,u+c-window.scrollY)))&&(!s||g.layer>s.layer)&&(g.componentId=o,g.context=l.context,g.rect.left+=d,g.rect.right+=d,g.rect.top+=c,g.rect.bottom+=c,s=g)}}}return s}}function On(t,e){return!t&&!e?!0:!!t!=!!e?!1:Gh(t.dateSpan,e.dateSpan)}function da(t,e){let n={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(n,r(t,e));return Object.assign(n,Yv(t,e.dateEnv)),n}function Yv(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class qv extends vt{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:i}=this,s=r.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(s))},this.handleDragEnd=r=>{let{component:i}=this,{pointer:s}=this.dragging;if(!s.wasTouchScroll){let{initialHit:o,finalHit:l}=this.hitDragging;if(o&&l&&On(o,l)){let{context:a}=i,d=Object.assign(Object.assign({},da(o.dateSpan,a)),{dayEl:o.dayEl,jsEvent:r.origEvent,view:a.viewApi||a.calendarApi.view});a.emitter.trigger("dateClick",d)}}},this.dragging=new Ht(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new In(this.dragging,Zr(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class Qv extends vt{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=o=>{let{component:l,dragging:a}=this,{options:d}=l.context,c=d.selectable&&l.isValidDateDownEl(o.origEvent.target);a.setIgnoreMove(!c),a.delay=o.isTouch?Zv(l):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,l)=>{let{context:a}=this.component,d=null,c=!1;if(o){let f=this.hitDragging.initialHit;o.componentId===f.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(f,o)||(d=Xv(f,o,a.pluginHooks.dateSelectionTransformers)),(!d||!Rp(d,o.dateProfile,a))&&(c=!0,d=null)}d?a.dispatch({type:"SELECT_DATES",selection:d}):l||a.dispatch({type:"UNSELECT_DATES"}),c?Or():Lr(),l||(this.dragSelection=d)},this.handlePointerUp=o=>{this.dragSelection&&(cl(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:r}=n.context,i=this.dragging=new Ht(e.el);i.touchScrollAllowed=!1,i.minDistance=r.selectMinDistance||0,i.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new In(this.dragging,Zr(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function Zv(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function Xv(t,e,n){let r=t.dateSpan,i=e.dateSpan,s=[r.range.start,r.range.end,i.range.start,i.range.end];s.sort(nf);let o={};for(let l of n){let a=l(t,e);if(a===!1)return null;a&&Object.assign(o,a)}return o.range={start:s[0],end:s[3]},o.allDay=r.allDay,o}class jt extends vt{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let l=o.origEvent.target,{component:a,dragging:d}=this,{mirror:c}=d,{options:f}=a.context,u=a.context;this.subjectEl=o.subjectEl;let h=this.subjectSeg=pt(o.subjectEl),p=(this.eventRange=h.eventRange).instance.instanceId;this.relevantEvents=Gr(u.getCurrentData().eventStore,p),d.minDistance=o.isTouch?0:f.eventDragMinDistance,d.delay=o.isTouch&&p!==a.props.eventSelection?Jv(a):null,f.fixedMirrorParent?c.parentNode=f.fixedMirrorParent:c.parentNode=J(l,".fc"),c.revertDuration=f.dragRevertDuration;let g=a.isValidSegDownEl(l)&&!J(l,".fc-event-resizer");d.setIgnoreMove(!g),this.isDragging=g&&o.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=o=>{let l=this.component.context,a=this.eventRange,d=a.instance.instanceId;o.isTouch?d!==this.component.props.eventSelection&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:d}):l.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(l.calendarApi.unselect(o),l.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new V(l,a.def,a.instance),jsEvent:o.origEvent,view:l.viewApi}))},this.handleHitUpdate=(o,l)=>{if(!this.isDragging)return;let a=this.relevantEvents,d=this.hitDragging.initialHit,c=this.component.context,f=null,u=null,h=null,v=!1,p={affectedEvents:a,mutatedEvents:se(),isEvent:!0};if(o){f=o.context;let g=f.options;c===f||g.editable&&g.droppable?(u=Kv(d,o,this.eventRange.instance.range.start,f.getCurrentData().pluginHooks.eventDragMutationMassagers),u&&(h=Qr(a,f.getCurrentData().eventUiBases,u,f),p.mutatedEvents=h,Ml(p,o.dateProfile,f)||(v=!0,u=null,h=null,p.mutatedEvents=se()))):f=null}this.displayDrag(f,p),v?Or():Lr(),l||(c===f&&On(d,o)&&(u=null),this.dragging.setMirrorNeedsRevert(!u),this.dragging.setMirrorIsVisible(!o||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=f,this.validMutation=u,this.mutatedRelevantEvents=h)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=o=>{if(this.isDragging){let l=this.component.context,a=l.viewApi,{receivingContext:d,validMutation:c}=this,f=this.eventRange.def,u=this.eventRange.instance,h=new V(l,f,u),v=this.relevantEvents,p=this.mutatedRelevantEvents,{finalHit:g}=this.hitDragging;if(this.clearDrag(),l.emitter.trigger("eventDragStop",{el:this.subjectEl,event:h,jsEvent:o.origEvent,view:a}),c){if(d===l){let b=new V(l,p.defs[f.defId],u?p.instances[u.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:p});let w={oldEvent:h,event:b,relatedEvents:Ye(p,l,u),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:v})}},A={};for(let x of l.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(A,x(c,l));l.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},w),A),{el:o.subjectEl,delta:c.datesDelta,jsEvent:o.origEvent,view:a})),l.emitter.trigger("eventChange",w)}else if(d){let b={event:h,relatedEvents:Ye(v,l,u),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:v})}};l.emitter.trigger("eventLeave",Object.assign(Object.assign({},b),{draggedEl:o.subjectEl,view:a})),l.dispatch({type:"REMOVE_EVENTS",eventStore:v}),l.emitter.trigger("eventRemove",b);let w=p.defs[f.defId],A=p.instances[u.instanceId],x=new V(d,w,A);d.dispatch({type:"MERGE_EVENTS",eventStore:p});let _={event:x,relatedEvents:Ye(p,d,A),revert(){d.dispatch({type:"REMOVE_EVENTS",eventStore:p})}};d.emitter.trigger("eventAdd",_),o.isTouch&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:u.instanceId}),d.emitter.trigger("drop",Object.assign(Object.assign({},da(g.dateSpan,d)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:g.context.viewApi})),d.emitter.trigger("eventReceive",Object.assign(Object.assign({},_),{draggedEl:o.subjectEl,view:g.context.viewApi}))}}else l.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,i=this.dragging=new Ht(e.el);i.pointer.selector=jt.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new In(this.dragging,fr);s.useSubjectCenter=e.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let r=this.component.context,i=this.receivingContext;i&&i!==e&&(i===r?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:se(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}jt.SELECTOR=".fc-event-draggable, .fc-event-resizable";function Kv(t,e,n,r){let i=t.dateSpan,s=e.dateSpan,o=i.range.start,l=s.range.start,a={};i.allDay!==s.allDay&&(a.allDay=s.allDay,a.hasEnd=e.context.options.allDayMaintainDuration,s.allDay?o=U(n):o=n);let d=ot(o,l,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);d.milliseconds&&(a.allDay=!1);let c={datesDelta:d,standardProps:a};for(let f of r)f(c,t,e);return c}function Jv(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class e0 extends vt{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let{component:o}=this,l=this.querySegEl(s),a=pt(l),d=this.eventRange=a.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(s.origEvent.target)||s.isTouch&&this.component.props.eventSelection!==d.instance.instanceId)},this.handleDragStart=s=>{let{context:o}=this.component,l=this.eventRange;this.relevantEvents=Gr(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let a=this.querySegEl(s);this.draggingSegEl=a,this.draggingSeg=pt(a),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:a,event:new V(o,l.def,l.instance),jsEvent:s.origEvent,view:o.viewApi})},this.handleHitUpdate=(s,o,l)=>{let{context:a}=this.component,d=this.relevantEvents,c=this.hitDragging.initialHit,f=this.eventRange.instance,u=null,h=null,v=!1,p={affectedEvents:d,mutatedEvents:se(),isEvent:!0};s&&(s.componentId===c.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(c,s)||(u=t0(c,s,l.subjectEl.classList.contains("fc-event-resizer-start"),f.range))),u&&(h=Qr(d,a.getCurrentData().eventUiBases,u,a),p.mutatedEvents=h,Ml(p,s.dateProfile,a)||(v=!0,u=null,h=null,p.mutatedEvents=null)),h?a.dispatch({type:"SET_EVENT_RESIZE",state:p}):a.dispatch({type:"UNSET_EVENT_RESIZE"}),v?Or():Lr(),o||(u&&On(c,s)&&(u=null),this.validMutation=u,this.mutatedRelevantEvents=h)},this.handleDragEnd=s=>{let{context:o}=this.component,l=this.eventRange.def,a=this.eventRange.instance,d=new V(o,l,a),c=this.relevantEvents,f=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:d,jsEvent:s.origEvent,view:o.viewApi}),this.validMutation){let u=new V(o,f.defs[l.defId],a?f.instances[a.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:f});let h={oldEvent:d,event:u,relatedEvents:Ye(f,o,a),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:c})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},h),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||P(0),endDelta:this.validMutation.endDelta||P(0),jsEvent:s.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",h)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,r=this.dragging=new Ht(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.context.options.dragScroll;let i=this.hitDragging=new In(this.dragging,Zr(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return J(e.subjectEl,".fc-event")}}function t0(t,e,n,r){let i=t.context.dateEnv,s=t.dateSpan.range.start,o=e.dateSpan.range.start,l=ot(s,o,i,t.largeUnit);if(n){if(i.add(r.start,l)<r.end)return{startDelta:l}}else if(i.add(r.end,l)>r.start)return{endDelta:l};return null}class n0{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let i=this.context.options.unselectCancel,s=Bo(r.origEvent);this.matchesCancel=!!J(s,i),this.matchesEvent=!!J(s,jt.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:i}=this,{documentPointer:s}=this,o=i.getCurrentData();if(!s.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let l=i.options.unselectAuto;l&&(!l||!this.matchesCancel)&&i.calendarApi.unselect(r)}o.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new oa(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const r0={fixedMirrorParent:y},i0={dateClick:y,eventDragStart:y,eventDragStop:y,eventDrop:y,eventResizeStart:y,eventResizeStop:y,eventResize:y,drop:y,eventReceive:y,eventLeave:y};ti.dataAttrPrefix="";var s0=xe({name:"@fullcalendar/interaction",componentInteractions:[qv,Qv,jt,e0],calendarInteractions:[n0],elementDraggingImpl:Ht,optionRefiners:r0,listenerRefiners:i0});const o0={class:"calendar-wrapper m-4 max-h-[calc(100vh-100px)] overflow-y-auto"},l0=Ke({__name:"CalendarView",props:{data:{}},emits:["select:ticket"],setup(t,{emit:e}){const n=t,r=e,i=["#DBEAFE","#DCFCE7","#FEF3C7","#FCE7F3","#EDE9FE","#ECFEFF","#FFE4E6"],s=te(()=>n.data.filter(l=>l["start-date"]).map((l,a)=>{const d=i[a%i.length];return{id:l._id,title:l["card-title"],start:l["start-date"],allDay:!0,backgroundColor:d,borderColor:d,textColor:"#374151",extendedProps:{card:l}}})),o=te(()=>({plugins:[Km,Hv,s0],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},events:s.value,dayMaxEventRows:!0,eventDisplay:"block",eventClick(l){r("select:ticket",l.event.extendedProps.card)}}));return(l,a)=>(N(),I("div",o0,[Be(xt(wm),{options:o.value,onSelectCard:a[0]||(a[0]=()=>{})},null,8,["options"])]))}}),p0=ga(l0,[["__scopeId","data-v-8c3ddf00"]]),a0={class:"max-h-[calc(100vh-100px)]"},g0=Ke({__name:"GanttChartView",props:{data:{}},emits:["select:ticket"],setup(t,{emit:e}){const n=t,r=["#DBEAFE","#DCFCE7","#FEF3C7","#FCE7F3","#EDE9FE","#ECFEFF","#FFE4E6"],i={id:"TaskID",name:"TaskName",startDate:"StartDate",endDate:"EndDate",duration:"Duration",progress:"Progress",child:"subtasks"},s=te(()=>n.data.map((a,d)=>{const c=new Date(a["start-date"]),f=a["end-date"]?new Date(a["end-date"]):c,u=Math.ceil((f.getTime()-c.getTime())/(1e3*60*60*24))||1,h=r[d%r.length];return{TaskID:a._id,TaskName:a["card-title"],StartDate:c,EndDate:f,Duration:u,Progress:0,barColor:h,foreground:"#374151",extendedProps:{card:a}}})),o=e,l=a=>{const d=a.data.extendedProps.card;o("select:ticket",d)};return(a,d)=>{const c=Pn("e-column"),f=Pn("e-columns"),u=Pn("ejs-gantt");return N(),I("div",a0,[Be(u,{ref:"ganttRef",dataSource:s.value,treeColumnIndex:1,taskFields:i,height:"100%",onRowSelected:l},{default:Ti(()=>[Be(f,null,{default:Ti(()=>[Be(c,{field:"TaskID",headerText:"Task ID",textAlign:"Right",width:"70"}),Be(c,{field:"TaskName",headerText:"Task Name",textAlign:"Left",width:"200"}),Be(c,{field:"StartDate",headerText:"Start Date",textAlign:"Right",format:"yMd",width:"90"}),Be(c,{field:"Duration",headerText:"Duration",textAlign:"Right",width:"80"})]),_:1})]),_:1},8,["dataSource"])])}}});export{p0 as C,u0 as _,g0 as a,f0 as b,h0 as c,be as k};
