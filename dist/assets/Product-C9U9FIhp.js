const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CreateTaskModal-CmGBgQqM.js","assets/CreateTaskModal.vue_vue_type_script_setup_true_lang-Dgi7AjOf.js","assets/index-CjFOheYc.js","assets/index-zy91lDT_.css","assets/CreateSheetModal-7z_ySQHq.js","assets/IconPicker-B2Rp1fUw.js","assets/IconPicker-CEGnc4Pm.css","assets/AudioRecorder.vue_vue_type_script_setup_true_lang-Cn9e1XhV.js","assets/CreateSheetModal--7RYCgy-.css","assets/CreateVariableModal--mHbYbNW.js","assets/ConfirmDeleteModal-nQGKykDJ.js","assets/ConfirmDeleteModal.vue_vue_type_script_setup_true_lang-C0WwgO6a.js","assets/SidePanel-BwVq6glf.js","assets/SidePanel-B9Da9iSb.css","assets/KanbanBoard-IQaCmy6s.js","assets/lodash-B3d4OLnQ.js","assets/DropMenu.vue_vue_type_script_setup_true_lang-Dg2eb-kj.js","assets/KanbanBoard-CCl7J72V.css"])))=>i.map(i=>d[i]);
import{d as Be,R as _e,n as H,r as p,c as T,j as v,f as n,F as M,y as N,a8 as xe,t as we,k as h,h as Z,z as re,g as ee,C as ke,J as pt,M as ft,e as F,aS as gt,o as d,ah as yt,at as k,T as _t,K as xt,Y as wt,$ as kt,b as ht,a2 as Ct,u as Vt,ae as Dt,a3 as St,a4 as Et,af as Tt,Z as Lt,W as At,H as ze,b2 as $t,N as Mt,be as It,ac as Pt,a0 as zt,bf as Ot,i as $,w as J,p as i,D as Oe,a5 as q,ab as Rt,_ as Ut,B as Bt,a6 as K,q as Nt,I as qt}from"./index-CjFOheYc.js";import{D as Re,K as Kt}from"./Dropdown-CfgwxemG.js";import{_ as Ft}from"./SearchBar.vue_vue_type_script_setup_true_lang-DdW8Lb5L.js";import{K as Ht}from"./KanbanTicket-oOzD6KgL.js";import{F as Ue}from"./fuse-Ch1WBRTM.js";import{l as Wt}from"./lodash-B3d4OLnQ.js";import"./ConfirmDeleteModal.vue_vue_type_script_setup_true_lang-C0WwgO6a.js";import"./DropMenu.vue_vue_type_script_setup_true_lang-Dg2eb-kj.js";const jt={class:"kanban-table space-y-4 px-4 h-[85vh] overflow-y-auto"},Qt={class:"w-full table-fixed border-collapse rounded-md shadow-sm bg-bg-body/20 text-sm border border-border/60"},Xt={class:"bg-bg-surface border-b border-border sticky top-[-1px] z-10"},Yt={class:"text-text-secondary"},Gt=["onMousedown"],Jt={class:"w-10 p-2 text-center relative"},Zt={class:"relative inline-block"},ea={key:0,class:"column-menu absolute w-[200px] right-0 mt-2 bg-bg-surface border border-border rounded shadow p-2 z-50"},ta=["onClick"],aa={class:"bg-bg-surface/20"},la=["onClick"],sa=["colspan"],na=["onMouseenter"],oa=["onUpdate:modelValue","onBlur"],ra=["colspan"],da=Be({__name:"TableView",props:{columns:{},rows:{},isPending:{type:Boolean},canCreate:{type:Boolean,default:!0},canCreateVariable:{type:Boolean,default:!0}},emits:["update:rows","create","toggleVisibility","addVar"],setup(he,{emit:de}){const L=he,V=de,y=_e(L.rows||[]);H(()=>L.rows,a=>{a&&y.splice(0,y.length,...a)});const b=_e({id:null,field:""}),D=p(null),te=p(null),S=T(()=>y.some(a=>b.id===a.id&&!a[b.field])),ie=(a,l)=>{b.id=a.id,b.field=l,yt(()=>{var s;return(s=te.value)==null?void 0:s.focus()})},ue=()=>{b.id=null,b.field=""},ce=a=>{var l;if(!((l=a[b.field])!=null&&l.trim())){const s=y.findIndex(f=>f.id===a.id);s!==-1&&y.splice(s,1)}ue(),V("update:rows",y.slice()),V("create",a)},W=a=>{var s;const l={id:Date.now()};L.columns.forEach(f=>l[f.key]=""),y.splice(a,0,l),ie(l,((s=L.columns[0])==null?void 0:s.key)||""),D.value=null,V("update:rows",y.slice())};function ve(a,l){if(!(!a||!l))return l.includes(".")?l.split(".").reduce((s,f)=>s==null?s:s[f],a):a[l]}function me(a,l){return l!=null&&l.accessor?l.accessor(a):ve(a,l.key)}const I=a=>{var s;const l=me(a.row,a.column);return(s=a.column)!=null&&s.render?a.column.render({row:a==null?void 0:a.row,column:a==null?void 0:a.column,value:l,index:a==null?void 0:a.index}):k("span",String(l??""))},C=_e({});H(()=>L.columns,a=>{a.forEach((l,s)=>{s==0?C[l.key]=null:C[l.key]||(C[l.key]=150)})},{immediate:!0});let x=null,A=0,P=0;const be=(a,l)=>{x=l,A=a.clientX,P=C[l],document.addEventListener("mousemove",j),document.addEventListener("mouseup",U)},j=a=>{if(!x)return;const l=a.clientX-A,s=Math.max(80,P+l);C[x]=s},U=()=>{x=null,document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",U)};document.addEventListener("click",a=>{a.target.closest(".column-menu")||(z.value=!1)});const g=p(L.columns.filter(a=>a.visible??!0).map(a=>a.key)),E=T(()=>L.columns.filter(a=>g.value.includes(a.key))),z=p(!1);document.addEventListener("click",a=>{a.target.closest(".column-menu")||(z.value=!1)});const pe=a=>{const l=g.value.indexOf(a);l===-1?(V("toggleVisibility",a,!0),g.value.push(a)):(V("toggleVisibility",a,!1),g.value.splice(l,1))};return(a,l)=>(d(),v("div",jt,[n("table",Qt,[n("thead",Xt,[n("tr",Yt,[l[8]||(l[8]=n("th",{class:"w-2 p-0"},null,-1)),(d(!0),v(M,null,N(E.value,s=>(d(),v("th",{key:s==null?void 0:s.key,class:"relative font-bold p-2 uppercase text-left text-[11px] tracking-wide border-r border-border/40 select-none whitespace-nowrap min-w-[200px]",style:xe({width:C[s.key]?C[s.key]+"px":"100%"})},[n("span",null,we(s==null?void 0:s.label),1),n("div",{class:"absolute right-0 top-0 h-full w-2 cursor-col-resize z-30 hover:bg-accent/20 active:bg-accent/40 transition",onMousedown:f=>be(f,s.key)},null,40,Gt)],4))),128)),n("th",Jt,[n("div",Zt,[n("button",{onClick:l[0]||(l[0]=Z(s=>z.value=!z.value,["stop"])),class:"p-1 rounded hover:bg-bg-surface/50 cursor-pointer"},l[6]||(l[6]=[n("i",{class:"fa-regular fa-columns-3"},null,-1)])),z.value?(d(),v("div",ea,[(d(!0),v(M,null,N(L.columns,s=>(d(),v("div",{key:"toggle-"+s.key,class:"flex items-center space-x-2"},[n("span",{onClick:f=>pe(s.key),class:"cursor-pointer text-lg"},[n("i",{class:re(g.value.includes(s.key)?"fa-solid fa-eye":"fa-solid fa-eye-slash")},null,2)],8,ta),n("span",null,we(s.label),1)]))),128)),a.canCreateVariable?(d(),v("div",{key:0,onClick:l[1]||(l[1]=s=>V("addVar")),class:"sticky bottom-0 bg-bg-dropdown shadow-md shadow-border capitalize border-t border-border px-4 py-2 hover:bg-bg-dropdown-menu-hover cursor-pointer flex items-center gap-1 overflow-hidden overflow-ellipsis text-nowrap"},l[7]||(l[7]=[n("i",{class:"fa-solid fa-plus"},null,-1),ee(" Add new ")]))):h("",!0)])):h("",!0)])])])]),n("tbody",aa,[a.isPending?(d(),v(M,{key:0},N(5,s=>n("tr",{key:"sk-"+s,class:"border-b border-border animate-pulse"},[l[10]||(l[10]=n("td",{class:"p-3"},[n("div",{class:"w-4 h-4 bg-bg-surface rounded"})],-1)),(d(!0),v(M,null,N(a.columns,f=>(d(),v("td",{key:f.key,class:"p-3 border-r border-border",style:xe({width:C[f.key]+"px"})},l[9]||(l[9]=[n("div",{class:"w-full h-4 bg-bg-surface rounded"},null,-1)]),4))),128))])),64)):(d(!0),v(M,{key:1},N(y,(s,f)=>{var _;return d(),v(M,{key:s==null?void 0:s.id},[D.value===f&&!S.value?(d(),v("tr",{key:0,class:"relative bg-bg-surface/20 transition-all cursor-pointer border border-accent",onMouseleave:l[2]||(l[2]=u=>D.value=null)},[n("td",{class:"!p-0 w-8",onClick:u=>W(f)},l[11]||(l[11]=[n("span",{class:"absolute left-[-6px] top-[-6px] bg-bg-surface border border-border w-6 h-6 text-sm rounded-md flex justify-center items-center shadow-sm hover:bg-bg-surface/70"},"+",-1)]),8,la),n("td",{class:"!p-0",colspan:(_=a.columns)==null?void 0:_.length},null,8,sa)],32)):h("",!0),n("tr",{onMouseenter:u=>D.value=f,class:"border-b border-border !bg-bg-surface/20 hover:bg-bg-surface/40 transition-colors"},[l[12]||(l[12]=n("td",{class:"p-2"},null,-1)),(d(!0),v(M,null,N(E.value,u=>(d(),v("td",{key:u==null?void 0:u.key,class:"p-2 border-r border-border truncate",style:xe({width:C[u.key]+"px"})},[(b==null?void 0:b.id)===(s==null?void 0:s.id)&&(b==null?void 0:b.field)===(u==null?void 0:u.key)?ke((d(),v("input",{key:0,"onUpdate:modelValue":w=>s[u==null?void 0:u.key]=w,onBlur:w=>ce(s),class:"w-full p-1 border border-border/60 rounded-sm focus:outline-none focus:ring-2 focus:ring-blue-300 bg-bg-surface",ref_for:!0,ref:w=>w&&(b==null?void 0:b.id)===(s==null?void 0:s.id)&&(b==null?void 0:b.field)===(u==null?void 0:u.key)&&(te.value=w)},null,40,oa)),[[ft,s[u==null?void 0:u.key]]]):pt(a.$slots,u.key,{key:2,row:s,column:u,index:`r-${s._id}`},()=>[(d(),F(gt(I),{row:s,column:u,index:s._id},null,8,["row","column","index"]))])],4))),128))],40,na)],64)}),128)),!S.value&&a.canCreate?(d(),v("tr",{key:2,onClick:l[3]||(l[3]=s=>W(y==null?void 0:y.length)),class:"sticky bottom-0 bg-bg-surface border-t border-border cursor-pointer transition hover:bg-bg-surface/70",onMouseenter:l[4]||(l[4]=s=>D.value=y==null?void 0:y.length),onMouseleave:l[5]||(l[5]=s=>D.value=null)},[n("td",{colspan:a.columns.length,class:"p-2 text-text-secondary"},l[13]||(l[13]=[n("span",{class:"inline-flex w-5 h-5 border border-border rounded-full justify-center items-center text-secondary hover:bg-bg-surface/50 transition"},"+",-1),ee(" Add New Row ")]),8,ra)],32)):h("",!0)])])]))}}),ia={class:"flex-auto bg-gradient-to-b from-bg-card/95 to-bg-card/90 backdrop-blur rounded-[6px] shadow-[0_10px_40px_-10px_rgba(0,0,0,.5)] flex-grow h-full bg-bg-card border border-border overflow-x-auto flex-col flex scrollbar-visible"},ua={class:"header px-4 py-3 border-b border-border flex items-center justify-between gap-1"},ca={class:"flex gap-3 items-center"},va={class:"flex items-center gap-3 bg-bg-surface/50 h-[32px] px-2 rounded-md"},ma={class:"flex overflow-x-auto gap-3 p-4 scrollbar-visible"},ba={key:0,class:"mx-auto text-text-secondary/80 m-2 w-[90%] h-full justify-center flex items-center border border-dashed border-border"},pa={key:0,class:"bg-bg-body rounded-lg p-4"},fa={class:"flex items-center mt-3 gap-3"},ga=["disabled"],ya=Be({__name:"Product",setup(he){const{canEditSheet:de,canDeleteSheet:L,canCreateVariable:V,canCreateSheet:y,canCreateCard:b,canEditCard:D,canAssignCard:te}=_t(),S=p("kanban"),ie=q(()=>K(()=>import("./CreateTaskModal-CmGBgQqM.js"),__vite__mapDeps([0,1,2,3]))),ue=q(()=>K(()=>import("./CreateSheetModal-7z_ySQHq.js"),__vite__mapDeps([4,2,3,5,6,7,8]))),ce=q(()=>K(()=>import("./CreateVariableModal--mHbYbNW.js"),__vite__mapDeps([9,2,3]))),W=q(()=>K(()=>import("./ConfirmDeleteModal-nQGKykDJ.js"),__vite__mapDeps([10,11,2,3]))),ve=q(()=>K(()=>import("./SidePanel-BwVq6glf.js"),__vite__mapDeps([12,2,3,13]))),me=q(()=>K(()=>import("./KanbanBoard-IQaCmy6s.js"),__vite__mapDeps([14,15,2,3,16,11,17]))),I=p(!1),C=Nt(),{workspaceId:x,moduleId:A}=xt(),{data:P,refetch:be,isPending:j}=wt({workspace_id:x,workspace_module_id:A}),U=T(()=>{var t;return P.value?(t=P.value[0])==null?void 0:t._id:""}),g=p(U.value),{data:E,isPending:z}=kt(x.value,A.value,g),pe=ht(),{mutate:a,isPending:l}=Ct({onSuccess:()=>{pe.invalidateQueries({queryKey:["sheet-list"]}),se.value="",B.value=!1,le.value=!1,B.value=!1}}),s=t=>{a({workspace_id:x.value,module_id:A.value,variable_id:_.value,value:t})};H(U,()=>{g.value=U.value});const f=T(()=>{var t;return E!=null&&E.value?(t=E==null?void 0:E.value[0])==null?void 0:t._id:""}),_=p(f.value);H(f,()=>{_.value=f.value});const u=Vt(),{data:w,isPending:fe}=Dt(A,g,T(()=>[...u.selectedLaneIds]),_),ae=p(!1),Q=p(),ge=t=>{Q.value=t},X=p(!1),Ne=()=>{R.value={},X.value=!X.value},qe=St(),Ke=Et();function Fe(t){t.type=="column"?qe.mutate({payload:{workspace_id:x.value,workspace_module_id:A.value,variable_id:_.value,moved_value:t.meta.id,new_index:t.meta.newIndex}}):Ke.mutate({payload:{workspace_id:x.value,card_id:t.meta.moved._id,group_value:t.meta.fromColumnId,group_variable_id:_.value,new_index:t.meta.newIndex,sheet_id:g.value}})}const He=t=>{},We=T(()=>(P.value||[]).map(t=>({_id:t._id,title:t==null?void 0:t.variables["sheet-title"],description:t==null?void 0:t.variables["sheet-description"],icon:t.icon,status:t==null?void 0:t.generation_status})));H(P,t=>{var e;(t==null?void 0:t.length)>0&&(g.value=(e=t[0])==null?void 0:e._id)});const le=p(!1),se=p("");function Ce(){le.value=!le.value}function Ve(){const t=se.value.trim();t&&s(t)}const je=t=>{a({workspace_id:C.params.id,module_id:C.params.module_id,new_value:t.title,value:t.oldTitle,variable_id:_.value})},B=p(!1),O=p(),Qe=()=>{a({value:O.value.title,workspace_id:x.value,module_id:A.value,newValue:O.value.title,variable_id:_.value,is_trash:!0})},Xe=t=>{B.value=!0,O.value=t},Ye=t=>{ae.value=!0,O.value=t},Y=p(!1),R=p();function Ge(t){Y.value=!0,R.value=t}const{mutate:Je,isPending:Ze}=Tt({onSuccess:()=>{be(),Y.value=!1}});function et(){var t;Je({sheet_id:(t=R.value)==null?void 0:t._id,workspace_module_id:A.value,is_trash:!0})}function tt(t){X.value=!0,R.value=t}const G=p(""),at=p("");H(G,Wt.debounce(t=>{at.value=t},200));const lt=T(()=>{const t=w.value.flatMap(e=>e.cards.map(o=>({...o,columnId:e.title})));return new Ue(t,{keys:["card-title","card-description"],threshold:.3})}),De=T(()=>{var t;if(S.value==="kanban"){if(!G.value)return w.value;const e=lt.value.search(G.value).map(o=>o.item);return w.value.map(o=>({...o,cards:e.filter(c=>c.columnId===o.title)}))}else{const e=(t=G.value)==null?void 0:t.trim();if(!e){let c=[];return(w.value??[]).forEach(m=>{c=[...c,...m==null?void 0:m.cards]}),c}return new Ue(rt.value,{keys:["card-title","card-description"],threshold:.3}).search(e).map(c=>c.item)}}),{data:ye}=Lt(x),st=T(()=>((ye==null?void 0:ye.value)??[]).map(t=>{var e;return{_id:t._id,title:((e=t==null?void 0:t.variables)==null?void 0:e["lane-title"])??String(t._id)}})),nt=T(()=>{var t;return[{key:"card-title",label:"Title",render:({row:e,value:o})=>k("div",[k("a",{onClick:()=>{Q.value=e},class:"text-sm underline text-blue-500 w-full overflow-ellipsis cursor-pointer"},e["card-code"]),k("input",{onFocusout:c=>{var m;Se(e==null?void 0:e._id,"card-title",(m=c==null?void 0:c.target)==null?void 0:m.value)},class:"text-sm w-full overflow-ellipsis cursor-pointer text-text-primary capitalize outline-none border-none focus:border active:bg-bg-surface focus:bg-bg-card backdrop-blur focus:border-accent p-1 rounded-md",defaultValue:o,disabled:!D.value})])},{key:"end-date",label:"Due Date",render:({row:e,value:o})=>{const c=p(o);return k(At,{class:" capitalize flex items-center gap-2 ",placeholder:"Set start date",modelValue:c.value,disabled:!D.value,"onUpdate:modelValue":m=>ct(e==null?void 0:e._id,m)})}},{key:"lane",label:"Lane",render:({row:e,value:o})=>k(ze,{class:"capitalize flex items-center gap-2 ",size:"sm",options:st.value??[],placeholder:"Select lane",allowCustom:!1,canEditCard:!D.value,modelValue:o==null?void 0:o._id,"onUpdate:modelValue":c=>vt(e==null?void 0:e._id,c)})},{key:"created_by",label:"Owner",render:({value:e})=>k("div",{class:"capitalize flex items-center gap-2 "},[k("div",{class:" rounded-full  "},[e!=null&&e.u_profile_image?k("img",{class:"w-6 h-6 rounded-full",src:e==null?void 0:e.u_profile_image}):k("div",{class:"w-6 h-6 rounded-full flex justify-center items-center ",style:`background:${e!=null&&e.u_full_name?$t({name:e.u_full_name,email:e.u_email}):""}`},Mt(e==null?void 0:e.u_full_name))]),k("span",e?e==null?void 0:e.u_full_name:"")])},{key:"seat",label:"Assignee",render:({row:e,value:o})=>k(It,{class:"capitalize flex items-center gap-2 ",onAssign:c=>ot(e==null?void 0:e._id,c),assigneeId:o,seat:o,name:!0,disabled:!te.value})},...((t=E.value)==null?void 0:t.filter(e=>{var o;return((o=e==null?void 0:e.type)==null?void 0:o.title)==="Select"}).map(e=>({key:e==null?void 0:e.slug,label:e==null?void 0:e.slug,render:({row:o,value:c})=>{const m=p(c);return k("div",{class:"capitalize flex items-center gap-2"},[k(ze,{class:"w-full border-none",options:dt(e.data??[]),size:"sm",modelValue:m==null?void 0:m.value,defaultValue:m==null?void 0:m.value,canEditCard:!D.value,onUpdate:oe=>{Se(o==null?void 0:o._id,e.slug,oe)}})])},visible:e==null?void 0:e.is_visible})))??[]]}),ot=(t,e)=>{console.log(t,e,">>>> card >>>"),ne.mutate({card_id:t,seat_id:e==null?void 0:e._id})},rt=T(()=>{let t=[];return(w.value??[]).forEach(e=>{t=[...t,...e==null?void 0:e.cards]}),t}),dt=t=>t.map(e=>({_id:e.value??e,title:e.value??e})),ne=Pt({onSuccess:()=>{}});function Se(t,e,o){ne.mutate({card_id:t,variables:{[e]:o.trim()}})}const{mutate:it}=zt({onSuccess:()=>{}});function ut(t){if(t["card-title"]){const e={sheet_list_id:"To Do",workspace_id:x.value,sheet_id:g.value,variables:{"card-title":t["card-title"].trim()},createdAt:new Date().toISOString()};it(e)}}const ct=(t,e)=>{const o=w.value.findIndex(c=>c.cards.some(m=>m._id===t));if(o!==-1){const c=w.value[o].cards.findIndex(m=>m._id===t);c!==-1&&(w.value[o].cards[c]["end-date"]=e)}ne.mutate({card_id:t,variables:{"start-date":e}})};function vt(t,e){ne.mutate({card_id:t,workspace_lane_id:e})}const{mutate:mt}=Ot(),bt=(t,e)=>{mt({payload:{sheet_id:g.value,workspace_id:x.value,variable_slug:t,is_visible:e}})};return(t,e)=>{var o,c,m,oe,Ee,Te,Le;return d(),v(M,null,[n("div",ia,[n("div",ua,[$(Re,{onEditOption:tt,modelValue:g.value,"onUpdate:modelValue":e[1]||(e[1]=r=>g.value=r),canEdit:i(de),canDelete:i(L),onDeleteOption:Ge,options:We.value,variant:"secondary"},{more:J(()=>[i(y)?(d(),v("div",{key:0,onClick:e[0]||(e[0]=r=>Ne()),class:"capitalize border-t border-border px-4 py-2 hover:bg-bg-dropdown-menu-hover cursor-pointer flex items-center gap-1 overflow-hidden overflow-ellipsis text-nowrap"},e[23]||(e[23]=[n("i",{class:"fa-solid fa-plus"},null,-1),ee(" Add new ")]))):h("",!0)]),_:1},8,["modelValue","canEdit","canDelete","options"]),n("div",ca,[S.value=="kanban"?(d(),F(Re,{key:0,actions:!1,prefix:"View by",modelValue:_.value,"onUpdate:modelValue":e[3]||(e[3]=r=>_.value=r),options:i(E),variant:"secondary"},{more:J(()=>[i(V)?(d(),v("div",{key:0,onClick:e[2]||(e[2]=()=>{I.value=!0}),class:"sticky bottom-0 bg-bg-dropdown shadow-md shadow-border capitalize border-t border-border px-4 py-2 hover:bg-bg-dropdown-menu-hover cursor-pointer flex items-center gap-1 overflow-hidden overflow-ellipsis text-nowrap"},e[24]||(e[24]=[n("i",{class:"fa-solid fa-plus"},null,-1),ee(" Add new ")]))):h("",!0)]),_:1},8,["modelValue","options"])):h("",!0),$(Ft,{onOnChange:e[4]||(e[4]=r=>{G.value=r}),placeholder:"Search in Orchit AI space"}),n("div",va,[n("button",{class:re(["aspect-square cursor-pointer rounded-sm p-0 px-0.5",S.value==="kanban"?"text-accent bg-accent-text":" hover:bg-border/50 backdrop-blur-2xl  transition-all duration-75 hover:outline-border hover:outline hover:text-accent"]),title:"List view",onClick:e[5]||(e[5]=r=>S.value="kanban")},e[25]||(e[25]=[n("i",{class:"fa-solid fa-chart-kanban"},null,-1)]),2),n("button",{onClick:e[6]||(e[6]=r=>S.value="table"),class:re(["aspect-square cursor-pointer rounded-sm p-0 px-0.5",S.value==="table"?"text-accent bg-accent-text":"hover:bg-border/50 backdrop-blur-2xl transition-all duration-75 hover:outline-border hover:outline hover:text-accent"]),title:"Gallery view"},e[26]||(e[26]=[n("i",{class:"fa-solid fa-align-left"},null,-1)]),2)])])]),S.value=="kanban"?(d(),v(M,{key:0},[ke($(Kt,null,null,512),[[Oe,i(fe)||i(j)]]),ke(n("div",ma,[$(i(me),{onOnPlus:Ye,board:De.value,"onDelete:column":e[7]||(e[7]=r=>Xe(r)),"onUpdate:column":e[8]||(e[8]=r=>je(r)),onReorder:Fe,onAddColumn:s,"onSelect:ticket":ge,onOnBoardUpdate:He,variable_id:_.value,sheet_id:g.value},{"column-footer":J(r=>{var Ae,$e,Me,Ie,Pe;return[($e=(Ae=i(u))==null?void 0:Ae.transitions)!=null&&$e.all_allowed&&!((Pe=(Ie=(Me=i(u))==null?void 0:Me.transitions)==null?void 0:Ie.all_allowed)!=null&&Pe.includes(r.column.title))&&i(u).transitions.currentColumn!=r.column.title?(d(),v("div",ba," Disbale ( you can't drop here )")):h("",!0)]}),ticket:J(({ticket:r})=>[$(Ht,{selectedVar:_.value,onSelect:()=>{ge(r)},ticket:r},null,8,["selectedVar","onSelect","ticket"])]),_:1},8,["board","variable_id","sheet_id"]),n("div",{class:"min-w-[328px]",onClick:e[10]||(e[10]=Z(()=>{},["stop"]))},[le.value?(d(),v("div",pa,[$(Ut,{autofocus:!0,modelValue:se.value,"onUpdate:modelValue":e[9]||(e[9]=r=>se.value=r),placeholder:"Add New list",onKeyup:Rt(Ve,["enter"])},null,8,["modelValue"]),e[27]||(e[27]=n("p",{class:"text-xs mt-1.5"},"You can add details while editing",-1)),n("div",fa,[$(Bt,{onClick:Ve,varaint:"primary",class:"px-3 py-1 bg-accent cursor-pointer text-white rounded"},{default:J(()=>[ee(we(i(l)?"Adding...":"Add list"),1)]),_:1}),n("i",{class:"fa-solid fa-close",onClick:Ce})])])):(d(),v("button",{key:1,disabled:!i(V),class:re(["text-sm text-text-primary py-2.5 font-medium flex items-center justify-center w-full gap-2 bg-bg-body rounded-lg",i(V)?"cursor-pointer":"cursor-not-allowed"]),onClick:Z(Ce,["stop"])}," + Add List ",10,ga))])],512),[[Oe,!i(fe)&&!i(j)]])],64)):h("",!0),S.value=="table"?(d(),F(da,{key:1,onToggleVisibility:bt,onAddVar:e[11]||(e[11]=()=>{I.value=!0}),isPending:i(fe)||i(z),columns:nt.value,rows:De.value,canCreate:i(b),canCreateVariable:i(V),onCreate:ut},null,8,["isPending","columns","rows","canCreate","canCreateVariable"])):h("",!0)]),$(i(W),{onClick:e[12]||(e[12]=Z(()=>{},["stop"])),modelValue:B.value,"onUpdate:modelValue":e[13]||(e[13]=r=>B.value=r),title:"Delete List",itemLabel:"list",itemName:(o=O.value)==null?void 0:o.title,requireMatchText:(c=O.value)==null?void 0:c.title,confirmText:"Delete List",cancelText:"Cancel",size:"md",loading:i(l),onConfirm:Qe,onCancel:e[14]||(e[14]=()=>{B.value=!1})},null,8,["modelValue","itemName","requireMatchText","loading"]),ae.value?(d(),F(i(ie),{selectedVariable:_.value,listId:(m=O.value)==null?void 0:m.title,sheet_id:g.value,key:"createTaskModalKey",modelValue:ae.value,"onUpdate:modelValue":e[15]||(e[15]=r=>ae.value=r),onSubmit:e[16]||(e[16]=()=>{})},null,8,["selectedVariable","listId","sheet_id","modelValue"])):h("",!0),(oe=Q.value)!=null&&oe._id?(d(),F(i(ve),{key:1,details:Q.value,onClose:e[17]||(e[17]=()=>{ge({variables:{}})}),showPanel:!!((Ee=Q.value)!=null&&Ee._id)},null,8,["details","showPanel"])):h("",!0),$(i(ue),{size:"md",sheet:R.value,modelValue:X.value,"onUpdate:modelValue":e[18]||(e[18]=r=>X.value=r)},null,8,["sheet","modelValue"]),I.value?(d(),F(i(ce),{key:2,modelValue:I.value,"onUpdate:modelValue":e[19]||(e[19]=r=>I.value=r),sheetID:g.value},null,8,["modelValue","sheetID"])):h("",!0),$(i(W),{onClick:e[20]||(e[20]=Z(()=>{},["stop"])),modelValue:Y.value,"onUpdate:modelValue":e[21]||(e[21]=r=>Y.value=r),title:"Delete Sheet",itemLabel:"Sheet",itemName:(Te=R.value)==null?void 0:Te.title,requireMatchText:(Le=R.value)==null?void 0:Le.title,confirmText:"Delete Sheet",cancelText:"Cancel",size:"md",loading:i(Ze),onConfirm:et,onCancel:e[22]||(e[22]=()=>{Y.value=!1})},null,8,["modelValue","itemName","requireMatchText","loading"])],64)}}}),Sa=qt(ya,[["__scopeId","data-v-1215ed38"]]);export{Sa as default};
