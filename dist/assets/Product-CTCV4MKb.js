const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CreateTaskModal-DPK_4BUQ.js","assets/CreateTaskModal.vue_vue_type_script_setup_true_lang-BXLrInBo.js","assets/index-BZn88Tk7.js","assets/index-BrDZX1sQ.css","assets/BaseModal-Lpve6HiZ.js","assets/cross-DvraoB0R.js","assets/BaseModal-FRlOKCB_.css","assets/BaseTextField.vue_vue_type_script_setup_true_lang-DmEZLbRb.js","assets/info-DjaLHeD_.js","assets/BaseSelectField.vue_vue_type_script_setup_true_lang-CfXGO0EQ.js","assets/KanbanSkeleton-Z7y0jmeQ.js","assets/index-BgzE4qkI.js","assets/KanbanSkeleton-D86JubvK.css","assets/useQueryParams-B2NYtDZ6.js","assets/BaseRichTextEditor-CM4BKY37.js","assets/useCommon-CYDrtqAj.js","assets/BaseRichTextEditor-5b2PDTLF.css","assets/DatePicker-BM62v5um.js","assets/DatePicker-CaK9YdY3.css","assets/CreateSheetModal-DAxkq9xs.js","assets/SwitchTab-D0sbUn_B.js","assets/SwitchTab-xAML-a-k.css","assets/useOpenAIGeneration-jH8PARqQ.js","assets/CreateSheetModal-t_uWXjEL.css","assets/CreateVariableModal-Cv9bXCxb.js","assets/ConfirmDeleteModal-BLfF8M4a.js","assets/ConfirmDeleteModal.vue_vue_type_script_setup_true_lang-BDBc1WWg.js","assets/SidePanel-C1AsDbFL.js","assets/AssigmentDropdown.vue_vue_type_script_setup_true_lang-CYCBhx5V.js","assets/SidePanel-fKwN4j-K.css","assets/KanbanBoard-B39BAdc-.js","assets/DropMenu.vue_vue_type_script_setup_true_lang-MsxGxSnx.js","assets/workspace-CuSgw95J.js","assets/KanbanBoard-DJX1cgam.css"])))=>i.map(i=>d[i]);
import{d as ge,r as d,a as ye,c as k,m as P,i as A,e as o,h as i,b as T,j as h,z as Z,w as D,f as E,n as t,A as ee,Q as c,g as R,U as Ve,t as Ce,B as ke,F as Ae,R as _,p as he,o as u}from"./index-BZn88Tk7.js";import{u as De}from"./workspace-CuSgw95J.js";import{u as Le,a as Ie,b as Pe,f as Te,R as Ee,c as Re,D as ae,K as Ue}from"./KanbanSkeleton-Z7y0jmeQ.js";import{_ as Oe}from"./SearchBar.vue_vue_type_script_setup_true_lang-rZC85x-v.js";import{_ as Be}from"./BaseTextField.vue_vue_type_script_setup_true_lang-DmEZLbRb.js";import{a as Me}from"./useQueryParams-B2NYtDZ6.js";import"./index-BgzE4qkI.js";import"./info-DjaLHeD_.js";const Se={class:"flex-auto bg-gradient-to-b from-bg-card/95 to-bg-card/90 backdrop-blur rounded-2xl shadow-[0_10px_40px_-10px_rgba(0,0,0,.5)] flex-grow h-full bg-bg-card border border-border overflow-x-auto flex-col flex"},Ke={class:"header px-4 py-3 border-b border-border flex items-center justify-between gap-1"},Ne={class:"flex gap-3 items-center"},je={class:"flex overflow-x-auto gap-3 p-4"},qe={key:0,class:"mx-auto text-text-secondary/80 m-2 w-[90%] h-full justify-center flex items-center border border-dashed border-border"},ze={key:0,class:"bg-bg-body rounded-lg p-4"},$e={class:"flex items-center mt-3 gap-3"},aa=ge({__name:"Product",setup(Fe){const le=c(()=>_(()=>import("./CreateTaskModal-DPK_4BUQ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]))),te=c(()=>_(()=>import("./CreateSheetModal-DAxkq9xs.js"),__vite__mapDeps([19,2,3,4,5,6,7,8,20,21,10,11,12,22,13,23]))),oe=c(()=>_(()=>import("./CreateVariableModal-Cv9bXCxb.js"),__vite__mapDeps([24,2,3,4,5,6,7,8,13,10,11,12]))),se=c(()=>_(()=>import("./ConfirmDeleteModal-BLfF8M4a.js"),__vite__mapDeps([25,26,2,3,4,5,6]))),de=c(()=>_(()=>import("./SidePanel-C1AsDbFL.js"),__vite__mapDeps([27,2,3,14,15,9,8,7,16,10,11,12,17,18,28,13,20,21,29]))),re=c(()=>_(()=>import("./KanbanBoard-B39BAdc-.js"),__vite__mapDeps([30,2,3,17,18,10,11,12,31,26,4,5,6,28,13,32,33]))),f=d(!1),U=he(),{workspaceId:v,moduleId:m}=Me(),{data:L}=Le(v.value,m.value),ie=ye(),{mutate:I,isPending:O}=Ie({onSuccess:()=>{ie.invalidateQueries({queryKey:["sheet-list"]}),C.value="",p.value=!1,V.value=!1,p.value=!1}}),B=a=>{I({workspace_id:v.value,module_id:m.value,variable_id:s.value,value:a})},{data:b}=Pe({workspace_id:v,workspace_module_id:m}),M=k(()=>{var a;return b.value?(a=b.value[0])==null?void 0:a._id:""});P(M,()=>{r.value=M.value});const r=d(),S=k(()=>{var a;return L.value?(a=L.value[0])==null?void 0:a._id:""}),s=d();P(S,()=>{s.value=S.value});const w=De(),{data:ne,isPending:K,isFetching:He}=Te(m,r,k(()=>[...w.selectedLaneIds]),s),x=d(!1),g=d(),N=a=>{g.value=a},y=d(!1),ue=()=>{y.value=!y.value},ve=Ee(),me=Re();function pe(a){a.type=="column"?ve.mutate({payload:{workspace_id:v.value,workspace_module_id:m.value,variable_id:s.value,moved_value:a.meta.id,new_index:a.meta.newIndex}}):me.mutate({payload:{workspace_id:v.value,card_id:a.meta.moved._id,group_value:a.meta.fromColumnId,group_variable_id:s.value,new_index:a.meta.newIndex,sheet_id:r.value}})}const ce=a=>{},_e=k(()=>(b.value||[]).map(a=>({_id:a._id,title:a.variables["sheet-title"],description:a.variables["sheet-description"],icon:a.icon})));P(b,a=>{var e;(a==null?void 0:a.length)>0&&(r.value=(e=a[0])==null?void 0:e._id)});const V=d(!1),C=d("");function j(){V.value=!V.value}function q(){const a=C.value.trim();a&&B(a)}const fe=a=>{I({workspace_id:U.params.id,module_id:U.params.module_id,new_value:a.title,value:a.oldTitle,variable_id:s.value})},p=d(!1),n=d(),be=()=>{I({value:n.value.title,workspace_id:v.value,module_id:m.value,newValue:n.value.title,variable_id:s.value,is_trash:!0})},we=a=>{p.value=!0,n.value=a},xe=a=>{x.value=!0,n.value=a};return(a,e)=>{var z,$,F,H,Q;return u(),A(Ae,null,[o("div",Se,[o("div",Ke,[i(ae,{modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=l=>r.value=l),options:_e.value,variant:"secondary"},{more:D(()=>[o("div",{onClick:e[0]||(e[0]=l=>ue()),class:"capitalize border-t border-border px-4 py-2 hover:bg-bg-dropdown-menu-hover cursor-pointer flex items-center gap-1 overflow-hidden overflow-ellipsis text-nowrap"},e[16]||(e[16]=[o("i",{class:"fa-solid fa-plus"},null,-1),E(" Add new ")]))]),_:1},8,["modelValue","options"]),o("div",Ne,[i(ae,{prefix:"View by",modelValue:s.value,"onUpdate:modelValue":e[3]||(e[3]=l=>s.value=l),options:t(L),variant:"secondary"},{more:D(()=>[o("div",{onClick:e[2]||(e[2]=l=>f.value=!0),class:"sticky bottom-0 bg-bg-dropdown shadow-md shadow-border capitalize border-t border-border px-4 py-2 hover:bg-bg-dropdown-menu-hover cursor-pointer flex items-center gap-1 overflow-hidden overflow-ellipsis text-nowrap"},e[17]||(e[17]=[o("i",{class:"fa-solid fa-plus"},null,-1),E(" Add new ")]))]),_:1},8,["modelValue","options"]),i(Oe,{placeholder:"Search in Orchit AI space"})])]),Z(i(Ue,null,null,512),[[ee,t(K)]]),Z(o("div",je,[i(t(re),{onOnPlus:xe,"onDelete:column":e[4]||(e[4]=l=>we(l)),"onUpdate:column":e[5]||(e[5]=l=>fe(l)),onReorder:pe,onAddColumn:B,"onSelect:ticket":N,board:t(ne),onOnBoardUpdate:ce,variable_id:s.value,sheet_id:r.value},{"column-footer":D(l=>{var W,Y,G,J,X;return[(Y=(W=t(w))==null?void 0:W.transitions)!=null&&Y.all_allowed&&!((X=(J=(G=t(w))==null?void 0:G.transitions)==null?void 0:J.all_allowed)!=null&&X.includes(l.column.title))&&t(w).transitions.currentColumn!=l.column.title?(u(),A("div",qe," Disbale ( you can't drop here )")):h("",!0)]}),_:1},8,["board","variable_id","sheet_id"]),o("div",{class:"min-w-[328px]",onClick:e[7]||(e[7]=R(()=>{},["stop"]))},[V.value?(u(),A("div",ze,[i(Be,{autofocus:!0,modelValue:C.value,"onUpdate:modelValue":e[6]||(e[6]=l=>C.value=l),placeholder:"Add New list",onKeyup:Ve(q,["enter"])},null,8,["modelValue"]),e[18]||(e[18]=o("p",{class:"text-xs mt-1.5"},"You can add details while editing",-1)),o("div",$e,[i(ke,{onClick:q,varaint:"primary",class:"px-3 py-1 bg-accent cursor-pointer text-white rounded"},{default:D(()=>[E(Ce(t(O)?"Adding...":"Add list"),1)]),_:1}),o("i",{class:"fa-solid fa-close",onClick:j})])])):(u(),A("button",{key:1,class:"text-sm text-text-primary py-2.5 cursor-pointer font-medium flex items-center justify-center w-full gap-2 bg-bg-body rounded-lg",onClick:R(j,["stop"])}," + Add List "))])],512),[[ee,!t(K)]])]),i(t(se),{onClick:e[8]||(e[8]=R(()=>{},["stop"])),modelValue:p.value,"onUpdate:modelValue":e[9]||(e[9]=l=>p.value=l),title:"Delete List",itemLabel:"list",itemName:(z=n.value)==null?void 0:z.title,requireMatchText:($=n.value)==null?void 0:$.title,confirmText:"Delete workspace",cancelText:"Cancel",size:"md",loading:t(O),onConfirm:be,onCancel:e[10]||(e[10]=()=>{p.value=!1})},null,8,["modelValue","itemName","requireMatchText","loading"]),x.value?(u(),T(t(le),{selectedVariable:s.value,listId:(F=n.value)==null?void 0:F.title,sheet_id:r.value,key:"createTaskModalKey",modelValue:x.value,"onUpdate:modelValue":e[11]||(e[11]=l=>x.value=l),onSubmit:e[12]||(e[12]=()=>{})},null,8,["selectedVariable","listId","sheet_id","modelValue"])):h("",!0),(H=g.value)!=null&&H._id?(u(),T(t(de),{key:1,details:g.value,onClose:e[13]||(e[13]=()=>{N({variables:{}})}),showPanel:!!((Q=g.value)!=null&&Q._id)},null,8,["details","showPanel"])):h("",!0),i(t(te),{modelValue:y.value,"onUpdate:modelValue":e[14]||(e[14]=l=>y.value=l)},null,8,["modelValue"]),f.value?(u(),T(t(oe),{key:2,modelValue:f.value,"onUpdate:modelValue":e[15]||(e[15]=l=>f.value=l),sheetID:r.value},null,8,["modelValue","sheetID"])):h("",!0)],64)}}});export{aa as default};
