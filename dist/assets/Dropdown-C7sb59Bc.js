import{d as Q,c as n,j as t,k as i,F as S,y as D,E as re,f as e,L as oe,o as s,I as U,r as k,n as ne,i as ie,z as o,e as q,aT as G,t as _,a7 as de,w as ue,h as w,J as ce,g as H}from"./index-DM5NKZ0I.js";import{o as ve}from"./ConfirmDeleteModal.vue_vue_type_script_setup_true_lang-DaTuBLai.js";const pe={class:"p-4 overflow-x-auto flex-auto flex gap-6","aria-busy":"true","aria-live":"polite"},fe={class:"flex-1 w-full overflow-y-auto space-y-3 px-2 pb-2",role:"presentation"},me={key:0,class:"min-w-[328px]",role:"presentation"},xe=Q({__name:"KanbanSkeleton",props:{columns:{default:3},cardsPerColumn:{default:3},showAddList:{type:Boolean,default:!0}},setup(C){const m=C,x=n(()=>Array.from({length:m.columns},(v,r)=>r)),h=n(()=>Array.from({length:m.cardsPerColumn},(v,r)=>r));return(v,r)=>(s(),t("div",pe,[(s(!0),t(S,null,D(x.value,(y,c,B,b)=>{const d=[m.cardsPerColumn];if(b&&b.key===y&&re(b,d))return b;const f=(s(),t("div",{key:y,class:"kanban-col max-w-[328px] min-w-[328px] min-h-[555px] h-full bg-bg-body rounded-lg p-2 flex flex-col",role:"presentation"},[r[4]||(r[4]=e("div",{class:"flex justify-between items-center py-3 px-4 sticky top-0 bg-bg-body rounded-xl mb-2 z-10",role:"presentation"},[e("div",{class:"flex items-center gap-2"},[e("div",{class:"h-4 w-24 rounded shimmer","aria-hidden":"true"}),e("div",{class:"h-4 w-4 rounded-full shimmer","aria-hidden":"true"})]),e("div",{class:"flex items-center gap-2"},[e("div",{class:"h-4 w-4 rounded shimmer","aria-hidden":"true"}),e("div",{class:"h-4 w-4 rounded shimmer","aria-hidden":"true"})])],-1)),e("div",fe,[(s(!0),t(S,null,D(h.value,$=>(s(),t("div",{key:$,class:"bg-bg-card rounded-xl border border-border p-3 space-y-3 shadow-sm",role:"presentation"},r[2]||(r[2]=[oe('<div class="flex gap-2" data-v-5a4807f3><div class="h-5 w-14 rounded-full shimmer" aria-hidden="true" data-v-5a4807f3></div><div class="h-5 w-10 rounded-full shimmer" aria-hidden="true" data-v-5a4807f3></div></div><div data-v-5a4807f3><div class="h-4 w-3/4 rounded shimmer mb-2" aria-hidden="true" data-v-5a4807f3></div><div class="h-3 w-full rounded shimmer" aria-hidden="true" data-v-5a4807f3></div><div class="h-3 w-5/6 rounded shimmer mt-1" aria-hidden="true" data-v-5a4807f3></div></div><div class="flex justify-between items-center" data-v-5a4807f3><div class="h-4 w-20 rounded shimmer" aria-hidden="true" data-v-5a4807f3></div><div class="flex -space-x-2" data-v-5a4807f3><div class="w-6 h-6 rounded-full border-2 border-border shimmer" aria-hidden="true" data-v-5a4807f3></div><div class="w-6 h-6 rounded-full border-2 border-border shimmer" aria-hidden="true" data-v-5a4807f3></div></div></div>',3)])))),128)),r[3]||(r[3]=e("div",{class:"h-9 rounded shimmer mt-3","aria-hidden":"true"},null,-1))])]));return f.memo=d,f},r,0),128)),m.showAddList?(s(),t("div",me,r[5]||(r[5]=[e("div",{class:"bg-bg-body rounded-lg p-4"},[e("div",{class:"h-9 rounded shimmer","aria-hidden":"true"})],-1)]))):i("",!0)]))}}),je=U(xe,[["__scopeId","data-v-5a4807f3"]]),be=["src"],he={key:0,class:"font-bold"},ye={class:"text-nowrap"},we=["onClick"],ge={class:"flex items-center gap-2 min-w-0 flex-1"},ke=["src"],_e={class:"flex flex-col gap-1 max-w-40"},Ce={class:"overflow-hidden font-semibold overflow-ellipsis"},$e={key:0,class:"min-w-40 line-clamp-2 text-wrap text-text-secondary text-xs"},ze={key:1,class:"fa-regular text-left fa-arrows-spin animate-spin duration-250"},Se={key:0,class:"pl-2 flex items-center relative"},De=["onClick","aria-expanded","aria-label"],Be={class:"rounded-md border border-border bg-bg-dropdown shadow-lg w-28 py-1 flex flex-col text-sm"},Ne=["onClick"],Ve=["onClick"],Ie=Q({__name:"Dropdown",props:{prefix:{},options:{default:()=>[]},modelValue:{default:""},variant:{default:"primary"},icon:{},size:{default:"md"},actions:{type:Boolean,default:!0},canEdit:{type:Boolean,default:!0},canDelete:{type:Boolean,default:!0}},emits:["update:modelValue","edit-option","delete-option"],setup(C,{emit:m}){const x=C,h=m,v=k(!1),r=k(null),y=n({get:()=>x.modelValue,set:a=>h("update:modelValue",a)}),c=n(()=>x.options.find(a=>a._id===y.value)??null);function B(){v.value=!v.value}function b(a){y.value=a._id,v.value=!1}const d=k(null),f=k(null);function $(a){f.value=null,d.value=d.value===a?null:a}function X(a){h("edit-option",a),d.value=null,f.value=null}function Y(a){h("delete-option",a),d.value=null,f.value=null}ve(r,()=>{v.value=!1,d.value=null,f.value=null});const p=n(()=>x.size==="sm"),Z=n(()=>p.value?"px-2 py-1 text-xs":"px-3 py-1.5 text-sm"),ee=n(()=>p.value?"text-xs":"text-sm"),se=n(()=>p.value?"text-xs":"text-sm"),ae=n(()=>p.value?"px-3 py-1":"px-4 py-2"),N=n(()=>p.value?"w-3.5 h-3.5":"w-4 h-4"),g=n(()=>p.value?"w-3.5 h-3.5":"w-4 h-4"),V=n(()=>p.value?"text-base":"text-lg"),te=n(()=>p.value?"w-3.5 h-3.5":"w-4 h-4"),le=n(()=>"dark:border-light-black border-border-gray");return ne(()=>x.options,()=>{},{deep:!0}),(a,u)=>{var I,E,A,j,L,P,T,K,M,O,R;return s(),t("div",{ref_key:"dropdownRef",ref:r,class:"relative inline-block text-left"},[e("button",{onClick:B,type:"button",class:o(["text-nowrap inline-flex justify-between items-center gap-1 border rounded-md font-medium cursor-pointer transition bg-bg-surface",[Z.value,a.variant==="secondary"?"!bg-bg-body border-0":"border-border"]])},[(I=c.value)!=null&&I.prefix?(s(),t("span",{key:0,class:o(N.value)},[typeof((E=c.value)==null?void 0:E.prefix)=="string"?(s(),t("img",{key:0,src:(A=c.value)==null?void 0:A.prefix,class:o(g.value)},null,10,be)):(s(),q(G((j=c.value)==null?void 0:j.prefix),{key:1,class:o(g.value)},null,8,["class"]))],2)):i("",!0),e("i",{class:o(`${(P=(L=c.value)==null?void 0:L.icon)==null?void 0:P.prefix} ${(K=(T=c.value)==null?void 0:T.icon)!=null&&K.iconName?(O=(M=c.value)==null?void 0:M.icon)==null?void 0:O.iconName:"file"} ${V.value}`)},null,2),e("span",{class:o(ee.value)},[a.prefix?(s(),t("span",he,_(a.prefix)+":",1)):i("",!0),e("span",ye,_((R=c.value)==null?void 0:R.title),1)],2),(s(),t("svg",{class:o([te.value,"text-text-secondary"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},u[2]||(u[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],2),ie(de,{name:"fade-scale","enter-active-class":"transition duration-200 ease-out","leave-active-class":"transition duration-150 ease-in","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:ue(()=>[v.value?(s(),t("div",{key:0,class:o(["absolute max-h-[500px] overflow-visible z-12 mt-1 w-full min-w-fit rounded-md border border-border shadow-lg bg-bg-dropdown",le.value]),onClick:u[1]||(u[1]=w(()=>{},["stop"]))},[e("ul",{class:o(["py-1 z-[2]",se.value])},[(s(!0),t(S,null,D(a.options,l=>{var F,J,W;return s(),t("li",{key:l._id,class:o(["group cursor-pointer flex items-stretch text-nowrap hover:bg-bg-dropdown-menu-hover",ae.value]),onClick:z=>b(l)},[e("div",ge,[l.prefix?(s(),t("span",{key:0,class:o(N.value)},[typeof l.prefix=="string"?(s(),t("img",{key:0,src:l.prefix,class:o(g.value)},null,10,ke)):(s(),q(G(l.prefix),{key:1,class:o(["text-text-primary",g.value])},null,8,["class"]))],2)):i("",!0),e("i",{class:o(`${(F=l.icon)==null?void 0:F.prefix} ${(J=l.icon)!=null&&J.iconName?(W=l.icon)==null?void 0:W.iconName:"file"} ${V.value}`)},null,2),e("div",_e,[e("span",Ce,_(l.title),1),l.description?(s(),t("p",$e,_(l.description),1)):i("",!0)]),(l==null?void 0:l.status)=="running"?(s(),t("i",ze)):i("",!0)]),a.actions&&a.canEdit&&a.canDelete?(s(),t("div",Se,[e("button",{class:"opacity-0 cursor-pointer group-hover:opacity-100 focus:opacity-100 transition rounded-md px-1.5 py-1 text-text-secondary hover:bg-bg-dropdown-menu-hover",onClick:w(z=>$(l._id),["stop"]),"aria-expanded":d.value===l._id?"true":"false","aria-label":`Actions for ${l.title}`}," â‹¯ ",8,De),d.value===l._id?(s(),t("div",{key:0,class:"absolute left-[100%] right-0 top-full mt-1 z-[20]",onClick:u[0]||(u[0]=w(()=>{},["stop"]))},[e("div",Be,[a.canEdit?(s(),t("button",{key:0,class:"px-3 py-1.5 text-left hover:bg-bg-dropdown-menu-hover cursor-pointer",onClick:w(z=>X(l),["stop"])},u[3]||(u[3]=[e("i",{class:"fa-regular fa-edit"},null,-1),H(" Edit ")]),8,Ne)):i("",!0),a.canDelete?(s(),t("button",{key:1,class:"px-3 py-1.5 text-left text-red-600 cursor-pointer",onClick:w(z=>Y(l),["stop"])},u[4]||(u[4]=[e("i",{class:"fa-regular fa-trash"},null,-1),H(" Delete ")]),8,Ve)):i("",!0)])])):i("",!0)])):i("",!0)],10,we)}),128)),ce(a.$slots,"more",{},void 0,!0)],2)],2)):i("",!0)]),_:3})],512)}}}),Le=U(Ie,[["__scopeId","data-v-36ccc3b0"]]);export{Le as D,je as K};
