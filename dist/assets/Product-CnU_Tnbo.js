const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CreateTaskModal-D5yb56Zi.js","assets/CreateTaskModal.vue_vue_type_script_setup_true_lang-C5sAh5n6.js","assets/index-4VVrnSvV.js","assets/index-BnOATmEj.css","assets/BaseModal-BK4KiMya.js","assets/cross-DvraoB0R.js","assets/BaseModal-FRlOKCB_.css","assets/BaseTextField.vue_vue_type_script_setup_true_lang-BOTvTtsA.js","assets/info-DjaLHeD_.js","assets/BaseSelectField.vue_vue_type_script_setup_true_lang-BVbjuD4Z.js","assets/KanbanSkeleton-B1eNe9RJ.js","assets/index-D77Hbchx.js","assets/KanbanSkeleton-DTreKVEl.css","assets/useQueryParams-bRK_EXJo.js","assets/BaseRichTextEditor-C_fmFArb.js","assets/useCommon-Fwq2lbvO.js","assets/BaseRichTextEditor-5b2PDTLF.css","assets/DatePicker-DpMfeDLB.js","assets/DatePicker-CaK9YdY3.css","assets/CreateSheetModal-QAijzZhu.js","assets/SwitchTab-BcL5JRCs.js","assets/SwitchTab-BiZu_u3i.css","assets/useOpenAIGeneration-C3V19WcR.js","assets/CreateSheetModal-t_uWXjEL.css","assets/CreateVariableModal-wA0vuil9.js","assets/ConfirmDeleteModal-BJxC_Mbn.js","assets/ConfirmDeleteModal.vue_vue_type_script_setup_true_lang-DfXYlXvC.js","assets/SidePanel-CQlkwskt.js","assets/TypeChanger-DKNxskcB.js","assets/TypeChanger-lqprU80G.css","assets/AssigmentDropdown.vue_vue_type_script_setup_true_lang-BsIan_I4.js","assets/SidePanel-DbsDnRvD.css","assets/KanbanBoard-CqAHq7cI.js","assets/DropMenu.vue_vue_type_script_setup_true_lang-B8RhSZ6s.js","assets/KanbanBoard-CjAuQHw-.css"])))=>i.map(i=>d[i]);
import{d as be,r as o,n as we,I as xe,c as h,l as T,h as k,b as s,g as r,a as I,i as H,w as P,e as E,m as d,K as m,f as R,L as ge,t as Ve,j as Ce,F as ke,M as p,o as u,N as ye}from"./index-4VVrnSvV.js";import{u as Ae}from"./workspace-CHT_YmAu.js";import{b as Le,c as De,d as he,e as Te,R as Ie,f as Pe,D as F,K as Ee}from"./KanbanSkeleton-B1eNe9RJ.js";import{_ as Re}from"./SearchBar.vue_vue_type_script_setup_true_lang-Djwnzrfe.js";import{_ as Me}from"./BaseTextField.vue_vue_type_script_setup_true_lang-BOTvTtsA.js";import{u as Oe}from"./useQueryParams-bRK_EXJo.js";import"./index-D77Hbchx.js";import"./info-DjaLHeD_.js";const Ue={class:"flex-auto bg-gradient-to-b from-bg-card/95 to-bg-card/90 backdrop-blur rounded-2xl shadow-[0_10px_40px_-10px_rgba(0,0,0,.5)] flex-grow h-full bg-bg-card border border-border overflow-x-auto flex-col flex"},Be={class:"header px-4 py-3 border-b border-border flex items-center justify-between gap-1"},Se={class:"flex gap-3 items-center"},Ke={key:1,class:"flex overflow-x-auto gap-3 p-4"},Ne={key:0,class:"bg-bg-body rounded-lg p-4"},qe={class:"flex items-center mt-3 gap-3"},Je=be({__name:"Product",setup($e){const Q=m(()=>p(()=>import("./CreateTaskModal-D5yb56Zi.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]))),W=m(()=>p(()=>import("./CreateSheetModal-QAijzZhu.js"),__vite__mapDeps([19,2,3,4,5,6,7,8,20,21,10,11,12,22,13,23]))),Y=m(()=>p(()=>import("./CreateVariableModal-wA0vuil9.js"),__vite__mapDeps([24,2,3,4,5,6,7,8,13,10,11,12]))),G=m(()=>p(()=>import("./ConfirmDeleteModal-BJxC_Mbn.js"),__vite__mapDeps([25,26,2,3,4,5,6]))),J=m(()=>p(()=>import("./SidePanel-CQlkwskt.js"),__vite__mapDeps([27,2,3,14,15,9,8,7,16,10,11,12,28,29,17,18,30,13,20,21,31]))),X=m(()=>p(()=>import("./KanbanBoard-CqAHq7cI.js"),__vite__mapDeps([32,2,3,28,29,17,18,10,11,12,33,26,4,5,6,30,13,34]))),f=o(!1),c=we(),{workspaceId:_,moduleId:b}=Oe(),Z=c.params.id,y=o(c.params.module_id),{data:A}=Le(_.value,b.value),ee=xe(),{mutate:L,isPending:M}=De({onSuccess:()=>{ee.invalidateQueries({queryKey:["sheet-list"]}),C.value="",v.value=!1,V.value=!1,v.value=!1}}),O=a=>{L({workspace_id:_.value,module_id:b.value,variable_id:t.value,value:a})},{data:w,refetch:ae}=he({workspace_id:Z,workspace_module_id:y},{onSuccess:()=>{se()}}),i=o(w.value?w.value[0]._id:null),U=o(!0),B=h(()=>{var a;return A.value?(a=A.value[0])==null?void 0:a._id:""}),t=o(B.value);T(B,a=>{t.value=a}),T(()=>c.params.module_id,a=>{y.value=a,U.value=!1,ye(()=>{ae(),U.value=!0})});const le=Ae(),{data:oe,isPending:te,refetch:se}=Te(y,i,h(()=>[...le.selectedLaneIds]),t),x=o(!1),D=o(),S=a=>{D.value=a},g=o(!1),de=()=>{g.value=!g.value},re=Ie(),ie=Pe();function ne(a){a.type=="column"?re.mutate({payload:{workspace_id:_.value,workspace_module_id:b.value,variable_id:t.value,moved_value:a.meta.id,new_index:a.meta.newIndex}}):ie.mutate({payload:{workspace_id:_.value,card_id:a.meta.moved._id,group_value:a.meta.fromColumnId,group_variable_id:t.value,new_index:a.meta.newIndex,sheet_id:i.value}})}const ue=a=>{},ve=h(()=>(w.value||[]).map(a=>({_id:a._id,title:a.variables["sheet-title"],description:a.variables["sheet-description"],icon:a.icon})));T(w,a=>{var e;(a==null?void 0:a.length)>0&&(i.value=(e=a[0])==null?void 0:e._id)});const V=o(!1),C=o("");function K(){V.value=!V.value}function N(){const a=C.value.trim();a&&O(a)}const me=a=>{L({workspace_id:c.params.id,module_id:c.params.module_id,new_value:a.title,value:a.oldTitle,variable_id:t.value})},v=o(!1),n=o(),pe=()=>{L({value:n.value.title,workspace_id:_.value,module_id:b.value,newValue:n.value.title,variable_id:t.value,is_trash:!0})},ce=a=>{v.value=!0,n.value=a},_e=a=>{x.value=!0,n.value=a};return(a,e)=>{var q,$,j,z;const fe=Ce("Button");return u(),k(ke,null,[s("div",Ue,[s("div",Be,[r(F,{modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=l=>i.value=l),options:ve.value,variant:"secondary"},{more:P(()=>[s("div",{onClick:e[0]||(e[0]=l=>de()),class:"capitalize border-t border-border px-4 py-2 hover:bg-bg-dropdown-menu-hover cursor-pointer flex items-center gap-1 overflow-hidden overflow-ellipsis text-nowrap"},e[16]||(e[16]=[s("i",{class:"fa-solid fa-plus"},null,-1),E(" Add new ")]))]),_:1},8,["modelValue","options"]),s("div",Se,[r(F,{prefix:"View by",modelValue:t.value,"onUpdate:modelValue":e[3]||(e[3]=l=>t.value=l),options:d(A),variant:"secondary"},{more:P(()=>[s("div",{onClick:e[2]||(e[2]=l=>f.value=!0),class:"sticky bottom-0 bg-bg-dropdown shadow-md shadow-border capitalize border-t border-border px-4 py-2 hover:bg-bg-dropdown-menu-hover cursor-pointer flex items-center gap-1 overflow-hidden overflow-ellipsis text-nowrap"},e[17]||(e[17]=[s("i",{class:"fa-solid fa-plus"},null,-1),E(" Add new ")]))]),_:1},8,["modelValue","options"]),r(Re,{placeholder:"Search in Orchit AI space"})])]),d(te)?(u(),I(Ee,{key:0})):(u(),k("div",Ke,[r(d(X),{onOnPlus:_e,"onDelete:column":e[4]||(e[4]=l=>ce(l)),"onUpdate:column":e[5]||(e[5]=l=>me(l)),onReorder:ne,onAddColumn:O,"onSelect:ticket":S,board:d(oe),onOnBoardUpdate:ue,variable_id:t.value,sheet_id:i.value},null,8,["board","variable_id","sheet_id"]),s("div",{class:"min-w-[328px]",onClick:e[7]||(e[7]=R(()=>{},["stop"]))},[V.value?(u(),k("div",Ne,[r(Me,{autofocus:!0,modelValue:C.value,"onUpdate:modelValue":e[6]||(e[6]=l=>C.value=l),placeholder:"Add New list",onKeyup:ge(N,["enter"])},null,8,["modelValue"]),e[18]||(e[18]=s("p",{class:"text-xs mt-1.5"},"You can add details while editing",-1)),s("div",qe,[r(fe,{onClick:N,varaint:"primary",class:"px-3 py-1 bg-accent cursor-pointer text-white rounded"},{default:P(()=>[E(Ve(d(M)?"Adding...":"Add list"),1)]),_:1}),s("i",{class:"fa-solid fa-close",onClick:K})])])):(u(),k("button",{key:1,class:"text-sm text-text-primary py-2.5 cursor-pointer font-medium flex items-center justify-center w-full gap-2 bg-bg-body rounded-lg",onClick:R(K,["stop"])}," + Add List "))])]))]),r(d(G),{onClick:e[8]||(e[8]=R(()=>{},["stop"])),modelValue:v.value,"onUpdate:modelValue":e[9]||(e[9]=l=>v.value=l),title:"Delete List",itemLabel:"list",itemName:(q=n.value)==null?void 0:q.title,requireMatchText:($=n.value)==null?void 0:$.title,confirmText:"Delete workspace",cancelText:"Cancel",size:"md",loading:d(M),onConfirm:pe,onCancel:e[10]||(e[10]=()=>{v.value=!1})},null,8,["modelValue","itemName","requireMatchText","loading"]),x.value?(u(),I(d(Q),{selectedVariable:t.value,listId:(j=n.value)==null?void 0:j.title,sheet_id:i.value,key:"createTaskModalKey",modelValue:x.value,"onUpdate:modelValue":e[11]||(e[11]=l=>x.value=l),onSubmit:e[12]||(e[12]=()=>{})},null,8,["selectedVariable","listId","sheet_id","modelValue"])):H("",!0),r(d(J),{details:D.value,onClose:e[13]||(e[13]=()=>{S({variables:{}})}),showPanel:((z=D.value)==null?void 0:z.variables.length)>0},null,8,["details","showPanel"]),r(d(W),{modelValue:g.value,"onUpdate:modelValue":e[14]||(e[14]=l=>g.value=l)},null,8,["modelValue"]),f.value?(u(),I(d(Y),{key:1,modelValue:f.value,"onUpdate:modelValue":e[15]||(e[15]=l=>f.value=l),sheetID:i.value},null,8,["modelValue","sheetID"])):H("",!0)],64)}}});export{Je as default};
