import{n as z,aW as F,bs as I,b9 as q,a_ as R,a$ as Z,c as y,aY as g,aF as E,bi as H,p as K,v as G,d as Q,r as U,e as J,w as Y,W as X,o as T,h as d,l as W,m as B,t as C,J as N,i as S,C as ee,N as te,ac as oe,j as ne}from"./index-BONhYWQW.js";function se(e){return R()?(Z(e),!0):!1}const L=new WeakMap,ae=(...e)=>{var l;const n=e[0],i=(l=F())==null?void 0:l.proxy;if(i==null&&!I())throw new Error("injectLocal must be called in setup");return i&&L.has(i)&&n in L.get(i)?L.get(i)[n]:q(...e)},O=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const le=Object.prototype.toString,ie=e=>le.call(e)==="[object Object]",M=()=>{},re=ue();function ue(){var e,l;return O&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((l=window==null?void 0:window.navigator)==null?void 0:l.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function $(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function _(e){return Array.isArray(e)?e:[e]}function ce(e,l,n){return z(e,l,{...n,immediate:!0})}const j=O?window:void 0;function k(e){var l;const n=g(e);return(l=n==null?void 0:n.$el)!=null?l:n}function A(...e){const l=[],n=()=>{l.forEach(r=>r()),l.length=0},i=(r,a,c,m)=>(r.addEventListener(a,c,m),()=>r.removeEventListener(a,c,m)),f=y(()=>{const r=_(g(e[0])).filter(a=>a!=null);return r.every(a=>typeof a!="string")?r:void 0}),p=ce(()=>{var r,a;return[(a=(r=f.value)==null?void 0:r.map(c=>k(c)))!=null?a:[j].filter(c=>c!=null),_(g(f.value?e[1]:e[0])),_(K(f.value?e[2]:e[1])),g(f.value?e[3]:e[2])]},([r,a,c,m])=>{if(n(),!(r!=null&&r.length)||!(a!=null&&a.length)||!(c!=null&&c.length))return;const w=ie(m)?{...m}:m;l.push(...r.flatMap(v=>a.flatMap(t=>c.map(s=>i(v,t,s,w)))))},{flush:"post"}),b=()=>{p(),n()};return se(n),b}let D=!1;function We(e,l,n={}){const{window:i=j,ignore:f=[],capture:p=!0,detectIframe:b=!1,controls:r=!1}=n;if(!i)return r?{stop:M,cancel:M,trigger:M}:M;if(re&&!D){D=!0;const o={passive:!0};Array.from(i.document.body.children).forEach(u=>u.addEventListener("click",M,o)),i.document.documentElement.addEventListener("click",M,o)}let a=!0;const c=o=>g(f).some(u=>{if(typeof u=="string")return Array.from(i.document.querySelectorAll(u)).some(h=>h===o.target||o.composedPath().includes(h));{const h=k(u);return h&&(o.target===h||o.composedPath().includes(h))}});function m(o){const u=g(o);return u&&u.$.subTree.shapeFlag===16}function w(o,u){const h=g(o),V=h.$.subTree&&h.$.subTree.children;return V==null||!Array.isArray(V)?!1:V.some(P=>P.el===u.target||u.composedPath().includes(P.el))}const v=o=>{const u=k(e);if(o.target!=null&&!(!(u instanceof Element)&&m(e)&&w(e,o))&&!(!u||u===o.target||o.composedPath().includes(u))){if("detail"in o&&o.detail===0&&(a=!c(o)),!a){a=!0;return}l(o)}};let t=!1;const s=[A(i,"click",o=>{t||(t=!0,setTimeout(()=>{t=!1},0),v(o))},{passive:!0,capture:p}),A(i,"pointerdown",o=>{const u=k(e);a=!c(o)&&!!(u&&!o.composedPath().includes(u))},{passive:!0}),b&&A(i,"blur",o=>{setTimeout(()=>{var u;const h=k(e);((u=i.document.activeElement)==null?void 0:u.tagName)==="IFRAME"&&!(h!=null&&h.contains(i.document.activeElement))&&l(o)},0)},{passive:!0})].filter(Boolean),x=()=>s.forEach(o=>o());return r?{stop:x,cancel:()=>{a=!1},trigger:o=>{a=!0,v(o),a=!1}}:x}function de(){const e=E(!1),l=F();return l&&G(()=>{e.value=!0},l),e}function me(e){const l=de();return y(()=>(l.value,!!e()))}const fe=Symbol("vueuse-ssr-width");function pe(){const e=I()?ae(fe,null):null;return typeof e=="number"?e:void 0}function Be(e,l={}){const{window:n=j,ssrWidth:i=pe()}=l,f=me(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function"),p=E(typeof i=="number"),b=E(),r=E(!1),a=c=>{r.value=c.matches};return H(()=>{if(p.value){p.value=!f.value;const c=g(e).split(",");r.value=c.some(m=>{const w=m.includes("not all"),v=m.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),t=m.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let s=!!(v||t);return v&&s&&(s=i>=$(v[1])),t&&s&&(s=i<=$(t[1])),w?!s:s});return}f.value&&(b.value=n.matchMedia(g(e)),r.value=b.value.matches)}),A(b,"change",a,{passive:!0}),y(()=>r.value)}const he={class:"p-5"},ve={class:"flex items-start gap-3"},be={class:"flex-1 min-w-0"},ge={class:"text-base font-semibold text-text-primary"},we={class:"mt-1 text-sm text-muted"},ye={key:0,class:"mt-4"},xe={class:"text-xs text-muted"},Me={class:"font-medium text-body"},Ce=["placeholder"],ke={key:1,class:"mt-4"},Te={class:"mt-6 flex justify-end gap-2"},Se=["disabled"],Ee=["disabled"],Ae={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},Le=Q({__name:"ConfirmDeleteModal",props:{modelValue:{type:Boolean},title:{default:"Delete item"},itemLabel:{},itemName:{},message:{},confirmText:{default:"Delete"},cancelText:{default:"Cancel"},requireMatchText:{},loading:{type:Boolean,default:!1},size:{default:"md"},modalClass:{default:""}},emits:["update:modelValue","confirm","cancel"],setup(e,{emit:l}){const n=e,i=l,f=y({get:()=>n.modelValue,set:t=>i("update:modelValue",t)}),p=U(""),b=y(()=>n.message?n.message:`This action cannot be undone. This will permanently delete ${[n.itemLabel,n.itemName].filter(Boolean).join(" ")||"this item"}.`),r=t=>String(t??"").normalize("NFKC").toLowerCase().replace(/[\u200B-\u200D\u2060\u00AD\uFEFF]/g,"").replace(/\s+/g," ").trim(),a=y(()=>{if(!n.requireMatchText)return!0;const t=r(p.value),s=r(n.requireMatchText);return console.log({a:t,b:s,equal:t===s}),t===s}),c=y(()=>`!py-0 bg-card text-body ${n.modalClass}`.trim());function m(){p.value="",i("cancel"),f.value=!1}function w(){!a.value||n.loading||(i("confirm"),p.value="")}function v(){a.value&&w()}return(t,s)=>(T(),J(X,{modelValue:f.value,"onUpdate:modelValue":s[1]||(s[1]=x=>f.value=x),size:t.size,modalClass:c.value},{default:Y(()=>[d("div",he,[d("div",ve,[s[4]||(s[4]=d("div",{class:"h-10 w-10 rounded-full bg-red-100 text-red-600 grid place-items-center dark:bg-red-500/15"},[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor"},[d("path",{d:"M9 3h6a1 1 0 0 1 1 1v1h4a1 1 0 1 1 0 2h-1.077l-1.27 12.03A3 3 0 0 1 14.67 22H9.33a3 3 0 0 1-2.982-2.97L5.077 7H4a1 1 0 1 1 0-2h4V4a1 1 0 0 1 1-1Zm2 0v1h2V3h-2ZM7.08 7l1.2 11.37A1 1 0 0 0 9.33 20h5.34a1 1 0 0 0 1.05-.88L16.92 7H7.08ZM10 9a1 1 0 0 1 1 1v7a1 1 0 1 1-2 0v-7a1 1 0 0 1 1-1Zm4 0a1 1 0 0 1 1 1v7a1 1 0 1 1-2 0v-7a1 1 0 0 1 1-1Z"})])],-1)),d("div",be,[d("h3",ge,C(t.title),1),d("p",we,[N(t.$slots,"message",{},()=>[S(C(b.value),1)])]),t.requireMatchText?(T(),W("div",ye,[d("label",xe,[s[2]||(s[2]=S(" Type ")),d("span",Me,C(t.requireMatchText),1),s[3]||(s[3]=S(" to confirm "))]),ee(d("input",{"onUpdate:modelValue":s[0]||(s[0]=x=>p.value=x),class:"mt-1 w-full border rounded-lg px-3 py-2 text-sm border-ui bg-card text-body outline-none",placeholder:t.requireMatchText,onKeyup:oe(v,["enter"])},null,40,Ce),[[te,p.value]])])):B("",!0),t.$slots.extra?(T(),W("div",ke,[N(t.$slots,"extra")])):B("",!0)])]),d("div",Te,[d("button",{type:"button",class:"px-3 py-2 cursor-pointer text-sm rounded-md border border-ui bg-card text-body hover:bg-surface-2 disabled:opacity-50",disabled:t.loading,onClick:ne(m,["stop"])},C(t.cancelText),9,Se),d("button",{type:"button",class:"px-3 py-2 text-sm rounded-md text-white bg-red-600 hover:bg-red-700 disabled:opacity-50 flex items-center gap-2",disabled:!a.value||t.loading,onClick:w},[t.loading?(T(),W("svg",Ae,s[5]||(s[5]=[d("circle",{cx:"12",cy:"12",r:"10","stroke-width":"4",class:"opacity-25"},null,-1),d("path",{d:"M4 12a8 8 0 0 1 8-8","stroke-width":"4",class:"opacity-75"},null,-1)]))):B("",!0),S(" "+C(t.confirmText),1)],8,Ee)])])]),_:3},8,["modelValue","size","modalClass"]))}});export{Le as _,We as o,Be as u};
