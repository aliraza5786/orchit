const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/InviteUsers-Op6wrAsl.js","assets/BaseEmailChip.vue_vue_type_script_setup_true_lang-DKPUMUkb.js","assets/auth-Cp90EHGz.js","assets/Login-DkyuyD_O.js","assets/AuthLayout.vue_vue_type_script_setup_true_lang-BvCykG8Q.js","assets/favicon-BAFXWHLW.js","assets/Header-ChnpSJUm.js","assets/useTheme-CLgf_JyL.js","assets/dark-logo-Mcb_sJlF.js","assets/Header-CEKj-cpt.css","assets/Register-Cj7nZvxG.js","assets/OtpVerification-DPulG5oD.js","assets/CreateProfile-CvPEUidK.js","assets/CreateProfile-Bk6zzYzI.css","assets/ForgotPassword-CNX9WbRG.js","assets/ResetPassword-BdnTVdVR.js","assets/FinishProfile-BsXLaZK_.js","assets/ModuleDetail-BrVHr18Q.js","assets/KanbanSkeleton-F8PoQChk.js","assets/KanbanSkeleton-BjQaxKe3.css","assets/Dropdown-C94uNCgO.js","assets/ConfirmDeleteModal.vue_vue_type_script_setup_true_lang-CZqxRUBp.js","assets/Dropdown-P9l2osTz.css","assets/useMore-D1PWY4DH.js","assets/KanbanTicket-6oWKYcdW.js","assets/DropMenu.vue_vue_type_script_setup_true_lang-Cngdo3Q3.js","assets/KanbanTicket-Dq65hWRe.css","assets/Plan-B1d6KHWA.js","assets/Loader-DILrENtp.js","assets/Loader-88TN_dqm.css","assets/BaseTextAreaField.vue_vue_type_script_setup_true_lang-BRd6L9BU.js","assets/SearchBar.vue_vue_type_script_setup_true_lang-BLxC5c_Q.js","assets/TimelineView-DX1vB3UI.js","assets/TimelineView-D5oJ6xS-.css","assets/fuse-Ch1WBRTM.js","assets/lodash-CQYOKM_D.js","assets/_commonjsHelpers-_d1bhYXs.js","assets/Plan-BtA6koCb.css","assets/Pin-BiljVpvO.js","assets/CreateTaskModal.vue_vue_type_script_setup_true_lang-Ccd7Ee-r.js","assets/SidePanel-B0hYbeGI.js","assets/SidePanel-U7OOMI6M.css","assets/CreateSheetModal-Ba3DciJu.js","assets/IconPicker-DdkWALLq.js","assets/IconPicker-CIMr_3tu.css","assets/AudioRecorder.vue_vue_type_script_setup_true_lang-1NmFcBr7.js","assets/CreateSheetModal--7RYCgy-.css","assets/Pin-BBRI3drt.css","assets/LandingPageLayout-CwGtefEI.js","assets/InfoRow.vue_vue_type_script_setup_true_lang-DWXVvfbu.js","assets/usePackages-CyYuE2gG.js","assets/FormatDate-jdRmSPDV.js","assets/LandingPageLayout-ePeKxNU6.css","assets/Home-BX3VVlzq.js","assets/usePeople-74WI8EQZ.js","assets/permissionUtils-fD2X1oS-.js","assets/Home-B-C_jqHl.css","assets/CreateWorkspace-DtRBX31m.js","assets/CreateWorkspace-ByWROSmv.css","assets/WorkspaceLayout-U6nKSOiL.js","assets/ProgressBar.vue_vue_type_script_setup_true_lang-Cm7VUz1x.js","assets/WorkspaceLayout-DKRJTZY9.css","assets/Peak-N-_nwpQh.js","assets/Peak-aTn-Ra1T.css","assets/People-C6SZIn21.js","assets/People-VJO3YSFf.css","assets/Process2-D40LCCta.js","assets/vuedraggable.umd-Cwo9JqM-.js","assets/Process2-WRhmgi71.css","assets/More-DZric6pR.js","assets/More-BR_KiE_F.css","assets/Product-DRIamjwZ.js","assets/Product-ChBxYmj9.css","assets/LandingPageLayout-0BqSbWx-.js","assets/LandingHome-vaBiImGI.js","assets/LandingHome-Ceo_h74P.css","assets/Pricing-CdgjZiAJ.js","assets/Pricing-BP_qConX.css","assets/ContactUs-DWbIxbMT.js","assets/ContactUs-GOFufgAv.css","assets/BlogList-CN5btKvM.js","assets/useBlogs-Dg9sjFbX.js","assets/BlogDetail-B6qlvGa6.js","assets/BlogDetail-MvTaI9pL.css","assets/KnowledgeCenterView-BHbMrJpc.js","assets/KnowledgeCenterView-CJGYwGx9.css"])))=>i.map(i=>d[i]);
var YP=Object.defineProperty;var dD=r=>{throw TypeError(r)};var WP=(r,e,t)=>e in r?YP(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var dn=(r,e,t)=>WP(r,typeof e!="symbol"?e+"":e,t),Av=(r,e,t)=>e.has(r)||dD("Cannot "+t);var G=(r,e,t)=>(Av(r,e,"read from private field"),t?t.call(r):e.get(r)),lt=(r,e,t)=>e.has(r)?dD("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),Ge=(r,e,t,i)=>(Av(r,e,"write to private field"),i?i.call(r,t):e.set(r,t),t),Rt=(r,e,t)=>(Av(r,e,"access private method"),t);var ff=(r,e,t,i)=>({set _(n){Ge(r,e,n,t)},get _(){return G(r,e,i)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Dr(r){const e=Object.create(null);for(const t of r.split(","))e[t]=1;return t=>t in e}const _t={},bh=[],Fr=()=>{},AA=()=>!1,xc=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),Cy=r=>r.startsWith("onUpdate:"),fi=Object.assign,by=(r,e)=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)},qP=Object.prototype.hasOwnProperty,Zt=(r,e)=>qP.call(r,e),et=Array.isArray,Ih=r=>eu(r)==="[object Map]",Al=r=>eu(r)==="[object Set]",S0=r=>eu(r)==="[object Date]",EA=r=>eu(r)==="[object RegExp]",Mt=r=>typeof r=="function",li=r=>typeof r=="string",ps=r=>typeof r=="symbol",hi=r=>r!==null&&typeof r=="object",Iy=r=>(hi(r)||Mt(r))&&Mt(r.then)&&Mt(r.catch),YC=Object.prototype.toString,eu=r=>YC.call(r),kA=r=>eu(r).slice(8,-1),Rp=r=>eu(r)==="[object Object]",Dy=r=>li(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,Dh=Dr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),GP=Dr("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Ty=r=>{const e=Object.create(null);return t=>e[t]||(e[t]=r(t))},$P=/-(\w)/g,cn=Ty(r=>r.replace($P,(e,t)=>t?t.toUpperCase():"")),KP=/\B([A-Z])/g,Un=Ty(r=>r.replace(KP,"-$1").toLowerCase()),tu=Ty(r=>r.charAt(0).toUpperCase()+r.slice(1)),Th=Ty(r=>r?`on${tu(r)}`:""),Pn=(r,e)=>!Object.is(r,e),wh=(r,...e)=>{for(let t=0;t<r.length;t++)r[t](...e)},WC=(r,e,t,i=!1)=>{Object.defineProperty(r,e,{configurable:!0,enumerable:!1,writable:i,value:t})},Wd=r=>{const e=parseFloat(r);return isNaN(e)?r:e},qd=r=>{const e=li(r)?Number(r):NaN;return isNaN(e)?r:e};let pD;const jp=()=>pD||(pD=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),JP=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;function ZP(r){return JP.test(r)?`__props.${r}`:`__props[${JSON.stringify(r)}]`}function XP(r,e){return r+JSON.stringify(e,(t,i)=>typeof i=="function"?i.toString():i)}const e4={TEXT:1,1:"TEXT",CLASS:2,2:"CLASS",STYLE:4,4:"STYLE",PROPS:8,8:"PROPS",FULL_PROPS:16,16:"FULL_PROPS",NEED_HYDRATION:32,32:"NEED_HYDRATION",STABLE_FRAGMENT:64,64:"STABLE_FRAGMENT",KEYED_FRAGMENT:128,128:"KEYED_FRAGMENT",UNKEYED_FRAGMENT:256,256:"UNKEYED_FRAGMENT",NEED_PATCH:512,512:"NEED_PATCH",DYNAMIC_SLOTS:1024,1024:"DYNAMIC_SLOTS",DEV_ROOT_FRAGMENT:2048,2048:"DEV_ROOT_FRAGMENT",CACHED:-1,"-1":"CACHED",BAIL:-2,"-2":"BAIL"},t4={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"NEED_HYDRATION",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},i4={ELEMENT:1,1:"ELEMENT",FUNCTIONAL_COMPONENT:2,2:"FUNCTIONAL_COMPONENT",STATEFUL_COMPONENT:4,4:"STATEFUL_COMPONENT",TEXT_CHILDREN:8,8:"TEXT_CHILDREN",ARRAY_CHILDREN:16,16:"ARRAY_CHILDREN",SLOTS_CHILDREN:32,32:"SLOTS_CHILDREN",TELEPORT:64,64:"TELEPORT",SUSPENSE:128,128:"SUSPENSE",COMPONENT_SHOULD_KEEP_ALIVE:256,256:"COMPONENT_SHOULD_KEEP_ALIVE",COMPONENT_KEPT_ALIVE:512,512:"COMPONENT_KEPT_ALIVE",COMPONENT:6,6:"COMPONENT"},n4={STABLE:1,1:"STABLE",DYNAMIC:2,2:"DYNAMIC",FORWARDED:3,3:"FORWARDED"},r4={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},s4="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",qC=Dr(s4),o4=qC,fD=2;function a4(r,e=0,t=r.length){if(e=Math.max(0,Math.min(e,r.length)),t=Math.max(0,Math.min(t,r.length)),e>t)return"";let i=r.split(/(\r?\n)/);const n=i.filter((a,l)=>l%2===1);i=i.filter((a,l)=>l%2===0);let s=0;const o=[];for(let a=0;a<i.length;a++)if(s+=i[a].length+(n[a]&&n[a].length||0),s>=e){for(let l=a-fD;l<=a+fD||t>s;l++){if(l<0||l>=i.length)continue;const h=l+1;o.push(`${h}${" ".repeat(Math.max(3-String(h).length,0))}|  ${i[l]}`);const u=i[l].length,c=n[l]&&n[l].length||0;if(l===a){const d=e-(s-(u+c)),f=Math.max(1,t>s?u-d:t-e);o.push("   |  "+" ".repeat(d)+"^".repeat(f))}else if(l>a){if(t>s){const d=Math.max(Math.min(t-s,u),1);o.push("   |  "+"^".repeat(d))}s+=u+c}}break}return o.join(`
`)}function Xi(r){if(et(r)){const e={};for(let t=0;t<r.length;t++){const i=r[t],n=li(i)?LA(i):Xi(i);if(n)for(const s in n)e[s]=n[s]}return e}else if(li(r)||hi(r))return r}const l4=/;(?![^(]*\))/g,h4=/:([^]+)/,u4=/\/\*[^]*?\*\//g;function LA(r){const e={};return r.replace(u4,"").split(l4).forEach(t=>{if(t){const i=t.split(h4);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function c4(r){if(!r)return"";if(li(r))return r;let e="";for(const t in r){const i=r[t];if(li(i)||typeof i=="number"){const n=t.startsWith("--")?t:Un(t);e+=`${n}:${i};`}}return e}function $e(r){let e="";if(li(r))e=r;else if(et(r))for(let t=0;t<r.length;t++){const i=$e(r[t]);i&&(e+=i+" ")}else if(hi(r))for(const t in r)r[t]&&(e+=t+" ");return e.trim()}function Gd(r){if(!r)return null;let{class:e,style:t}=r;return e&&!li(e)&&(r.class=$e(e)),t&&(r.style=Xi(t)),r}const d4="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",p4="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",f4="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",g4="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",m4=Dr(d4),y4=Dr(p4),v4=Dr(f4),M4=Dr(g4),zA="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",OA=Dr(zA),S4=Dr(zA+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function GC(r){return!!r||r===""}const C4=/[>/="'\u0009\u000a\u000c\u0020]/,Ev={};function b4(r){if(Ev.hasOwnProperty(r))return Ev[r];const e=C4.test(r);return e&&console.error(`unsafe attribute name: ${r}`),Ev[r]=!e}const I4={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},D4=Dr("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),T4=Dr("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan"),w4=Dr("accent,accentunder,actiontype,align,alignmentscope,altimg,altimg-height,altimg-valign,altimg-width,alttext,bevelled,close,columnsalign,columnlines,columnspan,denomalign,depth,dir,display,displaystyle,encoding,equalcolumns,equalrows,fence,fontstyle,fontweight,form,frame,framespacing,groupalign,height,href,id,indentalign,indentalignfirst,indentalignlast,indentshift,indentshiftfirst,indentshiftlast,indextype,justify,largetop,largeop,lquote,lspace,mathbackground,mathcolor,mathsize,mathvariant,maxsize,minlabelspacing,mode,other,overflow,position,rowalign,rowlines,rowspan,rquote,rspace,scriptlevel,scriptminsize,scriptsizemultiplier,selection,separator,separators,shift,side,src,stackalign,stretchy,subscriptshift,superscriptshift,symmetric,voffset,width,widths,xlink:href,xlink:show,xlink:type,xmlns");function x4(r){if(r==null)return!1;const e=typeof r;return e==="string"||e==="number"||e==="boolean"}const N4=/["'&<>]/;function A4(r){const e=""+r,t=N4.exec(e);if(!t)return e;let i="",n,s,o=0;for(s=t.index;s<e.length;s++){switch(e.charCodeAt(s)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#39;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}o!==s&&(i+=e.slice(o,s)),o=s+1,i+=n}return o!==s?i+e.slice(o,s):i}const E4=/^-?>|<!--|-->|--!>|<!-$/g;function k4(r){return r.replace(E4,"")}const RA=/[ !"#$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g;function L4(r,e){return r.replace(RA,t=>e?t==='"'?'\\\\\\"':`\\\\${t}`:`\\${t}`)}function z4(r,e){if(r.length!==e.length)return!1;let t=!0;for(let i=0;t&&i<r.length;i++)t=ha(r[i],e[i]);return t}function ha(r,e){if(r===e)return!0;let t=S0(r),i=S0(e);if(t||i)return t&&i?r.getTime()===e.getTime():!1;if(t=ps(r),i=ps(e),t||i)return r===e;if(t=et(r),i=et(e),t||i)return t&&i?z4(r,e):!1;if(t=hi(r),i=hi(e),t||i){if(!t||!i)return!1;const n=Object.keys(r).length,s=Object.keys(e).length;if(n!==s)return!1;for(const o in r){const a=r.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!ha(r[o],e[o]))return!1}}return String(r)===String(e)}function Pp(r,e){return r.findIndex(t=>ha(t,e))}const jA=r=>!!(r&&r.__v_isRef===!0),tt=r=>li(r)?r:r==null?"":et(r)||hi(r)&&(r.toString===YC||!Mt(r.toString))?jA(r)?tt(r.value):JSON.stringify(r,PA,2):String(r),PA=(r,e)=>jA(e)?PA(r,e.value):Ih(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[i,n],s)=>(t[kv(i,s)+" =>"]=n,t),{})}:Al(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>kv(t))}:ps(e)?kv(e):hi(e)&&!et(e)&&!Rp(e)?String(e):e,kv=(r,e="")=>{var t;return ps(r)?`Symbol(${(t=r.description)!=null?t:e})`:r},Cse=Object.freeze(Object.defineProperty({__proto__:null,EMPTY_ARR:bh,EMPTY_OBJ:_t,NO:AA,NOOP:Fr,PatchFlagNames:t4,PatchFlags:e4,ShapeFlags:i4,SlotFlags:n4,camelize:cn,capitalize:tu,cssVarNameEscapeSymbolsRE:RA,def:WC,escapeHtml:A4,escapeHtmlComment:k4,extend:fi,genCacheKey:XP,genPropsAccessExp:ZP,generateCodeFrame:a4,getEscapedCssVarName:L4,getGlobalThis:jp,hasChanged:Pn,hasOwn:Zt,hyphenate:Un,includeBooleanAttr:GC,invokeArrayFns:wh,isArray:et,isBooleanAttr:S4,isBuiltInDirective:GP,isDate:S0,isFunction:Mt,isGloballyAllowed:qC,isGloballyWhitelisted:o4,isHTMLTag:m4,isIntegerKey:Dy,isKnownHtmlAttr:D4,isKnownMathMLAttr:w4,isKnownSvgAttr:T4,isMap:Ih,isMathMLTag:v4,isModelListener:Cy,isObject:hi,isOn:xc,isPlainObject:Rp,isPromise:Iy,isRegExp:EA,isRenderableAttrValue:x4,isReservedProp:Dh,isSSRSafeAttrName:b4,isSVGTag:y4,isSet:Al,isSpecialBooleanAttr:OA,isString:li,isSymbol:ps,isVoidTag:M4,looseEqual:ha,looseIndexOf:Pp,looseToNumber:Wd,makeMap:Dr,normalizeClass:$e,normalizeProps:Gd,normalizeStyle:Xi,objectToString:YC,parseStringStyle:LA,propsToAttrMap:I4,remove:by,slotFlagsText:r4,stringifyStyle:c4,toDisplayString:tt,toHandlerKey:Th,toNumber:qd,toRawType:kA,toTypeString:eu},Symbol.toStringTag,{value:"Module"}));/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let On;class wy{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=On,!e&&On&&(this.index=(On.scopes||(On.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=On;try{return On=this,e()}finally{On=t}}}on(){++this._on===1&&(this.prevScope=On,On=this)}off(){this._on>0&&--this._on===0&&(On=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(this.effects.length=0,t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function xy(r){return new wy(r)}function Ny(){return On}function Fp(r,e=!1){On&&On.cleanups.push(r)}let Mi;const Lv=new WeakSet;class ac{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,On&&On.active&&On.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Lv.has(this)&&(Lv.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||BA(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,gD(this),UA(this);const e=Mi,t=As;Mi=this,As=!0;try{return this.fn()}finally{HA(this),Mi=e,As=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)JC(e);this.deps=this.depsTail=void 0,gD(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Lv.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){C0(this)&&this.run()}get dirty(){return C0(this)}}let FA=0,Id,Dd;function BA(r,e=!1){if(r.flags|=8,e){r.next=Dd,Dd=r;return}r.next=Id,Id=r}function $C(){FA++}function KC(){if(--FA>0)return;if(Dd){let e=Dd;for(Dd=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let r;for(;Id;){let e=Id;for(Id=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){r||(r=i)}e=t}}if(r)throw r}function UA(r){for(let e=r.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function HA(r){let e,t=r.depsTail,i=t;for(;i;){const n=i.prevDep;i.version===-1?(i===t&&(t=n),JC(i),O4(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}r.deps=e,r.depsTail=t}function C0(r){for(let e=r.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(VA(e.dep.computed)||e.dep.version!==e.version))return!0;return!!r._dirty}function VA(r){if(r.flags&4&&!(r.flags&16)||(r.flags&=-17,r.globalVersion===$d)||(r.globalVersion=$d,!r.isSSR&&r.flags&128&&(!r.deps&&!r._dirty||!C0(r))))return;r.flags|=2;const e=r.dep,t=Mi,i=As;Mi=r,As=!0;try{UA(r);const n=r.fn(r._value);(e.version===0||Pn(n,r._value))&&(r.flags|=128,r._value=n,e.version++)}catch(n){throw e.version++,n}finally{Mi=t,As=i,HA(r),r.flags&=-3}}function JC(r,e=!1){const{dep:t,prevSub:i,nextSub:n}=r;if(i&&(i.nextSub=n,r.prevSub=void 0),n&&(n.prevSub=i,r.nextSub=void 0),t.subs===r&&(t.subs=i,!i&&t.computed)){t.computed.flags&=-5;for(let s=t.computed.deps;s;s=s.nextDep)JC(s,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function O4(r){const{prevDep:e,nextDep:t}=r;e&&(e.nextDep=t,r.prevDep=void 0),t&&(t.prevDep=e,r.nextDep=void 0)}function QA(r,e){r.effect instanceof ac&&(r=r.effect.fn);const t=new ac(r);e&&fi(t,e);try{t.run()}catch(n){throw t.stop(),n}const i=t.run.bind(t);return i.effect=t,i}function _A(r){r.effect.stop()}let As=!0;const YA=[];function ua(){YA.push(As),As=!1}function ca(){const r=YA.pop();As=r===void 0?!0:r}function gD(r){const{cleanup:e}=r;if(r.cleanup=void 0,e){const t=Mi;Mi=void 0;try{e()}finally{Mi=t}}}let $d=0,R4=class{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class Ay{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Mi||!As||Mi===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==Mi)t=this.activeLink=new R4(Mi,this),Mi.deps?(t.prevDep=Mi.depsTail,Mi.depsTail.nextDep=t,Mi.depsTail=t):Mi.deps=Mi.depsTail=t,WA(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const i=t.nextDep;i.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=i),t.prevDep=Mi.depsTail,t.nextDep=void 0,Mi.depsTail.nextDep=t,Mi.depsTail=t,Mi.deps===t&&(Mi.deps=i)}return t}trigger(e){this.version++,$d++,this.notify(e)}notify(e){$C();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{KC()}}}function WA(r){if(r.dep.sc++,r.sub.flags&4){const e=r.dep.computed;if(e&&!r.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)WA(i)}const t=r.dep.subs;t!==r&&(r.prevSub=t,t&&(t.nextSub=r)),r.dep.subs=r}}const qg=new WeakMap,xh=Symbol(""),b0=Symbol(""),Kd=Symbol("");function Fn(r,e,t){if(As&&Mi){let i=qg.get(r);i||qg.set(r,i=new Map);let n=i.get(t);n||(i.set(t,n=new Ay),n.map=i,n.key=t),n.track()}}function qo(r,e,t,i,n,s){const o=qg.get(r);if(!o){$d++;return}const a=l=>{l&&l.trigger()};if($C(),e==="clear")o.forEach(a);else{const l=et(r),h=l&&Dy(t);if(l&&t==="length"){const u=Number(i);o.forEach((c,d)=>{(d==="length"||d===Kd||!ps(d)&&d>=u)&&a(c)})}else switch((t!==void 0||o.has(void 0))&&a(o.get(t)),h&&a(o.get(Kd)),e){case"add":l?h&&a(o.get("length")):(a(o.get(xh)),Ih(r)&&a(o.get(b0)));break;case"delete":l||(a(o.get(xh)),Ih(r)&&a(o.get(b0)));break;case"set":Ih(r)&&a(o.get(xh));break}}KC()}function j4(r,e){const t=qg.get(r);return t&&t.get(e)}function ou(r){const e=Vt(r);return e===r?e:(Fn(e,"iterate",Kd),yr(r)?e:e.map(wn))}function Ey(r){return Fn(r=Vt(r),"iterate",Kd),r}const P4={__proto__:null,[Symbol.iterator](){return zv(this,Symbol.iterator,wn)},concat(...r){return ou(this).concat(...r.map(e=>et(e)?ou(e):e))},entries(){return zv(this,"entries",r=>(r[1]=wn(r[1]),r))},every(r,e){return Io(this,"every",r,e,void 0,arguments)},filter(r,e){return Io(this,"filter",r,e,t=>t.map(wn),arguments)},find(r,e){return Io(this,"find",r,e,wn,arguments)},findIndex(r,e){return Io(this,"findIndex",r,e,void 0,arguments)},findLast(r,e){return Io(this,"findLast",r,e,wn,arguments)},findLastIndex(r,e){return Io(this,"findLastIndex",r,e,void 0,arguments)},forEach(r,e){return Io(this,"forEach",r,e,void 0,arguments)},includes(...r){return Ov(this,"includes",r)},indexOf(...r){return Ov(this,"indexOf",r)},join(r){return ou(this).join(r)},lastIndexOf(...r){return Ov(this,"lastIndexOf",r)},map(r,e){return Io(this,"map",r,e,void 0,arguments)},pop(){return Bc(this,"pop")},push(...r){return Bc(this,"push",r)},reduce(r,...e){return mD(this,"reduce",r,e)},reduceRight(r,...e){return mD(this,"reduceRight",r,e)},shift(){return Bc(this,"shift")},some(r,e){return Io(this,"some",r,e,void 0,arguments)},splice(...r){return Bc(this,"splice",r)},toReversed(){return ou(this).toReversed()},toSorted(r){return ou(this).toSorted(r)},toSpliced(...r){return ou(this).toSpliced(...r)},unshift(...r){return Bc(this,"unshift",r)},values(){return zv(this,"values",wn)}};function zv(r,e,t){const i=Ey(r),n=i[e]();return i!==r&&!yr(r)&&(n._next=n.next,n.next=()=>{const s=n._next();return s.value&&(s.value=t(s.value)),s}),n}const F4=Array.prototype;function Io(r,e,t,i,n,s){const o=Ey(r),a=o!==r&&!yr(r),l=o[e];if(l!==F4[e]){const c=l.apply(r,s);return a?wn(c):c}let h=t;o!==r&&(a?h=function(c,d){return t.call(this,wn(c),d,r)}:t.length>2&&(h=function(c,d){return t.call(this,c,d,r)}));const u=l.call(o,h,i);return a&&n?n(u):u}function mD(r,e,t,i){const n=Ey(r);let s=t;return n!==r&&(yr(r)?t.length>3&&(s=function(o,a,l){return t.call(this,o,a,l,r)}):s=function(o,a,l){return t.call(this,o,wn(a),l,r)}),n[e](s,...i)}function Ov(r,e,t){const i=Vt(r);Fn(i,"iterate",Kd);const n=i[e](...t);return(n===-1||n===!1)&&Bp(t[0])?(t[0]=Vt(t[0]),i[e](...t)):n}function Bc(r,e,t=[]){ua(),$C();const i=Vt(r)[e].apply(r,t);return KC(),ca(),i}const B4=Dr("__proto__,__v_isRef,__isVue"),qA=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(ps));function U4(r){ps(r)||(r=String(r));const e=Vt(this);return Fn(e,"has",r),e.hasOwnProperty(r)}class GA{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,i){if(t==="__v_skip")return e.__v_skip;const n=this._isReadonly,s=this._isShallow;if(t==="__v_isReactive")return!n;if(t==="__v_isReadonly")return n;if(t==="__v_isShallow")return s;if(t==="__v_raw")return i===(n?s?eE:XA:s?ZA:JA).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=et(e);if(!n){let l;if(o&&(l=P4[t]))return l;if(t==="hasOwnProperty")return U4}const a=Reflect.get(e,t,bi(e)?e:i);return(ps(t)?qA.has(t):B4(t))||(n||Fn(e,"get",t),s)?a:bi(a)?o&&Dy(t)?a:a.value:hi(a)?n?Ac(a):fs(a):a}}class $A extends GA{constructor(e=!1){super(!1,e)}set(e,t,i,n){let s=e[t];if(!this._isShallow){const l=co(s);if(!yr(i)&&!co(i)&&(s=Vt(s),i=Vt(i)),!et(e)&&bi(s)&&!bi(i))return l?!1:(s.value=i,!0)}const o=et(e)&&Dy(t)?Number(t)<e.length:Zt(e,t),a=Reflect.set(e,t,i,bi(e)?e:n);return e===Vt(n)&&(o?Pn(i,s)&&qo(e,"set",t,i):qo(e,"add",t,i)),a}deleteProperty(e,t){const i=Zt(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&i&&qo(e,"delete",t,void 0),n}has(e,t){const i=Reflect.has(e,t);return(!ps(t)||!qA.has(t))&&Fn(e,"has",t),i}ownKeys(e){return Fn(e,"iterate",et(e)?"length":xh),Reflect.ownKeys(e)}}class KA extends GA{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const H4=new $A,V4=new KA,Q4=new $A(!0),_4=new KA(!0),I0=r=>r,gf=r=>Reflect.getPrototypeOf(r);function Y4(r,e,t){return function(...i){const n=this.__v_raw,s=Vt(n),o=Ih(s),a=r==="entries"||r===Symbol.iterator&&o,l=r==="keys"&&o,h=n[r](...i),u=t?I0:e?Gg:wn;return!e&&Fn(s,"iterate",l?b0:xh),{next(){const{value:c,done:d}=h.next();return d?{value:c,done:d}:{value:a?[u(c[0]),u(c[1])]:u(c),done:d}},[Symbol.iterator](){return this}}}}function mf(r){return function(...e){return r==="delete"?!1:r==="clear"?void 0:this}}function W4(r,e){const t={get(n){const s=this.__v_raw,o=Vt(s),a=Vt(n);r||(Pn(n,a)&&Fn(o,"get",n),Fn(o,"get",a));const{has:l}=gf(o),h=e?I0:r?Gg:wn;if(l.call(o,n))return h(s.get(n));if(l.call(o,a))return h(s.get(a));s!==o&&s.get(n)},get size(){const n=this.__v_raw;return!r&&Fn(Vt(n),"iterate",xh),Reflect.get(n,"size",n)},has(n){const s=this.__v_raw,o=Vt(s),a=Vt(n);return r||(Pn(n,a)&&Fn(o,"has",n),Fn(o,"has",a)),n===a?s.has(n):s.has(n)||s.has(a)},forEach(n,s){const o=this,a=o.__v_raw,l=Vt(a),h=e?I0:r?Gg:wn;return!r&&Fn(l,"iterate",xh),a.forEach((u,c)=>n.call(s,h(u),h(c),o))}};return fi(t,r?{add:mf("add"),set:mf("set"),delete:mf("delete"),clear:mf("clear")}:{add(n){!e&&!yr(n)&&!co(n)&&(n=Vt(n));const s=Vt(this);return gf(s).has.call(s,n)||(s.add(n),qo(s,"add",n,n)),this},set(n,s){!e&&!yr(s)&&!co(s)&&(s=Vt(s));const o=Vt(this),{has:a,get:l}=gf(o);let h=a.call(o,n);h||(n=Vt(n),h=a.call(o,n));const u=l.call(o,n);return o.set(n,s),h?Pn(s,u)&&qo(o,"set",n,s):qo(o,"add",n,s),this},delete(n){const s=Vt(this),{has:o,get:a}=gf(s);let l=o.call(s,n);l||(n=Vt(n),l=o.call(s,n)),a&&a.call(s,n);const h=s.delete(n);return l&&qo(s,"delete",n,void 0),h},clear(){const n=Vt(this),s=n.size!==0,o=n.clear();return s&&qo(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{t[n]=Y4(n,r,e)}),t}function ky(r,e){const t=W4(r,e);return(i,n,s)=>n==="__v_isReactive"?!r:n==="__v_isReadonly"?r:n==="__v_raw"?i:Reflect.get(Zt(t,n)&&n in i?t:i,n,s)}const q4={get:ky(!1,!1)},G4={get:ky(!1,!0)},$4={get:ky(!0,!1)},K4={get:ky(!0,!0)},JA=new WeakMap,ZA=new WeakMap,XA=new WeakMap,eE=new WeakMap;function J4(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Z4(r){return r.__v_skip||!Object.isExtensible(r)?0:J4(kA(r))}function fs(r){return co(r)?r:zy(r,!1,H4,q4,JA)}function Nc(r){return zy(r,!1,Q4,G4,ZA)}function Ac(r){return zy(r,!0,V4,$4,XA)}function Ly(r){return zy(r,!0,_4,K4,eE)}function zy(r,e,t,i,n){if(!hi(r)||r.__v_raw&&!(e&&r.__v_isReactive))return r;const s=Z4(r);if(s===0)return r;const o=n.get(r);if(o)return o;const a=new Proxy(r,s===2?i:t);return n.set(r,a),a}function Es(r){return co(r)?Es(r.__v_raw):!!(r&&r.__v_isReactive)}function co(r){return!!(r&&r.__v_isReadonly)}function yr(r){return!!(r&&r.__v_isShallow)}function Bp(r){return r?!!r.__v_raw:!1}function Vt(r){const e=r&&r.__v_raw;return e?Vt(e):r}function Ec(r){return!Zt(r,"__v_skip")&&Object.isExtensible(r)&&WC(r,"__v_skip",!0),r}const wn=r=>hi(r)?fs(r):r,Gg=r=>hi(r)?Ac(r):r;function bi(r){return r?r.__v_isRef===!0:!1}function Pe(r){return tE(r,!1)}function Oy(r){return tE(r,!0)}function tE(r,e){return bi(r)?r:new X4(r,e)}class X4{constructor(e,t){this.dep=new Ay,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:Vt(e),this._value=t?e:wn(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,i=this.__v_isShallow||yr(e)||co(e);e=i?e:Vt(e),Pn(e,t)&&(this._rawValue=e,this._value=i?e:wn(e),this.dep.trigger())}}function iE(r){r.dep&&r.dep.trigger()}function be(r){return bi(r)?r.value:r}function nE(r){return Mt(r)?r():be(r)}const eF={get:(r,e,t)=>e==="__v_raw"?r:be(Reflect.get(r,e,t)),set:(r,e,t,i)=>{const n=r[e];return bi(n)&&!bi(t)?(n.value=t,!0):Reflect.set(r,e,t,i)}};function Ry(r){return Es(r)?r:new Proxy(r,eF)}class tF{constructor(e){this.__v_isRef=!0,this._value=void 0;const t=this.dep=new Ay,{get:i,set:n}=e(t.track.bind(t),t.trigger.bind(t));this._get=i,this._set=n}get value(){return this._value=this._get()}set value(e){this._set(e)}}function jy(r){return new tF(r)}function Up(r){const e=et(r)?new Array(r.length):{};for(const t in r)e[t]=sE(r,t);return e}class iF{constructor(e,t,i){this._object=e,this._key=t,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return j4(Vt(this._object),this._key)}}class nF{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function rE(r,e,t){return bi(r)?r:Mt(r)?new nF(r):hi(r)&&arguments.length>1?sE(r,e,t):Pe(r)}function sE(r,e,t){const i=r[e];return bi(i)?i:new iF(r,e,t)}class rF{constructor(e,t,i){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Ay(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=$d-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Mi!==this)return BA(this,!0),!0}get value(){const e=this.dep.track();return VA(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function sF(r,e,t=!1){let i,n;return Mt(r)?i=r:(i=r.get,n=r.set),new rF(i,n,t)}const oE={GET:"get",HAS:"has",ITERATE:"iterate"},aE={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},yf={},$g=new WeakMap;let La;function lE(){return La}function ZC(r,e=!1,t=La){if(t){let i=$g.get(t);i||$g.set(t,i=[]),i.push(r)}}function oF(r,e,t=_t){const{immediate:i,deep:n,once:s,scheduler:o,augmentJob:a,call:l}=t,h=b=>n?b:yr(b)||n===!1||n===0?Go(b,1):Go(b);let u,c,d,f,g=!1,m=!1;if(bi(r)?(c=()=>r.value,g=yr(r)):Es(r)?(c=()=>h(r),g=!0):et(r)?(m=!0,g=r.some(b=>Es(b)||yr(b)),c=()=>r.map(b=>{if(bi(b))return b.value;if(Es(b))return h(b);if(Mt(b))return l?l(b,2):b()})):Mt(r)?e?c=l?()=>l(r,2):r:c=()=>{if(d){ua();try{d()}finally{ca()}}const b=La;La=u;try{return l?l(r,3,[f]):r(f)}finally{La=b}}:c=Fr,e&&n){const b=c,C=n===!0?1/0:n;c=()=>Go(b(),C)}const y=Ny(),v=()=>{u.stop(),y&&y.active&&by(y.effects,u)};if(s&&e){const b=e;e=(...C)=>{b(...C),v()}}let M=m?new Array(r.length).fill(yf):yf;const S=b=>{if(!(!(u.flags&1)||!u.dirty&&!b))if(e){const C=u.run();if(n||g||(m?C.some((T,k)=>Pn(T,M[k])):Pn(C,M))){d&&d();const T=La;La=u;try{const k=[C,M===yf?void 0:m&&M[0]===yf?[]:M,f];M=C,l?l(e,3,k):e(...k)}finally{La=T}}}else u.run()};return a&&a(S),u=new ac(c),u.scheduler=o?()=>o(S,!1):S,f=b=>ZC(b,!1,u),d=u.onStop=()=>{const b=$g.get(u);if(b){if(l)l(b,4);else for(const C of b)C();$g.delete(u)}},e?i?S(!0):M=u.run():o?o(S.bind(null,!0),!0):u.run(),v.pause=u.pause.bind(u),v.resume=u.resume.bind(u),v.stop=v,v}function Go(r,e=1/0,t){if(e<=0||!hi(r)||r.__v_skip||(t=t||new Set,t.has(r)))return r;if(t.add(r),e--,bi(r))Go(r.value,e,t);else if(et(r))for(let i=0;i<r.length;i++)Go(r[i],e,t);else if(Al(r)||Ih(r))r.forEach(i=>{Go(i,e,t)});else if(Rp(r)){for(const i in r)Go(r[i],e,t);for(const i of Object.getOwnPropertySymbols(r))Object.prototype.propertyIsEnumerable.call(r,i)&&Go(r[i],e,t)}return r}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const hE=[];function aF(r){hE.push(r)}function lF(){hE.pop()}function uE(r,e){}const cE={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},hF={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function iu(r,e,t,i){try{return i?r(...i):r()}catch(n){El(n,e,t)}}function Hr(r,e,t,i){if(Mt(r)){const n=iu(r,e,t,i);return n&&Iy(n)&&n.catch(s=>{El(s,e,t)}),n}if(et(r)){const n=[];for(let s=0;s<r.length;s++)n.push(Hr(r[s],e,t,i));return n}}function El(r,e,t,i=!0){const n=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||_t;if(e){let a=e.parent;const l=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${t}`;for(;a;){const u=a.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](r,l,h)===!1)return}a=a.parent}if(s){ua(),iu(s,null,10,[r,l,h]),ca();return}}uF(r,t,n,i,o)}function uF(r,e,t,i=!0,n=!1){if(n)throw r;console.error(r)}const Zn=[];let Ys=-1;const Ru=[];let za=null,Mu=0;const dE=Promise.resolve();let Kg=null;function en(r){const e=Kg||dE;return r?e.then(this?r.bind(this):r):e}function cF(r){let e=Ys+1,t=Zn.length;for(;e<t;){const i=e+t>>>1,n=Zn[i],s=Jd(n);s<r||s===r&&n.flags&2?e=i+1:t=i}return e}function XC(r){if(!(r.flags&1)){const e=Jd(r),t=Zn[Zn.length-1];!t||!(r.flags&2)&&e>=Jd(t)?Zn.push(r):Zn.splice(cF(e),0,r),r.flags|=1,pE()}}function pE(){Kg||(Kg=dE.then(fE))}function lc(r){et(r)?Ru.push(...r):za&&r.id===-1?za.splice(Mu+1,0,r):r.flags&1||(Ru.push(r),r.flags|=1),pE()}function yD(r,e,t=Ys+1){for(;t<Zn.length;t++){const i=Zn[t];if(i&&i.flags&2){if(r&&i.id!==r.uid)continue;Zn.splice(t,1),t--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Jg(r){if(Ru.length){const e=[...new Set(Ru)].sort((t,i)=>Jd(t)-Jd(i));if(Ru.length=0,za){za.push(...e);return}for(za=e,Mu=0;Mu<za.length;Mu++){const t=za[Mu];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}za=null,Mu=0}}const Jd=r=>r.id==null?r.flags&2?-1:1/0:r.id;function fE(r){try{for(Ys=0;Ys<Zn.length;Ys++){const e=Zn[Ys];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),iu(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ys<Zn.length;Ys++){const e=Zn[Ys];e&&(e.flags&=-2)}Ys=-1,Zn.length=0,Jg(),Kg=null,(Zn.length||Ru.length)&&fE()}}let Su,vf=[];function gE(r,e){var t,i;Su=r,Su?(Su.enabled=!0,vf.forEach(({event:n,args:s})=>Su.emit(n,...s)),vf=[]):typeof window<"u"&&window.HTMLElement&&!((i=(t=window.navigator)==null?void 0:t.userAgent)!=null&&i.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{gE(s,e)}),setTimeout(()=>{Su||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,vf=[])},3e3)):vf=[]}let un=null,Py=null;function Zd(r){const e=un;return un=r,Py=r&&r.type.__scopeId||null,e}function mE(r){Py=r}function yE(){Py=null}const vE=r=>pi;function pi(r,e=un,t){if(!e||r._n)return r;const i=(...n)=>{i._d&&tm(-1);const s=Zd(e);let o;try{o=r(...n)}finally{Zd(s),i._d&&tm(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function lo(r,e){if(un===null)return r;const t=Wp(un),i=r.dirs||(r.dirs=[]);for(let n=0;n<e.length;n++){let[s,o,a,l=_t]=e[n];s&&(Mt(s)&&(s={mounted:s,updated:s}),s.deep&&Go(o),i.push({dir:s,instance:t,value:o,oldValue:void 0,arg:a,modifiers:l}))}return r}function $s(r,e,t,i){const n=r.dirs,s=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(ua(),Hr(l,t,8,[r.el,a,r,e]),ca())}}const ME=Symbol("_vte"),SE=r=>r.__isTeleport,Td=r=>r&&(r.disabled||r.disabled===""),vD=r=>r&&(r.defer||r.defer===""),MD=r=>typeof SVGElement<"u"&&r instanceof SVGElement,SD=r=>typeof MathMLElement=="function"&&r instanceof MathMLElement,D0=(r,e)=>{const t=r&&r.to;return li(t)?e?e(t):null:t},CE={name:"Teleport",__isTeleport:!0,process(r,e,t,i,n,s,o,a,l,h){const{mc:u,pc:c,pbc:d,o:{insert:f,querySelector:g,createText:m,createComment:y}}=h,v=Td(e.props);let{shapeFlag:M,children:S,dynamicChildren:b}=e;if(r==null){const C=e.el=m(""),T=e.anchor=m("");f(C,t,i),f(T,t,i);const k=(A,E)=>{M&16&&(n&&n.isCE&&(n.ce._teleportTarget=A),u(S,A,E,n,s,o,a,l))},N=()=>{const A=e.target=D0(e.props,g),E=bE(A,e,m,f);A&&(o!=="svg"&&MD(A)?o="svg":o!=="mathml"&&SD(A)&&(o="mathml"),v||(k(A,E),pg(e,!1)))};v&&(k(t,T),pg(e,!0)),vD(e.props)?(e.el.__isMounted=!1,sn(()=>{N(),delete e.el.__isMounted},s)):N()}else{if(vD(e.props)&&r.el.__isMounted===!1){sn(()=>{CE.process(r,e,t,i,n,s,o,a,l,h)},s);return}e.el=r.el,e.targetStart=r.targetStart;const C=e.anchor=r.anchor,T=e.target=r.target,k=e.targetAnchor=r.targetAnchor,N=Td(r.props),A=N?t:T,E=N?C:k;if(o==="svg"||MD(T)?o="svg":(o==="mathml"||SD(T))&&(o="mathml"),b?(d(r.dynamicChildren,b,A,n,s,o,a),Sb(r,e,!0)):l||c(r,e,A,E,n,s,o,a,!1),v)N?e.props&&r.props&&e.props.to!==r.props.to&&(e.props.to=r.props.to):Mf(e,t,C,h,1);else if((e.props&&e.props.to)!==(r.props&&r.props.to)){const x=e.target=D0(e.props,g);x&&Mf(e,x,null,h,0)}else N&&Mf(e,T,k,h,1);pg(e,v)}},remove(r,e,t,{um:i,o:{remove:n}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:h,targetAnchor:u,target:c,props:d}=r;if(c&&(n(h),n(u)),s&&n(l),o&16){const f=s||!Td(d);for(let g=0;g<a.length;g++){const m=a[g];i(m,e,t,f,!!m.dynamicChildren)}}},move:Mf,hydrate:dF};function Mf(r,e,t,{o:{insert:i},m:n},s=2){s===0&&i(r.targetAnchor,e,t);const{el:o,anchor:a,shapeFlag:l,children:h,props:u}=r,c=s===2;if(c&&i(o,e,t),(!c||Td(u))&&l&16)for(let d=0;d<h.length;d++)n(h[d],e,t,2);c&&i(a,e,t)}function dF(r,e,t,i,n,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:h,createText:u}},c){const d=e.target=D0(e.props,l);if(d){const f=Td(e.props),g=d._lpa||d.firstChild;if(e.shapeFlag&16)if(f)e.anchor=c(o(r),e,a(r),t,i,n,s),e.targetStart=g,e.targetAnchor=g&&o(g);else{e.anchor=o(r);let m=g;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")e.targetStart=m;else if(m.data==="teleport anchor"){e.targetAnchor=m,d._lpa=e.targetAnchor&&o(e.targetAnchor);break}}m=o(m)}e.targetAnchor||bE(d,e,u,h),c(g&&o(g),e,d,t,i,n,s)}pg(e,f)}return e.anchor&&o(e.anchor)}const Hp=CE;function pg(r,e){const t=r.ctx;if(t&&t.ut){let i,n;for(e?(i=r.el,n=r.anchor):(i=r.targetStart,n=r.targetAnchor);i&&i!==n;)i.nodeType===1&&i.setAttribute("data-v-owner",t.uid),i=i.nextSibling;t.ut()}}function bE(r,e,t,i){const n=e.targetStart=t(""),s=e.targetAnchor=t("");return n[ME]=s,r&&(i(n,r),i(s,r)),s}const Oa=Symbol("_leaveCb"),Sf=Symbol("_enterCb");function Fy(){const r={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ir(()=>{r.isMounted=!0}),br(()=>{r.isUnmounting=!0}),r}const Wr=[Function,Array],By={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Wr,onEnter:Wr,onAfterEnter:Wr,onEnterCancelled:Wr,onBeforeLeave:Wr,onLeave:Wr,onAfterLeave:Wr,onLeaveCancelled:Wr,onBeforeAppear:Wr,onAppear:Wr,onAfterAppear:Wr,onAppearCancelled:Wr},IE=r=>{const e=r.subTree;return e.component?IE(e.component):e},pF={name:"BaseTransition",props:By,setup(r,{slots:e}){const t=Tr(),i=Fy();return()=>{const n=e.default&&Vp(e.default(),!0);if(!n||!n.length)return;const s=DE(n),o=Vt(r),{mode:a}=o;if(i.isLeaving)return Rv(s);const l=CD(s);if(!l)return Rv(s);let h=jh(l,o,i,t,c=>h=c);l.type!==Ui&&po(l,h);let u=t.subTree&&CD(t.subTree);if(u&&u.type!==Ui&&!ws(l,u)&&IE(t).type!==Ui){let c=jh(u,o,i,t);if(po(u,c),a==="out-in"&&l.type!==Ui)return i.isLeaving=!0,c.afterLeave=()=>{i.isLeaving=!1,t.job.flags&8||t.update(),delete c.afterLeave,u=void 0},Rv(s);a==="in-out"&&l.type!==Ui?c.delayLeave=(d,f,g)=>{const m=TE(i,u);m[String(u.key)]=u,d[Oa]=()=>{f(),d[Oa]=void 0,delete h.delayedLeave,u=void 0},h.delayedLeave=()=>{g(),delete h.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return s}}};function DE(r){let e=r[0];if(r.length>1){for(const t of r)if(t.type!==Ui){e=t;break}}return e}const eb=pF;function TE(r,e){const{leavingVNodes:t}=r;let i=t.get(e.type);return i||(i=Object.create(null),t.set(e.type,i)),i}function jh(r,e,t,i,n){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:h,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:f,onAfterLeave:g,onLeaveCancelled:m,onBeforeAppear:y,onAppear:v,onAfterAppear:M,onAppearCancelled:S}=e,b=String(r.key),C=TE(t,r),T=(A,E)=>{A&&Hr(A,i,9,E)},k=(A,E)=>{const x=E[1];T(A,E),et(A)?A.every(D=>D.length<=1)&&x():A.length<=1&&x()},N={mode:o,persisted:a,beforeEnter(A){let E=l;if(!t.isMounted)if(s)E=y||l;else return;A[Oa]&&A[Oa](!0);const x=C[b];x&&ws(r,x)&&x.el[Oa]&&x.el[Oa](),T(E,[A])},enter(A){let E=h,x=u,D=c;if(!t.isMounted)if(s)E=v||h,x=M||u,D=S||c;else return;let z=!1;const w=A[Sf]=O=>{z||(z=!0,O?T(D,[A]):T(x,[A]),N.delayedLeave&&N.delayedLeave(),A[Sf]=void 0)};E?k(E,[A,w]):w()},leave(A,E){const x=String(r.key);if(A[Sf]&&A[Sf](!0),t.isUnmounting)return E();T(d,[A]);let D=!1;const z=A[Oa]=w=>{D||(D=!0,E(),w?T(m,[A]):T(g,[A]),A[Oa]=void 0,C[x]===r&&delete C[x])};C[x]=r,f?k(f,[A,z]):z()},clone(A){const E=jh(A,e,t,i,n);return n&&n(E),E}};return N}function Rv(r){if(Qp(r))return r=ks(r),r.children=null,r}function CD(r){if(!Qp(r))return SE(r.type)&&r.children?DE(r.children):r;if(r.component)return r.component.subTree;const{shapeFlag:e,children:t}=r;if(t){if(e&16)return t[0];if(e&32&&Mt(t.default))return t.default()}}function po(r,e){r.shapeFlag&6&&r.component?(r.transition=e,po(r.component.subTree,e)):r.shapeFlag&128?(r.ssContent.transition=e.clone(r.ssContent),r.ssFallback.transition=e.clone(r.ssFallback)):r.transition=e}function Vp(r,e=!1,t){let i=[],n=0;for(let s=0;s<r.length;s++){let o=r[s];const a=t==null?o.key:String(t)+String(o.key!=null?o.key:s);o.type===rt?(o.patchFlag&128&&n++,i=i.concat(Vp(o.children,e,a))):(e||o.type!==Ui)&&i.push(a!=null?ks(o,{key:a}):o)}if(n>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function Ai(r,e){return Mt(r)?fi({name:r.name},e,{setup:r}):r}function wE(){const r=Tr();return r?(r.appContext.config.idPrefix||"v")+"-"+r.ids[0]+r.ids[1]++:""}function tb(r){r.ids=[r.ids[0]+r.ids[2]+++"-",0,0]}function xE(r){const e=Tr(),t=Oy(null);if(e){const n=e.refs===_t?e.refs={}:e.refs;Object.defineProperty(n,r,{enumerable:!0,get:()=>t.value,set:s=>t.value=s})}return t}function Xd(r,e,t,i,n=!1){if(et(r)){r.forEach((g,m)=>Xd(g,e&&(et(e)?e[m]:e),t,i,n));return}if(ll(i)&&!n){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Xd(r,e,t,i.component.subTree);return}const s=i.shapeFlag&4?Wp(i.component):i.el,o=n?null:s,{i:a,r:l}=r,h=e&&e.r,u=a.refs===_t?a.refs={}:a.refs,c=a.setupState,d=Vt(c),f=c===_t?()=>!1:g=>Zt(d,g);if(h!=null&&h!==l&&(li(h)?(u[h]=null,f(h)&&(c[h]=null)):bi(h)&&(h.value=null)),Mt(l))iu(l,a,12,[o,u]);else{const g=li(l),m=bi(l);if(g||m){const y=()=>{if(r.f){const v=g?f(l)?c[l]:u[l]:l.value;n?et(v)&&by(v,s):et(v)?v.includes(s)||v.push(s):g?(u[l]=[s],f(l)&&(c[l]=u[l])):(l.value=[s],r.k&&(u[r.k]=l.value))}else g?(u[l]=o,f(l)&&(c[l]=o)):m&&(l.value=o,r.k&&(u[r.k]=o))};o?(y.id=-1,sn(y,t)):y()}}}let bD=!1;const au=()=>{bD||(console.error("Hydration completed but contains mismatches."),bD=!0)},fF=r=>r.namespaceURI.includes("svg")&&r.tagName!=="foreignObject",gF=r=>r.namespaceURI.includes("MathML"),Cf=r=>{if(r.nodeType===1){if(fF(r))return"svg";if(gF(r))return"mathml"}},Nu=r=>r.nodeType===8;function mF(r){const{mt:e,p:t,o:{patchProp:i,createText:n,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:h}}=r,u=(S,b)=>{if(!b.hasChildNodes()){t(null,S,b),Jg(),b._vnode=S;return}c(b.firstChild,S,null,null,null),Jg(),b._vnode=S},c=(S,b,C,T,k,N=!1)=>{N=N||!!b.dynamicChildren;const A=Nu(S)&&S.data==="[",E=()=>m(S,b,C,T,k,A),{type:x,ref:D,shapeFlag:z,patchFlag:w}=b;let O=S.nodeType;b.el=S,w===-2&&(N=!1,b.dynamicChildren=null);let L=null;switch(x){case ia:O!==3?b.children===""?(l(b.el=n(""),o(S),S),L=S):L=E():(S.data!==b.children&&(au(),S.data=b.children),L=s(S));break;case Ui:M(S)?(L=s(S),v(b.el=S.content.firstChild,S,C)):O!==8||A?L=E():L=s(S);break;case hl:if(A&&(S=s(S),O=S.nodeType),O===1||O===3){L=S;const j=!b.children.length;for(let B=0;B<b.staticCount;B++)j&&(b.children+=L.nodeType===1?L.outerHTML:L.data),B===b.staticCount-1&&(b.anchor=L),L=s(L);return A?s(L):L}else E();break;case rt:A?L=g(S,b,C,T,k,N):L=E();break;default:if(z&1)(O!==1||b.type.toLowerCase()!==S.tagName.toLowerCase())&&!M(S)?L=E():L=d(S,b,C,T,k,N);else if(z&6){b.slotScopeIds=k;const j=o(S);if(A?L=y(S):Nu(S)&&S.data==="teleport start"?L=y(S,S.data,"teleport end"):L=s(S),e(b,j,null,C,T,Cf(j),N),ll(b)&&!b.type.__asyncResolved){let B;A?(B=st(rt),B.anchor=L?L.previousSibling:j.lastChild):B=S.nodeType===3?Ni(""):st("div"),B.el=S,b.component.subTree=B}}else z&64?O!==8?L=E():L=b.type.hydrate(S,b,C,T,k,N,r,f):z&128&&(L=b.type.hydrate(S,b,C,T,Cf(o(S)),k,N,r,c))}return D!=null&&Xd(D,null,T,b),L},d=(S,b,C,T,k,N)=>{N=N||!!b.dynamicChildren;const{type:A,props:E,patchFlag:x,shapeFlag:D,dirs:z,transition:w}=b,O=A==="input"||A==="option";if(O||x!==-1){z&&$s(b,null,C,"created");let L=!1;if(M(S)){L=ak(null,w)&&C&&C.vnode.props&&C.vnode.props.appear;const B=S.content.firstChild;if(L){const V=B.getAttribute("class");V&&(B.$cls=V),w.beforeEnter(B)}v(B,S,C),b.el=S=B}if(D&16&&!(E&&(E.innerHTML||E.textContent))){let B=f(S.firstChild,b,S,C,T,k,N);for(;B;){bf(S,1)||au();const V=B;B=B.nextSibling,a(V)}}else if(D&8){let B=b.children;B[0]===`
`&&(S.tagName==="PRE"||S.tagName==="TEXTAREA")&&(B=B.slice(1)),S.textContent!==B&&(bf(S,0)||au(),S.textContent=b.children)}if(E){if(O||!N||x&48){const B=S.tagName.includes("-");for(const V in E)(O&&(V.endsWith("value")||V==="indeterminate")||xc(V)&&!Dh(V)||V[0]==="."||B)&&i(S,V,null,E[V],void 0,C)}else if(E.onClick)i(S,"onClick",null,E.onClick,void 0,C);else if(x&4&&Es(E.style))for(const B in E.style)E.style[B]}let j;(j=E&&E.onVnodeBeforeMount)&&pr(j,C,b),z&&$s(b,null,C,"beforeMount"),((j=E&&E.onVnodeMounted)||z||L)&&mk(()=>{j&&pr(j,C,b),L&&w.enter(S),z&&$s(b,null,C,"mounted")},T)}return S.nextSibling},f=(S,b,C,T,k,N,A)=>{A=A||!!b.dynamicChildren;const E=b.children,x=E.length;for(let D=0;D<x;D++){const z=A?E[D]:E[D]=gr(E[D]),w=z.type===ia;S?(w&&!A&&D+1<x&&gr(E[D+1]).type===ia&&(l(n(S.data.slice(z.children.length)),C,s(S)),S.data=z.children),S=c(S,z,T,k,N,A)):w&&!z.children?l(z.el=n(""),C):(bf(C,1)||au(),t(null,z,C,null,T,k,Cf(C),N))}return S},g=(S,b,C,T,k,N)=>{const{slotScopeIds:A}=b;A&&(k=k?k.concat(A):A);const E=o(S),x=f(s(S),b,E,C,T,k,N);return x&&Nu(x)&&x.data==="]"?s(b.anchor=x):(au(),l(b.anchor=h("]"),E,x),x)},m=(S,b,C,T,k,N)=>{if(bf(S.parentElement,1)||au(),b.el=null,N){const x=y(S);for(;;){const D=s(S);if(D&&D!==x)a(D);else break}}const A=s(S),E=o(S);return a(S),t(null,b,E,A,C,T,Cf(E),k),C&&(C.vnode.el=b.el,Yy(C,b.el)),A},y=(S,b="[",C="]")=>{let T=0;for(;S;)if(S=s(S),S&&Nu(S)&&(S.data===b&&T++,S.data===C)){if(T===0)return s(S);T--}return S},v=(S,b,C)=>{const T=b.parentNode;T&&T.replaceChild(S,b);let k=C;for(;k;)k.vnode.el===b&&(k.vnode.el=k.subTree.el=S),k=k.parent},M=S=>S.nodeType===1&&S.tagName==="TEMPLATE";return[u,c]}const ID="data-allow-mismatch",yF={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function bf(r,e){if(e===0||e===1)for(;r&&!r.hasAttribute(ID);)r=r.parentElement;const t=r&&r.getAttribute(ID);if(t==null)return!1;if(t==="")return!0;{const i=t.split(",");return e===0&&i.includes("children")?!0:t.split(",").includes(yF[e])}}const vF=jp().requestIdleCallback||(r=>setTimeout(r,1)),MF=jp().cancelIdleCallback||(r=>clearTimeout(r)),NE=(r=1e4)=>e=>{const t=vF(e,{timeout:r});return()=>MF(t)};function SF(r){const{top:e,left:t,bottom:i,right:n}=r.getBoundingClientRect(),{innerHeight:s,innerWidth:o}=window;return(e>0&&e<s||i>0&&i<s)&&(t>0&&t<o||n>0&&n<o)}const AE=r=>(e,t)=>{const i=new IntersectionObserver(n=>{for(const s of n)if(s.isIntersecting){i.disconnect(),e();break}},r);return t(n=>{if(n instanceof Element){if(SF(n))return e(),i.disconnect(),!1;i.observe(n)}}),()=>i.disconnect()},EE=r=>e=>{if(r){const t=matchMedia(r);if(t.matches)e();else return t.addEventListener("change",e,{once:!0}),()=>t.removeEventListener("change",e)}},kE=(r=[])=>(e,t)=>{li(r)&&(r=[r]);let i=!1;const n=o=>{i||(i=!0,s(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},s=()=>{t(o=>{for(const a of r)o.removeEventListener(a,n)})};return t(o=>{for(const a of r)o.addEventListener(a,n,{once:!0})}),s};function CF(r,e){if(Nu(r)&&r.data==="["){let t=1,i=r.nextSibling;for(;i;){if(i.nodeType===1){if(e(i)===!1)break}else if(Nu(i))if(i.data==="]"){if(--t===0)break}else i.data==="["&&t++;i=i.nextSibling}}else e(r)}const ll=r=>!!r.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function ib(r){Mt(r)&&(r={loader:r});const{loader:e,loadingComponent:t,errorComponent:i,delay:n=200,hydrate:s,timeout:o,suspensible:a=!0,onError:l}=r;let h=null,u,c=0;const d=()=>(c++,h=null,f()),f=()=>{let g;return h||(g=h=e().catch(m=>{if(m=m instanceof Error?m:new Error(String(m)),l)return new Promise((y,v)=>{l(m,()=>y(d()),()=>v(m),c+1)});throw m}).then(m=>g!==h&&h?h:(m&&(m.__esModule||m[Symbol.toStringTag]==="Module")&&(m=m.default),u=m,m)))};return Ai({name:"AsyncComponentWrapper",__asyncLoader:f,__asyncHydrate(g,m,y){const v=s?()=>{const S=s(()=>{y()},b=>CF(g,b));S&&(m.bum||(m.bum=[])).push(S),(m.u||(m.u=[])).push(()=>!0)}:y;u?v():f().then(()=>!m.isUnmounted&&v())},get __asyncResolved(){return u},setup(){const g=hn;if(tb(g),u)return()=>jv(u,g);const m=S=>{h=null,El(S,g,13,!i)};if(a&&g.suspense||hc)return f().then(S=>()=>jv(S,g)).catch(S=>(m(S),()=>i?st(i,{error:S}):null));const y=Pe(!1),v=Pe(),M=Pe(!!n);return n&&setTimeout(()=>{M.value=!1},n),o!=null&&setTimeout(()=>{if(!y.value&&!v.value){const S=new Error(`Async component timed out after ${o}ms.`);m(S),v.value=S}},o),f().then(()=>{y.value=!0,g.parent&&Qp(g.parent.vnode)&&g.parent.update()}).catch(S=>{m(S),v.value=S}),()=>{if(y.value&&u)return jv(u,g);if(v.value&&i)return st(i,{error:v.value});if(t&&!M.value)return st(t)}}})}function jv(r,e){const{ref:t,props:i,children:n,ce:s}=e.vnode,o=st(r,i,n);return o.ref=t,o.ce=s,delete e.vnode.ce,o}const Qp=r=>r.type.__isKeepAlive,bF={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(r,{slots:e}){const t=Tr(),i=t.ctx;if(!i.renderer)return()=>{const M=e.default&&e.default();return M&&M.length===1?M[0]:M};const n=new Map,s=new Set;let o=null;const a=t.suspense,{renderer:{p:l,m:h,um:u,o:{createElement:c}}}=i,d=c("div");i.activate=(M,S,b,C,T)=>{const k=M.component;h(M,S,b,0,a),l(k.vnode,M,S,b,k,a,C,M.slotScopeIds,T),sn(()=>{k.isDeactivated=!1,k.a&&wh(k.a);const N=M.props&&M.props.onVnodeMounted;N&&pr(N,k.parent,M)},a)},i.deactivate=M=>{const S=M.component;Xg(S.m),Xg(S.a),h(M,d,null,1,a),sn(()=>{S.da&&wh(S.da);const b=M.props&&M.props.onVnodeUnmounted;b&&pr(b,S.parent,M),S.isDeactivated=!0},a)};function f(M){Pv(M),u(M,t,a,!0)}function g(M){n.forEach((S,b)=>{const C=R0(S.type);C&&!M(C)&&m(b)})}function m(M){const S=n.get(M);S&&(!o||!ws(S,o))?f(S):o&&Pv(o),n.delete(M),s.delete(M)}Qt(()=>[r.include,r.exclude],([M,S])=>{M&&g(b=>fd(M,b)),S&&g(b=>!fd(S,b))},{flush:"post",deep:!0});let y=null;const v=()=>{y!=null&&(em(t.subTree.type)?sn(()=>{n.set(y,If(t.subTree))},t.subTree.suspense):n.set(y,If(t.subTree)))};return ir(v),_p(v),br(()=>{n.forEach(M=>{const{subTree:S,suspense:b}=t,C=If(S);if(M.type===C.type&&M.key===C.key){Pv(C);const T=C.component.da;T&&sn(T,b);return}f(M)})}),()=>{if(y=null,!e.default)return o=null;const M=e.default(),S=M[0];if(M.length>1)return o=null,M;if(!Xn(S)||!(S.shapeFlag&4)&&!(S.shapeFlag&128))return o=null,S;let b=If(S);if(b.type===Ui)return o=null,b;const C=b.type,T=R0(ll(b)?b.type.__asyncResolved||{}:C),{include:k,exclude:N,max:A}=r;if(k&&(!T||!fd(k,T))||N&&T&&fd(N,T))return b.shapeFlag&=-257,o=b,S;const E=b.key==null?C:b.key,x=n.get(E);return b.el&&(b=ks(b),S.shapeFlag&128&&(S.ssContent=b)),y=E,x?(b.el=x.el,b.component=x.component,b.transition&&po(b,b.transition),b.shapeFlag|=512,s.delete(E),s.add(E)):(s.add(E),A&&s.size>parseInt(A,10)&&m(s.values().next().value)),b.shapeFlag|=256,o=b,em(S.type)?S:b}}},LE=bF;function fd(r,e){return et(r)?r.some(t=>fd(t,e)):li(r)?r.split(",").includes(e):EA(r)?(r.lastIndex=0,r.test(e)):!1}function nb(r,e){zE(r,"a",e)}function rb(r,e){zE(r,"da",e)}function zE(r,e,t=hn){const i=r.__wdc||(r.__wdc=()=>{let n=t;for(;n;){if(n.isDeactivated)return;n=n.parent}return r()});if(Uy(e,i,t),t){let n=t.parent;for(;n&&n.parent;)Qp(n.parent.vnode)&&IF(i,e,t,n),n=n.parent}}function IF(r,e,t,i){const n=Uy(e,r,i,!0);kc(()=>{by(i[e],n)},t)}function Pv(r){r.shapeFlag&=-257,r.shapeFlag&=-513}function If(r){return r.shapeFlag&128?r.ssContent:r}function Uy(r,e,t=hn,i=!1){if(t){const n=t[r]||(t[r]=[]),s=e.__weh||(e.__weh=(...o)=>{ua();const a=Fh(t),l=Hr(e,t,r,o);return a(),ca(),l});return i?n.unshift(s):n.push(s),s}}const fa=r=>(e,t=hn)=>{(!hc||r==="sp")&&Uy(r,(...i)=>e(...i),t)},sb=fa("bm"),ir=fa("m"),Hy=fa("bu"),_p=fa("u"),br=fa("bum"),kc=fa("um"),ob=fa("sp"),ab=fa("rtg"),lb=fa("rtc");function hb(r,e=hn){Uy("ec",r,e)}const ub="components",DF="directives";function cb(r,e){return db(ub,r,!0,e)||r}const OE=Symbol.for("v-ndc");function Qa(r){return li(r)?db(ub,r,!1)||r:r||OE}function Vy(r){return db(DF,r)}function db(r,e,t=!0,i=!1){const n=un||hn;if(n){const s=n.type;if(r===ub){const a=R0(s,!1);if(a&&(a===e||a===cn(e)||a===tu(cn(e))))return s}const o=DD(n[r]||s[r],e)||DD(n.appContext[r],e);return!o&&i?s:o}}function DD(r,e){return r&&(r[e]||r[cn(e)]||r[tu(cn(e))])}function ri(r,e,t,i){let n;const s=t&&t[i],o=et(r);if(o||li(r)){const a=o&&Es(r);let l=!1,h=!1;a&&(l=!yr(r),h=co(r),r=Ey(r)),n=new Array(r.length);for(let u=0,c=r.length;u<c;u++)n[u]=e(l?h?Gg(wn(r[u])):wn(r[u]):r[u],u,void 0,s&&s[u])}else if(typeof r=="number"){n=new Array(r);for(let a=0;a<r;a++)n[a]=e(a+1,a,void 0,s&&s[a])}else if(hi(r))if(r[Symbol.iterator])n=Array.from(r,(a,l)=>e(a,l,void 0,s&&s[l]));else{const a=Object.keys(r);n=new Array(a.length);for(let l=0,h=a.length;l<h;l++){const u=a[l];n[l]=e(r[u],u,l,s&&s[l])}}else n=[];return t&&(t[i]=n),n}function RE(r,e){for(let t=0;t<e.length;t++){const i=e[t];if(et(i))for(let n=0;n<i.length;n++)r[i[n].name]=i[n].fn;else i&&(r[i.name]=i.key?(...n)=>{const s=i.fn(...n);return s&&(s.key=i.key),s}:i.fn)}return r}function Ei(r,e,t={},i,n){if(un.ce||un.parent&&ll(un.parent)&&un.parent.ce)return e!=="default"&&(t.name=e),te(),mn(rt,null,[st("slot",t,i&&i())],64);let s=r[e];s&&s._c&&(s._d=!1),te();const o=s&&pb(s(t)),a=t.key||o&&o.key,l=mn(rt,{key:(a&&!ps(a)?a:`_${e}`)+(!o&&i?"_fb":"")},o||(i?i():[]),o&&r._===1?64:-2);return!n&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function pb(r){return r.some(e=>Xn(e)?!(e.type===Ui||e.type===rt&&!pb(e.children)):!0)?r:null}function jE(r,e){const t={};for(const i in r)t[e&&/[A-Z]/.test(i)?`on:${i}`:Th(i)]=r[i];return t}const T0=r=>r?Ik(r)?Wp(r):T0(r.parent):null,wd=fi(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>T0(r.parent),$root:r=>T0(r.root),$host:r=>r.ce,$emit:r=>r.emit,$options:r=>gb(r),$forceUpdate:r=>r.f||(r.f=()=>{XC(r.update)}),$nextTick:r=>r.n||(r.n=en.bind(r.proxy)),$watch:r=>UF.bind(r)}),Fv=(r,e)=>r!==_t&&!r.__isScriptSetup&&Zt(r,e),w0={get({_:r},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:i,data:n,props:s,accessCache:o,type:a,appContext:l}=r;let h;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return i[e];case 2:return n[e];case 4:return t[e];case 3:return s[e]}else{if(Fv(i,e))return o[e]=1,i[e];if(n!==_t&&Zt(n,e))return o[e]=2,n[e];if((h=r.propsOptions[0])&&Zt(h,e))return o[e]=3,s[e];if(t!==_t&&Zt(t,e))return o[e]=4,t[e];x0&&(o[e]=0)}}const u=wd[e];let c,d;if(u)return e==="$attrs"&&Fn(r.attrs,"get",""),u(r);if((c=a.__cssModules)&&(c=c[e]))return c;if(t!==_t&&Zt(t,e))return o[e]=4,t[e];if(d=l.config.globalProperties,Zt(d,e))return d[e]},set({_:r},e,t){const{data:i,setupState:n,ctx:s}=r;return Fv(n,e)?(n[e]=t,!0):i!==_t&&Zt(i,e)?(i[e]=t,!0):Zt(r.props,e)||e[0]==="$"&&e.slice(1)in r?!1:(s[e]=t,!0)},has({_:{data:r,setupState:e,accessCache:t,ctx:i,appContext:n,propsOptions:s}},o){let a;return!!t[o]||r!==_t&&Zt(r,o)||Fv(e,o)||(a=s[0])&&Zt(a,o)||Zt(i,o)||Zt(wd,o)||Zt(n.config.globalProperties,o)},defineProperty(r,e,t){return t.get!=null?r._.accessCache[e]=0:Zt(t,"value")&&this.set(r,e,t.value,null),Reflect.defineProperty(r,e,t)}},TF=fi({},w0,{get(r,e){if(e!==Symbol.unscopables)return w0.get(r,e,r)},has(r,e){return e[0]!=="_"&&!qC(e)}});function PE(){return null}function FE(){return null}function BE(r){}function UE(r){}function HE(){return null}function VE(){}function QE(r,e){return null}function _E(){return YE().slots}function fb(){return YE().attrs}function YE(){const r=Tr();return r.setupContext||(r.setupContext=Nk(r))}function ep(r){return et(r)?r.reduce((e,t)=>(e[t]=null,e),{}):r}function WE(r,e){const t=ep(r);for(const i in e){if(i.startsWith("__skip"))continue;let n=t[i];n?et(n)||Mt(n)?n=t[i]={type:n,default:e[i]}:n.default=e[i]:n===null&&(n=t[i]={default:e[i]}),n&&e[`__skip_${i}`]&&(n.skipFactory=!0)}return t}function qE(r,e){return!r||!e?r||e:et(r)&&et(e)?r.concat(e):fi({},ep(r),ep(e))}function GE(r,e){const t={};for(const i in r)e.includes(i)||Object.defineProperty(t,i,{enumerable:!0,get:()=>r[i]});return t}function $E(r){const e=Tr();let t=r();return L0(),Iy(t)&&(t=t.catch(i=>{throw Fh(e),i})),[t,()=>Fh(e)]}let x0=!0;function wF(r){const e=gb(r),t=r.proxy,i=r.ctx;x0=!1,e.beforeCreate&&TD(e.beforeCreate,r,"bc");const{data:n,computed:s,methods:o,watch:a,provide:l,inject:h,created:u,beforeMount:c,mounted:d,beforeUpdate:f,updated:g,activated:m,deactivated:y,beforeDestroy:v,beforeUnmount:M,destroyed:S,unmounted:b,render:C,renderTracked:T,renderTriggered:k,errorCaptured:N,serverPrefetch:A,expose:E,inheritAttrs:x,components:D,directives:z,filters:w}=e;if(h&&xF(h,i,null),o)for(const j in o){const B=o[j];Mt(B)&&(i[j]=B.bind(t))}if(n){const j=n.call(t,t);hi(j)&&(r.data=fs(j))}if(x0=!0,s)for(const j in s){const B=s[j],V=Mt(B)?B.bind(t,t):Mt(B.get)?B.get.bind(t,t):Fr,ee=!Mt(B)&&Mt(B.set)?B.set.bind(t):Fr,W=Ce({get:V,set:ee});Object.defineProperty(i,j,{enumerable:!0,configurable:!0,get:()=>W.value,set:J=>W.value=J})}if(a)for(const j in a)KE(a[j],i,t,j);if(l){const j=Mt(l)?l.call(t):l;Reflect.ownKeys(j).forEach(B=>{ju(B,j[B])})}u&&TD(u,r,"c");function L(j,B){et(B)?B.forEach(V=>j(V.bind(t))):B&&j(B.bind(t))}if(L(sb,c),L(ir,d),L(Hy,f),L(_p,g),L(nb,m),L(rb,y),L(hb,N),L(lb,T),L(ab,k),L(br,M),L(kc,b),L(ob,A),et(E))if(E.length){const j=r.exposed||(r.exposed={});E.forEach(B=>{Object.defineProperty(j,B,{get:()=>t[B],set:V=>t[B]=V})})}else r.exposed||(r.exposed={});C&&r.render===Fr&&(r.render=C),x!=null&&(r.inheritAttrs=x),D&&(r.components=D),z&&(r.directives=z),A&&tb(r)}function xF(r,e,t=Fr){et(r)&&(r=N0(r));for(const i in r){const n=r[i];let s;hi(n)?"default"in n?s=nr(n.from||i,n.default,!0):s=nr(n.from||i):s=nr(n),bi(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[i]=s}}function TD(r,e,t){Hr(et(r)?r.map(i=>i.bind(e.proxy)):r.bind(e.proxy),e,t)}function KE(r,e,t,i){let n=i.includes(".")?uk(t,i):()=>t[i];if(li(r)){const s=e[r];Mt(s)&&Qt(n,s)}else if(Mt(r))Qt(n,r.bind(t));else if(hi(r))if(et(r))r.forEach(s=>KE(s,e,t,i));else{const s=Mt(r.handler)?r.handler.bind(t):e[r.handler];Mt(s)&&Qt(n,s,r)}}function gb(r){const e=r.type,{mixins:t,extends:i}=e,{mixins:n,optionsCache:s,config:{optionMergeStrategies:o}}=r.appContext,a=s.get(e);let l;return a?l=a:!n.length&&!t&&!i?l=e:(l={},n.length&&n.forEach(h=>Zg(l,h,o,!0)),Zg(l,e,o)),hi(e)&&s.set(e,l),l}function Zg(r,e,t,i=!1){const{mixins:n,extends:s}=e;s&&Zg(r,s,t,!0),n&&n.forEach(o=>Zg(r,o,t,!0));for(const o in e)if(!(i&&o==="expose")){const a=NF[o]||t&&t[o];r[o]=a?a(r[o],e[o]):e[o]}return r}const NF={data:wD,props:xD,emits:xD,methods:gd,computed:gd,beforeCreate:$n,created:$n,beforeMount:$n,mounted:$n,beforeUpdate:$n,updated:$n,beforeDestroy:$n,beforeUnmount:$n,destroyed:$n,unmounted:$n,activated:$n,deactivated:$n,errorCaptured:$n,serverPrefetch:$n,components:gd,directives:gd,watch:EF,provide:wD,inject:AF};function wD(r,e){return e?r?function(){return fi(Mt(r)?r.call(this,this):r,Mt(e)?e.call(this,this):e)}:e:r}function AF(r,e){return gd(N0(r),N0(e))}function N0(r){if(et(r)){const e={};for(let t=0;t<r.length;t++)e[r[t]]=r[t];return e}return r}function $n(r,e){return r?[...new Set([].concat(r,e))]:e}function gd(r,e){return r?fi(Object.create(null),r,e):e}function xD(r,e){return r?et(r)&&et(e)?[...new Set([...r,...e])]:fi(Object.create(null),ep(r),ep(e??{})):e}function EF(r,e){if(!r)return e;if(!e)return r;const t=fi(Object.create(null),r);for(const i in e)t[i]=$n(r[i],e[i]);return t}function JE(){return{app:null,config:{isNativeTag:AA,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kF=0;function LF(r,e){return function(i,n=null){Mt(i)||(i=fi({},i)),n!=null&&!hi(n)&&(n=null);const s=JE(),o=new WeakSet,a=[];let l=!1;const h=s.app={_uid:kF++,_component:i,_props:n,_container:null,_context:s,_instance:null,version:xb,get config(){return s.config},set config(u){},use(u,...c){return o.has(u)||(u&&Mt(u.install)?(o.add(u),u.install(h,...c)):Mt(u)&&(o.add(u),u(h,...c))),h},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),h},component(u,c){return c?(s.components[u]=c,h):s.components[u]},directive(u,c){return c?(s.directives[u]=c,h):s.directives[u]},mount(u,c,d){if(!l){const f=h._ceVNode||st(i,n);return f.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),c&&e?e(f,u):r(f,u,d),l=!0,h._container=u,u.__vue_app__=h,Wp(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Hr(a,h._instance,16),r(null,h._container),delete h._container.__vue_app__)},provide(u,c){return s.provides[u]=c,h},runWithContext(u){const c=Nh;Nh=h;try{return u()}finally{Nh=c}}};return h}}let Nh=null;function ju(r,e){if(hn){let t=hn.provides;const i=hn.parent&&hn.parent.provides;i===t&&(t=hn.provides=Object.create(i)),t[r]=e}}function nr(r,e,t=!1){const i=hn||un;if(i||Nh){let n=Nh?Nh._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&r in n)return n[r];if(arguments.length>1)return t&&Mt(e)?e.call(i&&i.proxy):e}}function Qy(){return!!(hn||un||Nh)}const ZE={},XE=()=>Object.create(ZE),ek=r=>Object.getPrototypeOf(r)===ZE;function zF(r,e,t,i=!1){const n={},s=XE();r.propsDefaults=Object.create(null),tk(r,e,n,s);for(const o in r.propsOptions[0])o in n||(n[o]=void 0);t?r.props=i?n:Nc(n):r.type.props?r.props=n:r.props=s,r.attrs=s}function OF(r,e,t,i){const{props:n,attrs:s,vnode:{patchFlag:o}}=r,a=Vt(n),[l]=r.propsOptions;let h=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=r.vnode.dynamicProps;for(let c=0;c<u.length;c++){let d=u[c];if(_y(r.emitsOptions,d))continue;const f=e[d];if(l)if(Zt(s,d))f!==s[d]&&(s[d]=f,h=!0);else{const g=cn(d);n[g]=A0(l,a,g,f,r,!1)}else f!==s[d]&&(s[d]=f,h=!0)}}}else{tk(r,e,n,s)&&(h=!0);let u;for(const c in a)(!e||!Zt(e,c)&&((u=Un(c))===c||!Zt(e,u)))&&(l?t&&(t[c]!==void 0||t[u]!==void 0)&&(n[c]=A0(l,a,c,void 0,r,!0)):delete n[c]);if(s!==a)for(const c in s)(!e||!Zt(e,c))&&(delete s[c],h=!0)}h&&qo(r.attrs,"set","")}function tk(r,e,t,i){const[n,s]=r.propsOptions;let o=!1,a;if(e)for(let l in e){if(Dh(l))continue;const h=e[l];let u;n&&Zt(n,u=cn(l))?!s||!s.includes(u)?t[u]=h:(a||(a={}))[u]=h:_y(r.emitsOptions,l)||(!(l in i)||h!==i[l])&&(i[l]=h,o=!0)}if(s){const l=Vt(t),h=a||_t;for(let u=0;u<s.length;u++){const c=s[u];t[c]=A0(n,l,c,h[c],r,!Zt(h,c))}}return o}function A0(r,e,t,i,n,s){const o=r[t];if(o!=null){const a=Zt(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Mt(l)){const{propsDefaults:h}=n;if(t in h)i=h[t];else{const u=Fh(n);i=h[t]=l.call(null,e),u()}}else i=l;n.ce&&n.ce._setProp(t,i)}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===Un(t))&&(i=!0))}return i}const RF=new WeakMap;function ik(r,e,t=!1){const i=t?RF:e.propsCache,n=i.get(r);if(n)return n;const s=r.props,o={},a=[];let l=!1;if(!Mt(r)){const u=c=>{l=!0;const[d,f]=ik(c,e,!0);fi(o,d),f&&a.push(...f)};!t&&e.mixins.length&&e.mixins.forEach(u),r.extends&&u(r.extends),r.mixins&&r.mixins.forEach(u)}if(!s&&!l)return hi(r)&&i.set(r,bh),bh;if(et(s))for(let u=0;u<s.length;u++){const c=cn(s[u]);ND(c)&&(o[c]=_t)}else if(s)for(const u in s){const c=cn(u);if(ND(c)){const d=s[u],f=o[c]=et(d)||Mt(d)?{type:d}:fi({},d),g=f.type;let m=!1,y=!0;if(et(g))for(let v=0;v<g.length;++v){const M=g[v],S=Mt(M)&&M.name;if(S==="Boolean"){m=!0;break}else S==="String"&&(y=!1)}else m=Mt(g)&&g.name==="Boolean";f[0]=m,f[1]=y,(m||Zt(f,"default"))&&a.push(c)}}const h=[o,a];return hi(r)&&i.set(r,h),h}function ND(r){return r[0]!=="$"&&!Dh(r)}const mb=r=>r[0]==="_"||r==="$stable",yb=r=>et(r)?r.map(gr):[gr(r)],jF=(r,e,t)=>{if(e._n)return e;const i=pi((...n)=>yb(e(...n)),t);return i._c=!1,i},nk=(r,e,t)=>{const i=r._ctx;for(const n in r){if(mb(n))continue;const s=r[n];if(Mt(s))e[n]=jF(n,s,i);else if(s!=null){const o=yb(s);e[n]=()=>o}}},rk=(r,e)=>{const t=yb(e);r.slots.default=()=>t},sk=(r,e,t)=>{for(const i in e)(t||!mb(i))&&(r[i]=e[i])},PF=(r,e,t)=>{const i=r.slots=XE();if(r.vnode.shapeFlag&32){const n=e._;n?(sk(i,e,t),t&&WC(i,"_",n,!0)):nk(e,i)}else e&&rk(r,e)},FF=(r,e,t)=>{const{vnode:i,slots:n}=r;let s=!0,o=_t;if(i.shapeFlag&32){const a=e._;a?t&&a===1?s=!1:sk(n,e,t):(s=!e.$stable,nk(e,n)),o=e}else e&&(rk(r,e),o={default:1});if(s)for(const a in n)!mb(a)&&o[a]==null&&delete n[a]},sn=mk;function vb(r){return ok(r)}function Mb(r){return ok(r,mF)}function ok(r,e){const t=jp();t.__VUE__=!0;const{insert:i,remove:n,patchProp:s,createElement:o,createText:a,createComment:l,setText:h,setElementText:u,parentNode:c,nextSibling:d,setScopeId:f=Fr,insertStaticContent:g}=r,m=(U,Y,ae,we=null,se=null,Me=null,ze=void 0,Te=null,Le=!!Y.dynamicChildren)=>{if(U===Y)return;U&&!ws(U,Y)&&(we=P(U),J(U,se,Me,!0),U=null),Y.patchFlag===-2&&(Le=!1,Y.dynamicChildren=null);const{type:Ne,ref:qe,shapeFlag:je}=Y;switch(Ne){case ia:y(U,Y,ae,we);break;case Ui:v(U,Y,ae,we);break;case hl:U==null&&M(Y,ae,we,ze);break;case rt:D(U,Y,ae,we,se,Me,ze,Te,Le);break;default:je&1?C(U,Y,ae,we,se,Me,ze,Te,Le):je&6?z(U,Y,ae,we,se,Me,ze,Te,Le):(je&64||je&128)&&Ne.process(U,Y,ae,we,se,Me,ze,Te,Le,De)}qe!=null&&se&&Xd(qe,U&&U.ref,Me,Y||U,!Y)},y=(U,Y,ae,we)=>{if(U==null)i(Y.el=a(Y.children),ae,we);else{const se=Y.el=U.el;Y.children!==U.children&&h(se,Y.children)}},v=(U,Y,ae,we)=>{U==null?i(Y.el=l(Y.children||""),ae,we):Y.el=U.el},M=(U,Y,ae,we)=>{[U.el,U.anchor]=g(U.children,Y,ae,we,U.el,U.anchor)},S=({el:U,anchor:Y},ae,we)=>{let se;for(;U&&U!==Y;)se=d(U),i(U,ae,we),U=se;i(Y,ae,we)},b=({el:U,anchor:Y})=>{let ae;for(;U&&U!==Y;)ae=d(U),n(U),U=ae;n(Y)},C=(U,Y,ae,we,se,Me,ze,Te,Le)=>{Y.type==="svg"?ze="svg":Y.type==="math"&&(ze="mathml"),U==null?T(Y,ae,we,se,Me,ze,Te,Le):A(U,Y,se,Me,ze,Te,Le)},T=(U,Y,ae,we,se,Me,ze,Te)=>{let Le,Ne;const{props:qe,shapeFlag:je,transition:Qe,dirs:at}=U;if(Le=U.el=o(U.type,Me,qe&&qe.is,qe),je&8?u(Le,U.children):je&16&&N(U.children,Le,null,we,se,Bv(U,Me),ze,Te),at&&$s(U,null,we,"created"),k(Le,U,U.scopeId,ze,we),qe){for(const R in qe)R!=="value"&&!Dh(R)&&s(Le,R,null,qe[R],Me,we);"value"in qe&&s(Le,"value",null,qe.value,Me),(Ne=qe.onVnodeBeforeMount)&&pr(Ne,we,U)}at&&$s(U,null,we,"beforeMount");const dt=ak(se,Qe);dt&&Qe.beforeEnter(Le),i(Le,Y,ae),((Ne=qe&&qe.onVnodeMounted)||dt||at)&&sn(()=>{Ne&&pr(Ne,we,U),dt&&Qe.enter(Le),at&&$s(U,null,we,"mounted")},se)},k=(U,Y,ae,we,se)=>{if(ae&&f(U,ae),we)for(let Me=0;Me<we.length;Me++)f(U,we[Me]);if(se){let Me=se.subTree;if(Y===Me||em(Me.type)&&(Me.ssContent===Y||Me.ssFallback===Y)){const ze=se.vnode;k(U,ze,ze.scopeId,ze.slotScopeIds,se.parent)}}},N=(U,Y,ae,we,se,Me,ze,Te,Le=0)=>{for(let Ne=Le;Ne<U.length;Ne++){const qe=U[Ne]=Te?Ra(U[Ne]):gr(U[Ne]);m(null,qe,Y,ae,we,se,Me,ze,Te)}},A=(U,Y,ae,we,se,Me,ze)=>{const Te=Y.el=U.el;let{patchFlag:Le,dynamicChildren:Ne,dirs:qe}=Y;Le|=U.patchFlag&16;const je=U.props||_t,Qe=Y.props||_t;let at;if(ae&&jl(ae,!1),(at=Qe.onVnodeBeforeUpdate)&&pr(at,ae,Y,U),qe&&$s(Y,U,ae,"beforeUpdate"),ae&&jl(ae,!0),(je.innerHTML&&Qe.innerHTML==null||je.textContent&&Qe.textContent==null)&&u(Te,""),Ne?E(U.dynamicChildren,Ne,Te,ae,we,Bv(Y,se),Me):ze||B(U,Y,Te,null,ae,we,Bv(Y,se),Me,!1),Le>0){if(Le&16)x(Te,je,Qe,ae,se);else if(Le&2&&je.class!==Qe.class&&s(Te,"class",null,Qe.class,se),Le&4&&s(Te,"style",je.style,Qe.style,se),Le&8){const dt=Y.dynamicProps;for(let R=0;R<dt.length;R++){const _=dt[R],de=je[_],Ie=Qe[_];(Ie!==de||_==="value")&&s(Te,_,de,Ie,se,ae)}}Le&1&&U.children!==Y.children&&u(Te,Y.children)}else!ze&&Ne==null&&x(Te,je,Qe,ae,se);((at=Qe.onVnodeUpdated)||qe)&&sn(()=>{at&&pr(at,ae,Y,U),qe&&$s(Y,U,ae,"updated")},we)},E=(U,Y,ae,we,se,Me,ze)=>{for(let Te=0;Te<Y.length;Te++){const Le=U[Te],Ne=Y[Te],qe=Le.el&&(Le.type===rt||!ws(Le,Ne)||Le.shapeFlag&198)?c(Le.el):ae;m(Le,Ne,qe,null,we,se,Me,ze,!0)}},x=(U,Y,ae,we,se)=>{if(Y!==ae){if(Y!==_t)for(const Me in Y)!Dh(Me)&&!(Me in ae)&&s(U,Me,Y[Me],null,se,we);for(const Me in ae){if(Dh(Me))continue;const ze=ae[Me],Te=Y[Me];ze!==Te&&Me!=="value"&&s(U,Me,Te,ze,se,we)}"value"in ae&&s(U,"value",Y.value,ae.value,se)}},D=(U,Y,ae,we,se,Me,ze,Te,Le)=>{const Ne=Y.el=U?U.el:a(""),qe=Y.anchor=U?U.anchor:a("");let{patchFlag:je,dynamicChildren:Qe,slotScopeIds:at}=Y;at&&(Te=Te?Te.concat(at):at),U==null?(i(Ne,ae,we),i(qe,ae,we),N(Y.children||[],ae,qe,se,Me,ze,Te,Le)):je>0&&je&64&&Qe&&U.dynamicChildren?(E(U.dynamicChildren,Qe,ae,se,Me,ze,Te),(Y.key!=null||se&&Y===se.subTree)&&Sb(U,Y,!0)):B(U,Y,ae,qe,se,Me,ze,Te,Le)},z=(U,Y,ae,we,se,Me,ze,Te,Le)=>{Y.slotScopeIds=Te,U==null?Y.shapeFlag&512?se.ctx.activate(Y,ae,we,ze,Le):w(Y,ae,we,se,Me,ze,Le):O(U,Y,Le)},w=(U,Y,ae,we,se,Me,ze)=>{const Te=U.component=bk(U,we,se);if(Qp(U)&&(Te.ctx.renderer=De),Dk(Te,!1,ze),Te.asyncDep){if(se&&se.registerDep(Te,L,ze),!U.el){const Le=Te.subTree=st(Ui);v(null,Le,Y,ae)}}else L(Te,U,Y,ae,se,Me,ze)},O=(U,Y,ae)=>{const we=Y.component=U.component;if(YF(U,Y,ae))if(we.asyncDep&&!we.asyncResolved){j(we,Y,ae);return}else we.next=Y,we.update();else Y.el=U.el,we.vnode=Y},L=(U,Y,ae,we,se,Me,ze)=>{const Te=()=>{if(U.isMounted){let{next:je,bu:Qe,u:at,parent:dt,vnode:R}=U;{const Ae=lk(U);if(Ae){je&&(je.el=R.el,j(U,je,ze)),Ae.asyncDep.then(()=>{U.isUnmounted||Te()});return}}let _=je,de;jl(U,!1),je?(je.el=R.el,j(U,je,ze)):je=R,Qe&&wh(Qe),(de=je.props&&je.props.onVnodeBeforeUpdate)&&pr(de,dt,je,R),jl(U,!0);const Ie=fg(U),Ee=U.subTree;U.subTree=Ie,m(Ee,Ie,c(Ee.el),P(Ee),U,se,Me),je.el=Ie.el,_===null&&Yy(U,Ie.el),at&&sn(at,se),(de=je.props&&je.props.onVnodeUpdated)&&sn(()=>pr(de,dt,je,R),se)}else{let je;const{el:Qe,props:at}=Y,{bm:dt,m:R,parent:_,root:de,type:Ie}=U,Ee=ll(Y);if(jl(U,!1),dt&&wh(dt),!Ee&&(je=at&&at.onVnodeBeforeMount)&&pr(je,_,Y),jl(U,!0),Qe&&Re){const Ae=()=>{U.subTree=fg(U),Re(Qe,U.subTree,U,se,null)};Ee&&Ie.__asyncHydrate?Ie.__asyncHydrate(Qe,U,Ae):Ae()}else{de.ce&&de.ce._injectChildStyle(Ie);const Ae=U.subTree=fg(U);m(null,Ae,ae,we,U,se,Me),Y.el=Ae.el}if(R&&sn(R,se),!Ee&&(je=at&&at.onVnodeMounted)){const Ae=Y;sn(()=>pr(je,_,Ae),se)}(Y.shapeFlag&256||_&&ll(_.vnode)&&_.vnode.shapeFlag&256)&&U.a&&sn(U.a,se),U.isMounted=!0,Y=ae=we=null}};U.scope.on();const Le=U.effect=new ac(Te);U.scope.off();const Ne=U.update=Le.run.bind(Le),qe=U.job=Le.runIfDirty.bind(Le);qe.i=U,qe.id=U.uid,Le.scheduler=()=>XC(qe),jl(U,!0),Ne()},j=(U,Y,ae)=>{Y.component=U;const we=U.vnode.props;U.vnode=Y,U.next=null,OF(U,Y.props,we,ae),FF(U,Y.children,ae),ua(),yD(U),ca()},B=(U,Y,ae,we,se,Me,ze,Te,Le=!1)=>{const Ne=U&&U.children,qe=U?U.shapeFlag:0,je=Y.children,{patchFlag:Qe,shapeFlag:at}=Y;if(Qe>0){if(Qe&128){ee(Ne,je,ae,we,se,Me,ze,Te,Le);return}else if(Qe&256){V(Ne,je,ae,we,se,Me,ze,Te,Le);return}}at&8?(qe&16&&pe(Ne,se,Me),je!==Ne&&u(ae,je)):qe&16?at&16?ee(Ne,je,ae,we,se,Me,ze,Te,Le):pe(Ne,se,Me,!0):(qe&8&&u(ae,""),at&16&&N(je,ae,we,se,Me,ze,Te,Le))},V=(U,Y,ae,we,se,Me,ze,Te,Le)=>{U=U||bh,Y=Y||bh;const Ne=U.length,qe=Y.length,je=Math.min(Ne,qe);let Qe;for(Qe=0;Qe<je;Qe++){const at=Y[Qe]=Le?Ra(Y[Qe]):gr(Y[Qe]);m(U[Qe],at,ae,null,se,Me,ze,Te,Le)}Ne>qe?pe(U,se,Me,!0,!1,je):N(Y,ae,we,se,Me,ze,Te,Le,je)},ee=(U,Y,ae,we,se,Me,ze,Te,Le)=>{let Ne=0;const qe=Y.length;let je=U.length-1,Qe=qe-1;for(;Ne<=je&&Ne<=Qe;){const at=U[Ne],dt=Y[Ne]=Le?Ra(Y[Ne]):gr(Y[Ne]);if(ws(at,dt))m(at,dt,ae,null,se,Me,ze,Te,Le);else break;Ne++}for(;Ne<=je&&Ne<=Qe;){const at=U[je],dt=Y[Qe]=Le?Ra(Y[Qe]):gr(Y[Qe]);if(ws(at,dt))m(at,dt,ae,null,se,Me,ze,Te,Le);else break;je--,Qe--}if(Ne>je){if(Ne<=Qe){const at=Qe+1,dt=at<qe?Y[at].el:we;for(;Ne<=Qe;)m(null,Y[Ne]=Le?Ra(Y[Ne]):gr(Y[Ne]),ae,dt,se,Me,ze,Te,Le),Ne++}}else if(Ne>Qe)for(;Ne<=je;)J(U[Ne],se,Me,!0),Ne++;else{const at=Ne,dt=Ne,R=new Map;for(Ne=dt;Ne<=Qe;Ne++){const wt=Y[Ne]=Le?Ra(Y[Ne]):gr(Y[Ne]);wt.key!=null&&R.set(wt.key,Ne)}let _,de=0;const Ie=Qe-dt+1;let Ee=!1,Ae=0;const ht=new Array(Ie);for(Ne=0;Ne<Ie;Ne++)ht[Ne]=0;for(Ne=at;Ne<=je;Ne++){const wt=U[Ne];if(de>=Ie){J(wt,se,Me,!0);continue}let Yt;if(wt.key!=null)Yt=R.get(wt.key);else for(_=dt;_<=Qe;_++)if(ht[_-dt]===0&&ws(wt,Y[_])){Yt=_;break}Yt===void 0?J(wt,se,Me,!0):(ht[Yt-dt]=Ne+1,Yt>=Ae?Ae=Yt:Ee=!0,m(wt,Y[Yt],ae,null,se,Me,ze,Te,Le),de++)}const vi=Ee?BF(ht):bh;for(_=vi.length-1,Ne=Ie-1;Ne>=0;Ne--){const wt=dt+Ne,Yt=Y[wt],ge=wt+1<qe?Y[wt+1].el:we;ht[Ne]===0?m(null,Yt,ae,ge,se,Me,ze,Te,Le):Ee&&(_<0||Ne!==vi[_]?W(Yt,ae,ge,2):_--)}}},W=(U,Y,ae,we,se=null)=>{const{el:Me,type:ze,transition:Te,children:Le,shapeFlag:Ne}=U;if(Ne&6){W(U.component.subTree,Y,ae,we);return}if(Ne&128){U.suspense.move(Y,ae,we);return}if(Ne&64){ze.move(U,Y,ae,De);return}if(ze===rt){i(Me,Y,ae);for(let je=0;je<Le.length;je++)W(Le[je],Y,ae,we);i(U.anchor,Y,ae);return}if(ze===hl){S(U,Y,ae);return}if(we!==2&&Ne&1&&Te)if(we===0)Te.beforeEnter(Me),i(Me,Y,ae),sn(()=>Te.enter(Me),se);else{const{leave:je,delayLeave:Qe,afterLeave:at}=Te,dt=()=>{U.ctx.isUnmounted?n(Me):i(Me,Y,ae)},R=()=>{je(Me,()=>{dt(),at&&at()})};Qe?Qe(Me,dt,R):R()}else i(Me,Y,ae)},J=(U,Y,ae,we=!1,se=!1)=>{const{type:Me,props:ze,ref:Te,children:Le,dynamicChildren:Ne,shapeFlag:qe,patchFlag:je,dirs:Qe,cacheIndex:at}=U;if(je===-2&&(se=!1),Te!=null&&(ua(),Xd(Te,null,ae,U,!0),ca()),at!=null&&(Y.renderCache[at]=void 0),qe&256){Y.ctx.deactivate(U);return}const dt=qe&1&&Qe,R=!ll(U);let _;if(R&&(_=ze&&ze.onVnodeBeforeUnmount)&&pr(_,Y,U),qe&6)me(U.component,ae,we);else{if(qe&128){U.suspense.unmount(ae,we);return}dt&&$s(U,null,Y,"beforeUnmount"),qe&64?U.type.remove(U,Y,ae,De,we):Ne&&!Ne.hasOnce&&(Me!==rt||je>0&&je&64)?pe(Ne,Y,ae,!1,!0):(Me===rt&&je&384||!se&&qe&16)&&pe(Le,Y,ae),we&&K(U)}(R&&(_=ze&&ze.onVnodeUnmounted)||dt)&&sn(()=>{_&&pr(_,Y,U),dt&&$s(U,null,Y,"unmounted")},ae)},K=U=>{const{type:Y,el:ae,anchor:we,transition:se}=U;if(Y===rt){le(ae,we);return}if(Y===hl){b(U);return}const Me=()=>{n(ae),se&&!se.persisted&&se.afterLeave&&se.afterLeave()};if(U.shapeFlag&1&&se&&!se.persisted){const{leave:ze,delayLeave:Te}=se,Le=()=>ze(ae,Me);Te?Te(U.el,Me,Le):Le()}else Me()},le=(U,Y)=>{let ae;for(;U!==Y;)ae=d(U),n(U),U=ae;n(Y)},me=(U,Y,ae)=>{const{bum:we,scope:se,job:Me,subTree:ze,um:Te,m:Le,a:Ne,parent:qe,slots:{__:je}}=U;Xg(Le),Xg(Ne),we&&wh(we),qe&&et(je)&&je.forEach(Qe=>{qe.renderCache[Qe]=void 0}),se.stop(),Me&&(Me.flags|=8,J(ze,U,Y,ae)),Te&&sn(Te,Y),sn(()=>{U.isUnmounted=!0},Y),Y&&Y.pendingBranch&&!Y.isUnmounted&&U.asyncDep&&!U.asyncResolved&&U.suspenseId===Y.pendingId&&(Y.deps--,Y.deps===0&&Y.resolve())},pe=(U,Y,ae,we=!1,se=!1,Me=0)=>{for(let ze=Me;ze<U.length;ze++)J(U[ze],Y,ae,we,se)},P=U=>{if(U.shapeFlag&6)return P(U.component.subTree);if(U.shapeFlag&128)return U.suspense.next();const Y=d(U.anchor||U.el),ae=Y&&Y[ME];return ae?d(ae):Y};let ve=!1;const X=(U,Y,ae)=>{U==null?Y._vnode&&J(Y._vnode,null,null,!0):m(Y._vnode||null,U,Y,null,null,null,ae),Y._vnode=U,ve||(ve=!0,yD(),Jg(),ve=!1)},De={p:m,um:J,m:W,r:K,mt:w,mc:N,pc:B,pbc:E,n:P,o:r};let Fe,Re;return e&&([Fe,Re]=e(De)),{render:X,hydrate:Fe,createApp:LF(X,Fe)}}function Bv({type:r,props:e},t){return t==="svg"&&r==="foreignObject"||t==="mathml"&&r==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function jl({effect:r,job:e},t){t?(r.flags|=32,e.flags|=4):(r.flags&=-33,e.flags&=-5)}function ak(r,e){return(!r||r&&!r.pendingBranch)&&e&&!e.persisted}function Sb(r,e,t=!1){const i=r.children,n=e.children;if(et(i)&&et(n))for(let s=0;s<i.length;s++){const o=i[s];let a=n[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[s]=Ra(n[s]),a.el=o.el),!t&&a.patchFlag!==-2&&Sb(o,a)),a.type===ia&&(a.el=o.el),a.type===Ui&&!a.el&&(a.el=o.el)}}function BF(r){const e=r.slice(),t=[0];let i,n,s,o,a;const l=r.length;for(i=0;i<l;i++){const h=r[i];if(h!==0){if(n=t[t.length-1],r[n]<h){e[i]=n,t.push(i);continue}for(s=0,o=t.length-1;s<o;)a=s+o>>1,r[t[a]]<h?s=a+1:o=a;h<r[t[s]]&&(s>0&&(e[i]=t[s-1]),t[s]=i)}}for(s=t.length,o=t[s-1];s-- >0;)t[s]=o,o=e[o];return t}function lk(r){const e=r.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:lk(e)}function Xg(r){if(r)for(let e=0;e<r.length;e++)r[e].flags|=8}const Cb=Symbol.for("v-scx"),bb=()=>nr(Cb);function Ts(r,e){return Yp(r,null,e)}function hk(r,e){return Yp(r,null,{flush:"post"})}function Ib(r,e){return Yp(r,null,{flush:"sync"})}function Qt(r,e,t){return Yp(r,e,t)}function Yp(r,e,t=_t){const{immediate:i,deep:n,flush:s,once:o}=t,a=fi({},t),l=e&&i||!e&&s!=="post";let h;if(hc){if(s==="sync"){const f=bb();h=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=Fr,f.resume=Fr,f.pause=Fr,f}}const u=hn;a.call=(f,g,m)=>Hr(f,u,g,m);let c=!1;s==="post"?a.scheduler=f=>{sn(f,u&&u.suspense)}:s!=="sync"&&(c=!0,a.scheduler=(f,g)=>{g?f():XC(f)}),a.augmentJob=f=>{e&&(f.flags|=4),c&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const d=oF(r,e,a);return hc&&(h?h.push(d):l&&d()),d}function UF(r,e,t){const i=this.proxy,n=li(r)?r.includes(".")?uk(i,r):()=>i[r]:r.bind(i,i);let s;Mt(e)?s=e:(s=e.handler,t=e);const o=Fh(this),a=Yp(n,s.bind(i),t);return o(),a}function uk(r,e){const t=e.split(".");return()=>{let i=r;for(let n=0;n<t.length&&i;n++)i=i[t[n]];return i}}function ck(r,e,t=_t){const i=Tr(),n=cn(e),s=Un(e),o=dk(r,n),a=jy((l,h)=>{let u,c=_t,d;return Ib(()=>{const f=r[n];Pn(u,f)&&(u=f,h())}),{get(){return l(),t.get?t.get(u):u},set(f){const g=t.set?t.set(f):f;if(!Pn(g,u)&&!(c!==_t&&Pn(f,c)))return;const m=i.vnode.props;m&&(e in m||n in m||s in m)&&(`onUpdate:${e}`in m||`onUpdate:${n}`in m||`onUpdate:${s}`in m)||(u=f,h()),i.emit(`update:${e}`,g),Pn(f,g)&&Pn(f,c)&&!Pn(g,d)&&h(),c=f,d=g}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||_t:a,done:!1}:{done:!0}}}},a}const dk=(r,e)=>e==="modelValue"||e==="model-value"?r.modelModifiers:r[`${e}Modifiers`]||r[`${cn(e)}Modifiers`]||r[`${Un(e)}Modifiers`];function HF(r,e,...t){if(r.isUnmounted)return;const i=r.vnode.props||_t;let n=t;const s=e.startsWith("update:"),o=s&&dk(i,e.slice(7));o&&(o.trim&&(n=t.map(u=>li(u)?u.trim():u)),o.number&&(n=t.map(Wd)));let a,l=i[a=Th(e)]||i[a=Th(cn(e))];!l&&s&&(l=i[a=Th(Un(e))]),l&&Hr(l,r,6,n);const h=i[a+"Once"];if(h){if(!r.emitted)r.emitted={};else if(r.emitted[a])return;r.emitted[a]=!0,Hr(h,r,6,n)}}function pk(r,e,t=!1){const i=e.emitsCache,n=i.get(r);if(n!==void 0)return n;const s=r.emits;let o={},a=!1;if(!Mt(r)){const l=h=>{const u=pk(h,e,!0);u&&(a=!0,fi(o,u))};!t&&e.mixins.length&&e.mixins.forEach(l),r.extends&&l(r.extends),r.mixins&&r.mixins.forEach(l)}return!s&&!a?(hi(r)&&i.set(r,null),null):(et(s)?s.forEach(l=>o[l]=null):fi(o,s),hi(r)&&i.set(r,o),o)}function _y(r,e){return!r||!xc(e)?!1:(e=e.slice(2).replace(/Once$/,""),Zt(r,e[0].toLowerCase()+e.slice(1))||Zt(r,Un(e))||Zt(r,e))}function fg(r){const{type:e,vnode:t,proxy:i,withProxy:n,propsOptions:[s],slots:o,attrs:a,emit:l,render:h,renderCache:u,props:c,data:d,setupState:f,ctx:g,inheritAttrs:m}=r,y=Zd(r);let v,M;try{if(t.shapeFlag&4){const b=n||i,C=b;v=gr(h.call(C,b,u,c,f,d,g)),M=a}else{const b=e;v=gr(b.length>1?b(c,{attrs:a,slots:o,emit:l}):b(c,null)),M=e.props?a:QF(a)}}catch(b){xd.length=0,El(b,r,1),v=st(Ui)}let S=v;if(M&&m!==!1){const b=Object.keys(M),{shapeFlag:C}=S;b.length&&C&7&&(s&&b.some(Cy)&&(M=_F(M,s)),S=ks(S,M,!1,!0))}return t.dirs&&(S=ks(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(t.dirs):t.dirs),t.transition&&po(S,t.transition),v=S,Zd(y),v}function VF(r,e=!0){let t;for(let i=0;i<r.length;i++){const n=r[i];if(Xn(n)){if(n.type!==Ui||n.children==="v-if"){if(t)return;t=n}}else return}return t}const QF=r=>{let e;for(const t in r)(t==="class"||t==="style"||xc(t))&&((e||(e={}))[t]=r[t]);return e},_F=(r,e)=>{const t={};for(const i in r)(!Cy(i)||!(i.slice(9)in e))&&(t[i]=r[i]);return t};function YF(r,e,t){const{props:i,children:n,component:s}=r,{props:o,children:a,patchFlag:l}=e,h=s.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return i?AD(i,o,h):!!o;if(l&8){const u=e.dynamicProps;for(let c=0;c<u.length;c++){const d=u[c];if(o[d]!==i[d]&&!_y(h,d))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?AD(i,o,h):!0:!!o;return!1}function AD(r,e,t){const i=Object.keys(e);if(i.length!==Object.keys(r).length)return!0;for(let n=0;n<i.length;n++){const s=i[n];if(e[s]!==r[s]&&!_y(t,s))return!0}return!1}function Yy({vnode:r,parent:e},t){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===r&&(i.el=r.el),i===r)(r=e.vnode).el=t,e=e.parent;else break}}const em=r=>r.__isSuspense;let E0=0;const WF={name:"Suspense",__isSuspense:!0,process(r,e,t,i,n,s,o,a,l,h){if(r==null)qF(e,t,i,n,s,o,a,l,h);else{if(s&&s.deps>0&&!r.suspense.isInFallback){e.suspense=r.suspense,e.suspense.vnode=e,e.el=r.el;return}GF(r,e,t,i,n,o,a,l,h)}},hydrate:$F,normalize:KF},fk=WF;function tp(r,e){const t=r.props&&r.props[e];Mt(t)&&t()}function qF(r,e,t,i,n,s,o,a,l){const{p:h,o:{createElement:u}}=l,c=u("div"),d=r.suspense=gk(r,n,i,e,c,t,s,o,a,l);h(null,d.pendingBranch=r.ssContent,c,null,i,d,s,o),d.deps>0?(tp(r,"onPending"),tp(r,"onFallback"),h(null,r.ssFallback,e,t,i,null,s,o),Pu(d,r.ssFallback)):d.resolve(!1,!0)}function GF(r,e,t,i,n,s,o,a,{p:l,um:h,o:{createElement:u}}){const c=e.suspense=r.suspense;c.vnode=e,e.el=r.el;const d=e.ssContent,f=e.ssFallback,{activeBranch:g,pendingBranch:m,isInFallback:y,isHydrating:v}=c;if(m)c.pendingBranch=d,ws(d,m)?(l(m,d,c.hiddenContainer,null,n,c,s,o,a),c.deps<=0?c.resolve():y&&(v||(l(g,f,t,i,n,null,s,o,a),Pu(c,f)))):(c.pendingId=E0++,v?(c.isHydrating=!1,c.activeBranch=m):h(m,n,c),c.deps=0,c.effects.length=0,c.hiddenContainer=u("div"),y?(l(null,d,c.hiddenContainer,null,n,c,s,o,a),c.deps<=0?c.resolve():(l(g,f,t,i,n,null,s,o,a),Pu(c,f))):g&&ws(d,g)?(l(g,d,t,i,n,c,s,o,a),c.resolve(!0)):(l(null,d,c.hiddenContainer,null,n,c,s,o,a),c.deps<=0&&c.resolve()));else if(g&&ws(d,g))l(g,d,t,i,n,c,s,o,a),Pu(c,d);else if(tp(e,"onPending"),c.pendingBranch=d,d.shapeFlag&512?c.pendingId=d.component.suspenseId:c.pendingId=E0++,l(null,d,c.hiddenContainer,null,n,c,s,o,a),c.deps<=0)c.resolve();else{const{timeout:M,pendingId:S}=c;M>0?setTimeout(()=>{c.pendingId===S&&c.fallback(f)},M):M===0&&c.fallback(f)}}function gk(r,e,t,i,n,s,o,a,l,h,u=!1){const{p:c,m:d,um:f,n:g,o:{parentNode:m,remove:y}}=h;let v;const M=JF(r);M&&e&&e.pendingBranch&&(v=e.pendingId,e.deps++);const S=r.props?qd(r.props.timeout):void 0,b=s,C={vnode:r,parent:e,parentComponent:t,namespace:o,container:i,hiddenContainer:n,deps:0,pendingId:E0++,timeout:typeof S=="number"?S:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(T=!1,k=!1){const{vnode:N,activeBranch:A,pendingBranch:E,pendingId:x,effects:D,parentComponent:z,container:w}=C;let O=!1;C.isHydrating?C.isHydrating=!1:T||(O=A&&E.transition&&E.transition.mode==="out-in",O&&(A.transition.afterLeave=()=>{x===C.pendingId&&(d(E,w,s===b?g(A):s,0),lc(D))}),A&&(m(A.el)===w&&(s=g(A)),f(A,z,C,!0)),O||d(E,w,s,0)),Pu(C,E),C.pendingBranch=null,C.isInFallback=!1;let L=C.parent,j=!1;for(;L;){if(L.pendingBranch){L.effects.push(...D),j=!0;break}L=L.parent}!j&&!O&&lc(D),C.effects=[],M&&e&&e.pendingBranch&&v===e.pendingId&&(e.deps--,e.deps===0&&!k&&e.resolve()),tp(N,"onResolve")},fallback(T){if(!C.pendingBranch)return;const{vnode:k,activeBranch:N,parentComponent:A,container:E,namespace:x}=C;tp(k,"onFallback");const D=g(N),z=()=>{C.isInFallback&&(c(null,T,E,D,A,null,x,a,l),Pu(C,T))},w=T.transition&&T.transition.mode==="out-in";w&&(N.transition.afterLeave=z),C.isInFallback=!0,f(N,A,null,!0),w||z()},move(T,k,N){C.activeBranch&&d(C.activeBranch,T,k,N),C.container=T},next(){return C.activeBranch&&g(C.activeBranch)},registerDep(T,k,N){const A=!!C.pendingBranch;A&&C.deps++;const E=T.vnode.el;T.asyncDep.catch(x=>{El(x,T,0)}).then(x=>{if(T.isUnmounted||C.isUnmounted||C.pendingId!==T.suspenseId)return;T.asyncResolved=!0;const{vnode:D}=T;z0(T,x,!1),E&&(D.el=E);const z=!E&&T.subTree.el;k(T,D,m(E||T.subTree.el),E?null:g(T.subTree),C,o,N),z&&y(z),Yy(T,D.el),A&&--C.deps===0&&C.resolve()})},unmount(T,k){C.isUnmounted=!0,C.activeBranch&&f(C.activeBranch,t,T,k),C.pendingBranch&&f(C.pendingBranch,t,T,k)}};return C}function $F(r,e,t,i,n,s,o,a,l){const h=e.suspense=gk(e,i,t,r.parentNode,document.createElement("div"),null,n,s,o,a,!0),u=l(r,h.pendingBranch=e.ssContent,t,h,s,o);return h.deps===0&&h.resolve(!1,!0),u}function KF(r){const{shapeFlag:e,children:t}=r,i=e&32;r.ssContent=ED(i?t.default:t),r.ssFallback=i?ED(t.fallback):st(Ui)}function ED(r){let e;if(Mt(r)){const t=Ph&&r._c;t&&(r._d=!1,te()),r=r(),t&&(r._d=!0,e=Vn,yk())}return et(r)&&(r=VF(r)),r=gr(r),e&&!r.dynamicChildren&&(r.dynamicChildren=e.filter(t=>t!==r)),r}function mk(r,e){e&&e.pendingBranch?et(r)?e.effects.push(...r):e.effects.push(r):lc(r)}function Pu(r,e){r.activeBranch=e;const{vnode:t,parentComponent:i}=r;let n=e.el;for(;!n&&e.component;)e=e.component.subTree,n=e.el;t.el=n,i&&i.subTree===t&&(i.vnode.el=n,Yy(i,n))}function JF(r){const e=r.props&&r.props.suspensible;return e!=null&&e!==!1}const rt=Symbol.for("v-fgt"),ia=Symbol.for("v-txt"),Ui=Symbol.for("v-cmt"),hl=Symbol.for("v-stc"),xd=[];let Vn=null;function te(r=!1){xd.push(Vn=r?null:[])}function yk(){xd.pop(),Vn=xd[xd.length-1]||null}let Ph=1;function tm(r,e=!1){Ph+=r,r<0&&Vn&&e&&(Vn.hasOnce=!0)}function vk(r){return r.dynamicChildren=Ph>0?Vn||bh:null,yk(),Ph>0&&Vn&&Vn.push(r),r}function oe(r,e,t,i,n,s){return vk($(r,e,t,i,n,s,!0))}function mn(r,e,t,i,n){return vk(st(r,e,t,i,n,!0))}function Xn(r){return r?r.__v_isVNode===!0:!1}function ws(r,e){return r.type===e.type&&r.key===e.key}function Mk(r){}const Sk=({key:r})=>r??null,gg=({ref:r,ref_key:e,ref_for:t})=>(typeof r=="number"&&(r=""+r),r!=null?li(r)||bi(r)||Mt(r)?{i:un,r,k:e,f:!!t}:r:null);function $(r,e=null,t=null,i=0,n=null,s=r===rt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:r,props:e,key:e&&Sk(e),ref:e&&gg(e),scopeId:Py,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:un};return a?(Tb(l,t),s&128&&r.normalize(l)):t&&(l.shapeFlag|=li(t)?8:16),Ph>0&&!o&&Vn&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Vn.push(l),l}const st=ZF;function ZF(r,e=null,t=null,i=0,n=null,s=!1){if((!r||r===OE)&&(r=Ui),Xn(r)){const a=ks(r,e,!0);return t&&Tb(a,t),Ph>0&&!s&&Vn&&(a.shapeFlag&6?Vn[Vn.indexOf(r)]=a:Vn.push(a)),a.patchFlag=-2,a}if(n2(r)&&(r=r.__vccOpts),e){e=Db(e);let{class:a,style:l}=e;a&&!li(a)&&(e.class=$e(a)),hi(l)&&(Bp(l)&&!et(l)&&(l=fi({},l)),e.style=Xi(l))}const o=li(r)?1:em(r)?128:SE(r)?64:hi(r)?4:Mt(r)?2:0;return $(r,e,t,i,n,o,s,!0)}function Db(r){return r?Bp(r)||ek(r)?fi({},r):r:null}function ks(r,e,t=!1,i=!1){const{props:n,ref:s,patchFlag:o,children:a,transition:l}=r,h=e?ul(n||{},e):n,u={__v_isVNode:!0,__v_skip:!0,type:r.type,props:h,key:h&&Sk(h),ref:e&&e.ref?t&&s?et(s)?s.concat(gg(e)):[s,gg(e)]:gg(e):s,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:a,target:r.target,targetStart:r.targetStart,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:e&&r.type!==rt?o===-1?16:o|16:o,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:l,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&ks(r.ssContent),ssFallback:r.ssFallback&&ks(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce};return l&&i&&po(u,l.clone(u)),u}function Ni(r=" ",e=0){return st(ia,null,r,e)}function Ck(r,e){const t=st(hl,null,r);return t.staticCount=e,t}function yt(r="",e=!1){return e?(te(),mn(Ui,null,r)):st(Ui,null,r)}function gr(r){return r==null||typeof r=="boolean"?st(Ui):et(r)?st(rt,null,r.slice()):Xn(r)?Ra(r):st(ia,null,String(r))}function Ra(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:ks(r)}function Tb(r,e){let t=0;const{shapeFlag:i}=r;if(e==null)e=null;else if(et(e))t=16;else if(typeof e=="object")if(i&65){const n=e.default;n&&(n._c&&(n._d=!1),Tb(r,n()),n._c&&(n._d=!0));return}else{t=32;const n=e._;!n&&!ek(e)?e._ctx=un:n===3&&un&&(un.slots._===1?e._=1:(e._=2,r.patchFlag|=1024))}else Mt(e)?(e={default:e,_ctx:un},t=32):(e=String(e),i&64?(t=16,e=[Ni(e)]):t=8);r.children=e,r.shapeFlag|=t}function ul(...r){const e={};for(let t=0;t<r.length;t++){const i=r[t];for(const n in i)if(n==="class")e.class!==i.class&&(e.class=$e([e.class,i.class]));else if(n==="style")e.style=Xi([e.style,i.style]);else if(xc(n)){const s=e[n],o=i[n];o&&s!==o&&!(et(s)&&s.includes(o))&&(e[n]=s?[].concat(s,o):o)}else n!==""&&(e[n]=i[n])}return e}function pr(r,e,t,i=null){Hr(r,e,7,[t,i])}const XF=JE();let e2=0;function bk(r,e,t){const i=r.type,n=(e?e.appContext:r.appContext)||XF,s={uid:e2++,vnode:r,type:i,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new wy(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ik(i,n),emitsOptions:pk(i,n),emit:null,emitted:null,propsDefaults:_t,inheritAttrs:i.inheritAttrs,ctx:_t,data:_t,props:_t,attrs:_t,slots:_t,refs:_t,setupState:_t,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=HF.bind(null,s),r.ce&&r.ce(s),s}let hn=null;const Tr=()=>hn||un;let im,k0;{const r=jp(),e=(t,i)=>{let n;return(n=r[t])||(n=r[t]=[]),n.push(i),s=>{n.length>1?n.forEach(o=>o(s)):n[0](s)}};im=e("__VUE_INSTANCE_SETTERS__",t=>hn=t),k0=e("__VUE_SSR_SETTERS__",t=>hc=t)}const Fh=r=>{const e=hn;return im(r),r.scope.on(),()=>{r.scope.off(),im(e)}},L0=()=>{hn&&hn.scope.off(),im(null)};function Ik(r){return r.vnode.shapeFlag&4}let hc=!1;function Dk(r,e=!1,t=!1){e&&k0(e);const{props:i,children:n}=r.vnode,s=Ik(r);zF(r,i,s,e),PF(r,n,t||e);const o=s?t2(r,e):void 0;return e&&k0(!1),o}function t2(r,e){const t=r.type;r.accessCache=Object.create(null),r.proxy=new Proxy(r.ctx,w0);const{setup:i}=t;if(i){ua();const n=r.setupContext=i.length>1?Nk(r):null,s=Fh(r),o=iu(i,r,0,[r.props,n]),a=Iy(o);if(ca(),s(),(a||r.sp)&&!ll(r)&&tb(r),a){if(o.then(L0,L0),e)return o.then(l=>{z0(r,l,e)}).catch(l=>{El(l,r,0)});r.asyncDep=o}else z0(r,o,e)}else xk(r,e)}function z0(r,e,t){Mt(e)?r.type.__ssrInlineRender?r.ssrRender=e:r.render=e:hi(e)&&(r.setupState=Ry(e)),xk(r,t)}let nm,O0;function Tk(r){nm=r,O0=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,TF))}}const wk=()=>!nm;function xk(r,e,t){const i=r.type;if(!r.render){if(!e&&nm&&!i.render){const n=i.template||gb(r).template;if(n){const{isCustomElement:s,compilerOptions:o}=r.appContext.config,{delimiters:a,compilerOptions:l}=i,h=fi(fi({isCustomElement:s,delimiters:a},o),l);i.render=nm(n,h)}}r.render=i.render||Fr,O0&&O0(r)}{const n=Fh(r);ua();try{wF(r)}finally{ca(),n()}}}const i2={get(r,e){return Fn(r,"get",""),r[e]}};function Nk(r){const e=t=>{r.exposed=t||{}};return{attrs:new Proxy(r.attrs,i2),slots:r.slots,emit:r.emit,expose:e}}function Wp(r){return r.exposed?r.exposeProxy||(r.exposeProxy=new Proxy(Ry(Ec(r.exposed)),{get(e,t){if(t in e)return e[t];if(t in wd)return wd[t](r)},has(e,t){return t in e||t in wd}})):r.proxy}function R0(r,e=!0){return Mt(r)?r.displayName||r.name:r.name||e&&r.__name}function n2(r){return Mt(r)&&"__vccOpts"in r}const Ce=(r,e)=>sF(r,e,hc);function Wi(r,e,t){const i=arguments.length;return i===2?hi(e)&&!et(e)?Xn(e)?st(r,null,[e]):st(r,e):st(r,null,e):(i>3?t=Array.prototype.slice.call(arguments,2):i===3&&Xn(t)&&(t=[t]),st(r,e,t))}function Ak(){}function Ek(r,e,t,i){const n=t[i];if(n&&wb(n,r))return n;const s=e();return s.memo=r.slice(),s.cacheIndex=i,t[i]=s}function wb(r,e){const t=r.memo;if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(Pn(t[i],e[i]))return!1;return Ph>0&&Vn&&Vn.push(r),!0}const xb="3.5.16",kk=Fr,Lk=hF,zk=Su,Ok=gE,r2={createComponentInstance:bk,setupComponent:Dk,renderComponentRoot:fg,setCurrentRenderingInstance:Zd,isVNode:Xn,normalizeVNode:gr,getComponentPublicInstance:Wp,ensureValidVNode:pb,pushWarningContext:aF,popWarningContext:lF},Rk=r2,jk=null,Pk=null,Fk=null;/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let j0;const kD=typeof window<"u"&&window.trustedTypes;if(kD)try{j0=kD.createPolicy("vue",{createHTML:r=>r})}catch{}const Bk=j0?r=>j0.createHTML(r):r=>r,s2="http://www.w3.org/2000/svg",o2="http://www.w3.org/1998/Math/MathML",Ho=typeof document<"u"?document:null,LD=Ho&&Ho.createElement("template"),a2={insert:(r,e,t)=>{e.insertBefore(r,t||null)},remove:r=>{const e=r.parentNode;e&&e.removeChild(r)},createElement:(r,e,t,i)=>{const n=e==="svg"?Ho.createElementNS(s2,r):e==="mathml"?Ho.createElementNS(o2,r):t?Ho.createElement(r,{is:t}):Ho.createElement(r);return r==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:r=>Ho.createTextNode(r),createComment:r=>Ho.createComment(r),setText:(r,e)=>{r.nodeValue=e},setElementText:(r,e)=>{r.textContent=e},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>Ho.querySelector(r),setScopeId(r,e){r.setAttribute(e,"")},insertStaticContent(r,e,t,i,n,s){const o=t?t.previousSibling:e.lastChild;if(n&&(n===s||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),t),!(n===s||!(n=n.nextSibling)););else{LD.innerHTML=Bk(i==="svg"?`<svg>${r}</svg>`:i==="mathml"?`<math>${r}</math>`:r);const a=LD.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},ga="transition",Uc="animation",uc=Symbol("_vtc"),Uk={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Hk=fi({},By,Uk),l2=r=>(r.displayName="Transition",r.props=Hk,r),tl=l2((r,{slots:e})=>Wi(eb,Vk(r),e)),Pl=(r,e=[])=>{et(r)?r.forEach(t=>t(...e)):r&&r(...e)},zD=r=>r?et(r)?r.some(e=>e.length>1):r.length>1:!1;function Vk(r){const e={};for(const D in r)D in Uk||(e[D]=r[D]);if(r.css===!1)return e;const{name:t="v",type:i,duration:n,enterFromClass:s=`${t}-enter-from`,enterActiveClass:o=`${t}-enter-active`,enterToClass:a=`${t}-enter-to`,appearFromClass:l=s,appearActiveClass:h=o,appearToClass:u=a,leaveFromClass:c=`${t}-leave-from`,leaveActiveClass:d=`${t}-leave-active`,leaveToClass:f=`${t}-leave-to`}=r,g=h2(n),m=g&&g[0],y=g&&g[1],{onBeforeEnter:v,onEnter:M,onEnterCancelled:S,onLeave:b,onLeaveCancelled:C,onBeforeAppear:T=v,onAppear:k=M,onAppearCancelled:N=S}=e,A=(D,z,w,O)=>{D._enterCancelled=O,Na(D,z?u:a),Na(D,z?h:o),w&&w()},E=(D,z)=>{D._isLeaving=!1,Na(D,c),Na(D,f),Na(D,d),z&&z()},x=D=>(z,w)=>{const O=D?k:M,L=()=>A(z,D,w);Pl(O,[z,L]),OD(()=>{Na(z,D?l:s),Qs(z,D?u:a),zD(O)||RD(z,i,m,L)})};return fi(e,{onBeforeEnter(D){Pl(v,[D]),Qs(D,s),Qs(D,o)},onBeforeAppear(D){Pl(T,[D]),Qs(D,l),Qs(D,h)},onEnter:x(!1),onAppear:x(!0),onLeave(D,z){D._isLeaving=!0;const w=()=>E(D,z);Qs(D,c),D._enterCancelled?(Qs(D,d),P0()):(P0(),Qs(D,d)),OD(()=>{D._isLeaving&&(Na(D,c),Qs(D,f),zD(b)||RD(D,i,y,w))}),Pl(b,[D,w])},onEnterCancelled(D){A(D,!1,void 0,!0),Pl(S,[D])},onAppearCancelled(D){A(D,!0,void 0,!0),Pl(N,[D])},onLeaveCancelled(D){E(D),Pl(C,[D])}})}function h2(r){if(r==null)return null;if(hi(r))return[Uv(r.enter),Uv(r.leave)];{const e=Uv(r);return[e,e]}}function Uv(r){return qd(r)}function Qs(r,e){e.split(/\s+/).forEach(t=>t&&r.classList.add(t)),(r[uc]||(r[uc]=new Set)).add(e)}function Na(r,e){e.split(/\s+/).forEach(i=>i&&r.classList.remove(i));const t=r[uc];t&&(t.delete(e),t.size||(r[uc]=void 0))}function OD(r){requestAnimationFrame(()=>{requestAnimationFrame(r)})}let u2=0;function RD(r,e,t,i){const n=r._endId=++u2,s=()=>{n===r._endId&&i()};if(t!=null)return setTimeout(s,t);const{type:o,timeout:a,propCount:l}=Qk(r,e);if(!o)return i();const h=o+"end";let u=0;const c=()=>{r.removeEventListener(h,d),s()},d=f=>{f.target===r&&++u>=l&&c()};setTimeout(()=>{u<l&&c()},a+1),r.addEventListener(h,d)}function Qk(r,e){const t=window.getComputedStyle(r),i=g=>(t[g]||"").split(", "),n=i(`${ga}Delay`),s=i(`${ga}Duration`),o=jD(n,s),a=i(`${Uc}Delay`),l=i(`${Uc}Duration`),h=jD(a,l);let u=null,c=0,d=0;e===ga?o>0&&(u=ga,c=o,d=s.length):e===Uc?h>0&&(u=Uc,c=h,d=l.length):(c=Math.max(o,h),u=c>0?o>h?ga:Uc:null,d=u?u===ga?s.length:l.length:0);const f=u===ga&&/\b(transform|all)(,|$)/.test(i(`${ga}Property`).toString());return{type:u,timeout:c,propCount:d,hasTransform:f}}function jD(r,e){for(;r.length<e.length;)r=r.concat(r);return Math.max(...e.map((t,i)=>PD(t)+PD(r[i])))}function PD(r){return r==="auto"?0:Number(r.slice(0,-1).replace(",","."))*1e3}function P0(){return document.body.offsetHeight}function c2(r,e,t){const i=r[uc];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?r.removeAttribute("class"):t?r.setAttribute("class",e):r.className=e}const rm=Symbol("_vod"),_k=Symbol("_vsh"),Nb={beforeMount(r,{value:e},{transition:t}){r[rm]=r.style.display==="none"?"":r.style.display,t&&e?t.beforeEnter(r):Hc(r,e)},mounted(r,{value:e},{transition:t}){t&&e&&t.enter(r)},updated(r,{value:e,oldValue:t},{transition:i}){!e!=!t&&(i?e?(i.beforeEnter(r),Hc(r,!0),i.enter(r)):i.leave(r,()=>{Hc(r,!1)}):Hc(r,e))},beforeUnmount(r,{value:e}){Hc(r,e)}};function Hc(r,e){r.style.display=e?r[rm]:"none",r[_k]=!e}function d2(){Nb.getSSRProps=({value:r})=>{if(!r)return{style:{display:"none"}}}}const Yk=Symbol("");function Wk(r){const e=Tr();if(!e)return;const t=e.ut=(n=r(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>sm(s,n))},i=()=>{const n=r(e.proxy);e.ce?sm(e.ce,n):F0(e.subTree,n),t(n)};Hy(()=>{lc(i)}),ir(()=>{Qt(i,Fr,{flush:"post"});const n=new MutationObserver(i);n.observe(e.subTree.el.parentNode,{childList:!0}),kc(()=>n.disconnect())})}function F0(r,e){if(r.shapeFlag&128){const t=r.suspense;r=t.activeBranch,t.pendingBranch&&!t.isHydrating&&t.effects.push(()=>{F0(t.activeBranch,e)})}for(;r.component;)r=r.component.subTree;if(r.shapeFlag&1&&r.el)sm(r.el,e);else if(r.type===rt)r.children.forEach(t=>F0(t,e));else if(r.type===hl){let{el:t,anchor:i}=r;for(;t&&(sm(t,e),t!==i);)t=t.nextSibling}}function sm(r,e){if(r.nodeType===1){const t=r.style;let i="";for(const n in e)t.setProperty(`--${n}`,e[n]),i+=`--${n}: ${e[n]};`;t[Yk]=i}}const p2=/(^|;)\s*display\s*:/;function f2(r,e,t){const i=r.style,n=li(t);let s=!1;if(t&&!n){if(e)if(li(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();t[a]==null&&mg(i,a,"")}else for(const o in e)t[o]==null&&mg(i,o,"");for(const o in t)o==="display"&&(s=!0),mg(i,o,t[o])}else if(n){if(e!==t){const o=i[Yk];o&&(t+=";"+o),i.cssText=t,s=p2.test(t)}}else e&&r.removeAttribute("style");rm in r&&(r[rm]=s?i.display:"",r[_k]&&(i.display="none"))}const FD=/\s*!important$/;function mg(r,e,t){if(et(t))t.forEach(i=>mg(r,e,i));else if(t==null&&(t=""),e.startsWith("--"))r.setProperty(e,t);else{const i=g2(r,e);FD.test(t)?r.setProperty(Un(i),t.replace(FD,""),"important"):r[i]=t}}const BD=["Webkit","Moz","ms"],Hv={};function g2(r,e){const t=Hv[e];if(t)return t;let i=cn(e);if(i!=="filter"&&i in r)return Hv[e]=i;i=tu(i);for(let n=0;n<BD.length;n++){const s=BD[n]+i;if(s in r)return Hv[e]=s}return e}const UD="http://www.w3.org/1999/xlink";function HD(r,e,t,i,n,s=OA(e)){i&&e.startsWith("xlink:")?t==null?r.removeAttributeNS(UD,e.slice(6,e.length)):r.setAttributeNS(UD,e,t):t==null||s&&!GC(t)?r.removeAttribute(e):r.setAttribute(e,s?"":ps(t)?String(t):t)}function VD(r,e,t,i,n){if(e==="innerHTML"||e==="textContent"){t!=null&&(r[e]=e==="innerHTML"?Bk(t):t);return}const s=r.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?r.getAttribute("value")||"":r.value,l=t==null?r.type==="checkbox"?"on":"":String(t);(a!==l||!("_value"in r))&&(r.value=l),t==null&&r.removeAttribute(e),r._value=t;return}let o=!1;if(t===""||t==null){const a=typeof r[e];a==="boolean"?t=GC(t):t==null&&a==="string"?(t="",o=!0):a==="number"&&(t=0,o=!0)}try{r[e]=t}catch{}o&&r.removeAttribute(n||e)}function $o(r,e,t,i){r.addEventListener(e,t,i)}function m2(r,e,t,i){r.removeEventListener(e,t,i)}const QD=Symbol("_vei");function y2(r,e,t,i,n=null){const s=r[QD]||(r[QD]={}),o=s[e];if(i&&o)o.value=i;else{const[a,l]=v2(e);if(i){const h=s[e]=C2(i,n);$o(r,a,h,l)}else o&&(m2(r,a,o,l),s[e]=void 0)}}const _D=/(?:Once|Passive|Capture)$/;function v2(r){let e;if(_D.test(r)){e={};let i;for(;i=r.match(_D);)r=r.slice(0,r.length-i[0].length),e[i[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):Un(r.slice(2)),e]}let Vv=0;const M2=Promise.resolve(),S2=()=>Vv||(M2.then(()=>Vv=0),Vv=Date.now());function C2(r,e){const t=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=t.attached)return;Hr(b2(i,t.value),e,5,[i])};return t.value=r,t.attached=S2(),t}function b2(r,e){if(et(e)){const t=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{t.call(r),r._stopped=!0},e.map(i=>n=>!n._stopped&&i&&i(n))}else return e}const YD=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)>96&&r.charCodeAt(2)<123,I2=(r,e,t,i,n,s)=>{const o=n==="svg";e==="class"?c2(r,i,o):e==="style"?f2(r,t,i):xc(e)?Cy(e)||y2(r,e,t,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):D2(r,e,i,o))?(VD(r,e,i),!r.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&HD(r,e,i,o,s,e!=="value")):r._isVueCE&&(/[A-Z]/.test(e)||!li(i))?VD(r,cn(e),i,s,e):(e==="true-value"?r._trueValue=i:e==="false-value"&&(r._falseValue=i),HD(r,e,i,o))};function D2(r,e,t,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in r&&YD(e)&&Mt(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&r.tagName==="INPUT"||e==="type"&&r.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=r.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return YD(e)&&li(t)?!1:e in r}const WD={};/*! #__NO_SIDE_EFFECTS__ */function Ab(r,e,t){const i=Ai(r,e);Rp(i)&&fi(i,e);class n extends qp{constructor(o){super(i,o,t)}}return n.def=i,n}/*! #__NO_SIDE_EFFECTS__ */const qk=(r,e)=>Ab(r,e,Lb),T2=typeof HTMLElement<"u"?HTMLElement:class{};class qp extends T2{constructor(e,t={},i=ip){super(),this._def=e,this._props=t,this._createApp=i,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&i!==ip?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this}connectedCallback(){if(!this.isConnected)return;!this.shadowRoot&&!this._resolved&&this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof qp){this._parent=e;break}this._instance||(this._resolved?this._mount(this._def):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._inheritParentContext(e))}_inheritParentContext(e=this._parent){e&&this._app&&Object.setPrototypeOf(this._app._context.provides,e._instance.provides)}disconnectedCallback(){this._connected=!1,en(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);this._ob=new MutationObserver(i=>{for(const n of i)this._setAttr(n.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(i,n=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:s,styles:o}=i;let a;if(s&&!et(s))for(const l in s){const h=s[l];(h===Number||h&&h.type===Number)&&(l in this._props&&(this._props[l]=qd(this._props[l])),(a||(a=Object.create(null)))[cn(l)]=!0)}this._numberProps=a,this._resolveProps(i),this.shadowRoot&&this._applyStyles(o),this._mount(i)},t=this._def.__asyncLoader;t?this._pendingResolve=t().then(i=>e(this._def=i,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),this._inheritParentContext(),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const t=this._instance&&this._instance.exposed;if(t)for(const i in t)Zt(this,i)||Object.defineProperty(this,i,{get:()=>be(t[i])})}_resolveProps(e){const{props:t}=e,i=et(t)?t:Object.keys(t||{});for(const n of Object.keys(this))n[0]!=="_"&&i.includes(n)&&this._setProp(n,this[n]);for(const n of i.map(cn))Object.defineProperty(this,n,{get(){return this._getProp(n)},set(s){this._setProp(n,s,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const t=this.hasAttribute(e);let i=t?this.getAttribute(e):WD;const n=cn(e);t&&this._numberProps&&this._numberProps[n]&&(i=qd(i)),this._setProp(n,i,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,t,i=!0,n=!1){if(t!==this._props[e]&&(t===WD?delete this._props[e]:(this._props[e]=t,e==="key"&&this._app&&(this._app._ceVNode.key=t)),n&&this._instance&&this._update(),i)){const s=this._ob;s&&s.disconnect(),t===!0?this.setAttribute(Un(e),""):typeof t=="string"||typeof t=="number"?this.setAttribute(Un(e),t+""):t||this.removeAttribute(Un(e)),s&&s.observe(this,{attributes:!0})}}_update(){const e=this._createVNode();this._app&&(e.appContext=this._app._context),kb(e,this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const t=st(this._def,fi(e,this._props));return this._instance||(t.ce=i=>{this._instance=i,i.ce=this,i.isCE=!0;const n=(s,o)=>{this.dispatchEvent(new CustomEvent(s,Rp(o[0])?fi({detail:o},o[0]):{detail:o}))};i.emit=(s,...o)=>{n(s,o),Un(s)!==s&&n(Un(s),o)},this._setParent()}),t}_applyStyles(e,t){if(!e)return;if(t){if(t===this._def||this._styleChildren.has(t))return;this._styleChildren.add(t)}const i=this._nonce;for(let n=e.length-1;n>=0;n--){const s=document.createElement("style");i&&s.setAttribute("nonce",i),s.textContent=e[n],this.shadowRoot.prepend(s)}}_parseSlots(){const e=this._slots={};let t;for(;t=this.firstChild;){const i=t.nodeType===1&&t.getAttribute("slot")||"default";(e[i]||(e[i]=[])).push(t),this.removeChild(t)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),t=this._instance.type.__scopeId;for(let i=0;i<e.length;i++){const n=e[i],s=n.getAttribute("name")||"default",o=this._slots[s],a=n.parentNode;if(o)for(const l of o){if(t&&l.nodeType===1){const h=t+"-s",u=document.createTreeWalker(l,1);l.setAttribute(h,"");let c;for(;c=u.nextNode();)c.setAttribute(h,"")}a.insertBefore(l,n)}else for(;n.firstChild;)a.insertBefore(n.firstChild,n);a.removeChild(n)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function Eb(r){const e=Tr(),t=e&&e.ce;return t||null}function Gk(){const r=Eb();return r&&r.shadowRoot}function $k(r="$style"){{const e=Tr();if(!e)return _t;const t=e.type.__cssModules;if(!t)return _t;const i=t[r];return i||_t}}const Kk=new WeakMap,Jk=new WeakMap,om=Symbol("_moveCb"),qD=Symbol("_enterCb"),w2=r=>(delete r.props.mode,r),x2=w2({name:"TransitionGroup",props:fi({},Hk,{tag:String,moveClass:String}),setup(r,{slots:e}){const t=Tr(),i=Fy();let n,s;return _p(()=>{if(!n.length)return;const o=r.moveClass||`${r.name||"v"}-move`;if(!k2(n[0].el,t.vnode.el,o)){n=[];return}n.forEach(N2),n.forEach(A2);const a=n.filter(E2);P0(),a.forEach(l=>{const h=l.el,u=h.style;Qs(h,o),u.transform=u.webkitTransform=u.transitionDuration="";const c=h[om]=d=>{d&&d.target!==h||(!d||/transform$/.test(d.propertyName))&&(h.removeEventListener("transitionend",c),h[om]=null,Na(h,o))};h.addEventListener("transitionend",c)}),n=[]}),()=>{const o=Vt(r),a=Vk(o);let l=o.tag||rt;if(n=[],s)for(let h=0;h<s.length;h++){const u=s[h];u.el&&u.el instanceof Element&&(n.push(u),po(u,jh(u,a,i,t)),Kk.set(u,u.el.getBoundingClientRect()))}s=e.default?Vp(e.default()):[];for(let h=0;h<s.length;h++){const u=s[h];u.key!=null&&po(u,jh(u,a,i,t))}return st(l,null,s)}}}),Zk=x2;function N2(r){const e=r.el;e[om]&&e[om](),e[qD]&&e[qD]()}function A2(r){Jk.set(r,r.el.getBoundingClientRect())}function E2(r){const e=Kk.get(r),t=Jk.get(r),i=e.left-t.left,n=e.top-t.top;if(i||n){const s=r.el.style;return s.transform=s.webkitTransform=`translate(${i}px,${n}px)`,s.transitionDuration="0s",r}}function k2(r,e,t){const i=r.cloneNode(),n=r[uc];n&&n.forEach(a=>{a.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),t.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(i);const{hasTransform:o}=Qk(i);return s.removeChild(i),o}const Sl=r=>{const e=r.props["onUpdate:modelValue"]||!1;return et(e)?t=>wh(e,t):e};function L2(r){r.target.composing=!0}function GD(r){const e=r.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const us=Symbol("_assign"),na={created(r,{modifiers:{lazy:e,trim:t,number:i}},n){r[us]=Sl(n);const s=i||n.props&&n.props.type==="number";$o(r,e?"change":"input",o=>{if(o.target.composing)return;let a=r.value;t&&(a=a.trim()),s&&(a=Wd(a)),r[us](a)}),t&&$o(r,"change",()=>{r.value=r.value.trim()}),e||($o(r,"compositionstart",L2),$o(r,"compositionend",GD),$o(r,"change",GD))},mounted(r,{value:e}){r.value=e??""},beforeUpdate(r,{value:e,oldValue:t,modifiers:{lazy:i,trim:n,number:s}},o){if(r[us]=Sl(o),r.composing)return;const a=(s||r.type==="number")&&!/^0\d/.test(r.value)?Wd(r.value):r.value,l=e??"";a!==l&&(document.activeElement===r&&r.type!=="range"&&(i&&e===t||n&&r.value.trim()===l)||(r.value=l))}},Wy={deep:!0,created(r,e,t){r[us]=Sl(t),$o(r,"change",()=>{const i=r._modelValue,n=cc(r),s=r.checked,o=r[us];if(et(i)){const a=Pp(i,n),l=a!==-1;if(s&&!l)o(i.concat(n));else if(!s&&l){const h=[...i];h.splice(a,1),o(h)}}else if(Al(i)){const a=new Set(i);s?a.add(n):a.delete(n),o(a)}else o(Xk(r,s))})},mounted:$D,beforeUpdate(r,e,t){r[us]=Sl(t),$D(r,e,t)}};function $D(r,{value:e,oldValue:t},i){r._modelValue=e;let n;if(et(e))n=Pp(e,i.props.value)>-1;else if(Al(e))n=e.has(i.props.value);else{if(e===t)return;n=ha(e,Xk(r,!0))}r.checked!==n&&(r.checked=n)}const qy={created(r,{value:e},t){r.checked=ha(e,t.props.value),r[us]=Sl(t),$o(r,"change",()=>{r[us](cc(r))})},beforeUpdate(r,{value:e,oldValue:t},i){r[us]=Sl(i),e!==t&&(r.checked=ha(e,i.props.value))}},Gy={deep:!0,created(r,{value:e,modifiers:{number:t}},i){const n=Al(e);$o(r,"change",()=>{const s=Array.prototype.filter.call(r.options,o=>o.selected).map(o=>t?Wd(cc(o)):cc(o));r[us](r.multiple?n?new Set(s):s:s[0]),r._assigning=!0,en(()=>{r._assigning=!1})}),r[us]=Sl(i)},mounted(r,{value:e}){KD(r,e)},beforeUpdate(r,e,t){r[us]=Sl(t)},updated(r,{value:e}){r._assigning||KD(r,e)}};function KD(r,e){const t=r.multiple,i=et(e);if(!(t&&!i&&!Al(e))){for(let n=0,s=r.options.length;n<s;n++){const o=r.options[n],a=cc(o);if(t)if(i){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(h=>String(h)===String(a)):o.selected=Pp(e,a)>-1}else o.selected=e.has(a);else if(ha(cc(o),e)){r.selectedIndex!==n&&(r.selectedIndex=n);return}}!t&&r.selectedIndex!==-1&&(r.selectedIndex=-1)}}function cc(r){return"_value"in r?r._value:r.value}function Xk(r,e){const t=e?"_trueValue":"_falseValue";return t in r?r[t]:e}const $y={created(r,e,t){Df(r,e,t,null,"created")},mounted(r,e,t){Df(r,e,t,null,"mounted")},beforeUpdate(r,e,t,i){Df(r,e,t,i,"beforeUpdate")},updated(r,e,t,i){Df(r,e,t,i,"updated")}};function eL(r,e){switch(r){case"SELECT":return Gy;case"TEXTAREA":return na;default:switch(e){case"checkbox":return Wy;case"radio":return qy;default:return na}}}function Df(r,e,t,i,n){const o=eL(r.tagName,t.props&&t.props.type)[n];o&&o(r,e,t,i)}function z2(){na.getSSRProps=({value:r})=>({value:r}),qy.getSSRProps=({value:r},e)=>{if(e.props&&ha(e.props.value,r))return{checked:!0}},Wy.getSSRProps=({value:r},e)=>{if(et(r)){if(e.props&&Pp(r,e.props.value)>-1)return{checked:!0}}else if(Al(r)){if(e.props&&r.has(e.props.value))return{checked:!0}}else if(r)return{checked:!0}},$y.getSSRProps=(r,e)=>{if(typeof e.type!="string")return;const t=eL(e.type.toUpperCase(),e.props&&e.props.type);if(t.getSSRProps)return t.getSSRProps(r,e)}}const O2=["ctrl","shift","alt","meta"],R2={stop:r=>r.stopPropagation(),prevent:r=>r.preventDefault(),self:r=>r.target!==r.currentTarget,ctrl:r=>!r.ctrlKey,shift:r=>!r.shiftKey,alt:r=>!r.altKey,meta:r=>!r.metaKey,left:r=>"button"in r&&r.button!==0,middle:r=>"button"in r&&r.button!==1,right:r=>"button"in r&&r.button!==2,exact:(r,e)=>O2.some(t=>r[`${t}Key`]&&!e.includes(t))},qi=(r,e)=>{const t=r._withMods||(r._withMods={}),i=e.join(".");return t[i]||(t[i]=(n,...s)=>{for(let o=0;o<e.length;o++){const a=R2[e[o]];if(a&&a(n,e))return}return r(n,...s)})},j2={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Cl=(r,e)=>{const t=r._withKeys||(r._withKeys={}),i=e.join(".");return t[i]||(t[i]=n=>{if(!("key"in n))return;const s=Un(n.key);if(e.some(o=>o===s||j2[o]===s))return r(n)})},tL=fi({patchProp:I2},a2);let Nd,JD=!1;function iL(){return Nd||(Nd=vb(tL))}function nL(){return Nd=JD?Nd:Mb(tL),JD=!0,Nd}const kb=(...r)=>{iL().render(...r)},rL=(...r)=>{nL().hydrate(...r)},ip=(...r)=>{const e=iL().createApp(...r),{mount:t}=e;return e.mount=i=>{const n=oL(i);if(!n)return;const s=e._component;!Mt(s)&&!s.render&&!s.template&&(s.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=t(n,!1,sL(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e},Lb=(...r)=>{const e=nL().createApp(...r),{mount:t}=e;return e.mount=i=>{const n=oL(i);if(n)return t(n,!0,sL(n))},e};function sL(r){if(r instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&r instanceof MathMLElement)return"mathml"}function oL(r){return li(r)?document.querySelector(r):r}let ZD=!1;const aL=()=>{ZD||(ZD=!0,z2(),d2())},Ise=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:eb,BaseTransitionPropsValidators:By,Comment:Ui,DeprecationTypes:Fk,EffectScope:wy,ErrorCodes:cE,ErrorTypeStrings:Lk,Fragment:rt,KeepAlive:LE,ReactiveEffect:ac,Static:hl,Suspense:fk,Teleport:Hp,Text:ia,TrackOpTypes:oE,Transition:tl,TransitionGroup:Zk,TriggerOpTypes:aE,VueElement:qp,assertNumber:uE,callWithAsyncErrorHandling:Hr,callWithErrorHandling:iu,camelize:cn,capitalize:tu,cloneVNode:ks,compatUtils:Pk,computed:Ce,createApp:ip,createBlock:mn,createCommentVNode:yt,createElementBlock:oe,createElementVNode:$,createHydrationRenderer:Mb,createPropsRestProxy:GE,createRenderer:vb,createSSRApp:Lb,createSlots:RE,createStaticVNode:Ck,createTextVNode:Ni,createVNode:st,customRef:jy,defineAsyncComponent:ib,defineComponent:Ai,defineCustomElement:Ab,defineEmits:FE,defineExpose:BE,defineModel:VE,defineOptions:UE,defineProps:PE,defineSSRCustomElement:qk,defineSlots:HE,devtools:zk,effect:QA,effectScope:xy,getCurrentInstance:Tr,getCurrentScope:Ny,getCurrentWatcher:lE,getTransitionRawChildren:Vp,guardReactiveProps:Db,h:Wi,handleError:El,hasInjectionContext:Qy,hydrate:rL,hydrateOnIdle:NE,hydrateOnInteraction:kE,hydrateOnMediaQuery:EE,hydrateOnVisible:AE,initCustomFormatter:Ak,initDirectivesForSSR:aL,inject:nr,isMemoSame:wb,isProxy:Bp,isReactive:Es,isReadonly:co,isRef:bi,isRuntimeOnly:wk,isShallow:yr,isVNode:Xn,markRaw:Ec,mergeDefaults:WE,mergeModels:qE,mergeProps:ul,nextTick:en,normalizeClass:$e,normalizeProps:Gd,normalizeStyle:Xi,onActivated:nb,onBeforeMount:sb,onBeforeUnmount:br,onBeforeUpdate:Hy,onDeactivated:rb,onErrorCaptured:hb,onMounted:ir,onRenderTracked:lb,onRenderTriggered:ab,onScopeDispose:Fp,onServerPrefetch:ob,onUnmounted:kc,onUpdated:_p,onWatcherCleanup:ZC,openBlock:te,popScopeId:yE,provide:ju,proxyRefs:Ry,pushScopeId:mE,queuePostFlushCb:lc,reactive:fs,readonly:Ac,ref:Pe,registerRuntimeCompiler:Tk,render:kb,renderList:ri,renderSlot:Ei,resolveComponent:cb,resolveDirective:Vy,resolveDynamicComponent:Qa,resolveFilter:jk,resolveTransitionHooks:jh,setBlockTracking:tm,setDevtoolsHook:Ok,setTransitionHooks:po,shallowReactive:Nc,shallowReadonly:Ly,shallowRef:Oy,ssrContextKey:Cb,ssrUtils:Rk,stop:_A,toDisplayString:tt,toHandlerKey:Th,toHandlers:jE,toRaw:Vt,toRef:rE,toRefs:Up,toValue:nE,transformVNodeArgs:Mk,triggerRef:iE,unref:be,useAttrs:fb,useCssModule:$k,useCssVars:Wk,useHost:Eb,useId:wE,useModel:ck,useSSRContext:bb,useShadowRoot:Gk,useSlots:_E,useTemplateRef:xE,useTransitionState:Fy,vModelCheckbox:Wy,vModelDynamic:$y,vModelRadio:qy,vModelSelect:Gy,vModelText:na,vShow:Nb,version:xb,warn:kk,watch:Qt,watchEffect:Ts,watchPostEffect:hk,watchSyncEffect:Ib,withAsyncContext:$E,withCtx:pi,withDefaults:QE,withDirectives:lo,withKeys:Cl,withMemo:Ek,withModifiers:qi,withScopeId:vE},Symbol.toStringTag,{value:"Module"}));/**
* vue v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const P2=()=>{},F2=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:eb,BaseTransitionPropsValidators:By,Comment:Ui,DeprecationTypes:Fk,EffectScope:wy,ErrorCodes:cE,ErrorTypeStrings:Lk,Fragment:rt,KeepAlive:LE,ReactiveEffect:ac,Static:hl,Suspense:fk,Teleport:Hp,Text:ia,TrackOpTypes:oE,Transition:tl,TransitionGroup:Zk,TriggerOpTypes:aE,VueElement:qp,assertNumber:uE,callWithAsyncErrorHandling:Hr,callWithErrorHandling:iu,camelize:cn,capitalize:tu,cloneVNode:ks,compatUtils:Pk,compile:P2,computed:Ce,createApp:ip,createBlock:mn,createCommentVNode:yt,createElementBlock:oe,createElementVNode:$,createHydrationRenderer:Mb,createPropsRestProxy:GE,createRenderer:vb,createSSRApp:Lb,createSlots:RE,createStaticVNode:Ck,createTextVNode:Ni,createVNode:st,customRef:jy,defineAsyncComponent:ib,defineComponent:Ai,defineCustomElement:Ab,defineEmits:FE,defineExpose:BE,defineModel:VE,defineOptions:UE,defineProps:PE,defineSSRCustomElement:qk,defineSlots:HE,devtools:zk,effect:QA,effectScope:xy,getCurrentInstance:Tr,getCurrentScope:Ny,getCurrentWatcher:lE,getTransitionRawChildren:Vp,guardReactiveProps:Db,h:Wi,handleError:El,hasInjectionContext:Qy,hydrate:rL,hydrateOnIdle:NE,hydrateOnInteraction:kE,hydrateOnMediaQuery:EE,hydrateOnVisible:AE,initCustomFormatter:Ak,initDirectivesForSSR:aL,inject:nr,isMemoSame:wb,isProxy:Bp,isReactive:Es,isReadonly:co,isRef:bi,isRuntimeOnly:wk,isShallow:yr,isVNode:Xn,markRaw:Ec,mergeDefaults:WE,mergeModels:qE,mergeProps:ul,nextTick:en,normalizeClass:$e,normalizeProps:Gd,normalizeStyle:Xi,onActivated:nb,onBeforeMount:sb,onBeforeUnmount:br,onBeforeUpdate:Hy,onDeactivated:rb,onErrorCaptured:hb,onMounted:ir,onRenderTracked:lb,onRenderTriggered:ab,onScopeDispose:Fp,onServerPrefetch:ob,onUnmounted:kc,onUpdated:_p,onWatcherCleanup:ZC,openBlock:te,popScopeId:yE,provide:ju,proxyRefs:Ry,pushScopeId:mE,queuePostFlushCb:lc,reactive:fs,readonly:Ac,ref:Pe,registerRuntimeCompiler:Tk,render:kb,renderList:ri,renderSlot:Ei,resolveComponent:cb,resolveDirective:Vy,resolveDynamicComponent:Qa,resolveFilter:jk,resolveTransitionHooks:jh,setBlockTracking:tm,setDevtoolsHook:Ok,setTransitionHooks:po,shallowReactive:Nc,shallowReadonly:Ly,shallowRef:Oy,ssrContextKey:Cb,ssrUtils:Rk,stop:_A,toDisplayString:tt,toHandlerKey:Th,toHandlers:jE,toRaw:Vt,toRef:rE,toRefs:Up,toValue:nE,transformVNodeArgs:Mk,triggerRef:iE,unref:be,useAttrs:fb,useCssModule:$k,useCssVars:Wk,useHost:Eb,useId:wE,useModel:ck,useSSRContext:bb,useShadowRoot:Gk,useSlots:_E,useTemplateRef:xE,useTransitionState:Fy,vModelCheckbox:Wy,vModelDynamic:$y,vModelRadio:qy,vModelSelect:Gy,vModelText:na,vShow:Nb,version:xb,warn:kk,watch:Qt,watchEffect:Ts,watchPostEffect:hk,watchSyncEffect:Ib,withAsyncContext:$E,withCtx:pi,withDefaults:QE,withDirectives:lo,withKeys:Cl,withMemo:Ek,withModifiers:qi,withScopeId:vE},Symbol.toStringTag,{value:"Module"}));/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let lL;const Ky=r=>lL=r,hL=Symbol();function B0(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var Ad;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(Ad||(Ad={}));function B2(){const r=xy(!0),e=r.run(()=>Pe({}));let t=[],i=[];const n=Ec({install(s){Ky(n),n._a=s,s.provide(hL,n),s.config.globalProperties.$pinia=n,i.forEach(o=>t.push(o)),i=[]},use(s){return this._a?t.push(s):i.push(s),this},_p:t,_a:null,_e:r,_s:new Map,state:e});return n}const uL=()=>{};function XD(r,e,t,i=uL){r.push(e);const n=()=>{const s=r.indexOf(e);s>-1&&(r.splice(s,1),i())};return!t&&Ny()&&Fp(n),n}function lu(r,...e){r.slice().forEach(t=>{t(...e)})}const U2=r=>r(),eT=Symbol(),Qv=Symbol();function U0(r,e){r instanceof Map&&e instanceof Map?e.forEach((t,i)=>r.set(i,t)):r instanceof Set&&e instanceof Set&&e.forEach(r.add,r);for(const t in e){if(!e.hasOwnProperty(t))continue;const i=e[t],n=r[t];B0(n)&&B0(i)&&r.hasOwnProperty(t)&&!bi(i)&&!Es(i)?r[t]=U0(n,i):r[t]=i}return r}const H2=Symbol();function V2(r){return!B0(r)||!Object.prototype.hasOwnProperty.call(r,H2)}const{assign:Aa}=Object;function Q2(r){return!!(bi(r)&&r.effect)}function _2(r,e,t,i){const{state:n,actions:s,getters:o}=e,a=t.state.value[r];let l;function h(){a||(t.state.value[r]=n?n():{});const u=Up(t.state.value[r]);return Aa(u,s,Object.keys(o||{}).reduce((c,d)=>(c[d]=Ec(Ce(()=>{Ky(t);const f=t._s.get(r);return o[d].call(f,f)})),c),{}))}return l=cL(r,h,e,t,i,!0),l}function cL(r,e,t={},i,n,s){let o;const a=Aa({actions:{}},t),l={deep:!0};let h,u,c=[],d=[],f;const g=i.state.value[r];!s&&!g&&(i.state.value[r]={}),Pe({});let m;function y(N){let A;h=u=!1,typeof N=="function"?(N(i.state.value[r]),A={type:Ad.patchFunction,storeId:r,events:f}):(U0(i.state.value[r],N),A={type:Ad.patchObject,payload:N,storeId:r,events:f});const E=m=Symbol();en().then(()=>{m===E&&(h=!0)}),u=!0,lu(c,A,i.state.value[r])}const v=s?function(){const{state:A}=t,E=A?A():{};this.$patch(x=>{Aa(x,E)})}:uL;function M(){o.stop(),c=[],d=[],i._s.delete(r)}const S=(N,A="")=>{if(eT in N)return N[Qv]=A,N;const E=function(){Ky(i);const x=Array.from(arguments),D=[],z=[];function w(j){D.push(j)}function O(j){z.push(j)}lu(d,{args:x,name:E[Qv],store:C,after:w,onError:O});let L;try{L=N.apply(this&&this.$id===r?this:C,x)}catch(j){throw lu(z,j),j}return L instanceof Promise?L.then(j=>(lu(D,j),j)).catch(j=>(lu(z,j),Promise.reject(j))):(lu(D,L),L)};return E[eT]=!0,E[Qv]=A,E},b={_p:i,$id:r,$onAction:XD.bind(null,d),$patch:y,$reset:v,$subscribe(N,A={}){const E=XD(c,N,A.detached,()=>x()),x=o.run(()=>Qt(()=>i.state.value[r],D=>{(A.flush==="sync"?u:h)&&N({storeId:r,type:Ad.direct,events:f},D)},Aa({},l,A)));return E},$dispose:M},C=fs(b);i._s.set(r,C);const k=(i._a&&i._a.runWithContext||U2)(()=>i._e.run(()=>(o=xy()).run(()=>e({action:S}))));for(const N in k){const A=k[N];if(bi(A)&&!Q2(A)||Es(A))s||(g&&V2(A)&&(bi(A)?A.value=g[N]:U0(A,g[N])),i.state.value[r][N]=A);else if(typeof A=="function"){const E=S(A,N);k[N]=E,a.actions[N]=A}}return Aa(C,k),Aa(Vt(C),k),Object.defineProperty(C,"$state",{get:()=>i.state.value[r],set:N=>{y(A=>{Aa(A,N)})}}),i._p.forEach(N=>{Aa(C,o.run(()=>N({store:C,app:i._a,pinia:i,options:a})))}),g&&s&&t.hydrate&&t.hydrate(C.$state,g),h=!0,u=!0,C}/*! #__NO_SIDE_EFFECTS__ */function dL(r,e,t){let i;const n=typeof e=="function";i=n?t:e;function s(o,a){const l=Qy();return o=o||(l?nr(hL,null):null),o&&Ky(o),o=lL,o._s.has(r)||(n?cL(r,e,i,o):_2(r,i,o)),o._s.get(r)}return s.$id=r,s}let H0=1;var Y2=class{constructor(){dn(this,"subscribers");dn(this,"toasts");dn(this,"dismissedToasts");dn(this,"subscribe",e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}));dn(this,"publish",e=>{this.subscribers.forEach(t=>t(e))});dn(this,"addToast",e=>{this.publish(e),this.toasts=[...this.toasts,e]});dn(this,"create",e=>{var a;const{message:t,...i}=e,n=typeof e.id=="number"||e.id&&((a=e.id)==null?void 0:a.length)>0?e.id:H0++,s=this.toasts.find(l=>l.id===n),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(n)&&this.dismissedToasts.delete(n),s?this.toasts=this.toasts.map(l=>l.id===n?(this.publish({...l,...e,id:n,title:t}),{...l,...e,id:n,dismissible:o,title:t}):l):this.addToast({title:t,...i,dismissible:o,id:n}),n});dn(this,"dismiss",e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(i=>i({id:t.id,dismiss:!0}))}),e));dn(this,"message",(e,t)=>this.create({...t,message:e,type:"default"}));dn(this,"error",(e,t)=>this.create({...t,type:"error",message:e}));dn(this,"success",(e,t)=>this.create({...t,type:"success",message:e}));dn(this,"info",(e,t)=>this.create({...t,type:"info",message:e}));dn(this,"warning",(e,t)=>this.create({...t,type:"warning",message:e}));dn(this,"loading",(e,t)=>this.create({...t,type:"loading",message:e}));dn(this,"promise",(e,t)=>{if(!t)return;let i;t.loading!==void 0&&(i=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const n=Promise.resolve(e instanceof Function?e():e);let s=i!==void 0,o;const a=n.then(async h=>{if(o=["resolve",h],Xn(h))s=!1,this.create({id:i,type:"default",message:h});else if(q2(h)&&!h.ok){s=!1;const c=typeof t.error=="function"?await t.error(`HTTP error! status: ${h.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${h.status}`):t.description,g=typeof c=="object"&&!Xn(c)?c:{message:c||"",id:i||""};this.create({id:i,type:"error",description:d,...g})}else if(h instanceof Error){s=!1;const c=typeof t.error=="function"?await t.error(h):t.error,d=typeof t.description=="function"?await t.description(h):t.description,g=typeof c=="object"&&!Xn(c)?c:{message:c||"",id:i||""};this.create({id:i,type:"error",description:d,...g})}else if(t.success!==void 0){s=!1;const c=typeof t.success=="function"?await t.success(h):t.success,d=typeof t.description=="function"?await t.description(h):t.description,g=typeof c=="object"&&!Xn(c)?c:{message:c||"",id:i||""};this.create({id:i,type:"success",description:d,...g})}}).catch(async h=>{if(o=["reject",h],t.error!==void 0){s=!1;const u=typeof t.error=="function"?await t.error(h):t.error,c=typeof t.description=="function"?await t.description(h):t.description,f=typeof u=="object"&&!Xn(u)?u:{message:u||"",id:i||""};this.create({id:i,type:"error",description:c,...f})}}).finally(()=>{var h;s&&(this.dismiss(i),i=void 0),(h=t.finally)==null||h.call(t)}),l=()=>new Promise((h,u)=>a.then(()=>o[0]==="reject"?u(o[1]):h(o[1])).catch(u));return typeof i!="string"&&typeof i!="number"?{unwrap:l}:Object.assign(i,{unwrap:l})});dn(this,"custom",(e,t)=>{const i=(t==null?void 0:t.id)||H0++;return this.publish({component:e,id:i,...t}),i});dn(this,"getActiveToasts",()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)));this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}};const fr=new Y2;function W2(r,e){const t=(e==null?void 0:e.id)||H0++;return fr.create({message:r,id:t,type:"default",...e}),t}const q2=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",G2=W2,$2=()=>fr.toasts,K2=()=>fr.getActiveToasts(),Tse=Object.assign(G2,{success:fr.success,info:fr.info,warning:fr.warning,error:fr.error,custom:fr.custom,message:fr.message,promise:fr.promise,dismiss:fr.dismiss,loading:fr.loading},{getHistory:$2,getToasts:K2});function Tf(r){return r.label!==void 0}const J2=3,pL="24px",fL="16px",tT=4e3,Z2=356,X2=14,eB=45,gL=200;function tB(){const r=Pe(!1);return Ts(()=>{const e=()=>{r.value=document.hidden};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)}),{isDocumentHidden:r}}function ma(...r){return r.filter(Boolean).join(" ")}function iB(r){const[e,t]=r.split("-"),i=[];return e&&i.push(e),t&&i.push(t),i}function nB(r,e){const t={};return[r,e].forEach((i,n)=>{const s=n===1,o=s?"--mobile-offset":"--offset",a=s?fL:pL;function l(h){["top","right","bottom","left"].forEach(u=>{t[`${o}-${u}`]=typeof h=="number"?`${h}px`:h})}typeof i=="number"||typeof i=="string"?l(i):typeof i=="object"?["top","right","bottom","left"].forEach(h=>{i[h]===void 0?t[`${o}-${h}`]=a:t[`${o}-${h}`]=typeof i[h]=="number"?`${i[h]}px`:i[h]}):l(a)}),t}const rB=["data-rich-colors","data-styled","data-mounted","data-promise","data-swiped","data-removed","data-visible","data-y-position","data-x-position","data-index","data-front","data-swiping","data-dismissible","data-type","data-invert","data-swipe-out","data-swipe-direction","data-expanded"],sB=["aria-label","data-disabled"];var oB=Ai({__name:"Toast",props:{toast:{},toasts:{},index:{},swipeDirections:{},expanded:{type:Boolean},invert:{type:Boolean},heights:{},gap:{},position:{},visibleToasts:{},expandByDefault:{type:Boolean},closeButton:{type:Boolean},interacting:{type:Boolean},style:{},cancelButtonStyle:{},actionButtonStyle:{},duration:{},class:{},unstyled:{type:Boolean},descriptionClass:{},loadingIcon:{},classes:{},icons:{},closeButtonAriaLabel:{},defaultRichColors:{type:Boolean}},emits:["update:heights","update:height","removeToast"],setup(r,{emit:e}){const t=r,i=e,n=Pe(null),s=Pe(null),o=Pe(!1),a=Pe(!1),l=Pe(!1),h=Pe(!1),u=Pe(!1),c=Pe(0),d=Pe(0),f=Pe(t.toast.duration||t.duration||tT),g=Pe(null),m=Pe(null),y=Ce(()=>t.index===0),v=Ce(()=>t.index+1<=t.visibleToasts),M=Ce(()=>t.toast.type),S=Ce(()=>t.toast.dismissible!==!1),b=Ce(()=>t.toast.class||""),C=Ce(()=>t.descriptionClass||""),T=Ce(()=>{const P=t.toast.position||t.position,X=t.heights.filter(De=>De.position===P).findIndex(De=>De.toastId===t.toast.id);return X>=0?X:0}),k=Ce(()=>{const P=t.toast.position||t.position;return t.heights.filter(X=>X.position===P).reduce((X,De,Fe)=>Fe>=T.value?X:X+De.height,0)}),N=Ce(()=>T.value*t.gap+k.value||0),A=Ce(()=>t.toast.closeButton??t.closeButton),E=Ce(()=>t.toast.duration||t.duration||tT),x=Pe(0),D=Pe(0),z=Pe(null),w=Ce(()=>t.position.split("-")),O=Ce(()=>w.value[0]),L=Ce(()=>w.value[1]),j=Ce(()=>typeof t.toast.title!="string"),B=Ce(()=>typeof t.toast.description!="string"),{isDocumentHidden:V}=tB(),ee=Ce(()=>M.value&&M.value==="loading");ir(()=>{o.value=!0,f.value=E.value}),Ts(async()=>{if(!o.value||!m.value)return;await en();const P=m.value,ve=P.style.height;P.style.height="auto";const X=P.getBoundingClientRect().height;P.style.height=ve,d.value=X,i("update:height",{toastId:t.toast.id,height:X,position:t.toast.position||t.position})});function W(){a.value=!0,c.value=N.value,setTimeout(()=>{i("removeToast",t.toast)},gL)}function J(){var P,ve;if(ee.value||!S.value)return{};W(),(ve=(P=t.toast).onDismiss)==null||ve.call(P,t.toast)}function K(P){ee.value||!S.value||(g.value=new Date,c.value=N.value,P.target.setPointerCapture(P.pointerId),P.target.tagName!=="BUTTON"&&(l.value=!0,z.value={x:P.clientX,y:P.clientY}))}function le(){var Re,U,Y,ae,we,se,Me;if(h.value||!S.value)return;z.value=null;const P=Number(((Re=m.value)==null?void 0:Re.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ve=Number(((U=m.value)==null?void 0:U.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),X=new Date().getTime()-(((Y=g.value)==null?void 0:Y.getTime())||0),De=n.value==="x"?P:ve,Fe=Math.abs(De)/X;if(Math.abs(De)>=eB||Fe>.11){c.value=N.value,(we=(ae=t.toast).onDismiss)==null||we.call(ae,t.toast),n.value==="x"?s.value=P>0?"right":"left":s.value=ve>0?"down":"up",W(),h.value=!0;return}else(se=m.value)==null||se.style.setProperty("--swipe-amount-x","0px"),(Me=m.value)==null||Me.style.setProperty("--swipe-amount-y","0px");u.value=!1,l.value=!1,n.value=null}function me(P){var Y,ae,we,se;if(!z.value||!S.value||(((ae=(Y=window==null?void 0:window.getSelection())==null?void 0:Y.toString())==null?void 0:ae.length)??!1))return;const X=P.clientY-z.value.y,De=P.clientX-z.value.x,Fe=t.swipeDirections??iB(t.position);!n.value&&(Math.abs(De)>1||Math.abs(X)>1)&&(n.value=Math.abs(De)>Math.abs(X)?"x":"y");let Re={x:0,y:0};const U=Me=>1/(1.5+Math.abs(Me)/20);if(n.value==="y"){if(Fe.includes("top")||Fe.includes("bottom"))if(Fe.includes("top")&&X<0||Fe.includes("bottom")&&X>0)Re.y=X;else{const Me=X*U(X);Re.y=Math.abs(Me)<Math.abs(X)?Me:X}}else if(n.value==="x"&&(Fe.includes("left")||Fe.includes("right")))if(Fe.includes("left")&&De<0||Fe.includes("right")&&De>0)Re.x=De;else{const Me=De*U(De);Re.x=Math.abs(Me)<Math.abs(De)?Me:De}(Math.abs(Re.x)>0||Math.abs(Re.y)>0)&&(u.value=!0),(we=m.value)==null||we.style.setProperty("--swipe-amount-x",`${Re.x}px`),(se=m.value)==null||se.style.setProperty("--swipe-amount-y",`${Re.y}px`)}ir(()=>{if(o.value=!0,!m.value)return;const P=m.value.getBoundingClientRect().height;d.value=P;const ve=[{toastId:t.toast.id,height:P,position:t.toast.position},...t.heights];i("update:heights",ve)}),br(()=>{m.value&&i("removeToast",t.toast)}),Ts(P=>{if(t.toast.promise&&M.value==="loading"||t.toast.duration===1/0||t.toast.type==="loading")return;let ve;const X=()=>{if(D.value<x.value){const Fe=new Date().getTime()-x.value;f.value=f.value-Fe}D.value=new Date().getTime()},De=()=>{f.value!==1/0&&(x.value=new Date().getTime(),ve=setTimeout(()=>{var Fe,Re;(Re=(Fe=t.toast).onAutoClose)==null||Re.call(Fe,t.toast),W()},f.value))};t.expanded||t.interacting||V.value?X():De(),P(()=>{clearTimeout(ve)})}),Qt(()=>t.toast.delete,P=>{P!==void 0&&P&&W()},{deep:!0});function pe(){l.value=!1,n.value=null,z.value=null}return(P,ve)=>{var X,De,Fe,Re,U,Y,ae,we,se,Me,ze,Te,Le,Ne,qe,je,Qe,at,dt,R,_,de,Ie,Ee,Ae,ht,vi;return te(),oe("li",{tabindex:"0",ref_key:"toastRef",ref:m,class:$e(be(ma)(t.class,b.value,(X=P.classes)==null?void 0:X.toast,(De=P.toast.classes)==null?void 0:De.toast,(Fe=P.classes)==null?void 0:Fe[M.value],(U=(Re=P.toast)==null?void 0:Re.classes)==null?void 0:U[M.value])),"data-sonner-toast":"","data-rich-colors":P.toast.richColors??P.defaultRichColors,"data-styled":!(P.toast.component||(Y=P.toast)!=null&&Y.unstyled||P.unstyled),"data-mounted":o.value,"data-promise":!!P.toast.promise,"data-swiped":u.value,"data-removed":a.value,"data-visible":v.value,"data-y-position":O.value,"data-x-position":L.value,"data-index":P.index,"data-front":y.value,"data-swiping":l.value,"data-dismissible":S.value,"data-type":M.value,"data-invert":P.toast.invert||P.invert,"data-swipe-out":h.value,"data-swipe-direction":s.value,"data-expanded":!!(P.expanded||P.expandByDefault&&o.value),style:Xi({"--index":P.index,"--toasts-before":P.index,"--z-index":P.toasts.length-P.index,"--offset":`${a.value?c.value:N.value}px`,"--initial-height":P.expandByDefault?"auto":`${d.value}px`,...P.style,...t.toast.style}),onDragend:pe,onPointerdown:K,onPointerup:le,onPointermove:me},[A.value&&!P.toast.component&&M.value!=="loading"?(te(),oe("button",{key:0,"aria-label":P.closeButtonAriaLabel||"Close toast","data-disabled":ee.value,"data-close-button":"true",class:$e(be(ma)((ae=P.classes)==null?void 0:ae.closeButton,(se=(we=P.toast)==null?void 0:we.classes)==null?void 0:se.closeButton)),onClick:J},[(Me=P.icons)!=null&&Me.close?(te(),mn(Qa((ze=P.icons)==null?void 0:ze.close),{key:0})):Ei(P.$slots,"close-icon",{key:1})],10,sB)):yt("v-if",!0),P.toast.component?(te(),mn(Qa(P.toast.component),ul({key:1},P.toast.componentProps,{onCloseToast:J}),null,16)):(te(),oe(rt,{key:2},[M.value!=="default"||P.toast.icon||P.toast.promise?(te(),oe("div",{key:0,"data-icon":"",class:$e(be(ma)((Te=P.classes)==null?void 0:Te.icon,(Ne=(Le=P.toast)==null?void 0:Le.classes)==null?void 0:Ne.icon))},[P.toast.icon?(te(),mn(Qa(P.toast.icon),{key:0})):(te(),oe(rt,{key:1},[M.value==="loading"?Ei(P.$slots,"loading-icon",{key:0}):M.value==="success"?Ei(P.$slots,"success-icon",{key:1}):M.value==="error"?Ei(P.$slots,"error-icon",{key:2}):M.value==="warning"?Ei(P.$slots,"warning-icon",{key:3}):M.value==="info"?Ei(P.$slots,"info-icon",{key:4}):yt("v-if",!0)],64))],2)):yt("v-if",!0),$("div",{"data-content":"",class:$e(be(ma)((qe=P.classes)==null?void 0:qe.content,(Qe=(je=P.toast)==null?void 0:je.classes)==null?void 0:Qe.content))},[$("div",{"data-title":"",class:$e(be(ma)((at=P.classes)==null?void 0:at.title,(dt=P.toast.classes)==null?void 0:dt.title))},[j.value?(te(),mn(Qa(P.toast.title),Gd(ul({key:0},P.toast.componentProps)),null,16)):(te(),oe(rt,{key:1},[Ni(tt(P.toast.title),1)],64))],2),P.toast.description?(te(),oe("div",{key:0,"data-description":"",class:$e(be(ma)(P.descriptionClass,C.value,(R=P.classes)==null?void 0:R.description,(_=P.toast.classes)==null?void 0:_.description))},[B.value?(te(),mn(Qa(P.toast.description),Gd(ul({key:0},P.toast.componentProps)),null,16)):(te(),oe(rt,{key:1},[Ni(tt(P.toast.description),1)],64))],2)):yt("v-if",!0)],2),P.toast.cancel?(te(),oe("button",{key:1,style:Xi(P.toast.cancelButtonStyle||P.cancelButtonStyle),class:$e(be(ma)((de=P.classes)==null?void 0:de.cancelButton,(Ie=P.toast.classes)==null?void 0:Ie.cancelButton)),"data-button":"","data-cancel":"",onClick:ve[0]||(ve[0]=wt=>{var Yt,ge;be(Tf)(P.toast.cancel)&&S.value&&((ge=(Yt=P.toast.cancel).onClick)==null||ge.call(Yt,wt),W())})},tt(be(Tf)(P.toast.cancel)?(Ee=P.toast.cancel)==null?void 0:Ee.label:P.toast.cancel),7)):yt("v-if",!0),P.toast.action?(te(),oe("button",{key:2,style:Xi(P.toast.actionButtonStyle||P.actionButtonStyle),class:$e(be(ma)((Ae=P.classes)==null?void 0:Ae.actionButton,(ht=P.toast.classes)==null?void 0:ht.actionButton)),"data-button":"","data-action":"",onClick:ve[1]||(ve[1]=wt=>{var Yt,ge;be(Tf)(P.toast.action)&&((ge=(Yt=P.toast.action).onClick)==null||ge.call(Yt,wt),!wt.defaultPrevented&&W())})},tt(be(Tf)(P.toast.action)?(vi=P.toast.action)==null?void 0:vi.label:P.toast.action),7)):yt("v-if",!0)],64))],46,rB)}}}),aB=oB,Gp=(r,e)=>{const t=r.__vccOpts||r;for(const[i,n]of e)t[i]=n;return t};const lB={},hB={xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stoke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function uB(r,e){return te(),oe("svg",hB,e[0]||(e[0]=[$("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),$("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1)]))}var cB=Gp(lB,[["render",uB]]);const dB=["data-visible"],pB={class:"sonner-spinner"};var fB=Ai({__name:"Loader",props:{visible:{type:Boolean}},setup(r){const e=Array(12).fill(0);return(t,i)=>(te(),oe("div",{class:"sonner-loading-wrapper","data-visible":t.visible},[$("div",pB,[(te(!0),oe(rt,null,ri(be(e),n=>(te(),oe("div",{key:`spinner-bar-${n}`,class:"sonner-loading-bar"}))),128))])],8,dB))}}),gB=fB;const mB={},yB={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"};function vB(r,e){return te(),oe("svg",yB,e[0]||(e[0]=[$("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z","clip-rule":"evenodd"},null,-1)]))}var MB=Gp(mB,[["render",vB]]);const SB={},CB={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"};function bB(r,e){return te(),oe("svg",CB,e[0]||(e[0]=[$("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z","clip-rule":"evenodd"},null,-1)]))}var IB=Gp(SB,[["render",bB]]);const DB={},TB={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"};function wB(r,e){return te(),oe("svg",TB,e[0]||(e[0]=[$("path",{"fill-rule":"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z","clip-rule":"evenodd"},null,-1)]))}var xB=Gp(DB,[["render",wB]]);const NB={},AB={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"};function EB(r,e){return te(),oe("svg",AB,e[0]||(e[0]=[$("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z","clip-rule":"evenodd"},null,-1)]))}var kB=Gp(NB,[["render",EB]]);const LB=["aria-label"],zB=["data-sonner-theme","dir","data-theme","data-rich-colors","data-y-position","data-x-position","data-lifted"],OB=typeof window<"u"&&typeof document<"u";function RB(){if(typeof window>"u"||typeof document>"u")return"ltr";const r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}var jB=Ai({name:"Toaster",inheritAttrs:!1,__name:"Toaster",props:{invert:{type:Boolean,default:!1},theme:{default:"light"},position:{default:"bottom-right"},hotkey:{default:()=>["altKey","KeyT"]},richColors:{type:Boolean,default:!1},expand:{type:Boolean,default:!1},duration:{},gap:{default:X2},visibleToasts:{default:J2},closeButton:{type:Boolean,default:!1},toastOptions:{default:()=>({})},class:{default:""},style:{},offset:{default:pL},mobileOffset:{default:fL},dir:{default:"auto"},swipeDirections:{},icons:{},containerAriaLabel:{default:"Notifications"}},setup(r){const e=r,t=fb(),i=Pe([]);function n(A,E){return i.value.filter(x=>!x.position&&E===0||x.position===A)}const s=Ce(()=>{const A=i.value.filter(E=>E.position).map(E=>E.position);return A.length>0?Array.from(new Set([e.position].concat(A))):[e.position]}),o=Ce(()=>{const A={};return s.value.forEach(E=>{A[E]=i.value.filter(x=>x.position===E)}),A}),a=Pe([]),l=Pe(!1),h=Pe(!1),u=Pe(e.theme!=="system"?e.theme:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),c=Pe(null),d=Pe(null),f=Pe(!1),g=e.hotkey.join("+").replace(/Key/g,"").replace(/Digit/g,"");function m(A){var E;(E=i.value.find(x=>x.id===A.id))!=null&&E.delete||fr.dismiss(A.id),i.value=i.value.filter(({id:x})=>x!==A.id),setTimeout(()=>{i.value.find(x=>x.id===A.id)||(a.value=a.value.filter(x=>x.toastId!==A.id))},gL+50)}function y(A){var E,x;f.value&&!((x=(E=A.currentTarget)==null?void 0:E.contains)!=null&&x.call(E,A.relatedTarget))&&(f.value=!1,d.value&&(d.value.focus({preventScroll:!0}),d.value=null))}function v(A){A.target instanceof HTMLElement&&A.target.dataset.dismissible==="false"||f.value||(f.value=!0,d.value=A.relatedTarget)}function M(A){A.target&&A.target instanceof HTMLElement&&A.target.dataset.dismissible==="false"||(h.value=!0)}Ts(A=>{const E=fr.subscribe(x=>{if(x.dismiss){requestAnimationFrame(()=>{i.value=i.value.map(D=>D.id===x.id?{...D,delete:!0}:D)});return}en(()=>{const D=i.value.findIndex(z=>z.id===x.id);D!==-1?i.value=[...i.value.slice(0,D),{...i.value[D],...x},...i.value.slice(D+1)]:i.value=[x,...i.value]})});A(E)}),Ts(A=>{if(typeof window>"u")return;if(e.theme!=="system"){u.value=e.theme;return}const E=window.matchMedia("(prefers-color-scheme: dark)"),x=z=>{u.value=z?"dark":"light"};x(E.matches);const D=z=>{x(z.matches)};try{E.addEventListener("change",D)}catch{E.addListener(D)}A(()=>{try{E.removeEventListener("change",D)}catch{E.removeListener(D)}})}),Ts(()=>{c.value&&d.value&&(d.value.focus({preventScroll:!0}),d.value=null,f.value=!1)}),Ts(()=>{i.value.length<=1&&(l.value=!1)}),Ts(A=>{function E(x){const D=e.hotkey.every(O=>x[O]||x.code===O),z=Array.isArray(c.value)?c.value[0]:c.value;D&&(l.value=!0,z==null||z.focus());const w=document.activeElement===c.value||(z==null?void 0:z.contains(document.activeElement));x.code==="Escape"&&w&&(l.value=!1)}OB&&(document.addEventListener("keydown",E),A(()=>{document.removeEventListener("keydown",E)}))});function S(){l.value=!0}function b(){h.value||(l.value=!1)}function C(){l.value=!1}function T(){h.value=!1}function k(A){a.value=A}function N(A){const E=a.value.findIndex(x=>x.toastId===A.toastId);if(E!==-1)a.value[E]=A;else{const x=a.value.findIndex(D=>D.position===A.position);x!==-1?a.value.splice(x,0,A):a.value.unshift(A)}}return(A,E)=>(te(),oe(rt,null,[yt(" Remove item from normal navigation flow, only available via hotkey "),$("section",{"aria-label":`${A.containerAriaLabel} ${be(g)}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false"},[(te(!0),oe(rt,null,ri(s.value,(x,D)=>{var z;return te(),oe("ol",ul({key:x,ref_for:!0,ref_key:"listRef",ref:c,"data-sonner-toaster":"","data-sonner-theme":u.value,class:e.class,dir:A.dir==="auto"?RB():A.dir,tabIndex:-1,"data-theme":A.theme,"data-rich-colors":A.richColors,"data-y-position":x.split("-")[0],"data-x-position":x.split("-")[1],"data-lifted":l.value&&i.value.length>1&&!A.expand,style:{"--front-toast-height":`${((z=a.value[0])==null?void 0:z.height)||0}px`,"--width":`${be(Z2)}px`,"--gap":`${A.gap}px`,...A.style,...be(t).style,...be(nB)(A.offset,A.mobileOffset)}},A.$attrs,{onBlur:y,onFocus:v,onMouseenter:S,onMousemove:S,onMouseleave:b,onDragend:C,onPointerdown:M,onPointerup:T}),[(te(!0),oe(rt,null,ri(n(x,D),(w,O)=>{var L,j,B,V,ee,W,J,K,le,me;return te(),mn(aB,{key:w.id,heights:a.value,icons:A.icons,index:O,toast:w,defaultRichColors:A.richColors,duration:((L=A.toastOptions)==null?void 0:L.duration)??A.duration,class:$e(((j=A.toastOptions)==null?void 0:j.class)??""),descriptionClass:(B=A.toastOptions)==null?void 0:B.descriptionClass,invert:A.invert,visibleToasts:A.visibleToasts,closeButton:((V=A.toastOptions)==null?void 0:V.closeButton)??A.closeButton,interacting:h.value,position:x,style:Xi((ee=A.toastOptions)==null?void 0:ee.style),unstyled:(W=A.toastOptions)==null?void 0:W.unstyled,classes:(J=A.toastOptions)==null?void 0:J.classes,cancelButtonStyle:(K=A.toastOptions)==null?void 0:K.cancelButtonStyle,actionButtonStyle:(le=A.toastOptions)==null?void 0:le.actionButtonStyle,"close-button-aria-label":(me=A.toastOptions)==null?void 0:me.closeButtonAriaLabel,toasts:o.value[x],expandByDefault:A.expand,gap:A.gap,expanded:l.value,swipeDirections:e.swipeDirections,"onUpdate:heights":k,"onUpdate:height":N,onRemoveToast:m},{"close-icon":pi(()=>[Ei(A.$slots,"close-icon",{},()=>[st(cB)])]),"loading-icon":pi(()=>[Ei(A.$slots,"loading-icon",{},()=>[st(gB,{visible:w.type==="loading"},null,8,["visible"])])]),"success-icon":pi(()=>[Ei(A.$slots,"success-icon",{},()=>[st(MB)])]),"error-icon":pi(()=>[Ei(A.$slots,"error-icon",{},()=>[st(kB)])]),"warning-icon":pi(()=>[Ei(A.$slots,"warning-icon",{},()=>[st(xB)])]),"info-icon":pi(()=>[Ei(A.$slots,"info-icon",{},()=>[st(IB)])]),_:2},1032,["heights","icons","index","toast","defaultRichColors","duration","class","descriptionClass","invert","visibleToasts","closeButton","interacting","position","style","unstyled","classes","cancelButtonStyle","actionButtonStyle","close-button-aria-label","toasts","expandByDefault","gap","expanded","swipeDirections"])}),128))],16,zB)}),128))],8,LB)],2112))}}),mL=jB;const PB={class:"min-h-[100dvh] relative text-text-primary transition-colors bg-bg-body"},FB=Ai({__name:"App",setup(r){return(e,t)=>{const i=cb("router-view");return te(),oe(rt,null,[$("div",PB,[st(i)]),st(be(mL),{position:"top-right"})],64)}}}),BB="modulepreload",UB=function(r){return"/"+r},iT={},ei=function(e,t,i){let n=Promise.resolve();if(t&&t.length>0){let o=function(h){return Promise.all(h.map(u=>Promise.resolve(u).then(c=>({status:"fulfilled",value:c}),c=>({status:"rejected",reason:c}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=o(t.map(h=>{if(h=UB(h),h in iT)return;iT[h]=!0;const u=h.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":BB,u||(d.as="script"),d.crossOrigin="",d.href=h,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((f,g)=>{d.addEventListener("load",f),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Cu=typeof document<"u";function yL(r){return typeof r=="object"||"displayName"in r||"props"in r||"__vccOpts"in r}function HB(r){return r.__esModule||r[Symbol.toStringTag]==="Module"||r.default&&yL(r.default)}const ni=Object.assign;function _v(r,e){const t={};for(const i in e){const n=e[i];t[i]=Ls(n)?n.map(r):r(n)}return t}const Ed=()=>{},Ls=Array.isArray,vL=/#/g,VB=/&/g,QB=/\//g,_B=/=/g,YB=/\?/g,ML=/\+/g,WB=/%5B/g,qB=/%5D/g,SL=/%5E/g,GB=/%60/g,CL=/%7B/g,$B=/%7C/g,bL=/%7D/g,KB=/%20/g;function zb(r){return encodeURI(""+r).replace($B,"|").replace(WB,"[").replace(qB,"]")}function JB(r){return zb(r).replace(CL,"{").replace(bL,"}").replace(SL,"^")}function V0(r){return zb(r).replace(ML,"%2B").replace(KB,"+").replace(vL,"%23").replace(VB,"%26").replace(GB,"`").replace(CL,"{").replace(bL,"}").replace(SL,"^")}function ZB(r){return V0(r).replace(_B,"%3D")}function XB(r){return zb(r).replace(vL,"%23").replace(YB,"%3F")}function e3(r){return r==null?"":XB(r).replace(QB,"%2F")}function np(r){try{return decodeURIComponent(""+r)}catch{}return""+r}const t3=/\/$/,i3=r=>r.replace(t3,"");function Yv(r,e,t="/"){let i,n={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),n=r(s)),a>-1&&(i=i||e.slice(0,a),o=e.slice(a,e.length)),i=o3(i??e,t),{fullPath:i+(s&&"?")+s+o,path:i,query:n,hash:np(o)}}function n3(r,e){const t=e.query?r(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function nT(r,e){return!e||!r.toLowerCase().startsWith(e.toLowerCase())?r:r.slice(e.length)||"/"}function r3(r,e,t){const i=e.matched.length-1,n=t.matched.length-1;return i>-1&&i===n&&dc(e.matched[i],t.matched[n])&&IL(e.params,t.params)&&r(e.query)===r(t.query)&&e.hash===t.hash}function dc(r,e){return(r.aliasOf||r)===(e.aliasOf||e)}function IL(r,e){if(Object.keys(r).length!==Object.keys(e).length)return!1;for(const t in r)if(!s3(r[t],e[t]))return!1;return!0}function s3(r,e){return Ls(r)?rT(r,e):Ls(e)?rT(e,r):r===e}function rT(r,e){return Ls(e)?r.length===e.length&&r.every((t,i)=>t===e[i]):r.length===1&&r[0]===e}function o3(r,e){if(r.startsWith("/"))return r;if(!r)return e;const t=e.split("/"),i=r.split("/"),n=i[i.length-1];(n===".."||n===".")&&i.push("");let s=t.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")s>1&&s--;else break;return t.slice(0,s).join("/")+"/"+i.slice(o).join("/")}const ya={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var rp;(function(r){r.pop="pop",r.push="push"})(rp||(rp={}));var kd;(function(r){r.back="back",r.forward="forward",r.unknown=""})(kd||(kd={}));function a3(r){if(!r)if(Cu){const e=document.querySelector("base");r=e&&e.getAttribute("href")||"/",r=r.replace(/^\w+:\/\/[^\/]+/,"")}else r="/";return r[0]!=="/"&&r[0]!=="#"&&(r="/"+r),i3(r)}const l3=/^[^#]+#/;function h3(r,e){return r.replace(l3,"#")+e}function u3(r,e){const t=document.documentElement.getBoundingClientRect(),i=r.getBoundingClientRect();return{behavior:e.behavior,left:i.left-t.left-(e.left||0),top:i.top-t.top-(e.top||0)}}const Jy=()=>({left:window.scrollX,top:window.scrollY});function c3(r){let e;if("el"in r){const t=r.el,i=typeof t=="string"&&t.startsWith("#"),n=typeof t=="string"?i?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!n)return;e=u3(n,r)}else e=r;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function sT(r,e){return(history.state?history.state.position-e:-1)+r}const Q0=new Map;function d3(r,e){Q0.set(r,e)}function p3(r){const e=Q0.get(r);return Q0.delete(r),e}let f3=()=>location.protocol+"//"+location.host;function DL(r,e){const{pathname:t,search:i,hash:n}=e,s=r.indexOf("#");if(s>-1){let a=n.includes(r.slice(s))?r.slice(s).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),nT(l,"")}return nT(t,r)+i+n}function g3(r,e,t,i){let n=[],s=[],o=null;const a=({state:d})=>{const f=DL(r,location),g=t.value,m=e.value;let y=0;if(d){if(t.value=f,e.value=d,o&&o===g){o=null;return}y=m?d.position-m.position:0}else i(f);n.forEach(v=>{v(t.value,g,{delta:y,type:rp.pop,direction:y?y>0?kd.forward:kd.back:kd.unknown})})};function l(){o=t.value}function h(d){n.push(d);const f=()=>{const g=n.indexOf(d);g>-1&&n.splice(g,1)};return s.push(f),f}function u(){const{history:d}=window;d.state&&d.replaceState(ni({},d.state,{scroll:Jy()}),"")}function c(){for(const d of s)d();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:h,destroy:c}}function oT(r,e,t,i=!1,n=!1){return{back:r,current:e,forward:t,replaced:i,position:window.history.length,scroll:n?Jy():null}}function m3(r){const{history:e,location:t}=window,i={value:DL(r,t)},n={value:e.state};n.value||s(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,h,u){const c=r.indexOf("#"),d=c>-1?(t.host&&document.querySelector("base")?r:r.slice(c))+l:f3()+r+l;try{e[u?"replaceState":"pushState"](h,"",d),n.value=h}catch(f){console.error(f),t[u?"replace":"assign"](d)}}function o(l,h){const u=ni({},e.state,oT(n.value.back,l,n.value.forward,!0),h,{position:n.value.position});s(l,u,!0),i.value=l}function a(l,h){const u=ni({},n.value,e.state,{forward:l,scroll:Jy()});s(u.current,u,!0);const c=ni({},oT(i.value,l,null),{position:u.position+1},h);s(l,c,!1),i.value=l}return{location:i,state:n,push:a,replace:o}}function y3(r){r=a3(r);const e=m3(r),t=g3(r,e.state,e.location,e.replace);function i(s,o=!0){o||t.pauseListeners(),history.go(s)}const n=ni({location:"",base:r,go:i,createHref:h3.bind(null,r)},e,t);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function v3(r){return typeof r=="string"||r&&typeof r=="object"}function TL(r){return typeof r=="string"||typeof r=="symbol"}const wL=Symbol("");var aT;(function(r){r[r.aborted=4]="aborted",r[r.cancelled=8]="cancelled",r[r.duplicated=16]="duplicated"})(aT||(aT={}));function pc(r,e){return ni(new Error,{type:r,[wL]:!0},e)}function Do(r,e){return r instanceof Error&&wL in r&&(e==null||!!(r.type&e))}const lT="[^/]+?",M3={sensitive:!1,strict:!1,start:!0,end:!0},S3=/[.+*?^${}()[\]/\\]/g;function C3(r,e){const t=ni({},M3,e),i=[];let n=t.start?"^":"";const s=[];for(const h of r){const u=h.length?[]:[90];t.strict&&!h.length&&(n+="/");for(let c=0;c<h.length;c++){const d=h[c];let f=40+(t.sensitive?.25:0);if(d.type===0)c||(n+="/"),n+=d.value.replace(S3,"\\$&"),f+=40;else if(d.type===1){const{value:g,repeatable:m,optional:y,regexp:v}=d;s.push({name:g,repeatable:m,optional:y});const M=v||lT;if(M!==lT){f+=10;try{new RegExp(`(${M})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${g}" (${M}): `+b.message)}}let S=m?`((?:${M})(?:/(?:${M}))*)`:`(${M})`;c||(S=y&&h.length<2?`(?:/${S})`:"/"+S),y&&(S+="?"),n+=S,f+=20,y&&(f+=-8),m&&(f+=-20),M===".*"&&(f+=-50)}u.push(f)}i.push(u)}if(t.strict&&t.end){const h=i.length-1;i[h][i[h].length-1]+=.7000000000000001}t.strict||(n+="/?"),t.end?n+="$":t.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,t.sensitive?"":"i");function a(h){const u=h.match(o),c={};if(!u)return null;for(let d=1;d<u.length;d++){const f=u[d]||"",g=s[d-1];c[g.name]=f&&g.repeatable?f.split("/"):f}return c}function l(h){let u="",c=!1;for(const d of r){(!c||!u.endsWith("/"))&&(u+="/"),c=!1;for(const f of d)if(f.type===0)u+=f.value;else if(f.type===1){const{value:g,repeatable:m,optional:y}=f,v=g in h?h[g]:"";if(Ls(v)&&!m)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const M=Ls(v)?v.join("/"):v;if(!M)if(y)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):c=!0);else throw new Error(`Missing required param "${g}"`);u+=M}}return u||"/"}return{re:o,score:i,keys:s,parse:a,stringify:l}}function b3(r,e){let t=0;for(;t<r.length&&t<e.length;){const i=e[t]-r[t];if(i)return i;t++}return r.length<e.length?r.length===1&&r[0]===80?-1:1:r.length>e.length?e.length===1&&e[0]===80?1:-1:0}function xL(r,e){let t=0;const i=r.score,n=e.score;for(;t<i.length&&t<n.length;){const s=b3(i[t],n[t]);if(s)return s;t++}if(Math.abs(n.length-i.length)===1){if(hT(i))return 1;if(hT(n))return-1}return n.length-i.length}function hT(r){const e=r[r.length-1];return r.length>0&&e[e.length-1]<0}const I3={type:0,value:""},D3=/[a-zA-Z0-9_]/;function T3(r){if(!r)return[[]];if(r==="/")return[[I3]];if(!r.startsWith("/"))throw new Error(`Invalid path "${r}"`);function e(f){throw new Error(`ERR (${t})/"${h}": ${f}`)}let t=0,i=t;const n=[];let s;function o(){s&&n.push(s),s=[]}let a=0,l,h="",u="";function c(){h&&(t===0?s.push({type:0,value:h}):t===1||t===2||t===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:h,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),h="")}function d(){h+=l}for(;a<r.length;){if(l=r[a++],l==="\\"&&t!==2){i=t,t=4;continue}switch(t){case 0:l==="/"?(h&&c(),o()):l===":"?(c(),t=1):d();break;case 4:d(),t=i;break;case 1:l==="("?t=2:D3.test(l)?d():(c(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:t=3:u+=l;break;case 3:c(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${h}"`),c(),o(),n}function w3(r,e,t){const i=C3(T3(r.path),t),n=ni(i,{record:r,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function x3(r,e){const t=[],i=new Map;e=pT({strict:!1,end:!0,sensitive:!1},e);function n(c){return i.get(c)}function s(c,d,f){const g=!f,m=cT(c);m.aliasOf=f&&f.record;const y=pT(e,c),v=[m];if("alias"in c){const b=typeof c.alias=="string"?[c.alias]:c.alias;for(const C of b)v.push(cT(ni({},m,{components:f?f.record.components:m.components,path:C,aliasOf:f?f.record:m})))}let M,S;for(const b of v){const{path:C}=b;if(d&&C[0]!=="/"){const T=d.record.path,k=T[T.length-1]==="/"?"":"/";b.path=d.record.path+(C&&k+C)}if(M=w3(b,d,y),f?f.alias.push(M):(S=S||M,S!==M&&S.alias.push(M),g&&c.name&&!dT(M)&&o(c.name)),NL(M)&&l(M),m.children){const T=m.children;for(let k=0;k<T.length;k++)s(T[k],M,f&&f.children[k])}f=f||M}return S?()=>{o(S)}:Ed}function o(c){if(TL(c)){const d=i.get(c);d&&(i.delete(c),t.splice(t.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=t.indexOf(c);d>-1&&(t.splice(d,1),c.record.name&&i.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return t}function l(c){const d=E3(c,t);t.splice(d,0,c),c.record.name&&!dT(c)&&i.set(c.record.name,c)}function h(c,d){let f,g={},m,y;if("name"in c&&c.name){if(f=i.get(c.name),!f)throw pc(1,{location:c});y=f.record.name,g=ni(uT(d.params,f.keys.filter(S=>!S.optional).concat(f.parent?f.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),c.params&&uT(c.params,f.keys.map(S=>S.name))),m=f.stringify(g)}else if(c.path!=null)m=c.path,f=t.find(S=>S.re.test(m)),f&&(g=f.parse(m),y=f.record.name);else{if(f=d.name?i.get(d.name):t.find(S=>S.re.test(d.path)),!f)throw pc(1,{location:c,currentLocation:d});y=f.record.name,g=ni({},d.params,c.params),m=f.stringify(g)}const v=[];let M=f;for(;M;)v.unshift(M.record),M=M.parent;return{name:y,path:m,params:g,matched:v,meta:A3(v)}}r.forEach(c=>s(c));function u(){t.length=0,i.clear()}return{addRoute:s,resolve:h,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:n}}function uT(r,e){const t={};for(const i of e)i in r&&(t[i]=r[i]);return t}function cT(r){const e={path:r.path,redirect:r.redirect,name:r.name,meta:r.meta||{},aliasOf:r.aliasOf,beforeEnter:r.beforeEnter,props:N3(r),children:r.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in r?r.components||null:r.component&&{default:r.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function N3(r){const e={},t=r.props||!1;if("component"in r)e.default=t;else for(const i in r.components)e[i]=typeof t=="object"?t[i]:t;return e}function dT(r){for(;r;){if(r.record.aliasOf)return!0;r=r.parent}return!1}function A3(r){return r.reduce((e,t)=>ni(e,t.meta),{})}function pT(r,e){const t={};for(const i in r)t[i]=i in e?e[i]:r[i];return t}function E3(r,e){let t=0,i=e.length;for(;t!==i;){const s=t+i>>1;xL(r,e[s])<0?i=s:t=s+1}const n=k3(r);return n&&(i=e.lastIndexOf(n,i-1)),i}function k3(r){let e=r;for(;e=e.parent;)if(NL(e)&&xL(r,e)===0)return e}function NL({record:r}){return!!(r.name||r.components&&Object.keys(r.components).length||r.redirect)}function L3(r){const e={};if(r===""||r==="?")return e;const i=(r[0]==="?"?r.slice(1):r).split("&");for(let n=0;n<i.length;++n){const s=i[n].replace(ML," "),o=s.indexOf("="),a=np(o<0?s:s.slice(0,o)),l=o<0?null:np(s.slice(o+1));if(a in e){let h=e[a];Ls(h)||(h=e[a]=[h]),h.push(l)}else e[a]=l}return e}function fT(r){let e="";for(let t in r){const i=r[t];if(t=ZB(t),i==null){i!==void 0&&(e+=(e.length?"&":"")+t);continue}(Ls(i)?i.map(s=>s&&V0(s)):[i&&V0(i)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+t,s!=null&&(e+="="+s))})}return e}function z3(r){const e={};for(const t in r){const i=r[t];i!==void 0&&(e[t]=Ls(i)?i.map(n=>n==null?null:""+n):i==null?i:""+i)}return e}const O3=Symbol(""),gT=Symbol(""),Zy=Symbol(""),Ob=Symbol(""),_0=Symbol("");function Vc(){let r=[];function e(i){return r.push(i),()=>{const n=r.indexOf(i);n>-1&&r.splice(n,1)}}function t(){r=[]}return{add:e,list:()=>r.slice(),reset:t}}function ja(r,e,t,i,n,s=o=>o()){const o=i&&(i.enterCallbacks[n]=i.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const h=d=>{d===!1?l(pc(4,{from:t,to:e})):d instanceof Error?l(d):v3(d)?l(pc(2,{from:e,to:d})):(o&&i.enterCallbacks[n]===o&&typeof d=="function"&&o.push(d),a())},u=s(()=>r.call(i&&i.instances[n],e,t,h));let c=Promise.resolve(u);r.length<3&&(c=c.then(h)),c.catch(d=>l(d))})}function Wv(r,e,t,i,n=s=>s()){const s=[];for(const o of r)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(yL(l)){const u=(l.__vccOpts||l)[e];u&&s.push(ja(u,t,i,o,a,n))}else{let h=l();s.push(()=>h.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const c=HB(u)?u.default:u;o.mods[a]=u,o.components[a]=c;const f=(c.__vccOpts||c)[e];return f&&ja(f,t,i,o,a,n)()}))}}return s}function mT(r){const e=nr(Zy),t=nr(Ob),i=Ce(()=>{const l=be(r.to);return e.resolve(l)}),n=Ce(()=>{const{matched:l}=i.value,{length:h}=l,u=l[h-1],c=t.matched;if(!u||!c.length)return-1;const d=c.findIndex(dc.bind(null,u));if(d>-1)return d;const f=yT(l[h-2]);return h>1&&yT(u)===f&&c[c.length-1].path!==f?c.findIndex(dc.bind(null,l[h-2])):d}),s=Ce(()=>n.value>-1&&B3(t.params,i.value.params)),o=Ce(()=>n.value>-1&&n.value===t.matched.length-1&&IL(t.params,i.value.params));function a(l={}){if(F3(l)){const h=e[be(r.replace)?"replace":"push"](be(r.to)).catch(Ed);return r.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:i,href:Ce(()=>i.value.href),isActive:s,isExactActive:o,navigate:a}}function R3(r){return r.length===1?r[0]:r}const j3=Ai({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:mT,setup(r,{slots:e}){const t=fs(mT(r)),{options:i}=nr(Zy),n=Ce(()=>({[vT(r.activeClass,i.linkActiveClass,"router-link-active")]:t.isActive,[vT(r.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const s=e.default&&R3(e.default(t));return r.custom?s:Wi("a",{"aria-current":t.isExactActive?r.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:n.value},s)}}}),P3=j3;function F3(r){if(!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)&&!r.defaultPrevented&&!(r.button!==void 0&&r.button!==0)){if(r.currentTarget&&r.currentTarget.getAttribute){const e=r.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return r.preventDefault&&r.preventDefault(),!0}}function B3(r,e){for(const t in e){const i=e[t],n=r[t];if(typeof i=="string"){if(i!==n)return!1}else if(!Ls(n)||n.length!==i.length||i.some((s,o)=>s!==n[o]))return!1}return!0}function yT(r){return r?r.aliasOf?r.aliasOf.path:r.path:""}const vT=(r,e,t)=>r??e??t,U3=Ai({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(r,{attrs:e,slots:t}){const i=nr(_0),n=Ce(()=>r.route||i.value),s=nr(gT,0),o=Ce(()=>{let h=be(s);const{matched:u}=n.value;let c;for(;(c=u[h])&&!c.components;)h++;return h}),a=Ce(()=>n.value.matched[o.value]);ju(gT,Ce(()=>o.value+1)),ju(O3,a),ju(_0,n);const l=Pe();return Qt(()=>[l.value,a.value,r.name],([h,u,c],[d,f,g])=>{u&&(u.instances[c]=h,f&&f!==u&&h&&h===d&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),h&&u&&(!f||!dc(u,f)||!d)&&(u.enterCallbacks[c]||[]).forEach(m=>m(h))},{flush:"post"}),()=>{const h=n.value,u=r.name,c=a.value,d=c&&c.components[u];if(!d)return MT(t.default,{Component:d,route:h});const f=c.props[u],g=f?f===!0?h.params:typeof f=="function"?f(h):f:null,y=Wi(d,ni({},g,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(c.instances[u]=null)},ref:l}));return MT(t.default,{Component:y,route:h})||y}}});function MT(r,e){if(!r)return null;const t=r(e);return t.length===1?t[0]:t}const H3=U3;function V3(r){const e=x3(r.routes,r),t=r.parseQuery||L3,i=r.stringifyQuery||fT,n=r.history,s=Vc(),o=Vc(),a=Vc(),l=Oy(ya);let h=ya;Cu&&r.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=_v.bind(null,P=>""+P),c=_v.bind(null,e3),d=_v.bind(null,np);function f(P,ve){let X,De;return TL(P)?(X=e.getRecordMatcher(P),De=ve):De=P,e.addRoute(De,X)}function g(P){const ve=e.getRecordMatcher(P);ve&&e.removeRoute(ve)}function m(){return e.getRoutes().map(P=>P.record)}function y(P){return!!e.getRecordMatcher(P)}function v(P,ve){if(ve=ni({},ve||l.value),typeof P=="string"){const Y=Yv(t,P,ve.path),ae=e.resolve({path:Y.path},ve),we=n.createHref(Y.fullPath);return ni(Y,ae,{params:d(ae.params),hash:np(Y.hash),redirectedFrom:void 0,href:we})}let X;if(P.path!=null)X=ni({},P,{path:Yv(t,P.path,ve.path).path});else{const Y=ni({},P.params);for(const ae in Y)Y[ae]==null&&delete Y[ae];X=ni({},P,{params:c(Y)}),ve.params=c(ve.params)}const De=e.resolve(X,ve),Fe=P.hash||"";De.params=u(d(De.params));const Re=n3(i,ni({},P,{hash:JB(Fe),path:De.path})),U=n.createHref(Re);return ni({fullPath:Re,hash:Fe,query:i===fT?z3(P.query):P.query||{}},De,{redirectedFrom:void 0,href:U})}function M(P){return typeof P=="string"?Yv(t,P,l.value.path):ni({},P)}function S(P,ve){if(h!==P)return pc(8,{from:ve,to:P})}function b(P){return k(P)}function C(P){return b(ni(M(P),{replace:!0}))}function T(P){const ve=P.matched[P.matched.length-1];if(ve&&ve.redirect){const{redirect:X}=ve;let De=typeof X=="function"?X(P):X;return typeof De=="string"&&(De=De.includes("?")||De.includes("#")?De=M(De):{path:De},De.params={}),ni({query:P.query,hash:P.hash,params:De.path!=null?{}:P.params},De)}}function k(P,ve){const X=h=v(P),De=l.value,Fe=P.state,Re=P.force,U=P.replace===!0,Y=T(X);if(Y)return k(ni(M(Y),{state:typeof Y=="object"?ni({},Fe,Y.state):Fe,force:Re,replace:U}),ve||X);const ae=X;ae.redirectedFrom=ve;let we;return!Re&&r3(i,De,X)&&(we=pc(16,{to:ae,from:De}),W(De,De,!0,!1)),(we?Promise.resolve(we):E(ae,De)).catch(se=>Do(se)?Do(se,2)?se:ee(se):B(se,ae,De)).then(se=>{if(se){if(Do(se,2))return k(ni({replace:U},M(se.to),{state:typeof se.to=="object"?ni({},Fe,se.to.state):Fe,force:Re}),ve||ae)}else se=D(ae,De,!0,U,Fe);return x(ae,De,se),se})}function N(P,ve){const X=S(P,ve);return X?Promise.reject(X):Promise.resolve()}function A(P){const ve=le.values().next().value;return ve&&typeof ve.runWithContext=="function"?ve.runWithContext(P):P()}function E(P,ve){let X;const[De,Fe,Re]=Q3(P,ve);X=Wv(De.reverse(),"beforeRouteLeave",P,ve);for(const Y of De)Y.leaveGuards.forEach(ae=>{X.push(ja(ae,P,ve))});const U=N.bind(null,P,ve);return X.push(U),pe(X).then(()=>{X=[];for(const Y of s.list())X.push(ja(Y,P,ve));return X.push(U),pe(X)}).then(()=>{X=Wv(Fe,"beforeRouteUpdate",P,ve);for(const Y of Fe)Y.updateGuards.forEach(ae=>{X.push(ja(ae,P,ve))});return X.push(U),pe(X)}).then(()=>{X=[];for(const Y of Re)if(Y.beforeEnter)if(Ls(Y.beforeEnter))for(const ae of Y.beforeEnter)X.push(ja(ae,P,ve));else X.push(ja(Y.beforeEnter,P,ve));return X.push(U),pe(X)}).then(()=>(P.matched.forEach(Y=>Y.enterCallbacks={}),X=Wv(Re,"beforeRouteEnter",P,ve,A),X.push(U),pe(X))).then(()=>{X=[];for(const Y of o.list())X.push(ja(Y,P,ve));return X.push(U),pe(X)}).catch(Y=>Do(Y,8)?Y:Promise.reject(Y))}function x(P,ve,X){a.list().forEach(De=>A(()=>De(P,ve,X)))}function D(P,ve,X,De,Fe){const Re=S(P,ve);if(Re)return Re;const U=ve===ya,Y=Cu?history.state:{};X&&(De||U?n.replace(P.fullPath,ni({scroll:U&&Y&&Y.scroll},Fe)):n.push(P.fullPath,Fe)),l.value=P,W(P,ve,X,U),ee()}let z;function w(){z||(z=n.listen((P,ve,X)=>{if(!me.listening)return;const De=v(P),Fe=T(De);if(Fe){k(ni(Fe,{replace:!0,force:!0}),De).catch(Ed);return}h=De;const Re=l.value;Cu&&d3(sT(Re.fullPath,X.delta),Jy()),E(De,Re).catch(U=>Do(U,12)?U:Do(U,2)?(k(ni(M(U.to),{force:!0}),De).then(Y=>{Do(Y,20)&&!X.delta&&X.type===rp.pop&&n.go(-1,!1)}).catch(Ed),Promise.reject()):(X.delta&&n.go(-X.delta,!1),B(U,De,Re))).then(U=>{U=U||D(De,Re,!1),U&&(X.delta&&!Do(U,8)?n.go(-X.delta,!1):X.type===rp.pop&&Do(U,20)&&n.go(-1,!1)),x(De,Re,U)}).catch(Ed)}))}let O=Vc(),L=Vc(),j;function B(P,ve,X){ee(P);const De=L.list();return De.length?De.forEach(Fe=>Fe(P,ve,X)):console.error(P),Promise.reject(P)}function V(){return j&&l.value!==ya?Promise.resolve():new Promise((P,ve)=>{O.add([P,ve])})}function ee(P){return j||(j=!P,w(),O.list().forEach(([ve,X])=>P?X(P):ve()),O.reset()),P}function W(P,ve,X,De){const{scrollBehavior:Fe}=r;if(!Cu||!Fe)return Promise.resolve();const Re=!X&&p3(sT(P.fullPath,0))||(De||!X)&&history.state&&history.state.scroll||null;return en().then(()=>Fe(P,ve,Re)).then(U=>U&&c3(U)).catch(U=>B(U,P,ve))}const J=P=>n.go(P);let K;const le=new Set,me={currentRoute:l,listening:!0,addRoute:f,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:y,getRoutes:m,resolve:v,options:r,push:b,replace:C,go:J,back:()=>J(-1),forward:()=>J(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:L.add,isReady:V,install(P){const ve=this;P.component("RouterLink",P3),P.component("RouterView",H3),P.config.globalProperties.$router=ve,Object.defineProperty(P.config.globalProperties,"$route",{enumerable:!0,get:()=>be(l)}),Cu&&!K&&l.value===ya&&(K=!0,b(n.location).catch(Fe=>{}));const X={};for(const Fe in ya)Object.defineProperty(X,Fe,{get:()=>l.value[Fe],enumerable:!0});P.provide(Zy,ve),P.provide(Ob,Nc(X)),P.provide(_0,l);const De=P.unmount;le.add(P),P.unmount=function(){le.delete(P),le.size<1&&(h=ya,z&&z(),z=null,l.value=ya,K=!1,j=!1),De()}}};function pe(P){return P.reduce((ve,X)=>ve.then(()=>A(X)),Promise.resolve())}return me}function Q3(r,e){const t=[],i=[],n=[],s=Math.max(e.matched.length,r.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(r.matched.find(h=>dc(h,a))?i.push(a):t.push(a));const l=r.matched[o];l&&(e.matched.find(h=>dc(h,l))||n.push(l))}return[t,i,n]}function wse(){return nr(Zy)}function AL(r){return nr(Ob)}function EL(r,e){return function(){return r.apply(e,arguments)}}const{toString:_3}=Object.prototype,{getPrototypeOf:Rb}=Object,{iterator:Xy,toStringTag:kL}=Symbol,ev=(r=>e=>{const t=_3.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ps=r=>(r=r.toLowerCase(),e=>ev(e)===r),tv=r=>e=>typeof e===r,{isArray:Lc}=Array,fc=tv("undefined");function $p(r){return r!==null&&!fc(r)&&r.constructor!==null&&!fc(r.constructor)&&vr(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const LL=Ps("ArrayBuffer");function Y3(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&LL(r.buffer),e}const W3=tv("string"),vr=tv("function"),zL=tv("number"),Kp=r=>r!==null&&typeof r=="object",q3=r=>r===!0||r===!1,yg=r=>{if(ev(r)!=="object")return!1;const e=Rb(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(kL in r)&&!(Xy in r)},G3=r=>{if(!Kp(r)||$p(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},$3=Ps("Date"),K3=Ps("File"),J3=Ps("Blob"),Z3=Ps("FileList"),X3=r=>Kp(r)&&vr(r.pipe),eU=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||vr(r.append)&&((e=ev(r))==="formdata"||e==="object"&&vr(r.toString)&&r.toString()==="[object FormData]"))},tU=Ps("URLSearchParams"),[iU,nU,rU,sU]=["ReadableStream","Request","Response","Headers"].map(Ps),oU=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Jp(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let i,n;if(typeof r!="object"&&(r=[r]),Lc(r))for(i=0,n=r.length;i<n;i++)e.call(null,r[i],i,r);else{if($p(r))return;const s=t?Object.getOwnPropertyNames(r):Object.keys(r),o=s.length;let a;for(i=0;i<o;i++)a=s[i],e.call(null,r[a],a,r)}}function OL(r,e){if($p(r))return null;e=e.toLowerCase();const t=Object.keys(r);let i=t.length,n;for(;i-- >0;)if(n=t[i],e===n.toLowerCase())return n;return null}const nh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,RL=r=>!fc(r)&&r!==nh;function Y0(){const{caseless:r,skipUndefined:e}=RL(this)&&this||{},t={},i=(n,s)=>{const o=r&&OL(t,s)||s;yg(t[o])&&yg(n)?t[o]=Y0(t[o],n):yg(n)?t[o]=Y0({},n):Lc(n)?t[o]=n.slice():(!e||!fc(n))&&(t[o]=n)};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&Jp(arguments[n],i);return t}const aU=(r,e,t,{allOwnKeys:i}={})=>(Jp(e,(n,s)=>{t&&vr(n)?r[s]=EL(n,t):r[s]=n},{allOwnKeys:i}),r),lU=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),hU=(r,e,t,i)=>{r.prototype=Object.create(e.prototype,i),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},uU=(r,e,t,i)=>{let n,s,o;const a={};if(e=e||{},r==null)return e;do{for(n=Object.getOwnPropertyNames(r),s=n.length;s-- >0;)o=n[s],(!i||i(o,r,e))&&!a[o]&&(e[o]=r[o],a[o]=!0);r=t!==!1&&Rb(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},cU=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const i=r.indexOf(e,t);return i!==-1&&i===t},dU=r=>{if(!r)return null;if(Lc(r))return r;let e=r.length;if(!zL(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},pU=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&Rb(Uint8Array)),fU=(r,e)=>{const i=(r&&r[Xy]).call(r);let n;for(;(n=i.next())&&!n.done;){const s=n.value;e.call(r,s[0],s[1])}},gU=(r,e)=>{let t;const i=[];for(;(t=r.exec(e))!==null;)i.push(t);return i},mU=Ps("HTMLFormElement"),yU=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,n){return i.toUpperCase()+n}),ST=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),vU=Ps("RegExp"),jL=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),i={};Jp(t,(n,s)=>{let o;(o=e(n,s,r))!==!1&&(i[s]=o||n)}),Object.defineProperties(r,i)},MU=r=>{jL(r,(e,t)=>{if(vr(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=r[t];if(vr(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},SU=(r,e)=>{const t={},i=n=>{n.forEach(s=>{t[s]=!0})};return Lc(r)?i(r):i(String(r).split(e)),t},CU=()=>{},bU=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function IU(r){return!!(r&&vr(r.append)&&r[kL]==="FormData"&&r[Xy])}const DU=r=>{const e=new Array(10),t=(i,n)=>{if(Kp(i)){if(e.indexOf(i)>=0)return;if($p(i))return i;if(!("toJSON"in i)){e[n]=i;const s=Lc(i)?[]:{};return Jp(i,(o,a)=>{const l=t(o,n+1);!fc(l)&&(s[a]=l)}),e[n]=void 0,s}}return i};return t(r,0)},TU=Ps("AsyncFunction"),wU=r=>r&&(Kp(r)||vr(r))&&vr(r.then)&&vr(r.catch),PL=((r,e)=>r?setImmediate:e?((t,i)=>(nh.addEventListener("message",({source:n,data:s})=>{n===nh&&s===t&&i.length&&i.shift()()},!1),n=>{i.push(n),nh.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",vr(nh.postMessage)),xU=typeof queueMicrotask<"u"?queueMicrotask.bind(nh):typeof process<"u"&&process.nextTick||PL,NU=r=>r!=null&&vr(r[Xy]),ye={isArray:Lc,isArrayBuffer:LL,isBuffer:$p,isFormData:eU,isArrayBufferView:Y3,isString:W3,isNumber:zL,isBoolean:q3,isObject:Kp,isPlainObject:yg,isEmptyObject:G3,isReadableStream:iU,isRequest:nU,isResponse:rU,isHeaders:sU,isUndefined:fc,isDate:$3,isFile:K3,isBlob:J3,isRegExp:vU,isFunction:vr,isStream:X3,isURLSearchParams:tU,isTypedArray:pU,isFileList:Z3,forEach:Jp,merge:Y0,extend:aU,trim:oU,stripBOM:lU,inherits:hU,toFlatObject:uU,kindOf:ev,kindOfTest:Ps,endsWith:cU,toArray:dU,forEachEntry:fU,matchAll:gU,isHTMLForm:mU,hasOwnProperty:ST,hasOwnProp:ST,reduceDescriptors:jL,freezeMethods:MU,toObjectSet:SU,toCamelCase:yU,noop:CU,toFiniteNumber:bU,findKey:OL,global:nh,isContextDefined:RL,isSpecCompliantForm:IU,toJSONObject:DU,isAsyncFn:TU,isThenable:wU,setImmediate:PL,asap:xU,isIterable:NU};function Lt(r,e,t,i,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),n&&(this.response=n,this.status=n.status?n.status:null)}ye.inherits(Lt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ye.toJSONObject(this.config),code:this.code,status:this.status}}});const FL=Lt.prototype,BL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{BL[r]={value:r}});Object.defineProperties(Lt,BL);Object.defineProperty(FL,"isAxiosError",{value:!0});Lt.from=(r,e,t,i,n,s)=>{const o=Object.create(FL);ye.toFlatObject(r,o,function(u){return u!==Error.prototype},h=>h!=="isAxiosError");const a=r&&r.message?r.message:"Error",l=e==null&&r?r.code:e;return Lt.call(o,a,l,t,i,n),r&&o.cause==null&&Object.defineProperty(o,"cause",{value:r,configurable:!0}),o.name=r&&r.name||"Error",s&&Object.assign(o,s),o};const AU=null;function W0(r){return ye.isPlainObject(r)||ye.isArray(r)}function UL(r){return ye.endsWith(r,"[]")?r.slice(0,-2):r}function CT(r,e,t){return r?r.concat(e).map(function(n,s){return n=UL(n),!t&&s?"["+n+"]":n}).join(t?".":""):e}function EU(r){return ye.isArray(r)&&!r.some(W0)}const kU=ye.toFlatObject(ye,{},null,function(e){return/^is[A-Z]/.test(e)});function iv(r,e,t){if(!ye.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=ye.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!ye.isUndefined(y[m])});const i=t.metaTokens,n=t.visitor||u,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&ye.isSpecCompliantForm(e);if(!ye.isFunction(n))throw new TypeError("visitor must be a function");function h(g){if(g===null)return"";if(ye.isDate(g))return g.toISOString();if(ye.isBoolean(g))return g.toString();if(!l&&ye.isBlob(g))throw new Lt("Blob is not supported. Use a Buffer instead.");return ye.isArrayBuffer(g)||ye.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,m,y){let v=g;if(g&&!y&&typeof g=="object"){if(ye.endsWith(m,"{}"))m=i?m:m.slice(0,-2),g=JSON.stringify(g);else if(ye.isArray(g)&&EU(g)||(ye.isFileList(g)||ye.endsWith(m,"[]"))&&(v=ye.toArray(g)))return m=UL(m),v.forEach(function(S,b){!(ye.isUndefined(S)||S===null)&&e.append(o===!0?CT([m],b,s):o===null?m:m+"[]",h(S))}),!1}return W0(g)?!0:(e.append(CT(y,m,s),h(g)),!1)}const c=[],d=Object.assign(kU,{defaultVisitor:u,convertValue:h,isVisitable:W0});function f(g,m){if(!ye.isUndefined(g)){if(c.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));c.push(g),ye.forEach(g,function(v,M){(!(ye.isUndefined(v)||v===null)&&n.call(e,v,ye.isString(M)?M.trim():M,m,d))===!0&&f(v,m?m.concat(M):[M])}),c.pop()}}if(!ye.isObject(r))throw new TypeError("data must be an object");return f(r),e}function bT(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function jb(r,e){this._pairs=[],r&&iv(r,this,e)}const HL=jb.prototype;HL.append=function(e,t){this._pairs.push([e,t])};HL.toString=function(e){const t=e?function(i){return e.call(this,i,bT)}:bT;return this._pairs.map(function(n){return t(n[0])+"="+t(n[1])},"").join("&")};function LU(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function VL(r,e,t){if(!e)return r;const i=t&&t.encode||LU;ye.isFunction(t)&&(t={serialize:t});const n=t&&t.serialize;let s;if(n?s=n(e,t):s=ye.isURLSearchParams(e)?e.toString():new jb(e,t).toString(i),s){const o=r.indexOf("#");o!==-1&&(r=r.slice(0,o)),r+=(r.indexOf("?")===-1?"?":"&")+s}return r}class IT{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ye.forEach(this.handlers,function(i){i!==null&&e(i)})}}const QL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zU=typeof URLSearchParams<"u"?URLSearchParams:jb,OU=typeof FormData<"u"?FormData:null,RU=typeof Blob<"u"?Blob:null,jU={isBrowser:!0,classes:{URLSearchParams:zU,FormData:OU,Blob:RU},protocols:["http","https","file","blob","url","data"]},Pb=typeof window<"u"&&typeof document<"u",q0=typeof navigator=="object"&&navigator||void 0,PU=Pb&&(!q0||["ReactNative","NativeScript","NS"].indexOf(q0.product)<0),FU=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",BU=Pb&&window.location.href||"http://localhost",UU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Pb,hasStandardBrowserEnv:PU,hasStandardBrowserWebWorkerEnv:FU,navigator:q0,origin:BU},Symbol.toStringTag,{value:"Module"})),Hn={...UU,...jU};function HU(r,e){return iv(r,new Hn.classes.URLSearchParams,{visitor:function(t,i,n,s){return Hn.isNode&&ye.isBuffer(t)?(this.append(i,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function VU(r){return ye.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function QU(r){const e={},t=Object.keys(r);let i;const n=t.length;let s;for(i=0;i<n;i++)s=t[i],e[s]=r[s];return e}function _L(r){function e(t,i,n,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&ye.isArray(n)?n.length:o,l?(ye.hasOwnProp(n,o)?n[o]=[n[o],i]:n[o]=i,!a):((!n[o]||!ye.isObject(n[o]))&&(n[o]=[]),e(t,i,n[o],s)&&ye.isArray(n[o])&&(n[o]=QU(n[o])),!a)}if(ye.isFormData(r)&&ye.isFunction(r.entries)){const t={};return ye.forEachEntry(r,(i,n)=>{e(VU(i),n,t,0)}),t}return null}function _U(r,e,t){if(ye.isString(r))try{return(e||JSON.parse)(r),ye.trim(r)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(r)}const Zp={transitional:QL,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",n=i.indexOf("application/json")>-1,s=ye.isObject(e);if(s&&ye.isHTMLForm(e)&&(e=new FormData(e)),ye.isFormData(e))return n?JSON.stringify(_L(e)):e;if(ye.isArrayBuffer(e)||ye.isBuffer(e)||ye.isStream(e)||ye.isFile(e)||ye.isBlob(e)||ye.isReadableStream(e))return e;if(ye.isArrayBufferView(e))return e.buffer;if(ye.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return HU(e,this.formSerializer).toString();if((a=ye.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return iv(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||n?(t.setContentType("application/json",!1),_U(e)):e}],transformResponse:[function(e){const t=this.transitional||Zp.transitional,i=t&&t.forcedJSONParsing,n=this.responseType==="json";if(ye.isResponse(e)||ye.isReadableStream(e))return e;if(e&&ye.isString(e)&&(i&&!this.responseType||n)){const o=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?Lt.from(a,Lt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hn.classes.FormData,Blob:Hn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ye.forEach(["delete","get","head","post","put","patch"],r=>{Zp.headers[r]={}});const YU=ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),WU=r=>{const e={};let t,i,n;return r&&r.split(`
`).forEach(function(o){n=o.indexOf(":"),t=o.substring(0,n).trim().toLowerCase(),i=o.substring(n+1).trim(),!(!t||e[t]&&YU[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},DT=Symbol("internals");function Qc(r){return r&&String(r).trim().toLowerCase()}function vg(r){return r===!1||r==null?r:ye.isArray(r)?r.map(vg):String(r)}function qU(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(r);)e[i[1]]=i[2];return e}const GU=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function qv(r,e,t,i,n){if(ye.isFunction(i))return i.call(this,e,t);if(n&&(e=t),!!ye.isString(e)){if(ye.isString(i))return e.indexOf(i)!==-1;if(ye.isRegExp(i))return i.test(e)}}function $U(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function KU(r,e){const t=ye.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(r,i+t,{value:function(n,s,o){return this[i].call(this,e,n,s,o)},configurable:!0})})}let Mr=class{constructor(e){e&&this.set(e)}set(e,t,i){const n=this;function s(a,l,h){const u=Qc(l);if(!u)throw new Error("header name must be a non-empty string");const c=ye.findKey(n,u);(!c||n[c]===void 0||h===!0||h===void 0&&n[c]!==!1)&&(n[c||l]=vg(a))}const o=(a,l)=>ye.forEach(a,(h,u)=>s(h,u,l));if(ye.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(ye.isString(e)&&(e=e.trim())&&!GU(e))o(WU(e),t);else if(ye.isObject(e)&&ye.isIterable(e)){let a={},l,h;for(const u of e){if(!ye.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[h=u[0]]=(l=a[h])?ye.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(a,t)}else e!=null&&s(t,e,i);return this}get(e,t){if(e=Qc(e),e){const i=ye.findKey(this,e);if(i){const n=this[i];if(!t)return n;if(t===!0)return qU(n);if(ye.isFunction(t))return t.call(this,n,i);if(ye.isRegExp(t))return t.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Qc(e),e){const i=ye.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||qv(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let n=!1;function s(o){if(o=Qc(o),o){const a=ye.findKey(i,o);a&&(!t||qv(i,i[a],a,t))&&(delete i[a],n=!0)}}return ye.isArray(e)?e.forEach(s):s(e),n}clear(e){const t=Object.keys(this);let i=t.length,n=!1;for(;i--;){const s=t[i];(!e||qv(this,this[s],s,e,!0))&&(delete this[s],n=!0)}return n}normalize(e){const t=this,i={};return ye.forEach(this,(n,s)=>{const o=ye.findKey(i,s);if(o){t[o]=vg(n),delete t[s];return}const a=e?$U(s):String(s).trim();a!==s&&delete t[s],t[a]=vg(n),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ye.forEach(this,(i,n)=>{i!=null&&i!==!1&&(t[n]=e&&ye.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(n=>i.set(n)),i}static accessor(e){const i=(this[DT]=this[DT]={accessors:{}}).accessors,n=this.prototype;function s(o){const a=Qc(o);i[a]||(KU(n,o),i[a]=!0)}return ye.isArray(e)?e.forEach(s):s(e),this}};Mr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ye.reduceDescriptors(Mr.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(i){this[t]=i}}});ye.freezeMethods(Mr);function Gv(r,e){const t=this||Zp,i=e||t,n=Mr.from(i.headers);let s=i.data;return ye.forEach(r,function(a){s=a.call(t,s,n.normalize(),e?e.status:void 0)}),n.normalize(),s}function YL(r){return!!(r&&r.__CANCEL__)}function zc(r,e,t){Lt.call(this,r??"canceled",Lt.ERR_CANCELED,e,t),this.name="CanceledError"}ye.inherits(zc,Lt,{__CANCEL__:!0});function WL(r,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?r(t):e(new Lt("Request failed with status code "+t.status,[Lt.ERR_BAD_REQUEST,Lt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function JU(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function ZU(r,e){r=r||10;const t=new Array(r),i=new Array(r);let n=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const h=Date.now(),u=i[s];o||(o=h),t[n]=l,i[n]=h;let c=s,d=0;for(;c!==n;)d+=t[c++],c=c%r;if(n=(n+1)%r,n===s&&(s=(s+1)%r),h-o<e)return;const f=u&&h-u;return f?Math.round(d*1e3/f):void 0}}function XU(r,e){let t=0,i=1e3/e,n,s;const o=(h,u=Date.now())=>{t=u,n=null,s&&(clearTimeout(s),s=null),r(...h)};return[(...h)=>{const u=Date.now(),c=u-t;c>=i?o(h,u):(n=h,s||(s=setTimeout(()=>{s=null,o(n)},i-c)))},()=>n&&o(n)]}const am=(r,e,t=3)=>{let i=0;const n=ZU(50,250);return XU(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-i,h=n(l),u=o<=a;i=o;const c={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:h||void 0,estimated:h&&a&&u?(a-o)/h:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};r(c)},t)},TT=(r,e)=>{const t=r!=null;return[i=>e[0]({lengthComputable:t,total:r,loaded:i}),e[1]]},wT=r=>(...e)=>ye.asap(()=>r(...e)),e5=Hn.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,Hn.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(Hn.origin),Hn.navigator&&/(msie|trident)/i.test(Hn.navigator.userAgent)):()=>!0,t5=Hn.hasStandardBrowserEnv?{write(r,e,t,i,n,s){const o=[r+"="+encodeURIComponent(e)];ye.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),ye.isString(i)&&o.push("path="+i),ye.isString(n)&&o.push("domain="+n),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function i5(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function n5(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function qL(r,e,t){let i=!i5(e);return r&&(i||t==!1)?n5(r,e):e}const xT=r=>r instanceof Mr?{...r}:r;function Bh(r,e){e=e||{};const t={};function i(h,u,c,d){return ye.isPlainObject(h)&&ye.isPlainObject(u)?ye.merge.call({caseless:d},h,u):ye.isPlainObject(u)?ye.merge({},u):ye.isArray(u)?u.slice():u}function n(h,u,c,d){if(ye.isUndefined(u)){if(!ye.isUndefined(h))return i(void 0,h,c,d)}else return i(h,u,c,d)}function s(h,u){if(!ye.isUndefined(u))return i(void 0,u)}function o(h,u){if(ye.isUndefined(u)){if(!ye.isUndefined(h))return i(void 0,h)}else return i(void 0,u)}function a(h,u,c){if(c in e)return i(h,u);if(c in r)return i(void 0,h)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(h,u,c)=>n(xT(h),xT(u),c,!0)};return ye.forEach(Object.keys({...r,...e}),function(u){const c=l[u]||n,d=c(r[u],e[u],u);ye.isUndefined(d)&&c!==a||(t[u]=d)}),t}const GL=r=>{const e=Bh({},r);let{data:t,withXSRFToken:i,xsrfHeaderName:n,xsrfCookieName:s,headers:o,auth:a}=e;if(e.headers=o=Mr.from(o),e.url=VL(qL(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),ye.isFormData(t)){if(Hn.hasStandardBrowserEnv||Hn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(ye.isFunction(t.getHeaders)){const l=t.getHeaders(),h=["content-type","content-length"];Object.entries(l).forEach(([u,c])=>{h.includes(u.toLowerCase())&&o.set(u,c)})}}if(Hn.hasStandardBrowserEnv&&(i&&ye.isFunction(i)&&(i=i(e)),i||i!==!1&&e5(e.url))){const l=n&&s&&t5.read(s);l&&o.set(n,l)}return e},r5=typeof XMLHttpRequest<"u",s5=r5&&function(r){return new Promise(function(t,i){const n=GL(r);let s=n.data;const o=Mr.from(n.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:h}=n,u,c,d,f,g;function m(){f&&f(),g&&g(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(n.method.toUpperCase(),n.url,!0),y.timeout=n.timeout;function v(){if(!y)return;const S=Mr.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),C={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:S,config:r,request:y};WL(function(k){t(k),m()},function(k){i(k),m()},C),y=null}"onloadend"in y?y.onloadend=v:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(v)},y.onabort=function(){y&&(i(new Lt("Request aborted",Lt.ECONNABORTED,r,y)),y=null)},y.onerror=function(b){const C=b&&b.message?b.message:"Network Error",T=new Lt(C,Lt.ERR_NETWORK,r,y);T.event=b||null,i(T),y=null},y.ontimeout=function(){let b=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const C=n.transitional||QL;n.timeoutErrorMessage&&(b=n.timeoutErrorMessage),i(new Lt(b,C.clarifyTimeoutError?Lt.ETIMEDOUT:Lt.ECONNABORTED,r,y)),y=null},s===void 0&&o.setContentType(null),"setRequestHeader"in y&&ye.forEach(o.toJSON(),function(b,C){y.setRequestHeader(C,b)}),ye.isUndefined(n.withCredentials)||(y.withCredentials=!!n.withCredentials),a&&a!=="json"&&(y.responseType=n.responseType),h&&([d,g]=am(h,!0),y.addEventListener("progress",d)),l&&y.upload&&([c,f]=am(l),y.upload.addEventListener("progress",c),y.upload.addEventListener("loadend",f)),(n.cancelToken||n.signal)&&(u=S=>{y&&(i(!S||S.type?new zc(null,r,y):S),y.abort(),y=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const M=JU(n.url);if(M&&Hn.protocols.indexOf(M)===-1){i(new Lt("Unsupported protocol "+M+":",Lt.ERR_BAD_REQUEST,r));return}y.send(s||null)})},o5=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let i=new AbortController,n;const s=function(h){if(!n){n=!0,a();const u=h instanceof Error?h:this.reason;i.abort(u instanceof Lt?u:new zc(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,s(new Lt(`timeout ${e} of ms exceeded`,Lt.ETIMEDOUT))},e);const a=()=>{r&&(o&&clearTimeout(o),o=null,r.forEach(h=>{h.unsubscribe?h.unsubscribe(s):h.removeEventListener("abort",s)}),r=null)};r.forEach(h=>h.addEventListener("abort",s));const{signal:l}=i;return l.unsubscribe=()=>ye.asap(a),l}},a5=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let i=0,n;for(;i<t;)n=i+e,yield r.slice(i,n),i=n},l5=async function*(r,e){for await(const t of h5(r))yield*a5(t,e)},h5=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},NT=(r,e,t,i)=>{const n=l5(r,e);let s=0,o,a=l=>{o||(o=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:h,value:u}=await n.next();if(h){a(),l.close();return}let c=u.byteLength;if(t){let d=s+=c;t(d)}l.enqueue(new Uint8Array(u))}catch(h){throw a(h),h}},cancel(l){return a(l),n.return()}},{highWaterMark:2})},AT=64*1024,{isFunction:wf}=ye,u5=(({Request:r,Response:e})=>({Request:r,Response:e}))(ye.global),{ReadableStream:ET,TextEncoder:kT}=ye.global,LT=(r,...e)=>{try{return!!r(...e)}catch{return!1}},c5=r=>{r=ye.merge.call({skipUndefined:!0},u5,r);const{fetch:e,Request:t,Response:i}=r,n=e?wf(e):typeof fetch=="function",s=wf(t),o=wf(i);if(!n)return!1;const a=n&&wf(ET),l=n&&(typeof kT=="function"?(g=>m=>g.encode(m))(new kT):async g=>new Uint8Array(await new t(g).arrayBuffer())),h=s&&a&&LT(()=>{let g=!1;const m=new t(Hn.origin,{body:new ET,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!m}),u=o&&a&&LT(()=>ye.isReadableStream(new i("").body)),c={stream:u&&(g=>g.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!c[g]&&(c[g]=(m,y)=>{let v=m&&m[g];if(v)return v.call(m);throw new Lt(`Response type '${g}' is not supported`,Lt.ERR_NOT_SUPPORT,y)})});const d=async g=>{if(g==null)return 0;if(ye.isBlob(g))return g.size;if(ye.isSpecCompliantForm(g))return(await new t(Hn.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(ye.isArrayBufferView(g)||ye.isArrayBuffer(g))return g.byteLength;if(ye.isURLSearchParams(g)&&(g=g+""),ye.isString(g))return(await l(g)).byteLength},f=async(g,m)=>{const y=ye.toFiniteNumber(g.getContentLength());return y??d(m)};return async g=>{let{url:m,method:y,data:v,signal:M,cancelToken:S,timeout:b,onDownloadProgress:C,onUploadProgress:T,responseType:k,headers:N,withCredentials:A="same-origin",fetchOptions:E}=GL(g),x=e||fetch;k=k?(k+"").toLowerCase():"text";let D=o5([M,S&&S.toAbortSignal()],b),z=null;const w=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let O;try{if(T&&h&&y!=="get"&&y!=="head"&&(O=await f(N,v))!==0){let W=new t(m,{method:"POST",body:v,duplex:"half"}),J;if(ye.isFormData(v)&&(J=W.headers.get("content-type"))&&N.setContentType(J),W.body){const[K,le]=TT(O,am(wT(T)));v=NT(W.body,AT,K,le)}}ye.isString(A)||(A=A?"include":"omit");const L=s&&"credentials"in t.prototype,j={...E,signal:D,method:y.toUpperCase(),headers:N.normalize().toJSON(),body:v,duplex:"half",credentials:L?A:void 0};z=s&&new t(m,j);let B=await(s?x(z,E):x(m,j));const V=u&&(k==="stream"||k==="response");if(u&&(C||V&&w)){const W={};["status","statusText","headers"].forEach(me=>{W[me]=B[me]});const J=ye.toFiniteNumber(B.headers.get("content-length")),[K,le]=C&&TT(J,am(wT(C),!0))||[];B=new i(NT(B.body,AT,K,()=>{le&&le(),w&&w()}),W)}k=k||"text";let ee=await c[ye.findKey(c,k)||"text"](B,g);return!V&&w&&w(),await new Promise((W,J)=>{WL(W,J,{data:ee,headers:Mr.from(B.headers),status:B.status,statusText:B.statusText,config:g,request:z})})}catch(L){throw w&&w(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new Lt("Network Error",Lt.ERR_NETWORK,g,z),{cause:L.cause||L}):Lt.from(L,L&&L.code,g,z)}}},d5=new Map,$L=r=>{let e=r?r.env:{};const{fetch:t,Request:i,Response:n}=e,s=[i,n,t];let o=s.length,a=o,l,h,u=d5;for(;a--;)l=s[a],h=u.get(l),h===void 0&&u.set(l,h=a?new Map:c5(e)),u=h;return h};$L();const G0={http:AU,xhr:s5,fetch:{get:$L}};ye.forEach(G0,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const zT=r=>`- ${r}`,p5=r=>ye.isFunction(r)||r===null||r===!1,KL={getAdapter:(r,e)=>{r=ye.isArray(r)?r:[r];const{length:t}=r;let i,n;const s={};for(let o=0;o<t;o++){i=r[o];let a;if(n=i,!p5(i)&&(n=G0[(a=String(i)).toLowerCase()],n===void 0))throw new Lt(`Unknown adapter '${a}'`);if(n&&(ye.isFunction(n)||(n=n.get(e))))break;s[a||"#"+o]=n}if(!n){const o=Object.entries(s).map(([l,h])=>`adapter ${l} `+(h===!1?"is not supported by the environment":"is not available in the build"));let a=t?o.length>1?`since :
`+o.map(zT).join(`
`):" "+zT(o[0]):"as no adapter specified";throw new Lt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:G0};function $v(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new zc(null,r)}function OT(r){return $v(r),r.headers=Mr.from(r.headers),r.data=Gv.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),KL.getAdapter(r.adapter||Zp.adapter,r)(r).then(function(i){return $v(r),i.data=Gv.call(r,r.transformResponse,i),i.headers=Mr.from(i.headers),i},function(i){return YL(i)||($v(r),i&&i.response&&(i.response.data=Gv.call(r,r.transformResponse,i.response),i.response.headers=Mr.from(i.response.headers))),Promise.reject(i)})}const JL="1.12.2",nv={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{nv[r]=function(i){return typeof i===r||"a"+(e<1?"n ":" ")+r}});const RT={};nv.transitional=function(e,t,i){function n(s,o){return"[Axios v"+JL+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(e===!1)throw new Lt(n(o," has been removed"+(t?" in "+t:"")),Lt.ERR_DEPRECATED);return t&&!RT[o]&&(RT[o]=!0,console.warn(n(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};nv.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function f5(r,e,t){if(typeof r!="object")throw new Lt("options must be an object",Lt.ERR_BAD_OPTION_VALUE);const i=Object.keys(r);let n=i.length;for(;n-- >0;){const s=i[n],o=e[s];if(o){const a=r[s],l=a===void 0||o(a,s,r);if(l!==!0)throw new Lt("option "+s+" must be "+l,Lt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Lt("Unknown option "+s,Lt.ERR_BAD_OPTION)}}const Mg={assertOptions:f5,validators:nv},Bs=Mg.validators;let Ah=class{constructor(e){this.defaults=e||{},this.interceptors={request:new IT,response:new IT}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const s=n.stack?n.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Bh(this.defaults,t);const{transitional:i,paramsSerializer:n,headers:s}=t;i!==void 0&&Mg.assertOptions(i,{silentJSONParsing:Bs.transitional(Bs.boolean),forcedJSONParsing:Bs.transitional(Bs.boolean),clarifyTimeoutError:Bs.transitional(Bs.boolean)},!1),n!=null&&(ye.isFunction(n)?t.paramsSerializer={serialize:n}:Mg.assertOptions(n,{encode:Bs.function,serialize:Bs.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Mg.assertOptions(t,{baseUrl:Bs.spelling("baseURL"),withXsrfToken:Bs.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&ye.merge(s.common,s[t.method]);s&&ye.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),t.headers=Mr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(t)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const h=[];this.interceptors.response.forEach(function(m){h.push(m.fulfilled,m.rejected)});let u,c=0,d;if(!l){const g=[OT.bind(this),void 0];for(g.unshift(...a),g.push(...h),d=g.length,u=Promise.resolve(t);c<d;)u=u.then(g[c++],g[c++]);return u}d=a.length;let f=t;for(;c<d;){const g=a[c++],m=a[c++];try{f=g(f)}catch(y){m.call(this,y);break}}try{u=OT.call(this,f)}catch(g){return Promise.reject(g)}for(c=0,d=h.length;c<d;)u=u.then(h[c++],h[c++]);return u}getUri(e){e=Bh(this.defaults,e);const t=qL(e.baseURL,e.url,e.allowAbsoluteUrls);return VL(t,e.params,e.paramsSerializer)}};ye.forEach(["delete","get","head","options"],function(e){Ah.prototype[e]=function(t,i){return this.request(Bh(i||{},{method:e,url:t,data:(i||{}).data}))}});ye.forEach(["post","put","patch"],function(e){function t(i){return function(s,o,a){return this.request(Bh(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Ah.prototype[e]=t(),Ah.prototype[e+"Form"]=t(!0)});let g5=class ZL{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const i=this;this.promise.then(n=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](n);i._listeners=null}),this.promise.then=n=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(n);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,a){i.reason||(i.reason=new zc(s,o,a),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ZL(function(n){e=n}),cancel:e}}};function m5(r){return function(t){return r.apply(null,t)}}function y5(r){return ye.isObject(r)&&r.isAxiosError===!0}const $0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($0).forEach(([r,e])=>{$0[e]=r});function XL(r){const e=new Ah(r),t=EL(Ah.prototype.request,e);return ye.extend(t,Ah.prototype,e,{allOwnKeys:!0}),ye.extend(t,e,null,{allOwnKeys:!0}),t.create=function(n){return XL(Bh(r,n))},t}const zi=XL(Zp);zi.Axios=Ah;zi.CanceledError=zc;zi.CancelToken=g5;zi.isCancel=YL;zi.VERSION=JL;zi.toFormData=iv;zi.AxiosError=Lt;zi.Cancel=zi.CanceledError;zi.all=function(e){return Promise.all(e)};zi.spread=m5;zi.isAxiosError=y5;zi.mergeConfig=Bh;zi.AxiosHeaders=Mr;zi.formToJSON=r=>_L(ye.isHTMLForm(r)?new FormData(r):r);zi.getAdapter=KL.getAdapter;zi.HttpStatusCode=$0;zi.default=zi;const{Axios:Ase,AxiosError:Ese,CanceledError:kse,isCancel:Lse,CancelToken:zse,VERSION:Ose,all:Rse,Cancel:jse,isAxiosError:Pse,spread:Fse,toFormData:Bse,AxiosHeaders:Use,HttpStatusCode:Hse,formToJSON:Vse,getAdapter:Qse,mergeConfig:_se}=zi,Vr=zi.create({baseURL:"https://backend.streamed.space/api/v1/",headers:{"Content-Type":"application/json"}});Vr.interceptors.request.use(r=>{const e=localStorage.getItem("token");return e&&(r.headers.Authorization=`Bearer ${e}`),r});Vr.interceptors.response.use(r=>r,r=>{var e;return((e=r.response)==null?void 0:e.status)===401&&(console.warn("User not authorized. Redirecting to login."),localStorage.removeItem("token")),Promise.reject(r)});const Fb=r=>{var e;return((e=r.data)==null?void 0:e.data)??r.data};function v5(r){try{if(typeof structuredClone=="function")return structuredClone(r)}catch{}return JSON.parse(JSON.stringify(r))}function M5(r){var t,i;if(zi.isAxiosError(r)){const n=r.response;return{name:r.name||"AxiosError",message:((t=n==null?void 0:n.data)==null?void 0:t.message)||((i=n==null?void 0:n.data)==null?void 0:i.error)||r.message||"Network error",status:(n==null?void 0:n.status)??null,data:v5((n==null?void 0:n.data)??null)}}const e=r;return{name:(e==null?void 0:e.name)??"Error",message:(e==null?void 0:e.message)??"Unknown error",status:null,data:null}}async function Hi(r){try{const e=await Vr.request({url:r.url,method:r.method??"GET",params:r.params,data:r.data,signal:r.signal,...r.config});return(r.extract??Fb)(e)}catch(e){throw M5(e)}}function Yse(r){var e,t,i,n;return zi.isAxiosError(r)?(((t=(e=r.response)==null?void 0:e.data)==null?void 0:t.message)||((n=(i=r.response)==null?void 0:i.data)==null?void 0:n.error)||r.message)??"Network error":(r==null?void 0:r.message)??"Unknown error"}const ez=dL("auth",{state:()=>({user:null,initialized:!1}),getters:{isAuthenticated:r=>!!r.user},actions:{async bootstrap(){if(!localStorage.getItem("token")){this.initialized=!0;return}try{const e=await Vr.get("/profile");this.user=e.data}catch{localStorage.removeItem("token"),this.user=null}finally{this.initialized=!0}},logout(){localStorage.removeItem("token"),this.user=null,localStorage.removeItem("currentName")}}});var Oc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},S5={setTimeout:(r,e)=>setTimeout(r,e),clearTimeout:r=>clearTimeout(r),setInterval:(r,e)=>setInterval(r,e),clearInterval:r=>clearInterval(r)},Wa,_C,vA,C5=(vA=class{constructor(){lt(this,Wa,S5);lt(this,_C,!1)}setTimeoutProvider(r){Ge(this,Wa,r)}setTimeout(r,e){return G(this,Wa).setTimeout(r,e)}clearTimeout(r){G(this,Wa).clearTimeout(r)}setInterval(r,e){return G(this,Wa).setInterval(r,e)}clearInterval(r){G(this,Wa).clearInterval(r)}},Wa=new WeakMap,_C=new WeakMap,vA),rh=new C5;function b5(r){setTimeout(r,0)}var Uh=typeof window>"u"||"Deno"in globalThis;function Zr(){}function I5(r,e){return typeof r=="function"?r(e):r}function K0(r){return typeof r=="number"&&r>=0&&r!==1/0}function tz(r,e){return Math.max(r+(e||0)-Date.now(),0)}function cl(r,e){return typeof r=="function"?r(e):r}function Xr(r,e){return typeof r=="function"?r(e):r}function jT(r,e){const{type:t="all",exact:i,fetchStatus:n,predicate:s,queryKey:o,stale:a}=r;if(o){if(i){if(e.queryHash!==Bb(o,e.options))return!1}else if(!sp(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||n&&n!==e.state.fetchStatus||s&&!s(e))}function PT(r,e){const{exact:t,status:i,predicate:n,mutationKey:s}=r;if(s){if(!e.options.mutationKey)return!1;if(t){if(Hh(e.options.mutationKey)!==Hh(s))return!1}else if(!sp(e.options.mutationKey,s))return!1}return!(i&&e.state.status!==i||n&&!n(e))}function Bb(r,e){return((e==null?void 0:e.queryKeyHashFn)||Hh)(r)}function Hh(r){return JSON.stringify(r,(e,t)=>J0(t)?Object.keys(t).sort().reduce((i,n)=>(i[n]=t[n],i),{}):t)}function sp(r,e){return r===e?!0:typeof r!=typeof e?!1:r&&e&&typeof r=="object"&&typeof e=="object"?Object.keys(e).every(t=>sp(r[t],e[t])):!1}var D5=Object.prototype.hasOwnProperty;function iz(r,e){if(r===e)return r;const t=FT(r)&&FT(e);if(!t&&!(J0(r)&&J0(e)))return e;const n=(t?r:Object.keys(r)).length,s=t?e:Object.keys(e),o=s.length,a=t?new Array(o):{};let l=0;for(let h=0;h<o;h++){const u=t?h:s[h],c=r[u],d=e[u];if(c===d){a[u]=c,(t?h<n:D5.call(r,u))&&l++;continue}if(c===null||d===null||typeof c!="object"||typeof d!="object"){a[u]=d;continue}const f=iz(c,d);a[u]=f,f===c&&l++}return n===o&&l===n?r:a}function lm(r,e){if(!e||Object.keys(r).length!==Object.keys(e).length)return!1;for(const t in r)if(r[t]!==e[t])return!1;return!0}function FT(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function J0(r){if(!BT(r))return!1;const e=r.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!BT(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(r)!==Object.prototype)}function BT(r){return Object.prototype.toString.call(r)==="[object Object]"}function T5(r){return new Promise(e=>{rh.setTimeout(e,r)})}function Z0(r,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(r,e):t.structuralSharing!==!1?iz(r,e):e}function w5(r,e,t=0){const i=[...r,e];return t&&i.length>t?i.slice(1):i}function x5(r,e,t=0){const i=[e,...r];return t&&i.length>t?i.slice(0,-1):i}var Ub=Symbol();function nz(r,e){return!r.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!r.queryFn||r.queryFn===Ub?()=>Promise.reject(new Error(`Missing queryFn: '${r.queryHash}'`)):r.queryFn}function X0(r,e){return typeof r=="function"?r(...e):!!r}var ph,qa,$u,MA,N5=(MA=class extends Oc{constructor(){super();lt(this,ph);lt(this,qa);lt(this,$u);Ge(this,$u,e=>{if(!Uh&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){G(this,qa)||this.setEventListener(G(this,$u))}onUnsubscribe(){var e;this.hasListeners()||((e=G(this,qa))==null||e.call(this),Ge(this,qa,void 0))}setEventListener(e){var t;Ge(this,$u,e),(t=G(this,qa))==null||t.call(this),Ge(this,qa,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){G(this,ph)!==e&&(Ge(this,ph,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof G(this,ph)=="boolean"?G(this,ph):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ph=new WeakMap,qa=new WeakMap,$u=new WeakMap,MA),Hb=new N5;function eS(){let r,e;const t=new Promise((n,s)=>{r=n,e=s});t.status="pending",t.catch(()=>{});function i(n){Object.assign(t,n),delete t.resolve,delete t.reject}return t.resolve=n=>{i({status:"fulfilled",value:n}),r(n)},t.reject=n=>{i({status:"rejected",reason:n}),e(n)},t}var A5=b5;function E5(){let r=[],e=0,t=a=>{a()},i=a=>{a()},n=A5;const s=a=>{e?r.push(a):n(()=>{t(a)})},o=()=>{const a=r;r=[],a.length&&n(()=>{i(()=>{a.forEach(l=>{t(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{i=a},setScheduler:a=>{n=a}}}var xn=E5(),Ku,Ga,Ju,SA,k5=(SA=class extends Oc{constructor(){super();lt(this,Ku,!0);lt(this,Ga);lt(this,Ju);Ge(this,Ju,e=>{if(!Uh&&window.addEventListener){const t=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",i)}}})}onSubscribe(){G(this,Ga)||this.setEventListener(G(this,Ju))}onUnsubscribe(){var e;this.hasListeners()||((e=G(this,Ga))==null||e.call(this),Ge(this,Ga,void 0))}setEventListener(e){var t;Ge(this,Ju,e),(t=G(this,Ga))==null||t.call(this),Ge(this,Ga,e(this.setOnline.bind(this)))}setOnline(e){G(this,Ku)!==e&&(Ge(this,Ku,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return G(this,Ku)}},Ku=new WeakMap,Ga=new WeakMap,Ju=new WeakMap,SA),hm=new k5;function L5(r){return Math.min(1e3*2**r,3e4)}function rz(r){return(r??"online")==="online"?hm.isOnline():!0}var tS=class extends Error{constructor(r){super("CancelledError"),this.revert=r==null?void 0:r.revert,this.silent=r==null?void 0:r.silent}};function sz(r){let e=!1,t=0,i;const n=eS(),s=()=>n.status!=="pending",o=m=>{var y;if(!s()){const v=new tS(m);d(v),(y=r.onCancel)==null||y.call(r,v)}},a=()=>{e=!0},l=()=>{e=!1},h=()=>Hb.isFocused()&&(r.networkMode==="always"||hm.isOnline())&&r.canRun(),u=()=>rz(r.networkMode)&&r.canRun(),c=m=>{s()||(i==null||i(),n.resolve(m))},d=m=>{s()||(i==null||i(),n.reject(m))},f=()=>new Promise(m=>{var y;i=v=>{(s()||h())&&m(v)},(y=r.onPause)==null||y.call(r)}).then(()=>{var m;i=void 0,s()||(m=r.onContinue)==null||m.call(r)}),g=()=>{if(s())return;let m;const y=t===0?r.initialPromise:void 0;try{m=y??r.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(c).catch(v=>{var T;if(s())return;const M=r.retry??(Uh?0:3),S=r.retryDelay??L5,b=typeof S=="function"?S(t,v):S,C=M===!0||typeof M=="number"&&t<M||typeof M=="function"&&M(t,v);if(e||!C){d(v);return}t++,(T=r.onFail)==null||T.call(r,t,v),T5(b).then(()=>h()?void 0:f()).then(()=>{e?d(v):g()})})};return{promise:n,status:()=>n.status,cancel:o,continue:()=>(i==null||i(),n),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?g():f().then(g),n)}}var fh,CA,oz=(CA=class{constructor(){lt(this,fh)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),K0(this.gcTime)&&Ge(this,fh,rh.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(r){this.gcTime=Math.max(this.gcTime||0,r??(Uh?1/0:5*60*1e3))}clearGcTimeout(){G(this,fh)&&(rh.clearTimeout(G(this,fh)),Ge(this,fh,void 0))}},fh=new WeakMap,CA),gh,Zu,Jr,mh,pn,Ep,yh,Cs,jo,bA,z5=(bA=class extends oz{constructor(t){super();lt(this,Cs);lt(this,gh);lt(this,Zu);lt(this,Jr);lt(this,mh);lt(this,pn);lt(this,Ep);lt(this,yh);Ge(this,yh,!1),Ge(this,Ep,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ge(this,mh,t.client),Ge(this,Jr,G(this,mh).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ge(this,gh,UT(this.options)),this.state=t.state??G(this,gh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=G(this,pn))==null?void 0:t.promise}setOptions(t){if(this.options={...G(this,Ep),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const i=UT(this.options);i.data!==void 0&&(this.setData(i.data,{updatedAt:i.dataUpdatedAt,manual:!0}),Ge(this,gh,i))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&G(this,Jr).remove(this)}setData(t,i){const n=Z0(this.state.data,t,this.options);return Rt(this,Cs,jo).call(this,{data:n,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt,manual:i==null?void 0:i.manual}),n}setState(t,i){Rt(this,Cs,jo).call(this,{type:"setState",state:t,setStateOptions:i})}cancel(t){var n,s;const i=(n=G(this,pn))==null?void 0:n.promise;return(s=G(this,pn))==null||s.cancel(t),i?i.then(Zr).catch(Zr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(G(this,gh))}isActive(){return this.observers.some(t=>Xr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ub||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>cl(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!tz(this.state.dataUpdatedAt,t)}onFocus(){var i;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(i=G(this,pn))==null||i.continue()}onOnline(){var i;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(i=G(this,pn))==null||i.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),G(this,Jr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(i=>i!==t),this.observers.length||(G(this,pn)&&(G(this,yh)?G(this,pn).cancel({revert:!0}):G(this,pn).cancelRetry()),this.scheduleGc()),G(this,Jr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Rt(this,Cs,jo).call(this,{type:"invalidate"})}async fetch(t,i){var h,u,c,d,f,g,m,y,v,M,S,b;if(this.state.fetchStatus!=="idle"&&((h=G(this,pn))==null?void 0:h.status())!=="rejected"){if(this.state.data!==void 0&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(G(this,pn))return G(this,pn).continueRetry(),G(this,pn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const C=this.observers.find(T=>T.options.queryFn);C&&this.setOptions(C.options)}const n=new AbortController,s=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(Ge(this,yh,!0),n.signal)})},o=()=>{const C=nz(this.options,i),k=(()=>{const N={client:G(this,mh),queryKey:this.queryKey,meta:this.meta};return s(N),N})();return Ge(this,yh,!1),this.options.persister?this.options.persister(C,k,this):C(k)},l=(()=>{const C={fetchOptions:i,options:this.options,queryKey:this.queryKey,client:G(this,mh),state:this.state,fetchFn:o};return s(C),C})();(u=this.options.behavior)==null||u.onFetch(l,this),Ge(this,Zu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=l.fetchOptions)==null?void 0:c.meta))&&Rt(this,Cs,jo).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta}),Ge(this,pn,sz({initialPromise:i==null?void 0:i.initialPromise,fn:l.fetchFn,onCancel:C=>{C instanceof tS&&C.revert&&this.setState({...G(this,Zu),fetchStatus:"idle"}),n.abort()},onFail:(C,T)=>{Rt(this,Cs,jo).call(this,{type:"failed",failureCount:C,error:T})},onPause:()=>{Rt(this,Cs,jo).call(this,{type:"pause"})},onContinue:()=>{Rt(this,Cs,jo).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const C=await G(this,pn).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(g=(f=G(this,Jr).config).onSuccess)==null||g.call(f,C,this),(y=(m=G(this,Jr).config).onSettled)==null||y.call(m,C,this.state.error,this),C}catch(C){if(C instanceof tS){if(C.silent)return G(this,pn).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw Rt(this,Cs,jo).call(this,{type:"error",error:C}),(M=(v=G(this,Jr).config).onError)==null||M.call(v,C,this),(b=(S=G(this,Jr).config).onSettled)==null||b.call(S,this.state.data,C,this),C}finally{this.scheduleGc()}}},gh=new WeakMap,Zu=new WeakMap,Jr=new WeakMap,mh=new WeakMap,pn=new WeakMap,Ep=new WeakMap,yh=new WeakMap,Cs=new WeakSet,jo=function(t){const i=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...az(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ge(this,Zu,t.manual?s:void 0),s;case"error":const o=t.error;return{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=i(this.state),xn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),G(this,Jr).notify({query:this,type:"updated",action:t})})},bA);function az(r,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:rz(e.networkMode)?"fetching":"paused",...r===void 0&&{error:null,status:"pending"}}}function UT(r){const e=typeof r.initialData=="function"?r.initialData():r.initialData,t=e!==void 0,i=t?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var cr,Wt,kp,Kn,vh,Xu,Qo,$a,Lp,ec,tc,Mh,Sh,Ka,ic,si,md,iS,nS,rS,sS,oS,aS,lS,lz,IA,O5=(IA=class extends Oc{constructor(e,t){super();lt(this,si);lt(this,cr);lt(this,Wt);lt(this,kp);lt(this,Kn);lt(this,vh);lt(this,Xu);lt(this,Qo);lt(this,$a);lt(this,Lp);lt(this,ec);lt(this,tc);lt(this,Mh);lt(this,Sh);lt(this,Ka);lt(this,ic,new Set);this.options=t,Ge(this,cr,e),Ge(this,$a,null),Ge(this,Qo,eS()),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(G(this,Wt).addObserver(this),HT(G(this,Wt),this.options)?Rt(this,si,md).call(this):this.updateResult(),Rt(this,si,sS).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return hS(G(this,Wt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return hS(G(this,Wt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Rt(this,si,oS).call(this),Rt(this,si,aS).call(this),G(this,Wt).removeObserver(this)}setOptions(e){const t=this.options,i=G(this,Wt);if(this.options=G(this,cr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xr(this.options.enabled,G(this,Wt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Rt(this,si,lS).call(this),G(this,Wt).setOptions(this.options),t._defaulted&&!lm(this.options,t)&&G(this,cr).getQueryCache().notify({type:"observerOptionsUpdated",query:G(this,Wt),observer:this});const n=this.hasListeners();n&&VT(G(this,Wt),i,this.options,t)&&Rt(this,si,md).call(this),this.updateResult(),n&&(G(this,Wt)!==i||Xr(this.options.enabled,G(this,Wt))!==Xr(t.enabled,G(this,Wt))||cl(this.options.staleTime,G(this,Wt))!==cl(t.staleTime,G(this,Wt)))&&Rt(this,si,iS).call(this);const s=Rt(this,si,nS).call(this);n&&(G(this,Wt)!==i||Xr(this.options.enabled,G(this,Wt))!==Xr(t.enabled,G(this,Wt))||s!==G(this,Ka))&&Rt(this,si,rS).call(this,s)}getOptimisticResult(e){const t=G(this,cr).getQueryCache().build(G(this,cr),e),i=this.createResult(t,e);return j5(this,i)&&(Ge(this,Kn,i),Ge(this,Xu,this.options),Ge(this,vh,G(this,Wt).state)),i}getCurrentResult(){return G(this,Kn)}trackResult(e,t){return new Proxy(e,{get:(i,n)=>(this.trackProp(n),t==null||t(n),n==="promise"&&!this.options.experimental_prefetchInRender&&G(this,Qo).status==="pending"&&G(this,Qo).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(i,n))})}trackProp(e){G(this,ic).add(e)}getCurrentQuery(){return G(this,Wt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=G(this,cr).defaultQueryOptions(e),i=G(this,cr).getQueryCache().build(G(this,cr),t);return i.fetch().then(()=>this.createResult(i,t))}fetch(e){return Rt(this,si,md).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),G(this,Kn)))}createResult(e,t){var A;const i=G(this,Wt),n=this.options,s=G(this,Kn),o=G(this,vh),a=G(this,Xu),h=e!==i?e.state:G(this,kp),{state:u}=e;let c={...u},d=!1,f;if(t._optimisticResults){const E=this.hasListeners(),x=!E&&HT(e,t),D=E&&VT(e,i,t,n);(x||D)&&(c={...c,...az(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:g,errorUpdatedAt:m,status:y}=c;f=c.data;let v=!1;if(t.placeholderData!==void 0&&f===void 0&&y==="pending"){let E;s!=null&&s.isPlaceholderData&&t.placeholderData===(a==null?void 0:a.placeholderData)?(E=s.data,v=!0):E=typeof t.placeholderData=="function"?t.placeholderData((A=G(this,tc))==null?void 0:A.state.data,G(this,tc)):t.placeholderData,E!==void 0&&(y="success",f=Z0(s==null?void 0:s.data,E,t),d=!0)}if(t.select&&f!==void 0&&!v)if(s&&f===(o==null?void 0:o.data)&&t.select===G(this,Lp))f=G(this,ec);else try{Ge(this,Lp,t.select),f=t.select(f),f=Z0(s==null?void 0:s.data,f,t),Ge(this,ec,f),Ge(this,$a,null)}catch(E){Ge(this,$a,E)}G(this,$a)&&(g=G(this,$a),f=G(this,ec),m=Date.now(),y="error");const M=c.fetchStatus==="fetching",S=y==="pending",b=y==="error",C=S&&M,T=f!==void 0,N={status:y,fetchStatus:c.fetchStatus,isPending:S,isSuccess:y==="success",isError:b,isInitialLoading:C,isLoading:C,data:f,dataUpdatedAt:c.dataUpdatedAt,error:g,errorUpdatedAt:m,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>h.dataUpdateCount||c.errorUpdateCount>h.errorUpdateCount,isFetching:M,isRefetching:M&&!S,isLoadingError:b&&!T,isPaused:c.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:b&&T,isStale:Vb(e,t),refetch:this.refetch,promise:G(this,Qo),isEnabled:Xr(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const E=z=>{N.status==="error"?z.reject(N.error):N.data!==void 0&&z.resolve(N.data)},x=()=>{const z=Ge(this,Qo,N.promise=eS());E(z)},D=G(this,Qo);switch(D.status){case"pending":e.queryHash===i.queryHash&&E(D);break;case"fulfilled":(N.status==="error"||N.data!==D.value)&&x();break;case"rejected":(N.status!=="error"||N.error!==D.reason)&&x();break}}return N}updateResult(){const e=G(this,Kn),t=this.createResult(G(this,Wt),this.options);if(Ge(this,vh,G(this,Wt).state),Ge(this,Xu,this.options),G(this,vh).data!==void 0&&Ge(this,tc,G(this,Wt)),lm(t,e))return;Ge(this,Kn,t);const i=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,s=typeof n=="function"?n():n;if(s==="all"||!s&&!G(this,ic).size)return!0;const o=new Set(s??G(this,ic));return this.options.throwOnError&&o.add("error"),Object.keys(G(this,Kn)).some(a=>{const l=a;return G(this,Kn)[l]!==e[l]&&o.has(l)})};Rt(this,si,lz).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Rt(this,si,sS).call(this)}},cr=new WeakMap,Wt=new WeakMap,kp=new WeakMap,Kn=new WeakMap,vh=new WeakMap,Xu=new WeakMap,Qo=new WeakMap,$a=new WeakMap,Lp=new WeakMap,ec=new WeakMap,tc=new WeakMap,Mh=new WeakMap,Sh=new WeakMap,Ka=new WeakMap,ic=new WeakMap,si=new WeakSet,md=function(e){Rt(this,si,lS).call(this);let t=G(this,Wt).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Zr)),t},iS=function(){Rt(this,si,oS).call(this);const e=cl(this.options.staleTime,G(this,Wt));if(Uh||G(this,Kn).isStale||!K0(e))return;const i=tz(G(this,Kn).dataUpdatedAt,e)+1;Ge(this,Mh,rh.setTimeout(()=>{G(this,Kn).isStale||this.updateResult()},i))},nS=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(G(this,Wt)):this.options.refetchInterval)??!1},rS=function(e){Rt(this,si,aS).call(this),Ge(this,Ka,e),!(Uh||Xr(this.options.enabled,G(this,Wt))===!1||!K0(G(this,Ka))||G(this,Ka)===0)&&Ge(this,Sh,rh.setInterval(()=>{(this.options.refetchIntervalInBackground||Hb.isFocused())&&Rt(this,si,md).call(this)},G(this,Ka)))},sS=function(){Rt(this,si,iS).call(this),Rt(this,si,rS).call(this,Rt(this,si,nS).call(this))},oS=function(){G(this,Mh)&&(rh.clearTimeout(G(this,Mh)),Ge(this,Mh,void 0))},aS=function(){G(this,Sh)&&(rh.clearInterval(G(this,Sh)),Ge(this,Sh,void 0))},lS=function(){const e=G(this,cr).getQueryCache().build(G(this,cr),this.options);if(e===G(this,Wt))return;const t=G(this,Wt);Ge(this,Wt,e),Ge(this,kp,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},lz=function(e){xn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(G(this,Kn))}),G(this,cr).getQueryCache().notify({query:G(this,Wt),type:"observerResultsUpdated"})})},IA);function R5(r,e){return Xr(e.enabled,r)!==!1&&r.state.data===void 0&&!(r.state.status==="error"&&e.retryOnMount===!1)}function HT(r,e){return R5(r,e)||r.state.data!==void 0&&hS(r,e,e.refetchOnMount)}function hS(r,e,t){if(Xr(e.enabled,r)!==!1&&cl(e.staleTime,r)!=="static"){const i=typeof t=="function"?t(r):t;return i==="always"||i!==!1&&Vb(r,e)}return!1}function VT(r,e,t,i){return(r!==e||Xr(i.enabled,r)===!1)&&(!t.suspense||r.state.status!=="error")&&Vb(r,t)}function Vb(r,e){return Xr(e.enabled,r)!==!1&&r.isStaleByTime(cl(e.staleTime,r))}function j5(r,e){return!lm(r.getCurrentResult(),e)}function QT(r){return{onFetch:(e,t)=>{var u,c,d,f,g;const i=e.options,n=(d=(c=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:c.fetchMore)==null?void 0:d.direction,s=((f=e.state.data)==null?void 0:f.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const h=async()=>{let m=!1;const y=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},v=nz(e.options,e.fetchOptions),M=async(S,b,C)=>{if(m)return Promise.reject();if(b==null&&S.pages.length)return Promise.resolve(S);const k=(()=>{const x={client:e.client,queryKey:e.queryKey,pageParam:b,direction:C?"backward":"forward",meta:e.options.meta};return y(x),x})(),N=await v(k),{maxPages:A}=e.options,E=C?x5:w5;return{pages:E(S.pages,N,A),pageParams:E(S.pageParams,b,A)}};if(n&&s.length){const S=n==="backward",b=S?P5:_T,C={pages:s,pageParams:o},T=b(i,C);a=await M(C,T,S)}else{const S=r??s.length;do{const b=l===0?o[0]??i.initialPageParam:_T(i,a);if(l>0&&b==null)break;a=await M(a,b),l++}while(l<S)}return a};e.options.persister?e.fetchFn=()=>{var m,y;return(y=(m=e.options).persister)==null?void 0:y.call(m,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=h}}}function _T(r,{pages:e,pageParams:t}){const i=e.length-1;return e.length>0?r.getNextPageParam(e[i],e,t[i],t):void 0}function P5(r,{pages:e,pageParams:t}){var i;return e.length>0?(i=r.getPreviousPageParam)==null?void 0:i.call(r,e[0],e,t[0],t):void 0}var zp,Js,Jn,Ch,Zs,Ea,DA,F5=(DA=class extends oz{constructor(e){super();lt(this,Zs);lt(this,zp);lt(this,Js);lt(this,Jn);lt(this,Ch);Ge(this,zp,e.client),this.mutationId=e.mutationId,Ge(this,Jn,e.mutationCache),Ge(this,Js,[]),this.state=e.state||hz(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){G(this,Js).includes(e)||(G(this,Js).push(e),this.clearGcTimeout(),G(this,Jn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ge(this,Js,G(this,Js).filter(t=>t!==e)),this.scheduleGc(),G(this,Jn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){G(this,Js).length||(this.state.status==="pending"?this.scheduleGc():G(this,Jn).remove(this))}continue(){var e;return((e=G(this,Ch))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,l,h,u,c,d,f,g,m,y,v,M,S,b,C,T,k,N,A;const t=()=>{Rt(this,Zs,Ea).call(this,{type:"continue"})},i={client:G(this,zp),meta:this.options.meta,mutationKey:this.options.mutationKey};Ge(this,Ch,sz({fn:()=>this.options.mutationFn?this.options.mutationFn(e,i):Promise.reject(new Error("No mutationFn found")),onFail:(E,x)=>{Rt(this,Zs,Ea).call(this,{type:"failed",failureCount:E,error:x})},onPause:()=>{Rt(this,Zs,Ea).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>G(this,Jn).canRun(this)}));const n=this.state.status==="pending",s=!G(this,Ch).canStart();try{if(n)t();else{Rt(this,Zs,Ea).call(this,{type:"pending",variables:e,isPaused:s}),await((a=(o=G(this,Jn).config).onMutate)==null?void 0:a.call(o,e,this,i));const x=await((h=(l=this.options).onMutate)==null?void 0:h.call(l,e,i));x!==this.state.context&&Rt(this,Zs,Ea).call(this,{type:"pending",context:x,variables:e,isPaused:s})}const E=await G(this,Ch).start();return await((c=(u=G(this,Jn).config).onSuccess)==null?void 0:c.call(u,E,e,this.state.context,this,i)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,E,e,this.state.context,i)),await((m=(g=G(this,Jn).config).onSettled)==null?void 0:m.call(g,E,null,this.state.variables,this.state.context,this,i)),await((v=(y=this.options).onSettled)==null?void 0:v.call(y,E,null,e,this.state.context,i)),Rt(this,Zs,Ea).call(this,{type:"success",data:E}),E}catch(E){try{throw await((S=(M=G(this,Jn).config).onError)==null?void 0:S.call(M,E,e,this.state.context,this,i)),await((C=(b=this.options).onError)==null?void 0:C.call(b,E,e,this.state.context,i)),await((k=(T=G(this,Jn).config).onSettled)==null?void 0:k.call(T,void 0,E,this.state.variables,this.state.context,this,i)),await((A=(N=this.options).onSettled)==null?void 0:A.call(N,void 0,E,e,this.state.context,i)),E}finally{Rt(this,Zs,Ea).call(this,{type:"error",error:E})}}finally{G(this,Jn).runNext(this)}}},zp=new WeakMap,Js=new WeakMap,Jn=new WeakMap,Ch=new WeakMap,Zs=new WeakSet,Ea=function(e){const t=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),xn.batch(()=>{G(this,Js).forEach(i=>{i.onMutationUpdate(e)}),G(this,Jn).notify({mutation:this,type:"updated",action:e})})},DA);function hz(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _o,bs,Op,TA,uz=(TA=class extends Oc{constructor(t={}){super();lt(this,_o);lt(this,bs);lt(this,Op);this.config=t,Ge(this,_o,new Set),Ge(this,bs,new Map),Ge(this,Op,0)}build(t,i,n){const s=new F5({client:t,mutationCache:this,mutationId:++ff(this,Op)._,options:t.defaultMutationOptions(i),state:n});return this.add(s),s}add(t){G(this,_o).add(t);const i=xf(t);if(typeof i=="string"){const n=G(this,bs).get(i);n?n.push(t):G(this,bs).set(i,[t])}this.notify({type:"added",mutation:t})}remove(t){if(G(this,_o).delete(t)){const i=xf(t);if(typeof i=="string"){const n=G(this,bs).get(i);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&G(this,bs).delete(i)}}this.notify({type:"removed",mutation:t})}canRun(t){const i=xf(t);if(typeof i=="string"){const n=G(this,bs).get(i),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const i=xf(t);if(typeof i=="string"){const s=(n=G(this,bs).get(i))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){xn.batch(()=>{G(this,_o).forEach(t=>{this.notify({type:"removed",mutation:t})}),G(this,_o).clear(),G(this,bs).clear()})}getAll(){return Array.from(G(this,_o))}find(t){const i={exact:!0,...t};return this.getAll().find(n=>PT(i,n))}findAll(t={}){return this.getAll().filter(i=>PT(t,i))}notify(t){xn.batch(()=>{this.listeners.forEach(i=>{i(t)})})}resumePausedMutations(){const t=this.getAll().filter(i=>i.state.isPaused);return xn.batch(()=>Promise.all(t.map(i=>i.continue().catch(Zr))))}},_o=new WeakMap,bs=new WeakMap,Op=new WeakMap,TA);function xf(r){var e;return(e=r.options.scope)==null?void 0:e.id}var Yo,Ja,dr,Wo,la,Sg,uS,wA,B5=(wA=class extends Oc{constructor(t,i){super();lt(this,la);lt(this,Yo);lt(this,Ja);lt(this,dr);lt(this,Wo);Ge(this,Yo,t),this.setOptions(i),this.bindMethods(),Rt(this,la,Sg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var n;const i=this.options;this.options=G(this,Yo).defaultMutationOptions(t),lm(this.options,i)||G(this,Yo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:G(this,dr),observer:this}),i!=null&&i.mutationKey&&this.options.mutationKey&&Hh(i.mutationKey)!==Hh(this.options.mutationKey)?this.reset():((n=G(this,dr))==null?void 0:n.state.status)==="pending"&&G(this,dr).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=G(this,dr))==null||t.removeObserver(this)}onMutationUpdate(t){Rt(this,la,Sg).call(this),Rt(this,la,uS).call(this,t)}getCurrentResult(){return G(this,Ja)}reset(){var t;(t=G(this,dr))==null||t.removeObserver(this),Ge(this,dr,void 0),Rt(this,la,Sg).call(this),Rt(this,la,uS).call(this)}mutate(t,i){var n;return Ge(this,Wo,i),(n=G(this,dr))==null||n.removeObserver(this),Ge(this,dr,G(this,Yo).getMutationCache().build(G(this,Yo),this.options)),G(this,dr).addObserver(this),G(this,dr).execute(t)}},Yo=new WeakMap,Ja=new WeakMap,dr=new WeakMap,Wo=new WeakMap,la=new WeakSet,Sg=function(){var i;const t=((i=G(this,dr))==null?void 0:i.state)??hz();Ge(this,Ja,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},uS=function(t){xn.batch(()=>{var i,n,s,o,a,l,h,u;if(G(this,Wo)&&this.hasListeners()){const c=G(this,Ja).variables,d=G(this,Ja).context,f={client:G(this,Yo),meta:this.options.meta,mutationKey:this.options.mutationKey};(t==null?void 0:t.type)==="success"?((n=(i=G(this,Wo)).onSuccess)==null||n.call(i,t.data,c,d,f),(o=(s=G(this,Wo)).onSettled)==null||o.call(s,t.data,null,c,d,f)):(t==null?void 0:t.type)==="error"&&((l=(a=G(this,Wo)).onError)==null||l.call(a,t.error,c,d,f),(u=(h=G(this,Wo)).onSettled)==null||u.call(h,void 0,t.error,c,d,f))}this.listeners.forEach(c=>{c(G(this,Ja))})})},wA),Xs,xA,cz=(xA=class extends Oc{constructor(t={}){super();lt(this,Xs);this.config=t,Ge(this,Xs,new Map)}build(t,i,n){const s=i.queryKey,o=i.queryHash??Bb(s,i);let a=this.get(o);return a||(a=new z5({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(i),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){G(this,Xs).has(t.queryHash)||(G(this,Xs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const i=G(this,Xs).get(t.queryHash);i&&(t.destroy(),i===t&&G(this,Xs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){xn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return G(this,Xs).get(t)}getAll(){return[...G(this,Xs).values()]}find(t){const i={exact:!0,...t};return this.getAll().find(n=>jT(i,n))}findAll(t={}){const i=this.getAll();return Object.keys(t).length>0?i.filter(n=>jT(t,n)):i}notify(t){xn.batch(()=>{this.listeners.forEach(i=>{i(t)})})}onFocus(){xn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){xn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Xs=new WeakMap,xA),Fi,Za,Xa,nc,rc,el,sc,oc,NA,U5=(NA=class{constructor(e={}){lt(this,Fi);lt(this,Za);lt(this,Xa);lt(this,nc);lt(this,rc);lt(this,el);lt(this,sc);lt(this,oc);Ge(this,Fi,e.queryCache||new cz),Ge(this,Za,e.mutationCache||new uz),Ge(this,Xa,e.defaultOptions||{}),Ge(this,nc,new Map),Ge(this,rc,new Map),Ge(this,el,0)}mount(){ff(this,el)._++,G(this,el)===1&&(Ge(this,sc,Hb.subscribe(async e=>{e&&(await this.resumePausedMutations(),G(this,Fi).onFocus())})),Ge(this,oc,hm.subscribe(async e=>{e&&(await this.resumePausedMutations(),G(this,Fi).onOnline())})))}unmount(){var e,t;ff(this,el)._--,G(this,el)===0&&((e=G(this,sc))==null||e.call(this),Ge(this,sc,void 0),(t=G(this,oc))==null||t.call(this),Ge(this,oc,void 0))}isFetching(e){return G(this,Fi).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return G(this,Za).findAll({...e,status:"pending"}).length}getQueryData(e){var i;const t=this.defaultQueryOptions({queryKey:e});return(i=G(this,Fi).get(t.queryHash))==null?void 0:i.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),i=G(this,Fi).build(this,t),n=i.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&i.isStaleByTime(cl(t.staleTime,i))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return G(this,Fi).findAll(e).map(({queryKey:t,state:i})=>{const n=i.data;return[t,n]})}setQueryData(e,t,i){const n=this.defaultQueryOptions({queryKey:e}),s=G(this,Fi).get(n.queryHash),o=s==null?void 0:s.state.data,a=I5(t,o);if(a!==void 0)return G(this,Fi).build(this,n).setData(a,{...i,manual:!0})}setQueriesData(e,t,i){return xn.batch(()=>G(this,Fi).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,i)]))}getQueryState(e){var i;const t=this.defaultQueryOptions({queryKey:e});return(i=G(this,Fi).get(t.queryHash))==null?void 0:i.state}removeQueries(e){const t=G(this,Fi);xn.batch(()=>{t.findAll(e).forEach(i=>{t.remove(i)})})}resetQueries(e,t){const i=G(this,Fi);return xn.batch(()=>(i.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const i={revert:!0,...t},n=xn.batch(()=>G(this,Fi).findAll(e).map(s=>s.cancel(i)));return Promise.all(n).then(Zr).catch(Zr)}invalidateQueries(e,t={}){return xn.batch(()=>(G(this,Fi).findAll(e).forEach(i=>{i.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const i={...t,cancelRefetch:t.cancelRefetch??!0},n=xn.batch(()=>G(this,Fi).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,i);return i.throwOnError||(o=o.catch(Zr)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Zr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const i=G(this,Fi).build(this,t);return i.isStaleByTime(cl(t.staleTime,i))?i.fetch(t):Promise.resolve(i.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Zr).catch(Zr)}fetchInfiniteQuery(e){return e.behavior=QT(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Zr).catch(Zr)}ensureInfiniteQueryData(e){return e.behavior=QT(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return hm.isOnline()?G(this,Za).resumePausedMutations():Promise.resolve()}getQueryCache(){return G(this,Fi)}getMutationCache(){return G(this,Za)}getDefaultOptions(){return G(this,Xa)}setDefaultOptions(e){Ge(this,Xa,e)}setQueryDefaults(e,t){G(this,nc).set(Hh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...G(this,nc).values()],i={};return t.forEach(n=>{sp(e,n.queryKey)&&Object.assign(i,n.defaultOptions)}),i}setMutationDefaults(e,t){G(this,rc).set(Hh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...G(this,rc).values()],i={};return t.forEach(n=>{sp(e,n.mutationKey)&&Object.assign(i,n.defaultOptions)}),i}defaultQueryOptions(e){if(e._defaulted)return e;const t={...G(this,Xa).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Bb(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ub&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...G(this,Xa).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){G(this,Fi).clear(),G(this,Za).clear()}},Fi=new WeakMap,Za=new WeakMap,Xa=new WeakMap,nc=new WeakMap,rc=new WeakMap,el=new WeakMap,sc=new WeakMap,oc=new WeakMap,NA),H5="VUE_QUERY_CLIENT";function dz(r){const e=r?`:${r}`:"";return`${H5}${e}`}function cS(r,e){Object.keys(r).forEach(t=>{r[t]=e[t]})}function dS(r,e,t="",i=0){if(e){const n=e(r,t,i);if(n===void 0&&bi(r)||n!==void 0)return n}if(Array.isArray(r))return r.map((n,s)=>dS(n,e,String(s),i+1));if(typeof r=="object"&&Q5(r)){const n=Object.entries(r).map(([s,o])=>[s,dS(o,e,s,i+1)]);return Object.fromEntries(n)}return r}function V5(r,e){return dS(r,e)}function Pt(r,e=!1){return V5(r,(t,i,n)=>{if(n===1&&i==="queryKey")return Pt(t,!0);if(e&&_5(t))return Pt(t(),e);if(bi(t))return Pt(be(t),e)})}function Q5(r){if(Object.prototype.toString.call(r)!=="[object Object]")return!1;const e=Object.getPrototypeOf(r);return e===null||e===Object.prototype}function _5(r){return typeof r=="function"}function rv(r=""){if(!Qy())throw new Error("vue-query hooks can only be used inside setup() function or functions that support injection context.");const e=dz(r),t=nr(e);if(!t)throw new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library.");return t}var Y5=class extends cz{find(r){return super.find(Pt(r))}findAll(r={}){return super.findAll(Pt(r))}},W5=class extends uz{find(r){return super.find(Pt(r))}findAll(r={}){return super.findAll(Pt(r))}},pz=class extends U5{constructor(r={}){const e={defaultOptions:r.defaultOptions,queryCache:r.queryCache||new Y5,mutationCache:r.mutationCache||new W5};super(e),this.isRestoring=Pe(!1)}isFetching(r={}){return super.isFetching(Pt(r))}isMutating(r={}){return super.isMutating(Pt(r))}getQueryData(r){return super.getQueryData(Pt(r))}ensureQueryData(r){return super.ensureQueryData(Pt(r))}getQueriesData(r){return super.getQueriesData(Pt(r))}setQueryData(r,e,t={}){return super.setQueryData(Pt(r),e,Pt(t))}setQueriesData(r,e,t={}){return super.setQueriesData(Pt(r),e,Pt(t))}getQueryState(r){return super.getQueryState(Pt(r))}removeQueries(r={}){return super.removeQueries(Pt(r))}resetQueries(r={},e={}){return super.resetQueries(Pt(r),Pt(e))}cancelQueries(r={},e={}){return super.cancelQueries(Pt(r),Pt(e))}invalidateQueries(r={},e={}){const t=Pt(r),i=Pt(e);if(super.invalidateQueries({...t,refetchType:"none"},i),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return en().then(()=>super.refetchQueries(n,i))}refetchQueries(r={},e={}){return super.refetchQueries(Pt(r),Pt(e))}fetchQuery(r){return super.fetchQuery(Pt(r))}prefetchQuery(r){return super.prefetchQuery(Pt(r))}fetchInfiniteQuery(r){return super.fetchInfiniteQuery(Pt(r))}prefetchInfiniteQuery(r){return super.prefetchInfiniteQuery(Pt(r))}setDefaultOptions(r){super.setDefaultOptions(Pt(r))}setQueryDefaults(r,e){super.setQueryDefaults(Pt(r),Pt(e))}getQueryDefaults(r){return super.getQueryDefaults(Pt(r))}setMutationDefaults(r,e){super.setMutationDefaults(Pt(r),Pt(e))}getMutationDefaults(r){return super.getMutationDefaults(Pt(r))}},q5={install:(r,e={})=>{const t=dz(e.queryClientKey);let i;if("queryClient"in e&&e.queryClient)i=e.queryClient;else{const o="queryClientConfig"in e?e.queryClientConfig:void 0;i=new pz(o)}Uh||i.mount();let n=()=>{};if(e.clientPersister){i.isRestoring&&(i.isRestoring.value=!0);const[o,a]=e.clientPersister(i);n=o,a.then(()=>{var l;i.isRestoring&&(i.isRestoring.value=!1),(l=e.clientPersisterOnSuccess)==null||l.call(e,i)})}const s=()=>{i.unmount(),n()};if(r.onUnmount)r.onUnmount(s);else{const o=r.unmount;r.unmount=function(){s(),o()}}r.provide(t,i)}};function G5(r,e,t){const i=rv(),n=Ce(()=>{var m;const f=Pt(e);typeof f.enabled=="function"&&(f.enabled=f.enabled());const g=i.defaultQueryOptions(f);return g._optimisticResults=(m=i.isRestoring)!=null&&m.value?"isRestoring":"optimistic",g}),s=new r(i,n.value),o=n.value.shallow?Nc(s.getCurrentResult()):fs(s.getCurrentResult());let a=()=>{};i.isRestoring&&Qt(i.isRestoring,f=>{f||(a(),a=s.subscribe(g=>{cS(o,g)}))},{immediate:!0});const l=()=>{s.setOptions(n.value),cS(o,s.getCurrentResult())};Qt(n,l),Fp(()=>{a()});const h=(...f)=>(l(),o.refetch(...f)),u=()=>new Promise((f,g)=>{let m=()=>{};const y=()=>{if(n.value.enabled!==!1){s.setOptions(n.value);const v=s.getOptimisticResult(n.value);v.isStale?(m(),s.fetchOptimistic(n.value).then(f,M=>{X0(n.value.throwOnError,[M,s.getCurrentQuery()])?g(M):f(s.getCurrentResult())})):(m(),f(v))}};y(),m=Qt(n,y)});Qt(()=>o.error,f=>{if(o.isError&&!o.isFetching&&X0(n.value.throwOnError,[f,s.getCurrentQuery()]))throw f});const c=n.value.shallow?Ly(o):Ac(o),d=Up(c);for(const f in o)typeof o[f]=="function"&&(d[f]=o[f]);return d.suspense=u,d.refetch=h,d}function _n(r,e){return G5(O5,r)}function Qb(r,e){const t=rv(),i=Ce(()=>t.defaultMutationOptions(Pt(r))),n=new B5(t,i.value),s=i.value.shallow?Nc(n.getCurrentResult()):fs(n.getCurrentResult()),o=n.subscribe(u=>{cS(s,u)}),a=(u,c)=>{n.mutate(u,c).catch(()=>{})};Qt(i,()=>{n.setOptions(i.value)}),Fp(()=>{o()});const l=i.value.shallow?Ly(s):Ac(s),h=Up(l);return Qt(()=>s.error,u=>{if(u&&X0(i.value.throwOnError,[u]))throw u}),{...h,mutate:a,mutateAsync:s.mutate,reset:s.reset}}const fz=()=>Vr.get("/profile").then(r=>r.data);function $5(){return _n({queryKey:["me"],queryFn:fz,staleTime:5*60*1e3,select:r=>{var t;const e=(t=r.data)==null?void 0:t.companies;return Array.isArray(e)?e[0]||null:e||null}})}function gz(){return _n({queryKey:["me"],queryFn:fz,staleTime:5*60*1e3,select:r=>{var e;return(e=r.data)==null?void 0:e._id}})}const Jse=r=>Vr.put("/profile",r).then(e=>e.data);function nu({key:r,url:e,method:t="GET",params:i,variables:n,config:s,extract:o=Fb,enabled:a=!0,select:l,staleTime:h},u){return _n({queryKey:r,enabled:a,queryFn:({signal:c})=>Hi({url:be(e),method:t,params:i,data:n,config:s,extract:o,signal:c}),select:l,staleTime:h,...u})}function Oi({key:r,url:e,method:t="POST",config:i,extract:n=Fb},s){return Qb({mutationKey:r,mutationFn:o=>Hi({url:e,method:t,data:o,config:i,extract:n}),...s})}const ur={description:r=>["description",r],suggestions:r=>["suggestions",r],industries:["industries"],userTypes:["user-types"],technologies:["technologies"],platforms:["platforms"],workspacesPrompt:["workspaces","prompt"],workspaces:["workspaces"],workspacesTitles:["workspaces","titles"],singleWorkspace:r=>["workspaces","byId",r],workspaceModules:["workspaces","modules"],workspaceRoles:r=>["workspaces","roles",r],workspaceVariables:["workspaces","variables"],invitedWorkspace:r=>["invited","workspace",r],invitedSpace:r=>["invited","space",r],checkProgress:r=>["workspace","progress",r],invitePeople:["invitations","send"],createWorkspaceAI:["workspace","create-ai"],createWorkspace:["workspace","create"],createLanes:["workspace","create-lanes-ai"],updateInvited:["invited","update"],deleteInvited:["invited","delete"],deleteWorkspace:["workspace","delete"]},Zse=()=>nu({key:ur.description("suggestion"),url:"/common/session-data/",method:"GET"}),Xse=r=>nu({key:ur.suggestions(r),url:"/common/workspace-descriptions-filter",method:"GET",params:{description_category:r},enabled:!!r}),eoe=()=>nu({key:ur.industries,url:"/common/industries",method:"GET"}),toe=(r,e)=>_n({queryKey:Ce(()=>["workspaces",be(r),be(e)]),queryFn:()=>Hi({url:`/workspace/all?page=${be(r)}&limit=${be(e)}`,method:"GET"}),staleTime:0,refetchOnMount:"always",placeholderData:t=>t}),ioe=()=>nu({key:ur.workspacesTitles,url:"/workspace/titles",method:"GET"}),K5=r=>{const e=Ce(()=>be(r));return nu({key:Ce(()=>e.value?ur.singleWorkspace(e.value):[]),url:Ce(()=>e.value?`/workspace/${e.value}`:""),method:"GET",params:{is_archive:!1},enabled:Ce(()=>!!e.value)},{staleTime:3*60*1e3,gcTime:10*60*1e3,refetchOnMount:!0})},J5=r=>{const e=Ce(()=>be(r));return _n({queryKey:Ce(()=>["workspaceRoles",e.value]),enabled:Ce(()=>!!e.value),queryFn:async()=>{const t=e.value;return!t&&t!==0?[]:await Vr.get(`/workspace/teams/${t}`).then(i=>i.data.data)},staleTime:3*60*1e3,gcTime:10*60*1e3})},noe=r=>nu({key:ur.invitedWorkspace(r),url:`/common/team/${r}`,method:"GET",enabled:!!r}),roe=r=>nu({key:ur.invitedSpace(r),url:`common/space-invite/${r}`,method:"GET",enabled:!!r}),soe=(r={})=>Oi({key:ur.createWorkspaceAI,url:"common/step-1-ai",method:"POST"},r),ooe=(r={})=>Oi({key:ur.createWorkspaceAI,url:"workspace/step-1-ai",method:"POST"},r),aoe=(r={})=>Oi({key:ur.createWorkspace,url:"/workspace",method:"POST"},r),loe=(r={})=>Oi({key:ur.createLanes,url:"/workspace/step-2-ai",method:"POST"},r),hoe=(r={})=>Oi({key:ur.invitePeople,url:"/workspace/invitation/send",method:"POST"},r),uoe=(r={})=>Oi({key:ur.updateInvited},{mutationFn:e=>Hi({url:`/common/team/${e.id}`,method:"PUT",data:e.payload}),...r}),coe=(r={})=>Oi({key:ur.deleteInvited},{mutationFn:e=>Hi({url:`/common/team/${e.id}`,method:"DELETE"}),...r}),doe=(r={})=>Oi({key:["update-WS"],url:"/workspace",method:"PATCH"},r),Z5=r=>Vr.get(`/workspace/user/${r}/assigned-cards`).then(e=>e.data);function X5(r){return _n({queryKey:Ce(()=>["tasks",be(r)]),queryFn:async()=>{const e=be(r);return await Z5(e)},enabled:Ce(()=>!!be(r))})}const eH=r=>Vr.get(`workspace/team-users?company_id=${r==null?void 0:r._id}`).then(e=>e.data);function tH(r){return _n({queryKey:Ce(()=>["all-users",be(r)]),queryFn:async()=>{const e=be(r);return await eH(e)},enabled:Ce(()=>!!be(r))})}const poe=(r={})=>Oi({key:ur.deleteWorkspace},{mutationFn:e=>Hi({url:`/workspace/${e.id}`,method:"DELETE"}),...r}),foe=(r,e={})=>_n({queryKey:["workspaceCompany",r],queryFn:({signal:t})=>Hi({url:`/workspace/${be(r)}`,method:"GET",signal:t}),...e}),iH=["aria-busy"],nH={class:"min-w-max text-left text-sm border-separate border-spacing-y-2 w-full",role:"grid"},rH={key:0,class:"sticky top-0 z-[1] bg-bg-surface font-semibold text-text-secondary/90"},sH={role:"row"},oH=["aria-colindex"],aH=["onClick","aria-sort"],lH={class:"text-xs","aria-hidden":"true"},hH={key:1,class:"divide-y divide-border text-text-secondary"},uH=["aria-rowindex","onClick","onKeydown","draggable","onDragstart","onDragend"],cH=["aria-colindex"],dH={key:2,class:"divide-y divide-border text-text-secondary"},pH={class:"sr-only"},fH=["colspan"],gH={key:3},mH=["colspan"],yH={key:0,class:"flex items-center mt-auto sticky bottom-0 bg-bg-surface justify-between gap-3 border-t border-border px-3 py-2 sm:flex-row min-w-[700px]",role:"navigation","aria-label":"Pagination"},vH={class:"text-xs text-text-secondary sm:text-sm"},MH={class:"font-medium"},SH={class:"font-medium"},CH={class:"font-medium"},bH={class:"flex items-center gap-2"},IH=["value"],DH=["value"],TH={class:"flex items-center gap-1","aria-label":"Pages"},wH=["disabled"],xH=["disabled","onClick"],NH=["disabled"],AH=Ai({__name:"Table",props:{showHeader:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},rowDraggable:{type:Boolean},columns:{},rows:{},loading:{type:Boolean,default:!1},skeletonRows:{default:8},page:{default:1},pageSize:{default:10},total:{default:null},pageSizes:{default:()=>[10,20,50,100]},hover:{type:Boolean,default:!0},striped:{type:Boolean,default:!1},itemKey:{},rowClass:{},defaultSort:{},sorters:{}},emits:["update:page","update:pageSize","page-change","row-click","row-dragstart","row-dragend","sort-change"],setup(r,{emit:e}){var V,ee;const t=r,i=e,n=fs({key:((V=t.defaultSort)==null?void 0:V.key)??null,dir:((ee=t.defaultSort)==null?void 0:ee.dir)??null}),s=Ce(()=>t.columns);function o(W,J){if(!(!W||!J))return J.includes(".")?J.split(".").reduce((K,le)=>K==null?K:K[le],W):W[J]}const a=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});function l(W,J,K){return W==null&&J==null?0:W==null?K==="asc"?-1:1:J==null?K==="asc"?1:-1:typeof W=="string"&&typeof J=="string"?K==="asc"?a.compare(W,J):a.compare(J,W):W<J?K==="asc"?-1:1:W>J?K==="asc"?1:-1:0}function h(W,J){return J.accessor?J.accessor(W):o(W,J.key)}const u=W=>{const J=h(W.row,W.column);return W.column.render?W.column.render({row:W.row,column:W.column,value:J,index:W.index}):Wi("span",String(J??""))};function c(W,J){t.loading||!W||i("row-click",{row:W,index:J})}const d=Ce(()=>t.skeletonRows??8),f=["w-24","w-32","w-16","w-40","w-20","w-28"],g=W=>f[W%f.length],m=(W,J)=>t.itemKey?t.itemKey(W,J):W._id??J,y=W=>W+2;function v(W){n.key!==W?(n.key=W,n.dir="asc"):(n.dir=n.dir==="asc"?"desc":n.dir==="desc"?null:"asc",n.dir===null&&(n.key=null)),i("sort-change",{key:n.key,dir:n.dir})}const M=W=>n.key!==W||!n.dir?"none":n.dir==="asc"?"ascending":"descending";function S(W){return W==="center"?"text-center":W==="right"?"text-right":"text-left"}const b=W=>W.width!=null?{width:typeof W.width=="number"?`${W.width}px`:String(W.width)}:void 0,C=Pe(t.page),T=Pe(t.pageSize);Qt(()=>t.page,W=>{typeof W=="number"&&W>0&&(C.value=W)}),Qt(()=>t.pageSize,W=>{typeof W=="number"&&W>0&&(T.value=W)});const k=Ce(()=>t.total!=null),N=Ce(()=>k.value?t.total:t.rows.length),A=Ce(()=>Math.max(1,Math.ceil(N.value/T.value))),E=Ce(()=>{var pe;if(t.loading)return[];const W=t.rows;if(!n.key||!n.dir)return W;const J=n.dir,K=n.key,le=s.value.find(P=>P.key===K),me=(pe=t.sorters)==null?void 0:pe[K];return W.slice().sort((P,ve)=>{if(me)return me(P,ve,J);const X=le!=null&&le.accessor?le.accessor(P):o(P,K),De=le!=null&&le.accessor?le.accessor(ve):o(ve,K);return l(X,De,J)})}),x=Ce(()=>{const W=E.value,J=(C.value-1)*T.value;return W.slice(J,J+T.value)}),D=Ce(()=>k.value?t.rows:x.value),z=Ce(()=>N.value===0?0:(C.value-1)*T.value+1),w=Ce(()=>Math.min(C.value*T.value,N.value)),O=Ce(()=>N.value>0||t.loading),L=Ce(()=>{const W=C.value,J=A.value;return J<=7?Array.from({length:J},(le,me)=>me+1):W<=4?[1,2,3,4,5,"",J]:W>=J-3?[1,"",J-4,J-3,J-2,J-1,J]:[1,"",W-1,W,W+1,"",J]});function j(W){const J=Math.min(Math.max(1,W),A.value);J!==C.value&&(C.value=J,i("update:page",J),i("page-change",{page:J,pageSize:T.value}))}function B(W){const J=Number(W);!Number.isFinite(J)||J<=0||(T.value=J,C.value=1,i("update:pageSize",J),i("update:page",1),i("page-change",{page:1,pageSize:J}))}return(W,J)=>(te(),oe("div",{class:"overflow-auto",role:"region","aria-busy":W.loading?"true":"false","aria-live":"polite"},[$("table",nH,[W.showHeader?(te(),oe("thead",rH,[$("tr",sH,[(te(!0),oe(rt,null,ri(s.value,(K,le)=>(te(),oe("th",{key:K.key,scope:"col",style:Xi(b(K)),class:$e(["select-none whitespace-nowrap px-4.5 py-2 text-sm font-medium capitalize text-text-primary",[K.headerClass,S(K.headerAlign||K.align)]]),"aria-colindex":le+1},[K.sortable?(te(),oe("button",{key:0,type:"button",class:"inline-flex items-center gap-1 outline-none transition-colors hover:text-text-primary focus-visible:ring-2 focus-visible:ring-orange-300",onClick:me=>v(K.key),"aria-sort":M(K.key)},[Ei(W.$slots,`${K.key}-header`,{column:K},()=>[Ni(tt(K.label),1)],!0),$("span",lH,tt(n.key===K.key?n.dir==="asc"?"":"":""),1)],8,aH)):Ei(W.$slots,`${K.key}-header`,{key:1,column:K},()=>[Ni(tt(K.label),1)],!0)],14,oH))),128))])])):yt("",!0),!W.loading&&D.value.length>0?(te(),oe("tbody",hH,[(te(!0),oe(rt,null,ri(D.value,(K,le)=>{var me;return te(),oe("tr",{key:m(K,le),role:"row","aria-rowindex":y(le),tabindex:"0",onClick:pe=>c(K,le),onKeydown:Cl(qi(pe=>c(K,le),["prevent"]),["enter"]),class:$e(["transition-colors duration-150",[W.hover?"hover:bg-bg-surface/60 cursor-pointer":"",W.striped&&le%2===1?"bg-bg-surface/40":"",(me=W.rowClass)==null?void 0:me.call(W,K,le)]]),draggable:W.rowDraggable||!1,onDragstart:pe=>W.$emit("row-dragstart",{row:K,index:le,$event:pe}),onDragend:pe=>W.$emit("row-dragend",{row:K,index:le,$event:pe})},[(te(!0),oe(rt,null,ri(s.value,(pe,P)=>(te(),oe("td",{key:pe.key,class:$e(["px-4.5 py-4 align-middle",[pe.class,S(pe.align)]]),"aria-colindex":P+1},[Ei(W.$slots,pe.key,{row:K,column:pe,index:le},()=>[(te(),mn(Qa(u),{row:K,column:pe,index:le},null,8,["row","column","index"]))],!0)],10,cH))),128))],42,uH)}),128))])):W.loading?(te(),oe("tbody",dH,[(te(!0),oe(rt,null,ri(d.value,K=>(te(),oe("tr",{key:K},[(te(!0),oe(rt,null,ri(s.value,(le,me)=>(te(),oe("td",{key:le.key,class:"px-4.5 py-4"},[$("div",{class:$e(["h-4 rounded bg-[length:200%_100%] animate-shimmer",[g(me),"bg-gradient-to-r from-slate-200/80 via-slate-300/90 to-slate-200/80 dark:from-slate-700/50 dark:via-slate-600/60 dark:to-slate-700/50"]])},null,2)]))),128))]))),128)),$("tr",pH,[$("td",{colspan:s.value.length},"Loading",8,fH)])])):(te(),oe("tbody",gH,[$("tr",null,[$("td",{colspan:s.value.length,class:"px-4.5 py-10 text-center text-text-secondary/70"},[Ei(W.$slots,"empty",{},()=>[J[3]||(J[3]=Ni("No data"))],!0)],8,mH)])]))]),O.value&&W.pagination?(te(),oe("div",yH,[$("div",vH,[W.loading?(te(),oe(rt,{key:1},[Ni("Loading")],64)):(te(),oe(rt,{key:0},[J[4]||(J[4]=Ni(" Showing ")),$("span",MH,tt(z.value),1),J[5]||(J[5]=Ni("")),$("span",SH,tt(w.value),1),J[6]||(J[6]=Ni(" of ")),$("span",CH,tt(N.value),1)],64))]),$("div",bH,[J[7]||(J[7]=$("label",{class:"text-xs text-text-secondary sm:text-sm",for:"page-size"},"Rows per page:",-1)),$("select",{id:"page-size",class:"rounded-md border border-border bg-bg-card px-2 py-1 text-sm text-text-secondary outline-none transition focus-visible:ring-2 focus-visible:ring-orange-300",value:T.value,onChange:J[0]||(J[0]=K=>B(K.target.value))},[(te(!0),oe(rt,null,ri(W.pageSizes,K=>(te(),oe("option",{key:K,value:K},tt(K),9,DH))),128))],40,IH),$("nav",TH,[$("button",{type:"button",class:"rounded-md border border-transparent px-2.5 py-1.5 text-sm outline-none transition hover:border-border focus-visible:ring-2 focus-visible:ring-orange-300 disabled:opacity-40",disabled:C.value<=1||W.loading,onClick:J[1]||(J[1]=K=>j(C.value-1))}," Prev ",8,wH),(te(!0),oe(rt,null,ri(L.value,K=>(te(),oe("button",{key:`p-${K}`,type:"button",class:$e(["rounded-md border px-2.5 py-1.5 text-sm outline-none transition",[K===""?"cursor-default border-transparent text-text-secondary":K===C.value?"border-border bg-bg-body text-text-primary shadow-sm":"border-border hover:bg-bg-dropdown-menu-hover focus-visible:ring-2 focus-visible:ring-orange-300"]]),disabled:K===""||W.loading,onClick:le=>typeof K=="number"&&j(K)},tt(K),11,xH))),128)),$("button",{type:"button",class:"rounded-md border border-transparent px-2.5 py-1.5 text-sm outline-none transition hover:border-border focus-visible:ring-2 focus-visible:ring-orange-300 disabled:opacity-40",disabled:C.value>=A.value||W.loading,onClick:J[2]||(J[2]=K=>j(C.value+1))}," Next ",8,NH)])])])):yt("",!0)],8,iH))}}),kl=(r,e)=>{const t=r.__vccOpts||r;for(const[i,n]of e)t[i]=n;return t},mz=kl(AH,[["__scopeId","data-v-646a2547"]]),EH="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M15.0009%204.99902L5%2014.9999'%20stroke='%233D3D3D'%20stroke-width='1.66678'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5%204.99902L15.0009%2014.9999'%20stroke='%233D3D3D'%20stroke-width='1.66678'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",kH=Ai({__name:"BaseModal",props:{modelValue:{type:Boolean},size:{},modalClass:{}},emits:["update:modelValue"],setup(r,{emit:e}){const t=e;return(i,n)=>(te(),mn(tl,{name:"fade"},{default:pi(()=>[i.modelValue?(te(),oe("div",{key:0,class:"fixed inset-0 z-50 bg-black/50 backdrop-blur-xs flex items-center justify-center",onClick:n[2]||(n[2]=s=>t("update:modelValue",!1)),onKeydown:n[3]||(n[3]=Cl(s=>t("update:modelValue",!1),["esc"]))},[$("div",{class:$e(["bg-bg-body w-full max-w-[860px] max-h-[80vh] overflow-auto mx-4 rounded-xl shadow-lg shadow-accent/30 py-6 relative",[{"!max-w-[500px]":i.size=="md"},i.modalClass]]),role:"dialog","aria-modal":"true",onClick:n[1]||(n[1]=qi(()=>{},["stop"]))},[$("button",{class:"absolute top-6 cursor-pointer right-4 text-text-secondary hover:text-text-primary text-xl z-10",onClick:n[0]||(n[0]=qi(s=>t("update:modelValue",!1),["stop"]))},n[4]||(n[4]=[$("img",{src:EH,alt:""},null,-1)])),Ei(i.$slots,"default",{},void 0,!0)],2)],32)):yt("",!0)]),_:3}))}}),LH=kl(kH,[["__scopeId","data-v-af419dba"]]);function Dn(r){this.content=r}Dn.prototype={constructor:Dn,find:function(r){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===r)return e;return-1},get:function(r){var e=this.find(r);return e==-1?void 0:this.content[e+1]},update:function(r,e,t){var i=t&&t!=r?this.remove(t):this,n=i.find(r),s=i.content.slice();return n==-1?s.push(t||r,e):(s[n+1]=e,t&&(s[n]=t)),new Dn(s)},remove:function(r){var e=this.find(r);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Dn(t)},addToStart:function(r,e){return new Dn([r,e].concat(this.remove(r).content))},addToEnd:function(r,e){var t=this.remove(r).content.slice();return t.push(r,e),new Dn(t)},addBefore:function(r,e,t){var i=this.remove(e),n=i.content.slice(),s=i.find(r);return n.splice(s==-1?n.length:s,0,e,t),new Dn(n)},forEach:function(r){for(var e=0;e<this.content.length;e+=2)r(this.content[e],this.content[e+1])},prepend:function(r){return r=Dn.from(r),r.size?new Dn(r.content.concat(this.subtract(r).content)):this},append:function(r){return r=Dn.from(r),r.size?new Dn(this.subtract(r).content.concat(r.content)):this},subtract:function(r){var e=this;r=Dn.from(r);for(var t=0;t<r.content.length;t+=2)e=e.remove(r.content[t]);return e},toObject:function(){var r={};return this.forEach(function(e,t){r[e]=t}),r},get size(){return this.content.length>>1}};Dn.from=function(r){if(r instanceof Dn)return r;var e=[];if(r)for(var t in r)e.push(t,r[t]);return new Dn(e)};function yz(r,e,t){for(let i=0;;i++){if(i==r.childCount||i==e.childCount)return r.childCount==e.childCount?null:t;let n=r.child(i),s=e.child(i);if(n==s){t+=n.nodeSize;continue}if(!n.sameMarkup(s))return t;if(n.isText&&n.text!=s.text){for(let o=0;n.text[o]==s.text[o];o++)t++;return t}if(n.content.size||s.content.size){let o=yz(n.content,s.content,t+1);if(o!=null)return o}t+=n.nodeSize}}function vz(r,e,t,i){for(let n=r.childCount,s=e.childCount;;){if(n==0||s==0)return n==s?null:{a:t,b:i};let o=r.child(--n),a=e.child(--s),l=o.nodeSize;if(o==a){t-=l,i-=l;continue}if(!o.sameMarkup(a))return{a:t,b:i};if(o.isText&&o.text!=a.text){let h=0,u=Math.min(o.text.length,a.text.length);for(;h<u&&o.text[o.text.length-h-1]==a.text[a.text.length-h-1];)h++,t--,i--;return{a:t,b:i}}if(o.content.size||a.content.size){let h=vz(o.content,a.content,t-1,i-1);if(h)return h}t-=l,i-=l}}class Oe{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let i=0;i<e.length;i++)this.size+=e[i].nodeSize}nodesBetween(e,t,i,n=0,s){for(let o=0,a=0;a<t;o++){let l=this.content[o],h=a+l.nodeSize;if(h>e&&i(l,n+a,s||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,t-u),i,n+u)}a=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,i,n){let s="",o=!0;return this.nodesBetween(e,t,(a,l)=>{let h=a.isText?a.text.slice(Math.max(e,l)-l,t-l):a.isLeaf?n?typeof n=="function"?n(a):n:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&h||a.isTextblock)&&i&&(o?o=!1:s+=i),s+=h},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,i=e.firstChild,n=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(i)&&(n[n.length-1]=t.withText(t.text+i.text),s=1);s<e.content.length;s++)n.push(e.content[s]);return new Oe(n,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let i=[],n=0;if(t>e)for(let s=0,o=0;o<t;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>t)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,t-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,t-o-1))),i.push(a),n+=a.nodeSize),o=l}return new Oe(i,n)}cutByIndex(e,t){return e==t?Oe.empty:e==0&&t==this.content.length?this:new Oe(this.content.slice(e,t))}replaceChild(e,t){let i=this.content[e];if(i==t)return this;let n=this.content.slice(),s=this.size+t.nodeSize-i.nodeSize;return n[e]=t,new Oe(n,s)}addToStart(e){return new Oe([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Oe(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,i=0;t<this.content.length;t++){let n=this.content[t];e(n,i,t),i+=n.nodeSize}}findDiffStart(e,t=0){return yz(this,e,t)}findDiffEnd(e,t=this.size,i=e.size){return vz(this,e,t,i)}findIndex(e,t=-1){if(e==0)return Nf(0,e);if(e==this.size)return Nf(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let i=0,n=0;;i++){let s=this.child(i),o=n+s.nodeSize;if(o>=e)return o==e||t>0?Nf(i+1,o):Nf(i,n);n=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return Oe.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new Oe(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Oe.empty;let t,i=0;for(let n=0;n<e.length;n++){let s=e[n];i+=s.nodeSize,n&&s.isText&&e[n-1].sameMarkup(s)?(t||(t=e.slice(0,n)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new Oe(t||e,i)}static from(e){if(!e)return Oe.empty;if(e instanceof Oe)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Oe([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Oe.empty=new Oe([],0);const Kv={index:0,offset:0};function Nf(r,e){return Kv.index=r,Kv.offset=e,Kv}function um(r,e){if(r===e)return!0;if(!(r&&typeof r=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(r);if(Array.isArray(e)!=t)return!1;if(t){if(r.length!=e.length)return!1;for(let i=0;i<r.length;i++)if(!um(r[i],e[i]))return!1}else{for(let i in r)if(!(i in e)||!um(r[i],e[i]))return!1;for(let i in e)if(!(i in r))return!1}return!0}let yi=class pS{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,i=!1;for(let n=0;n<e.length;n++){let s=e[n];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,n));else{if(s.type.excludes(this.type))return e;!i&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,n)),t.push(this),i=!0),t&&t.push(s)}}return t||(t=e.slice()),i||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&um(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let i=e.marks[t.type];if(!i)throw new RangeError(`There is no mark type ${t.type} in this schema`);let n=i.create(t.attrs);return i.checkAttrs(n.attrs),n}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].eq(t[i]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return pS.none;if(e instanceof pS)return[e];let t=e.slice();return t.sort((i,n)=>i.type.rank-n.type.rank),t}};yi.none=[];class cm extends Error{}class Ke{constructor(e,t,i){this.content=e,this.openStart=t,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let i=Sz(this.content,e+this.openStart,t);return i&&new Ke(i,this.openStart,this.openEnd)}removeBetween(e,t){return new Ke(Mz(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Ke.empty;let i=t.openStart||0,n=t.openEnd||0;if(typeof i!="number"||typeof n!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ke(Oe.fromJSON(e,t.content),i,n)}static maxOpen(e,t=!0){let i=0,n=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)i++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)n++;return new Ke(e,i,n)}}Ke.empty=new Ke(Oe.empty,0,0);function Mz(r,e,t){let{index:i,offset:n}=r.findIndex(e),s=r.maybeChild(i),{index:o,offset:a}=r.findIndex(t);if(n==e||s.isText){if(a!=t&&!r.child(o).isText)throw new RangeError("Removing non-flat range");return r.cut(0,e).append(r.cut(t))}if(i!=o)throw new RangeError("Removing non-flat range");return r.replaceChild(i,s.copy(Mz(s.content,e-n-1,t-n-1)))}function Sz(r,e,t,i){let{index:n,offset:s}=r.findIndex(e),o=r.maybeChild(n);if(s==e||o.isText)return r.cut(0,e).append(t).append(r.cut(e));let a=Sz(o.content,e-s-1,t);return a&&r.replaceChild(n,o.copy(a))}function zH(r,e,t){if(t.openStart>r.depth)throw new cm("Inserted content deeper than insertion position");if(r.depth-t.openStart!=e.depth-t.openEnd)throw new cm("Inconsistent open depths");return Cz(r,e,t,0)}function Cz(r,e,t,i){let n=r.index(i),s=r.node(i);if(n==e.index(i)&&i<r.depth-t.openStart){let o=Cz(r,e,t,i+1);return s.copy(s.content.replaceChild(n,o))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&r.depth==i&&e.depth==i){let o=r.parent,a=o.content;return kh(o,a.cut(0,r.parentOffset).append(t.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=OH(t,r);return kh(s,Iz(r,o,a,e,i))}else return kh(s,dm(r,e,i))}function bz(r,e){if(!e.type.compatibleContent(r.type))throw new cm("Cannot join "+e.type.name+" onto "+r.type.name)}function fS(r,e,t){let i=r.node(t);return bz(i,e.node(t)),i}function Eh(r,e){let t=e.length-1;t>=0&&r.isText&&r.sameMarkup(e[t])?e[t]=r.withText(e[t].text+r.text):e.push(r)}function Ld(r,e,t,i){let n=(e||r).node(t),s=0,o=e?e.index(t):n.childCount;r&&(s=r.index(t),r.depth>t?s++:r.textOffset&&(Eh(r.nodeAfter,i),s++));for(let a=s;a<o;a++)Eh(n.child(a),i);e&&e.depth==t&&e.textOffset&&Eh(e.nodeBefore,i)}function kh(r,e){return r.type.checkContent(e),r.copy(e)}function Iz(r,e,t,i,n){let s=r.depth>n&&fS(r,e,n+1),o=i.depth>n&&fS(t,i,n+1),a=[];return Ld(null,r,n,a),s&&o&&e.index(n)==t.index(n)?(bz(s,o),Eh(kh(s,Iz(r,e,t,i,n+1)),a)):(s&&Eh(kh(s,dm(r,e,n+1)),a),Ld(e,t,n,a),o&&Eh(kh(o,dm(t,i,n+1)),a)),Ld(i,null,n,a),new Oe(a)}function dm(r,e,t){let i=[];if(Ld(null,r,t,i),r.depth>t){let n=fS(r,e,t+1);Eh(kh(n,dm(r,e,t+1)),i)}return Ld(e,null,t,i),new Oe(i)}function OH(r,e){let t=e.depth-r.openStart,n=e.node(t).copy(r.content);for(let s=t-1;s>=0;s--)n=e.node(s).copy(Oe.from(n));return{start:n.resolveNoCache(r.openStart+t),end:n.resolveNoCache(n.content.size-r.openEnd-t)}}class op{constructor(e,t,i){this.pos=e,this.path=t,this.parentOffset=i,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let i=this.pos-this.path[this.path.length-1],n=e.child(t);return i?e.child(t).cut(i):n}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let i=this.path[t*3],n=t==0?0:this.path[t*3-1]+1;for(let s=0;s<e;s++)n+=i.child(s).nodeSize;return n}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return yi.none;if(this.textOffset)return e.child(t).marks;let i=e.maybeChild(t-1),n=e.maybeChild(t);if(!i){let a=i;i=n,n=a}let s=i.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!n||!s[o].isInSet(n.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let i=t.marks,n=e.parent.maybeChild(e.index());for(var s=0;s<i.length;s++)i[s].type.spec.inclusive===!1&&(!n||!i[s].isInSet(n.marks))&&(i=i[s--].removeFromSet(i));return i}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);i>=0;i--)if(e.pos<=this.end(i)&&(!t||t(this.node(i))))return new pm(this,e,i);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let i=[],n=0,s=t;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),h=s-l;if(i.push(o,a,n+l),!h||(o=o.child(a),o.isText))break;s=h-1,n+=l+1}return new op(t,i,s)}static resolveCached(e,t){let i=YT.get(e);if(i)for(let s=0;s<i.elts.length;s++){let o=i.elts[s];if(o.pos==t)return o}else YT.set(e,i=new RH);let n=i.elts[i.i]=op.resolve(e,t);return i.i=(i.i+1)%jH,n}}class RH{constructor(){this.elts=[],this.i=0}}const jH=12,YT=new WeakMap;class pm{constructor(e,t,i){this.$from=e,this.$to=t,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const PH=Object.create(null);let dl=class gS{constructor(e,t,i,n=yi.none){this.type=e,this.attrs=t,this.marks=n,this.content=i||Oe.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,i,n=0){this.content.nodesBetween(e,t,i,n,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,i,n){return this.content.textBetween(e,t,i,n)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,i){return this.type==e&&um(this.attrs,t||e.defaultAttrs||PH)&&yi.sameSet(this.marks,i||yi.none)}copy(e=null){return e==this.content?this:new gS(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new gS(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,i=!1){if(e==t)return Ke.empty;let n=this.resolve(e),s=this.resolve(t),o=i?0:n.sharedDepth(t),a=n.start(o),h=n.node(o).content.cut(n.pos-a,s.pos-a);return new Ke(h,n.depth-o,s.depth-o)}replace(e,t,i){return zH(this.resolve(e),this.resolve(t),i)}nodeAt(e){for(let t=this;;){let{index:i,offset:n}=t.content.findIndex(e);if(t=t.maybeChild(i),!t)return null;if(n==e||t.isText)return t;e-=n+1}}childAfter(e){let{index:t,offset:i}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:i}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:i}=this.content.findIndex(e);if(i<e)return{node:this.content.child(t),index:t,offset:i};let n=this.content.child(t-1);return{node:n,index:t-1,offset:i-n.nodeSize}}resolve(e){return op.resolveCached(this,e)}resolveNoCache(e){return op.resolve(this,e)}rangeHasMark(e,t,i){let n=!1;return t>e&&this.nodesBetween(e,t,s=>(i.isInSet(s.marks)&&(n=!0),!n)),n}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Dz(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,i=Oe.empty,n=0,s=i.childCount){let o=this.contentMatchAt(e).matchFragment(i,n,s),a=o&&o.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let l=n;l<s;l++)if(!this.type.allowsMarks(i.child(l).marks))return!1;return!0}canReplaceWith(e,t,i,n){if(n&&!this.type.allowsMarks(n))return!1;let s=this.contentMatchAt(e).matchType(i),o=s&&s.matchFragment(this.content,t);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=yi.none;for(let t=0;t<this.marks.length;t++){let i=this.marks[t];i.type.checkAttrs(i.attrs),e=i.addToSet(e)}if(!yi.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let i;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,i)}let n=Oe.fromJSON(e,t.content),s=e.nodeType(t.type).create(t.attrs,n,i);return s.type.checkAttrs(s.attrs),s}};dl.prototype.text=void 0;class fm extends dl{constructor(e,t,i,n){if(super(e,t,null,n),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Dz(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new fm(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new fm(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Dz(r,e){for(let t=r.length-1;t>=0;t--)e=r[t].type.name+"("+e+")";return e}class Vh{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let i=new FH(e,t);if(i.next==null)return Vh.empty;let n=Tz(i);i.next&&i.err("Unexpected trailing text");let s=YH(_H(n));return WH(s,i),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,i=e.childCount){let n=this;for(let s=t;n&&s<i;s++)n=n.matchType(e.child(s).type);return n}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let i=0;i<e.next.length;i++)if(this.next[t].type==e.next[i].type)return!0;return!1}fillBefore(e,t=!1,i=0){let n=[this];function s(o,a){let l=o.matchFragment(e,i);if(l&&(!t||l.validEnd))return Oe.from(a.map(h=>h.createAndFill()));for(let h=0;h<o.next.length;h++){let{type:u,next:c}=o.next[h];if(!(u.isText||u.hasRequiredAttrs())&&n.indexOf(c)==-1){n.push(c);let d=s(c,a.concat(u));if(d)return d}}return null}return s(this,[])}findWrapping(e){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==e)return this.wrapCache[i+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let n=i.shift(),s=n.match;if(s.matchType(e)){let o=[];for(let a=n;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in t)&&(!n.type||l.validEnd)&&(i.push({match:a.contentMatch,type:a,via:n}),t[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(i){e.push(i);for(let n=0;n<i.next.length;n++)e.indexOf(i.next[n].next)==-1&&t(i.next[n].next)}return t(this),e.map((i,n)=>{let s=n+(i.validEnd?"*":" ")+" ";for(let o=0;o<i.next.length;o++)s+=(o?", ":"")+i.next[o].type.name+"->"+e.indexOf(i.next[o].next);return s}).join(`
`)}}Vh.empty=new Vh(!0);class FH{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Tz(r){let e=[];do e.push(BH(r));while(r.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function BH(r){let e=[];do e.push(UH(r));while(r.next&&r.next!=")"&&r.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function UH(r){let e=QH(r);for(;;)if(r.eat("+"))e={type:"plus",expr:e};else if(r.eat("*"))e={type:"star",expr:e};else if(r.eat("?"))e={type:"opt",expr:e};else if(r.eat("{"))e=HH(r,e);else break;return e}function WT(r){/\D/.test(r.next)&&r.err("Expected number, got '"+r.next+"'");let e=Number(r.next);return r.pos++,e}function HH(r,e){let t=WT(r),i=t;return r.eat(",")&&(r.next!="}"?i=WT(r):i=-1),r.eat("}")||r.err("Unclosed braced range"),{type:"range",min:t,max:i,expr:e}}function VH(r,e){let t=r.nodeTypes,i=t[e];if(i)return[i];let n=[];for(let s in t){let o=t[s];o.isInGroup(e)&&n.push(o)}return n.length==0&&r.err("No node type or group '"+e+"' found"),n}function QH(r){if(r.eat("(")){let e=Tz(r);return r.eat(")")||r.err("Missing closing paren"),e}else if(/\W/.test(r.next))r.err("Unexpected token '"+r.next+"'");else{let e=VH(r,r.next).map(t=>(r.inline==null?r.inline=t.isInline:r.inline!=t.isInline&&r.err("Mixing inline and block content"),{type:"name",value:t}));return r.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function _H(r){let e=[[]];return n(s(r,0),t()),e;function t(){return e.push([])-1}function i(o,a,l){let h={term:l,to:a};return e[o].push(h),h}function n(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,h)=>l.concat(s(h,a)),[]);if(o.type=="seq")for(let l=0;;l++){let h=s(o.exprs[l],a);if(l==o.exprs.length-1)return h;n(h,a=t())}else if(o.type=="star"){let l=t();return i(a,l),n(s(o.expr,l),l),[i(l)]}else if(o.type=="plus"){let l=t();return n(s(o.expr,a),l),n(s(o.expr,l),l),[i(l)]}else{if(o.type=="opt")return[i(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let h=0;h<o.min;h++){let u=t();n(s(o.expr,l),u),l=u}if(o.max==-1)n(s(o.expr,l),l);else for(let h=o.min;h<o.max;h++){let u=t();i(l,u),n(s(o.expr,l),u),l=u}return[i(l)]}else{if(o.type=="name")return[i(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function wz(r,e){return e-r}function qT(r,e){let t=[];return i(e),t.sort(wz);function i(n){let s=r[n];if(s.length==1&&!s[0].term)return i(s[0].to);t.push(n);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&t.indexOf(l)==-1&&i(l)}}}function YH(r){let e=Object.create(null);return t(qT(r,0));function t(i){let n=[];i.forEach(o=>{r[o].forEach(({term:a,to:l})=>{if(!a)return;let h;for(let u=0;u<n.length;u++)n[u][0]==a&&(h=n[u][1]);qT(r,l).forEach(u=>{h||n.push([a,h=[]]),h.indexOf(u)==-1&&h.push(u)})})});let s=e[i.join(",")]=new Vh(i.indexOf(r.length-1)>-1);for(let o=0;o<n.length;o++){let a=n[o][1].sort(wz);s.next.push({type:n[o][0],next:e[a.join(",")]||t(a)})}return s}}function WH(r,e){for(let t=0,i=[r];t<i.length;t++){let n=i[t],s=!n.validEnd,o=[];for(let a=0;a<n.next.length;a++){let{type:l,next:h}=n.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),i.indexOf(h)==-1&&i.push(h)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function xz(r){let e=Object.create(null);for(let t in r){let i=r[t];if(!i.hasDefault)return null;e[t]=i.default}return e}function Nz(r,e){let t=Object.create(null);for(let i in r){let n=e&&e[i];if(n===void 0){let s=r[i];if(s.hasDefault)n=s.default;else throw new RangeError("No value supplied for attribute "+i)}t[i]=n}return t}function Az(r,e,t,i){for(let n in e)if(!(n in r))throw new RangeError(`Unsupported attribute ${n} for ${t} of type ${n}`);for(let n in r){let s=r[n];s.validate&&s.validate(e[n])}}function Ez(r,e){let t=Object.create(null);if(e)for(let i in e)t[i]=new GH(r,i,e[i]);return t}let GT=class kz{constructor(e,t,i){this.name=e,this.schema=t,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=Ez(e,i.attrs),this.defaultAttrs=xz(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Vh.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Nz(this.attrs,e)}create(e=null,t,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new dl(this,this.computeAttrs(e),Oe.from(t),yi.setFrom(i))}createChecked(e=null,t,i){return t=Oe.from(t),this.checkContent(t),new dl(this,this.computeAttrs(e),t,yi.setFrom(i))}createAndFill(e=null,t,i){if(e=this.computeAttrs(e),t=Oe.from(t),t.size){let o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}let n=this.contentMatch.matchFragment(t),s=n&&n.fillBefore(Oe.empty,!0);return s?new dl(this,e,t.append(s),yi.setFrom(i)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let i=0;i<e.childCount;i++)if(!this.allowsMarks(e.child(i).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Az(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let i=0;i<e.length;i++)this.allowsMarkType(e[i].type)?t&&t.push(e[i]):t||(t=e.slice(0,i));return t?t.length?t:yi.none:e}static compile(e,t){let i=Object.create(null);e.forEach((s,o)=>i[s]=new kz(s,t,o));let n=t.spec.topNode||"doc";if(!i[n])throw new RangeError("Schema is missing its top node type ('"+n+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let s in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};function qH(r,e,t){let i=t.split("|");return n=>{let s=n===null?"null":typeof n;if(i.indexOf(s)<0)throw new RangeError(`Expected value of type ${i} for attribute ${e} on type ${r}, got ${s}`)}}class GH{constructor(e,t,i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default,this.validate=typeof i.validate=="string"?qH(e,t,i.validate):i.validate}get isRequired(){return!this.hasDefault}}class sv{constructor(e,t,i,n){this.name=e,this.rank=t,this.schema=i,this.spec=n,this.attrs=Ez(e,n.attrs),this.excluded=null;let s=xz(this.attrs);this.instance=s?new yi(this,s):null}create(e=null){return!e&&this.instance?this.instance:new yi(this,Nz(this.attrs,e))}static compile(e,t){let i=Object.create(null),n=0;return e.forEach((s,o)=>i[s]=new sv(s,n++,t,o)),i}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){Az(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Lz{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let n in e)t[n]=e[n];t.nodes=Dn.from(e.nodes),t.marks=Dn.from(e.marks||{}),this.nodes=GT.compile(this.spec.nodes,this),this.marks=sv.compile(this.spec.marks,this);let i=Object.create(null);for(let n in this.nodes){if(n in this.marks)throw new RangeError(n+" can not be both a node and a mark");let s=this.nodes[n],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=i[o]||(i[o]=Vh.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?$T(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let n in this.marks){let s=this.marks[n],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:$T(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,i,n){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof GT){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,i,n)}text(e,t){let i=this.nodes.text;return new fm(i,i.defaultAttrs,e,yi.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return dl.fromJSON(this,e)}markFromJSON(e){return yi.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function $T(r,e){let t=[];for(let i=0;i<e.length;i++){let n=e[i],s=r.marks[n],o=s;if(s)t.push(s);else for(let a in r.marks){let l=r.marks[a];(n=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(n)>-1)&&t.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[i]+"'")}return t}function $H(r){return r.tag!=null}function KH(r){return r.style!=null}class pl{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let i=this.matchedStyles=[];t.forEach(n=>{if($H(n))this.tags.push(n);else if(KH(n)){let s=/[^=]*/.exec(n.style)[0];i.indexOf(s)<0&&i.push(s),this.styles.push(n)}}),this.normalizeLists=!this.tags.some(n=>{if(!/^(ul|ol)\b/.test(n.tag)||!n.node)return!1;let s=e.nodes[n.node];return s.contentMatch.matchType(s)})}parse(e,t={}){let i=new JT(this,t,!1);return i.addAll(e,yi.none,t.from,t.to),i.finish()}parseSlice(e,t={}){let i=new JT(this,t,!0);return i.addAll(e,yi.none,t.from,t.to),Ke.maxOpen(i.finish())}matchTag(e,t,i){for(let n=i?this.tags.indexOf(i)+1:0;n<this.tags.length;n++){let s=this.tags[n];if(XH(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||t.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,t,i,n){for(let s=n?this.styles.indexOf(n)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!i.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=t))){if(o.getAttrs){let l=o.getAttrs(t);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let t=[];function i(n){let s=n.priority==null?50:n.priority,o=0;for(;o<t.length;o++){let a=t[o];if((a.priority==null?50:a.priority)<s)break}t.splice(o,0,n)}for(let n in e.marks){let s=e.marks[n].spec.parseDOM;s&&s.forEach(o=>{i(o=ZT(o)),o.mark||o.ignore||o.clearMark||(o.mark=n)})}for(let n in e.nodes){let s=e.nodes[n].spec.parseDOM;s&&s.forEach(o=>{i(o=ZT(o)),o.node||o.ignore||o.mark||(o.node=n)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new pl(e,pl.schemaRules(e)))}}const zz={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},JH={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Oz={ol:!0,ul:!0},ap=1,mS=2,Cg=4;function KT(r,e,t){return e!=null?(e?ap:0)|(e==="full"?mS:0):r&&r.whitespace=="pre"?ap|mS:t&-5}class Af{constructor(e,t,i,n,s,o){this.type=e,this.attrs=t,this.marks=i,this.solid=n,this.options=o,this.content=[],this.activeMarks=yi.none,this.match=s||(o&Cg?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(Oe.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let i=this.type.contentMatch,n;return(n=i.findWrapping(e.type))?(this.match=i,n):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&ap)){let i=this.content[this.content.length-1],n;if(i&&i.isText&&(n=/[ \t\r\n\u000c]+$/.exec(i.text))){let s=i;i.text.length==n[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-n[0].length))}}let t=Oe.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(Oe.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!zz.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class JT{constructor(e,t,i){this.parser=e,this.options=t,this.isOpen=i,this.open=0,this.localPreserveWS=!1;let n=t.topNode,s,o=KT(null,t.preserveWhitespace,0)|(i?Cg:0);n?s=new Af(n.type,n.attrs,yi.none,!0,t.topMatch||n.type.contentMatch,o):i?s=new Af(null,null,yi.none,!0,null,o):s=new Af(e.schema.topNodeType,null,yi.none,!0,null,o),this.nodes=[s],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let i=e.nodeValue,n=this.top,s=n.options&mS?"full":this.localPreserveWS||(n.options&ap)>0;if(s==="full"||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(i)){if(s)s!=="full"?i=i.replace(/\r?\n|\r/g," "):i=i.replace(/\r\n?/g,`
`);else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){let o=n.content[n.content.length-1],a=e.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(i=i.slice(1))}i&&this.insertNode(this.parser.schema.text(i),t,!/\S/.test(i)),this.findInText(e)}else this.findInside(e)}addElement(e,t,i){let n=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;Oz.hasOwnProperty(o)&&this.parser.normalizeLists&&ZH(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,i));e:if(l?l.ignore:JH.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,t);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let h,u=this.needsBlock;if(zz.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),h=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let c=l&&l.skip?t:this.readStyles(e,t);c&&this.addAll(e,c),h&&this.sync(s),this.needsBlock=u}else{let h=this.readStyles(e,t);h&&this.addElementByRule(e,l,h,l.consuming===!1?a:void 0)}this.localPreserveWS=n}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let i=e.style;if(i&&i.length)for(let n=0;n<this.parser.matchedStyles.length;n++){let s=this.parser.matchedStyles[n],o=i.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?t=t.filter(h=>!l.clearMark(h)):t=t.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return t}addElementByRule(e,t,i,n){let s,o;if(t.node)if(o=this.parser.schema.nodes[t.node],o.isLeaf)this.insertNode(o.create(t.attrs),i,e.nodeName=="BR")||this.leafFallback(e,i);else{let l=this.enter(o,t.attrs||null,i,t.preserveWhitespace);l&&(s=!0,i=l)}else{let l=this.parser.schema.marks[t.mark];i=i.concat(l.create(t.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(n)this.addElement(e,i,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,i,!1));else{let l=e;typeof t.contentElement=="string"?l=e.querySelector(t.contentElement):typeof t.contentElement=="function"?l=t.contentElement(e):t.contentElement&&(l=t.contentElement),this.findAround(e,l,!0),this.addAll(l,i),this.findAround(e,l,!1)}s&&this.sync(a)&&this.open--}addAll(e,t,i,n){let s=i||0;for(let o=i?e.childNodes[i]:e.firstChild,a=n==null?null:e.childNodes[n];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,t);this.findAtPoint(e,s)}findPlace(e,t,i){let n,s;for(let o=this.open,a=0;o>=0;o--){let l=this.nodes[o],h=l.findWrapping(e);if(h&&(!n||n.length>h.length+a)&&(n=h,s=l,!h.length))break;if(l.solid){if(i)break;a+=2}}if(!n)return null;this.sync(s);for(let o=0;o<n.length;o++)t=this.enterInner(n[o],null,t,!1);return t}insertNode(e,t,i){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(t=this.enterInner(s,null,t))}let n=this.findPlace(e,t,i);if(n){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let o=yi.none;for(let a of n.concat(e.marks))(s.type?s.type.allowsMarkType(a.type):XT(a.type,e.type))&&(o=a.addToSet(o));return s.content.push(e.mark(o)),!0}return!1}enter(e,t,i,n){let s=this.findPlace(e.create(t),i,!1);return s&&(s=this.enterInner(e,t,i,!0,n)),s}enterInner(e,t,i,n=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=KT(e,s,o.options);o.options&Cg&&o.content.length==0&&(a|=Cg);let l=yi.none;return i=i.filter(h=>(o.type?o.type.allowsMarkType(h.type):XT(h.type,e))?(l=h.addToSet(l),!1):!0),this.nodes.push(new Af(e,t,l,n,null,a)),this.open++,i}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=ap)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let i=this.nodes[t].content;for(let n=i.length-1;n>=0;n--)e+=i[n].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==e&&this.find[i].offset==t&&(this.find[i].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,i){if(e!=t&&this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&t.compareDocumentPosition(this.find[n].node)&(i?2:4)&&(this.find[n].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),i=this.options.context,n=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),s=-(i?i.depth+1:0)+(n?0:1),o=(a,l)=>{for(;a>=0;a--){let h=t[a];if(h==""){if(a==t.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&n?this.nodes[l].type:i&&l>=s?i.node(l-s).type:null;if(!u||u.name!=h&&!u.isInGroup(h))return!1;l--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let t in this.parser.schema.nodes){let i=this.parser.schema.nodes[t];if(i.isTextblock&&i.defaultAttrs)return i}}}function ZH(r){for(let e=r.firstChild,t=null;e;e=e.nextSibling){let i=e.nodeType==1?e.nodeName.toLowerCase():null;i&&Oz.hasOwnProperty(i)&&t?(t.appendChild(e),e=t):i=="li"?t=e:i&&(t=null)}}function XH(r,e){return(r.matches||r.msMatchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector).call(r,e)}function ZT(r){let e={};for(let t in r)e[t]=r[t];return e}function XT(r,e){let t=e.schema.nodes;for(let i in t){let n=t[i];if(!n.allowsMarkType(r))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:h,next:u}=a.edge(l);if(h==e||s.indexOf(u)<0&&o(u))return!0}};if(o(n.contentMatch))return!0}}class ru{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},i){i||(i=Jv(t).createDocumentFragment());let n=i,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let h=o.marks[l];if(!this.marks[h.type.name]){l++;continue}if(!h.eq(s[a][0])||h.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)n=s.pop()[1];for(;l<o.marks.length;){let h=o.marks[l++],u=this.serializeMark(h,o.isInline,t);u&&(s.push([h,n]),n.appendChild(u.dom),n=u.contentDOM||u.dom)}}n.appendChild(this.serializeNodeInner(o,t))}),i}serializeNodeInner(e,t){let{dom:i,contentDOM:n}=bg(Jv(t),this.nodes[e.type.name](e),null,e.attrs);if(n){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,n)}return i}serializeNode(e,t={}){let i=this.serializeNodeInner(e,t);for(let n=e.marks.length-1;n>=0;n--){let s=this.serializeMark(e.marks[n],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(i),i=s.dom)}return i}serializeMark(e,t,i={}){let n=this.marks[e.type.name];return n&&bg(Jv(i),n(e,t),null,e.attrs)}static renderSpec(e,t,i=null,n){return bg(e,t,i,n)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ru(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=ew(e.nodes);return t.text||(t.text=i=>i.text),t}static marksFromSchema(e){return ew(e.marks)}}function ew(r){let e={};for(let t in r){let i=r[t].spec.toDOM;i&&(e[t]=i)}return e}function Jv(r){return r.document||window.document}const tw=new WeakMap;function eV(r){let e=tw.get(r);return e===void 0&&tw.set(r,e=tV(r)),e}function tV(r){let e=null;function t(i){if(i&&typeof i=="object")if(Array.isArray(i))if(typeof i[0]=="string")e||(e=[]),e.push(i);else for(let n=0;n<i.length;n++)t(i[n]);else for(let n in i)t(i[n])}return t(r),e}function bg(r,e,t,i){if(typeof e=="string")return{dom:r.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let n=e[0],s;if(typeof n!="string")throw new RangeError("Invalid array passed to renderSpec");if(i&&(s=eV(i))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=n.indexOf(" ");o>0&&(t=n.slice(0,o),n=n.slice(o+1));let a,l=t?r.createElementNS(t,n):r.createElement(n),h=e[1],u=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){u=2;for(let c in h)if(h[c]!=null){let d=c.indexOf(" ");d>0?l.setAttributeNS(c.slice(0,d),c.slice(d+1),h[c]):l.setAttribute(c,h[c])}}for(let c=u;c<e.length;c++){let d=e[c];if(d===0){if(c<e.length-1||c>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:f,contentDOM:g}=bg(r,d,t,i);if(l.appendChild(f),g){if(a)throw new RangeError("Multiple content holes");a=g}}}return{dom:l,contentDOM:a}}const Rz=65535,jz=Math.pow(2,16);function iV(r,e){return r+e*jz}function iw(r){return r&Rz}function nV(r){return(r-(r&Rz))/jz}const Pz=1,Fz=2,Ig=4,Bz=8;class yS{constructor(e,t,i){this.pos=e,this.delInfo=t,this.recover=i}get deleted(){return(this.delInfo&Bz)>0}get deletedBefore(){return(this.delInfo&(Pz|Ig))>0}get deletedAfter(){return(this.delInfo&(Fz|Ig))>0}get deletedAcross(){return(this.delInfo&Ig)>0}}class Pr{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Pr.empty)return Pr.empty}recover(e){let t=0,i=iw(e);if(!this.inverted)for(let n=0;n<i;n++)t+=this.ranges[n*3+2]-this.ranges[n*3+1];return this.ranges[i*3]+t+nV(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,i){let n=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?n:0);if(l>e)break;let h=this.ranges[a+s],u=this.ranges[a+o],c=l+h;if(e<=c){let d=h?e==l?-1:e==c?1:t:t,f=l+n+(d<0?0:u);if(i)return f;let g=e==(t<0?l:c)?null:iV(a/3,e-l),m=e==l?Fz:e==c?Pz:Ig;return(t<0?e!=l:e!=c)&&(m|=Bz),new yS(f,m,g)}n+=u-h}return i?e+n:new yS(e+n,0,null)}touches(e,t){let i=0,n=iw(t),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let h=this.ranges[a+s],u=l+h;if(e<=u&&a==n*3)return!0;i+=this.ranges[a+o]-h}return!1}forEach(e){let t=this.inverted?2:1,i=this.inverted?1:2;for(let n=0,s=0;n<this.ranges.length;n+=3){let o=this.ranges[n],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),h=this.ranges[n+t],u=this.ranges[n+i];e(a,a+h,l,l+u),s+=u-h}}invert(){return new Pr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Pr.empty:new Pr(e<0?[0,-e,0]:[0,0,e])}}Pr.empty=new Pr([]);class lp{constructor(e,t,i=0,n=e?e.length:0){this.mirror=t,this.from=i,this.to=n,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new lp(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,i=this._maps.length;t<e._maps.length;t++){let n=e.getMirror(t);this.appendMap(e._maps[t],n!=null&&n<t?i+n:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,i=this._maps.length+e._maps.length;t>=0;t--){let n=e.getMirror(t);this.appendMap(e._maps[t].invert(),n!=null&&n>t?i-n-1:void 0)}}invert(){let e=new lp;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let i=this.from;i<this.to;i++)e=this._maps[i].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,i){let n=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],a=o.mapResult(e,t);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this._maps[l].recover(a.recover);continue}}n|=a.delInfo,e=a.pos}return i?e:new yS(e,n,null)}}const Zv=Object.create(null);class Yn{getMap(){return Pr.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=Zv[t.stepType];if(!i)throw new RangeError(`No step type ${t.stepType} defined`);return i.fromJSON(e,t)}static jsonID(e,t){if(e in Zv)throw new RangeError("Duplicate use of step JSON ID "+e);return Zv[e]=t,t.prototype.jsonID=e,t}}class Zi{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Zi(e,null)}static fail(e){return new Zi(null,e)}static fromReplace(e,t,i,n){try{return Zi.ok(e.replace(t,i,n))}catch(s){if(s instanceof cm)return Zi.fail(s.message);throw s}}}function _b(r,e,t){let i=[];for(let n=0;n<r.childCount;n++){let s=r.child(n);s.content.size&&(s=s.copy(_b(s.content,e,s))),s.isInline&&(s=e(s,t,n)),i.push(s)}return Oe.fromArray(i)}class il extends Yn{constructor(e,t,i){super(),this.from=e,this.to=t,this.mark=i}apply(e){let t=e.slice(this.from,this.to),i=e.resolve(this.from),n=i.node(i.sharedDepth(this.to)),s=new Ke(_b(t.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),n),t.openStart,t.openEnd);return Zi.fromReplace(e,this.from,this.to,s)}invert(){return new io(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return t.deleted&&i.deleted||t.pos>=i.pos?null:new il(t.pos,i.pos,this.mark)}merge(e){return e instanceof il&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new il(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new il(t.from,t.to,e.markFromJSON(t.mark))}}Yn.jsonID("addMark",il);class io extends Yn{constructor(e,t,i){super(),this.from=e,this.to=t,this.mark=i}apply(e){let t=e.slice(this.from,this.to),i=new Ke(_b(t.content,n=>n.mark(this.mark.removeFromSet(n.marks)),e),t.openStart,t.openEnd);return Zi.fromReplace(e,this.from,this.to,i)}invert(){return new il(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return t.deleted&&i.deleted||t.pos>=i.pos?null:new io(t.pos,i.pos,this.mark)}merge(e){return e instanceof io&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new io(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new io(t.from,t.to,e.markFromJSON(t.mark))}}Yn.jsonID("removeMark",io);class nl extends Yn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Zi.fail("No node at mark step's position");let i=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Zi.fromReplace(e,this.pos,this.pos+1,new Ke(Oe.from(i),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let i=this.mark.addToSet(t.marks);if(i.length==t.marks.length){for(let n=0;n<t.marks.length;n++)if(!t.marks[n].isInSet(i))return new nl(this.pos,t.marks[n]);return new nl(this.pos,this.mark)}}return new Qh(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new nl(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new nl(t.pos,e.markFromJSON(t.mark))}}Yn.jsonID("addNodeMark",nl);class Qh extends Yn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Zi.fail("No node at mark step's position");let i=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Zi.fromReplace(e,this.pos,this.pos+1,new Ke(Oe.from(i),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new nl(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Qh(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Qh(t.pos,e.markFromJSON(t.mark))}}Yn.jsonID("removeNodeMark",Qh);class gn extends Yn{constructor(e,t,i,n=!1){super(),this.from=e,this.to=t,this.slice=i,this.structure=n}apply(e){return this.structure&&vS(e,this.from,this.to)?Zi.fail("Structure replace would overwrite content"):Zi.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Pr([this.from,this.to-this.from,this.slice.size])}invert(e){return new gn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return t.deletedAcross&&i.deletedAcross?null:new gn(t.pos,Math.max(t.pos,i.pos),this.slice,this.structure)}merge(e){if(!(e instanceof gn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?Ke.empty:new Ke(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new gn(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?Ke.empty:new Ke(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new gn(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new gn(t.from,t.to,Ke.fromJSON(e,t.slice),!!t.structure)}}Yn.jsonID("replace",gn);class yn extends Yn{constructor(e,t,i,n,s,o,a=!1){super(),this.from=e,this.to=t,this.gapFrom=i,this.gapTo=n,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(vS(e,this.from,this.gapFrom)||vS(e,this.gapTo,this.to)))return Zi.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Zi.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,t.content);return i?Zi.fromReplace(e,this.from,this.to,i):Zi.fail("Content does not fit in gap")}getMap(){return new Pr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new yn(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),i=e.mapResult(this.to,-1),n=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?i.pos:e.map(this.gapTo,1);return t.deletedAcross&&i.deletedAcross||n<t.pos||s>i.pos?null:new yn(t.pos,i.pos,n,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new yn(t.from,t.to,t.gapFrom,t.gapTo,Ke.fromJSON(e,t.slice),t.insert,!!t.structure)}}Yn.jsonID("replaceAround",yn);function vS(r,e,t){let i=r.resolve(e),n=t-e,s=i.depth;for(;n>0&&s>0&&i.indexAfter(s)==i.node(s).childCount;)s--,n--;if(n>0){let o=i.node(s).maybeChild(i.indexAfter(s));for(;n>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,n--}}return!1}function rV(r,e,t,i){let n=[],s=[],o,a;r.doc.nodesBetween(e,t,(l,h,u)=>{if(!l.isInline)return;let c=l.marks;if(!i.isInSet(c)&&u.type.allowsMarkType(i.type)){let d=Math.max(h,e),f=Math.min(h+l.nodeSize,t),g=i.addToSet(c);for(let m=0;m<c.length;m++)c[m].isInSet(g)||(o&&o.to==d&&o.mark.eq(c[m])?o.to=f:n.push(o=new io(d,f,c[m])));a&&a.to==d?a.to=f:s.push(a=new il(d,f,i))}}),n.forEach(l=>r.step(l)),s.forEach(l=>r.step(l))}function sV(r,e,t,i){let n=[],s=0;r.doc.nodesBetween(e,t,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(i instanceof sv){let h=o.marks,u;for(;u=i.isInSet(h);)(l||(l=[])).push(u),h=u.removeFromSet(h)}else i?i.isInSet(o.marks)&&(l=[i]):l=o.marks;if(l&&l.length){let h=Math.min(a+o.nodeSize,t);for(let u=0;u<l.length;u++){let c=l[u],d;for(let f=0;f<n.length;f++){let g=n[f];g.step==s-1&&c.eq(n[f].style)&&(d=g)}d?(d.to=h,d.step=s):n.push({style:c,from:Math.max(a,e),to:h,step:s})}}}),n.forEach(o=>r.step(new io(o.from,o.to,o.style)))}function Yb(r,e,t,i=t.contentMatch,n=!0){let s=r.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<s.childCount;l++){let h=s.child(l),u=a+h.nodeSize,c=i.matchType(h.type);if(!c)o.push(new gn(a,u,Ke.empty));else{i=c;for(let d=0;d<h.marks.length;d++)t.allowsMarkType(h.marks[d].type)||r.step(new io(a,u,h.marks[d]));if(n&&h.isText&&t.whitespace!="pre"){let d,f=/\r?\n|\r/g,g;for(;d=f.exec(h.text);)g||(g=new Ke(Oe.from(t.schema.text(" ",t.allowedMarks(h.marks))),0,0)),o.push(new gn(a+d.index,a+d.index+d[0].length,g))}}a=u}if(!i.validEnd){let l=i.fillBefore(Oe.empty,!0);r.replace(a,a,new Ke(l,0,0))}for(let l=o.length-1;l>=0;l--)r.step(o[l])}function oV(r,e,t){return(e==0||r.canReplace(e,r.childCount))&&(t==r.childCount||r.canReplace(0,t))}function Rc(r){let t=r.parent.content.cutByIndex(r.startIndex,r.endIndex);for(let i=r.depth;;--i){let n=r.$from.node(i),s=r.$from.index(i),o=r.$to.indexAfter(i);if(i<r.depth&&n.canReplace(s,o,t))return i;if(i==0||n.type.spec.isolating||!oV(n,s,o))break}return null}function aV(r,e,t){let{$from:i,$to:n,depth:s}=e,o=i.before(s+1),a=n.after(s+1),l=o,h=a,u=Oe.empty,c=0;for(let g=s,m=!1;g>t;g--)m||i.index(g)>0?(m=!0,u=Oe.from(i.node(g).copy(u)),c++):l--;let d=Oe.empty,f=0;for(let g=s,m=!1;g>t;g--)m||n.after(g+1)<n.end(g)?(m=!0,d=Oe.from(n.node(g).copy(d)),f++):h++;r.step(new yn(l,h,o,a,new Ke(u.append(d),c,f),u.size-c,!0))}function Wb(r,e,t=null,i=r){let n=lV(r,e),s=n&&hV(i,e);return s?n.map(nw).concat({type:e,attrs:t}).concat(s.map(nw)):null}function nw(r){return{type:r,attrs:null}}function lV(r,e){let{parent:t,startIndex:i,endIndex:n}=r,s=t.contentMatchAt(i).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return t.canReplaceWith(i,n,o)?s:null}function hV(r,e){let{parent:t,startIndex:i,endIndex:n}=r,s=t.child(i),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let h=i;l&&h<n;h++)l=l.matchType(t.child(h).type);return!l||!l.validEnd?null:o}function uV(r,e,t){let i=Oe.empty;for(let o=t.length-1;o>=0;o--){if(i.size){let a=t[o].type.contentMatch.matchFragment(i);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=Oe.from(t[o].type.create(t[o].attrs,i))}let n=e.start,s=e.end;r.step(new yn(n,s,n,s,new Ke(i,0,0),t.length,!0))}function cV(r,e,t,i,n){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=r.steps.length;r.doc.nodesBetween(e,t,(o,a)=>{let l=typeof n=="function"?n(o):n;if(o.isTextblock&&!o.hasMarkup(i,l)&&dV(r.doc,r.mapping.slice(s).map(a),i)){let h=null;if(i.schema.linebreakReplacement){let f=i.whitespace=="pre",g=!!i.contentMatch.matchType(i.schema.linebreakReplacement);f&&!g?h=!1:!f&&g&&(h=!0)}h===!1&&Hz(r,o,a,s),Yb(r,r.mapping.slice(s).map(a,1),i,void 0,h===null);let u=r.mapping.slice(s),c=u.map(a,1),d=u.map(a+o.nodeSize,1);return r.step(new yn(c,d,c+1,d-1,new Ke(Oe.from(i.create(l,null,o.marks)),0,0),1,!0)),h===!0&&Uz(r,o,a,s),!1}})}function Uz(r,e,t,i){e.forEach((n,s)=>{if(n.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(n.text);){let l=r.mapping.slice(i).map(t+1+s+o.index);r.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function Hz(r,e,t,i){e.forEach((n,s)=>{if(n.type==n.type.schema.linebreakReplacement){let o=r.mapping.slice(i).map(t+1+s);r.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function dV(r,e,t){let i=r.resolve(e),n=i.index();return i.parent.canReplaceWith(n,n+1,t)}function pV(r,e,t,i,n){let s=r.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");t||(t=s.type);let o=t.create(i,null,n||s.marks);if(s.isLeaf)return r.replaceWith(e,e+s.nodeSize,o);if(!t.validContent(s.content))throw new RangeError("Invalid content for node type "+t.name);r.step(new yn(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Ke(Oe.from(o),0,0),1,!0))}function ra(r,e,t=1,i){let n=r.resolve(e),s=n.depth-t,o=i&&i[i.length-1]||n.parent;if(s<0||n.parent.type.spec.isolating||!n.parent.canReplace(n.index(),n.parent.childCount)||!o.type.validContent(n.parent.content.cutByIndex(n.index(),n.parent.childCount)))return!1;for(let h=n.depth-1,u=t-2;h>s;h--,u--){let c=n.node(h),d=n.index(h);if(c.type.spec.isolating)return!1;let f=c.content.cutByIndex(d,c.childCount),g=i&&i[u+1];g&&(f=f.replaceChild(0,g.type.create(g.attrs)));let m=i&&i[u]||c;if(!c.canReplace(d+1,c.childCount)||!m.type.validContent(f))return!1}let a=n.indexAfter(s),l=i&&i[0];return n.node(s).canReplaceWith(a,a,l?l.type:n.node(s+1).type)}function fV(r,e,t=1,i){let n=r.doc.resolve(e),s=Oe.empty,o=Oe.empty;for(let a=n.depth,l=n.depth-t,h=t-1;a>l;a--,h--){s=Oe.from(n.node(a).copy(s));let u=i&&i[h];o=Oe.from(u?u.type.create(u.attrs,o):n.node(a).copy(o))}r.step(new gn(e,e,new Ke(s.append(o),t,t),!0))}function Ll(r,e){let t=r.resolve(e),i=t.index();return Vz(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(i,i+1)}function gV(r,e){e.content.size||r.type.compatibleContent(e.type);let t=r.contentMatchAt(r.childCount),{linebreakReplacement:i}=r.type.schema;for(let n=0;n<e.childCount;n++){let s=e.child(n),o=s.type==i?r.type.schema.nodes.text:s.type;if(t=t.matchType(o),!t||!r.type.allowsMarks(s.marks))return!1}return t.validEnd}function Vz(r,e){return!!(r&&e&&!r.isLeaf&&gV(r,e))}function ov(r,e,t=-1){let i=r.resolve(e);for(let n=i.depth;;n--){let s,o,a=i.index(n);if(n==i.depth?(s=i.nodeBefore,o=i.nodeAfter):t>0?(s=i.node(n+1),a++,o=i.node(n).maybeChild(a)):(s=i.node(n).maybeChild(a-1),o=i.node(n+1)),s&&!s.isTextblock&&Vz(s,o)&&i.node(n).canReplace(a,a+1))return e;if(n==0)break;e=t<0?i.before(n):i.after(n)}}function mV(r,e,t){let i=null,{linebreakReplacement:n}=r.doc.type.schema,s=r.doc.resolve(e-t),o=s.node().type;if(n&&o.inlineContent){let u=o.whitespace=="pre",c=!!o.contentMatch.matchType(n);u&&!c?i=!1:!u&&c&&(i=!0)}let a=r.steps.length;if(i===!1){let u=r.doc.resolve(e+t);Hz(r,u.node(),u.before(),a)}o.inlineContent&&Yb(r,e+t-1,o,s.node().contentMatchAt(s.index()),i==null);let l=r.mapping.slice(a),h=l.map(e-t);if(r.step(new gn(h,l.map(e+t,-1),Ke.empty,!0)),i===!0){let u=r.doc.resolve(h);Uz(r,u.node(),u.before(),r.steps.length)}return r}function yV(r,e,t){let i=r.resolve(e);if(i.parent.canReplaceWith(i.index(),i.index(),t))return e;if(i.parentOffset==0)for(let n=i.depth-1;n>=0;n--){let s=i.index(n);if(i.node(n).canReplaceWith(s,s,t))return i.before(n+1);if(s>0)return null}if(i.parentOffset==i.parent.content.size)for(let n=i.depth-1;n>=0;n--){let s=i.indexAfter(n);if(i.node(n).canReplaceWith(s,s,t))return i.after(n+1);if(s<i.node(n).childCount)return null}return null}function Qz(r,e,t){let i=r.resolve(e);if(!t.content.size)return e;let n=t.content;for(let s=0;s<t.openStart;s++)n=n.firstChild.content;for(let s=1;s<=(t.openStart==0&&t.size?2:1);s++)for(let o=i.depth;o>=0;o--){let a=o==i.depth?0:i.pos<=(i.start(o+1)+i.end(o+1))/2?-1:1,l=i.index(o)+(a>0?1:0),h=i.node(o),u=!1;if(s==1)u=h.canReplace(l,l,n);else{let c=h.contentMatchAt(l).findWrapping(n.firstChild.type);u=c&&h.canReplaceWith(l,l,c[0])}if(u)return a==0?i.pos:a<0?i.before(o+1):i.after(o+1)}return null}function av(r,e,t=e,i=Ke.empty){if(e==t&&!i.size)return null;let n=r.resolve(e),s=r.resolve(t);return _z(n,s,i)?new gn(e,t,i):new vV(n,s,i).fit()}function _z(r,e,t){return!t.openStart&&!t.openEnd&&r.start()==e.start()&&r.parent.canReplace(r.index(),e.index(),t.content)}class vV{constructor(e,t,i){this.$from=e,this.$to=t,this.unplaced=i,this.frontier=[],this.placed=Oe.empty;for(let n=0;n<=e.depth;n++){let s=e.node(n);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(n))})}for(let n=e.depth;n>0;n--)this.placed=Oe.from(e.node(n).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,i=this.$from,n=this.close(e<0?this.$to:i.doc.resolve(e));if(!n)return null;let s=this.placed,o=i.depth,a=n.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new Ke(s,o,a);return e>-1?new yn(i.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||i.pos!=this.$to.pos?new gn(i.pos,n.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,i=0,n=this.unplaced.openEnd;i<e;i++){let s=t.firstChild;if(t.childCount>1&&(n=0),s.type.spec.isolating&&n<=i){e=i;break}t=s.content}for(let t=1;t<=2;t++)for(let i=t==1?e:this.unplaced.openStart;i>=0;i--){let n,s=null;i?(s=Xv(this.unplaced.content,i-1).firstChild,n=s.content):n=this.unplaced.content;let o=n.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:h}=this.frontier[a],u,c=null;if(t==1&&(o?h.matchType(o.type)||(c=h.fillBefore(Oe.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:i,frontierDepth:a,parent:s,inject:c};if(t==2&&o&&(u=h.findWrapping(o.type)))return{sliceDepth:i,frontierDepth:a,parent:s,wrap:u};if(s&&h.matchType(s.type))break}}}openMore(){let{content:e,openStart:t,openEnd:i}=this.unplaced,n=Xv(e,t);return!n.childCount||n.firstChild.isLeaf?!1:(this.unplaced=new Ke(e,t+1,Math.max(i,n.size+t>=e.size-i?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:i}=this.unplaced,n=Xv(e,t);if(n.childCount<=1&&t>0){let s=e.size-t<=t+n.size;this.unplaced=new Ke(yd(e,t-1,1),t-1,s?t-1:i)}else this.unplaced=new Ke(yd(e,t,1),t,i)}placeNodes({sliceDepth:e,frontierDepth:t,parent:i,inject:n,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let m=0;m<s.length;m++)this.openFrontierNode(s[m]);let o=this.unplaced,a=i?i.content:o.content,l=o.openStart-e,h=0,u=[],{match:c,type:d}=this.frontier[t];if(n){for(let m=0;m<n.childCount;m++)u.push(n.child(m));c=c.matchFragment(n)}let f=a.size+e-(o.content.size-o.openEnd);for(;h<a.childCount;){let m=a.child(h),y=c.matchType(m.type);if(!y)break;h++,(h>1||l==0||m.content.size)&&(c=y,u.push(Yz(m.mark(d.allowedMarks(m.marks)),h==1?l:0,h==a.childCount?f:-1)))}let g=h==a.childCount;g||(f=-1),this.placed=vd(this.placed,t,Oe.from(u)),this.frontier[t].match=c,g&&f<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,y=a;m<f;m++){let v=y.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),y=v.content}this.unplaced=g?e==0?Ke.empty:new Ke(yd(o.content,e-1,1),e-1,f<0?o.openEnd:e-1):new Ke(yd(o.content,e,h),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!eM(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:i}=this.$to,n=this.$to.after(i);for(;i>1&&n==this.$to.end(--i);)++n;return n}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:i,type:n}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=eM(e,t,n,i,s);if(o){for(let a=t-1;a>=0;a--){let{match:l,type:h}=this.frontier[a],u=eM(e,a,h,l,!0);if(!u||u.childCount)continue e}return{depth:t,fit:o,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=vd(this.placed,t.depth,t.fit)),e=t.move;for(let i=t.depth+1;i<=e.depth;i++){let n=e.node(i),s=n.type.contentMatch.fillBefore(n.content,!0,e.index(i));this.openFrontierNode(n.type,n.attrs,s)}return e}openFrontierNode(e,t=null,i){let n=this.frontier[this.depth];n.match=n.match.matchType(e),this.placed=vd(this.placed,this.depth,Oe.from(e.create(t,i))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(Oe.empty,!0);t.childCount&&(this.placed=vd(this.placed,this.frontier.length,t))}}function yd(r,e,t){return e==0?r.cutByIndex(t,r.childCount):r.replaceChild(0,r.firstChild.copy(yd(r.firstChild.content,e-1,t)))}function vd(r,e,t){return e==0?r.append(t):r.replaceChild(r.childCount-1,r.lastChild.copy(vd(r.lastChild.content,e-1,t)))}function Xv(r,e){for(let t=0;t<e;t++)r=r.firstChild.content;return r}function Yz(r,e,t){if(e<=0)return r;let i=r.content;return e>1&&(i=i.replaceChild(0,Yz(i.firstChild,e-1,i.childCount==1?t-1:0))),e>0&&(i=r.type.contentMatch.fillBefore(i).append(i),t<=0&&(i=i.append(r.type.contentMatch.matchFragment(i).fillBefore(Oe.empty,!0)))),r.copy(i)}function eM(r,e,t,i,n){let s=r.node(e),o=n?r.indexAfter(e):r.index(e);if(o==s.childCount&&!t.compatibleContent(s.type))return null;let a=i.fillBefore(s.content,!0,o);return a&&!MV(t,s.content,o)?a:null}function MV(r,e,t){for(let i=t;i<e.childCount;i++)if(!r.allowsMarks(e.child(i).marks))return!0;return!1}function SV(r){return r.spec.defining||r.spec.definingForContent}function CV(r,e,t,i){if(!i.size)return r.deleteRange(e,t);let n=r.doc.resolve(e),s=r.doc.resolve(t);if(_z(n,s,i))return r.step(new gn(e,t,i));let o=qz(n,r.doc.resolve(t));o[o.length-1]==0&&o.pop();let a=-(n.depth+1);o.unshift(a);for(let d=n.depth,f=n.pos-1;d>0;d--,f--){let g=n.node(d).type.spec;if(g.defining||g.definingAsContext||g.isolating)break;o.indexOf(d)>-1?a=d:n.before(d)==f&&o.splice(1,0,-d)}let l=o.indexOf(a),h=[],u=i.openStart;for(let d=i.content,f=0;;f++){let g=d.firstChild;if(h.push(g),f==i.openStart)break;d=g.content}for(let d=u-1;d>=0;d--){let f=h[d],g=SV(f.type);if(g&&!f.sameMarkup(n.node(Math.abs(a)-1)))u=d;else if(g||!f.type.isTextblock)break}for(let d=i.openStart;d>=0;d--){let f=(d+u+1)%(i.openStart+1),g=h[f];if(g)for(let m=0;m<o.length;m++){let y=o[(m+l)%o.length],v=!0;y<0&&(v=!1,y=-y);let M=n.node(y-1),S=n.index(y-1);if(M.canReplaceWith(S,S,g.type,g.marks))return r.replace(n.before(y),v?s.after(y):t,new Ke(Wz(i.content,0,i.openStart,f),f,i.openEnd))}}let c=r.steps.length;for(let d=o.length-1;d>=0&&(r.replace(e,t,i),!(r.steps.length>c));d--){let f=o[d];f<0||(e=n.before(f),t=s.after(f))}}function Wz(r,e,t,i,n){if(e<t){let s=r.firstChild;r=r.replaceChild(0,s.copy(Wz(s.content,e+1,t,i,s)))}if(e>i){let s=n.contentMatchAt(0),o=s.fillBefore(r).append(r);r=o.append(s.matchFragment(o).fillBefore(Oe.empty,!0))}return r}function bV(r,e,t,i){if(!i.isInline&&e==t&&r.doc.resolve(e).parent.content.size){let n=yV(r.doc,e,i.type);n!=null&&(e=t=n)}r.replaceRange(e,t,new Ke(Oe.from(i),0,0))}function IV(r,e,t){let i=r.doc.resolve(e),n=r.doc.resolve(t),s=qz(i,n);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||i.node(a).type.contentMatch.validEnd)return r.delete(i.start(a),n.end(a));if(a>0&&(l||i.node(a-1).canReplace(i.index(a-1),n.indexAfter(a-1))))return r.delete(i.before(a),n.after(a))}for(let o=1;o<=i.depth&&o<=n.depth;o++)if(e-i.start(o)==i.depth-o&&t>i.end(o)&&n.end(o)-t!=n.depth-o&&i.start(o-1)==n.start(o-1)&&i.node(o-1).canReplace(i.index(o-1),n.index(o-1)))return r.delete(i.before(o),t);r.delete(e,t)}function qz(r,e){let t=[],i=Math.min(r.depth,e.depth);for(let n=i;n>=0;n--){let s=r.start(n);if(s<r.pos-(r.depth-n)||e.end(n)>e.pos+(e.depth-n)||r.node(n).type.spec.isolating||e.node(n).type.spec.isolating)break;(s==e.start(n)||n==r.depth&&n==e.depth&&r.parent.inlineContent&&e.parent.inlineContent&&n&&e.start(n-1)==s-1)&&t.push(n)}return t}class Fu extends Yn{constructor(e,t,i){super(),this.pos=e,this.attr=t,this.value=i}apply(e){let t=e.nodeAt(this.pos);if(!t)return Zi.fail("No node at attribute step's position");let i=Object.create(null);for(let s in t.attrs)i[s]=t.attrs[s];i[this.attr]=this.value;let n=t.type.create(i,null,t.marks);return Zi.fromReplace(e,this.pos,this.pos+1,new Ke(Oe.from(n),0,t.isLeaf?0:1))}getMap(){return Pr.empty}invert(e){return new Fu(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Fu(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Fu(t.pos,t.attr,t.value)}}Yn.jsonID("attr",Fu);class hp extends Yn{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let n in e.attrs)t[n]=e.attrs[n];t[this.attr]=this.value;let i=e.type.create(t,e.content,e.marks);return Zi.ok(i)}getMap(){return Pr.empty}invert(e){return new hp(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new hp(t.attr,t.value)}}Yn.jsonID("docAttr",hp);let gc=class extends Error{};gc=function r(e){let t=Error.call(this,e);return t.__proto__=r.prototype,t};gc.prototype=Object.create(Error.prototype);gc.prototype.constructor=gc;gc.prototype.name="TransformError";class Gz{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new lp}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new gc(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,i=Ke.empty){let n=av(this.doc,e,t,i);return n&&this.step(n),this}replaceWith(e,t,i){return this.replace(e,t,new Ke(Oe.from(i),0,0))}delete(e,t){return this.replace(e,t,Ke.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,i){return CV(this,e,t,i),this}replaceRangeWith(e,t,i){return bV(this,e,t,i),this}deleteRange(e,t){return IV(this,e,t),this}lift(e,t){return aV(this,e,t),this}join(e,t=1){return mV(this,e,t),this}wrap(e,t){return uV(this,e,t),this}setBlockType(e,t=e,i,n=null){return cV(this,e,t,i,n),this}setNodeMarkup(e,t,i=null,n){return pV(this,e,t,i,n),this}setNodeAttribute(e,t,i){return this.step(new Fu(e,t,i)),this}setDocAttribute(e,t){return this.step(new hp(e,t)),this}addNodeMark(e,t){return this.step(new nl(e,t)),this}removeNodeMark(e,t){let i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at position "+e);if(t instanceof yi)t.isInSet(i.marks)&&this.step(new Qh(e,t));else{let n=i.marks,s,o=[];for(;s=t.isInSet(n);)o.push(new Qh(e,s)),n=s.removeFromSet(n);for(let a=o.length-1;a>=0;a--)this.step(o[a])}return this}split(e,t=1,i){return fV(this,e,t,i),this}addMark(e,t,i){return rV(this,e,t,i),this}removeMark(e,t,i){return sV(this,e,t,i),this}clearIncompatible(e,t,i){return Yb(this,e,t,i),this}}const tM=Object.create(null);let Ot=class{constructor(e,t,i){this.$anchor=e,this.$head=t,this.ranges=i||[new DV(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=Ke.empty){let i=t.content.lastChild,n=null;for(let a=0;a<t.openEnd;a++)n=i,i=i.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:h}=o[a],u=e.mapping.slice(s);e.replaceRange(u.map(l.pos),u.map(h.pos),a?Ke.empty:t),a==0&&ow(e,s,(i?i.isInline:n&&n.isTextblock)?-1:1)}}replaceWith(e,t){let i=e.steps.length,n=this.ranges;for(let s=0;s<n.length;s++){let{$from:o,$to:a}=n[s],l=e.mapping.slice(i),h=l.map(o.pos),u=l.map(a.pos);s?e.deleteRange(h,u):(e.replaceRangeWith(h,u,t),ow(e,i,t.isInline?-1:1))}}static findFrom(e,t,i=!1){let n=e.parent.inlineContent?new Nt(e):bu(e.node(0),e.parent,e.pos,e.index(),t,i);if(n)return n;for(let s=e.depth-1;s>=0;s--){let o=t<0?bu(e.node(0),e.node(s),e.before(s+1),e.index(s),t,i):bu(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,i);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Br(e.node(0))}static atStart(e){return bu(e,e,0,0,1)||new Br(e)}static atEnd(e){return bu(e,e,e.content.size,e.childCount,-1)||new Br(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=tM[t.type];if(!i)throw new RangeError(`No selection type ${t.type} defined`);return i.fromJSON(e,t)}static jsonID(e,t){if(e in tM)throw new RangeError("Duplicate use of selection JSON ID "+e);return tM[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Nt.between(this.$anchor,this.$head).getBookmark()}};Ot.prototype.visible=!0;class DV{constructor(e,t){this.$from=e,this.$to=t}}let rw=!1;function sw(r){!rw&&!r.parent.inlineContent&&(rw=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+r.parent.type.name+")"))}class Nt extends Ot{constructor(e,t=e){sw(e),sw(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let i=e.resolve(t.map(this.head));if(!i.parent.inlineContent)return Ot.near(i);let n=e.resolve(t.map(this.anchor));return new Nt(n.parent.inlineContent?n:i,i)}replace(e,t=Ke.empty){if(super.replace(e,t),t==Ke.empty){let i=this.$from.marksAcross(this.$to);i&&e.ensureMarks(i)}}eq(e){return e instanceof Nt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new lv(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Nt(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,i=t){let n=e.resolve(t);return new this(n,i==t?n:e.resolve(i))}static between(e,t,i){let n=e.pos-t.pos;if((!i||n)&&(i=n>=0?1:-1),!t.parent.inlineContent){let s=Ot.findFrom(t,i,!0)||Ot.findFrom(t,-i,!0);if(s)t=s.$head;else return Ot.near(t,i)}return e.parent.inlineContent||(n==0?e=t:(e=(Ot.findFrom(e,-i,!0)||Ot.findFrom(e,i,!0)).$anchor,e.pos<t.pos!=n<0&&(e=t))),new Nt(e,t)}}Ot.jsonID("text",Nt);class lv{constructor(e,t){this.anchor=e,this.head=t}map(e){return new lv(e.map(this.anchor),e.map(this.head))}resolve(e){return Nt.between(e.resolve(this.anchor),e.resolve(this.head))}}class ct extends Ot{constructor(e){let t=e.nodeAfter,i=e.node(0).resolve(e.pos+t.nodeSize);super(e,i),this.node=t}map(e,t){let{deleted:i,pos:n}=t.mapResult(this.anchor),s=e.resolve(n);return i?Ot.near(s):new ct(s)}content(){return new Ke(Oe.from(this.node),0,0)}eq(e){return e instanceof ct&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new qb(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ct(e.resolve(t.anchor))}static create(e,t){return new ct(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ct.prototype.visible=!1;Ot.jsonID("node",ct);class qb{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:i}=e.mapResult(this.anchor);return t?new lv(i,i):new qb(i)}resolve(e){let t=e.resolve(this.anchor),i=t.nodeAfter;return i&&ct.isSelectable(i)?new ct(t):Ot.near(t)}}class Br extends Ot{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Ke.empty){if(t==Ke.empty){e.delete(0,e.doc.content.size);let i=Ot.atStart(e.doc);i.eq(e.selection)||e.setSelection(i)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Br(e)}map(e){return new Br(e)}eq(e){return e instanceof Br}getBookmark(){return TV}}Ot.jsonID("all",Br);const TV={map(){return this},resolve(r){return new Br(r)}};function bu(r,e,t,i,n,s=!1){if(e.inlineContent)return Nt.create(r,t);for(let o=i-(n>0?0:1);n>0?o<e.childCount:o>=0;o+=n){let a=e.child(o);if(a.isAtom){if(!s&&ct.isSelectable(a))return ct.create(r,t-(n<0?a.nodeSize:0))}else{let l=bu(r,a,t+n,n<0?a.childCount:0,n,s);if(l)return l}t+=a.nodeSize*n}return null}function ow(r,e,t){let i=r.steps.length-1;if(i<e)return;let n=r.steps[i];if(!(n instanceof gn||n instanceof yn))return;let s=r.mapping.maps[i],o;s.forEach((a,l,h,u)=>{o==null&&(o=u)}),r.setSelection(Ot.near(r.doc.resolve(o),t))}const aw=1,lw=2,hw=4;class wV extends Gz{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|aw)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&aw)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=lw,this}ensureMarks(e){return yi.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&lw)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let i=this.selection;return t&&(e=e.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||yi.none))),i.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,i){let n=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(n.text(e),!0):this.deleteSelection();{if(i==null&&(i=t),i=i??t,!e)return this.deleteRange(t,i);let s=this.storedMarks;if(!s){let o=this.doc.resolve(t);s=i==t?o.marks():o.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(t,i,n.text(e,s)),this.selection.empty||this.setSelection(Ot.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=hw,this}get scrolledIntoView(){return(this.updated&hw)>0}}function uw(r,e){return!e||!r?r:r.bind(e)}class Md{constructor(e,t,i){this.name=e,this.init=uw(t.init,i),this.apply=uw(t.apply,i)}}const xV=[new Md("doc",{init(r){return r.doc||r.schema.topNodeType.createAndFill()},apply(r){return r.doc}}),new Md("selection",{init(r,e){return r.selection||Ot.atStart(e.doc)},apply(r){return r.selection}}),new Md("storedMarks",{init(r){return r.storedMarks||null},apply(r,e,t,i){return i.selection.$cursor?r.storedMarks:null}}),new Md("scrollToSelection",{init(){return 0},apply(r,e){return r.scrolledIntoView?e+1:e}})];class iM{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=xV.slice(),t&&t.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new Md(i.key,i.spec.state,i))})}}class Au{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=t){let n=this.config.plugins[i];if(n.spec.filterTransaction&&!n.spec.filterTransaction.call(n,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],i=this.applyInner(e),n=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=n?n[o].n:0,h=n?n[o].state:this,u=l<t.length&&a.spec.appendTransaction.call(a,l?t.slice(l):t,h,i);if(u&&i.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!n){n=[];for(let c=0;c<this.config.plugins.length;c++)n.push(c<o?{state:i,n:t.length}:{state:this,n:0})}t.push(u),i=i.applyInner(u),s=!0}n&&(n[o]={state:i,n:t.length})}}if(!s)return{state:i,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Au(this.config),i=this.config.fields;for(let n=0;n<i.length;n++){let s=i[n];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new wV(this)}static create(e){let t=new iM(e.doc?e.doc.type.schema:e.schema,e.plugins),i=new Au(t);for(let n=0;n<t.fields.length;n++)i[t.fields[n].name]=t.fields[n].init(e,i);return i}reconfigure(e){let t=new iM(this.schema,e.plugins),i=t.fields,n=new Au(t);for(let s=0;s<i.length;s++){let o=i[s].name;n[o]=this.hasOwnProperty(o)?this[o]:i[s].init(e,n)}return n}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(i=>i.toJSON())),e&&typeof e=="object")for(let i in e){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let n=e[i],s=n.spec.state;s&&s.toJSON&&(t[i]=s.toJSON.call(n,this[n.key]))}return t}static fromJSON(e,t,i){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let n=new iM(e.schema,e.plugins),s=new Au(n);return n.fields.forEach(o=>{if(o.name=="doc")s.doc=dl.fromJSON(e.schema,t.doc);else if(o.name=="selection")s.selection=Ot.fromJSON(s.doc,t.selection);else if(o.name=="storedMarks")t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(i)for(let a in i){let l=i[a],h=l.spec.state;if(l.key==o.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(t,a)){s[o.name]=h.fromJSON.call(l,e,t[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function $z(r,e,t){for(let i in r){let n=r[i];n instanceof Function?n=n.bind(e):i=="handleDOMEvents"&&(n=$z(n,e,{})),t[i]=n}return t}class kn{constructor(e){this.spec=e,this.props={},e.props&&$z(e.props,this,this.props),this.key=e.key?e.key.key:Kz("plugin")}getState(e){return e[this.key]}}const nM=Object.create(null);function Kz(r){return r in nM?r+"$"+ ++nM[r]:(nM[r]=0,r+"$")}class Qr{constructor(e="key"){this.key=Kz(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Nn=function(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e},mc=function(r){let e=r.assignedSlot||r.parentNode;return e&&e.nodeType==11?e.host:e};let MS=null;const Vo=function(r,e,t){let i=MS||(MS=document.createRange());return i.setEnd(r,t??r.nodeValue.length),i.setStart(r,e||0),i},NV=function(){MS=null},_h=function(r,e,t,i){return t&&(cw(r,e,t,i,-1)||cw(r,e,t,i,1))},AV=/^(img|br|input|textarea|hr)$/i;function cw(r,e,t,i,n){for(var s;;){if(r==t&&e==i)return!0;if(e==(n<0?0:rs(r))){let o=r.parentNode;if(!o||o.nodeType!=1||Xp(r)||AV.test(r.nodeName)||r.contentEditable=="false")return!1;e=Nn(r)+(n<0?0:1),r=o}else if(r.nodeType==1){let o=r.childNodes[e+(n<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((s=o.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=n;else return!1;else r=o,e=n<0?rs(r):0}else return!1}}function rs(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function EV(r,e){for(;;){if(r.nodeType==3&&e)return r;if(r.nodeType==1&&e>0){if(r.contentEditable=="false")return null;r=r.childNodes[e-1],e=rs(r)}else if(r.parentNode&&!Xp(r))e=Nn(r),r=r.parentNode;else return null}}function kV(r,e){for(;;){if(r.nodeType==3&&e<r.nodeValue.length)return r;if(r.nodeType==1&&e<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[e],e=0}else if(r.parentNode&&!Xp(r))e=Nn(r)+1,r=r.parentNode;else return null}}function LV(r,e,t){for(let i=e==0,n=e==rs(r);i||n;){if(r==t)return!0;let s=Nn(r);if(r=r.parentNode,!r)return!1;i=i&&s==0,n=n&&s==rs(r)}}function Xp(r){let e;for(let t=r;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==r||e.contentDOM==r)}const hv=function(r){return r.focusNode&&_h(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)};function Xl(r,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=r,t.key=t.code=e,t}function zV(r){let e=r.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function OV(r,e,t){if(r.caretPositionFromPoint)try{let i=r.caretPositionFromPoint(e,t);if(i)return{node:i.offsetNode,offset:Math.min(rs(i.offsetNode),i.offset)}}catch{}if(r.caretRangeFromPoint){let i=r.caretRangeFromPoint(e,t);if(i)return{node:i.startContainer,offset:Math.min(rs(i.startContainer),i.startOffset)}}}const fo=typeof navigator<"u"?navigator:null,dw=typeof document<"u"?document:null,zl=fo&&fo.userAgent||"",SS=/Edge\/(\d+)/.exec(zl),Jz=/MSIE \d/.exec(zl),CS=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(zl),Sr=!!(Jz||CS||SS),fl=Jz?document.documentMode:CS?+CS[1]:SS?+SS[1]:0,zs=!Sr&&/gecko\/(\d+)/i.test(zl);zs&&+(/Firefox\/(\d+)/.exec(zl)||[0,0])[1];const bS=!Sr&&/Chrome\/(\d+)/.exec(zl),Qn=!!bS,Zz=bS?+bS[1]:0,sr=!Sr&&!!fo&&/Apple Computer/.test(fo.vendor),yc=sr&&(/Mobile\/\w+/.test(zl)||!!fo&&fo.maxTouchPoints>2),es=yc||(fo?/Mac/.test(fo.platform):!1),RV=fo?/Win/.test(fo.platform):!1,Zo=/Android \d/.test(zl),ef=!!dw&&"webkitFontSmoothing"in dw.documentElement.style,jV=ef?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function PV(r){let e=r.defaultView&&r.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:r.documentElement.clientWidth,top:0,bottom:r.documentElement.clientHeight}}function To(r,e){return typeof r=="number"?r:r[e]}function FV(r){let e=r.getBoundingClientRect(),t=e.width/r.offsetWidth||1,i=e.height/r.offsetHeight||1;return{left:e.left,right:e.left+r.clientWidth*t,top:e.top,bottom:e.top+r.clientHeight*i}}function pw(r,e,t){let i=r.someProp("scrollThreshold")||0,n=r.someProp("scrollMargin")||5,s=r.dom.ownerDocument;for(let o=t||r.dom;o;){if(o.nodeType!=1){o=mc(o);continue}let a=o,l=a==s.body,h=l?PV(s):FV(a),u=0,c=0;if(e.top<h.top+To(i,"top")?c=-(h.top-e.top+To(n,"top")):e.bottom>h.bottom-To(i,"bottom")&&(c=e.bottom-e.top>h.bottom-h.top?e.top+To(n,"top")-h.top:e.bottom-h.bottom+To(n,"bottom")),e.left<h.left+To(i,"left")?u=-(h.left-e.left+To(n,"left")):e.right>h.right-To(i,"right")&&(u=e.right-h.right+To(n,"right")),u||c)if(l)s.defaultView.scrollBy(u,c);else{let f=a.scrollLeft,g=a.scrollTop;c&&(a.scrollTop+=c),u&&(a.scrollLeft+=u);let m=a.scrollLeft-f,y=a.scrollTop-g;e={left:e.left-m,top:e.top-y,right:e.right-m,bottom:e.bottom-y}}let d=l?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(d))break;o=d=="absolute"?o.offsetParent:mc(o)}}function BV(r){let e=r.dom.getBoundingClientRect(),t=Math.max(0,e.top),i,n;for(let s=(e.left+e.right)/2,o=t+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=r.root.elementFromPoint(s,o);if(!a||a==r.dom||!r.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=t-20){i=a,n=l.top;break}}return{refDOM:i,refTop:n,stack:Xz(r.dom)}}function Xz(r){let e=[],t=r.ownerDocument;for(let i=r;i&&(e.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),r!=t);i=mc(i));return e}function UV({refDOM:r,refTop:e,stack:t}){let i=r?r.getBoundingClientRect().top:0;eO(t,i==0?0:i-e)}function eO(r,e){for(let t=0;t<r.length;t++){let{dom:i,top:n,left:s}=r[t];i.scrollTop!=n+e&&(i.scrollTop=n+e),i.scrollLeft!=s&&(i.scrollLeft=s)}}let hu=null;function HV(r){if(r.setActive)return r.setActive();if(hu)return r.focus(hu);let e=Xz(r);r.focus(hu==null?{get preventScroll(){return hu={preventScroll:!0},!0}}:void 0),hu||(hu=!1,eO(e,0))}function tO(r,e){let t,i=2e8,n,s=0,o=e.top,a=e.top,l,h;for(let u=r.firstChild,c=0;u;u=u.nextSibling,c++){let d;if(u.nodeType==1)d=u.getClientRects();else if(u.nodeType==3)d=Vo(u).getClientRects();else continue;for(let f=0;f<d.length;f++){let g=d[f];if(g.top<=o&&g.bottom>=a){o=Math.max(g.bottom,o),a=Math.min(g.top,a);let m=g.left>e.left?g.left-e.left:g.right<e.left?e.left-g.right:0;if(m<i){t=u,i=m,n=m&&t.nodeType==3?{left:g.right<e.left?g.right:g.left,top:e.top}:e,u.nodeType==1&&m&&(s=c+(e.left>=(g.left+g.right)/2?1:0));continue}}else g.top>e.top&&!l&&g.left<=e.left&&g.right>=e.left&&(l=u,h={left:Math.max(g.left,Math.min(g.right,e.left)),top:g.top});!t&&(e.left>=g.right&&e.top>=g.top||e.left>=g.left&&e.top>=g.bottom)&&(s=c+1)}}return!t&&l&&(t=l,n=h,i=0),t&&t.nodeType==3?VV(t,n):!t||i&&t.nodeType==1?{node:r,offset:s}:tO(t,n)}function VV(r,e){let t=r.nodeValue.length,i=document.createRange();for(let n=0;n<t;n++){i.setEnd(r,n+1),i.setStart(r,n);let s=ka(i,1);if(s.top!=s.bottom&&Gb(e,s))return{node:r,offset:n+(e.left>=(s.left+s.right)/2?1:0)}}return{node:r,offset:0}}function Gb(r,e){return r.left>=e.left-1&&r.left<=e.right+1&&r.top>=e.top-1&&r.top<=e.bottom+1}function QV(r,e){let t=r.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<r.getBoundingClientRect().left?t:r}function _V(r,e,t){let{node:i,offset:n}=tO(e,t),s=-1;if(i.nodeType==1&&!i.firstChild){let o=i.getBoundingClientRect();s=o.left!=o.right&&t.left>(o.left+o.right)/2?1:-1}return r.docView.posFromDOM(i,n,s)}function YV(r,e,t,i){let n=-1;for(let s=e,o=!1;s!=r.dom;){let a=r.docView.nearestDesc(s,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&(!o&&l.left>i.left||l.top>i.top?n=a.posBefore:(!o&&l.right<i.left||l.bottom<i.top)&&(n=a.posAfter),o=!0),!a.contentDOM&&n<0&&!a.node.isText))return(a.node.isBlock?i.top<(l.top+l.bottom)/2:i.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return n>-1?n:r.docView.posFromDOM(e,t,-1)}function iO(r,e,t){let i=r.childNodes.length;if(i&&t.top<t.bottom)for(let n=Math.max(0,Math.min(i-1,Math.floor(i*(e.top-t.top)/(t.bottom-t.top))-2)),s=n;;){let o=r.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let h=a[l];if(Gb(e,h))return iO(o,e,h)}}if((s=(s+1)%i)==n)break}return r}function WV(r,e){let t=r.dom.ownerDocument,i,n=0,s=OV(t,e.left,e.top);s&&({node:i,offset:n}=s);let o=(r.root.elementFromPoint?r.root:t).elementFromPoint(e.left,e.top),a;if(!o||!r.dom.contains(o.nodeType!=1?o.parentNode:o)){let h=r.dom.getBoundingClientRect();if(!Gb(e,h)||(o=iO(r.dom,e,h),!o))return null}if(sr)for(let h=o;i&&h;h=mc(h))h.draggable&&(i=void 0);if(o=QV(o,e),i){if(zs&&i.nodeType==1&&(n=Math.min(n,i.childNodes.length),n<i.childNodes.length)){let u=i.childNodes[n],c;u.nodeName=="IMG"&&(c=u.getBoundingClientRect()).right<=e.left&&c.bottom>e.top&&n++}let h;ef&&n&&i.nodeType==1&&(h=i.childNodes[n-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&n--,i==r.dom&&n==i.childNodes.length-1&&i.lastChild.nodeType==1&&e.top>i.lastChild.getBoundingClientRect().bottom?a=r.state.doc.content.size:(n==0||i.nodeType!=1||i.childNodes[n-1].nodeName!="BR")&&(a=YV(r,i,n,e))}a==null&&(a=_V(r,o,e));let l=r.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function fw(r){return r.top<r.bottom||r.left<r.right}function ka(r,e){let t=r.getClientRects();if(t.length){let i=t[e<0?0:t.length-1];if(fw(i))return i}return Array.prototype.find.call(t,fw)||r.getBoundingClientRect()}const qV=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function nO(r,e,t){let{node:i,offset:n,atom:s}=r.docView.domFromPos(e,t<0?-1:1),o=ef||zs;if(i.nodeType==3)if(o&&(qV.test(i.nodeValue)||(t<0?!n:n==i.nodeValue.length))){let l=ka(Vo(i,n,n),t);if(zs&&n&&/\s/.test(i.nodeValue[n-1])&&n<i.nodeValue.length){let h=ka(Vo(i,n-1,n-1),-1);if(h.top==l.top){let u=ka(Vo(i,n,n+1),-1);if(u.top!=l.top)return _c(u,u.left<h.left)}}return l}else{let l=n,h=n,u=t<0?1:-1;return t<0&&!n?(h++,u=-1):t>=0&&n==i.nodeValue.length?(l--,u=1):t<0?l--:h++,_c(ka(Vo(i,l,h),u),u<0)}if(!r.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&n&&(t<0||n==rs(i))){let l=i.childNodes[n-1];if(l.nodeType==1)return rM(l.getBoundingClientRect(),!1)}if(s==null&&n<rs(i)){let l=i.childNodes[n];if(l.nodeType==1)return rM(l.getBoundingClientRect(),!0)}return rM(i.getBoundingClientRect(),t>=0)}if(s==null&&n&&(t<0||n==rs(i))){let l=i.childNodes[n-1],h=l.nodeType==3?Vo(l,rs(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(h)return _c(ka(h,1),!1)}if(s==null&&n<rs(i)){let l=i.childNodes[n];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let h=l?l.nodeType==3?Vo(l,0,o?0:1):l.nodeType==1?l:null:null;if(h)return _c(ka(h,-1),!0)}return _c(ka(i.nodeType==3?Vo(i):i,-t),t>=0)}function _c(r,e){if(r.width==0)return r;let t=e?r.left:r.right;return{top:r.top,bottom:r.bottom,left:t,right:t}}function rM(r,e){if(r.height==0)return r;let t=e?r.top:r.bottom;return{top:t,bottom:t,left:r.left,right:r.right}}function rO(r,e,t){let i=r.state,n=r.root.activeElement;i!=e&&r.updateState(e),n!=r.dom&&r.focus();try{return t()}finally{i!=e&&r.updateState(i),n!=r.dom&&n&&n.focus()}}function GV(r,e,t){let i=e.selection,n=t=="up"?i.$from:i.$to;return rO(r,e,()=>{let{node:s}=r.docView.domFromPos(n.pos,t=="up"?-1:1);for(;;){let a=r.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=nO(r,n.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Vo(a,0,a.nodeValue.length).getClientRects();else continue;for(let h=0;h<l.length;h++){let u=l[h];if(u.bottom>u.top+1&&(t=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const $V=/[\u0590-\u08ac]/;function KV(r,e,t){let{$head:i}=e.selection;if(!i.parent.isTextblock)return!1;let n=i.parentOffset,s=!n,o=n==i.parent.content.size,a=r.domSelection();return a?!$V.test(i.parent.textContent)||!a.modify?t=="left"||t=="backward"?s:o:rO(r,e,()=>{let{focusNode:l,focusOffset:h,anchorNode:u,anchorOffset:c}=r.domSelectionRange(),d=a.caretBidiLevel;a.modify("move",t,"character");let f=i.depth?r.docView.domAfterPos(i.before()):r.dom,{focusNode:g,focusOffset:m}=r.domSelectionRange(),y=g&&!f.contains(g.nodeType==1?g:g.parentNode)||l==g&&h==m;try{a.collapse(u,c),l&&(l!=u||h!=c)&&a.extend&&a.extend(l,h)}catch{}return d!=null&&(a.caretBidiLevel=d),y}):i.pos==i.start()||i.pos==i.end()}let gw=null,mw=null,yw=!1;function JV(r,e,t){return gw==e&&mw==t?yw:(gw=e,mw=t,yw=t=="up"||t=="down"?GV(r,e,t):KV(r,e,t))}const cs=0,vw=1,sh=2,go=3;class tf{constructor(e,t,i,n){this.parent=e,this.children=t,this.dom=i,this.contentDOM=n,this.dirty=cs,i.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,i){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,i=this.posAtStart;;t++){let n=this.children[t];if(n==e)return i;i+=n.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,i){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(i<0){let s,o;if(e==this.contentDOM)s=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let n;if(e==this.dom&&this.contentDOM)n=t>Nn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))n=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let s=e;;s=s.parentNode){if(s==this.dom){n=!1;break}if(s.previousSibling)break}if(n==null&&t==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){n=!0;break}if(s.nextSibling)break}}return n??i>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let i=!0,n=e;n;n=n.parentNode){let s=this.getDesc(n),o;if(s&&(!t||s.node))if(i&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))i=!1;else return s}}getDesc(e){let t=e.pmViewDesc;for(let i=t;i;i=i.parent)if(i==this)return t}posFromDOM(e,t,i){for(let n=e;n;n=n.parentNode){let s=this.getDesc(n);if(s)return s.localPosFromDOM(e,t,i)}return-1}descAt(e){for(let t=0,i=0;t<this.children.length;t++){let n=this.children[t],s=i+n.size;if(i==e&&s!=i){for(;!n.border&&n.children.length;)for(let o=0;o<n.children.length;o++){let a=n.children[o];if(a.size){n=a;break}}return n}if(e<s)return n.descAt(e-i-n.border);i=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let i=0,n=0;for(let s=0;i<this.children.length;i++){let o=this.children[i],a=s+o.size;if(a>e||o instanceof oO){n=e-s;break}s=a}if(n)return this.children[i].domFromPos(n-this.children[i].border,t);for(let s;i&&!(s=this.children[i-1]).size&&s instanceof sO&&s.side>=0;i--);if(t<=0){let s,o=!0;for(;s=i?this.children[i-1]:null,!(!s||s.dom.parentNode==this.contentDOM);i--,o=!1);return s&&t&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?Nn(s.dom)+1:0}}else{let s,o=!0;for(;s=i<this.children.length?this.children[i]:null,!(!s||s.dom.parentNode==this.contentDOM);i++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,t):{node:this.contentDOM,offset:s?Nn(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,i=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let n=-1,s=-1;for(let o=i,a=0;;a++){let l=this.children[a],h=o+l.size;if(n==-1&&e<=h){let u=o+l.border;if(e>=u&&t<=h-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,t,u);e=o;for(let c=a;c>0;c--){let d=this.children[c-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){n=Nn(d.dom)+1;break}e-=d.size}n==-1&&(n=0)}if(n>-1&&(h>t||a==this.children.length-1)){t=h;for(let u=a+1;u<this.children.length;u++){let c=this.children[u];if(c.size&&c.dom.parentNode==this.contentDOM&&!c.emptyChildAt(-1)){s=Nn(c.dom);break}t+=c.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=h}return{node:this.contentDOM,from:e,to:t,fromOffset:n,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:i}=this.domFromPos(e,0);if(t.nodeType!=1||i==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[i]}setSelection(e,t,i,n=!1){let s=Math.min(e,t),o=Math.max(e,t);for(let f=0,g=0;f<this.children.length;f++){let m=this.children[f],y=g+m.size;if(s>g&&o<y)return m.setSelection(e-g-m.border,t-g-m.border,i,n);g=y}let a=this.domFromPos(e,e?-1:1),l=t==e?a:this.domFromPos(t,t?-1:1),h=i.root.getSelection(),u=i.domSelectionRange(),c=!1;if((zs||sr)&&e==t){let{node:f,offset:g}=a;if(f.nodeType==3){if(c=!!(g&&f.nodeValue[g-1]==`
`),c&&g==f.nodeValue.length)for(let m=f,y;m;m=m.parentNode){if(y=m.nextSibling){y.nodeName=="BR"&&(a=l={node:y.parentNode,offset:Nn(y)+1});break}let v=m.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let m=f.childNodes[g-1];c=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(zs&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let f=u.focusNode.childNodes[u.focusOffset];f&&f.contentEditable=="false"&&(n=!0)}if(!(n||c&&sr)&&_h(a.node,a.offset,u.anchorNode,u.anchorOffset)&&_h(l.node,l.offset,u.focusNode,u.focusOffset))return;let d=!1;if((h.extend||e==t)&&!c){h.collapse(a.node,a.offset);try{e!=t&&h.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>t){let g=a;a=l,l=g}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),h.removeAllRanges(),h.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let i=0,n=0;n<this.children.length;n++){let s=this.children[n],o=i+s.size;if(i==o?e<=o&&t>=i:e<o&&t>i){let a=i+s.border,l=o-s.border;if(e>=a&&t<=l){this.dirty=e==i||t==o?sh:vw,e==a&&t==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=go:s.markDirty(e-a,t-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?sh:go}i=o}this.dirty=sh}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let i=e==1?sh:vw;t.dirty<i&&(t.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class sO extends tf{constructor(e,t,i,n){let s,o=t.type.toDOM;if(typeof o=="function"&&(o=o(i,()=>{if(!s)return n;if(s.parent)return s.parent.posBeforeChild(s)})),!t.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return this.dirty==cs&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class ZV extends tf{constructor(e,t,i,n){super(e,[],t,null),this.textDOM=i,this.text=n}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Yh extends tf{constructor(e,t,i,n,s){super(e,[],i,n),this.mark=t,this.spec=s}static create(e,t,i,n){let s=n.nodeViews[t.type.name],o=s&&s(t,n,i);return(!o||!o.dom)&&(o=ru.renderSpec(document,t.type.spec.toDOM(t,i),null,t.attrs)),new Yh(e,t,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&go||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=go&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=cs){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=cs}}slice(e,t,i){let n=Yh.create(this.parent,this.mark,!0,i),s=this.children,o=this.size;t<o&&(s=DS(s,t,o,i)),e>0&&(s=DS(s,0,e,i));for(let a=0;a<s.length;a++)s[a].parent=n;return n.children=s,n}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class gl extends tf{constructor(e,t,i,n,s,o,a,l,h){super(e,[],s,o),this.node=t,this.outerDeco=i,this.innerDeco=n,this.nodeDOM=a}static create(e,t,i,n,s,o){let a=s.nodeViews[t.type.name],l,h=a&&a(t,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},i,n),u=h&&h.dom,c=h&&h.contentDOM;if(t.isText){if(!u)u=document.createTextNode(t.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:c}=ru.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!c&&!t.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),t.type.spec.draggable&&(u.draggable=!0));let d=u;return u=hO(u,i,t),h?l=new XV(e,t,i,n,u,c||null,d,h,s,o+1):t.isText?new uv(e,t,i,n,u,d,s):new gl(e,t,i,n,u,c||null,d,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let i=this.children[t];if(this.dom.contains(i.dom.parentNode)){e.contentElement=i.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Oe.empty)}return e}matchesNode(e,t,i){return this.dirty==cs&&e.eq(this.node)&&gm(t,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let i=this.node.inlineContent,n=t,s=e.composing?this.localCompositionInfo(e,t):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new tQ(this,o&&o.node,e);rQ(this.node,this.innerDeco,(h,u,c)=>{h.spec.marks?l.syncToMarks(h.spec.marks,i,e):h.type.side>=0&&!c&&l.syncToMarks(u==this.node.childCount?yi.none:this.node.child(u).marks,i,e),l.placeWidget(h,e,n)},(h,u,c,d)=>{l.syncToMarks(h.marks,i,e);let f;l.findNodeMatch(h,u,c,d)||a&&e.state.selection.from>n&&e.state.selection.to<n+h.nodeSize&&(f=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(h,u,c,f,e)||l.updateNextNode(h,u,c,e,d,n)||l.addNode(h,u,c,e,n),n+=h.nodeSize}),l.syncToMarks([],i,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==sh)&&(o&&this.protectLocalComposition(e,o),aO(this.contentDOM,this.children,e),yc&&sQ(this.dom))}localCompositionInfo(e,t){let{from:i,to:n}=e.state.selection;if(!(e.state.selection instanceof Nt)||i<t||n>t+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=oQ(this.node.content,o,i-t,n-t);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:i,text:n}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new ZV(this,s,t,n);e.input.compositionNodes.push(o),this.children=DS(this.children,i,i+n.length,e,o)}update(e,t,i,n){return this.dirty==go||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,i,n),!0)}updateInner(e,t,i,n){this.updateOuterDeco(t),this.node=e,this.innerDeco=i,this.contentDOM&&this.updateChildren(n,this.posAtStart),this.dirty=cs}updateOuterDeco(e){if(gm(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=lO(this.dom,this.nodeDOM,IS(this.outerDeco,this.node,t),IS(e,this.node,t)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Mw(r,e,t,i,n){hO(i,e,r);let s=new gl(void 0,r,e,t,i,i,i,n,0);return s.contentDOM&&s.updateChildren(n,0),s}class uv extends gl{constructor(e,t,i,n,s,o,a){super(e,t,i,n,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,i,n){return this.dirty==go||this.dirty!=cs&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=cs||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,n.trackWrites==this.nodeDOM&&(n.trackWrites=null)),this.node=e,this.dirty=cs,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,i){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,i)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,i){let n=this.node.cut(e,t),s=document.createTextNode(n.text);return new uv(this.parent,n,this.outerDeco,this.innerDeco,s,s,i)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=go)}get domAtom(){return!1}isText(e){return this.node.text==e}}class oO extends tf{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==cs&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class XV extends gl{constructor(e,t,i,n,s,o,a,l,h,u){super(e,t,i,n,s,o,a,h,u),this.spec=l}update(e,t,i,n){if(this.dirty==go)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,t,i);return s&&this.updateInner(e,t,i,n),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,i,n)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,i,n){this.spec.setSelection?this.spec.setSelection(e,t,i.root):super.setSelection(e,t,i,n)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function aO(r,e,t){let i=r.firstChild,n=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==r){for(;a!=i;)i=Sw(i),n=!0;i=i.nextSibling}else n=!0,r.insertBefore(a,i);if(o instanceof Yh){let l=i?i.previousSibling:r.lastChild;aO(o.contentDOM,o.children,t),i=l?l.nextSibling:r.firstChild}}for(;i;)i=Sw(i),n=!0;n&&t.trackWrites==r&&(t.trackWrites=null)}const zd=function(r){r&&(this.nodeName=r)};zd.prototype=Object.create(null);const oh=[new zd];function IS(r,e,t){if(r.length==0)return oh;let i=t?oh[0]:new zd,n=[i];for(let s=0;s<r.length;s++){let o=r[s].type.attrs;if(o){o.nodeName&&n.push(i=new zd(o.nodeName));for(let a in o){let l=o[a];l!=null&&(t&&n.length==1&&n.push(i=new zd(e.isInline?"span":"div")),a=="class"?i.class=(i.class?i.class+" ":"")+l:a=="style"?i.style=(i.style?i.style+";":"")+l:a!="nodeName"&&(i[a]=l))}}}return n}function lO(r,e,t,i){if(t==oh&&i==oh)return e;let n=e;for(let s=0;s<i.length;s++){let o=i[s],a=t[s];if(s){let l;a&&a.nodeName==o.nodeName&&n!=r&&(l=n.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(n),a=oh[0]),n=l}eQ(n,a||oh[0],o)}return n}function eQ(r,e,t){for(let i in e)i!="class"&&i!="style"&&i!="nodeName"&&!(i in t)&&r.removeAttribute(i);for(let i in t)i!="class"&&i!="style"&&i!="nodeName"&&t[i]!=e[i]&&r.setAttribute(i,t[i]);if(e.class!=t.class){let i=e.class?e.class.split(" ").filter(Boolean):[],n=t.class?t.class.split(" ").filter(Boolean):[];for(let s=0;s<i.length;s++)n.indexOf(i[s])==-1&&r.classList.remove(i[s]);for(let s=0;s<n.length;s++)i.indexOf(n[s])==-1&&r.classList.add(n[s]);r.classList.length==0&&r.removeAttribute("class")}if(e.style!=t.style){if(e.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,n;for(;n=i.exec(e.style);)r.style.removeProperty(n[1])}t.style&&(r.style.cssText+=t.style)}}function hO(r,e,t){return lO(r,r,oh,IS(e,t,r.nodeType!=1))}function gm(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].type.eq(e[t].type))return!1;return!0}function Sw(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class tQ{constructor(e,t,i){this.lock=t,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=iQ(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let i=e;i<t;i++)this.top.children[i].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,i){let n=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;n<o&&(n==s-1?this.top:this.stack[n+1<<1]).matchesMark(e[n])&&e[n].type.spec.spanning!==!1;)n++;for(;n<s;)this.destroyRest(),this.top.dirty=cs,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let h=this.top.children[l];if(h.matchesMark(e[s])&&!this.isLocked(h.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Yh.create(this.top,e[s],t,i);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,t,i,n){let s=-1,o;if(n>=this.preMatch.index&&(o=this.preMatch.matches[n-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,i))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let h=this.top.children[a];if(h.matchesNode(e,t,i)&&!this.preMatch.matched.has(h)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,i,n,s){let o=this.top.children[n];return o.dirty==go&&o.dom==o.contentDOM&&(o.dirty=sh),o.update(e,t,i,s)?(this.destroyBetween(this.index,n),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let i=e.pmViewDesc;if(i){for(let n=this.index;n<this.top.children.length;n++)if(this.top.children[n]==i)return n}return-1}e=t}}updateNextNode(e,t,i,n,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof gl){let h=this.preMatch.matched.get(l);if(h!=null&&h!=s)return!1;let u=l.dom,c,d=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=go&&gm(t,l.outerDeco));if(!d&&l.update(e,t,i,n))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!d&&(c=this.recreateWrapper(l,e,t,i,n,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=c,c.contentDOM&&(c.dirty=sh,c.updateChildren(n,o+1),c.dirty=cs),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,i,n,s,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!gm(i,e.outerDeco)||!n.eq(e.innerDeco))return null;let a=gl.create(this.top,t,i,n,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,t,i,n,s){let o=gl.create(this.top,e,t,i,n,s);o.contentDOM&&o.updateChildren(n,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,i){let n=this.index<this.top.children.length?this.top.children[this.index]:null;if(n&&n.matchesWidget(e)&&(e==n.widget||!n.widget.type.toDOM.parentNode))this.index++;else{let s=new sO(this.top,e,t,i);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Yh;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof uv)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((sr||Qn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let i=document.createElement(e);e=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),e=="BR"&&(i.className="ProseMirror-trailingBreak");let n=new oO(this.top,[],i,null);t!=this.top?t.children.push(n):t.children.splice(this.index++,0,n),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function iQ(r,e){let t=e,i=t.children.length,n=r.childCount,s=new Map,o=[];e:for(;n>0;){let a;for(;;)if(i){let h=t.children[i-1];if(h instanceof Yh)t=h,i=h.children.length;else{a=h,i--;break}}else{if(t==e)break e;i=t.parent.children.indexOf(t),t=t.parent}let l=a.node;if(l){if(l!=r.child(n-1))break;--n,s.set(a,n),o.push(a)}}return{index:n,matched:s,matches:o.reverse()}}function nQ(r,e){return r.type.side-e.type.side}function rQ(r,e,t,i){let n=e.locals(r),s=0;if(n.length==0){for(let h=0;h<r.childCount;h++){let u=r.child(h);i(u,n,e.forChild(s,u),h),s+=u.nodeSize}return}let o=0,a=[],l=null;for(let h=0;;){let u,c;for(;o<n.length&&n[o].to==s;){let y=n[o++];y.widget&&(u?(c||(c=[u])).push(y):u=y)}if(u)if(c){c.sort(nQ);for(let y=0;y<c.length;y++)t(c[y],h,!!l)}else t(u,h,!!l);let d,f;if(l)f=-1,d=l,l=null;else if(h<r.childCount)f=h,d=r.child(h++);else break;for(let y=0;y<a.length;y++)a[y].to<=s&&a.splice(y--,1);for(;o<n.length&&n[o].from<=s&&n[o].to>s;)a.push(n[o++]);let g=s+d.nodeSize;if(d.isText){let y=g;o<n.length&&n[o].from<y&&(y=n[o].from);for(let v=0;v<a.length;v++)a[v].to<y&&(y=a[v].to);y<g&&(l=d.cut(y-s),d=d.cut(0,y-s),g=y,f=-1)}else for(;o<n.length&&n[o].to<g;)o++;let m=d.isInline&&!d.isLeaf?a.filter(y=>!y.inline):a.slice();i(d,m,e.forChild(s,d),f),s=g}}function sQ(r){if(r.nodeName=="UL"||r.nodeName=="OL"){let e=r.style.cssText;r.style.cssText=e+"; list-style: square !important",window.getComputedStyle(r).listStyle,r.style.cssText=e}}function oQ(r,e,t,i){for(let n=0,s=0;n<r.childCount&&s<=i;){let o=r.child(n++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;n<r.childCount;){let h=r.child(n++);if(s+=h.nodeSize,!h.isText)break;l+=h.text}if(s>=t){if(s>=i&&l.slice(i-e.length-a,i-a)==e)return i-e.length;let h=a<i?l.lastIndexOf(e,i-a-1):-1;if(h>=0&&h+e.length+a>=t)return a+h;if(t==i&&l.length>=i+e.length-a&&l.slice(i-a,i-a+e.length)==e)return i}}return-1}function DS(r,e,t,i,n){let s=[];for(let o=0,a=0;o<r.length;o++){let l=r[o],h=a,u=a+=l.size;h>=t||u<=e?s.push(l):(h<e&&s.push(l.slice(0,e-h,i)),n&&(s.push(n),n=void 0),u>t&&s.push(l.slice(t-h,l.size,i)))}return s}function $b(r,e=null){let t=r.domSelectionRange(),i=r.state.doc;if(!t.focusNode)return null;let n=r.docView.nearestDesc(t.focusNode),s=n&&n.size==0,o=r.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(o<0)return null;let a=i.resolve(o),l,h;if(hv(t)){for(l=o;n&&!n.node;)n=n.parent;let c=n.node;if(n&&c.isAtom&&ct.isSelectable(c)&&n.parent&&!(c.isInline&&LV(t.focusNode,t.focusOffset,n.dom))){let d=n.posBefore;h=new ct(o==d?a:i.resolve(d))}}else{if(t instanceof r.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let c=o,d=o;for(let f=0;f<t.rangeCount;f++){let g=t.getRangeAt(f);c=Math.min(c,r.docView.posFromDOM(g.startContainer,g.startOffset,1)),d=Math.max(d,r.docView.posFromDOM(g.endContainer,g.endOffset,-1))}if(c<0)return null;[l,o]=d==r.state.selection.anchor?[d,c]:[c,d],a=i.resolve(o)}else l=r.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(l<0)return null}let u=i.resolve(l);if(!h){let c=e=="pointer"||r.state.selection.head<a.pos&&!s?1:-1;h=Kb(r,u,a,c)}return h}function uO(r){return r.editable?r.hasFocus():dO(r)&&document.activeElement&&document.activeElement.contains(r.dom)}function sa(r,e=!1){let t=r.state.selection;if(cO(r,t),!!uO(r)){if(!e&&r.input.mouseDown&&r.input.mouseDown.allowDefault&&Qn){let i=r.domSelectionRange(),n=r.domObserver.currentSelection;if(i.anchorNode&&n.anchorNode&&_h(i.anchorNode,i.anchorOffset,n.anchorNode,n.anchorOffset)){r.input.mouseDown.delayedSelectionSync=!0,r.domObserver.setCurSelection();return}}if(r.domObserver.disconnectSelection(),r.cursorWrapper)lQ(r);else{let{anchor:i,head:n}=t,s,o;Cw&&!(t instanceof Nt)&&(t.$from.parent.inlineContent||(s=bw(r,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(o=bw(r,t.to))),r.docView.setSelection(i,n,r,e),Cw&&(s&&Iw(s),o&&Iw(o)),t.visible?r.dom.classList.remove("ProseMirror-hideselection"):(r.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&aQ(r))}r.domObserver.setCurSelection(),r.domObserver.connectSelection()}}const Cw=sr||Qn&&Zz<63;function bw(r,e){let{node:t,offset:i}=r.docView.domFromPos(e,0),n=i<t.childNodes.length?t.childNodes[i]:null,s=i?t.childNodes[i-1]:null;if(sr&&n&&n.contentEditable=="false")return sM(n);if((!n||n.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(n)return sM(n);if(s)return sM(s)}}function sM(r){return r.contentEditable="true",sr&&r.draggable&&(r.draggable=!1,r.wasDraggable=!0),r}function Iw(r){r.contentEditable="false",r.wasDraggable&&(r.draggable=!0,r.wasDraggable=null)}function aQ(r){let e=r.dom.ownerDocument;e.removeEventListener("selectionchange",r.input.hideSelectionGuard);let t=r.domSelectionRange(),i=t.anchorNode,n=t.anchorOffset;e.addEventListener("selectionchange",r.input.hideSelectionGuard=()=>{(t.anchorNode!=i||t.anchorOffset!=n)&&(e.removeEventListener("selectionchange",r.input.hideSelectionGuard),setTimeout(()=>{(!uO(r)||r.state.selection.visible)&&r.dom.classList.remove("ProseMirror-hideselection")},20))})}function lQ(r){let e=r.domSelection(),t=document.createRange();if(!e)return;let i=r.cursorWrapper.dom,n=i.nodeName=="IMG";n?t.setStart(i.parentNode,Nn(i)+1):t.setStart(i,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!n&&!r.state.selection.visible&&Sr&&fl<=11&&(i.disabled=!0,i.disabled=!1)}function cO(r,e){if(e instanceof ct){let t=r.docView.descAt(e.from);t!=r.lastSelectedViewDesc&&(Dw(r),t&&t.selectNode(),r.lastSelectedViewDesc=t)}else Dw(r)}function Dw(r){r.lastSelectedViewDesc&&(r.lastSelectedViewDesc.parent&&r.lastSelectedViewDesc.deselectNode(),r.lastSelectedViewDesc=void 0)}function Kb(r,e,t,i){return r.someProp("createSelectionBetween",n=>n(r,e,t))||Nt.between(e,t,i)}function Tw(r){return r.editable&&!r.hasFocus()?!1:dO(r)}function dO(r){let e=r.domSelectionRange();if(!e.anchorNode)return!1;try{return r.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(r.editable||r.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function hQ(r){let e=r.docView.domFromPos(r.state.selection.anchor,0),t=r.domSelectionRange();return _h(e.node,e.offset,t.anchorNode,t.anchorOffset)}function TS(r,e){let{$anchor:t,$head:i}=r.selection,n=e>0?t.max(i):t.min(i),s=n.parent.inlineContent?n.depth?r.doc.resolve(e>0?n.after():n.before()):null:n;return s&&Ot.findFrom(s,e)}function Pa(r,e){return r.dispatch(r.state.tr.setSelection(e).scrollIntoView()),!0}function ww(r,e,t){let i=r.state.selection;if(i instanceof Nt)if(t.indexOf("s")>-1){let{$head:n}=i,s=n.textOffset?null:e<0?n.nodeBefore:n.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=r.state.doc.resolve(n.pos+s.nodeSize*(e<0?-1:1));return Pa(r,new Nt(i.$anchor,o))}else if(i.empty){if(r.endOfTextblock(e>0?"forward":"backward")){let n=TS(r.state,e);return n&&n instanceof ct?Pa(r,n):!1}else if(!(es&&t.indexOf("m")>-1)){let n=i.$head,s=n.textOffset?null:e<0?n.nodeBefore:n.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?n.pos-s.nodeSize:n.pos;return s.isAtom||(o=r.docView.descAt(a))&&!o.contentDOM?ct.isSelectable(s)?Pa(r,new ct(e<0?r.state.doc.resolve(n.pos-s.nodeSize):n)):ef?Pa(r,new Nt(r.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(i instanceof ct&&i.node.isInline)return Pa(r,new Nt(e>0?i.$to:i.$from));{let n=TS(r.state,e);return n?Pa(r,n):!1}}}function mm(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function Od(r,e){let t=r.pmViewDesc;return t&&t.size==0&&(e<0||r.nextSibling||r.nodeName!="BR")}function uu(r,e){return e<0?uQ(r):cQ(r)}function uQ(r){let e=r.domSelectionRange(),t=e.focusNode,i=e.focusOffset;if(!t)return;let n,s,o=!1;for(zs&&t.nodeType==1&&i<mm(t)&&Od(t.childNodes[i],-1)&&(o=!0);;)if(i>0){if(t.nodeType!=1)break;{let a=t.childNodes[i-1];if(Od(a,-1))n=t,s=--i;else if(a.nodeType==3)t=a,i=t.nodeValue.length;else break}}else{if(pO(t))break;{let a=t.previousSibling;for(;a&&Od(a,-1);)n=t.parentNode,s=Nn(a),a=a.previousSibling;if(a)t=a,i=mm(t);else{if(t=t.parentNode,t==r.dom)break;i=0}}}o?wS(r,t,i):n&&wS(r,n,s)}function cQ(r){let e=r.domSelectionRange(),t=e.focusNode,i=e.focusOffset;if(!t)return;let n=mm(t),s,o;for(;;)if(i<n){if(t.nodeType!=1)break;let a=t.childNodes[i];if(Od(a,1))s=t,o=++i;else break}else{if(pO(t))break;{let a=t.nextSibling;for(;a&&Od(a,1);)s=a.parentNode,o=Nn(a)+1,a=a.nextSibling;if(a)t=a,i=0,n=mm(t);else{if(t=t.parentNode,t==r.dom)break;i=n=0}}}s&&wS(r,s,o)}function pO(r){let e=r.pmViewDesc;return e&&e.node&&e.node.isBlock}function dQ(r,e){for(;r&&e==r.childNodes.length&&!Xp(r);)e=Nn(r)+1,r=r.parentNode;for(;r&&e<r.childNodes.length;){let t=r.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;r=t,e=0}}function pQ(r,e){for(;r&&!e&&!Xp(r);)e=Nn(r),r=r.parentNode;for(;r&&e;){let t=r.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;r=t,e=r.childNodes.length}}function wS(r,e,t){if(e.nodeType!=3){let s,o;(o=dQ(e,t))?(e=o,t=0):(s=pQ(e,t))&&(e=s,t=s.nodeValue.length)}let i=r.domSelection();if(!i)return;if(hv(i)){let s=document.createRange();s.setEnd(e,t),s.setStart(e,t),i.removeAllRanges(),i.addRange(s)}else i.extend&&i.extend(e,t);r.domObserver.setCurSelection();let{state:n}=r;setTimeout(()=>{r.state==n&&sa(r)},50)}function xw(r,e){let t=r.state.doc.resolve(e);if(!(Qn||RV)&&t.parent.inlineContent){let n=r.coordsAtPos(e);if(e>t.start()){let s=r.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>n.top&&o<n.bottom&&Math.abs(s.left-n.left)>1)return s.left<n.left?"ltr":"rtl"}if(e<t.end()){let s=r.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>n.top&&o<n.bottom&&Math.abs(s.left-n.left)>1)return s.left>n.left?"ltr":"rtl"}}return getComputedStyle(r.dom).direction=="rtl"?"rtl":"ltr"}function Nw(r,e,t){let i=r.state.selection;if(i instanceof Nt&&!i.empty||t.indexOf("s")>-1||es&&t.indexOf("m")>-1)return!1;let{$from:n,$to:s}=i;if(!n.parent.inlineContent||r.endOfTextblock(e<0?"up":"down")){let o=TS(r.state,e);if(o&&o instanceof ct)return Pa(r,o)}if(!n.parent.inlineContent){let o=e<0?n:s,a=i instanceof Br?Ot.near(o,e):Ot.findFrom(o,e);return a?Pa(r,a):!1}return!1}function Aw(r,e){if(!(r.state.selection instanceof Nt))return!0;let{$head:t,$anchor:i,empty:n}=r.state.selection;if(!t.sameParent(i))return!0;if(!n)return!1;if(r.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(s&&!s.isText){let o=r.state.tr;return e<0?o.delete(t.pos-s.nodeSize,t.pos):o.delete(t.pos,t.pos+s.nodeSize),r.dispatch(o),!0}return!1}function Ew(r,e,t){r.domObserver.stop(),e.contentEditable=t,r.domObserver.start()}function fQ(r){if(!sr||r.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=r.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let i=e.firstChild;Ew(r,i,"true"),setTimeout(()=>Ew(r,i,"false"),20)}return!1}function gQ(r){let e="";return r.ctrlKey&&(e+="c"),r.metaKey&&(e+="m"),r.altKey&&(e+="a"),r.shiftKey&&(e+="s"),e}function mQ(r,e){let t=e.keyCode,i=gQ(e);if(t==8||es&&t==72&&i=="c")return Aw(r,-1)||uu(r,-1);if(t==46&&!e.shiftKey||es&&t==68&&i=="c")return Aw(r,1)||uu(r,1);if(t==13||t==27)return!0;if(t==37||es&&t==66&&i=="c"){let n=t==37?xw(r,r.state.selection.from)=="ltr"?-1:1:-1;return ww(r,n,i)||uu(r,n)}else if(t==39||es&&t==70&&i=="c"){let n=t==39?xw(r,r.state.selection.from)=="ltr"?1:-1:1;return ww(r,n,i)||uu(r,n)}else{if(t==38||es&&t==80&&i=="c")return Nw(r,-1,i)||uu(r,-1);if(t==40||es&&t==78&&i=="c")return fQ(r)||Nw(r,1,i)||uu(r,1);if(i==(es?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function Jb(r,e){r.someProp("transformCopied",f=>{e=f(e,r)});let t=[],{content:i,openStart:n,openEnd:s}=e;for(;n>1&&s>1&&i.childCount==1&&i.firstChild.childCount==1;){n--,s--;let f=i.firstChild;t.push(f.type.name,f.attrs!=f.type.defaultAttrs?f.attrs:null),i=f.content}let o=r.someProp("clipboardSerializer")||ru.fromSchema(r.state.schema),a=MO(),l=a.createElement("div");l.appendChild(o.serializeFragment(i,{document:a}));let h=l.firstChild,u,c=0;for(;h&&h.nodeType==1&&(u=vO[h.nodeName.toLowerCase()]);){for(let f=u.length-1;f>=0;f--){let g=a.createElement(u[f]);for(;l.firstChild;)g.appendChild(l.firstChild);l.appendChild(g),c++}h=l.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${n} ${s}${c?` -${c}`:""} ${JSON.stringify(t)}`);let d=r.someProp("clipboardTextSerializer",f=>f(e,r))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:d,slice:e}}function fO(r,e,t,i,n){let s=n.parent.type.spec.code,o,a;if(!t&&!e)return null;let l=e&&(i||s||!t);if(l){if(r.someProp("transformPastedText",d=>{e=d(e,s||i,r)}),s)return e?new Ke(Oe.from(r.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Ke.empty;let c=r.someProp("clipboardTextParser",d=>d(e,n,i,r));if(c)a=c;else{let d=n.marks(),{schema:f}=r.state,g=ru.fromSchema(f);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let y=o.appendChild(document.createElement("p"));m&&y.appendChild(g.serializeNode(f.text(m,d)))})}}else r.someProp("transformPastedHTML",c=>{t=c(t,r)}),o=SQ(t),ef&&CQ(o);let h=o&&o.querySelector("[data-pm-slice]"),u=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let c=+u[3];c>0;c--){let d=o.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;o=d}if(a||(a=(r.someProp("clipboardParser")||r.someProp("domParser")||pl.fromSchema(r.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:n,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!yQ.test(d.parentNode.nodeName)?{ignore:!0}:null}})),u)a=bQ(kw(a,+u[1],+u[2]),u[4]);else if(a=Ke.maxOpen(vQ(a.content,n),!0),a.openStart||a.openEnd){let c=0,d=0;for(let f=a.content.firstChild;c<a.openStart&&!f.type.spec.isolating;c++,f=f.firstChild);for(let f=a.content.lastChild;d<a.openEnd&&!f.type.spec.isolating;d++,f=f.lastChild);a=kw(a,c,d)}return r.someProp("transformPasted",c=>{a=c(a,r)}),a}const yQ=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function vQ(r,e){if(r.childCount<2)return r;for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.index(t)),s,o=[];if(r.forEach(a=>{if(!o)return;let l=n.findWrapping(a.type),h;if(!l)return o=null;if(h=o.length&&s.length&&mO(l,s,a,o[o.length-1],0))o[o.length-1]=h;else{o.length&&(o[o.length-1]=yO(o[o.length-1],s.length));let u=gO(a,l);o.push(u),n=n.matchType(u.type),s=l}}),o)return Oe.from(o)}return r}function gO(r,e,t=0){for(let i=e.length-1;i>=t;i--)r=e[i].create(null,Oe.from(r));return r}function mO(r,e,t,i,n){if(n<r.length&&n<e.length&&r[n]==e[n]){let s=mO(r,e,t,i.lastChild,n+1);if(s)return i.copy(i.content.replaceChild(i.childCount-1,s));if(i.contentMatchAt(i.childCount).matchType(n==r.length-1?t.type:r[n+1]))return i.copy(i.content.append(Oe.from(gO(t,r,n+1))))}}function yO(r,e){if(e==0)return r;let t=r.content.replaceChild(r.childCount-1,yO(r.lastChild,e-1)),i=r.contentMatchAt(r.childCount).fillBefore(Oe.empty,!0);return r.copy(t.append(i))}function xS(r,e,t,i,n,s){let o=e<0?r.firstChild:r.lastChild,a=o.content;return r.childCount>1&&(s=0),n<i-1&&(a=xS(a,e,t,i,n+1,s)),n>=t&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=n).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(Oe.empty,!0))),r.replaceChild(e<0?0:r.childCount-1,o.copy(a))}function kw(r,e,t){return e<r.openStart&&(r=new Ke(xS(r.content,-1,e,r.openStart,0,r.openEnd),e,r.openEnd)),t<r.openEnd&&(r=new Ke(xS(r.content,1,t,r.openEnd,0,0),r.openStart,t)),r}const vO={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Lw=null;function MO(){return Lw||(Lw=document.implementation.createHTMLDocument("title"))}let oM=null;function MQ(r){let e=window.trustedTypes;return e?(oM||(oM=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),oM.createHTML(r)):r}function SQ(r){let e=/^(\s*<meta [^>]*>)*/.exec(r);e&&(r=r.slice(e[0].length));let t=MO().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(r),n;if((n=i&&vO[i[1].toLowerCase()])&&(r=n.map(s=>"<"+s+">").join("")+r+n.map(s=>"</"+s+">").reverse().join("")),t.innerHTML=MQ(r),n)for(let s=0;s<n.length;s++)t=t.querySelector(n[s])||t;return t}function CQ(r){let e=r.querySelectorAll(Qn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let i=e[t];i.childNodes.length==1&&i.textContent==""&&i.parentNode&&i.parentNode.replaceChild(r.ownerDocument.createTextNode(" "),i)}}function bQ(r,e){if(!r.size)return r;let t=r.content.firstChild.type.schema,i;try{i=JSON.parse(e)}catch{return r}let{content:n,openStart:s,openEnd:o}=r;for(let a=i.length-2;a>=0;a-=2){let l=t.nodes[i[a]];if(!l||l.hasRequiredAttrs())break;n=Oe.from(l.create(i[a+1],n)),s++,o++}return new Ke(n,s,o)}const or={},ar={},IQ={touchstart:!0,touchmove:!0};class DQ{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function TQ(r){for(let e in or){let t=or[e];r.dom.addEventListener(e,r.input.eventHandlers[e]=i=>{xQ(r,i)&&!Zb(r,i)&&(r.editable||!(i.type in ar))&&t(r,i)},IQ[e]?{passive:!0}:void 0)}sr&&r.dom.addEventListener("input",()=>null),NS(r)}function rl(r,e){r.input.lastSelectionOrigin=e,r.input.lastSelectionTime=Date.now()}function wQ(r){r.domObserver.stop();for(let e in r.input.eventHandlers)r.dom.removeEventListener(e,r.input.eventHandlers[e]);clearTimeout(r.input.composingTimeout),clearTimeout(r.input.lastIOSEnterFallbackTimeout)}function NS(r){r.someProp("handleDOMEvents",e=>{for(let t in e)r.input.eventHandlers[t]||r.dom.addEventListener(t,r.input.eventHandlers[t]=i=>Zb(r,i))})}function Zb(r,e){return r.someProp("handleDOMEvents",t=>{let i=t[e.type];return i?i(r,e)||e.defaultPrevented:!1})}function xQ(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=r.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function NQ(r,e){!Zb(r,e)&&or[e.type]&&(r.editable||!(e.type in ar))&&or[e.type](r,e)}ar.keydown=(r,e)=>{let t=e;if(r.input.shiftKey=t.keyCode==16||t.shiftKey,!CO(r,t)&&(r.input.lastKeyCode=t.keyCode,r.input.lastKeyCodeTime=Date.now(),!(Zo&&Qn&&t.keyCode==13)))if(t.keyCode!=229&&r.domObserver.forceFlush(),yc&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let i=Date.now();r.input.lastIOSEnter=i,r.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{r.input.lastIOSEnter==i&&(r.someProp("handleKeyDown",n=>n(r,Xl(13,"Enter"))),r.input.lastIOSEnter=0)},200)}else r.someProp("handleKeyDown",i=>i(r,t))||mQ(r,t)?t.preventDefault():rl(r,"key")};ar.keyup=(r,e)=>{e.keyCode==16&&(r.input.shiftKey=!1)};ar.keypress=(r,e)=>{let t=e;if(CO(r,t)||!t.charCode||t.ctrlKey&&!t.altKey||es&&t.metaKey)return;if(r.someProp("handleKeyPress",n=>n(r,t))){t.preventDefault();return}let i=r.state.selection;if(!(i instanceof Nt)||!i.$from.sameParent(i.$to)){let n=String.fromCharCode(t.charCode),s=()=>r.state.tr.insertText(n).scrollIntoView();!/[\r\n]/.test(n)&&!r.someProp("handleTextInput",o=>o(r,i.$from.pos,i.$to.pos,n,s))&&r.dispatch(s()),t.preventDefault()}};function cv(r){return{left:r.clientX,top:r.clientY}}function AQ(r,e){let t=e.x-r.clientX,i=e.y-r.clientY;return t*t+i*i<100}function Xb(r,e,t,i,n){if(i==-1)return!1;let s=r.state.doc.resolve(i);for(let o=s.depth+1;o>0;o--)if(r.someProp(e,a=>o>s.depth?a(r,t,s.nodeAfter,s.before(o),n,!0):a(r,t,s.node(o),s.before(o),n,!1)))return!0;return!1}function Bu(r,e,t){if(r.focused||r.focus(),r.state.selection.eq(e))return;let i=r.state.tr.setSelection(e);i.setMeta("pointer",!0),r.dispatch(i)}function EQ(r,e){if(e==-1)return!1;let t=r.state.doc.resolve(e),i=t.nodeAfter;return i&&i.isAtom&&ct.isSelectable(i)?(Bu(r,new ct(t)),!0):!1}function kQ(r,e){if(e==-1)return!1;let t=r.state.selection,i,n;t instanceof ct&&(i=t.node);let s=r.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(ct.isSelectable(a)){i&&t.$from.depth>0&&o>=t.$from.depth&&s.before(t.$from.depth+1)==t.$from.pos?n=s.before(t.$from.depth):n=s.before(o);break}}return n!=null?(Bu(r,ct.create(r.state.doc,n)),!0):!1}function LQ(r,e,t,i,n){return Xb(r,"handleClickOn",e,t,i)||r.someProp("handleClick",s=>s(r,e,i))||(n?kQ(r,t):EQ(r,t))}function zQ(r,e,t,i){return Xb(r,"handleDoubleClickOn",e,t,i)||r.someProp("handleDoubleClick",n=>n(r,e,i))}function OQ(r,e,t,i){return Xb(r,"handleTripleClickOn",e,t,i)||r.someProp("handleTripleClick",n=>n(r,e,i))||RQ(r,t,i)}function RQ(r,e,t){if(t.button!=0)return!1;let i=r.state.doc;if(e==-1)return i.inlineContent?(Bu(r,Nt.create(i,0,i.content.size)),!0):!1;let n=i.resolve(e);for(let s=n.depth+1;s>0;s--){let o=s>n.depth?n.nodeAfter:n.node(s),a=n.before(s);if(o.inlineContent)Bu(r,Nt.create(i,a+1,a+1+o.content.size));else if(ct.isSelectable(o))Bu(r,ct.create(i,a));else continue;return!0}}function eI(r){return ym(r)}const SO=es?"metaKey":"ctrlKey";or.mousedown=(r,e)=>{let t=e;r.input.shiftKey=t.shiftKey;let i=eI(r),n=Date.now(),s="singleClick";n-r.input.lastClick.time<500&&AQ(t,r.input.lastClick)&&!t[SO]&&r.input.lastClick.button==t.button&&(r.input.lastClick.type=="singleClick"?s="doubleClick":r.input.lastClick.type=="doubleClick"&&(s="tripleClick")),r.input.lastClick={time:n,x:t.clientX,y:t.clientY,type:s,button:t.button};let o=r.posAtCoords(cv(t));o&&(s=="singleClick"?(r.input.mouseDown&&r.input.mouseDown.done(),r.input.mouseDown=new jQ(r,o,t,!!i)):(s=="doubleClick"?zQ:OQ)(r,o.pos,o.inside,t)?t.preventDefault():rl(r,"pointer"))};class jQ{constructor(e,t,i,n){this.view=e,this.pos=t,this.event=i,this.flushed=n,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!i[SO],this.allowDefault=i.shiftKey;let s,o;if(t.inside>-1)s=e.state.doc.nodeAt(t.inside),o=t.inside;else{let u=e.state.doc.resolve(t.pos);s=u.parent,o=u.depth?u.before():0}const a=n?null:i.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:h}=e.state;(i.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||h instanceof ct&&h.from<=o&&h.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&zs&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),rl(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>sa(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(cv(e))),this.updateAllowDefault(e),this.allowDefault||!t?rl(this.view,"pointer"):LQ(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||sr&&this.mightDrag&&!this.mightDrag.node.isAtom||Qn&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Bu(this.view,Ot.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):rl(this.view,"pointer")}move(e){this.updateAllowDefault(e),rl(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}or.touchstart=r=>{r.input.lastTouch=Date.now(),eI(r),rl(r,"pointer")};or.touchmove=r=>{r.input.lastTouch=Date.now(),rl(r,"pointer")};or.contextmenu=r=>eI(r);function CO(r,e){return r.composing?!0:sr&&Math.abs(e.timeStamp-r.input.compositionEndedAt)<500?(r.input.compositionEndedAt=-2e8,!0):!1}const PQ=Zo?5e3:-1;ar.compositionstart=ar.compositionupdate=r=>{if(!r.composing){r.domObserver.flush();let{state:e}=r,t=e.selection.$to;if(e.selection instanceof Nt&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)))r.markCursor=r.state.storedMarks||t.marks(),ym(r,!0),r.markCursor=null;else if(ym(r,!e.selection.empty),zs&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let i=r.domSelectionRange();for(let n=i.focusNode,s=i.focusOffset;n&&n.nodeType==1&&s!=0;){let o=s<0?n.lastChild:n.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=r.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else n=o,s=-1}}r.input.composing=!0}bO(r,PQ)};ar.compositionend=(r,e)=>{r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=e.timeStamp,r.input.compositionPendingChanges=r.domObserver.pendingRecords().length?r.input.compositionID:0,r.input.compositionNode=null,r.input.compositionPendingChanges&&Promise.resolve().then(()=>r.domObserver.flush()),r.input.compositionID++,bO(r,20))};function bO(r,e){clearTimeout(r.input.composingTimeout),e>-1&&(r.input.composingTimeout=setTimeout(()=>ym(r),e))}function IO(r){for(r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=BQ());r.input.compositionNodes.length>0;)r.input.compositionNodes.pop().markParentsDirty()}function FQ(r){let e=r.domSelectionRange();if(!e.focusNode)return null;let t=EV(e.focusNode,e.focusOffset),i=kV(e.focusNode,e.focusOffset);if(t&&i&&t!=i){let n=i.pmViewDesc,s=r.domObserver.lastChangedTextNode;if(t==s||i==s)return s;if(!n||!n.isText(i.nodeValue))return i;if(r.input.compositionNode==i){let o=t.pmViewDesc;if(!(!o||!o.isText(t.nodeValue)))return i}}return t||i}function BQ(){let r=document.createEvent("Event");return r.initEvent("event",!0,!0),r.timeStamp}function ym(r,e=!1){if(!(Zo&&r.domObserver.flushingSoon>=0)){if(r.domObserver.forceFlush(),IO(r),e||r.docView&&r.docView.dirty){let t=$b(r),i=r.state.selection;return t&&!t.eq(i)?r.dispatch(r.state.tr.setSelection(t)):(r.markCursor||e)&&!i.$from.node(i.$from.sharedDepth(i.to)).inlineContent?r.dispatch(r.state.tr.deleteSelection()):r.updateState(r.state),!0}return!1}}function UQ(r,e){if(!r.dom.parentNode)return;let t=r.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),n=document.createRange();n.selectNodeContents(e),r.dom.blur(),i.removeAllRanges(),i.addRange(n),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),r.focus()},50)}const up=Sr&&fl<15||yc&&jV<604;or.copy=ar.cut=(r,e)=>{let t=e,i=r.state.selection,n=t.type=="cut";if(i.empty)return;let s=up?null:t.clipboardData,o=i.content(),{dom:a,text:l}=Jb(r,o);s?(t.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):UQ(r,a),n&&r.dispatch(r.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function HQ(r){return r.openStart==0&&r.openEnd==0&&r.content.childCount==1?r.content.firstChild:null}function VQ(r,e){if(!r.dom.parentNode)return;let t=r.input.shiftKey||r.state.selection.$from.parent.type.spec.code,i=r.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let n=r.input.shiftKey&&r.input.lastKeyCode!=45;setTimeout(()=>{r.focus(),i.parentNode&&i.parentNode.removeChild(i),t?cp(r,i.value,null,n,e):cp(r,i.textContent,i.innerHTML,n,e)},50)}function cp(r,e,t,i,n){let s=fO(r,e,t,i,r.state.selection.$from);if(r.someProp("handlePaste",l=>l(r,n,s||Ke.empty)))return!0;if(!s)return!1;let o=HQ(s),a=o?r.state.tr.replaceSelectionWith(o,i):r.state.tr.replaceSelection(s);return r.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function DO(r){let e=r.getData("text/plain")||r.getData("Text");if(e)return e;let t=r.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}ar.paste=(r,e)=>{let t=e;if(r.composing&&!Zo)return;let i=up?null:t.clipboardData,n=r.input.shiftKey&&r.input.lastKeyCode!=45;i&&cp(r,DO(i),i.getData("text/html"),n,t)?t.preventDefault():VQ(r,t)};class TO{constructor(e,t,i){this.slice=e,this.move=t,this.node=i}}const QQ=es?"altKey":"ctrlKey";function wO(r,e){let t=r.someProp("dragCopies",i=>!i(e));return t??!e[QQ]}or.dragstart=(r,e)=>{let t=e,i=r.input.mouseDown;if(i&&i.done(),!t.dataTransfer)return;let n=r.state.selection,s=n.empty?null:r.posAtCoords(cv(t)),o;if(!(s&&s.pos>=n.from&&s.pos<=(n instanceof ct?n.to-1:n.to))){if(i&&i.mightDrag)o=ct.create(r.state.doc,i.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let c=r.docView.nearestDesc(t.target,!0);c&&c.node.type.spec.draggable&&c!=r.docView&&(o=ct.create(r.state.doc,c.posBefore))}}let a=(o||r.state.selection).content(),{dom:l,text:h,slice:u}=Jb(r,a);(!t.dataTransfer.files.length||!Qn||Zz>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(up?"Text":"text/html",l.innerHTML),t.dataTransfer.effectAllowed="copyMove",up||t.dataTransfer.setData("text/plain",h),r.dragging=new TO(u,wO(r,t),o)};or.dragend=r=>{let e=r.dragging;window.setTimeout(()=>{r.dragging==e&&(r.dragging=null)},50)};ar.dragover=ar.dragenter=(r,e)=>e.preventDefault();ar.drop=(r,e)=>{let t=e,i=r.dragging;if(r.dragging=null,!t.dataTransfer)return;let n=r.posAtCoords(cv(t));if(!n)return;let s=r.state.doc.resolve(n.pos),o=i&&i.slice;o?r.someProp("transformPasted",g=>{o=g(o,r)}):o=fO(r,DO(t.dataTransfer),up?null:t.dataTransfer.getData("text/html"),!1,s);let a=!!(i&&wO(r,t));if(r.someProp("handleDrop",g=>g(r,t,o||Ke.empty,a))){t.preventDefault();return}if(!o)return;t.preventDefault();let l=o?Qz(r.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let h=r.state.tr;if(a){let{node:g}=i;g?g.replace(h):h.deleteSelection()}let u=h.mapping.map(l),c=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,d=h.doc;if(c?h.replaceRangeWith(u,u,o.content.firstChild):h.replaceRange(u,u,o),h.doc.eq(d))return;let f=h.doc.resolve(u);if(c&&ct.isSelectable(o.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(o.content.firstChild))h.setSelection(new ct(f));else{let g=h.mapping.map(l);h.mapping.maps[h.mapping.maps.length-1].forEach((m,y,v,M)=>g=M),h.setSelection(Kb(r,f,h.doc.resolve(g)))}r.focus(),r.dispatch(h.setMeta("uiEvent","drop"))};or.focus=r=>{r.input.lastFocus=Date.now(),r.focused||(r.domObserver.stop(),r.dom.classList.add("ProseMirror-focused"),r.domObserver.start(),r.focused=!0,setTimeout(()=>{r.docView&&r.hasFocus()&&!r.domObserver.currentSelection.eq(r.domSelectionRange())&&sa(r)},20))};or.blur=(r,e)=>{let t=e;r.focused&&(r.domObserver.stop(),r.dom.classList.remove("ProseMirror-focused"),r.domObserver.start(),t.relatedTarget&&r.dom.contains(t.relatedTarget)&&r.domObserver.currentSelection.clear(),r.focused=!1)};or.beforeinput=(r,e)=>{if(Qn&&Zo&&e.inputType=="deleteContentBackward"){r.domObserver.flushSoon();let{domChangeCount:i}=r.input;setTimeout(()=>{if(r.input.domChangeCount!=i||(r.dom.blur(),r.focus(),r.someProp("handleKeyDown",s=>s(r,Xl(8,"Backspace")))))return;let{$cursor:n}=r.state.selection;n&&n.pos>0&&r.dispatch(r.state.tr.delete(n.pos-1,n.pos).scrollIntoView())},50)}};for(let r in ar)or[r]=ar[r];function dp(r,e){if(r==e)return!0;for(let t in r)if(r[t]!==e[t])return!1;for(let t in e)if(!(t in r))return!1;return!0}class vm{constructor(e,t){this.toDOM=e,this.spec=t||Lh,this.side=this.spec.side||0}map(e,t,i,n){let{pos:s,deleted:o}=e.mapResult(t.from+n,this.side<0?-1:1);return o?null:new as(s-i,s-i,this)}valid(){return!0}eq(e){return this==e||e instanceof vm&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&dp(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class ml{constructor(e,t){this.attrs=e,this.spec=t||Lh}map(e,t,i,n){let s=e.map(t.from+n,this.spec.inclusiveStart?-1:1)-i,o=e.map(t.to+n,this.spec.inclusiveEnd?1:-1)-i;return s>=o?null:new as(s,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof ml&&dp(this.attrs,e.attrs)&&dp(this.spec,e.spec)}static is(e){return e.type instanceof ml}destroy(){}}class tI{constructor(e,t){this.attrs=e,this.spec=t||Lh}map(e,t,i,n){let s=e.mapResult(t.from+n,1);if(s.deleted)return null;let o=e.mapResult(t.to+n,-1);return o.deleted||o.pos<=s.pos?null:new as(s.pos-i,o.pos-i,this)}valid(e,t){let{index:i,offset:n}=e.content.findIndex(t.from),s;return n==t.from&&!(s=e.child(i)).isText&&n+s.nodeSize==t.to}eq(e){return this==e||e instanceof tI&&dp(this.attrs,e.attrs)&&dp(this.spec,e.spec)}destroy(){}}class as{constructor(e,t,i){this.from=e,this.to=t,this.type=i}copy(e,t){return new as(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,i){return this.type.map(e,this,t,i)}static widget(e,t,i){return new as(e,e,new vm(t,i))}static inline(e,t,i,n){return new as(e,t,new ml(i,n))}static node(e,t,i,n){return new as(e,t,new tI(i,n))}get spec(){return this.type.spec}get inline(){return this.type instanceof ml}get widget(){return this.type instanceof vm}}const Iu=[],Lh={};class on{constructor(e,t){this.local=e.length?e:Iu,this.children=t.length?t:Iu}static create(e,t){return t.length?Mm(t,e,0,Lh):Rn}find(e,t,i){let n=[];return this.findInner(e??0,t??1e9,n,0,i),n}findInner(e,t,i,n,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=t&&a.to>=e&&(!s||s(a.spec))&&i.push(a.copy(a.from+n,a.to+n))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,t-a,i,n+a,s)}}map(e,t,i){return this==Rn||e.maps.length==0?this:this.mapInner(e,t,0,0,i||Lh)}mapInner(e,t,i,n,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,i,n);l&&l.type.valid(t,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?_Q(this.children,o||[],e,t,i,n,s):o?new on(o.sort(zh),Iu):Rn}add(e,t){return t.length?this==Rn?on.create(e,t):this.addInner(e,t,0):this}addInner(e,t,i){let n,s=0;e.forEach((a,l)=>{let h=l+i,u;if(u=NO(t,a,h)){for(n||(n=this.children.slice());s<n.length&&n[s]<l;)s+=3;n[s]==l?n[s+2]=n[s+2].addInner(a,u,h+1):n.splice(s,0,l,l+a.nodeSize,Mm(u,a,h+1,Lh)),s+=3}});let o=xO(s?AO(t):t,-i);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new on(o.length?this.local.concat(o).sort(zh):this.local,n||this.children)}remove(e){return e.length==0||this==Rn?this:this.removeInner(e,0)}removeInner(e,t){let i=this.children,n=this.local;for(let s=0;s<i.length;s+=3){let o,a=i[s]+t,l=i[s+1]+t;for(let u=0,c;u<e.length;u++)(c=e[u])&&c.from>a&&c.to<l&&(e[u]=null,(o||(o=[])).push(c));if(!o)continue;i==this.children&&(i=this.children.slice());let h=i[s+2].removeInner(o,a+1);h!=Rn?i[s+2]=h:(i.splice(s,3),s-=3)}if(n.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<n.length;a++)n[a].eq(o,t)&&(n==this.local&&(n=this.local.slice()),n.splice(a--,1))}return i==this.children&&n==this.local?this:n.length||i.length?new on(n,i):Rn}forChild(e,t){if(this==Rn)return this;if(t.isLeaf)return on.empty;let i,n;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(i=this.children[a+2]);break}let s=e+1,o=s+t.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof ml){let h=Math.max(s,l.from)-s,u=Math.min(o,l.to)-s;h<u&&(n||(n=[])).push(l.copy(h,u))}}if(n){let a=new on(n.sort(zh),Iu);return i?new _a([a,i]):a}return i||Rn}eq(e){if(this==e)return!0;if(!(e instanceof on)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return iI(this.localsInner(e))}localsInner(e){if(this==Rn)return Iu;if(e.inlineContent||!this.local.some(ml.is))return this.local;let t=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof ml||t.push(this.local[i]);return t}forEachSet(e){e(this)}}on.empty=new on([],[]);on.removeOverlap=iI;const Rn=on.empty;class _a{constructor(e){this.members=e}map(e,t){const i=this.members.map(n=>n.map(e,t,Lh));return _a.from(i)}forChild(e,t){if(t.isLeaf)return on.empty;let i=[];for(let n=0;n<this.members.length;n++){let s=this.members[n].forChild(e,t);s!=Rn&&(s instanceof _a?i=i.concat(s.members):i.push(s))}return _a.from(i)}eq(e){if(!(e instanceof _a)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,i=!0;for(let n=0;n<this.members.length;n++){let s=this.members[n].localsInner(e);if(s.length)if(!t)t=s;else{i&&(t=t.slice(),i=!1);for(let o=0;o<s.length;o++)t.push(s[o])}}return t?iI(i?t:t.sort(zh)):Iu}static from(e){switch(e.length){case 0:return Rn;case 1:return e[0];default:return new _a(e.every(t=>t instanceof on)?e:e.reduce((t,i)=>t.concat(i instanceof on?i:i.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function _Q(r,e,t,i,n,s,o){let a=r.slice();for(let h=0,u=s;h<t.maps.length;h++){let c=0;t.maps[h].forEach((d,f,g,m)=>{let y=m-g-(f-d);for(let v=0;v<a.length;v+=3){let M=a[v+1];if(M<0||d>M+u-c)continue;let S=a[v]+u-c;f>=S?a[v+1]=d<=S?-2:-1:d>=u&&y&&(a[v]+=y,a[v+1]+=y)}c+=y}),u=t.maps[h].map(u,-1)}let l=!1;for(let h=0;h<a.length;h+=3)if(a[h+1]<0){if(a[h+1]==-2){l=!0,a[h+1]=-1;continue}let u=t.map(r[h]+s),c=u-n;if(c<0||c>=i.content.size){l=!0;continue}let d=t.map(r[h+1]+s,-1),f=d-n,{index:g,offset:m}=i.content.findIndex(c),y=i.maybeChild(g);if(y&&m==c&&m+y.nodeSize==f){let v=a[h+2].mapInner(t,y,u+1,r[h]+s+1,o);v!=Rn?(a[h]=c,a[h+1]=f,a[h+2]=v):(a[h+1]=-2,l=!0)}else l=!0}if(l){let h=YQ(a,r,e,t,n,s,o),u=Mm(h,i,0,o);e=u.local;for(let c=0;c<a.length;c+=3)a[c+1]<0&&(a.splice(c,3),c-=3);for(let c=0,d=0;c<u.children.length;c+=3){let f=u.children[c];for(;d<a.length&&a[d]<f;)d+=3;a.splice(d,0,u.children[c],u.children[c+1],u.children[c+2])}}return new on(e.sort(zh),a)}function xO(r,e){if(!e||!r.length)return r;let t=[];for(let i=0;i<r.length;i++){let n=r[i];t.push(new as(n.from+e,n.to+e,n.type))}return t}function YQ(r,e,t,i,n,s,o){function a(l,h){for(let u=0;u<l.local.length;u++){let c=l.local[u].map(i,n,h);c?t.push(c):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+h+1)}for(let l=0;l<r.length;l+=3)r[l+1]==-1&&a(r[l+2],e[l]+s+1);return t}function NO(r,e,t){if(e.isLeaf)return null;let i=t+e.nodeSize,n=null;for(let s=0,o;s<r.length;s++)(o=r[s])&&o.from>t&&o.to<i&&((n||(n=[])).push(o),r[s]=null);return n}function AO(r){let e=[];for(let t=0;t<r.length;t++)r[t]!=null&&e.push(r[t]);return e}function Mm(r,e,t,i){let n=[],s=!1;e.forEach((a,l)=>{let h=NO(r,a,l+t);if(h){s=!0;let u=Mm(h,a,t+l+1,i);u!=Rn&&n.push(l,l+a.nodeSize,u)}});let o=xO(s?AO(r):r,-t).sort(zh);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(i.onRemove&&i.onRemove(o[a].spec),o.splice(a--,1));return o.length||n.length?new on(o,n):Rn}function zh(r,e){return r.from-e.from||r.to-e.to}function iI(r){let e=r;for(let t=0;t<e.length-1;t++){let i=e[t];if(i.from!=i.to)for(let n=t+1;n<e.length;n++){let s=e[n];if(s.from==i.from){s.to!=i.to&&(e==r&&(e=r.slice()),e[n]=s.copy(s.from,i.to),zw(e,n+1,s.copy(i.to,s.to)));continue}else{s.from<i.to&&(e==r&&(e=r.slice()),e[t]=i.copy(i.from,s.from),zw(e,n,i.copy(s.from,i.to)));break}}}return e}function zw(r,e,t){for(;e<r.length&&zh(t,r[e])>0;)e++;r.splice(e,0,t)}function aM(r){let e=[];return r.someProp("decorations",t=>{let i=t(r.state);i&&i!=Rn&&e.push(i)}),r.cursorWrapper&&e.push(on.create(r.state.doc,[r.cursorWrapper.deco])),_a.from(e)}const WQ={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},qQ=Sr&&fl<=11;class GQ{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class $Q{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new GQ,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let n=0;n<i.length;n++)this.queue.push(i[n]);Sr&&fl<=11&&i.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),qQ&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,WQ)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Tw(this.view)){if(this.suppressingSelectionUpdates)return sa(this.view);if(Sr&&fl<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&_h(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,i;for(let s=e.focusNode;s;s=mc(s))t.add(s);for(let s=e.anchorNode;s;s=mc(s))if(t.has(s)){i=s;break}let n=i&&this.view.docView.nearestDesc(i);if(n&&n.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let i=e.domSelectionRange(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&Tw(e)&&!this.ignoreSelectionChange(i),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let u=0;u<t.length;u++){let c=this.registerMutation(t[u],l);c&&(s=s<0?c.from:Math.min(c.from,s),o=o<0?c.to:Math.max(c.to,o),c.typeOver&&(a=!0))}if(zs&&l.length){let u=l.filter(c=>c.nodeName=="BR");if(u.length==2){let[c,d]=u;c.parentNode&&c.parentNode.parentNode==d.parentNode?d.remove():c.remove()}else{let{focusNode:c}=this.currentSelection;for(let d of u){let f=d.parentNode;f&&f.nodeName=="LI"&&(!c||ZQ(e,c)!=f)&&d.remove()}}}let h=null;s<0&&n&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&hv(i)&&(h=$b(e))&&h.eq(Ot.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,sa(e),this.currentSelection.set(i),e.scrollToSelection()):(s>-1||n)&&(s>-1&&(e.docView.markDirty(s,o),KQ(e)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(i)||sa(e),this.currentSelection.set(i))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let i=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(i==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!i||i.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let c=e.addedNodes[u];t.push(c),c.nodeType==3&&(this.lastChangedTextNode=c)}if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(e.target))return{from:i.posBefore,to:i.posAfter};let n=e.previousSibling,s=e.nextSibling;if(Sr&&fl<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:c,nextSibling:d}=e.addedNodes[u];(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(n=c),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(s=d)}let o=n&&n.parentNode==e.target?Nn(n)+1:0,a=i.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?Nn(s):e.target.childNodes.length,h=i.localPosFromDOM(e.target,l,1);return{from:a,to:h}}else return e.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:(this.lastChangedTextNode=e.target,{from:i.posAtStart,to:i.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Ow=new WeakMap,Rw=!1;function KQ(r){if(!Ow.has(r)&&(Ow.set(r,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(r.dom).whiteSpace)!==-1)){if(r.requiresGeckoHackNode=zs,Rw)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Rw=!0}}function jw(r,e){let t=e.startContainer,i=e.startOffset,n=e.endContainer,s=e.endOffset,o=r.domAtPos(r.state.selection.anchor);return _h(o.node,o.offset,n,s)&&([t,i,n,s]=[n,s,t,i]),{anchorNode:t,anchorOffset:i,focusNode:n,focusOffset:s}}function JQ(r,e){if(e.getComposedRanges){let n=e.getComposedRanges(r.root)[0];if(n)return jw(r,n)}let t;function i(n){n.preventDefault(),n.stopImmediatePropagation(),t=n.getTargetRanges()[0]}return r.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),r.dom.removeEventListener("beforeinput",i,!0),t?jw(r,t):null}function ZQ(r,e){for(let t=e.parentNode;t&&t!=r.dom;t=t.parentNode){let i=r.docView.nearestDesc(t,!0);if(i&&i.node.isBlock)return t}return null}function XQ(r,e,t){let{node:i,fromOffset:n,toOffset:s,from:o,to:a}=r.docView.parseRange(e,t),l=r.domSelectionRange(),h,u=l.anchorNode;if(u&&r.dom.contains(u.nodeType==1?u:u.parentNode)&&(h=[{node:u,offset:l.anchorOffset}],hv(l)||h.push({node:l.focusNode,offset:l.focusOffset})),Qn&&r.input.lastKeyCode===8)for(let y=s;y>n;y--){let v=i.childNodes[y-1],M=v.pmViewDesc;if(v.nodeName=="BR"&&!M){s=y;break}if(!M||M.size)break}let c=r.state.doc,d=r.someProp("domParser")||pl.fromSchema(r.state.schema),f=c.resolve(o),g=null,m=d.parse(i,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:n,to:s,preserveWhitespace:f.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:e_,context:f});if(h&&h[0].pos!=null){let y=h[0].pos,v=h[1]&&h[1].pos;v==null&&(v=y),g={anchor:y+o,head:v+o}}return{doc:m,sel:g,from:o,to:a}}function e_(r){let e=r.pmViewDesc;if(e)return e.parseRule();if(r.nodeName=="BR"&&r.parentNode){if(sr&&/^(ul|ol)$/i.test(r.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(r.parentNode.lastChild==r||sr&&/^(tr|table)$/i.test(r.parentNode.nodeName))return{ignore:!0}}else if(r.nodeName=="IMG"&&r.getAttribute("mark-placeholder"))return{ignore:!0};return null}const t_=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function i_(r,e,t,i,n){let s=r.input.compositionPendingChanges||(r.composing?r.input.compositionID:0);if(r.input.compositionPendingChanges=0,e<0){let N=r.input.lastSelectionTime>Date.now()-50?r.input.lastSelectionOrigin:null,A=$b(r,N);if(A&&!r.state.selection.eq(A)){if(Qn&&Zo&&r.input.lastKeyCode===13&&Date.now()-100<r.input.lastKeyCodeTime&&r.someProp("handleKeyDown",x=>x(r,Xl(13,"Enter"))))return;let E=r.state.tr.setSelection(A);N=="pointer"?E.setMeta("pointer",!0):N=="key"&&E.scrollIntoView(),s&&E.setMeta("composition",s),r.dispatch(E)}return}let o=r.state.doc.resolve(e),a=o.sharedDepth(t);e=o.before(a+1),t=r.state.doc.resolve(t).after(a+1);let l=r.state.selection,h=XQ(r,e,t),u=r.state.doc,c=u.slice(h.from,h.to),d,f;r.input.lastKeyCode===8&&Date.now()-100<r.input.lastKeyCodeTime?(d=r.state.selection.to,f="end"):(d=r.state.selection.from,f="start"),r.input.lastKeyCode=null;let g=s_(c.content,h.doc.content,h.from,d,f);if(g&&r.input.domChangeCount++,(yc&&r.input.lastIOSEnter>Date.now()-225||Zo)&&n.some(N=>N.nodeType==1&&!t_.test(N.nodeName))&&(!g||g.endA>=g.endB)&&r.someProp("handleKeyDown",N=>N(r,Xl(13,"Enter")))){r.input.lastIOSEnter=0;return}if(!g)if(i&&l instanceof Nt&&!l.empty&&l.$head.sameParent(l.$anchor)&&!r.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))g={start:l.from,endA:l.to,endB:l.to};else{if(h.sel){let N=Pw(r,r.state.doc,h.sel);if(N&&!N.eq(r.state.selection)){let A=r.state.tr.setSelection(N);s&&A.setMeta("composition",s),r.dispatch(A)}}return}r.state.selection.from<r.state.selection.to&&g.start==g.endB&&r.state.selection instanceof Nt&&(g.start>r.state.selection.from&&g.start<=r.state.selection.from+2&&r.state.selection.from>=h.from?g.start=r.state.selection.from:g.endA<r.state.selection.to&&g.endA>=r.state.selection.to-2&&r.state.selection.to<=h.to&&(g.endB+=r.state.selection.to-g.endA,g.endA=r.state.selection.to)),Sr&&fl<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>h.from&&h.doc.textBetween(g.start-h.from-1,g.start-h.from+1)==" "&&(g.start--,g.endA--,g.endB--);let m=h.doc.resolveNoCache(g.start-h.from),y=h.doc.resolveNoCache(g.endB-h.from),v=u.resolve(g.start),M=m.sameParent(y)&&m.parent.inlineContent&&v.end()>=g.endA,S;if((yc&&r.input.lastIOSEnter>Date.now()-225&&(!M||n.some(N=>N.nodeName=="DIV"||N.nodeName=="P"))||!M&&m.pos<h.doc.content.size&&(!m.sameParent(y)||!m.parent.inlineContent)&&!/\S/.test(h.doc.textBetween(m.pos,y.pos,"",""))&&(S=Ot.findFrom(h.doc.resolve(m.pos+1),1,!0))&&S.head>m.pos)&&r.someProp("handleKeyDown",N=>N(r,Xl(13,"Enter")))){r.input.lastIOSEnter=0;return}if(r.state.selection.anchor>g.start&&r_(u,g.start,g.endA,m,y)&&r.someProp("handleKeyDown",N=>N(r,Xl(8,"Backspace")))){Zo&&Qn&&r.domObserver.suppressSelectionUpdates();return}Qn&&g.endB==g.start&&(r.input.lastChromeDelete=Date.now()),Zo&&!M&&m.start()!=y.start()&&y.parentOffset==0&&m.depth==y.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==g.endA&&(g.endB-=2,y=h.doc.resolveNoCache(g.endB-h.from),setTimeout(()=>{r.someProp("handleKeyDown",function(N){return N(r,Xl(13,"Enter"))})},20));let b=g.start,C=g.endA,T=N=>{let A=N||r.state.tr.replace(b,C,h.doc.slice(g.start-h.from,g.endB-h.from));if(h.sel){let E=Pw(r,A.doc,h.sel);E&&!(Qn&&r.composing&&E.empty&&(g.start!=g.endB||r.input.lastChromeDelete<Date.now()-100)&&(E.head==b||E.head==A.mapping.map(C)-1)||Sr&&E.empty&&E.head==b)&&A.setSelection(E)}return s&&A.setMeta("composition",s),A.scrollIntoView()},k;if(M){if(m.pos==y.pos){Sr&&fl<=11&&m.parentOffset==0&&(r.domObserver.suppressSelectionUpdates(),setTimeout(()=>sa(r),20));let N=T(r.state.tr.delete(b,C)),A=u.resolve(g.start).marksAcross(u.resolve(g.endA));A&&N.ensureMarks(A),r.dispatch(N)}else if(g.endA==g.endB&&(k=n_(m.parent.content.cut(m.parentOffset,y.parentOffset),v.parent.content.cut(v.parentOffset,g.endA-v.start())))){let N=T(r.state.tr);k.type=="add"?N.addMark(b,C,k.mark):N.removeMark(b,C,k.mark),r.dispatch(N)}else if(m.parent.child(m.index()).isText&&m.index()==y.index()-(y.textOffset?0:1)){let N=m.parent.textBetween(m.parentOffset,y.parentOffset),A=()=>T(r.state.tr.insertText(N,b,C));r.someProp("handleTextInput",E=>E(r,b,C,N,A))||r.dispatch(A())}}else r.dispatch(T())}function Pw(r,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Kb(r,e.resolve(t.anchor),e.resolve(t.head))}function n_(r,e){let t=r.firstChild.marks,i=e.firstChild.marks,n=t,s=i,o,a,l;for(let u=0;u<i.length;u++)n=i[u].removeFromSet(n);for(let u=0;u<t.length;u++)s=t[u].removeFromSet(s);if(n.length==1&&s.length==0)a=n[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(n.length==0&&s.length==1)a=s[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let h=[];for(let u=0;u<e.childCount;u++)h.push(l(e.child(u)));if(Oe.from(h).eq(r))return{mark:a,type:o}}function r_(r,e,t,i,n){if(t-e<=n.pos-i.pos||lM(i,!0,!1)<n.pos)return!1;let s=r.resolve(e);if(!i.parent.isTextblock){let a=s.nodeAfter;return a!=null&&t==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=r.resolve(lM(s,!0,!0));return!o.parent.isTextblock||o.pos>t||lM(o,!0,!1)<t?!1:i.parent.content.cut(i.parentOffset).eq(o.parent.content)}function lM(r,e,t){let i=r.depth,n=e?r.end():r.pos;for(;i>0&&(e||r.indexAfter(i)==r.node(i).childCount);)i--,n++,e=!1;if(t){let s=r.node(i).maybeChild(r.indexAfter(i));for(;s&&!s.isLeaf;)s=s.firstChild,n++}return n}function s_(r,e,t,i,n){let s=r.findDiffStart(e,t);if(s==null)return null;let{a:o,b:a}=r.findDiffEnd(e,t+r.size,t+e.size);if(n=="end"){let l=Math.max(0,s-Math.min(o,a));i-=o+l-s}if(o<s&&r.size<e.size){let l=i<=s&&i>=o?s-i:0;s-=l,s&&s<e.size&&Fw(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=i<=s&&i>=a?s-i:0;s-=l,s&&s<r.size&&Fw(r.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function Fw(r){if(r.length!=2)return!1;let e=r.charCodeAt(0),t=r.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class EO{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new DQ,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Qw),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Hw(this),Uw(this),this.nodeViews=Vw(this),this.docView=Mw(this.state.doc,Bw(this),aM(this),this.dom,this),this.domObserver=new $Q(this,(i,n,s,o)=>i_(this,i,n,s,o)),this.domObserver.start(),TQ(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&NS(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Qw),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let i in this._props)t[i]=this._props[i];t.state=this.state;for(let i in e)t[i]=e[i];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var i;let n=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(IO(this),o=!0),this.state=e;let a=n.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let f=Vw(this);a_(f,this.nodeViews)&&(this.nodeViews=f,s=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&NS(this),this.editable=Hw(this),Uw(this);let l=aM(this),h=Bw(this),u=n.plugins!=e.plugins&&!n.doc.eq(e.doc)?"reset":e.scrollToSelection>n.scrollToSelection?"to selection":"preserve",c=s||!this.docView.matchesNode(e.doc,h,l);(c||!e.selection.eq(n.selection))&&(o=!0);let d=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&BV(this);if(o){this.domObserver.stop();let f=c&&(Sr||Qn)&&!this.composing&&!n.selection.empty&&!e.selection.empty&&o_(n.selection,e.selection);if(c){let g=Qn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=FQ(this)),(s||!this.docView.update(e.doc,h,l,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=Mw(e.doc,h,l,this.dom,this)),g&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&hQ(this))?sa(this,f):(cO(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(n),!((i=this.dragging)===null||i===void 0)&&i.node&&!n.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,n),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():d&&UV(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof ct){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&pw(this,t.getBoundingClientRect(),e)}else pw(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let i=this.directPlugins[t];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let i=this.state.plugins[t];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let i=this.pluginViews[t];i.update&&i.update(this,e)}}updateDraggedNode(e,t){let i=e.node,n=-1;if(this.state.doc.nodeAt(i.from)==i.node)n=i.from;else{let s=i.from+(this.state.doc.content.size-t.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==i.node&&(n=s)}this.dragging=new TO(e.slice,e.move,n<0?void 0:ct.create(this.state.doc,n))}someProp(e,t){let i=this._props&&this._props[e],n;if(i!=null&&(n=t?t(i):i))return n;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(n=t?t(a):a))return n}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(n=t?t(a):a))return n}}hasFocus(){if(Sr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&HV(this.dom),sa(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return WV(this,e)}coordsAtPos(e,t=1){return nO(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,i=-1){let n=this.docView.posFromDOM(e,t,i);if(n==null)throw new RangeError("DOM position not inside the editor");return n}endOfTextblock(e,t){return JV(this,t||this.state,e)}pasteHTML(e,t){return cp(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return cp(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return Jb(this,e)}destroy(){this.docView&&(wQ(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],aM(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,NV())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return NQ(this,e)}domSelectionRange(){let e=this.domSelection();return e?sr&&this.root.nodeType===11&&zV(this.dom.ownerDocument)==this.dom&&JQ(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}EO.prototype.dispatch=function(r){let e=this._props.dispatchTransaction;e?e.call(this,r):this.updateState(this.state.apply(r))};function Bw(r){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(r.editable),r.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(r.state)),t)for(let i in t)i=="class"?e.class+=" "+t[i]:i=="style"?e.style=(e.style?e.style+";":"")+t[i]:!e[i]&&i!="contenteditable"&&i!="nodeName"&&(e[i]=String(t[i]))}),e.translate||(e.translate="no"),[as.node(0,r.state.doc.content.size,e)]}function Uw(r){if(r.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),r.cursorWrapper={dom:e,deco:as.widget(r.state.selection.from,e,{raw:!0,marks:r.markCursor})}}else r.cursorWrapper=null}function Hw(r){return!r.someProp("editable",e=>e(r.state)===!1)}function o_(r,e){let t=Math.min(r.$anchor.sharedDepth(r.head),e.$anchor.sharedDepth(e.head));return r.$anchor.start(t)!=e.$anchor.start(t)}function Vw(r){let e=Object.create(null);function t(i){for(let n in i)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=i[n])}return r.someProp("nodeViews",t),r.someProp("markViews",t),e}function a_(r,e){let t=0,i=0;for(let n in r){if(r[n]!=e[n])return!0;t++}for(let n in e)i++;return t!=i}function Qw(r){if(r.spec.state||r.spec.filterTransaction||r.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var bl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Sm={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},l_=typeof navigator<"u"&&/Mac/.test(navigator.platform),h_=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var An=0;An<10;An++)bl[48+An]=bl[96+An]=String(An);for(var An=1;An<=24;An++)bl[An+111]="F"+An;for(var An=65;An<=90;An++)bl[An]=String.fromCharCode(An+32),Sm[An]=String.fromCharCode(An);for(var hM in bl)Sm.hasOwnProperty(hM)||(Sm[hM]=bl[hM]);function u_(r){var e=l_&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||h_&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?Sm:bl)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const c_=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),d_=typeof navigator<"u"&&/Win/.test(navigator.platform);function p_(r){let e=r.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let i,n,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))i=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))c_?o=!0:n=!0;else throw new Error("Unrecognized modifier name: "+l)}return i&&(t="Alt-"+t),n&&(t="Ctrl-"+t),o&&(t="Meta-"+t),s&&(t="Shift-"+t),t}function f_(r){let e=Object.create(null);for(let t in r)e[p_(t)]=r[t];return e}function uM(r,e,t=!0){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t&&e.shiftKey&&(r="Shift-"+r),r}function g_(r){return new kn({props:{handleKeyDown:kO(r)}})}function kO(r){let e=f_(r);return function(t,i){let n=u_(i),s,o=e[uM(n,i)];if(o&&o(t.state,t.dispatch,t))return!0;if(n.length==1&&n!=" "){if(i.shiftKey){let a=e[uM(n,i,!1)];if(a&&a(t.state,t.dispatch,t))return!0}if((i.altKey||i.metaKey||i.ctrlKey)&&!(d_&&i.ctrlKey&&i.altKey)&&(s=bl[i.keyCode])&&s!=n){let a=e[uM(s,i)];if(a&&a(t.state,t.dispatch,t))return!0}}return!1}}const nI=(r,e)=>r.selection.empty?!1:(e&&e(r.tr.deleteSelection().scrollIntoView()),!0);function LO(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("backward",r):t.parentOffset>0)?null:t}const zO=(r,e,t)=>{let i=LO(r,t);if(!i)return!1;let n=rI(i);if(!n){let o=i.blockRange(),a=o&&Rc(o);return a==null?!1:(e&&e(r.tr.lift(o,a).scrollIntoView()),!0)}let s=n.nodeBefore;if(VO(r,n,e,-1))return!0;if(i.parent.content.size==0&&(vc(s,"end")||ct.isSelectable(s)))for(let o=i.depth;;o--){let a=av(r.doc,i.before(o),i.after(o),Ke.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=r.tr.step(a);l.setSelection(vc(s,"end")?Ot.findFrom(l.doc.resolve(l.mapping.map(n.pos,-1)),-1):ct.create(l.doc,n.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||i.node(o-1).childCount>1)break}return s.isAtom&&n.depth==i.depth-1?(e&&e(r.tr.delete(n.pos-s.nodeSize,n.pos).scrollIntoView()),!0):!1},m_=(r,e,t)=>{let i=LO(r,t);if(!i)return!1;let n=rI(i);return n?OO(r,n,e):!1},y_=(r,e,t)=>{let i=jO(r,t);if(!i)return!1;let n=sI(i);return n?OO(r,n,e):!1};function OO(r,e,t){let i=e.nodeBefore,n=i,s=e.pos-1;for(;!n.isTextblock;s--){if(n.type.spec.isolating)return!1;let u=n.lastChild;if(!u)return!1;n=u}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let h=av(r.doc,s,l,Ke.empty);if(!h||h.from!=s||h instanceof gn&&h.slice.size>=l-s)return!1;if(t){let u=r.tr.step(h);u.setSelection(Nt.create(u.doc,s)),t(u.scrollIntoView())}return!0}function vc(r,e,t=!1){for(let i=r;i;i=e=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(t&&i.childCount!=1)return!1}return!1}const RO=(r,e,t)=>{let{$head:i,empty:n}=r.selection,s=i;if(!n)return!1;if(i.parent.isTextblock){if(t?!t.endOfTextblock("backward",r):i.parentOffset>0)return!1;s=rI(i)}let o=s&&s.nodeBefore;return!o||!ct.isSelectable(o)?!1:(e&&e(r.tr.setSelection(ct.create(r.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function rI(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){if(r.index(e)>0)return r.doc.resolve(r.before(e+1));if(r.node(e).type.spec.isolating)break}return null}function jO(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("forward",r):t.parentOffset<t.parent.content.size)?null:t}const PO=(r,e,t)=>{let i=jO(r,t);if(!i)return!1;let n=sI(i);if(!n)return!1;let s=n.nodeAfter;if(VO(r,n,e,1))return!0;if(i.parent.content.size==0&&(vc(s,"start")||ct.isSelectable(s))){let o=av(r.doc,i.before(),i.after(),Ke.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=r.tr.step(o);a.setSelection(vc(s,"start")?Ot.findFrom(a.doc.resolve(a.mapping.map(n.pos)),1):ct.create(a.doc,a.mapping.map(n.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&n.depth==i.depth-1?(e&&e(r.tr.delete(n.pos,n.pos+s.nodeSize).scrollIntoView()),!0):!1},FO=(r,e,t)=>{let{$head:i,empty:n}=r.selection,s=i;if(!n)return!1;if(i.parent.isTextblock){if(t?!t.endOfTextblock("forward",r):i.parentOffset<i.parent.content.size)return!1;s=sI(i)}let o=s&&s.nodeAfter;return!o||!ct.isSelectable(o)?!1:(e&&e(r.tr.setSelection(ct.create(r.doc,s.pos)).scrollIntoView()),!0)};function sI(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){let t=r.node(e);if(r.index(e)+1<t.childCount)return r.doc.resolve(r.after(e+1));if(t.type.spec.isolating)break}return null}const v_=(r,e)=>{let t=r.selection,i=t instanceof ct,n;if(i){if(t.node.isTextblock||!Ll(r.doc,t.from))return!1;n=t.from}else if(n=ov(r.doc,t.from,-1),n==null)return!1;if(e){let s=r.tr.join(n);i&&s.setSelection(ct.create(s.doc,n-r.doc.resolve(n).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},M_=(r,e)=>{let t=r.selection,i;if(t instanceof ct){if(t.node.isTextblock||!Ll(r.doc,t.to))return!1;i=t.to}else if(i=ov(r.doc,t.to,1),i==null)return!1;return e&&e(r.tr.join(i).scrollIntoView()),!0},S_=(r,e)=>{let{$from:t,$to:i}=r.selection,n=t.blockRange(i),s=n&&Rc(n);return s==null?!1:(e&&e(r.tr.lift(n,s).scrollIntoView()),!0)},BO=(r,e)=>{let{$head:t,$anchor:i}=r.selection;return!t.parent.type.spec.code||!t.sameParent(i)?!1:(e&&e(r.tr.insertText(`
`).scrollIntoView()),!0)};function oI(r){for(let e=0;e<r.edgeCount;e++){let{type:t}=r.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const C_=(r,e)=>{let{$head:t,$anchor:i}=r.selection;if(!t.parent.type.spec.code||!t.sameParent(i))return!1;let n=t.node(-1),s=t.indexAfter(-1),o=oI(n.contentMatchAt(s));if(!o||!n.canReplaceWith(s,s,o))return!1;if(e){let a=t.after(),l=r.tr.replaceWith(a,a,o.createAndFill());l.setSelection(Ot.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},UO=(r,e)=>{let t=r.selection,{$from:i,$to:n}=t;if(t instanceof Br||i.parent.inlineContent||n.parent.inlineContent)return!1;let s=oI(n.parent.contentMatchAt(n.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!i.parentOffset&&n.index()<n.parent.childCount?i:n).pos,a=r.tr.insert(o,s.createAndFill());a.setSelection(Nt.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},HO=(r,e)=>{let{$cursor:t}=r.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let s=t.before();if(ra(r.doc,s))return e&&e(r.tr.split(s).scrollIntoView()),!0}let i=t.blockRange(),n=i&&Rc(i);return n==null?!1:(e&&e(r.tr.lift(i,n).scrollIntoView()),!0)};function b_(r){return(e,t)=>{let{$from:i,$to:n}=e.selection;if(e.selection instanceof ct&&e.selection.node.isBlock)return!i.parentOffset||!ra(e.doc,i.pos)?!1:(t&&t(e.tr.split(i.pos).scrollIntoView()),!0);if(!i.depth)return!1;let s=[],o,a,l=!1,h=!1;for(let f=i.depth;;f--)if(i.node(f).isBlock){l=i.end(f)==i.pos+(i.depth-f),h=i.start(f)==i.pos-(i.depth-f),a=oI(i.node(f-1).contentMatchAt(i.indexAfter(f-1))),s.unshift(l&&a?{type:a}:null),o=f;break}else{if(f==1)return!1;s.unshift(null)}let u=e.tr;(e.selection instanceof Nt||e.selection instanceof Br)&&u.deleteSelection();let c=u.mapping.map(i.pos),d=ra(u.doc,c,s.length,s);if(d||(s[0]=a?{type:a}:null,d=ra(u.doc,c,s.length,s)),!d)return!1;if(u.split(c,s.length,s),!l&&h&&i.node(o).type!=a){let f=u.mapping.map(i.before(o)),g=u.doc.resolve(f);a&&i.node(o-1).canReplaceWith(g.index(),g.index()+1,a)&&u.setNodeMarkup(u.mapping.map(i.before(o)),a)}return t&&t(u.scrollIntoView()),!0}}const I_=b_(),D_=(r,e)=>{let{$from:t,to:i}=r.selection,n,s=t.sharedDepth(i);return s==0?!1:(n=t.before(s),e&&e(r.tr.setSelection(ct.create(r.doc,n))),!0)};function T_(r,e,t){let i=e.nodeBefore,n=e.nodeAfter,s=e.index();return!i||!n||!i.type.compatibleContent(n.type)?!1:!i.content.size&&e.parent.canReplace(s-1,s)?(t&&t(r.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(n.isTextblock||Ll(r.doc,e.pos))?!1:(t&&t(r.tr.join(e.pos).scrollIntoView()),!0)}function VO(r,e,t,i){let n=e.nodeBefore,s=e.nodeAfter,o,a,l=n.type.spec.isolating||s.type.spec.isolating;if(!l&&T_(r,e,t))return!0;let h=!l&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(o=(a=n.contentMatchAt(n.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(t){let f=e.pos+s.nodeSize,g=Oe.empty;for(let v=o.length-1;v>=0;v--)g=Oe.from(o[v].create(null,g));g=Oe.from(n.copy(g));let m=r.tr.step(new yn(e.pos-1,f,e.pos,f,new Ke(g,1,0),o.length,!0)),y=m.doc.resolve(f+2*o.length);y.nodeAfter&&y.nodeAfter.type==n.type&&Ll(m.doc,y.pos)&&m.join(y.pos),t(m.scrollIntoView())}return!0}let u=s.type.spec.isolating||i>0&&l?null:Ot.findFrom(e,1),c=u&&u.$from.blockRange(u.$to),d=c&&Rc(c);if(d!=null&&d>=e.depth)return t&&t(r.tr.lift(c,d).scrollIntoView()),!0;if(h&&vc(s,"start",!0)&&vc(n,"end")){let f=n,g=[];for(;g.push(f),!f.isTextblock;)f=f.lastChild;let m=s,y=1;for(;!m.isTextblock;m=m.firstChild)y++;if(f.canReplace(f.childCount,f.childCount,m.content)){if(t){let v=Oe.empty;for(let S=g.length-1;S>=0;S--)v=Oe.from(g[S].copy(v));let M=r.tr.step(new yn(e.pos-g.length,e.pos+s.nodeSize,e.pos+y,e.pos+s.nodeSize-y,new Ke(v,g.length,0),0,!0));t(M.scrollIntoView())}return!0}}return!1}function QO(r){return function(e,t){let i=e.selection,n=r<0?i.$from:i.$to,s=n.depth;for(;n.node(s).isInline;){if(!s)return!1;s--}return n.node(s).isTextblock?(t&&t(e.tr.setSelection(Nt.create(e.doc,r<0?n.start(s):n.end(s)))),!0):!1}}const w_=QO(-1),x_=QO(1);function N_(r,e=null){return function(t,i){let{$from:n,$to:s}=t.selection,o=n.blockRange(s),a=o&&Wb(o,r,e);return a?(i&&i(t.tr.wrap(o,a).scrollIntoView()),!0):!1}}function _w(r,e=null){return function(t,i){let n=!1;for(let s=0;s<t.selection.ranges.length&&!n;s++){let{$from:{pos:o},$to:{pos:a}}=t.selection.ranges[s];t.doc.nodesBetween(o,a,(l,h)=>{if(n)return!1;if(!(!l.isTextblock||l.hasMarkup(r,e)))if(l.type==r)n=!0;else{let u=t.doc.resolve(h),c=u.index();n=u.parent.canReplaceWith(c,c+1,r)}})}if(!n)return!1;if(i){let s=t.tr;for(let o=0;o<t.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=t.selection.ranges[o];s.setBlockType(a,l,r,e)}i(s.scrollIntoView())}return!0}}function aI(...r){return function(e,t,i){for(let n=0;n<r.length;n++)if(r[n](e,t,i))return!0;return!1}}aI(nI,zO,RO);aI(nI,PO,FO);aI(BO,UO,HO,I_);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function A_(r,e=null){return function(t,i){let{$from:n,$to:s}=t.selection,o=n.blockRange(s);if(!o)return!1;let a=i?t.tr:null;return E_(a,o,r,e)?(i&&i(a.scrollIntoView()),!0):!1}}function E_(r,e,t,i=null){let n=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=o.resolve(e.start-2);s=new pm(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new pm(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),n=!0}let a=Wb(s,t,i,e);return a?(r&&k_(r,e,a,n,t),!0):!1}function k_(r,e,t,i,n){let s=Oe.empty;for(let u=t.length-1;u>=0;u--)s=Oe.from(t[u].type.create(t[u].attrs,s));r.step(new yn(e.start-(i?2:0),e.end,e.start,e.end,new Ke(s,0,0),t.length,!0));let o=0;for(let u=0;u<t.length;u++)t[u].type==n&&(o=u+1);let a=t.length-o,l=e.start+t.length-(i?2:0),h=e.parent;for(let u=e.startIndex,c=e.endIndex,d=!0;u<c;u++,d=!1)!d&&ra(r.doc,l,a)&&(r.split(l,a),l+=2*a),l+=h.child(u).nodeSize;return r}function L_(r){return function(e,t){let{$from:i,$to:n}=e.selection,s=i.blockRange(n,o=>o.childCount>0&&o.firstChild.type==r);return s?t?i.node(s.depth-1).type==r?z_(e,t,r,s):O_(e,t,s):!0:!1}}function z_(r,e,t,i){let n=r.tr,s=i.end,o=i.$to.end(i.depth);s<o&&(n.step(new yn(s-1,o,s,o,new Ke(Oe.from(t.create(null,i.parent.copy())),1,0),1,!0)),i=new pm(n.doc.resolve(i.$from.pos),n.doc.resolve(o),i.depth));const a=Rc(i);if(a==null)return!1;n.lift(i,a);let l=n.doc.resolve(n.mapping.map(s,-1)-1);return Ll(n.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&n.join(l.pos),e(n.scrollIntoView()),!0}function O_(r,e,t){let i=r.tr,n=t.parent;for(let f=t.end,g=t.endIndex-1,m=t.startIndex;g>m;g--)f-=n.child(g).nodeSize,i.delete(f-1,f+1);let s=i.doc.resolve(t.start),o=s.nodeAfter;if(i.mapping.map(t.end)!=t.start+s.nodeAfter.nodeSize)return!1;let a=t.startIndex==0,l=t.endIndex==n.childCount,h=s.node(-1),u=s.index(-1);if(!h.canReplace(u+(a?0:1),u+1,o.content.append(l?Oe.empty:Oe.from(n))))return!1;let c=s.pos,d=c+o.nodeSize;return i.step(new yn(c-(a?1:0),d+(l?1:0),c+1,d-1,new Ke((a?Oe.empty:Oe.from(n.copy(Oe.empty))).append(l?Oe.empty:Oe.from(n.copy(Oe.empty))),a?0:1,l?0:1),a?0:1)),e(i.scrollIntoView()),!0}function R_(r){return function(e,t){let{$from:i,$to:n}=e.selection,s=i.blockRange(n,h=>h.childCount>0&&h.firstChild.type==r);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=r)return!1;if(t){let h=l.lastChild&&l.lastChild.type==a.type,u=Oe.from(h?r.create():null),c=new Ke(Oe.from(r.create(null,Oe.from(a.type.create(null,u)))),h?3:1,0),d=s.start,f=s.end;t(e.tr.step(new yn(d-(h?3:1),f,d,f,c,1,!0)).scrollIntoView())}return!0}}function dv(r){const{state:e,transaction:t}=r;let{selection:i}=t,{doc:n}=t,{storedMarks:s}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return i},get doc(){return n},get tr(){return i=t.selection,n=t.doc,s=t.storedMarks,t}}}class pv{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:i}=this,{view:n}=t,{tr:s}=i,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const c=l(...u)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(s),c}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:i,editor:n,state:s}=this,{view:o}=n,a=[],l=!!e,h=e||s.tr,u=()=>(!l&&t&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(h),a.every(d=>d===!0)),c={...Object.fromEntries(Object.entries(i).map(([d,f])=>[d,(...m)=>{const y=this.buildProps(h,t),v=f(...m)(y);return a.push(v),c}])),run:u};return c}createCan(e){const{rawCommands:t,state:i}=this,n=!1,s=e||i.tr,o=this.buildProps(s,n);return{...Object.fromEntries(Object.entries(t).map(([l,h])=>[l,(...u)=>h(...u)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,n)}}buildProps(e,t=!0){const{rawCommands:i,editor:n,state:s}=this,{view:o}=n,a={tr:e,editor:n,view:o,state:dv({state:s,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(i).map(([l,h])=>[l,(...u)=>h(...u)(a)]))}};return a}}class j_{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const i=this.callbacks[e];return i&&i.forEach(n=>n.apply(this,t)),this}off(e,t){const i=this.callbacks[e];return i&&(t?this.callbacks[e]=i.filter(n=>n!==t):delete this.callbacks[e]),this}once(e,t){const i=(...n)=>{this.off(e,i),t.apply(this,n)};return this.on(e,i)}removeAllListeners(){this.callbacks={}}}function nt(r,e,t){return r.config[e]===void 0&&r.parent?nt(r.parent,e,t):typeof r.config[e]=="function"?r.config[e].bind({...t,parent:r.parent?nt(r.parent,e,t):null}):r.config[e]}function fv(r){const e=r.filter(n=>n.type==="extension"),t=r.filter(n=>n.type==="node"),i=r.filter(n=>n.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:i}}function _O(r){const e=[],{nodeExtensions:t,markExtensions:i}=fv(r),n=[...t,...i],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return r.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:n},l=nt(o,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(c=>{Object.entries(u.attributes).forEach(([d,f])=>{e.push({type:c,name:d,attribute:{...s,...f}})})})})}),n.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=nt(o,"addAttributes",a);if(!l)return;const h=l();Object.entries(h).forEach(([u,c])=>{const d={...s,...c};typeof(d==null?void 0:d.default)=="function"&&(d.default=d.default()),d!=null&&d.isRequired&&(d==null?void 0:d.default)===void 0&&delete d.default,e.push({type:o.name,name:u,attribute:d})})}),e}function Mn(r,e){if(typeof r=="string"){if(!e.nodes[r])throw Error(`There is no node type named '${r}'. Maybe you forgot to add the extension?`);return e.nodes[r]}return r}function Sn(...r){return r.filter(e=>!!e).reduce((e,t)=>{const i={...e};return Object.entries(t).forEach(([n,s])=>{if(!i[n]){i[n]=s;return}if(n==="class"){const a=s?String(s).split(" "):[],l=i[n]?i[n].split(" "):[],h=a.filter(u=>!l.includes(u));i[n]=[...l,...h].join(" ")}else if(n==="style"){const a=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=i[n]?i[n].split(";").map(u=>u.trim()).filter(Boolean):[],h=new Map;l.forEach(u=>{const[c,d]=u.split(":").map(f=>f.trim());h.set(c,d)}),a.forEach(u=>{const[c,d]=u.split(":").map(f=>f.trim());h.set(c,d)}),i[n]=Array.from(h.entries()).map(([u,c])=>`${u}: ${c}`).join("; ")}else i[n]=s}),i},{})}function AS(r,e){return e.filter(t=>t.type===r.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(r.attrs)||{}:{[t.name]:r.attrs[t.name]}).reduce((t,i)=>Sn(t,i),{})}function YO(r){return typeof r=="function"}function Ft(r,e=void 0,...t){return YO(r)?e?r.bind(e)(...t):r(...t):r}function P_(r={}){return Object.keys(r).length===0&&r.constructor===Object}function F_(r){return typeof r!="string"?r:r.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(r):r==="true"?!0:r==="false"?!1:r}function Yw(r,e){return"style"in r?r:{...r,getAttrs:t=>{const i=r.getAttrs?r.getAttrs(t):r.attrs;if(i===!1)return!1;const n=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(t):F_(t.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...i,...n}}}}function Ww(r){return Object.fromEntries(Object.entries(r).filter(([e,t])=>e==="attrs"&&P_(t)?!1:t!=null))}function B_(r,e){var t;const i=_O(r),{nodeExtensions:n,markExtensions:s}=fv(r),o=(t=n.find(h=>nt(h,"topNode")))===null||t===void 0?void 0:t.name,a=Object.fromEntries(n.map(h=>{const u=i.filter(v=>v.type===h.name),c={name:h.name,options:h.options,storage:h.storage,editor:e},d=r.reduce((v,M)=>{const S=nt(M,"extendNodeSchema",c);return{...v,...S?S(h):{}}},{}),f=Ww({...d,content:Ft(nt(h,"content",c)),marks:Ft(nt(h,"marks",c)),group:Ft(nt(h,"group",c)),inline:Ft(nt(h,"inline",c)),atom:Ft(nt(h,"atom",c)),selectable:Ft(nt(h,"selectable",c)),draggable:Ft(nt(h,"draggable",c)),code:Ft(nt(h,"code",c)),whitespace:Ft(nt(h,"whitespace",c)),linebreakReplacement:Ft(nt(h,"linebreakReplacement",c)),defining:Ft(nt(h,"defining",c)),isolating:Ft(nt(h,"isolating",c)),attrs:Object.fromEntries(u.map(v=>{var M;return[v.name,{default:(M=v==null?void 0:v.attribute)===null||M===void 0?void 0:M.default}]}))}),g=Ft(nt(h,"parseHTML",c));g&&(f.parseDOM=g.map(v=>Yw(v,u)));const m=nt(h,"renderHTML",c);m&&(f.toDOM=v=>m({node:v,HTMLAttributes:AS(v,u)}));const y=nt(h,"renderText",c);return y&&(f.toText=y),[h.name,f]})),l=Object.fromEntries(s.map(h=>{const u=i.filter(y=>y.type===h.name),c={name:h.name,options:h.options,storage:h.storage,editor:e},d=r.reduce((y,v)=>{const M=nt(v,"extendMarkSchema",c);return{...y,...M?M(h):{}}},{}),f=Ww({...d,inclusive:Ft(nt(h,"inclusive",c)),excludes:Ft(nt(h,"excludes",c)),group:Ft(nt(h,"group",c)),spanning:Ft(nt(h,"spanning",c)),code:Ft(nt(h,"code",c)),attrs:Object.fromEntries(u.map(y=>{var v;return[y.name,{default:(v=y==null?void 0:y.attribute)===null||v===void 0?void 0:v.default}]}))}),g=Ft(nt(h,"parseHTML",c));g&&(f.parseDOM=g.map(y=>Yw(y,u)));const m=nt(h,"renderHTML",c);return m&&(f.toDOM=y=>m({mark:y,HTMLAttributes:AS(y,u)})),[h.name,f]}));return new Lz({topNode:o,nodes:a,marks:l})}function cM(r,e){return e.nodes[r]||e.marks[r]||null}function qw(r,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===r.name):e}function lI(r,e){const t=ru.fromSchema(e).serializeFragment(r),n=document.implementation.createHTMLDocument().createElement("div");return n.appendChild(t),n.innerHTML}const U_=(r,e=500)=>{let t="";const i=r.parentOffset;return r.parent.nodesBetween(Math.max(0,i-e),i,(n,s,o,a)=>{var l,h;const u=((h=(l=n.type.spec).toText)===null||h===void 0?void 0:h.call(l,{node:n,pos:s,parent:o,index:a}))||n.textContent||"%leaf%";t+=n.isAtom&&!n.isText?u:u.slice(0,Math.max(0,i-s))}),t};function hI(r){return Object.prototype.toString.call(r)==="[object RegExp]"}class gv{constructor(e){this.find=e.find,this.handler=e.handler}}const H_=(r,e)=>{if(hI(e))return e.exec(r);const t=e(r);if(!t)return null;const i=[t.text];return i.index=t.index,i.input=r,i.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(t.replaceWith)),i};function Ef(r){var e;const{editor:t,from:i,to:n,text:s,rules:o,plugin:a}=r,{view:l}=t;if(l.composing)return!1;const h=l.state.doc.resolve(i);if(h.parent.type.spec.code||!((e=h.nodeBefore||h.nodeAfter)===null||e===void 0)&&e.marks.find(d=>d.type.spec.code))return!1;let u=!1;const c=U_(h)+s;return o.forEach(d=>{if(u)return;const f=H_(c,d.find);if(!f)return;const g=l.state.tr,m=dv({state:l.state,transaction:g}),y={from:i-(f[0].length-s.length),to:n},{commands:v,chain:M,can:S}=new pv({editor:t,state:m});d.handler({state:m,range:y,match:f,commands:v,chain:M,can:S})===null||!g.steps.length||(g.setMeta(a,{transform:g,from:i,to:n,text:s}),l.dispatch(g),u=!0)}),u}function V_(r){const{editor:e,rules:t}=r,i=new kn({state:{init(){return null},apply(n,s,o){const a=n.getMeta(i);if(a)return a;const l=n.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=lI(Oe.from(u),o.schema);const{from:c}=l,d=c+u.length;Ef({editor:e,from:c,to:d,text:u,rules:t,plugin:i})}),n.selectionSet||n.docChanged?null:s}},props:{handleTextInput(n,s,o,a){return Ef({editor:e,from:s,to:o,text:a,rules:t,plugin:i})},handleDOMEvents:{compositionend:n=>(setTimeout(()=>{const{$cursor:s}=n.state.selection;s&&Ef({editor:e,from:s.pos,to:s.pos,text:"",rules:t,plugin:i})}),!1)},handleKeyDown(n,s){if(s.key!=="Enter")return!1;const{$cursor:o}=n.state.selection;return o?Ef({editor:e,from:o.pos,to:o.pos,text:`
`,rules:t,plugin:i}):!1}},isInputRules:!0});return i}function Q_(r){return Object.prototype.toString.call(r).slice(8,-1)}function kf(r){return Q_(r)!=="Object"?!1:r.constructor===Object&&Object.getPrototypeOf(r)===Object.prototype}function mv(r,e){const t={...r};return kf(r)&&kf(e)&&Object.keys(e).forEach(i=>{kf(e[i])&&kf(r[i])?t[i]=mv(r[i],e[i]):t[i]=e[i]}),t}class da{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ft(nt(this,"addOptions",{name:this.name}))),this.storage=Ft(nt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new da(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>mv(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new da(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ft(nt(t,"addOptions",{name:t.name})),t.storage=Ft(nt(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:i}=e.state,n=e.state.selection.$from;if(n.pos===n.end()){const o=n.marks();if(!!!o.find(h=>(h==null?void 0:h.type.name)===t.name))return!1;const l=o.find(h=>(h==null?void 0:h.type.name)===t.name);return l&&i.removeStoredMark(l),i.insertText(" ",n.pos),e.view.dispatch(i),!0}return!1}}function __(r){return typeof r=="number"}class Y_{constructor(e){this.find=e.find,this.handler=e.handler}}const W_=(r,e,t)=>{if(hI(e))return[...r.matchAll(e)];const i=e(r,t);return i?i.map(n=>{const s=[n.text];return s.index=n.index,s.input=r,s.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(n.replaceWith)),s}):[]};function q_(r){const{editor:e,state:t,from:i,to:n,rule:s,pasteEvent:o,dropEvent:a}=r,{commands:l,chain:h,can:u}=new pv({editor:e,state:t}),c=[];return t.doc.nodesBetween(i,n,(f,g)=>{if(!f.isTextblock||f.type.spec.code)return;const m=Math.max(i,g),y=Math.min(n,g+f.content.size),v=f.textBetween(m-g,y-g,void 0,"");W_(v,s.find,o).forEach(S=>{if(S.index===void 0)return;const b=m+S.index+1,C=b+S[0].length,T={from:t.tr.mapping.map(b),to:t.tr.mapping.map(C)},k=s.handler({state:t,range:T,match:S,commands:l,chain:h,can:u,pasteEvent:o,dropEvent:a});c.push(k)})}),c.every(f=>f!==null)}let Lf=null;const G_=r=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",r),t};function $_(r){const{editor:e,rules:t}=r;let i=null,n=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:u,from:c,to:d,rule:f,pasteEvt:g})=>{const m=u.tr,y=dv({state:u,transaction:m});if(!(!q_({editor:e,state:y,from:Math.max(c-1,0),to:d.b-1,rule:f,pasteEvent:g,dropEvent:a})||!m.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,m}};return t.map(u=>new kn({view(c){const d=g=>{var m;i=!((m=c.dom.parentElement)===null||m===void 0)&&m.contains(g.target)?c.dom.parentElement:null,i&&(Lf=e)},f=()=>{Lf&&(Lf=null)};return window.addEventListener("dragstart",d),window.addEventListener("dragend",f),{destroy(){window.removeEventListener("dragstart",d),window.removeEventListener("dragend",f)}}},props:{handleDOMEvents:{drop:(c,d)=>{if(s=i===c.dom.parentElement,a=d,!s){const f=Lf;f!=null&&f.isEditable&&setTimeout(()=>{const g=f.state.selection;g&&f.commands.deleteRange({from:g.from,to:g.to})},10)}return!1},paste:(c,d)=>{var f;const g=(f=d.clipboardData)===null||f===void 0?void 0:f.getData("text/html");return o=d,n=!!(g!=null&&g.includes("data-pm-slice")),!1}}},appendTransaction:(c,d,f)=>{const g=c[0],m=g.getMeta("uiEvent")==="paste"&&!n,y=g.getMeta("uiEvent")==="drop"&&!s,v=g.getMeta("applyPasteRules"),M=!!v;if(!m&&!y&&!M)return;if(M){let{text:C}=v;typeof C=="string"?C=C:C=lI(Oe.from(C),f.schema);const{from:T}=v,k=T+C.length,N=G_(C);return l({rule:u,state:f,from:T,to:{b:k},pasteEvt:N})}const S=d.doc.content.findDiffStart(f.doc.content),b=d.doc.content.findDiffEnd(f.doc.content);if(!(!__(S)||!b||S===b.b))return l({rule:u,state:f,from:S,to:b,pasteEvt:o})}}))}function K_(r){const e=r.filter((t,i)=>r.indexOf(t)!==i);return Array.from(new Set(e))}class Eu{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=Eu.resolve(e),this.schema=B_(this.extensions,t),this.setupExtensions()}static resolve(e){const t=Eu.sort(Eu.flatten(e)),i=K_(t.map(n=>n.name));return i.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${i.map(n=>`'${n}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const i={name:t.name,options:t.options,storage:t.storage},n=nt(t,"addExtensions",i);return n?[t,...this.flatten(n())]:t}).flat(10)}static sort(e){return e.sort((i,n)=>{const s=nt(i,"priority")||100,o=nt(n,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const i={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:cM(t.name,this.schema)},n=nt(t,"addCommands",i);return n?{...e,...n()}:e},{})}get plugins(){const{editor:e}=this,t=Eu.sort([...this.extensions].reverse()),i=[],n=[],s=t.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:cM(o.name,this.schema)},l=[],h=nt(o,"addKeyboardShortcuts",a);let u={};if(o.type==="mark"&&nt(o,"exitable",a)&&(u.ArrowRight=()=>da.handleExit({editor:e,mark:o})),h){const m=Object.fromEntries(Object.entries(h()).map(([y,v])=>[y,()=>v({editor:e})]));u={...u,...m}}const c=g_(u);l.push(c);const d=nt(o,"addInputRules",a);qw(o,e.options.enableInputRules)&&d&&i.push(...d());const f=nt(o,"addPasteRules",a);qw(o,e.options.enablePasteRules)&&f&&n.push(...f());const g=nt(o,"addProseMirrorPlugins",a);if(g){const m=g();l.push(...m)}return l}).flat();return[V_({editor:e,rules:i}),...$_({editor:e,rules:n}),...s]}get attributes(){return _O(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=fv(this.extensions);return Object.fromEntries(t.filter(i=>!!nt(i,"addNodeView")).map(i=>{const n=this.attributes.filter(l=>l.type===i.name),s={name:i.name,options:i.options,storage:i.storage,editor:e,type:Mn(i.name,this.schema)},o=nt(i,"addNodeView",s);if(!o)return[];const a=(l,h,u,c,d)=>{const f=AS(l,n);return o()({node:l,view:h,getPos:u,decorations:c,innerDecorations:d,editor:e,extension:i,HTMLAttributes:f})};return[i.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const i={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:cM(e.name,this.schema)};e.type==="mark"&&(!((t=Ft(nt(e,"keepOnSplit",i)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const n=nt(e,"onBeforeCreate",i),s=nt(e,"onCreate",i),o=nt(e,"onUpdate",i),a=nt(e,"onSelectionUpdate",i),l=nt(e,"onTransaction",i),h=nt(e,"onFocus",i),u=nt(e,"onBlur",i),c=nt(e,"onDestroy",i);n&&this.editor.on("beforeCreate",n),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),h&&this.editor.on("focus",h),u&&this.editor.on("blur",u),c&&this.editor.on("destroy",c)})}}class lr{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ft(nt(this,"addOptions",{name:this.name}))),this.storage=Ft(nt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new lr(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>mv(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new lr({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ft(nt(t,"addOptions",{name:t.name})),t.storage=Ft(nt(t,"addStorage",{name:t.name,options:t.options})),t}}function WO(r,e,t){const{from:i,to:n}=e,{blockSeparator:s=`

`,textSerializers:o={}}=t||{};let a="";return r.nodesBetween(i,n,(l,h,u,c)=>{var d;l.isBlock&&h>i&&(a+=s);const f=o==null?void 0:o[l.type.name];if(f)return u&&(a+=f({node:l,pos:h,parent:u,index:c,range:e})),!1;l.isText&&(a+=(d=l==null?void 0:l.text)===null||d===void 0?void 0:d.slice(Math.max(i,h)-h,n-h))}),a}function qO(r){return Object.fromEntries(Object.entries(r.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const J_=lr.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new kn({key:new Qr("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:r}=this,{state:e,schema:t}=r,{doc:i,selection:n}=e,{ranges:s}=n,o=Math.min(...s.map(u=>u.$from.pos)),a=Math.max(...s.map(u=>u.$to.pos)),l=qO(t);return WO(i,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),Z_=()=>({editor:r,view:e})=>(requestAnimationFrame(()=>{var t;r.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),X_=(r=!1)=>({commands:e})=>e.setContent("",r),eY=()=>({state:r,tr:e,dispatch:t})=>{const{selection:i}=e,{ranges:n}=i;return t&&n.forEach(({$from:s,$to:o})=>{r.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:h,mapping:u}=e,c=h.resolve(u.map(l)),d=h.resolve(u.map(l+a.nodeSize)),f=c.blockRange(d);if(!f)return;const g=Rc(f);if(a.type.isTextblock){const{defaultType:m}=c.parent.contentMatchAt(c.index());e.setNodeMarkup(f.start,m)}(g||g===0)&&e.lift(f,g)})}),!0},tY=r=>e=>r(e),iY=()=>({state:r,dispatch:e})=>UO(r,e),nY=(r,e)=>({editor:t,tr:i})=>{const{state:n}=t,s=n.doc.slice(r.from,r.to);i.deleteRange(r.from,r.to);const o=i.mapping.map(e);return i.insert(o,s.content),i.setSelection(new Nt(i.doc.resolve(Math.max(o-1,0)))),!0},rY=()=>({tr:r,dispatch:e})=>{const{selection:t}=r,i=t.$anchor.node();if(i.content.size>0)return!1;const n=r.selection.$anchor;for(let s=n.depth;s>0;s-=1)if(n.node(s).type===i.type){if(e){const a=n.before(s),l=n.after(s);r.delete(a,l).scrollIntoView()}return!0}return!1},sY=r=>({tr:e,state:t,dispatch:i})=>{const n=Mn(r,t.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===n){if(i){const l=s.before(o),h=s.after(o);e.delete(l,h).scrollIntoView()}return!0}return!1},oY=r=>({tr:e,dispatch:t})=>{const{from:i,to:n}=r;return t&&e.delete(i,n),!0},aY=()=>({state:r,dispatch:e})=>nI(r,e),lY=()=>({commands:r})=>r.keyboardShortcut("Enter"),hY=()=>({state:r,dispatch:e})=>C_(r,e);function Cm(r,e,t={strict:!0}){const i=Object.keys(e);return i.length?i.every(n=>t.strict?e[n]===r[n]:hI(e[n])?e[n].test(r[n]):e[n]===r[n]):!0}function GO(r,e,t={}){return r.find(i=>i.type===e&&Cm(Object.fromEntries(Object.keys(t).map(n=>[n,i.attrs[n]])),t))}function Gw(r,e,t={}){return!!GO(r,e,t)}function uI(r,e,t){var i;if(!r||!e)return;let n=r.parent.childAfter(r.parentOffset);if((!n.node||!n.node.marks.some(u=>u.type===e))&&(n=r.parent.childBefore(r.parentOffset)),!n.node||!n.node.marks.some(u=>u.type===e)||(t=t||((i=n.node.marks[0])===null||i===void 0?void 0:i.attrs),!GO([...n.node.marks],e,t)))return;let o=n.index,a=r.start()+n.offset,l=o+1,h=a+n.node.nodeSize;for(;o>0&&Gw([...r.parent.child(o-1).marks],e,t);)o-=1,a-=r.parent.child(o).nodeSize;for(;l<r.parent.childCount&&Gw([...r.parent.child(l).marks],e,t);)h+=r.parent.child(l).nodeSize,l+=1;return{from:a,to:h}}function Ol(r,e){if(typeof r=="string"){if(!e.marks[r])throw Error(`There is no mark type named '${r}'. Maybe you forgot to add the extension?`);return e.marks[r]}return r}const uY=(r,e={})=>({tr:t,state:i,dispatch:n})=>{const s=Ol(r,i.schema),{doc:o,selection:a}=t,{$from:l,from:h,to:u}=a;if(n){const c=uI(l,s,e);if(c&&c.from<=h&&c.to>=u){const d=Nt.create(o,c.from,c.to);t.setSelection(d)}}return!0},cY=r=>e=>{const t=typeof r=="function"?r(e):r;for(let i=0;i<t.length;i+=1)if(t[i](e))return!0;return!1};function $O(r){return r instanceof Nt}function ah(r=0,e=0,t=0){return Math.min(Math.max(r,e),t)}function KO(r,e=null){if(!e)return null;const t=Ot.atStart(r),i=Ot.atEnd(r);if(e==="start"||e===!0)return t;if(e==="end")return i;const n=t.from,s=i.to;return e==="all"?Nt.create(r,ah(0,n,s),ah(r.content.size,n,s)):Nt.create(r,ah(e,n,s),ah(e,n,s))}function dY(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function cI(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const pY=(r=null,e={})=>({editor:t,view:i,tr:n,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(cI()||dY())&&i.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(i.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(i.hasFocus()&&r===null||r===!1)return!0;if(s&&r===null&&!$O(t.state.selection))return o(),!0;const a=KO(n.doc,r)||t.state.selection,l=t.state.selection.eq(a);return s&&(l||n.setSelection(a),l&&n.storedMarks&&n.setStoredMarks(n.storedMarks),o()),!0},fY=(r,e)=>t=>r.every((i,n)=>e(i,{...t,index:n})),gY=(r,e)=>({tr:t,commands:i})=>i.insertContentAt({from:t.selection.from,to:t.selection.to},r,e),JO=r=>{const e=r.childNodes;for(let t=e.length-1;t>=0;t-=1){const i=e[t];i.nodeType===3&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?r.removeChild(i):i.nodeType===1&&JO(i)}return r};function zf(r){const e=`<body>${r}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return JO(t)}function pp(r,e,t){if(r instanceof dl||r instanceof Oe)return r;t={slice:!0,parseOptions:{},...t};const i=typeof r=="object"&&r!==null,n=typeof r=="string";if(i)try{if(Array.isArray(r)&&r.length>0)return Oe.fromArray(r.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(r);return t.errorOnInvalidContent&&o.check(),o}catch(s){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",r,"Error:",s),pp("",e,t)}if(n){if(t.errorOnInvalidContent){let o=!1,a="";const l=new Lz({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(o=!0,a=typeof h=="string"?h:h.outerHTML,null)}]}})});if(t.slice?pl.fromSchema(l).parseSlice(zf(r),t.parseOptions):pl.fromSchema(l).parse(zf(r),t.parseOptions),t.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=pl.fromSchema(e);return t.slice?s.parseSlice(zf(r),t.parseOptions).content:s.parse(zf(r),t.parseOptions)}return pp("",e,t)}function mY(r,e,t){const i=r.steps.length-1;if(i<e)return;const n=r.steps[i];if(!(n instanceof gn||n instanceof yn))return;const s=r.mapping.maps[i];let o=0;s.forEach((a,l,h,u)=>{o===0&&(o=u)}),r.setSelection(Ot.near(r.doc.resolve(o),t))}const yY=r=>!("type"in r),vY=(r,e,t)=>({tr:i,dispatch:n,editor:s})=>{var o;if(n){t={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let a;const l=y=>{s.emit("contentError",{editor:s,error:y,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},h={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{pp(e,s.schema,{parseOptions:h,errorOnInvalidContent:!0})}catch(y){l(y)}try{a=pp(e,s.schema,{parseOptions:h,errorOnInvalidContent:(o=t.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck})}catch(y){return l(y),!1}let{from:u,to:c}=typeof r=="number"?{from:r,to:r}:{from:r.from,to:r.to},d=!0,f=!0;if((yY(a)?a:[a]).forEach(y=>{y.check(),d=d?y.isText&&y.marks.length===0:!1,f=f?y.isBlock:!1}),u===c&&f){const{parent:y}=i.doc.resolve(u);y.isTextblock&&!y.type.spec.code&&!y.childCount&&(u-=1,c+=1)}let m;if(d){if(Array.isArray(e))m=e.map(y=>y.text||"").join("");else if(e instanceof Oe){let y="";e.forEach(v=>{v.text&&(y+=v.text)}),m=y}else typeof e=="object"&&e&&e.text?m=e.text:m=e;i.insertText(m,u,c)}else m=a,i.replaceWith(u,c,m);t.updateSelection&&mY(i,i.steps.length-1,-1),t.applyInputRules&&i.setMeta("applyInputRules",{from:u,text:m}),t.applyPasteRules&&i.setMeta("applyPasteRules",{from:u,text:m})}return!0},MY=()=>({state:r,dispatch:e})=>v_(r,e),SY=()=>({state:r,dispatch:e})=>M_(r,e),CY=()=>({state:r,dispatch:e})=>zO(r,e),bY=()=>({state:r,dispatch:e})=>PO(r,e),IY=()=>({state:r,dispatch:e,tr:t})=>{try{const i=ov(r.doc,r.selection.$from.pos,-1);return i==null?!1:(t.join(i,2),e&&e(t),!0)}catch{return!1}},DY=()=>({state:r,dispatch:e,tr:t})=>{try{const i=ov(r.doc,r.selection.$from.pos,1);return i==null?!1:(t.join(i,2),e&&e(t),!0)}catch{return!1}},TY=()=>({state:r,dispatch:e})=>m_(r,e),wY=()=>({state:r,dispatch:e})=>y_(r,e);function ZO(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function xY(r){const e=r.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let i,n,s,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))i=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))cI()||ZO()?o=!0:n=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return i&&(t=`Alt-${t}`),n&&(t=`Ctrl-${t}`),o&&(t=`Meta-${t}`),s&&(t=`Shift-${t}`),t}const NY=r=>({editor:e,view:t,tr:i,dispatch:n})=>{const s=xY(r).split(/-(?!$)/),o=s.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{t.someProp("handleKeyDown",h=>h(t,a))});return l==null||l.steps.forEach(h=>{const u=h.map(i.mapping);u&&n&&i.maybeStep(u)}),!0};function fp(r,e,t={}){const{from:i,to:n,empty:s}=r.selection,o=e?Mn(e,r.schema):null,a=[];r.doc.nodesBetween(i,n,(c,d)=>{if(c.isText)return;const f=Math.max(i,d),g=Math.min(n,d+c.nodeSize);a.push({node:c,from:f,to:g})});const l=n-i,h=a.filter(c=>o?o.name===c.node.type.name:!0).filter(c=>Cm(c.node.attrs,t,{strict:!1}));return s?!!h.length:h.reduce((c,d)=>c+d.to-d.from,0)>=l}const AY=(r,e={})=>({state:t,dispatch:i})=>{const n=Mn(r,t.schema);return fp(t,n,e)?S_(t,i):!1},EY=()=>({state:r,dispatch:e})=>HO(r,e),kY=r=>({state:e,dispatch:t})=>{const i=Mn(r,e.schema);return L_(i)(e,t)},LY=()=>({state:r,dispatch:e})=>BO(r,e);function yv(r,e){return e.nodes[r]?"node":e.marks[r]?"mark":null}function $w(r,e){const t=typeof e=="string"?[e]:e;return Object.keys(r).reduce((i,n)=>(t.includes(n)||(i[n]=r[n]),i),{})}const zY=(r,e)=>({tr:t,state:i,dispatch:n})=>{let s=null,o=null;const a=yv(typeof r=="string"?r:r.name,i.schema);return a?(a==="node"&&(s=Mn(r,i.schema)),a==="mark"&&(o=Ol(r,i.schema)),n&&t.selection.ranges.forEach(l=>{i.doc.nodesBetween(l.$from.pos,l.$to.pos,(h,u)=>{s&&s===h.type&&t.setNodeMarkup(u,void 0,$w(h.attrs,e)),o&&h.marks.length&&h.marks.forEach(c=>{o===c.type&&t.addMark(u,u+h.nodeSize,o.create($w(c.attrs,e)))})})}),!0):!1},OY=()=>({tr:r,dispatch:e})=>(e&&r.scrollIntoView(),!0),RY=()=>({tr:r,dispatch:e})=>{if(e){const t=new Br(r.doc);r.setSelection(t)}return!0},jY=()=>({state:r,dispatch:e})=>RO(r,e),PY=()=>({state:r,dispatch:e})=>FO(r,e),FY=()=>({state:r,dispatch:e})=>D_(r,e),BY=()=>({state:r,dispatch:e})=>x_(r,e),UY=()=>({state:r,dispatch:e})=>w_(r,e);function ES(r,e,t={},i={}){return pp(r,e,{slice:!1,parseOptions:t,errorOnInvalidContent:i.errorOnInvalidContent})}const HY=(r,e=!1,t={},i={})=>({editor:n,tr:s,dispatch:o,commands:a})=>{var l,h;const{doc:u}=s;if(t.preserveWhitespace!=="full"){const c=ES(r,n.schema,t,{errorOnInvalidContent:(l=i.errorOnInvalidContent)!==null&&l!==void 0?l:n.options.enableContentCheck});return o&&s.replaceWith(0,u.content.size,c).setMeta("preventUpdate",!e),!0}return o&&s.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:u.content.size},r,{parseOptions:t,errorOnInvalidContent:(h=i.errorOnInvalidContent)!==null&&h!==void 0?h:n.options.enableContentCheck})};function XO(r,e){const t=Ol(e,r.schema),{from:i,to:n,empty:s}=r.selection,o=[];s?(r.storedMarks&&o.push(...r.storedMarks),o.push(...r.selection.$head.marks())):r.doc.nodesBetween(i,n,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===t.name);return a?{...a.attrs}:{}}function VY(r,e){const t=new Gz(r);return e.forEach(i=>{i.steps.forEach(n=>{t.step(n)})}),t}function QY(r){for(let e=0;e<r.edgeCount;e+=1){const{type:t}=r.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function _Y(r,e,t){const i=[];return r.nodesBetween(e.from,e.to,(n,s)=>{t(n)&&i.push({node:n,pos:s})}),i}function YY(r,e){for(let t=r.depth;t>0;t-=1){const i=r.node(t);if(e(i))return{pos:t>0?r.before(t):0,start:r.start(t),depth:t,node:i}}}function dI(r){return e=>YY(e.$from,r)}function WY(r,e){const t={from:0,to:r.content.size};return WO(r,t,e)}function qY(r,e){const t=Mn(e,r.schema),{from:i,to:n}=r.selection,s=[];r.doc.nodesBetween(i,n,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===t.name);return o?{...o.attrs}:{}}function eR(r,e){const t=yv(typeof e=="string"?e:e.name,r.schema);return t==="node"?qY(r,e):t==="mark"?XO(r,e):{}}function GY(r,e=JSON.stringify){const t={};return r.filter(i=>{const n=e(i);return Object.prototype.hasOwnProperty.call(t,n)?!1:t[n]=!0})}function $Y(r){const e=GY(r);return e.length===1?e:e.filter((t,i)=>!e.filter((s,o)=>o!==i).some(s=>t.oldRange.from>=s.oldRange.from&&t.oldRange.to<=s.oldRange.to&&t.newRange.from>=s.newRange.from&&t.newRange.to<=s.newRange.to))}function KY(r){const{mapping:e,steps:t}=r,i=[];return e.maps.forEach((n,s)=>{const o=[];if(n.ranges.length)n.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=t[s];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const h=e.slice(s).map(a,-1),u=e.slice(s).map(l),c=e.invert().map(h,-1),d=e.invert().map(u);i.push({oldRange:{from:c,to:d},newRange:{from:h,to:u}})})}),$Y(i)}function pI(r,e,t){const i=[];return r===e?t.resolve(r).marks().forEach(n=>{const s=t.resolve(r),o=uI(s,n.type);o&&i.push({mark:n,...o})}):t.nodesBetween(r,e,(n,s)=>{!n||(n==null?void 0:n.nodeSize)===void 0||i.push(...n.marks.map(o=>({from:s,to:s+n.nodeSize,mark:o})))}),i}function Dg(r,e,t){return Object.fromEntries(Object.entries(t).filter(([i])=>{const n=r.find(s=>s.type===e&&s.name===i);return n?n.attribute.keepOnSplit:!1}))}function kS(r,e,t={}){const{empty:i,ranges:n}=r.selection,s=e?Ol(e,r.schema):null;if(i)return!!(r.storedMarks||r.selection.$from.marks()).filter(c=>s?s.name===c.type.name:!0).find(c=>Cm(c.attrs,t,{strict:!1}));let o=0;const a=[];if(n.forEach(({$from:c,$to:d})=>{const f=c.pos,g=d.pos;r.doc.nodesBetween(f,g,(m,y)=>{if(!m.isText&&!m.marks.length)return;const v=Math.max(f,y),M=Math.min(g,y+m.nodeSize),S=M-v;o+=S,a.push(...m.marks.map(b=>({mark:b,from:v,to:M})))})}),o===0)return!1;const l=a.filter(c=>s?s.name===c.mark.type.name:!0).filter(c=>Cm(c.mark.attrs,t,{strict:!1})).reduce((c,d)=>c+d.to-d.from,0),h=a.filter(c=>s?c.mark.type!==s&&c.mark.type.excludes(s):!0).reduce((c,d)=>c+d.to-d.from,0);return(l>0?l+h:l)>=o}function JY(r,e,t={}){if(!e)return fp(r,null,t)||kS(r,null,t);const i=yv(e,r.schema);return i==="node"?fp(r,e,t):i==="mark"?kS(r,e,t):!1}function Kw(r,e){const{nodeExtensions:t}=fv(e),i=t.find(o=>o.name===r);if(!i)return!1;const n={name:i.name,options:i.options,storage:i.storage},s=Ft(nt(i,"group",n));return typeof s!="string"?!1:s.split(" ").includes("list")}function fI(r,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var i;if(t){if(r.type.name==="hardBreak")return!0;if(r.isText)return/^\s*$/m.test((i=r.text)!==null&&i!==void 0?i:"")}if(r.isText)return!r.text;if(r.isAtom||r.isLeaf)return!1;if(r.content.childCount===0)return!0;if(e){let n=!0;return r.content.forEach(s=>{n!==!1&&(fI(s,{ignoreWhitespace:t,checkChildren:e})||(n=!1))}),n}return!1}function ZY(r){return r instanceof ct}function XY(r,e,t){var i;const{selection:n}=e;let s=null;if($O(n)&&(s=n.$cursor),s){const a=(i=r.storedMarks)!==null&&i!==void 0?i:s.marks();return!!t.isInSet(a)||!a.some(l=>l.type.excludes(t))}const{ranges:o}=n;return o.some(({$from:a,$to:l})=>{let h=a.depth===0?r.doc.inlineContent&&r.doc.type.allowsMarkType(t):!1;return r.doc.nodesBetween(a.pos,l.pos,(u,c,d)=>{if(h)return!1;if(u.isInline){const f=!d||d.type.allowsMarkType(t),g=!!t.isInSet(u.marks)||!u.marks.some(m=>m.type.excludes(t));h=f&&g}return!h}),h})}const eW=(r,e={})=>({tr:t,state:i,dispatch:n})=>{const{selection:s}=t,{empty:o,ranges:a}=s,l=Ol(r,i.schema);if(n)if(o){const h=XO(i,l);t.addStoredMark(l.create({...h,...e}))}else a.forEach(h=>{const u=h.$from.pos,c=h.$to.pos;i.doc.nodesBetween(u,c,(d,f)=>{const g=Math.max(f,u),m=Math.min(f+d.nodeSize,c);d.marks.find(v=>v.type===l)?d.marks.forEach(v=>{l===v.type&&t.addMark(g,m,l.create({...v.attrs,...e}))}):t.addMark(g,m,l.create(e))})});return XY(i,t,l)},tW=(r,e)=>({tr:t})=>(t.setMeta(r,e),!0),iW=(r,e={})=>({state:t,dispatch:i,chain:n})=>{const s=Mn(r,t.schema);let o;return t.selection.$anchor.sameParent(t.selection.$head)&&(o=t.selection.$anchor.parent.attrs),s.isTextblock?n().command(({commands:a})=>_w(s,{...o,...e})(t)?!0:a.clearNodes()).command(({state:a})=>_w(s,{...o,...e})(a,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},nW=r=>({tr:e,dispatch:t})=>{if(t){const{doc:i}=e,n=ah(r,0,i.content.size),s=ct.create(i,n);e.setSelection(s)}return!0},rW=r=>({tr:e,dispatch:t})=>{if(t){const{doc:i}=e,{from:n,to:s}=typeof r=="number"?{from:r,to:r}:r,o=Nt.atStart(i).from,a=Nt.atEnd(i).to,l=ah(n,o,a),h=ah(s,o,a),u=Nt.create(i,l,h);e.setSelection(u)}return!0},sW=r=>({state:e,dispatch:t})=>{const i=Mn(r,e.schema);return R_(i)(e,t)};function Jw(r,e){const t=r.storedMarks||r.selection.$to.parentOffset&&r.selection.$from.marks();if(t){const i=t.filter(n=>e==null?void 0:e.includes(n.type.name));r.tr.ensureMarks(i)}}const oW=({keepMarks:r=!0}={})=>({tr:e,state:t,dispatch:i,editor:n})=>{const{selection:s,doc:o}=e,{$from:a,$to:l}=s,h=n.extensionManager.attributes,u=Dg(h,a.node().type.name,a.node().attrs);if(s instanceof ct&&s.node.isBlock)return!a.parentOffset||!ra(o,a.pos)?!1:(i&&(r&&Jw(t,n.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const c=l.parentOffset===l.parent.content.size,d=a.depth===0?void 0:QY(a.node(-1).contentMatchAt(a.indexAfter(-1)));let f=c&&d?[{type:d,attrs:u}]:void 0,g=ra(e.doc,e.mapping.map(a.pos),1,f);if(!f&&!g&&ra(e.doc,e.mapping.map(a.pos),1,d?[{type:d}]:void 0)&&(g=!0,f=d?[{type:d,attrs:u}]:void 0),i){if(g&&(s instanceof Nt&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,f),d&&!c&&!a.parentOffset&&a.parent.type!==d)){const m=e.mapping.map(a.before()),y=e.doc.resolve(m);a.node(-1).canReplaceWith(y.index(),y.index()+1,d)&&e.setNodeMarkup(e.mapping.map(a.before()),d)}r&&Jw(t,n.extensionManager.splittableMarks),e.scrollIntoView()}return g},aW=(r,e={})=>({tr:t,state:i,dispatch:n,editor:s})=>{var o;const a=Mn(r,i.schema),{$from:l,$to:h}=i.selection,u=i.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(h))return!1;const c=l.node(-1);if(c.type!==a)return!1;const d=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(n){let v=Oe.empty;const M=l.index(-1)?1:l.index(-2)?2:3;for(let N=l.depth-M;N>=l.depth-3;N-=1)v=Oe.from(l.node(N).copy(v));const S=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,b={...Dg(d,l.node().type.name,l.node().attrs),...e},C=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(b))||void 0;v=v.append(Oe.from(a.createAndFill(null,C)||void 0));const T=l.before(l.depth-(M-1));t.replace(T,l.after(-S),new Ke(v,4-M,0));let k=-1;t.doc.nodesBetween(T,t.doc.content.size,(N,A)=>{if(k>-1)return!1;N.isTextblock&&N.content.size===0&&(k=A+1)}),k>-1&&t.setSelection(Nt.near(t.doc.resolve(k))),t.scrollIntoView()}return!0}const f=h.pos===l.end()?c.contentMatchAt(0).defaultType:null,g={...Dg(d,c.type.name,c.attrs),...e},m={...Dg(d,l.node().type.name,l.node().attrs),...e};t.delete(l.pos,h.pos);const y=f?[{type:a,attrs:g},{type:f,attrs:m}]:[{type:a,attrs:g}];if(!ra(t.doc,l.pos,2))return!1;if(n){const{selection:v,storedMarks:M}=i,{splittableMarks:S}=s.extensionManager,b=M||v.$to.parentOffset&&v.$from.marks();if(t.split(l.pos,2,y).scrollIntoView(),!b||!n)return!0;const C=b.filter(T=>S.includes(T.type.name));t.ensureMarks(C)}return!0},dM=(r,e)=>{const t=dI(o=>o.type===e)(r.selection);if(!t)return!0;const i=r.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(i===void 0)return!0;const n=r.doc.nodeAt(i);return t.node.type===(n==null?void 0:n.type)&&Ll(r.doc,t.pos)&&r.join(t.pos),!0},pM=(r,e)=>{const t=dI(o=>o.type===e)(r.selection);if(!t)return!0;const i=r.doc.resolve(t.start).after(t.depth);if(i===void 0)return!0;const n=r.doc.nodeAt(i);return t.node.type===(n==null?void 0:n.type)&&Ll(r.doc,i)&&r.join(i),!0},lW=(r,e,t,i={})=>({editor:n,tr:s,state:o,dispatch:a,chain:l,commands:h,can:u})=>{const{extensions:c,splittableMarks:d}=n.extensionManager,f=Mn(r,o.schema),g=Mn(e,o.schema),{selection:m,storedMarks:y}=o,{$from:v,$to:M}=m,S=v.blockRange(M),b=y||m.$to.parentOffset&&m.$from.marks();if(!S)return!1;const C=dI(T=>Kw(T.type.name,c))(m);if(S.depth>=1&&C&&S.depth-C.depth<=1){if(C.node.type===f)return h.liftListItem(g);if(Kw(C.node.type.name,c)&&f.validContent(C.node.content)&&a)return l().command(()=>(s.setNodeMarkup(C.pos,f),!0)).command(()=>dM(s,f)).command(()=>pM(s,f)).run()}return!t||!b||!a?l().command(()=>u().wrapInList(f,i)?!0:h.clearNodes()).wrapInList(f,i).command(()=>dM(s,f)).command(()=>pM(s,f)).run():l().command(()=>{const T=u().wrapInList(f,i),k=b.filter(N=>d.includes(N.type.name));return s.ensureMarks(k),T?!0:h.clearNodes()}).wrapInList(f,i).command(()=>dM(s,f)).command(()=>pM(s,f)).run()},hW=(r,e={},t={})=>({state:i,commands:n})=>{const{extendEmptyMarkRange:s=!1}=t,o=Ol(r,i.schema);return kS(i,o,e)?n.unsetMark(o,{extendEmptyMarkRange:s}):n.setMark(o,e)},uW=(r,e,t={})=>({state:i,commands:n})=>{const s=Mn(r,i.schema),o=Mn(e,i.schema),a=fp(i,s,t);let l;return i.selection.$anchor.sameParent(i.selection.$head)&&(l=i.selection.$anchor.parent.attrs),a?n.setNode(o,l):n.setNode(s,{...l,...t})},cW=(r,e={})=>({state:t,commands:i})=>{const n=Mn(r,t.schema);return fp(t,n,e)?i.lift(n):i.wrapIn(n,e)},dW=()=>({state:r,dispatch:e})=>{const t=r.plugins;for(let i=0;i<t.length;i+=1){const n=t[i];let s;if(n.spec.isInputRules&&(s=n.getState(r))){if(e){const o=r.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,r.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},pW=()=>({tr:r,dispatch:e})=>{const{selection:t}=r,{empty:i,ranges:n}=t;return i||e&&n.forEach(s=>{r.removeMark(s.$from.pos,s.$to.pos)}),!0},fW=(r,e={})=>({tr:t,state:i,dispatch:n})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=t,l=Ol(r,i.schema),{$from:h,empty:u,ranges:c}=a;if(!n)return!0;if(u&&o){let{from:d,to:f}=a;const g=(s=h.marks().find(y=>y.type===l))===null||s===void 0?void 0:s.attrs,m=uI(h,l,g);m&&(d=m.from,f=m.to),t.removeMark(d,f,l)}else c.forEach(d=>{t.removeMark(d.$from.pos,d.$to.pos,l)});return t.removeStoredMark(l),!0},gW=(r,e={})=>({tr:t,state:i,dispatch:n})=>{let s=null,o=null;const a=yv(typeof r=="string"?r:r.name,i.schema);return a?(a==="node"&&(s=Mn(r,i.schema)),a==="mark"&&(o=Ol(r,i.schema)),n&&t.selection.ranges.forEach(l=>{const h=l.$from.pos,u=l.$to.pos;let c,d,f,g;t.selection.empty?i.doc.nodesBetween(h,u,(m,y)=>{s&&s===m.type&&(f=Math.max(y,h),g=Math.min(y+m.nodeSize,u),c=y,d=m)}):i.doc.nodesBetween(h,u,(m,y)=>{y<h&&s&&s===m.type&&(f=Math.max(y,h),g=Math.min(y+m.nodeSize,u),c=y,d=m),y>=h&&y<=u&&(s&&s===m.type&&t.setNodeMarkup(y,void 0,{...m.attrs,...e}),o&&m.marks.length&&m.marks.forEach(v=>{if(o===v.type){const M=Math.max(y,h),S=Math.min(y+m.nodeSize,u);t.addMark(M,S,o.create({...v.attrs,...e}))}}))}),d&&(c!==void 0&&t.setNodeMarkup(c,void 0,{...d.attrs,...e}),o&&d.marks.length&&d.marks.forEach(m=>{o===m.type&&t.addMark(f,g,o.create({...m.attrs,...e}))}))}),!0):!1},mW=(r,e={})=>({state:t,dispatch:i})=>{const n=Mn(r,t.schema);return N_(n,e)(t,i)},yW=(r,e={})=>({state:t,dispatch:i})=>{const n=Mn(r,t.schema);return A_(n,e)(t,i)};var vW=Object.freeze({__proto__:null,blur:Z_,clearContent:X_,clearNodes:eY,command:tY,createParagraphNear:iY,cut:nY,deleteCurrentNode:rY,deleteNode:sY,deleteRange:oY,deleteSelection:aY,enter:lY,exitCode:hY,extendMarkRange:uY,first:cY,focus:pY,forEach:fY,insertContent:gY,insertContentAt:vY,joinBackward:CY,joinDown:SY,joinForward:bY,joinItemBackward:IY,joinItemForward:DY,joinTextblockBackward:TY,joinTextblockForward:wY,joinUp:MY,keyboardShortcut:NY,lift:AY,liftEmptyBlock:EY,liftListItem:kY,newlineInCode:LY,resetAttributes:zY,scrollIntoView:OY,selectAll:RY,selectNodeBackward:jY,selectNodeForward:PY,selectParentNode:FY,selectTextblockEnd:BY,selectTextblockStart:UY,setContent:HY,setMark:eW,setMeta:tW,setNode:iW,setNodeSelection:nW,setTextSelection:rW,sinkListItem:sW,splitBlock:oW,splitListItem:aW,toggleList:lW,toggleMark:hW,toggleNode:uW,toggleWrap:cW,undoInputRule:dW,unsetAllMarks:pW,unsetMark:fW,updateAttributes:gW,wrapIn:mW,wrapInList:yW});const MW=lr.create({name:"commands",addCommands(){return{...vW}}}),SW=lr.create({name:"drop",addProseMirrorPlugins(){return[new kn({key:new Qr("tiptapDrop"),props:{handleDrop:(r,e,t,i)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:i})}}})]}}),CW=lr.create({name:"editable",addProseMirrorPlugins(){return[new kn({key:new Qr("editable"),props:{editable:()=>this.editor.options.editable}})]}}),bW=new Qr("focusEvents"),IW=lr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:r}=this;return[new kn({key:bW,props:{handleDOMEvents:{focus:(e,t)=>{r.isFocused=!0;const i=r.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(i),!1},blur:(e,t)=>{r.isFocused=!1;const i=r.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(i),!1}}}})]}}),DW=lr.create({name:"keymap",addKeyboardShortcuts(){const r=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:h}=a,{empty:u,$anchor:c}=l,{pos:d,parent:f}=c,g=c.parent.isTextblock&&d>0?a.doc.resolve(d-1):c,m=g.parent.type.spec.isolating,y=c.pos-c.parentOffset,v=m&&g.parent.childCount===1?y===c.pos:Ot.atStart(h).from===d;return!u||!f.type.isTextblock||f.textContent.length||!v||v&&c.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),i={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:r,"Mod-Backspace":r,"Shift-Backspace":r,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},n={...i},s={...i,"Ctrl-h":r,"Alt-Backspace":r,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return cI()||ZO()?s:n},addProseMirrorPlugins(){return[new kn({key:new Qr("clearDocument"),appendTransaction:(r,e,t)=>{if(r.some(m=>m.getMeta("composition")))return;const i=r.some(m=>m.docChanged)&&!e.doc.eq(t.doc),n=r.some(m=>m.getMeta("preventClearDocument"));if(!i||n)return;const{empty:s,from:o,to:a}=e.selection,l=Ot.atStart(e.doc).from,h=Ot.atEnd(e.doc).to;if(s||!(o===l&&a===h)||!fI(t.doc))return;const d=t.tr,f=dv({state:t,transaction:d}),{commands:g}=new pv({editor:this.editor,state:f});if(g.clearNodes(),!!d.steps.length)return d}})]}}),TW=lr.create({name:"paste",addProseMirrorPlugins(){return[new kn({key:new Qr("tiptapPaste"),props:{handlePaste:(r,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),wW=lr.create({name:"tabindex",addProseMirrorPlugins(){return[new kn({key:new Qr("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class eh{get name(){return this.node.type.name}constructor(e,t,i=!1,n=null){this.currentNode=null,this.actualDepth=null,this.isBlock=i,this.resolvedPos=e,this.editor=t,this.currentNode=n}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,i=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,i=this.to-1}this.editor.commands.insertContentAt({from:t,to:i},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new eh(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new eh(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new eh(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,i)=>{const n=t.isBlock&&!t.isTextblock,s=t.isAtom&&!t.isText,o=this.pos+i+(s?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(o);if(!n&&a.depth<=this.depth)return;const l=new eh(a,this.editor,n,n?t:null);n&&(l.actualDepth=this.depth+1),e.push(new eh(a,this.editor,n,n?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let i=null,n=this.parent;for(;n&&!i;){if(n.node.type.name===e)if(Object.keys(t).length>0){const s=n.node.attrs,o=Object.keys(t);for(let a=0;a<o.length;a+=1){const l=o[a];if(s[l]!==t[l])break}}else i=n;n=n.parent}return i}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},i=!1){let n=[];if(!this.children||this.children.length===0)return n;const s=Object.keys(t);return this.children.forEach(o=>{i&&n.length>0||(o.node.type.name===e&&s.every(l=>t[l]===o.node.attrs[l])&&n.push(o),!(i&&n.length>0)&&(n=n.concat(o.querySelectorAll(e,t,i))))}),n}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const xW=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function NW(r,e,t){const i=document.querySelector("style[data-tiptap-style]");if(i!==null)return i;const n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.setAttribute("data-tiptap-style",""),n.innerHTML=r,document.getElementsByTagName("head")[0].appendChild(n),n}let AW=class extends j_{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:i,moved:n})=>this.options.onDrop(t,i,n)),this.on("paste",({event:t,slice:i})=>this.options.onPaste(t,i)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=NW(xW,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const i=YO(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],n=this.state.reconfigure({plugins:i});return this.view.updateState(n),n}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let i=t;if([].concat(e).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;i=i.filter(a=>!a.key.startsWith(o))}),t.length===i.length)return;const n=this.state.reconfigure({plugins:i});return this.view.updateState(n),n}createExtensionManager(){var e,t;const n=[...this.options.enableCoreExtensions?[CW,J_.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),MW,IW,DW,wW,SW,TW].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new Eu(n,this)}createCommandManager(){this.commandManager=new pv({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=ES(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),t=ES(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const i=KO(t,this.options.autofocus);this.view=new EO(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Au.create({doc:t,selection:i||void 0})});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const t=this.state.apply(e),i=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),i&&this.emit("selectionUpdate",{editor:this,transaction:e});const n=e.getMeta("focus"),s=e.getMeta("blur");n&&this.emit("focus",{editor:this,event:n.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return eR(this.state,e)}isActive(e,t){const i=typeof e=="string"?e:null,n=typeof e=="string"?t:e;return JY(this.state,i,n)}getJSON(){return this.state.doc.toJSON()}getHTML(){return lI(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:i={}}=e||{};return WY(this.state.doc,{blockSeparator:t,textSerializers:{...qO(this.schema),...i}})}get isEmpty(){return fI(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var i;return((i=this.$doc)===null||i===void 0?void 0:i.querySelector(e,t))||null}$nodes(e,t){var i;return((i=this.$doc)===null||i===void 0?void 0:i.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new eh(t,this)}get $doc(){return this.$pos(0)}};function Mc(r){return new gv({find:r.find,handler:({state:e,range:t,match:i})=>{const n=Ft(r.getAttributes,void 0,i);if(n===!1||n===null)return null;const{tr:s}=e,o=i[i.length-1],a=i[0];if(o){const l=a.search(/\S/),h=t.from+a.indexOf(o),u=h+o.length;if(pI(t.from,t.to,e.doc).filter(f=>f.mark.type.excluded.find(m=>m===r.type&&m!==f.mark.type)).filter(f=>f.to>h).length)return null;u<t.to&&s.delete(u,t.to),h>t.from&&s.delete(t.from+l,h);const d=t.from+l+o.length;s.addMark(t.from+l,d,r.type.create(n||{})),s.removeStoredMark(r.type)}}})}function tR(r){return new gv({find:r.find,handler:({state:e,range:t,match:i})=>{const n=Ft(r.getAttributes,void 0,i)||{},{tr:s}=e,o=t.from;let a=t.to;const l=r.type.create(n);if(i[1]){const h=i[0].lastIndexOf(i[1]);let u=o+h;u>a?u=a:a=u+i[1].length;const c=i[0][i[0].length-1];s.insertText(c,o+i[0].length-1),s.replaceWith(u,a,l)}else if(i[0]){const h=r.type.isInline?o:o-1;s.insert(h,r.type.create(n)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()}})}function LS(r){return new gv({find:r.find,handler:({state:e,range:t,match:i})=>{const n=e.doc.resolve(t.from),s=Ft(r.getAttributes,void 0,i)||{};if(!n.node(-1).canReplaceWith(n.index(-1),n.indexAfter(-1),r.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,r.type,s)}})}function gp(r){return new gv({find:r.find,handler:({state:e,range:t,match:i,chain:n})=>{const s=Ft(r.getAttributes,void 0,i)||{},o=e.tr.delete(t.from,t.to),l=o.doc.resolve(t.from).blockRange(),h=l&&Wb(l,r.type,s);if(!h)return null;if(o.wrap(l,h),r.keepMarks&&r.editor){const{selection:c,storedMarks:d}=e,{splittableMarks:f}=r.editor.extensionManager,g=d||c.$to.parentOffset&&c.$from.marks();if(g){const m=g.filter(y=>f.includes(y.type.name));o.ensureMarks(m)}}if(r.keepAttributes){const c=r.type.name==="bulletList"||r.type.name==="orderedList"?"listItem":"taskList";n().updateAttributes(c,s).run()}const u=o.doc.resolve(t.from-1).nodeBefore;u&&u.type===r.type&&Ll(o.doc,t.from-1)&&(!r.joinPredicate||r.joinPredicate(i,u))&&o.join(t.from-1)}})}let gs=class zS{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ft(nt(this,"addOptions",{name:this.name}))),this.storage=Ft(nt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new zS(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>mv(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new zS(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ft(nt(t,"addOptions",{name:t.name})),t.storage=Ft(nt(t,"addStorage",{name:t.name,options:t.options})),t}};function Wh(r){return new Y_({find:r.find,handler:({state:e,range:t,match:i,pasteEvent:n})=>{const s=Ft(r.getAttributes,void 0,i,n);if(s===!1||s===null)return null;const{tr:o}=e,a=i[i.length-1],l=i[0];let h=t.to;if(a){const u=l.search(/\S/),c=t.from+l.indexOf(a),d=c+a.length;if(pI(t.from,t.to,e.doc).filter(g=>g.mark.type.excluded.find(y=>y===r.type&&y!==g.mark.type)).filter(g=>g.to>c).length)return null;d<t.to&&o.delete(d,t.to),c>t.from&&o.delete(t.from+u,c),h=t.from+u+a.length,o.addMark(t.from+u,h,r.type.create(s||{})),o.removeStoredMark(r.type)}}})}function EW(r,e){const{selection:t}=r,{$from:i}=t;if(t instanceof ct){const s=i.index();return i.parent.canReplaceWith(s,s+1,e)}let n=i.depth;for(;n>=0;){const s=i.index(n);if(i.node(n).contentMatchAt(s).matchType(e))return!0;n-=1}return!1}function Zw(r){return jy((e,t)=>({get(){return e(),r},set(i){r=i,requestAnimationFrame(()=>{requestAnimationFrame(()=>{t()})})}}))}class kW extends AW{constructor(e={}){return super(e),this.contentComponent=null,this.appContext=null,this.reactiveState=Zw(this.view.state),this.reactiveExtensionStorage=Zw(this.extensionStorage),this.on("beforeTransaction",({nextState:t})=>{this.reactiveState.value=t,this.reactiveExtensionStorage.value=this.extensionStorage}),Ec(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,t){const i=super.registerPlugin(e,t);return this.reactiveState&&(this.reactiveState.value=i),i}unregisterPlugin(e){const t=super.unregisterPlugin(e);return this.reactiveState&&t&&(this.reactiveState.value=t),t}}const LW=Ai({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(r){const e=Pe(),t=Tr();return Ts(()=>{const i=r.editor;i&&i.options.element&&e.value&&en(()=>{if(!e.value||!i.options.element.firstChild)return;const n=be(e.value);e.value.append(...i.options.element.childNodes),i.contentComponent=t.ctx._,t&&(i.appContext={...t.appContext,provides:t.provides}),i.setOptions({element:n}),i.createNodeViews()})}),br(()=>{const i=r.editor;i&&(i.contentComponent=null,i.appContext=null)}),{rootEl:e}},render(){return Wi("div",{ref:r=>{this.rootEl=r}})}}),zW=/^\s*>\s$/,OW=gs.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:r}){return["blockquote",Sn(this.options.HTMLAttributes,r),0]},addCommands(){return{setBlockquote:()=>({commands:r})=>r.wrapIn(this.name),toggleBlockquote:()=>({commands:r})=>r.toggleWrap(this.name),unsetBlockquote:()=>({commands:r})=>r.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[gp({find:zW,type:this.type})]}}),RW=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,jW=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,PW=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,FW=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,BW=da.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:r=>r.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:r=>r.type.name===this.name},{style:"font-weight",getAttrs:r=>/^(bold(er)?|[5-9]\d{2,})$/.test(r)&&null}]},renderHTML({HTMLAttributes:r}){return["strong",Sn(this.options.HTMLAttributes,r),0]},addCommands(){return{setBold:()=>({commands:r})=>r.setMark(this.name),toggleBold:()=>({commands:r})=>r.toggleMark(this.name),unsetBold:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Mc({find:RW,type:this.type}),Mc({find:PW,type:this.type})]},addPasteRules(){return[Wh({find:jW,type:this.type}),Wh({find:FW,type:this.type})]}}),UW="listItem",Xw="textStyle",ex=/^\s*([-+*])\s$/,HW=gs.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:r}){return["ul",Sn(this.options.HTMLAttributes,r),0]},addCommands(){return{toggleBulletList:()=>({commands:r,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(UW,this.editor.getAttributes(Xw)).run():r.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let r=gp({find:ex,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(r=gp({find:ex,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Xw),editor:this.editor})),[r]}}),VW=/(^|[^`])`([^`]+)`(?!`)/,QW=/(^|[^`])`([^`]+)`(?!`)/g,_W=da.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:r}){return["code",Sn(this.options.HTMLAttributes,r),0]},addCommands(){return{setCode:()=>({commands:r})=>r.setMark(this.name),toggleCode:()=>({commands:r})=>r.toggleMark(this.name),unsetCode:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Mc({find:VW,type:this.type})]},addPasteRules(){return[Wh({find:QW,type:this.type})]}}),YW=/^```([a-z]+)?[\s\n]$/,WW=/^~~~([a-z]+)?[\s\n]$/,qW=gs.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:r=>{var e;const{languageClassPrefix:t}=this.options,s=[...((e=r.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(t)).map(o=>o.replace(t,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:r,HTMLAttributes:e}){return["pre",Sn(this.options.HTMLAttributes,e),["code",{class:r.attrs.language?this.options.languageClassPrefix+r.attrs.language:null},0]]},addCommands(){return{setCodeBlock:r=>({commands:e})=>e.setNode(this.name,r),toggleCodeBlock:r=>({commands:e})=>e.toggleNode(this.name,"paragraph",r)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:r,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!r||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:r})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=r,{selection:t}=e,{$from:i,empty:n}=t;if(!n||i.parent.type!==this.type)return!1;const s=i.parentOffset===i.parent.nodeSize-2,o=i.parent.textContent.endsWith(`

`);return!s||!o?!1:r.chain().command(({tr:a})=>(a.delete(i.pos-2,i.pos),!0)).exitCode().run()},ArrowDown:({editor:r})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=r,{selection:t,doc:i}=e,{$from:n,empty:s}=t;if(!s||n.parent.type!==this.type||!(n.parentOffset===n.parent.nodeSize-2))return!1;const a=n.after();return a===void 0?!1:i.nodeAt(a)?r.commands.command(({tr:h})=>(h.setSelection(Ot.near(i.resolve(a))),!0)):r.commands.exitCode()}}},addInputRules(){return[LS({find:YW,type:this.type,getAttributes:r=>({language:r[1]})}),LS({find:WW,type:this.type,getAttributes:r=>({language:r[1]})})]},addProseMirrorPlugins(){return[new kn({key:new Qr("codeBlockVSCodeHandler"),props:{handlePaste:(r,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),i=e.clipboardData.getData("vscode-editor-data"),n=i?JSON.parse(i):void 0,s=n==null?void 0:n.mode;if(!t||!s)return!1;const{tr:o,schema:a}=r.state,l=a.text(t.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(Nt.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),r.dispatch(o),!0}}})]}}),GW=gs.create({name:"doc",topNode:!0,content:"block+"});function $W(r={}){return new kn({view(e){return new KW(e,r)}})}class KW{constructor(e,t){var i;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(i=t.width)!==null&&i!==void 0?i:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(n=>{let s=o=>{this[n](o)};return e.dom.addEventListener(n,s),{name:n,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,i,n=this.editorView.dom,s=n.getBoundingClientRect(),o=s.width/n.offsetWidth,a=s.height/n.offsetHeight;if(t){let c=e.nodeBefore,d=e.nodeAfter;if(c||d){let f=this.editorView.nodeDOM(this.cursorPos-(c?c.nodeSize:0));if(f){let g=f.getBoundingClientRect(),m=c?g.bottom:g.top;c&&d&&(m=(m+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let y=this.width/2*a;i={left:g.left,right:g.right,top:m-y,bottom:m+y}}}}if(!i){let c=this.editorView.coordsAtPos(this.cursorPos),d=this.width/2*o;i={left:c.left-d,right:c.left+d,top:c.top,bottom:c.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let h,u;if(!l||l==document.body&&getComputedStyle(l).position=="static")h=-pageXOffset,u=-pageYOffset;else{let c=l.getBoundingClientRect(),d=c.width/l.offsetWidth,f=c.height/l.offsetHeight;h=c.left-l.scrollLeft*d,u=c.top-l.scrollTop*f}this.element.style.left=(i.left-h)/o+"px",this.element.style.top=(i.top-u)/a+"px",this.element.style.width=(i.right-i.left)/o+"px",this.element.style.height=(i.bottom-i.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),i=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),n=i&&i.type.spec.disableDropCursor,s=typeof n=="function"?n(this.editorView,t,e):n;if(t&&!s){let o=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=Qz(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const JW=lr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[$W(this.options)]}});class Bi extends Ot{constructor(e){super(e,e)}map(e,t){let i=e.resolve(t.map(this.head));return Bi.valid(i)?new Bi(i):Ot.near(i)}content(){return Ke.empty}eq(e){return e instanceof Bi&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Bi(e.resolve(t.pos))}getBookmark(){return new gI(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!ZW(e)||!XW(e))return!1;let i=t.type.spec.allowGapCursor;if(i!=null)return i;let n=t.contentMatchAt(e.index()).defaultType;return n&&n.isTextblock}static findGapCursorFrom(e,t,i=!1){e:for(;;){if(!i&&Bi.valid(e))return e;let n=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(t>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(t>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;n+=t;let l=e.doc.resolve(n);if(Bi.valid(l))return l}for(;;){let o=t>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!ct.isSelectable(s)){e=e.doc.resolve(n+s.nodeSize*t),i=!1;continue e}break}s=o,n+=t;let a=e.doc.resolve(n);if(Bi.valid(a))return a}return null}}}Bi.prototype.visible=!1;Bi.findFrom=Bi.findGapCursorFrom;Ot.jsonID("gapcursor",Bi);class gI{constructor(e){this.pos=e}map(e){return new gI(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Bi.valid(t)?new Bi(t):Ot.near(t)}}function ZW(r){for(let e=r.depth;e>=0;e--){let t=r.index(e),i=r.node(e);if(t==0){if(i.type.spec.isolating)return!0;continue}for(let n=i.child(t-1);;n=n.lastChild){if(n.childCount==0&&!n.inlineContent||n.isAtom||n.type.spec.isolating)return!0;if(n.inlineContent)return!1}}return!0}function XW(r){for(let e=r.depth;e>=0;e--){let t=r.indexAfter(e),i=r.node(e);if(t==i.childCount){if(i.type.spec.isolating)return!0;continue}for(let n=i.child(t);;n=n.firstChild){if(n.childCount==0&&!n.inlineContent||n.isAtom||n.type.spec.isolating)return!0;if(n.inlineContent)return!1}}return!0}function eq(){return new kn({props:{decorations:rq,createSelectionBetween(r,e,t){return e.pos==t.pos&&Bi.valid(t)?new Bi(t):null},handleClick:iq,handleKeyDown:tq,handleDOMEvents:{beforeinput:nq}}})}const tq=kO({ArrowLeft:Of("horiz",-1),ArrowRight:Of("horiz",1),ArrowUp:Of("vert",-1),ArrowDown:Of("vert",1)});function Of(r,e){const t=r=="vert"?e>0?"down":"up":e>0?"right":"left";return function(i,n,s){let o=i.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof Nt){if(!s.endOfTextblock(t)||a.depth==0)return!1;l=!1,a=i.doc.resolve(e>0?a.after():a.before())}let h=Bi.findGapCursorFrom(a,e,l);return h?(n&&n(i.tr.setSelection(new Bi(h))),!0):!1}}function iq(r,e,t){if(!r||!r.editable)return!1;let i=r.state.doc.resolve(e);if(!Bi.valid(i))return!1;let n=r.posAtCoords({left:t.clientX,top:t.clientY});return n&&n.inside>-1&&ct.isSelectable(r.state.doc.nodeAt(n.inside))?!1:(r.dispatch(r.state.tr.setSelection(new Bi(i))),!0)}function nq(r,e){if(e.inputType!="insertCompositionText"||!(r.state.selection instanceof Bi))return!1;let{$from:t}=r.state.selection,i=t.parent.contentMatchAt(t.index()).findWrapping(r.state.schema.nodes.text);if(!i)return!1;let n=Oe.empty;for(let o=i.length-1;o>=0;o--)n=Oe.from(i[o].createAndFill(null,n));let s=r.state.tr.replace(t.pos,t.pos,new Ke(n,0,0));return s.setSelection(Nt.near(s.doc.resolve(t.pos+1))),r.dispatch(s),!1}function rq(r){if(!(r.selection instanceof Bi))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",on.create(r.doc,[as.widget(r.selection.head,e,{key:"gapcursor"})])}const sq=lr.create({name:"gapCursor",addProseMirrorPlugins(){return[eq()]},extendNodeSchema(r){var e;const t={name:r.name,options:r.options,storage:r.storage};return{allowGapCursor:(e=Ft(nt(r,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),oq=gs.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:r}){return["br",Sn(this.options.HTMLAttributes,r)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:r,chain:e,state:t,editor:i})=>r.first([()=>r.exitCode(),()=>r.command(()=>{const{selection:n,storedMarks:s}=t;if(n.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=i.extensionManager,l=s||n.$to.parentOffset&&n.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:u})=>{if(u&&l&&o){const c=l.filter(d=>a.includes(d.type.name));h.ensureMarks(c)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),aq=gs.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(r=>({tag:`h${r}`,attrs:{level:r}}))},renderHTML({node:r,HTMLAttributes:e}){return[`h${this.options.levels.includes(r.attrs.level)?r.attrs.level:this.options.levels[0]}`,Sn(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:r=>({commands:e})=>this.options.levels.includes(r.level)?e.setNode(this.name,r):!1,toggleHeading:r=>({commands:e})=>this.options.levels.includes(r.level)?e.toggleNode(this.name,"paragraph",r):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((r,e)=>({...r,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(r=>LS({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${r}})\\s$`),type:this.type,getAttributes:{level:r}}))}});var bm=200,vn=function(){};vn.prototype.append=function(e){return e.length?(e=vn.from(e),!this.length&&e||e.length<bm&&this.leafAppend(e)||this.length<bm&&e.leafPrepend(this)||this.appendInner(e)):this};vn.prototype.prepend=function(e){return e.length?vn.from(e).append(this):this};vn.prototype.appendInner=function(e){return new lq(this,e)};vn.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?vn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};vn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};vn.prototype.forEach=function(e,t,i){t===void 0&&(t=0),i===void 0&&(i=this.length),t<=i?this.forEachInner(e,t,i,0):this.forEachInvertedInner(e,t,i,0)};vn.prototype.map=function(e,t,i){t===void 0&&(t=0),i===void 0&&(i=this.length);var n=[];return this.forEach(function(s,o){return n.push(e(s,o))},t,i),n};vn.from=function(e){return e instanceof vn?e:e&&e.length?new iR(e):vn.empty};var iR=function(r){function e(i){r.call(this),this.values=i}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(n,s){return n==0&&s==this.length?this:new e(this.values.slice(n,s))},e.prototype.getInner=function(n){return this.values[n]},e.prototype.forEachInner=function(n,s,o,a){for(var l=s;l<o;l++)if(n(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(n,s,o,a){for(var l=s-1;l>=o;l--)if(n(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(n){if(this.length+n.length<=bm)return new e(this.values.concat(n.flatten()))},e.prototype.leafPrepend=function(n){if(this.length+n.length<=bm)return new e(n.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(vn);vn.empty=new iR([]);var lq=function(r){function e(t,i){r.call(this),this.left=t,this.right=i,this.length=t.length+i.length,this.depth=Math.max(t.depth,i.depth)+1}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},e.prototype.forEachInner=function(i,n,s,o){var a=this.left.length;if(n<a&&this.left.forEachInner(i,n,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(i,Math.max(n-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(i,n,s,o){var a=this.left.length;if(n>a&&this.right.forEachInvertedInner(i,n-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(i,Math.min(n,a),s,o)===!1)return!1},e.prototype.sliceInner=function(i,n){if(i==0&&n==this.length)return this;var s=this.left.length;return n<=s?this.left.slice(i,n):i>=s?this.right.slice(i-s,n-s):this.left.slice(i,s).append(this.right.slice(0,n-s))},e.prototype.leafAppend=function(i){var n=this.right.leafAppend(i);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(i){var n=this.left.leafPrepend(i);if(n)return new e(n,this.right)},e.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new e(this.left,new e(this.right,i)):new e(this,i)},e}(vn);const hq=500;class xs{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}let n,s;t&&(n=this.remapping(i,this.items.length),s=n.maps.length);let o=e.tr,a,l,h=[],u=[];return this.items.forEach((c,d)=>{if(!c.step){n||(n=this.remapping(i,d+1),s=n.maps.length),s--,u.push(c);return}if(n){u.push(new Ws(c.map));let f=c.step.map(n.slice(s)),g;f&&o.maybeStep(f).doc&&(g=o.mapping.maps[o.mapping.maps.length-1],h.push(new Ws(g,void 0,void 0,h.length+u.length))),s--,g&&n.appendMap(g,s)}else o.maybeStep(c.step);if(c.selection)return a=n?c.selection.map(n.slice(s)):c.selection,l=new xs(this.items.slice(0,i).append(u.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,t,i,n){let s=[],o=this.eventCount,a=this.items,l=!n&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let c=e.steps[u].invert(e.docs[u]),d=new Ws(e.mapping.maps[u],c,t),f;(f=l&&l.merge(d))&&(d=f,u?s.pop():a=a.slice(0,a.length-1)),s.push(d),t&&(o++,t=void 0),n||(l=d)}let h=o-i.depth;return h>cq&&(a=uq(a,h),o-=h),new xs(a.append(s),o)}remapping(e,t){let i=new lp;return this.items.forEach((n,s)=>{let o=n.mirrorOffset!=null&&s-n.mirrorOffset>=e?i.maps.length-n.mirrorOffset:void 0;i.appendMap(n.map,o)},e,t),i}addMaps(e){return this.eventCount==0?this:new xs(this.items.append(e.map(t=>new Ws(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let i=[],n=Math.max(0,this.items.length-t),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(d=>{d.selection&&a--},n);let l=t;this.items.forEach(d=>{let f=s.getMirror(--l);if(f==null)return;o=Math.min(o,f);let g=s.maps[f];if(d.step){let m=e.steps[f].invert(e.docs[f]),y=d.selection&&d.selection.map(s.slice(l+1,f));y&&a++,i.push(new Ws(g,m,y))}else i.push(new Ws(g))},n);let h=[];for(let d=t;d<o;d++)h.push(new Ws(s.maps[d]));let u=this.items.slice(0,n).append(h).append(i),c=new xs(u,a);return c.emptyItemCount()>hq&&(c=c.compress(this.items.length-i.length)),c}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),i=t.maps.length,n=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)n.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(t.slice(i)),h=l&&l.getMap();if(i--,h&&t.appendMap(h,i),l){let u=o.selection&&o.selection.map(t.slice(i));u&&s++;let c=new Ws(h.invert(),l,u),d,f=n.length-1;(d=n.length&&n[f].merge(c))?n[f]=d:n.push(c)}}else o.map&&i--},this.items.length,0),new xs(vn.from(n.reverse()),s)}}xs.empty=new xs(vn.empty,0);function uq(r,e){let t;return r.forEach((i,n)=>{if(i.selection&&e--==0)return t=n,!1}),r.slice(t)}class Ws{constructor(e,t,i,n){this.map=e,this.step=t,this.selection=i,this.mirrorOffset=n}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Ws(t.getMap().invert(),t,this.selection)}}}class Fa{constructor(e,t,i,n,s){this.done=e,this.undone=t,this.prevRanges=i,this.prevTime=n,this.prevComposition=s}}const cq=20;function dq(r,e,t,i){let n=t.getMeta(Oh),s;if(n)return n.historyState;t.getMeta(gq)&&(r=new Fa(r.done,r.undone,null,0,-1));let o=t.getMeta("appendedTransaction");if(t.steps.length==0)return r;if(o&&o.getMeta(Oh))return o.getMeta(Oh).redo?new Fa(r.done.addTransform(t,void 0,i,Tg(e)),r.undone,tx(t.mapping.maps),r.prevTime,r.prevComposition):new Fa(r.done,r.undone.addTransform(t,void 0,i,Tg(e)),null,r.prevTime,r.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=t.getMeta("composition"),l=r.prevTime==0||!o&&r.prevComposition!=a&&(r.prevTime<(t.time||0)-i.newGroupDelay||!pq(t,r.prevRanges)),h=o?fM(r.prevRanges,t.mapping):tx(t.mapping.maps);return new Fa(r.done.addTransform(t,l?e.selection.getBookmark():void 0,i,Tg(e)),xs.empty,h,t.time,a??r.prevComposition)}else return(s=t.getMeta("rebased"))?new Fa(r.done.rebased(t,s),r.undone.rebased(t,s),fM(r.prevRanges,t.mapping),r.prevTime,r.prevComposition):new Fa(r.done.addMaps(t.mapping.maps),r.undone.addMaps(t.mapping.maps),fM(r.prevRanges,t.mapping),r.prevTime,r.prevComposition)}function pq(r,e){if(!e)return!1;if(!r.docChanged)return!0;let t=!1;return r.mapping.maps[0].forEach((i,n)=>{for(let s=0;s<e.length;s+=2)i<=e[s+1]&&n>=e[s]&&(t=!0)}),t}function tx(r){let e=[];for(let t=r.length-1;t>=0&&e.length==0;t--)r[t].forEach((i,n,s,o)=>e.push(s,o));return e}function fM(r,e){if(!r)return null;let t=[];for(let i=0;i<r.length;i+=2){let n=e.map(r[i],1),s=e.map(r[i+1],-1);n<=s&&t.push(n,s)}return t}function fq(r,e,t){let i=Tg(e),n=Oh.get(e).spec.config,s=(t?r.undone:r.done).popEvent(e,i);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(t?r.done:r.undone).addTransform(s.transform,e.selection.getBookmark(),n,i),l=new Fa(t?a:s.remaining,t?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(Oh,{redo:t,historyState:l})}let gM=!1,ix=null;function Tg(r){let e=r.plugins;if(ix!=e){gM=!1,ix=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){gM=!0;break}}return gM}const Oh=new Qr("history"),gq=new Qr("closeHistory");function mq(r={}){return r={depth:r.depth||100,newGroupDelay:r.newGroupDelay||500},new kn({key:Oh,state:{init(){return new Fa(xs.empty,xs.empty,null,0,-1)},apply(e,t,i){return dq(t,i,e,r)}},config:r,props:{handleDOMEvents:{beforeinput(e,t){let i=t.inputType,n=i=="historyUndo"?rR:i=="historyRedo"?sR:null;return n?(t.preventDefault(),n(e.state,e.dispatch)):!1}}}})}function nR(r,e){return(t,i)=>{let n=Oh.getState(t);if(!n||(r?n.undone:n.done).eventCount==0)return!1;if(i){let s=fq(n,t,r);s&&i(e?s.scrollIntoView():s)}return!0}}const rR=nR(!1,!0),sR=nR(!0,!0),yq=lr.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:r,dispatch:e})=>rR(r,e),redo:()=>({state:r,dispatch:e})=>sR(r,e)}},addProseMirrorPlugins(){return[mq(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),vq=gs.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:r}){return["hr",Sn(this.options.HTMLAttributes,r)]},addCommands(){return{setHorizontalRule:()=>({chain:r,state:e})=>{if(!EW(e,e.schema.nodes[this.name]))return!1;const{selection:t}=e,{$from:i,$to:n}=t,s=r();return i.parentOffset===0?s.insertContentAt({from:Math.max(i.pos-1,0),to:n.pos},{type:this.name}):ZY(t)?s.insertContentAt(n.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:a})=>{var l;if(a){const{$to:h}=o.selection,u=h.end();if(h.nodeAfter)h.nodeAfter.isTextblock?o.setSelection(Nt.create(o.doc,h.pos+1)):h.nodeAfter.isBlock?o.setSelection(ct.create(o.doc,h.pos)):o.setSelection(Nt.create(o.doc,h.pos));else{const c=(l=h.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();c&&(o.insert(u,c),o.setSelection(Nt.create(o.doc,u+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[tR({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Mq=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Sq=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Cq=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,bq=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Iq=da.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:r=>r.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:r=>r.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:r}){return["em",Sn(this.options.HTMLAttributes,r),0]},addCommands(){return{setItalic:()=>({commands:r})=>r.setMark(this.name),toggleItalic:()=>({commands:r})=>r.toggleMark(this.name),unsetItalic:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Mc({find:Mq,type:this.type}),Mc({find:Cq,type:this.type})]},addPasteRules(){return[Wh({find:Sq,type:this.type}),Wh({find:bq,type:this.type})]}}),Dq=gs.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:r}){return["li",Sn(this.options.HTMLAttributes,r),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Tq="listItem",nx="textStyle",rx=/^(\d+)\.\s$/,wq=gs.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:r=>r.hasAttribute("start")?parseInt(r.getAttribute("start")||"",10):1},type:{default:null,parseHTML:r=>r.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:r}){const{start:e,...t}=r;return e===1?["ol",Sn(this.options.HTMLAttributes,t),0]:["ol",Sn(this.options.HTMLAttributes,r),0]},addCommands(){return{toggleOrderedList:()=>({commands:r,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Tq,this.editor.getAttributes(nx)).run():r.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let r=gp({find:rx,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(r=gp({find:rx,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(nx)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[r]}}),xq=gs.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:r}){return["p",Sn(this.options.HTMLAttributes,r),0]},addCommands(){return{setParagraph:()=>({commands:r})=>r.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Nq=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Aq=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Eq=da.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:r=>r.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:r}){return["s",Sn(this.options.HTMLAttributes,r),0]},addCommands(){return{setStrike:()=>({commands:r})=>r.setMark(this.name),toggleStrike:()=>({commands:r})=>r.toggleMark(this.name),unsetStrike:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Mc({find:Nq,type:this.type})]},addPasteRules(){return[Wh({find:Aq,type:this.type})]}}),kq=gs.create({name:"text",group:"inline"}),Lq=lr.create({name:"starterKit",addExtensions(){const r=[];return this.options.bold!==!1&&r.push(BW.configure(this.options.bold)),this.options.blockquote!==!1&&r.push(OW.configure(this.options.blockquote)),this.options.bulletList!==!1&&r.push(HW.configure(this.options.bulletList)),this.options.code!==!1&&r.push(_W.configure(this.options.code)),this.options.codeBlock!==!1&&r.push(qW.configure(this.options.codeBlock)),this.options.document!==!1&&r.push(GW.configure(this.options.document)),this.options.dropcursor!==!1&&r.push(JW.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&r.push(sq.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&r.push(oq.configure(this.options.hardBreak)),this.options.heading!==!1&&r.push(aq.configure(this.options.heading)),this.options.history!==!1&&r.push(yq.configure(this.options.history)),this.options.horizontalRule!==!1&&r.push(vq.configure(this.options.horizontalRule)),this.options.italic!==!1&&r.push(Iq.configure(this.options.italic)),this.options.listItem!==!1&&r.push(Dq.configure(this.options.listItem)),this.options.orderedList!==!1&&r.push(wq.configure(this.options.orderedList)),this.options.paragraph!==!1&&r.push(xq.configure(this.options.paragraph)),this.options.strike!==!1&&r.push(Eq.configure(this.options.strike)),this.options.text!==!1&&r.push(kq.configure(this.options.text)),r}}),zq="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Oq="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Sc=(r,e)=>{for(const t in e)r[t]=e[t];return r},OS="numeric",RS="ascii",jS="alpha",Rd="asciinumeric",Sd="alphanumeric",PS="domain",oR="emoji",Rq="scheme",jq="slashscheme",mM="whitespace";function Pq(r,e){return r in e||(e[r]=[]),e[r]}function lh(r,e,t){e[OS]&&(e[Rd]=!0,e[Sd]=!0),e[RS]&&(e[Rd]=!0,e[jS]=!0),e[Rd]&&(e[Sd]=!0),e[jS]&&(e[Sd]=!0),e[Sd]&&(e[PS]=!0),e[oR]&&(e[PS]=!0);for(const i in e){const n=Pq(i,t);n.indexOf(r)<0&&n.push(r)}}function Fq(r,e){const t={};for(const i in e)e[i].indexOf(r)>=0&&(t[i]=!0);return t}function mr(r=null){this.j={},this.jr=[],this.jd=null,this.t=r}mr.groups={};mr.prototype={accepts(){return!!this.t},go(r){const e=this,t=e.j[r];if(t)return t;for(let i=0;i<e.jr.length;i++){const n=e.jr[i][0],s=e.jr[i][1];if(s&&n.test(r))return s}return e.jd},has(r,e=!1){return e?r in this.j:!!this.go(r)},ta(r,e,t,i){for(let n=0;n<r.length;n++)this.tt(r[n],e,t,i)},tr(r,e,t,i){i=i||mr.groups;let n;return e&&e.j?n=e:(n=new mr(e),t&&i&&lh(e,t,i)),this.jr.push([r,n]),n},ts(r,e,t,i){let n=this;const s=r.length;if(!s)return n;for(let o=0;o<s-1;o++)n=n.tt(r[o]);return n.tt(r[s-1],e,t,i)},tt(r,e,t,i){i=i||mr.groups;const n=this;if(e&&e.j)return n.j[r]=e,e;const s=e;let o,a=n.go(r);if(a?(o=new mr,Sc(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new mr,s){if(i)if(o.t&&typeof o.t=="string"){const l=Sc(Fq(o.t,i),t);lh(s,l,i)}else t&&lh(s,t,i);o.t=s}return n.j[r]=o,o}};const jt=(r,e,t,i,n)=>r.ta(e,t,i,n),ji=(r,e,t,i,n)=>r.tr(e,t,i,n),sx=(r,e,t,i,n)=>r.ts(e,t,i,n),Ue=(r,e,t,i,n)=>r.tt(e,t,i,n),Po="WORD",FS="UWORD",aR="ASCIINUMERICAL",lR="ALPHANUMERICAL",mp="LOCALHOST",BS="TLD",US="UTLD",wg="SCHEME",Du="SLASH_SCHEME",mI="NUM",HS="WS",yI="NL",jd="OPENBRACE",Pd="CLOSEBRACE",Im="OPENBRACKET",Dm="CLOSEBRACKET",Tm="OPENPAREN",wm="CLOSEPAREN",xm="OPENANGLEBRACKET",Nm="CLOSEANGLEBRACKET",Am="FULLWIDTHLEFTPAREN",Em="FULLWIDTHRIGHTPAREN",km="LEFTCORNERBRACKET",Lm="RIGHTCORNERBRACKET",zm="LEFTWHITECORNERBRACKET",Om="RIGHTWHITECORNERBRACKET",Rm="FULLWIDTHLESSTHAN",jm="FULLWIDTHGREATERTHAN",Pm="AMPERSAND",Fm="APOSTROPHE",Bm="ASTERISK",Ba="AT",Um="BACKSLASH",Hm="BACKTICK",Vm="CARET",Ya="COLON",vI="COMMA",Qm="DOLLAR",qs="DOT",_m="EQUALS",MI="EXCLAMATION",Kr="HYPHEN",Fd="PERCENT",Ym="PIPE",Wm="PLUS",qm="POUND",Bd="QUERY",SI="QUOTE",hR="FULLWIDTHMIDDLEDOT",CI="SEMI",Gs="SLASH",Ud="TILDE",Gm="UNDERSCORE",uR="EMOJI",$m="SYM";var cR=Object.freeze({__proto__:null,ALPHANUMERICAL:lR,AMPERSAND:Pm,APOSTROPHE:Fm,ASCIINUMERICAL:aR,ASTERISK:Bm,AT:Ba,BACKSLASH:Um,BACKTICK:Hm,CARET:Vm,CLOSEANGLEBRACKET:Nm,CLOSEBRACE:Pd,CLOSEBRACKET:Dm,CLOSEPAREN:wm,COLON:Ya,COMMA:vI,DOLLAR:Qm,DOT:qs,EMOJI:uR,EQUALS:_m,EXCLAMATION:MI,FULLWIDTHGREATERTHAN:jm,FULLWIDTHLEFTPAREN:Am,FULLWIDTHLESSTHAN:Rm,FULLWIDTHMIDDLEDOT:hR,FULLWIDTHRIGHTPAREN:Em,HYPHEN:Kr,LEFTCORNERBRACKET:km,LEFTWHITECORNERBRACKET:zm,LOCALHOST:mp,NL:yI,NUM:mI,OPENANGLEBRACKET:xm,OPENBRACE:jd,OPENBRACKET:Im,OPENPAREN:Tm,PERCENT:Fd,PIPE:Ym,PLUS:Wm,POUND:qm,QUERY:Bd,QUOTE:SI,RIGHTCORNERBRACKET:Lm,RIGHTWHITECORNERBRACKET:Om,SCHEME:wg,SEMI:CI,SLASH:Gs,SLASH_SCHEME:Du,SYM:$m,TILDE:Ud,TLD:BS,UNDERSCORE:Gm,UTLD:US,UWORD:FS,WORD:Po,WS:HS});const wo=/[a-z]/,Yc=new RegExp("\\p{L}","u"),yM=new RegExp("\\p{Emoji}","u"),xo=/\d/,vM=/\s/,ox="\r",MM=`
`,Bq="",Uq="",SM="";let Rf=null,jf=null;function Hq(r=[]){const e={};mr.groups=e;const t=new mr;Rf==null&&(Rf=ax(zq)),jf==null&&(jf=ax(Oq)),Ue(t,"'",Fm),Ue(t,"{",jd),Ue(t,"}",Pd),Ue(t,"[",Im),Ue(t,"]",Dm),Ue(t,"(",Tm),Ue(t,")",wm),Ue(t,"<",xm),Ue(t,">",Nm),Ue(t,"",Am),Ue(t,"",Em),Ue(t,"",km),Ue(t,"",Lm),Ue(t,"",zm),Ue(t,"",Om),Ue(t,"",Rm),Ue(t,"",jm),Ue(t,"&",Pm),Ue(t,"*",Bm),Ue(t,"@",Ba),Ue(t,"`",Hm),Ue(t,"^",Vm),Ue(t,":",Ya),Ue(t,",",vI),Ue(t,"$",Qm),Ue(t,".",qs),Ue(t,"=",_m),Ue(t,"!",MI),Ue(t,"-",Kr),Ue(t,"%",Fd),Ue(t,"|",Ym),Ue(t,"+",Wm),Ue(t,"#",qm),Ue(t,"?",Bd),Ue(t,'"',SI),Ue(t,"/",Gs),Ue(t,";",CI),Ue(t,"~",Ud),Ue(t,"_",Gm),Ue(t,"\\",Um),Ue(t,"",hR);const i=ji(t,xo,mI,{[OS]:!0});ji(i,xo,i);const n=ji(i,wo,aR,{[Rd]:!0}),s=ji(i,Yc,lR,{[Sd]:!0}),o=ji(t,wo,Po,{[RS]:!0});ji(o,xo,n),ji(o,wo,o),ji(n,xo,n),ji(n,wo,n);const a=ji(t,Yc,FS,{[jS]:!0});ji(a,wo),ji(a,xo,s),ji(a,Yc,a),ji(s,xo,s),ji(s,wo),ji(s,Yc,s);const l=Ue(t,MM,yI,{[mM]:!0}),h=Ue(t,ox,HS,{[mM]:!0}),u=ji(t,vM,HS,{[mM]:!0});Ue(t,SM,u),Ue(h,MM,l),Ue(h,SM,u),ji(h,vM,u),Ue(u,ox),Ue(u,MM),ji(u,vM,u),Ue(u,SM,u);const c=ji(t,yM,uR,{[oR]:!0});Ue(c,"#"),ji(c,yM,c),Ue(c,Bq,c);const d=Ue(c,Uq);Ue(d,"#"),ji(d,yM,c);const f=[[wo,o],[xo,n]],g=[[wo,null],[Yc,a],[xo,s]];for(let m=0;m<Rf.length;m++)va(t,Rf[m],BS,Po,f);for(let m=0;m<jf.length;m++)va(t,jf[m],US,FS,g);lh(BS,{tld:!0,ascii:!0},e),lh(US,{utld:!0,alpha:!0},e),va(t,"file",wg,Po,f),va(t,"mailto",wg,Po,f),va(t,"http",Du,Po,f),va(t,"https",Du,Po,f),va(t,"ftp",Du,Po,f),va(t,"ftps",Du,Po,f),lh(wg,{scheme:!0,ascii:!0},e),lh(Du,{slashscheme:!0,ascii:!0},e),r=r.sort((m,y)=>m[0]>y[0]?1:-1);for(let m=0;m<r.length;m++){const y=r[m][0],M=r[m][1]?{[Rq]:!0}:{[jq]:!0};y.indexOf("-")>=0?M[PS]=!0:wo.test(y)?xo.test(y)?M[Rd]=!0:M[RS]=!0:M[OS]=!0,sx(t,y,y,M)}return sx(t,"localhost",mp,{ascii:!0}),t.jd=new mr($m),{start:t,tokens:Sc({groups:e},cR)}}function dR(r,e){const t=Vq(e.replace(/[A-Z]/g,a=>a.toLowerCase())),i=t.length,n=[];let s=0,o=0;for(;o<i;){let a=r,l=null,h=0,u=null,c=-1,d=-1;for(;o<i&&(l=a.go(t[o]));)a=l,a.accepts()?(c=0,d=0,u=a):c>=0&&(c+=t[o].length,d++),h+=t[o].length,s+=t[o].length,o++;s-=c,o-=d,h-=c,n.push({t:u.t,v:e.slice(s-h,s),s:s-h,e:s})}return n}function Vq(r){const e=[],t=r.length;let i=0;for(;i<t;){let n=r.charCodeAt(i),s,o=n<55296||n>56319||i+1===t||(s=r.charCodeAt(i+1))<56320||s>57343?r[i]:r.slice(i,i+2);e.push(o),i+=o.length}return e}function va(r,e,t,i,n){let s;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];r.j[l]?s=r.j[l]:(s=new mr(i),s.jr=n.slice(),r.j[l]=s),r=s}return s=new mr(t),s.jr=n.slice(),r.j[e[o-1]]=s,s}function ax(r){const e=[],t=[];let i=0,n="0123456789";for(;i<r.length;){let s=0;for(;n.indexOf(r[i+s])>=0;)s++;if(s>0){e.push(t.join(""));for(let o=parseInt(r.substring(i,i+s),10);o>0;o--)t.pop();i+=s}else t.push(r[i]),i++}return e}const yp={defaultProtocol:"http",events:null,format:lx,formatHref:lx,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function bI(r,e=null){let t=Sc({},yp);r&&(t=Sc(t,r instanceof bI?r.o:r));const i=t.ignoreTags,n=[];for(let s=0;s<i.length;s++)n.push(i[s].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=n}bI.prototype={o:yp,ignoreTags:[],defaultRender(r){return r},check(r){return this.get("validate",r.toString(),r)},get(r,e,t){const i=e!=null;let n=this.o[r];return n&&(typeof n=="object"?(n=t.t in n?n[t.t]:yp[r],typeof n=="function"&&i&&(n=n(e,t))):typeof n=="function"&&i&&(n=n(e,t.t,t)),n)},getObj(r,e,t){let i=this.o[r];return typeof i=="function"&&e!=null&&(i=i(e,t.t,t)),i},render(r){const e=r.render(this);return(this.get("render",null,r)||this.defaultRender)(e,r.t,r)}};function lx(r){return r}function pR(r,e){this.t="token",this.v=r,this.tk=e}pR.prototype={isLink:!1,toString(){return this.v},toHref(r){return this.toString()},toFormattedString(r){const e=this.toString(),t=r.get("truncate",e,this),i=r.get("format",e,this);return t&&i.length>t?i.substring(0,t)+"":i},toFormattedHref(r){return r.get("formatHref",this.toHref(r.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(r=yp.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(r),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(r){return{type:this.t,value:this.toFormattedString(r),isLink:this.isLink,href:this.toFormattedHref(r),start:this.startIndex(),end:this.endIndex()}},validate(r){return r.get("validate",this.toString(),this)},render(r){const e=this,t=this.toHref(r.get("defaultProtocol")),i=r.get("formatHref",t,this),n=r.get("tagName",t,e),s=this.toFormattedString(r),o={},a=r.get("className",t,e),l=r.get("target",t,e),h=r.get("rel",t,e),u=r.getObj("attributes",t,e),c=r.getObj("events",t,e);return o.href=i,a&&(o.class=a),l&&(o.target=l),h&&(o.rel=h),u&&Sc(o,u),{tagName:n,attributes:o,content:s,eventListeners:c}}};function vv(r,e){class t extends pR{constructor(n,s){super(n,s),this.t=r}}for(const i in e)t.prototype[i]=e[i];return t.t=r,t}const hx=vv("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),ux=vv("text"),Qq=vv("nl"),Pf=vv("url",{isLink:!0,toHref(r=yp.defaultProtocol){return this.hasProtocol()?this.v:`${r}://${this.v}`},hasProtocol(){const r=this.tk;return r.length>=2&&r[0].t!==mp&&r[1].t===Ya}}),qr=r=>new mr(r);function _q({groups:r}){const e=r.domain.concat([Pm,Bm,Ba,Um,Hm,Vm,Qm,_m,Kr,mI,Fd,Ym,Wm,qm,Gs,$m,Ud,Gm]),t=[Fm,Ya,vI,qs,MI,Fd,Bd,SI,CI,xm,Nm,jd,Pd,Dm,Im,Tm,wm,Am,Em,km,Lm,zm,Om,Rm,jm],i=[Pm,Fm,Bm,Um,Hm,Vm,Qm,_m,Kr,jd,Pd,Fd,Ym,Wm,qm,Bd,Gs,$m,Ud,Gm],n=qr(),s=Ue(n,Ud);jt(s,i,s),jt(s,r.domain,s);const o=qr(),a=qr(),l=qr();jt(n,r.domain,o),jt(n,r.scheme,a),jt(n,r.slashscheme,l),jt(o,i,s),jt(o,r.domain,o);const h=Ue(o,Ba);Ue(s,Ba,h),Ue(a,Ba,h),Ue(l,Ba,h);const u=Ue(s,qs);jt(u,i,s),jt(u,r.domain,s);const c=qr();jt(h,r.domain,c),jt(c,r.domain,c);const d=Ue(c,qs);jt(d,r.domain,c);const f=qr(hx);jt(d,r.tld,f),jt(d,r.utld,f),Ue(h,mp,f);const g=Ue(c,Kr);Ue(g,Kr,g),jt(g,r.domain,c),jt(f,r.domain,c),Ue(f,qs,d),Ue(f,Kr,g);const m=Ue(f,Ya);jt(m,r.numeric,hx);const y=Ue(o,Kr),v=Ue(o,qs);Ue(y,Kr,y),jt(y,r.domain,o),jt(v,i,s),jt(v,r.domain,o);const M=qr(Pf);jt(v,r.tld,M),jt(v,r.utld,M),jt(M,r.domain,o),jt(M,i,s),Ue(M,qs,v),Ue(M,Kr,y),Ue(M,Ba,h);const S=Ue(M,Ya),b=qr(Pf);jt(S,r.numeric,b);const C=qr(Pf),T=qr();jt(C,e,C),jt(C,t,T),jt(T,e,C),jt(T,t,T),Ue(M,Gs,C),Ue(b,Gs,C);const k=Ue(a,Ya),N=Ue(l,Ya),A=Ue(N,Gs),E=Ue(A,Gs);jt(a,r.domain,o),Ue(a,qs,v),Ue(a,Kr,y),jt(l,r.domain,o),Ue(l,qs,v),Ue(l,Kr,y),jt(k,r.domain,C),Ue(k,Gs,C),Ue(k,Bd,C),jt(E,r.domain,C),jt(E,e,C),Ue(E,Gs,C);const x=[[jd,Pd],[Im,Dm],[Tm,wm],[xm,Nm],[Am,Em],[km,Lm],[zm,Om],[Rm,jm]];for(let D=0;D<x.length;D++){const[z,w]=x[D],O=Ue(C,z);Ue(T,z,O),Ue(O,w,C);const L=qr(Pf);jt(O,e,L);const j=qr();jt(O,t),jt(L,e,L),jt(L,t,j),jt(j,e,L),jt(j,t,j),Ue(L,w,C),Ue(j,w,C)}return Ue(n,mp,M),Ue(n,yI,Qq),{start:n,tokens:cR}}function Yq(r,e,t){let i=t.length,n=0,s=[],o=[];for(;n<i;){let a=r,l=null,h=null,u=0,c=null,d=-1;for(;n<i&&!(l=a.go(t[n].t));)o.push(t[n++]);for(;n<i&&(h=l||a.go(t[n].t));)l=null,a=h,a.accepts()?(d=0,c=a):d>=0&&d++,n++,u++;if(d<0)n-=u,n<i&&(o.push(t[n]),n++);else{o.length>0&&(s.push(CM(ux,e,o)),o=[]),n-=d,u-=d;const f=c.t,g=t.slice(n-u,n);s.push(CM(f,e,g))}}return o.length>0&&s.push(CM(ux,e,o)),s}function CM(r,e,t){const i=t[0].s,n=t[t.length-1].e,s=e.slice(i,n);return new r(s,t)}const Wq=typeof console<"u"&&console&&console.warn||(()=>{}),qq="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",wi={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Gq(){return mr.groups={},wi.scanner=null,wi.parser=null,wi.tokenQueue=[],wi.pluginQueue=[],wi.customSchemes=[],wi.initialized=!1,wi}function cx(r,e=!1){if(wi.initialized&&Wq(`linkifyjs: already initialized - will not register custom scheme "${r}" ${qq}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(r))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);wi.customSchemes.push([r,e])}function $q(){wi.scanner=Hq(wi.customSchemes);for(let r=0;r<wi.tokenQueue.length;r++)wi.tokenQueue[r][1]({scanner:wi.scanner});wi.parser=_q(wi.scanner.tokens);for(let r=0;r<wi.pluginQueue.length;r++)wi.pluginQueue[r][1]({scanner:wi.scanner,parser:wi.parser});return wi.initialized=!0,wi}function II(r){return wi.initialized||$q(),Yq(wi.parser.start,r,dR(wi.scanner.start,r))}II.scan=dR;function fR(r,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const i=new bI(t),n=II(r),s=[];for(let o=0;o<n.length;o++){const a=n[o];a.isLink&&(!e||a.t===e)&&i.check(a)&&s.push(a.toFormattedObject(i))}return s}const DI="[\0- -\u2029]",Kq=new RegExp(DI),Jq=new RegExp(`${DI}$`),Zq=new RegExp(DI,"g");function Xq(r){return r.length===1?r[0].isLink:r.length===3&&r[1].isLink?["()","[]"].includes(r[0].value+r[2].value):!1}function e6(r){return new kn({key:new Qr("autolink"),appendTransaction:(e,t,i)=>{const n=e.some(h=>h.docChanged)&&!t.doc.eq(i.doc),s=e.some(h=>h.getMeta("preventAutolink"));if(!n||s)return;const{tr:o}=i,a=VY(t.doc,[...e]);if(KY(a).forEach(({newRange:h})=>{const u=_Y(i.doc,h,f=>f.isTextblock);let c,d;if(u.length>1)c=u[0],d=i.doc.textBetween(c.pos,c.pos+c.node.nodeSize,void 0," ");else if(u.length){const f=i.doc.textBetween(h.from,h.to," "," ");if(!Jq.test(f))return;c=u[0],d=i.doc.textBetween(c.pos,h.to,void 0," ")}if(c&&d){const f=d.split(Kq).filter(Boolean);if(f.length<=0)return!1;const g=f[f.length-1],m=c.pos+d.lastIndexOf(g);if(!g)return!1;const y=II(g).map(v=>v.toObject(r.defaultProtocol));if(!Xq(y))return!1;y.filter(v=>v.isLink).map(v=>({...v,from:m+v.start+1,to:m+v.end+1})).filter(v=>i.schema.marks.code?!i.doc.rangeHasMark(v.from,v.to,i.schema.marks.code):!0).filter(v=>r.validate(v.value)).filter(v=>r.shouldAutoLink(v.value)).forEach(v=>{pI(v.from,v.to,i.doc).some(M=>M.mark.type===r.type)||o.addMark(v.from,v.to,r.type.create({href:v.href}))})}}),!!o.steps.length)return o}})}function t6(r){return new kn({key:new Qr("handleClickLink"),props:{handleClick:(e,t,i)=>{var n,s;if(i.button!==0||!e.editable)return!1;let o=i.target;const a=[];for(;o.nodeName!=="DIV";)a.push(o),o=o.parentNode;if(!a.find(d=>d.nodeName==="A"))return!1;const l=eR(e.state,r.type.name),h=i.target,u=(n=h==null?void 0:h.href)!==null&&n!==void 0?n:l.href,c=(s=h==null?void 0:h.target)!==null&&s!==void 0?s:l.target;return h&&u?(window.open(u,c),!0):!1}}})}function i6(r){return new kn({key:new Qr("handlePasteLink"),props:{handlePaste:(e,t,i)=>{const{state:n}=e,{selection:s}=n,{empty:o}=s;if(o)return!1;let a="";i.content.forEach(h=>{a+=h.textContent});const l=fR(a,{defaultProtocol:r.defaultProtocol}).find(h=>h.isLink&&h.value===a);return!a||!l?!1:r.editor.commands.setMark(r.type,{href:l.href})}}})}function Fl(r,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(i=>{const n=typeof i=="string"?i:i.scheme;n&&t.push(n)}),!r||r.replace(Zq,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const n6=da.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(r=>{if(typeof r=="string"){cx(r);return}cx(r.scheme,r.optionalSlashes)})},onDestroy(){Gq()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(r,e)=>!!Fl(r,e.protocols),validate:r=>!!r,shouldAutoLink:r=>!!r}},addAttributes(){return{href:{default:null,parseHTML(r){return r.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:r=>{const e=r.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!Fl(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:r}){return this.options.isAllowedUri(r.href,{defaultValidate:e=>!!Fl(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Sn(this.options.HTMLAttributes,r),0]:["a",Sn(this.options.HTMLAttributes,{...r,href:""}),0]},addCommands(){return{setLink:r=>({chain:e})=>{const{href:t}=r;return this.options.isAllowedUri(t,{defaultValidate:i=>!!Fl(i,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,r).setMeta("preventAutolink",!0).run():!1},toggleLink:r=>({chain:e})=>{const{href:t}=r;return this.options.isAllowedUri(t,{defaultValidate:i=>!!Fl(i,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,r,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:r})=>r().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Wh({find:r=>{const e=[];if(r){const{protocols:t,defaultProtocol:i}=this.options,n=fR(r).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:o=>!!Fl(o,t),protocols:t,defaultProtocol:i}));n.length&&n.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:r=>{var e;return{href:(e=r.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const r=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&r.push(e6({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:i=>this.options.isAllowedUri(i,{defaultValidate:n=>!!Fl(n,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&r.push(t6({type:this.type})),this.options.linkOnPaste&&r.push(i6({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),r}}),r6=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,s6=gs.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:r}){return["img",Sn(this.options.HTMLAttributes,r)]},addCommands(){return{setImage:r=>({commands:e})=>e.insertContent({type:this.name,attrs:r})}},addInputRules(){return[tR({find:r6,type:this.type,getAttributes:r=>{const[,,e,t,i]=r;return{src:t,alt:e,title:i}}})]}}),o6=r=>Vr.post("/upload/file-common",r,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>e.data),a6=r=>Vr.post("/upload/file",r,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>e.data),yoe=(r={})=>Qb({mutationKey:["upload-file"],mutationFn:o6,...r}),gR=(r={})=>Qb({mutationKey:["p-upload-file"],mutationFn:a6,...r}),voe=(r={})=>_n({queryKey:["roles"],queryFn:({signal:e})=>Hi({url:"common/roles",method:"GET",signal:e}),...r}),mR="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.00065%2014.6663C11.6825%2014.6663%2014.6673%2011.6816%2014.6673%207.99967C14.6673%204.31778%2011.6825%201.33301%208.00065%201.33301C4.31875%201.33301%201.33398%204.31778%201.33398%207.99967C1.33398%2011.6816%204.31875%2014.6663%208.00065%2014.6663Z'%20stroke='%2364748B'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8%2010.6667V8'%20stroke='%2364748B'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8%205.33301H8.00667'%20stroke='%2364748B'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Cc=Math.min,Rh=Math.max,Km=Math.round,Ff=Math.floor,ho=r=>({x:r,y:r}),l6={left:"right",right:"left",bottom:"top",top:"bottom"},h6={start:"end",end:"start"};function VS(r,e,t){return Rh(r,Cc(e,t))}function nf(r,e){return typeof r=="function"?r(e):r}function qh(r){return r.split("-")[0]}function rf(r){return r.split("-")[1]}function yR(r){return r==="x"?"y":"x"}function TI(r){return r==="y"?"height":"width"}function sl(r){return["top","bottom"].includes(qh(r))?"y":"x"}function wI(r){return yR(sl(r))}function u6(r,e,t){t===void 0&&(t=!1);const i=rf(r),n=wI(r),s=TI(n);let o=n==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Jm(o)),[o,Jm(o)]}function c6(r){const e=Jm(r);return[QS(r),e,QS(e)]}function QS(r){return r.replace(/start|end/g,e=>h6[e])}function d6(r,e,t){const i=["left","right"],n=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(r){case"top":case"bottom":return t?e?n:i:e?i:n;case"left":case"right":return e?s:o;default:return[]}}function p6(r,e,t,i){const n=rf(r);let s=d6(qh(r),t==="start",i);return n&&(s=s.map(o=>o+"-"+n),e&&(s=s.concat(s.map(QS)))),s}function Jm(r){return r.replace(/left|right|bottom|top/g,e=>l6[e])}function f6(r){return{top:0,right:0,bottom:0,left:0,...r}}function vR(r){return typeof r!="number"?f6(r):{top:r,right:r,bottom:r,left:r}}function Zm(r){const{x:e,y:t,width:i,height:n}=r;return{width:i,height:n,top:t,left:e,right:e+i,bottom:t+n,x:e,y:t}}function dx(r,e,t){let{reference:i,floating:n}=r;const s=sl(e),o=wI(e),a=TI(o),l=qh(e),h=s==="y",u=i.x+i.width/2-n.width/2,c=i.y+i.height/2-n.height/2,d=i[a]/2-n[a]/2;let f;switch(l){case"top":f={x:u,y:i.y-n.height};break;case"bottom":f={x:u,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:c};break;case"left":f={x:i.x-n.width,y:c};break;default:f={x:i.x,y:i.y}}switch(rf(e)){case"start":f[o]-=d*(t&&h?-1:1);break;case"end":f[o]+=d*(t&&h?-1:1);break}return f}const g6=async(r,e,t)=>{const{placement:i="bottom",strategy:n="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let h=await o.getElementRects({reference:r,floating:e,strategy:n}),{x:u,y:c}=dx(h,i,l),d=i,f={},g=0;for(let m=0;m<a.length;m++){const{name:y,fn:v}=a[m],{x:M,y:S,data:b,reset:C}=await v({x:u,y:c,initialPlacement:i,placement:d,strategy:n,middlewareData:f,rects:h,platform:o,elements:{reference:r,floating:e}});u=M??u,c=S??c,f={...f,[y]:{...f[y],...b}},C&&g<=50&&(g++,typeof C=="object"&&(C.placement&&(d=C.placement),C.rects&&(h=C.rects===!0?await o.getElementRects({reference:r,floating:e,strategy:n}):C.rects),{x:u,y:c}=dx(h,d,l)),m=-1)}return{x:u,y:c,placement:d,strategy:n,middlewareData:f}};async function MR(r,e){var t;e===void 0&&(e={});const{x:i,y:n,platform:s,rects:o,elements:a,strategy:l}=r,{boundary:h="clippingAncestors",rootBoundary:u="viewport",elementContext:c="floating",altBoundary:d=!1,padding:f=0}=nf(e,r),g=vR(f),y=a[d?c==="floating"?"reference":"floating":c],v=Zm(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(y)))==null||t?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:h,rootBoundary:u,strategy:l})),M=c==="floating"?{x:i,y:n,width:o.floating.width,height:o.floating.height}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),b=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},C=Zm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:M,offsetParent:S,strategy:l}):M);return{top:(v.top-C.top+g.top)/b.y,bottom:(C.bottom-v.bottom+g.bottom)/b.y,left:(v.left-C.left+g.left)/b.x,right:(C.right-v.right+g.right)/b.x}}const m6=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:i,placement:n,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:h,padding:u=0}=nf(r,e)||{};if(h==null)return{};const c=vR(u),d={x:t,y:i},f=wI(n),g=TI(f),m=await o.getDimensions(h),y=f==="y",v=y?"top":"left",M=y?"bottom":"right",S=y?"clientHeight":"clientWidth",b=s.reference[g]+s.reference[f]-d[f]-s.floating[g],C=d[f]-s.reference[f],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h));let k=T?T[S]:0;(!k||!await(o.isElement==null?void 0:o.isElement(T)))&&(k=a.floating[S]||s.floating[g]);const N=b/2-C/2,A=k/2-m[g]/2-1,E=Cc(c[v],A),x=Cc(c[M],A),D=E,z=k-m[g]-x,w=k/2-m[g]/2+N,O=VS(D,w,z),L=!l.arrow&&rf(n)!=null&&w!==O&&s.reference[g]/2-(w<D?E:x)-m[g]/2<0,j=L?w<D?w-D:w-z:0;return{[f]:d[f]+j,data:{[f]:O,centerOffset:w-O-j,...L&&{alignmentOffset:j}},reset:L}}}),y6=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,i;const{placement:n,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:h}=e,{mainAxis:u=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...y}=nf(r,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const v=qh(n),M=sl(a),S=qh(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(h.floating)),C=d||(S||!m?[Jm(a)]:c6(a)),T=g!=="none";!d&&T&&C.push(...p6(a,m,g,b));const k=[a,...C],N=await MR(e,y),A=[];let E=((i=s.flip)==null?void 0:i.overflows)||[];if(u&&A.push(N[v]),c){const w=u6(n,o,b);A.push(N[w[0]],N[w[1]])}if(E=[...E,{placement:n,overflows:A}],!A.every(w=>w<=0)){var x,D;const w=(((x=s.flip)==null?void 0:x.index)||0)+1,O=k[w];if(O&&(!(c==="alignment"?M!==sl(O):!1)||E.every(B=>B.overflows[0]>0&&sl(B.placement)===M)))return{data:{index:w,overflows:E},reset:{placement:O}};let L=(D=E.filter(j=>j.overflows[0]<=0).sort((j,B)=>j.overflows[1]-B.overflows[1])[0])==null?void 0:D.placement;if(!L)switch(f){case"bestFit":{var z;const j=(z=E.filter(B=>{if(T){const V=sl(B.placement);return V===M||V==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(V=>V>0).reduce((V,ee)=>V+ee,0)]).sort((B,V)=>B[1]-V[1])[0])==null?void 0:z[0];j&&(L=j);break}case"initialPlacement":L=a;break}if(n!==L)return{reset:{placement:L}}}return{}}}};async function v6(r,e){const{placement:t,platform:i,elements:n}=r,s=await(i.isRTL==null?void 0:i.isRTL(n.floating)),o=qh(t),a=rf(t),l=sl(t)==="y",h=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,c=nf(e,r);let{mainAxis:d,crossAxis:f,alignmentAxis:g}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:c.mainAxis||0,crossAxis:c.crossAxis||0,alignmentAxis:c.alignmentAxis};return a&&typeof g=="number"&&(f=a==="end"?g*-1:g),l?{x:f*u,y:d*h}:{x:d*h,y:f*u}}const M6=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,i;const{x:n,y:s,placement:o,middlewareData:a}=e,l=await v6(e,r);return o===((t=a.offset)==null?void 0:t.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:n+l.x,y:s+l.y,data:{...l,placement:o}}}}},S6=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(e){const{x:t,y:i,placement:n}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:v,y:M}=y;return{x:v,y:M}}},...l}=nf(r,e),h={x:t,y:i},u=await MR(e,l),c=sl(qh(n)),d=yR(c);let f=h[d],g=h[c];if(s){const y=d==="y"?"top":"left",v=d==="y"?"bottom":"right",M=f+u[y],S=f-u[v];f=VS(M,f,S)}if(o){const y=c==="y"?"top":"left",v=c==="y"?"bottom":"right",M=g+u[y],S=g-u[v];g=VS(M,g,S)}const m=a.fn({...e,[d]:f,[c]:g});return{...m,data:{x:m.x-t,y:m.y-i,enabled:{[d]:s,[c]:o}}}}}};function Mv(){return typeof window<"u"}function jc(r){return SR(r)?(r.nodeName||"").toLowerCase():"#document"}function Ur(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function So(r){var e;return(e=(SR(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function SR(r){return Mv()?r instanceof Node||r instanceof Ur(r).Node:!1}function Os(r){return Mv()?r instanceof Element||r instanceof Ur(r).Element:!1}function mo(r){return Mv()?r instanceof HTMLElement||r instanceof Ur(r).HTMLElement:!1}function px(r){return!Mv()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Ur(r).ShadowRoot}function sf(r){const{overflow:e,overflowX:t,overflowY:i,display:n}=Rs(r);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(n)}function C6(r){return["table","td","th"].includes(jc(r))}function Sv(r){return[":popover-open",":modal"].some(e=>{try{return r.matches(e)}catch{return!1}})}function xI(r){const e=NI(),t=Os(r)?Rs(r):r;return["transform","translate","scale","rotate","perspective"].some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function b6(r){let e=Il(r);for(;mo(e)&&!bc(e);){if(xI(e))return e;if(Sv(e))return null;e=Il(e)}return null}function NI(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bc(r){return["html","body","#document"].includes(jc(r))}function Rs(r){return Ur(r).getComputedStyle(r)}function Cv(r){return Os(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Il(r){if(jc(r)==="html")return r;const e=r.assignedSlot||r.parentNode||px(r)&&r.host||So(r);return px(e)?e.host:e}function CR(r){const e=Il(r);return bc(e)?r.ownerDocument?r.ownerDocument.body:r.body:mo(e)&&sf(e)?e:CR(e)}function vp(r,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const n=CR(r),s=n===((i=r.ownerDocument)==null?void 0:i.body),o=Ur(n);if(s){const a=_S(o);return e.concat(o,o.visualViewport||[],sf(n)?n:[],a&&t?vp(a):[])}return e.concat(n,vp(n,[],t))}function _S(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function bR(r){const e=Rs(r);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const n=mo(r),s=n?r.offsetWidth:t,o=n?r.offsetHeight:i,a=Km(t)!==s||Km(i)!==o;return a&&(t=s,i=o),{width:t,height:i,$:a}}function AI(r){return Os(r)?r:r.contextElement}function Uu(r){const e=AI(r);if(!mo(e))return ho(1);const t=e.getBoundingClientRect(),{width:i,height:n,$:s}=bR(e);let o=(s?Km(t.width):t.width)/i,a=(s?Km(t.height):t.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const I6=ho(0);function IR(r){const e=Ur(r);return!NI()||!e.visualViewport?I6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function D6(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==Ur(r)?!1:e}function Gh(r,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const n=r.getBoundingClientRect(),s=AI(r);let o=ho(1);e&&(i?Os(i)&&(o=Uu(i)):o=Uu(r));const a=D6(s,t,i)?IR(s):ho(0);let l=(n.left+a.x)/o.x,h=(n.top+a.y)/o.y,u=n.width/o.x,c=n.height/o.y;if(s){const d=Ur(s),f=i&&Os(i)?Ur(i):i;let g=d,m=_S(g);for(;m&&i&&f!==g;){const y=Uu(m),v=m.getBoundingClientRect(),M=Rs(m),S=v.left+(m.clientLeft+parseFloat(M.paddingLeft))*y.x,b=v.top+(m.clientTop+parseFloat(M.paddingTop))*y.y;l*=y.x,h*=y.y,u*=y.x,c*=y.y,l+=S,h+=b,g=Ur(m),m=_S(g)}}return Zm({width:u,height:c,x:l,y:h})}function EI(r,e){const t=Cv(r).scrollLeft;return e?e.left+t:Gh(So(r)).left+t}function DR(r,e,t){t===void 0&&(t=!1);const i=r.getBoundingClientRect(),n=i.left+e.scrollLeft-(t?0:EI(r,i)),s=i.top+e.scrollTop;return{x:n,y:s}}function T6(r){let{elements:e,rect:t,offsetParent:i,strategy:n}=r;const s=n==="fixed",o=So(i),a=e?Sv(e.floating):!1;if(i===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},h=ho(1);const u=ho(0),c=mo(i);if((c||!c&&!s)&&((jc(i)!=="body"||sf(o))&&(l=Cv(i)),mo(i))){const f=Gh(i);h=Uu(i),u.x=f.x+i.clientLeft,u.y=f.y+i.clientTop}const d=o&&!c&&!s?DR(o,l,!0):ho(0);return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-l.scrollLeft*h.x+u.x+d.x,y:t.y*h.y-l.scrollTop*h.y+u.y+d.y}}function w6(r){return Array.from(r.getClientRects())}function x6(r){const e=So(r),t=Cv(r),i=r.ownerDocument.body,n=Rh(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=Rh(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-t.scrollLeft+EI(r);const a=-t.scrollTop;return Rs(i).direction==="rtl"&&(o+=Rh(e.clientWidth,i.clientWidth)-n),{width:n,height:s,x:o,y:a}}function N6(r,e){const t=Ur(r),i=So(r),n=t.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(n){s=n.width,o=n.height;const h=NI();(!h||h&&e==="fixed")&&(a=n.offsetLeft,l=n.offsetTop)}return{width:s,height:o,x:a,y:l}}function A6(r,e){const t=Gh(r,!0,e==="fixed"),i=t.top+r.clientTop,n=t.left+r.clientLeft,s=mo(r)?Uu(r):ho(1),o=r.clientWidth*s.x,a=r.clientHeight*s.y,l=n*s.x,h=i*s.y;return{width:o,height:a,x:l,y:h}}function fx(r,e,t){let i;if(e==="viewport")i=N6(r,t);else if(e==="document")i=x6(So(r));else if(Os(e))i=A6(e,t);else{const n=IR(r);i={x:e.x-n.x,y:e.y-n.y,width:e.width,height:e.height}}return Zm(i)}function TR(r,e){const t=Il(r);return t===e||!Os(t)||bc(t)?!1:Rs(t).position==="fixed"||TR(t,e)}function E6(r,e){const t=e.get(r);if(t)return t;let i=vp(r,[],!1).filter(a=>Os(a)&&jc(a)!=="body"),n=null;const s=Rs(r).position==="fixed";let o=s?Il(r):r;for(;Os(o)&&!bc(o);){const a=Rs(o),l=xI(o);!l&&a.position==="fixed"&&(n=null),(s?!l&&!n:!l&&a.position==="static"&&!!n&&["absolute","fixed"].includes(n.position)||sf(o)&&!l&&TR(r,o))?i=i.filter(u=>u!==o):n=a,o=Il(o)}return e.set(r,i),i}function k6(r){let{element:e,boundary:t,rootBoundary:i,strategy:n}=r;const o=[...t==="clippingAncestors"?Sv(e)?[]:E6(e,this._c):[].concat(t),i],a=o[0],l=o.reduce((h,u)=>{const c=fx(e,u,n);return h.top=Rh(c.top,h.top),h.right=Cc(c.right,h.right),h.bottom=Cc(c.bottom,h.bottom),h.left=Rh(c.left,h.left),h},fx(e,a,n));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function L6(r){const{width:e,height:t}=bR(r);return{width:e,height:t}}function z6(r,e,t){const i=mo(e),n=So(e),s=t==="fixed",o=Gh(r,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=ho(0);function h(){l.x=EI(n)}if(i||!i&&!s)if((jc(e)!=="body"||sf(n))&&(a=Cv(e)),i){const f=Gh(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else n&&h();s&&!i&&n&&h();const u=n&&!i&&!s?DR(n,a):ho(0),c=o.left+a.scrollLeft-l.x-u.x,d=o.top+a.scrollTop-l.y-u.y;return{x:c,y:d,width:o.width,height:o.height}}function bM(r){return Rs(r).position==="static"}function gx(r,e){if(!mo(r)||Rs(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return So(r)===t&&(t=t.ownerDocument.body),t}function wR(r,e){const t=Ur(r);if(Sv(r))return t;if(!mo(r)){let n=Il(r);for(;n&&!bc(n);){if(Os(n)&&!bM(n))return n;n=Il(n)}return t}let i=gx(r,e);for(;i&&C6(i)&&bM(i);)i=gx(i,e);return i&&bc(i)&&bM(i)&&!xI(i)?t:i||b6(r)||t}const O6=async function(r){const e=this.getOffsetParent||wR,t=this.getDimensions,i=await t(r.floating);return{reference:z6(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function R6(r){return Rs(r).direction==="rtl"}const j6={convertOffsetParentRelativeRectToViewportRelativeRect:T6,getDocumentElement:So,getClippingRect:k6,getOffsetParent:wR,getElementRects:O6,getClientRects:w6,getDimensions:L6,getScale:Uu,isElement:Os,isRTL:R6};function xR(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function P6(r,e){let t=null,i;const n=So(r);function s(){var a;clearTimeout(i),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const h=r.getBoundingClientRect(),{left:u,top:c,width:d,height:f}=h;if(a||e(),!d||!f)return;const g=Ff(c),m=Ff(n.clientWidth-(u+d)),y=Ff(n.clientHeight-(c+f)),v=Ff(u),S={rootMargin:-g+"px "+-m+"px "+-y+"px "+-v+"px",threshold:Rh(0,Cc(1,l))||1};let b=!0;function C(T){const k=T[0].intersectionRatio;if(k!==l){if(!b)return o();k?o(!1,k):i=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!xR(h,r.getBoundingClientRect())&&o(),b=!1}try{t=new IntersectionObserver(C,{...S,root:n.ownerDocument})}catch{t=new IntersectionObserver(C,S)}t.observe(r)}return o(!0),s}function NR(r,e,t,i){i===void 0&&(i={});const{ancestorScroll:n=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,h=AI(r),u=n||s?[...h?vp(h):[],...vp(e)]:[];u.forEach(v=>{n&&v.addEventListener("scroll",t,{passive:!0}),s&&v.addEventListener("resize",t)});const c=h&&a?P6(h,t):null;let d=-1,f=null;o&&(f=new ResizeObserver(v=>{let[M]=v;M&&M.target===h&&f&&(f.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var S;(S=f)==null||S.observe(e)})),t()}),h&&!l&&f.observe(h),f.observe(e));let g,m=l?Gh(r):null;l&&y();function y(){const v=Gh(r);m&&!xR(m,v)&&t(),m=v,g=requestAnimationFrame(y)}return t(),()=>{var v;u.forEach(M=>{n&&M.removeEventListener("scroll",t),s&&M.removeEventListener("resize",t)}),c==null||c(),(v=f)==null||v.disconnect(),f=null,l&&cancelAnimationFrame(g)}}const AR=M6,ER=S6,kR=y6,F6=m6,LR=(r,e,t)=>{const i=new Map,n={platform:j6,...t},s={...n.platform,_c:i};return g6(r,e,{...n,platform:s})},B6={key:0,class:"inline-block text-text-secondary -400 ml-1 cursor-help"},U6=["disabled"],H6={class:"flex items-center gap-2 max-w-full overflow-hidden"},V6=["src"],Q6={key:0,class:"flex justify-center items-center py-4"},_6={key:1,class:"px-4 py-2 text-sm text-text-secondary text-center"},Y6=["onClick"],W6=["src"],YS=Ai({__name:"BaseSelectField",props:{modelValue:{},options:{},label:{},defaultValue:{},placeholder:{default:"Select an option..."},message:{},error:{type:Boolean,default:!1},size:{default:"md"},tooltip:{},theme:{default:"light"},disabled:{type:Boolean},loading:{type:Boolean,default:!1}},emits:["update:modelValue","update"],setup(r,{emit:e}){const t=r,i=e,n=Pe(!1),s=Pe(null),o=Pe(null),a=Pe(null),l=Pe({top:"-9999px",left:"-9999px",width:"100%",position:"fixed"}),h=Pe(null);let u=null;function c(S){var C,T;const b=S.target;!((C=s.value)!=null&&C.contains(b))&&!((T=a.value)!=null&&T.contains(b))&&g()}function d(){document.addEventListener("mousedown",c)}function f(){document.removeEventListener("mousedown",c)}br(()=>{f(),u&&u()});function g(){n.value=!1,f(),u&&(u(),u=null)}function m(){!o.value||!a.value||LR(o.value,a.value,{placement:"bottom-start",strategy:"fixed",middleware:[AR(({placement:S})=>S.startsWith("top")?17:5),kR(),ER({padding:5})]}).then(({x:S,y:b,strategy:C})=>{var k;const T=(k=o.value)==null?void 0:k.getBoundingClientRect().width;l.value={top:`${b}px`,left:`${S}px`,width:`${T}px`,position:C}})}function y(){t.disabled||(n.value?g():(n.value=!0,setTimeout(()=>{o.value&&a.value&&(u=NR(o.value,a.value,m),d())},0)))}function v(S){if(S.isAction){i("update:modelValue",S._id),i("update",S._id),g();return}h.value=S,i("update:modelValue",S._id),i("update",S._id),g()}function M(){const S=t.modelValue??t.defaultValue;if(S!=null){const b=t.options.find(C=>C._id===S||C.title==S);b?(h.value=b,t.modelValue==null&&t.defaultValue!=null&&i("update:modelValue",b._id)):h.value=null}else h.value=null}return ir(()=>M()),Qt([()=>t.modelValue,()=>t.options],([S,b])=>{if(S==null){h.value=null;return}const C=(b||[]).find(T=>String(T._id)===String(S));C?h.value=C:h.value=null},{immediate:!0,deep:!0}),(S,b)=>{var T,k;const C=Vy("tooltip");return te(),oe("div",{class:$e(S.theme==="dark"?"text-white ":"text-text-primary"),ref_key:"wrapperRef",ref:s},[S.label?(te(),oe("label",{key:0,class:$e([" font-medium mb-1 flex items-center",S.theme==="dark"?"text-white":"text-text-primary",S.size=="md"?"text-sm":S.size=="sm"?"text-xs":"text-base"])},[Ni(tt(S.label)+" ",1),S.tooltip?lo((te(),oe("span",B6,b[0]||(b[0]=[$("img",{src:mR,alt:"info"},null,-1)]))),[[C,S.tooltip]]):yt("",!0)],2)):yt("",!0),$("div",{ref_key:"triggerRef",ref:o,class:$e(["relative px-3 py-2 rounded-md w-full border text-sm flex justify-between items-center",[S.size==="md"?"h-10":S.size==="sm"?"h-8 !rounded-md":"h-12",(S.theme==="dark","bg-bg-input border-border "),S.error?"border-red-500 focus-within:ring-red-500":"focus-within:ring-black",S.disabled?" cursor-not-allowed":"cursor-pointer"]]),onClick:y,disabled:S.disabled},[$("div",H6,[(T=h.value)!=null&&T.icon?(te(),oe("img",{key:0,src:h.value.icon,class:"w-4 h-4"},null,8,V6)):yt("",!0),$("span",{class:$e(h.value?" line-clamp-1 overflow-ellipsis ":"text-text-secondary line-clamp-1 overflow-ellipsis")},tt(((k=h.value)==null?void 0:k.title)||S.placeholder),3)]),b[1]||(b[1]=$("svg",{class:"w-4 h-4 text-text-secondary",fill:"none",viewBox:"0 0 20 20",stroke:"currentColor"},[$("path",{d:"M6 8L10 12L14 8","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))],10,U6),(te(),mn(Hp,{to:"body"},[n.value?(te(),oe("div",{key:0,ref_key:"dropdownRef",ref:a,class:$e(["absolute z-[9999] mt-2 rounded-md max-h-64 overflow-auto shadow border w-full",(S.theme==="dark","bg-bg-input text-text-primary border-border")]),style:Xi(l.value)},[S.loading?(te(),oe("div",Q6,b[2]||(b[2]=[$("svg",{class:"animate-spin h-5 w-5 text-text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[$("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),$("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):!S.options||S.options.length===0?(te(),oe("div",_6," No options found ")):(te(!0),oe(rt,{key:2},ri(S.options,(N,A)=>{var E;return te(),oe("div",{key:N._id??A,onClick:x=>v(N),class:$e(["px-4 py-2 text-sm flex items-center gap-2 cursor-pointer hover:bg-bg-dropdown-menu-hover transition-all duration-150",[{"bg-bg-dropdown":N._id===((E=h.value)==null?void 0:E._id)},N.customClass]])},[N.icon?(te(),oe("img",{key:0,src:N.icon,class:"w-4 h-4"},null,8,W6)):yt("",!0),$("span",null,tt(N.title),1)],10,Y6)}),128))],6)):yt("",!0)])),S.message?(te(),oe("p",{key:1,class:$e(["mt-2 text-xs",S.error?"text-red-500":S.theme==="dark"?"text-text-secondary -400":"text-text-secondary -500"])},tt(S.message),3)):yt("",!0)],2)}}}),q6={key:0,class:"inline-block text-text-secondary ml-1 cursor-help"},G6={class:"relative"},$6={key:0,class:"mr-2 text-text-secondary"},K6=["type","placeholder"],J6={key:1,class:"ml-2 text-text-secondary"},Z6=["aria-label"],X6={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"w-5 h-5",fill:"none",stroke:"currentColor","stroke-width":"1.5","aria-hidden":"true"},eG={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"w-5 h-5",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round","aria-hidden":"true"},mx=Ai({__name:"BaseTextField",props:{modelValue:{},label:{},tooltip:{},message:{},error:{type:Boolean,default:!1},placeholder:{},type:{default:"text"},size:{default:"md"},theme:{default:"light"}},emits:["update:modelValue"],setup(r,{emit:e}){const t=r,i=e,n=Ce({get:()=>t.modelValue,set:a=>i("update:modelValue",a)}),s=Pe(!1),o=Ce(()=>t.type==="password"?s.value?"text":"password":t.type);return(a,l)=>{const h=Vy("tooltip");return te(),oe("div",{class:$e(a.theme==="dark"?"text-white":"text-text-primary ")},[a.label?(te(),oe("label",{key:0,class:$e([" font-medium mb-1 flex items-center",a.size==="md"?"text-sm":"text-base",a.theme==="dark"?"text-white":"text-text-primary "])},[Ni(tt(a.label)+" ",1),a.tooltip?lo((te(),oe("span",q6,l[2]||(l[2]=[$("img",{src:mR,alt:"info"},null,-1)]))),[[h,a.tooltip]]):yt("",!0)],2)):yt("",!0),$("div",G6,[$("div",{class:$e(["flex items-center border rounded-md px-3 py-2 w-full text-sm focus-within:ring-2",a.size==="md"?"h-10":"h-12",a.error?"border-red-500 focus-within:ring-red-500":" focus-within:ring-black",a.theme=="dark"?"bg-[#131318] border-border  ":"bg-bg-input border-border"])},[a.$slots.prefix?(te(),oe("span",$6,[Ei(a.$slots,"prefix")])):yt("",!0),lo($("input",ul(a.$attrs,{"onUpdate:modelValue":l[0]||(l[0]=u=>n.value=u),type:o.value,placeholder:a.placeholder,class:["w-full outline-none bg-transparent",a.theme=="dark"?"!text-white placeholder-white/70":"text-text-primary placeholder-text-secondary "]}),null,16,K6),[[$y,n.value]]),a.$slots.suffix?(te(),oe("span",J6,[Ei(a.$slots,"suffix")])):yt("",!0),t.type==="password"?(te(),oe("button",{key:2,type:"button",class:"ml-2 inline-flex items-center justify-center text-text-secondary hover:opacity-80 focus:outline-none",onClick:l[1]||(l[1]=u=>s.value=!s.value),"aria-label":s.value?"Hide password":"Show password"},[s.value?(te(),oe("svg",eG,l[4]||(l[4]=[$("path",{d:"M3 3l18 18"},null,-1),$("path",{d:"M2.25 12s3.75-6.75 9.75-6.75S21.75 12 21.75 12 18 18.75 12 18.75 2.25 12 2.25 12Z"},null,-1),$("circle",{cx:"12",cy:"12",r:"3"},null,-1)]))):(te(),oe("svg",X6,l[3]||(l[3]=[$("path",{d:"M2.25 12s3.75-6.75 9.75-6.75 9.75 6.75 9.75 6.75-3.75 6.75-9.75 6.75S2.25 12 2.25 12Z"},null,-1),$("path",{d:"M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"},null,-1)])))],8,Z6)):yt("",!0)],2)]),a.message?(te(),oe("p",{key:1,class:$e(["mt-2 text-xs flex items-center gap-1",a.error?"text-red-500":(a.theme==="dark","text-text-secondary")])},[a.$slots.msgIcon?Ei(a.$slots,"msgIcon",{key:0}):yt("",!0),Ni(" "+tt(a.message),1)],2)):yt("",!0)],2)}}}),tG=["type","disabled"],iG={class:"flex items-center"},nG={key:0,class:"mx-1 text-nowrap"},rG={key:1,class:"ml-2 flex items-center gap-0.5"},sG=Ai({__name:"Button",props:{variant:{},size:{},type:{},block:{type:Boolean},disabled:{type:Boolean},loading:{type:Boolean},appearance:{}},setup(r){const e=r,t=Ce(()=>{const n=e.appearance||"filled",s=e.variant||"primary";return{filled:{primary:"bg-accent text-white hover:bg-accent-hover",secondary:"!bg-transparent text-card  border-card border",danger:"bg-red-500 text-white hover:bg-red-600",ghost:"bg-transparent text-text-primary hover:bg-gray-100 hover:text-black"},outlined:{primary:"bg-transparent text-text-primary border border-black hover:bg-black hover:text-white",secondary:"bg-transparent text-[#FFFFFFCC] border border-border FFFFFF4D] ",danger:"bg-transparent text-red-500 border border-red-500 hover:bg-red-500 hover:text-white",ghost:"bg-transparent text-text-secondary  border border-gray-300 hover:bg-gray-100"}}[n][s]}),i=Ce(()=>{switch(e.size){case"sm":return"text-xs px-3 py-1.5 h-[34px]";case"lg":return"text-base px-3 sm:px-4 h-12";case"base":return"text-sm  px-3 sm:px-4 h-sp10";case"md":return"text-sm px-2 sm:px-4 h-[38px]";default:return"text-sm px-4 h-[38px]"}});return(n,s)=>(te(),oe("button",{type:n.type,disabled:n.disabled||n.loading,class:$e(["relative cursor-pointer disabled:cursor-not-allowed  inline-flex items-center justify-center font-medium py-1.5  text-sm rounded-md focus:outline-none transition",i.value,t.value,n.block?"w-full":"",n.disabled||n.loading?"cursor-not-allowed !opacity-90":""])},[Ei(n.$slots,"icon",{},void 0,!0),$("div",iG,[n.$slots.default?(te(),oe("span",nG,[Ei(n.$slots,"default",{},void 0,!0)])):yt("",!0),n.loading?(te(),oe("span",rG,s[0]||(s[0]=[$("span",{class:"w-1.5 h-1.5 bg-bg-body rounded-full animate-bounce [animation-delay:-0.3s]"},null,-1),$("span",{class:"w-1.5 h-1.5 bg-bg-body rounded-full animate-bounce [animation-delay:-0.15s]"},null,-1),$("span",{class:"w-1.5 h-1.5 bg-bg-body rounded-full animate-bounce"},null,-1)]))):yt("",!0)])],10,tG))}}),Hu=kl(sG,[["__scopeId","data-v-b9724a59"]]),oG={key:0,class:"fixed inset-0 z-[2000] flex items-center justify-center"},aG={class:"relative w-[520px] max-w-[92vw] rounded-xl bg-bg-surface shadow-2xl p-5 space-y-4",role:"dialog","aria-modal":"true","aria-labelledby":"link-modal-title"},lG={class:"space-y-1"},hG={class:"flex gap-2 items-end"},uG={key:0,class:"text-xs text-red-600"},cG={class:"mt-4 flex justify-end gap-3"},dG=Ai({__name:"LinkDialog",props:{modelValue:{type:Boolean},initialHref:{},initialText:{},initialNewTab:{type:Boolean}},emits:["update:modelValue","insert"],setup(r,{emit:e}){const t=r,i=e,n=Pe(null),s=Pe("https://"),o=Pe(""),a=Pe(""),l=Pe(!0),h=Pe("");function u(){var v;const m=t.initialHref||"",y=(v=m.match(/^(https?:\/\/|mailto:|tel:|\/)/i))==null?void 0:v[0];s.value=y||"https://",o.value=m.replace(/^(https?:\/\/|mailto:|tel:|\/)/i,""),a.value=t.initialText||"",l.value=t.initialNewTab??!0,h.value=""}Qt(()=>t.modelValue,async m=>{var y;m&&(u(),await en(),(y=n.value)==null||y.focus())},{immediate:!0});function c(){i("update:modelValue",!1)}function d(){return s.value==="/"?o.value.startsWith("/")?o.value:`/${o.value}`:`${s.value}${o.value}`}function f(m){if(!m||m===s.value)return"Please enter a URL.";if(s.value==="mailto:"||s.value==="tel:"||s.value==="/")return"";try{return new URL(m).host?"":"URL is missing a host."}catch{return"Invalid URL format."}}function g(){var y;const m=d();h.value=f(m),!h.value&&(i("insert",{href:m,text:((y=a.value)==null?void 0:y.trim())||void 0,newTab:l.value}),c())}return(m,y)=>m.modelValue?(te(),oe("div",oG,[$("div",{class:"absolute inset-0 bg-black/30",onClick:c}),$("div",aG,[y[5]||(y[5]=$("h3",{id:"link-modal-title",class:"text-lg font-semibold"},"Insert link",-1)),$("div",lG,[$("div",hG,[st(YS,{modelValue:s.value,"onUpdate:modelValue":y[0]||(y[0]=v=>s.value=v),label:"Url",options:[{_id:"https://",title:"https://"},{_id:"http://",title:"http://"},{_id:"mailto:",title:"mailto:"},{_id:"tel:",title:"tel:"},{_id:"/",title:"/ (relative)"}]},null,8,["modelValue"]),st(mx,{ref_key:"urlRef",ref:n,modelValue:o.value,"onUpdate:modelValue":y[1]||(y[1]=v=>o.value=v),modelModifiers:{trim:!0},placeholder:"example.com/page"},null,8,["modelValue"])]),h.value?(te(),oe("p",uG,tt(h.value),1)):yt("",!0)]),st(mx,{modelValue:a.value,"onUpdate:modelValue":y[2]||(y[2]=v=>a.value=v),label:"Text",placeholder:"Visible text (optional)"},null,8,["modelValue"]),$("div",cG,[st(Hu,{variant:"secondary",size:"sm",onClick:c},{default:pi(()=>y[3]||(y[3]=[Ni("Cancel")])),_:1,__:[3]}),st(Hu,{size:"sm",onClick:g},{default:pi(()=>y[4]||(y[4]=[Ni(" Insert ")])),_:1,__:[4]})]),$("button",{onClick:c,class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600","aria-label":"Close"},"")])])):yt("",!0)}}),pG=["disabled"],fG=["disabled"],gG={key:0,class:"absolute -top-1.5 -right-1.5 min-w-[1.2rem] h-[1.2rem] px-1 rounded-full text-[10px] leading-[1.2rem] text-white text-center bg-purple-600 shadow ring-1 ring-black/10"},mG={class:"relative"},yG=["onClick","title"],vG=["src"],MG=Ai({__name:"BaseRichTextEditor",props:{modelValue:{},label:{},placeholder:{},theme:{default:"light"}},emits:["update:modelValue","focusOut"],setup(r,{emit:e}){const t=r,i=e,n=Pe(null),s=Pe(null),o=Pe([]);Qt(()=>o.value,()=>{console.log(o,">>>> filePreviews <<<<<")});const a=new kW({content:t.modelValue,extensions:[Lq,n6.configure({openOnClick:!0,autolink:!0,linkOnPaste:!0,HTMLAttributes:{rel:"noopener noreferrer nofollow"},validate:x=>v(x)}),s6],onUpdate:({editor:x})=>i("update:modelValue",x.getHTML()),onBlur:()=>i("focusOut",o.value)}),l=Pe("paragraph");function h(){l.value==="heading1"?a.chain().focus().setHeading({level:1}).run():l.value==="heading2"?a.chain().focus().setHeading({level:2}).run():a.chain().focus().setParagraph().run()}const{mutate:u}=gR({onSuccess:x=>{var w;console.log(x,"???");const D=(w=x==null?void 0:x.data)==null?void 0:w.url,z=x.data.name;/\.(png|jpe?g|gif|webp|svg)$/i.test(D)?(a.chain().focus().insertContent(`<img src="${D}" alt="${z}" />`).run(),o.value=[...o.value,{name:z,url:D}]):o.value=[...o.value,{name:z,url:D}]}});function c(x){const D=x.target.files;if(!D)return;const z=Array.from(D).map(w=>{const O=new FormData;return O.append("file",w),u(O)});Promise.all(z).then(w=>{console.log(w,"> response"),w.forEach(O=>{console.log(O,">>>> second ");const L=O==null?void 0:O.data.url,j=O.data.name,{doc:B}=a.state,V=B.content.size;a.commands.setTextSelection(V),a.commands.insertContent(`<img src="${L}" alt="${j}" />`)})}).catch(w=>{console.error("Error uploading images:",w)})}function d(x){const D=x.target.files;D&&Array.from(D).forEach(z=>{const w=new FormData;w.append("file",z),u(w)})}function f(){var x;(x=n==null?void 0:n.value)==null||x.click()}function g(){var x;(x=s==null?void 0:s.value)==null||x.click()}Qt(()=>t.modelValue,x=>{x!==a.getHTML()&&a.commands.setContent(x||"",!1)}),br(()=>a.destroy());const m=Ce(()=>["px-2 py-1 rounded-md border text-sm transition","disabled:opacity-40 disabled:cursor-not-allowed",t.theme==="dark"?"border-border text-text-secondary hover:bg-[#1a1a1f]":"border-border text-text-primary hover:bg-accent-hover"].join(" ")),y=Ce(()=>t.theme==="dark"?"bg-[#2B2C30] text-white":"bg-accent text-white");function v(x){try{return x?/^(mailto:|tel:|#|\/)/i.test(x)?!0:!!new URL(/^[a-z]+:\/\//i.test(x)?x:`https://${x}`).host:!1}catch{return!1}}const M=Pe(!1),S=Pe({});function b(){const x=a.getAttributes("link")||{},{from:D,to:z}=a.state.selection,w=a.state.doc.textBetween(D,z)||"",O=x.target==null?!0:x.target==="_blank";S.value={href:x.href||"",text:w||"",newTab:O},M.value=!0}function C({href:x,text:D,newTab:z}){const w=z?"_blank":null,O=z?"noopener noreferrer nofollow":null,{from:L,to:j}=a.state.selection,B=L!==j,V=D&&D.length?D:B?void 0:x;!B&&V?a.chain().focus().insertContent({type:"text",text:V,marks:[{type:"link",attrs:{href:x,target:w,rel:O}}]}).run():a.chain().focus().extendMarkRange("link").setLink({href:x,target:w,rel:O}).run()}function T(x){const D=x==null?void 0:x.target;D&&D.closest("[data-editor-toolbar]")||a==null||a.commands.focus()}const k=Pe(!1),N=Ce(()=>{const x=D=>{const z=(D.split(".").pop()||"").toLowerCase();return["png","jpg","jpeg","gif","webp","svg"].includes(z)?null:["pdf"].includes(z)?"fa-regular fa-file-pdf":["doc","docx"].includes(z)?"fa-regular fa-file-word":["xls","xlsx","csv"].includes(z)?"fa-regular fa-file-excel":["ppt","pptx"].includes(z)?"fa-regular fa-file-powerpoint":["zip","rar","7z"].includes(z)?"fa-regular fa-file-zipper":["txt","md"].includes(z)?"fa-regular fa-file-lines":"fa-regular fa-file"};return o.value.slice(0,6).map((D,z)=>({key:`${D.name}-${z}`,name:D.name,url:D.url,thumb:/\.(png|jpe?g|gif|webp|svg)$/i.test(D.url)?D.url:null,icon:x(D.name)}))});function A(x){window.open(x,"_blank")}function E(x,D){const O=Math.min(100,50+(D-1)*12),L=-90,j=L-O/2,B=L+O/2,W=Math.min(60,44+(D-1)*3),K=(D<=1?L:j+(B-j)*(x/(D-1)))*Math.PI/180,le=Math.round(W*Math.cos(K)),me=Math.round(W*Math.sin(K)),pe=`${x*25}ms`;return{transform:k.value?`translate(${le}px, ${me-18}px) scale(1)`:"translate(0px, 0px) scale(0.6)",opacity:k.value?1:0,transitionDelay:k.value?pe:"0ms"}}return(x,D)=>(te(),oe(rt,null,[$("div",{class:$e(["w-full rich-text-editor",x.theme==="dark"?"dark":""])},[x.label?(te(),oe("label",{key:0,class:$e(["block text-base font-medium mb-2",x.theme==="dark"?"text-white":"text-text-primary"])},tt(x.label),3)):yt("",!0),$("div",{class:$e(["rounded-lg border flex flex-col h-full cursor-text",x.theme==="dark"?"bg-[#131318] border-border text-white":"bg-bg-input border-border text-text-primary"]),onMousedown:T},[st(be(LW),{placeholder:x.placeholder,editor:be(a),class:$e(["min-h-[150px] px-4 py-3 editor-shell grow",x.theme==="dark"?"text-white":"text-text-primary"])},null,8,["placeholder","editor","class"]),$("div",{"data-editor-toolbar":"",class:$e(["border-t sticky bottom-0 px-2 py-2 flex items-center flex-wrap gap-2 text-sm",x.theme==="dark"?"border-border bg-[#0D0D10] text-text-secondary":"border-border bg-bg-body text-text-primary"])},[$("button",{onClick:D[0]||(D[0]=z=>be(a).chain().focus().undo().run()),disabled:!be(a).can().undo(),class:$e(m.value),title:"Undo"},"",10,pG),$("button",{onClick:D[1]||(D[1]=z=>be(a).chain().focus().redo().run()),disabled:!be(a).can().redo(),class:$e(m.value),title:"Redo"},"",10,fG),lo($("select",{"onUpdate:modelValue":D[2]||(D[2]=z=>l.value=z),onChange:h,class:$e(["text-sm bg-transparent focus:outline-none rounded-md px-1 py-1 text-text-primary"])},D[12]||(D[12]=[$("option",{value:"paragraph"},"Normal text",-1),$("option",{value:"heading1"},"Heading 1",-1),$("option",{value:"heading2"},"Heading 2",-1)]),544),[[Gy,l.value]]),$("button",{onClick:D[3]||(D[3]=qi(z=>be(a).chain().focus().toggleBold().run(),["prevent"])),class:$e([m.value,be(a).isActive("bold")?y.value:""]),title:"Bold"},D[13]||(D[13]=[$("strong",null,"B",-1)]),2),$("button",{onClick:D[4]||(D[4]=qi(z=>be(a).chain().focus().toggleItalic().run(),["prevent"])),class:$e([m.value,be(a).isActive("italic")?y.value:""]),title:"Italic"},D[14]||(D[14]=[$("em",null,"I",-1)]),2),$("button",{onClick:D[5]||(D[5]=qi(z=>be(a).chain().focus().toggleStrike().run(),["prevent"])),class:$e([m.value,be(a).isActive("strike")?y.value:""]),title:"Strikethrough"},"S",2),$("button",{onClick:D[6]||(D[6]=qi(z=>be(a).chain().focus().toggleCodeBlock().run(),["prevent"])),class:$e([m.value,be(a).isActive("codeBlock")?y.value:""]),title:"Code"},"</>",2),$("button",{onClick:D[7]||(D[7]=qi(z=>be(a).chain().focus().toggleBulletList().run(),["prevent"])),class:$e([m.value,be(a).isActive("bulletList")?y.value:""]),title:"Bulleted list"},D[15]||(D[15]=[$("i",{class:"fa-solid fa-list"},null,-1)]),2),$("button",{onClick:D[8]||(D[8]=qi(z=>be(a).chain().focus().toggleOrderedList().run(),["prevent"])),class:$e([m.value,be(a).isActive("orderedList")?y.value:""]),title:"Numbered list"},D[16]||(D[16]=[$("i",{class:"fa-solid fa-list-ol"},null,-1)]),2),$("button",{onClick:qi(b,["prevent"]),class:$e([m.value,be(a).isActive("link")?y.value:""]),title:"Add/Edit link"},D[17]||(D[17]=[$("i",{class:"fa-regular fa-link"},null,-1)]),2),$("button",{type:"button",onClick:f,class:$e(m.value),title:"Upload image"},D[18]||(D[18]=[$("i",{class:"fa-regular fa-image"},null,-1)]),2),$("input",{ref_key:"imageInput",ref:n,type:"file",class:"hidden",accept:"image/*",multiple:"",onChange:c},null,544),$("div",{class:"relative",onMouseenter:D[9]||(D[9]=z=>k.value=!0),onMouseleave:D[10]||(D[10]=z=>k.value=!1)},[$("button",{type:"button",onClick:g,class:$e(m.value+" relative"),title:"Upload file"},[D[19]||(D[19]=$("i",{class:"fa-regular fa-file"},null,-1)),o.value.length?(te(),oe("span",gG,tt(o.value.length),1)):yt("",!0)],2),$("div",mG,[(te(!0),oe(rt,null,ri(N.value,(z,w)=>(te(),oe("button",{key:z.key,class:"fan-pill absolute z-10 w-8 h-8 rounded-full shadow ring-1 ring-black/10 bg-white dark:bg-neutral-800 flex items-center justify-center overflow-hidden",style:Xi(E(w,N.value.length)),onClick:qi(O=>A(z.url),["stop"]),title:z.name},[z.thumb?(te(),oe("img",{key:0,src:z.thumb,class:"w-5 h-5 object-cover rounded-sm",alt:""},null,8,vG)):(te(),oe("i",{key:1,class:$e([z.icon,"text-[14px]"])},null,2))],12,yG))),128))])],32),$("input",{ref_key:"fileInput",ref:s,type:"file",class:"hidden",multiple:"",onChange:d},null,544)],2)],34)],2),st(dG,{modelValue:M.value,"onUpdate:modelValue":D[11]||(D[11]=z=>M.value=z),"initial-href":S.value.href,"initial-text":S.value.text,"initial-new-tab":S.value.newTab,onInsert:C},null,8,["modelValue","initial-href","initial-text","initial-new-tab"])],64))}}),SG=kl(MG,[["__scopeId","data-v-1820c1c2"]]),CG={sheets:(r,e)=>["sheets",r,e],sheetList:(r,e,t,i)=>["sheet-list",r,e,t,i]},Moe=(r={})=>Oi({key:["product-sheet"],url:"/sheets/add",method:"POST"},r),Soe=(r={})=>Oi({key:["product-sheet-ai"],url:"/workspace/generate-sheet-ai",method:"POST"},r),Coe=(r={})=>Oi({key:["upadte-sheet"],url:"/workspace/sheet/update",method:"PATCH"},r),zR=(r={})=>Oi({key:["move-card"],url:"/workspace/cards/update",method:"PATCH"},r),boe=(r={})=>Oi({key:["add-list"],url:"/workspace/catalog/variable/value",method:"POST"},r),Ioe=(r={})=>Oi({key:["add-ticket"],url:"/workspace/cards/add",method:"POST"},r),Doe=(r,e={})=>Oi({key:["delete-ticket"],url:`workspace/card/${r}`,method:"DELETE"},e),Toe=(r,e={})=>{const t=Ce(()=>be(r.workspace_module_id)),i=Ce(()=>be(r.workspace_id));return _n({queryKey:CG.sheets(r.workspace_module_id,i.value),enabled:Ce(()=>!!t.value),queryFn:({signal:n})=>Hi({url:"/sheets",method:"GET",params:{workspace_module_id:t.value,workspace_id:i.value},signal:n}).then(s=>s),...e})};function woe(r,e,t,i,n,s={}){const o=Ce(()=>{const h=be(t);return h==null?void 0:Array.isArray(h)?Array.from(new Set(h.map(d=>String(d).trim()).filter(Boolean))).join(",")||void 0:String(h).trim()||void 0}),a=Ce(()=>["sheet-list",be(r),be(e),be(o),be(i),be(n)]),l=Ce(()=>!!(be(r)&&be(e)&&be(i)));return _n({retry:0,queryKey:a,enabled:l,placeholderData:h=>h,queryFn:async()=>{const h={module_id:be(r),sheet_id:be(e),variable_id:be(i),...be(o)?{lane_ids:be(o)}:{},...be(n)||{}};return Hi({url:"/workspace/cards/grouped",method:"GET",params:h})},refetchOnMount:"always",...s})}const xoe=(r,e,t,i={})=>_n({queryKey:["all-module-variables",t,be(e)],enabled:!!be(e),queryFn:async({signal:n})=>{const s=be(e),o=Hi({url:`/workspace/catalog/${be(r)}/card-variables/${s}?sheet_id=${be(t)}`,method:"GET",signal:n}),a=Hi({url:"/workspace/catalog/variable/values",method:"GET",params:{workspace_id:be(r),module_id:s,variable_slug:"card-type"},signal:n}),[l,h]=await Promise.all([o,a]),u=(h==null?void 0:h.values)??[];return Array.isArray(l)?l.map(c=>{var d,f;return((d=c.title)==null?void 0:d.toLowerCase())==="process"||((f=c.slug)==null?void 0:f.toLowerCase())==="process"?{...c,nested:u.map(g=>({_id:g._id??g.value,title:g.value,...g}))}:c}):l},...i}),bG=(r,e={})=>_n({queryKey:Ce(()=>["all-module-lanes",be(r)]),queryFn:async({signal:t})=>{const i=be(r);return i?Hi({url:`/workspace/lane-by-workspace/${i}`,method:"GET",signal:t}):[]},enabled:Ce(()=>!!be(r)),...e}),Noe=(r={})=>Oi({key:["addVariables"]},{mutationFn:e=>Hi({url:"workspace/catalog/variable/add",method:"POST",data:e.payload}),...r}),Aoe=(r={})=>Oi({key:["reorder-list"]},{mutationFn:e=>Hi({url:"workspace/cards/group-order",method:"PATCH",data:e.payload}),...r}),Eoe=(r={})=>Oi({key:["reorder-card"]},{mutationFn:e=>Hi({url:"workspace/cards/group-card-order",method:"PATCH",data:e.payload}),...r}),koe=(r={})=>Oi({key:["var-visibility"]},{mutationFn:e=>Hi({url:"workspace/sheet-column-preferences",method:"POST",data:e.payload}),...r}),IG=["disabled"],DG={key:0,class:"fa-regular fa-calendar me-1"},TG={key:0,class:"opacity-0 group-hover:opacity-100 transition-opacity flex items-center gap-1.5 text-xs text-text-secondary truncate"},wG={key:1,class:"opacity-70 text-[14px] truncate"},xG=["onKeydown"],NG={class:"flex items-center justify-between mb-2"},AG={class:"text-sm font-semibold"},EG={class:"grid grid-cols-7 text-[11px] opacity-60 mb-1"},kG={class:"grid grid-cols-7 gap-1 max-h-[320px] overflow-auto"},LG=["disabled","onClick"],zG={key:1,class:"w-9 h-9"},OG={class:"flex items-center justify-between mt-3"},Ma=8,Bf=280,RG=320,jG=Ai({__name:"DatePicker",props:{modelValue:{},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},minDate:{},maxDate:{},theme:{default:"light"},emitAs:{default:"ymd"},placeholder:{},emptyText:{},tableInputClass:{}},emits:["update:modelValue"],setup(r,{emit:e}){const t=r,i=e,n=Pe(null),s=Pe(null),o=Pe(!1),a=Pe({top:0,left:0}),l=Pe(x(t.modelValue)),h=Pe(l.value?z(l.value):z(new Date)),u=D(new Date),c=new Intl.DateTimeFormat(void 0,{month:"long",year:"numeric"}),d=new Intl.DateTimeFormat(void 0,{weekday:"short"}),f=Array.from({length:7},(V,ee)=>d.format(new Date(2021,7,ee+1)).slice(0,2));Qt(()=>t.modelValue,V=>{const ee=x(V);l.value=ee,ee&&(h.value=z(ee))});function g(){t.disabled||(o.value=!o.value,o.value?en(()=>{y(),v()}):M())}function m(){o.value=!1,M()}function y(){var ve,X;const V=(ve=n.value)==null?void 0:ve.querySelector("button");if(!V)return;const ee=V.getBoundingClientRect(),W=document.documentElement.clientWidth,J=document.documentElement.clientHeight,K=((X=s.value)==null?void 0:X.offsetHeight)||RG;let me=W-ee.left>=Bf+Ma?ee.left:ee.right-Bf;me=Math.min(Math.max(me,Ma),W-Bf-Ma);let P=J-ee.bottom>=K+Ma?ee.bottom+Ma:ee.top-K-Ma;P=Math.min(Math.max(P,Ma),J-K-Ma),a.value={top:P,left:me}}function v(){document.addEventListener("pointerdown",b,!0),window.addEventListener("scroll",S,!0),window.addEventListener("resize",S,!0)}function M(){document.removeEventListener("pointerdown",b,!0),window.removeEventListener("scroll",S,!0),window.removeEventListener("resize",S,!0)}function S(){o.value&&y()}function b(V){var W,J;const ee=V.target;!((W=n.value)!=null&&W.contains(ee))&&!((J=s.value)!=null&&J.contains(ee))&&m()}ir(()=>{o.value&&en(y)}),br(M);function C(){h.value=O(h.value,-1)}function T(){h.value=O(h.value,1)}const k=Ce(()=>{const ee=z(h.value).getDay(),W=w(h.value),J=[];for(let pe=0;pe<ee;pe++)J.push({date:null});const K=x(t.minDate),le=x(t.maxDate);for(let pe=1;pe<=W;pe++){const P=new Date(h.value.getFullYear(),h.value.getMonth(),pe),ve=K&&P<D(K)||le&&P>D(le)||!1;J.push({date:P,disabled:ve})}const me=J.length%7;if(me)for(let pe=0;pe<7-me;pe++)J.push({date:null});return J});function N(V){l.value=V;let ee;t.emitAs==="date"?ee=V:t.emitAs==="iso"?ee=V.toISOString():ee=B(V),i("update:modelValue",ee)}function A(){l.value=null,i("update:modelValue",null)}const E=Ce(()=>l.value?new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",year:"numeric"}).format(l.value):"");function x(V){if(!V&&V!==0)return null;const ee=V instanceof Date?V:new Date(V);return isNaN(ee.getTime())?null:ee}function D(V){const ee=new Date(V);return ee.setHours(0,0,0,0),ee}function z(V){const ee=new Date(V.getFullYear(),V.getMonth(),1);return ee.setHours(0,0,0,0),ee}function w(V){return new Date(V.getFullYear(),V.getMonth()+1,0).getDate()}function O(V,ee){return new Date(V.getFullYear(),V.getMonth()+ee,1)}function L(V,ee){return!!V&&!!ee&&V.getFullYear()===ee.getFullYear()&&V.getMonth()===ee.getMonth()&&V.getDate()===ee.getDate()}function j(V){return V<10?`0${V}`:`${V}`}function B(V){return`${V.getFullYear()}-${j(V.getMonth()+1)}-${j(V.getDate())}`}return(V,ee)=>(te(),oe("div",{ref_key:"root",ref:n,class:"relative inline-block text-left h-full w-full group"},[$("button",{type:"button",class:$e(["inline-flex h-full text-xs w-full items-center transition px-2 rounded-sm",[V.disabled?"opacity-60 cursor-not-allowed":"cursor-pointer hover:bg-bg-surface-hover",V.theme==="dark"?"text-text-secondary":"text-text-primary"]]),onClick:g,disabled:V.disabled},[l.value?(te(),oe("span",{key:0,class:$e(["truncate",V.tableInputClass?"text-[12px]":"text-[14px]"])},[V.tableInputClass?(te(),oe("i",DG)):yt("",!0),Ni(" "+tt(E.value),1)],2)):(te(),oe(rt,{key:1},[V.emptyText?(te(),oe("span",TG,[ee[0]||(ee[0]=$("i",{class:"fa-solid fa-plus text-[10px]"},null,-1)),Ni(" Add "+tt(V.emptyText),1)])):(te(),oe("span",wG,tt(V.placeholder),1))],64))],10,IG),(te(),mn(Hp,{to:"body"},[st(tl,{name:"dp-scale"},{default:pi(()=>[o.value?(te(),oe("div",{key:0,ref_key:"popover",ref:s,class:$e(["z-[9999] rounded-md shadow-lg border p-3 select-none",(V.theme==="dark","bg-bg-dropdown border-border text-text-primary")]),style:Xi({position:"fixed",top:a.value.top+"px",left:a.value.left+"px",width:Bf+"px"}),onKeydown:Cl(qi(m,["prevent","stop"]),["esc"]),role:"dialog","aria-modal":"true"},[$("div",NG,[$("button",{class:"px-2 py-1 rounded hover:bg-bg-dropdown-menu-hover",onClick:C},""),$("div",AG,tt(be(c).format(h.value)),1),$("button",{class:"px-2 py-1 rounded hover:bg-bg-dropdown-menu-hover",onClick:T},"")]),$("div",EG,[(te(!0),oe(rt,null,ri(be(f),W=>(te(),oe("div",{key:W,class:"text-center py-1"},tt(W),1))),128))]),$("div",kG,[(te(!0),oe(rt,null,ri(k.value,(W,J)=>(te(),oe("div",{key:J},[W.date?(te(),oe("button",{key:0,class:$e(["h-8 w-8 rounded-full text-sm flex items-center justify-center hover:bg-bg-dropdown-menu-hover hover:text-text-primary transition",[L(W.date,be(u))?"border border-gray-400":"",L(W.date,l.value)?"bg-accent text-white border border-accent hover:bg-accent":"",W.disabled?"opacity-40 cursor-not-allowed hover:bg-transparent":""]]),disabled:W.disabled,onClick:K=>N(W.date)},tt(W.date.getDate()),11,LG)):(te(),oe("div",zG))]))),128))]),$("div",OG,[V.clearable&&l.value?(te(),oe("button",{key:0,class:$e(["text-xs px-2 py-1 rounded border hover:bg-bg-dropdown-hover",(V.theme==="dark","border-border")]),onClick:A},"Clear",2)):yt("",!0),ee[1]||(ee[1]=$("div",{class:"flex-1"},null,-1)),$("button",{class:$e(["text-xs px-3 py-1 rounded border hover:bg-bg-dropdown-menu-hover",(V.theme==="dark","border-border")]),onClick:m},"Done",2)])],46,xG)):yt("",!0)]),_:1})]))],512))}}),yx=kl(jG,[["__scopeId","data-v-fb88a60f"]]);function Tu(r){return Array.isArray(r)?r[0]??"":typeof r=="string"?r:""}function PG(){const r=AL();return{workspaceId:Ce(()=>{var t;return Tu((t=r==null?void 0:r.params)==null?void 0:t.id)})}}function FG(){const r=AL(),e=Ce(()=>{var s;return Tu((s=r==null?void 0:r.params)==null?void 0:s.id)}),t=Ce(()=>Tu(r.params.job_id)||Tu(localStorage.getItem("jobId")??"")),i=Ce(()=>Tu(r.params.module_id)),n=Ce(()=>Tu(r.params.token));return{workspaceId:e,jobId:t,token:n,moduleId:i}}function WS(r){const e=(r._id||r.email||r.name||"").split("").reduce((i,n)=>i*31+n.charCodeAt(0)>>>0,7),t=["#8B5CF6","#F59E0B","#10B981","#EF4444","#3B82F6","#EC4899","#22D3EE","#84CC16","#FB7185","#F97316"];return t[e%t.length]}function qS(r){if(r)return r.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)}function Loe(r,e){if(!r)return"#6B7280";const t=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899","#06B6D4","#84CC16"],i=(r+e).split("").reduce((n,s)=>s.charCodeAt(0)+((n<<5)-n),0);return t[Math.abs(i)%t.length]}const OR=dL("workspace",{state:()=>({showLimitExccedModal:!1,workspace:null,showSettingPanel:!1,showCreateLaneModal:!1,showCreateLaneModalWithAI:!1,showUpdateLaneModal:!1,background:"var(--bg-body)",showProfilePanel:!1,menuStyle:"classic",showFilter:!1,selectedLaneIds:[],transitions:{},limits:{},pricing:!1,showChatBotPanel:!1}),actions:{setPricing(r){this.pricing=r},setLimitExccedModal(r){this.showLimitExccedModal=r},setLimit(r){this.limits=r},setTransition(r){this.transitions=r},setWorkspace(r){this.workspace=r},toggleSettingPanel(){this.showProfilePanel=!1,this.showChatBotPanel=!1,setTimeout(()=>{this.showSettingPanel=!this.showSettingPanel},200)},toggleAllLane(){this.selectedLaneIds=[]},setSettingPanel(r){this.showProfilePanel=!1,setTimeout(()=>{this.showSettingPanel=r},200)},toggleCreateLaneModal(){this.showCreateLaneModal=!this.showCreateLaneModal},toggleUpdateLaneModal(){this.showUpdateLaneModal=!this.showUpdateLaneModal},toggleCreateLaneModalWithAI(){this.showCreateLaneModalWithAI=!this.showCreateLaneModalWithAI},setBackground(r){this.background=r},setMenuType(r){this.menuStyle=r},toggleProfilePanel(){this.showSettingPanel=!1,this.showChatBotPanel=!1,setTimeout(()=>{this.showProfilePanel=!this.showProfilePanel},200)},toggleChatBotPanel(){this.showSettingPanel=!1,this.showProfilePanel=!1,setTimeout(()=>{this.showChatBotPanel=!this.showChatBotPanel},200)},toggleFilter(){this.showFilter=!this.showFilter},toggleLane(r){const e=this.selectedLaneIds.indexOf(r);e===-1?this.selectedLaneIds.push(r):this.selectedLaneIds.splice(e,1)},isLaneSelected(r){return this.selectedLaneIds.includes(r)}}}),zoe=Object.freeze(Object.defineProperty({__proto__:null,useWorkspaceStore:OR},Symbol.toStringTag,{value:"Module"}));function RR(){const r=OR(),{workspaceId:e}=PG(),{data:t}=K5(e),i=Ce(()=>t.value||r.workspace||null),n=Ce(()=>{var le;const K=i.value;return K&&(K.user_access_role||((le=K.data)==null?void 0:le.user_access_role))||null}),s=Ce(()=>{var me;const K=n.value;if(!K)return!1;const le=K.is_admin??((me=K.access_role)==null?void 0:me.is_admin);return K.is_owner===!0||le===!0||le==="true"||le===1}),o=Ce(()=>{var le;const K=n.value;return K?K.permissions||((le=K.access_role)==null?void 0:le.permissions)||[]:[]}),a=K=>{if(s.value)return!0;const le=o.value;if(!le||!le.length)return!1;const me=le.find(pe=>pe.slug===K);return!!me&&(me.enabled===!0||me.enabled==="true"||me.enabled===1)},l=Ce(()=>a("workspace.lane.create")),h=Ce(()=>a("workspace.lane.view_all")),u=Ce(()=>a("workspace.lane.update")),c=Ce(()=>a("workspace.lane.delete")),d=Ce(()=>a("workspace.sheet.create")),f=Ce(()=>a("workspace.sheet.view_all")),g=Ce(()=>a("workspace.sheet.update")),m=Ce(()=>a("workspace.sheet.delete")),y=Ce(()=>a("workspace.card.create")),v=Ce(()=>a("workspace.card.view_all")),M=Ce(()=>a("workspace.card.update")),S=Ce(()=>a("workspace.card.assign")),b=Ce(()=>a("workspace.card.delete")),C=Ce(()=>a("workspace.variable.create")),T=Ce(()=>a("workspace.variable.view_all")),k=Ce(()=>a("workspace.variable.update")),N=Ce(()=>a("workspace.variable.delete")),A=Ce(()=>a("workspace.comment.create")),E=Ce(()=>a("workspace.comment.view_all")),x=Ce(()=>a("workspace.comment.update")),D=Ce(()=>a("workspace.delete.delete")),z=Ce(()=>a("workspace.attachment.view_all")),w=Ce(()=>a("workspace.attachment.create")),O=Ce(()=>a("workspace.user.invite")),L=Ce(()=>a("workspace.user.view_all")),j=Ce(()=>a("workspace.user.update")),B=Ce(()=>a("workspace.user.delete")),V=Ce(()=>a("workspace.module.create")),ee=Ce(()=>a("workspace.module.view_all")),W=Ce(()=>a("workspace.module.update"));return{isAdmin:s,hasPermission:a,canCreateModule:V,canViewModule:ee,canEditModule:W,canCreateLane:l,canViewLane:h,canEditLane:u,canDeleteLane:c,canCreateSheet:d,canViewSheet:f,canEditSheet:g,canCreateCard:y,canViewCard:v,canEditCard:M,canAssignCard:S,canDeleteCard:b,canCreateVariable:C,canViewVariable:T,canEditVariable:k,canDeleteVariable:N,canCreateComment:A,canViewComment:E,canEditComment:x,canDeleteComment:D,canViewAttachment:z,canUploadAttachment:w,canInviteUser:O,canViewUser:L,canEditUser:j,canDeleteUser:B,canDeleteSheet:m,canAccessModule:(K,le)=>{const me=o.value.filter(P=>P.category==="module_management");if(!me)return!1;const pe=me.filter(P=>P._id.includes("_"));for(let P=0;P<pe.length;P++)return pe[P].slug.includes(K)?a(`workspace.module.${le}.${K}`):a(`workspace.module.${le}`);return a(`workspace.module.${le}`)}}}const BG=["src"],UG=["title"],HG=["title"],VG={key:3,class:"text-sm text-text-primary"},QG=["disabled"],_G={class:"p-3"},YG={class:"max-h-60 overflow-auto py-1"},WG=["onClick"],qG={class:"flex items-center gap-3 min-w-0"},GG=["src"],$G={key:2,class:"w-6 min-w-6 h-6 bg-bg-body border border-border rounded-full flex justify-center items-center"},KG={class:"min-w-0"},JG={class:"text-xs font-medium truncate"},ZG={class:"text-[10px] text-text-secondary truncate"},XG={class:"text-xs font-medium text-text-secondary whitespace-nowrap ml-2"},e7={key:0,class:"text-[10px] px-2 py-1 border rounded-full border-red-500 transition group-hover:bg-red-500 group-hover:text-white"},t7={key:1,class:"text-red-500"},i7={key:2,class:"text-[10px] px-2 py-1 border rounded-full border-accent group-hover:bg-accent transition group-hover:text-white"},n7={key:0,class:"px-4 pb-2 text-sm text-text-secondary"},cu=8,r7=240,s7=320,jR=Ai({__name:"AssigmentDropdown",props:{assigneeId:{},disabled:{type:Boolean},seat:{},workspaceId:{},name:{}},emits:["update:modelValue","assign","unassign"],setup(r,{emit:e}){const t=r,i=e,{workspaceId:n}=FG(),{data:s}=J5(Ce(()=>(t==null?void 0:t.workspaceId)??n.value)),o=Pe(t.assigneeId??t.seat);Qt(()=>[t.assigneeId,t.seat],()=>{o.value=t.assigneeId??t.seat},{deep:!0});const a=Ce(()=>{const E=o.value;if(!E)return null;const x=E._id||E.id||E;return(s.value||[]).find(z=>{var L,j;const w=z._id||z.id,O=((L=z.user)==null?void 0:L._id)||((j=z.user)==null?void 0:j.id);return w==x||O==x})||E}),l=Pe(!1),h=Pe(""),u=Pe(null),c=Pe(null),d=Pe(null),f=Pe({top:0,left:0}),g=Ce(()=>{const E={position:"fixed",left:f.value.left+"px"};return f.value.top!==void 0&&(E.top=f.value.top+"px"),f.value.bottom!==void 0&&(E.bottom=f.value.bottom+"px"),E}),m=Ce(()=>{const E=a.value,x=s.value||[];if(E&&(E._id||E.id)){const D=E._id||E.id,z=E,w=x.filter(O=>{var V,ee,W,J;const L=O._id||O.id,j=((V=O.user)==null?void 0:V._id)||((ee=O.user)==null?void 0:ee.id),B=((W=E.user)==null?void 0:W._id)||((J=E.user)==null?void 0:J.id);return!(L==D||j&&j==(B||D))});return[z,...w]}return[{_id:null,name:"Unassign",email:""},...x]}),y=Ce(()=>{const E=h.value.trim().toLowerCase(),x=m.value;return E?x.filter(D=>(D.title||D.name||"").toLowerCase().includes(E)||(D.email||"").toLowerCase().includes(E)):x}),{canAssignCard:v}=RR();function M(){t.disabled||!v.value||(l.value=!l.value)}function S(){l.value=!1}function b(){l.value&&S()}function C(){var ee,W;const E=c.value;if(!E)return;const x=E.getBoundingClientRect(),D=document.documentElement.clientWidth,z=document.documentElement.clientHeight,w=((ee=d.value)==null?void 0:ee.offsetWidth)||r7,O=((W=d.value)==null?void 0:W.offsetHeight)||s7;let L=x.left;L+w>D-cu&&(L=x.right-w),L=Math.max(cu,Math.min(L,D-w-cu));const j=z-x.bottom,B=x.top;j<O+cu&&B>j?f.value={bottom:z-x.top+cu,left:L}:f.value={top:x.bottom+cu,left:L}}function T(){l.value&&C()}ir(()=>{document.addEventListener("click",b),window.addEventListener("resize",T,{passive:!0}),document.addEventListener("scroll",T,{capture:!0,passive:!0})}),br(()=>{document.removeEventListener("click",b),window.removeEventListener("resize",T),document.removeEventListener("scroll",T,{capture:!0})}),Qt(l,async E=>{E?(await en(),C(),requestAnimationFrame(()=>{var x;return(x=u.value)==null?void 0:x.focus()})):h.value=""});function k(E){const x=m.value.find(D=>D._id==E);x&&(o.value=x,i("assign",x),i("update:modelValue",E)),S()}function N(E){if(E._id==null){A();return}if(a.value&&E._id===a.value._id){A();return}k(E._id)}function A(){o.value=null,i("unassign"),i("assign",{_id:null}),i("update:modelValue",null),S()}return(E,x)=>{var D,z,w,O,L,j,B,V,ee,W,J,K,le,me,pe,P,ve,X,De,Fe,Re,U,Y,ae,we,se,Me,ze;return te(),oe("div",{class:"relative",ref_key:"wrapperRef",ref:c,onClick:x[2]||(x[2]=qi(()=>{},["stop"])),onKeydown:Cl(S,["esc"])},[(z=(D=a.value)==null?void 0:D.user)!=null&&z.avatar||(w=a.value)!=null&&w._id||(O=E.seat)!=null&&O._id?(te(),oe("div",{key:0,class:$e(["flex gap-2 items-center",E.disabled||!be(v)?"cursor-not-allowed":"cursor-pointer"])},[(j=(L=a.value)==null?void 0:L.avatar)!=null&&j.src||(V=(B=a.value)==null?void 0:B.user)!=null&&V.avatar||(ee=a.value)!=null&&ee.u_profile_image?(te(),oe("img",{key:0,src:((J=(W=a.value)==null?void 0:W.avatar)==null?void 0:J.src)??((K=a.value)==null?void 0:K.u_profile_image)??((me=(le=a.value)==null?void 0:le.user)==null?void 0:me.avatar),class:"w-6 h-6 object-cover rounded-full",alt:"",onClick:M},null,8,BG)):(pe=a.value)!=null&&pe.u_full_name||(P=a.value)!=null&&P.name?(te(),oe("abbr",{key:1,title:(ve=a.value)==null?void 0:ve.u_full_name,onClick:M,class:"w-6 aspect-square rounded-full text-[10px] bg-bg-surface font-semibold text-text-primary flex items-center justify-center",style:Xi({backgroundColor:((X=a.value)==null?void 0:X.u_full_name)??((De=a.value)==null?void 0:De.title)?be(WS)({name:((Fe=a.value)==null?void 0:Fe.u_full_name)??((Re=a.value)==null?void 0:Re.title),_id:(U=a.value)==null?void 0:U._id}):""})},tt(be(qS)(((Y=a.value)==null?void 0:Y.u_full_name)??((ae=a.value)==null?void 0:ae.name))),13,UG)):(te(),oe("abbr",{key:2,title:(we=a.value)==null?void 0:we.title,onClick:M,class:"w-6 min-w-6 h-6 bg-bg-body border border-border rounded-full flex justify-center items-center shadow-sm"},x[3]||(x[3]=[$("i",{class:"fa-regular fa-user text-xs"},null,-1)]),8,HG)),E.name?(te(),oe("span",VG,tt((((se=a.value)==null?void 0:se.name)||((Me=a.value)==null?void 0:Me.title)||((ze=a.value)==null?void 0:ze.u_full_name))??"unAssigned"),1)):yt("",!0)],2)):(te(),oe("button",{key:1,type:"button",class:$e(["inline-flex items-center gap-2 rounded-full border border-border px-1 py-1 text-xs bg-bg-dropdown cursor-pointer hover:bg-bg-dropdown-menu-hover transition",be(v)?"cursor-pointer":"cursor-not-allowed"]),onClick:M,disabled:E.disabled||!be(v)},x[4]||(x[4]=[$("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 opacity-70",viewBox:"0 0 24 24",fill:"currentColor"},[$("path",{d:"M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2h6z"})],-1)]),10,QG)),(te(),mn(Hp,{to:"body"},[l.value?(te(),oe("div",{key:0,ref_key:"menuRef",ref:d,class:"z-[9999] w-60 rounded-md border border-border bg-bg-dropdown shadow-xl",style:Xi(g.value),onClick:x[1]||(x[1]=qi(()=>{},["stop"]))},[$("div",_G,[lo($("input",{ref_key:"searchRef",ref:u,"onUpdate:modelValue":x[0]||(x[0]=Te=>h.value=Te),type:"text",placeholder:"Add people by name or email",class:"w-full rounded-md border border-border h-[30px] bg-bg-input px-3 outline-none text-xs"},null,512),[[na,h.value]])]),$("ul",YG,[(te(!0),oe(rt,null,ri(y.value,Te=>{var Le,Ne,qe;return te(),oe("li",{key:Te._id??"unassign",onClick:qi(je=>N(Te),["stop"]),class:"flex items-center justify-between px-4 py-2 hover:bg-bg-dropdown-menu-hover cursor-pointer group"},[$("div",qG,[(Le=Te==null?void 0:Te.user)!=null&&Le.avatar?(te(),oe("img",{key:0,src:(Ne=Te==null?void 0:Te.user)==null?void 0:Ne.avatar,class:"w-6 h-6 rounded-full object-cover",alt:""},null,8,GG)):Te.name&&Te._id?(te(),oe("div",{key:1,class:"w-6 min-w-6 aspect-square border-border border rounded-full text-xs font-semibold text-text-primary flex items-center justify-center",style:Xi({backgroundColor:Te!=null&&Te.email?be(WS)({name:Te.name,email:Te.email,_id:Te==null?void 0:Te._id}):""})},tt(be(qS)(Te.name)),5)):(te(),oe("div",$G,x[5]||(x[5]=[$("i",{class:"fa-regular fa-user text-xs"},null,-1)]))),$("div",KG,[$("div",JG,tt(Te.name||Te.title),1),$("div",ZG,tt(Te==null?void 0:Te.role_title),1)])]),$("div",XG,[Te._id&&((qe=a.value)==null?void 0:qe._id)===Te._id?(te(),oe("span",e7," Unassign ")):Te._id==null?(te(),oe("span",t7)):(te(),oe("span",i7," Assign to "))])],8,WG)}),128)),y.value.length?yt("",!0):(te(),oe("li",n7,"No matches"))])],4)):yt("",!0)]))],544)}}}),o7=(r,e={})=>_n({queryKey:["comments",r],queryFn:({signal:t})=>Hi({url:`workspace/cards/${be(r)}/comments`,method:"GET",signal:t}),...e,enabled:!!be(r)}),a7=(r={})=>Oi({key:["add-comment"]},{mutationFn:e=>Hi({url:`workspace/cards/${e.id}/comments`,method:"POST",data:e.payload}),...r}),l7=(r={})=>Oi({key:["delete-comment"]},{mutationFn:e=>Hi({url:`/workspace/comments/${e.id}`,method:"DELETE",data:e.payload}),...r}),h7=(r={})=>Oi({key:["update-comment"]},{mutationFn:e=>Hi({url:`workspace/comments/${e.id}`,method:"PUT",data:e.payload}),...r}),u7=(r,e={})=>_n({queryKey:["cardDetail",r],queryFn:({signal:t})=>Hi({url:`/workspace/card/${be(r)}`,method:"GET",signal:t}),...e,enabled:!!be(r)}),c7=["aria-selected","tabindex","onClick","onMouseenter"],d7=Ai({__name:"SwitchTab",props:{modelValue:{},options:{},size:{default:"md"},disabled:{type:Boolean,default:!1},beforeChange:{}},emits:["update:modelValue"],setup(r,{emit:e}){const t=r,i=e,n=Pe(null),s=Pe([]);function o(v,M){v&&(s.value[M]=v)}const a=Pe(null),l=Pe(0),h=Pe(0);function u(){const v=n.value;if(!v)return;const M=Math.max(0,t.options.findIndex(T=>T.value===t.modelValue)),S=s.value[M];if(!S)return;const b=v.getBoundingClientRect(),C=S.getBoundingClientRect();l.value=C.left-b.left,h.value=C.width}const c=Ce(()=>({width:`${h.value}px`,transform:`translateX(${l.value}px)`}));function d(v){t.disabled||t.beforeChange&&t.beforeChange(v)===!1||v!==t.modelValue&&i("update:modelValue",v)}function f(v){if(t.disabled||v.key!=="ArrowLeft"&&v.key!=="ArrowRight")return;v.preventDefault();const M=t.options.length,b=(Math.max(0,t.options.findIndex(C=>C.value===t.modelValue))+(v.key==="ArrowRight"?1:-1)+M)%M;i("update:modelValue",t.options[b].value)}let g=null;function m(){n.value&&(g=new ResizeObserver(()=>u()),g.observe(n.value)),window.addEventListener("resize",u)}function y(){g==null||g.disconnect(),g=null,window.removeEventListener("resize",u)}return ir(async()=>{await en(),m(),u()}),br(y),Qt(()=>[t.modelValue,t.options],async()=>{await en(),u()},{deep:!0}),(v,M)=>(te(),oe("div",{class:"relative w-full select-none overflow-x-auto",role:"tablist",onKeydown:f},[$("div",{ref_key:"trackRef",ref:n,class:$e(["flex w-full gap-2 border-b border-border",v.disabled?"opacity-60 pointer-events-none":""])},[(te(!0),oe(rt,null,ri(v.options,(S,b)=>(te(),oe("button",{key:S.value,ref_for:!0,ref:C=>o(C,b),role:"tab","aria-selected":v.modelValue===S.value,tabindex:v.modelValue===S.value?0:-1,onClick:C=>d(S.value),onMouseenter:C=>a.value=b,onMouseleave:M[0]||(M[0]=C=>a.value=null),class:$e(["relative px-3 py-2 rounded-md text-sm font-medium transition-colors text-text-secondary hover:text-text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-accent/40",v.modelValue===S.value?"text-text-primary":""])},tt(S.label),43,c7))),128))],2),$("div",{class:"absolute bottom-0 h-[2px] bg-accent rounded-full transition-[transform,width] duration-300",style:Xi(c.value),"aria-hidden":"true"},null,4)],32))}}),p7=kl(d7,[["__scopeId","data-v-62dc1755"]]),f7={key:0,class:"flex items-center justify-center py-20"},g7={class:"flex-1 overflow-y-auto py-6 px-6"},m7={class:"flex flex-col gap-5"},y7={class:"capitalize"},v7=["onKeydown"],M7=["innerHTML"],S7={key:1,class:"opacity-60"},C7={key:"tab-details",class:"space-y-6"},b7={class:"grid grid-cols-2 gap-4 text-sm"},I7={class:"rounded-xl bg-orchit-white/5 border border-orchit-white/10 p-4"},D7={class:"mt-1 font-medium"},T7={class:"rounded-xl bg-orchit-white/5 border border-orchit-white/10 p-4"},w7={class:"mt-1 font-medium"},x7={class:"rounded-2xl border border-orchit-white/10 bg-orchit-white/5 p-4 grid grid-cols-1 sm:grid-cols-2 gap-4"},N7={class:"space-y-2"},A7={class:"space-y-2"},E7={class:"space-y-2"},k7={class:"h-8 px-3 flex items-center gap-2 rounded-lg bg-bg-input border border-orchit-white/10"},L7={class:"space-y-2"},z7={key:0,class:"text-xs text-red-400 mt-1"},O7={key:0,class:"space-y-2 sm:col-span-1"},R7={class:"text-xs uppercase tracking-wider text-text-secondary"},j7={key:"tab-history"},P7={class:"relative border-l border-orchit-white/10 pl-5 space-y-4 ml-1"},F7={class:"rounded-xl bg-orchit-white/5 border border-orchit-white/10 p-3 hover:bg-orchit-white/7 transition"},B7={class:"font-semibold"},U7={class:"font-semibold"},H7={key:"tab-comments",class:"space-y-4"},V7={class:"flex items-center gap-3 mb-2"},Q7={class:"h-8 w-8 rounded-full bg-accent/15 text-accent flex items-center justify-center text-xs font-semibold"},_7={class:"flex-1"},Y7={class:"text-sm font-medium"},W7={class:"text-xs text-text-secondary"},q7={key:0,class:"flex items-center gap-2"},G7=["onClick"],$7=["onClick"],K7={class:"flex items-center gap-2 justify-end"},J7={key:0,class:"mt-3 grid grid-cols-2 gap-2"},Z7=["href"],X7={class:"text-xs truncate"},e9={class:"rounded-xl border border-orchit-white/10 bg-orchit-white/5 overflow-hidden"},t9={class:"flex items-center justify-between p-2 border-t border-orchit-white/10"},i9={key:"tab-attachments",class:"space-y-3"},n9={class:"text-xs text-text-secondary"},r9={class:"grid sm:grid-cols-2 gap-4"},s9={class:"p-3"},o9={key:0,class:"rounded-lg overflow-hidden"},a9=["src"],l9={key:1,class:"rounded-lg overflow-hidden"},h9=["src"],u9={key:2,class:"h-40 rounded-lg bg-black/5 grid place-items-center"},c9={class:"mt-3"},d9={class:"font-medium truncate"},p9={class:"text-xs text-text-secondary capitalize"},f9={class:"p-3 pt-0"},g9=["href"],m9=Ai({__name:"TaskDetailsModal",props:{modelValue:{type:Boolean,default:!1},cardId:{type:String,default:""},pin:{type:Boolean,default:!1}},emits:["update:modelValue","close"],setup(r,{emit:e}){const{canCreateComment:t,canEditComment:i,canEditCard:n,canAssignCard:s}=RR(),o=r,a=e,l=Pe(o.cardId),{data:h,isLoading:u,isFetching:c,refetch:d}=u7(l),f=Ce(()=>h.value||{}),g=Pe("details"),m=[{label:"Details",value:"details"},{label:"Comments",value:"comments"},{label:"History",value:"history"},{label:"Attachment",value:"attachment"}],y=Pe(!1),v=Pe("");Qt(()=>{var ge;return(ge=f.value)==null?void 0:ge["card-title"]},ge=>{v.value=ge||""},{immediate:!0});const M=Pe(null);function S(){y.value=!0,en(()=>{var ge,ke;(ge=M.value)==null||ge.focus(),(ke=M.value)==null||ke.select()})}function b(){var ge;n.value&&(v.value.trim()||(v.value=((ge=f.value)==null?void 0:ge["card-title"])??""),f.value._id&&R.mutate({card_id:f.value._id,variables:{"card-title":v.value.trim()}}),y.value=!1)}const C=Pe("");Qt(()=>{var ge;return(ge=f.value)==null?void 0:ge["card-description"]},ge=>{C.value=ge||""},{immediate:!0});const T=Pe(!1),k=Pe(null);function N(ge){var Ri,pt;const ke=(Ri=ge==null?void 0:ge.querySelector)==null?void 0:Ri.call(ge,".ProseMirror");if(!ke)return;ke.focus();const ut=(pt=window.getSelection)==null?void 0:pt.call(window),Ii=document.createRange();Ii.selectNodeContents(ke),Ii.collapse(!1),ut==null||ut.removeAllRanges(),ut==null||ut.addRange(Ii)}async function A(){T.value=!0,await en(),N(k.value||void 0)}function E(ge){f.value._id&&R.mutate({card_id:f.value._id,attachments:ge??[],variables:{"card-description":C.value}}),T.value=!1}function x(ge){var ut;if(!T.value)return;const ke=ge.target;(ut=k.value)!=null&&ut.contains(ke)||E()}ir(()=>document.addEventListener("mousedown",x)),br(()=>document.removeEventListener("mousedown",x));const D=fs({posted_on:""}),z=Pe("");Qt(()=>f.value,ge=>{ge&&(D.posted_on=ge.posted_on??ge.created_at??new Date().toISOString(),z.value=ge==null?void 0:ge.workspace_id)},{immediate:!0});const w=Ce({get:()=>D.posted_on?new Date(D.posted_on).toISOString().slice(0,10):"",set:ge=>{D.posted_on=new Date(ge+"T00:00:00").toISOString()}}),{data:O,isPending:L}=bG(Ce(()=>{var ge;return(ge=h.value)==null?void 0:ge.workspace_id})),j=Pe("");Qt(()=>{var ge;return(ge=h.value)==null?void 0:ge.workspace_lane_id},ge=>{ge&&(j.value=ge)},{immediate:!0});const B=Ce(()=>((O==null?void 0:O.value)??[]).map(ge=>{var ke;return{_id:ge._id,title:((ke=ge==null?void 0:ge.variables)==null?void 0:ke["lane-title"])??String(ge._id)}}));function V(ge){n.value&&(j.value=ge,f.value._id&&R.mutate({card_id:f.value._id,workspace_lane_id:ge}))}const ee=Pe({startDate:null,endDate:null});Qt(()=>{var ge,ke;return[(ge=f.value)==null?void 0:ge["start-date"],(ke=f.value)==null?void 0:ke["end-date"]]},([ge,ke])=>{ee.value={startDate:ge||null,endDate:ke||null}},{immediate:!0});const W=Ce(()=>ee!=null&&ee.value.startDate&&ee.value.endDate&&ee.value.endDate<ee.value.startDate?"End date cannot be before start date":""),J=new Date().toISOString().split("T")[0],K=ge=>{n.value&&f.value._id&&R.mutate({card_id:f.value._id,variables:{"start-date":ge}})},le=ge=>{n.value&&f.value._id&&R.mutate({card_id:f.value._id,variables:{"end-date":ge}})},me=Ce(()=>{var ge;return(ge=f.value)==null?void 0:ge.assigned_to}),pe=ge=>{s.value&&f.value._id&&R.mutate({card_id:f.value._id,seat_id:ge==null?void 0:ge._id})},P=Pe([]),ve=Ce(()=>o.cardId),{data:X}=o7(ve,{enabled:Ce(()=>!!o.cardId&&o.modelValue)});Qt(()=>X.value,ge=>{P.value=(ge==null?void 0:ge.comments)||[]});const{mutate:De,isPending:Fe}=a7({onSuccess:ge=>{Re.value="",_.value=[],P.value=[...P.value,ge]}}),Re=Pe(""),U=ge=>(ge??"").split(" ").map(ke=>ke[0]).filter(Boolean).slice(0,2).join("").toUpperCase(),Y=ge=>ge?new Date(ge).toLocaleString():"",{data:ae}=gz(),we=ge=>{var ke;return((ke=ge==null?void 0:ge.created_by)==null?void 0:ke._id)===ae.value},se=Pe(null),Me=Pe(""),{mutate:ze,isPending:Te}=h7(),{mutate:Le}=l7();function Ne(ge){se.value=ge._id,Me.value=ge.comment_text??""}function qe(){se.value=null,Me.value="",y.value=!1}function je(ge){const ke=Me.value.trim();if(!ke||!i.value)return;const ut=P.value.findIndex(Ri=>Ri._id===ge._id),Ii=ut>-1?{...P.value[ut]}:null;ut>-1&&(P.value[ut]={...P.value[ut],comment_text:ke}),ze({id:ge._id,payload:{comment_text:ke}},{onError:()=>{ut>-1&&Ii&&(P.value[ut]=Ii)},onSuccess:Ri=>{ut>-1&&(P.value[ut]=Ri??P.value[ut]),qe()}})}function Qe(ge){const ke=P.value.findIndex(Ii=>Ii._id===ge._id),ut=ke>-1?P.value[ke]:null;ke>-1&&P.value.splice(ke,1),Le({id:ge._id},{onError:()=>{ut&&P.value.splice(ke,0,ut)}})}const at=Ce(()=>{var ge;return(((ge=f.value)==null?void 0:ge.attachments)??[]).map(ke=>{var ut;return{_id:ke._id??ke.id??((ut=crypto.randomUUID)==null?void 0:ut.call(crypto))??Math.random(),name:ke.name??ke.filename??"file",url:ke.url,kind:(ke.type??ke.kind??"").toLowerCase().includes("image")?"image":(ke.type??ke.kind??"").toLowerCase().includes("video")?"video":"file"}})}),dt=rv(),R=zR({onSuccess:()=>{dt.invalidateQueries({queryKey:["backlog-list"]}),dt.invalidateQueries({queryKey:["tasks"]})}}),_=Pe([]),{mutate:de}=gR({onSuccess:ge=>{_.value=[ge]}});function Ie(ge){const ke=ge.target.files;Array.from(ke).forEach(ut=>{const Ii=new FormData;Ii.append("file",ut),de(Ii)})}function Ee(){const ge=Re.value.trim();!ge&&!_.value.length||t.value&&f.value._id&&De({id:f.value._id,payload:{comment_text:ge,attachments:_.value.map(ke=>({name:ke.data.name,url:ke.data.url}))}})}const Ae=fs({}),ht=()=>{var ge;(ge=h==null?void 0:h.value)!=null&&ge.variables&&(h.value.variables??[]).forEach(ut=>{var Ri,pt;if(!ut||ut.type!=="Select")return;const Ii=Array.isArray(ut.data)&&ut.data.length?((Ri=ut.data[0])==null?void 0:Ri.value)??((pt=ut.data[0])==null?void 0:pt._id)??ut.data[0]:void 0;Ae[ut.slug]=ut.value??Ae[ut.slug]??Ii??null})};ir(ht),Qt(()=>h.value,ht,{deep:!0});function vi(ge,ke){var Ii,Ri;Ae[ke]=ge,((Ri=(((Ii=h.value)==null?void 0:Ii.variables)??[]).find(pt=>pt.slug===ke))==null?void 0:Ri.value)!==ge&&f.value._id&&R.mutate({card_id:f.value._id,variables:{[ke]:ge}})}function wt(){a("update:modelValue",!1),a("close"),g.value="details"}const Yt=ge=>{ge.key==="Escape"&&o.modelValue&&wt()};return Qt(()=>o.cardId,ge=>{ge&&(l.value=ge,d())}),Qt(()=>o.modelValue,ge=>{ge?document.body.style.overflow="hidden":document.body.style.overflow=""}),ir(()=>{document.addEventListener("keydown",Yt),o.modelValue&&(document.body.style.overflow="hidden")}),br(()=>{document.removeEventListener("keydown",Yt),document.body.style.overflow=""}),(ge,ke)=>(te(),mn(LH,{modelValue:r.modelValue,"onUpdate:modelValue":wt,class:"!pt-0"},{default:pi(()=>[be(u)||be(c)?(te(),oe("div",f7,ke[6]||(ke[6]=[$("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-accent"},null,-1)]))):be(h)?(te(),oe(rt,{key:1},[ke[23]||(ke[23]=$("div",{class:"sticky top-0 z-1 backdrop-blur border-b border-orchit-white/5 px-6 pb-4 flex items-center justify-between"},[$("h5",{id:"modal-title",class:"text-lg font-semibold tracking-tight"},"Task Details")],-1)),$("div",g7,[$("div",m7,[$("div",y7,[st(tl,{name:"fade-scale",mode:"out-in"},{default:pi(()=>[y.value?lo((te(),oe("input",{key:"title-edit",ref_key:"titleInput",ref:M,"onUpdate:modelValue":ke[0]||(ke[0]=ut=>v.value=ut),onBlur:b,onKeydown:[Cl(qi(b,["prevent"]),["enter"]),Cl(qi(qe,["prevent"]),["esc"])],class:"w-full text-2xl font-semibold rounded-xl px-3 py-2 bg-orchit-white/5 border border-orchit-white/10 focus:outline-none focus:ring-2 focus:ring-accent/40 transition",type:"text","aria-label":"Edit title"},null,40,v7)),[[na,v.value]]):(te(),oe("h1",{key:"title-view",class:$e(["text-2xl font-semibold tracking-tight rounded-lg px-2 py-1 transition",be(n)?"cursor-text hover:bg-orchit-white/5":""]),onClick:ke[1]||(ke[1]=ut=>be(n)?S():null),"aria-label":"Card title"},tt(v.value||"Untitled"),3))]),_:1})]),$("div",null,[ke[7]||(ke[7]=$("h3",{class:"mb-2 text-base font-semibold tracking-wide px-1"},"Description",-1)),st(tl,{name:"fade-scale",mode:"out-in"},{default:pi(()=>[T.value?(te(),oe("div",{key:"desc-edit",ref_key:"descEditorWrap",ref:k,class:"rounded-xl overflow-hidden border border-orchit-white/10 shadow-sm"},[st(SG,{modelValue:C.value,"onUpdate:modelValue":ke[2]||(ke[2]=ut=>C.value=ut),onFocusOut:E},null,8,["modelValue"])],512)):(te(),oe("div",{key:"desc-view",class:"text-[15px] leading-6 text-text-secondary whitespace-pre-wrap cursor-text rounded-xl px-4 py-3 border border-orchit-white/10 bg-orchit-white/5 hover:border-orchit-white/20 transition",onClick:A},[C.value?(te(),oe("div",{key:0,innerHTML:C.value},null,8,M7)):(te(),oe("span",S7,"Click to add a description"))]))]),_:1})]),st(p7,{modelValue:g.value,"onUpdate:modelValue":ke[3]||(ke[3]=ut=>g.value=ut),options:m,size:"md"},null,8,["modelValue"]),st(tl,{name:"section",mode:"out-in"},{default:pi(()=>{var ut,Ii,Ri;return[g.value==="details"?(te(),oe("section",C7,[$("div",b7,[$("div",I7,[ke[8]||(ke[8]=$("div",{class:"text-xs uppercase tracking-wider text-text-secondary"},"Posted On",-1)),$("div",D7,tt(w.value),1)]),$("div",T7,[ke[9]||(ke[9]=$("div",{class:"text-xs uppercase tracking-wider text-text-secondary"},"ID",-1)),$("div",w7,tt(f.value["card-code"]),1)])]),$("div",x7,[$("div",N7,[ke[10]||(ke[10]=$("div",{class:"text-xs uppercase tracking-wider text-text-secondary"},"Lane",-1)),st(YS,{size:"sm",options:B.value,placeholder:"Select lane",allowCustom:!1,"model-value":j.value,"onUpdate:modelValue":V,disabled:!be(n),loading:be(L)},null,8,["options","model-value","disabled","loading"])]),$("div",A7,[ke[11]||(ke[11]=$("div",{class:"text-xs uppercase tracking-wider text-text-secondary"},"Assign",-1)),st(jR,{name:!0,workspaceId:be(h).workspace_id,onAssign:pe,assigneeId:me.value,seat:f.value.seat,disabled:!be(s)},null,8,["workspaceId","assigneeId","seat","disabled"])]),r.pin?yt("",!0):(te(),oe(rt,{key:0},[$("div",E7,[ke[13]||(ke[13]=$("div",{class:"text-xs uppercase tracking-wider text-text-secondary"},"Start Date",-1)),$("div",k7,[ke[12]||(ke[12]=$("i",{class:"fa-regular fa-calendar"},null,-1)),st(yx,{placeholder:"Set start date",class:"w-full","model-value":ee.value.startDate,"emit-as":"ymd","onUpdate:modelValue":K,"min-date":be(J)},null,8,["model-value","min-date"])])]),$("div",L7,[ke[15]||(ke[15]=$("div",{class:"text-xs uppercase tracking-wider text-text-secondary"},"Target End",-1)),$("div",{class:$e(["h-8 px-3 flex items-center gap-2 rounded-lg bg-bg-input border transition-colors",W.value?"border-red-500":"border-orchit-white/10"])},[ke[14]||(ke[14]=$("i",{class:"fa-regular fa-calendar"},null,-1)),st(yx,{placeholder:"Set end date",class:"w-full","model-value":ee.value.endDate,"emit-as":"ymd","onUpdate:modelValue":le,"min-date":ee.value.startDate||be(J)},null,8,["model-value","min-date"])],2),W.value?(te(),oe("p",z7,tt(W.value),1)):yt("",!0)])],64)),(ut=be(h))!=null&&ut.variables?(te(!0),oe(rt,{key:1},ri((Ii=be(h))==null?void 0:Ii.variables,(pt,_r)=>(te(),oe(rt,{key:pt.slug||`var-${_r}`},[(pt==null?void 0:pt.type)==="Select"?(te(),oe("div",O7,[$("div",R7,tt(pt.title),1),st(YS,{size:"sm",options:pt==null?void 0:pt.data.map(Yr=>({_id:Yr,title:Yr})),placeholder:"Select option",allowCustom:!1,"model-value":Ae[pt.slug],"onUpdate:modelValue":Yr=>vi(Yr,pt.slug)},null,8,["options","model-value","onUpdate:modelValue"])])):yt("",!0)],64))),128)):yt("",!0)])])):g.value==="history"?(te(),oe("section",j7,[$("div",null,[ke[18]||(ke[18]=$("h3",{class:"text-sm font-semibold tracking-wide mb-3"},"History",-1)),$("ol",P7,[(te(!0),oe(rt,null,ri(f.value.history,(pt,_r)=>(te(),oe("li",{key:_r,class:"group"},[ke[17]||(ke[17]=$("span",{class:"absolute -left-[5px] top-0 w-2 h-2 rounded-full bg-accent/70 ring-4 ring-accent/10"},null,-1)),$("div",F7,[$("span",B7,tt(pt.user.u_full_name),1),ke[16]||(ke[16]=$("span",{class:"text-text-secondary"}," changed ",-1)),$("span",U7,tt(pt.field_name),1)])]))),128))])])])):g.value==="comments"?(te(),oe("section",H7,[(te(!0),oe(rt,null,ri(P.value??[],pt=>{var _r,Yr,bo;return te(),oe("div",{key:pt._id,class:"rounded-xl border border-orchit-white/10 bg-orchit-white/5 p-4 hover:bg-orchit-white/7 transition"},[$("div",V7,[$("div",Q7,tt(U((_r=pt.created_by)==null?void 0:_r.u_full_name)),1),$("div",_7,[$("div",Y7,tt((Yr=pt.created_by)==null?void 0:Yr.u_full_name),1),$("div",W7,tt(Y(pt.created_at)),1)]),we(pt)?(te(),oe("div",q7,[se.value!==pt._id?(te(),oe("button",{key:0,class:"text-xs text-accent hover:underline",onClick:xr=>Ne(pt)},"Edit",8,G7)):yt("",!0),$("button",{class:"text-xs text-red-400 hover:underline",onClick:xr=>Qe(pt)},"Delete",8,$7)])):yt("",!0)]),st(tl,{name:"fade",mode:"out-in"},{default:pi(()=>[se.value!==pt._id?(te(),oe("p",{key:`c-view-${pt._id}`,class:"text-[15px] leading-6"},tt(pt.comment_text),1)):(te(),oe("div",{key:`c-edit-${pt._id}`,class:"space-y-2"},[lo($("textarea",{"onUpdate:modelValue":ke[4]||(ke[4]=xr=>Me.value=xr),rows:"3",class:"w-full p-3 rounded-lg bg-bg-input/80 border border-orchit-white/10 focus:ring-2 focus:ring-accent/40 outline-none"},null,512),[[na,Me.value]]),$("div",K7,[st(Hu,{variant:"secondary",size:"sm",onClick:qe},{default:pi(()=>ke[19]||(ke[19]=[Ni("Cancel")])),_:1,__:[19]}),st(Hu,{class:"btn",size:"sm",onClick:xr=>je(pt),disabled:!Me.value.trim()||be(Te)},{default:pi(()=>[Ni(tt(be(Te)?"Saving":"Save"),1)]),_:2},1032,["onClick","disabled"])])]))]),_:2},1024),(bo=pt==null?void 0:pt.attachments)!=null&&bo.length?(te(),oe("div",J7,[(te(!0),oe(rt,null,ri(pt.attachments,(xr,xv)=>(te(),oe("a",{key:xv,href:xr.url,target:"_blank",class:"group flex items-center gap-2 rounded-lg border border-orchit-white/10 bg-orchit-white/5 px-2 py-1 hover:bg-orchit-white/10 transition"},[ke[20]||(ke[20]=$("i",{class:"fa-regular fa-file text-text-secondary group-hover:text-text-primary transition"},null,-1)),$("span",X7,tt(xr==null?void 0:xr.name),1)],8,Z7))),128))])):yt("",!0)])}),128)),$("div",e9,[lo($("textarea",{"onUpdate:modelValue":ke[5]||(ke[5]=pt=>Re.value=pt),rows:"3",class:"w-full p-3 bg-transparent outline-none text-sm",placeholder:"Write a comment"},null,512),[[na,Re.value]]),$("div",t9,[$("input",{type:"file",multiple:"",onChange:Ie,class:"text-xs text-text-secondary file:mr-3 file:px-3 file:py-1.5 file:rounded-md file:border file:border-orchit-white/10 file:bg-orchit-white/10 hover:file:bg-orchit-white/15 file:text-text-primary transition"},null,32),st(Hu,{variant:"primary",size:"sm",onClick:Ee,disabled:!Re.value.trim()&&!_.value.length},{default:pi(()=>[Ni(tt(be(Fe)?"Posting":"Post"),1)]),_:1},8,["disabled"])])])])):(te(),oe("section",i9,[$("div",n9," Files attached to this "+tt(((Ri=f.value)==null?void 0:Ri.type)??"item")+". ",1),$("div",r9,[(te(!0),oe(rt,null,ri(at.value,pt=>(te(),oe("div",{key:pt._id,class:"rounded-2xl overflow-hidden border border-orchit-white/10 bg-orchit-white/5 hover:bg-orchit-white/8 transition group"},[$("div",s9,[pt.kind==="image"?(te(),oe("div",o9,[$("img",{src:pt.url,class:"w-full h-40 object-cover group-hover:scale-[1.02] transition"},null,8,a9)])):pt.kind==="video"?(te(),oe("div",l9,[$("video",{src:pt.url,controls:"",class:"w-full h-40 object-cover"},null,8,h9)])):(te(),oe("div",u9,ke[21]||(ke[21]=[$("i",{class:"fa-regular fa-file text-3xl text-text-secondary"},null,-1)]))),$("div",c9,[$("div",d9,tt(pt.name),1),$("div",p9,tt(pt.kind),1)])]),$("div",f9,[$("a",{href:pt.url,target:"_blank",rel:"noopener",class:"w-full inline-flex items-center justify-center gap-2 h-9 rounded-lg bg-accent text-orchit-white text-sm hover:opacity-90 transition"},ke[22]||(ke[22]=[$("i",{class:"fa-regular fa-arrow-up-right-from-square"},null,-1),Ni(" View ")]),8,g9)])]))),128))])]))]}),_:1})])])],64)):yt("",!0)]),_:1},8,["modelValue"]))}}),y9=kl(m9,[["__scopeId","data-v-4548b43f"]]);function PR(r){switch(r?r.trim().toLowerCase():""){case"pending":return"bg-amber-600/10 text-amber-600";case"in progress":return"bg-blue-600/10 text-blue-600  border-blue-600 ";case"to do":return"bg-gray-600/10 text-gray-600 border-gray-600";case"todo":return"bg-gray-600/10 text-gray-600 border-gray-600";case"done":return"bg-green-600/10 text-green-600  border-green-600";case"accepted":return"bg-green-600/10 text-green-600  ";case"rejected":return"bg-red-600/10 text-red-600"}}const v9={class:"w-full text-text-primary bg-bg-body"},M9={class:"max-w-[1440px] w-full mx-auto md:px-15 md:py-20 px-5 py-10"},S9={key:0,class:"flex py-10 justify-center items-center text-sm text-text-secondary"},C9={class:"flex -space-x-2"},b9=Ai({__name:"Task",setup(r){const{data:e}=gz(),{data:t,isPending:i}=X5(e),n=rv(),s=Pe(!1),o=Pe(""),a=zR({onSuccess:()=>{n.invalidateQueries({queryKey:["tasks"]})}}),l=(d,f)=>{var g;f&&a.mutate({card_id:f,assigned_to:(g=d==null?void 0:d.user_info)==null?void 0:g._id})},h=[{key:"variables",label:"Task name",render:({value:d})=>Wi("span",{class:"text-sm text-text-primary capitalize"},d["card-title"])},{key:"variables",label:"Status",render:({value:d})=>Wi("div",{class:` capitalize flex items-center inline px-2 py-1 rounded-md  gap-2 ${PR(d["card-status"])} `},[Wi("span",d["card-status"])])},{key:"variables",label:"Due Date",render:({value:d})=>Wi("div",{class:" capitalize flex items-center gap-2 "},[Wi("span",d["end-date"])])}],u=d=>{d.row&&d.row._id&&(o.value=d==null?void 0:d.row._id,s.value=!0)},c=()=>{s.value=!1,o.value=""};return(d,f)=>{var g,m,y;return te(),oe("div",v9,[$("div",M9,[f[3]||(f[3]=$("div",{class:"flex justify-between items-center flex-wrap gap-5 mb-8"},[$("div",{class:"flex flex-col gap-2 max-md:gap-1"},[$("h1",{class:"text-2xl font-medium text-text-primary"},"My Tasks"),$("p",{class:"text-sm text-text-secondary"},"View and manage your assigned tasks. ")])],-1)),be(t)&&((g=be(t))==null?void 0:g.length)==0?(te(),oe("div",S9,"No Workspace")):yt("",!0),st(mz,{onRowClick:f[1]||(f[1]=v=>u(v)),columns:h,rows:((y=(m=be(t))==null?void 0:m.data)==null?void 0:y.cards)||[],loading:be(i),skeletonRows:6},{status:pi(({row:v})=>[$("span",{class:$e(["px-3 py-1 rounded-full text-xs font-medium",{"bg-blue-100 text-blue-600":v.status==="In progress","bg-red-100 text-red-600":v.status==="Live","bg-green-100 text-green-600":v.status==="Done"}])},tt(v.status),3)]),team:pi(({row:v})=>[$("div",C9,[(te(!0),oe(rt,null,ri(v.Roles,(M,S)=>(te(),oe("span",{key:S,class:"w-6 h-6 flex items-center justify-center rounded-full bg-gray-200 text-xs"},tt(M),1))),128))])]),assignee:pi(({row:v})=>[$("div",{class:"flex justify-center",onClick:f[0]||(f[0]=qi(()=>{},["stop"]))},[st(jR,{assigneeId:v.assigned_to,seat:v.seat,onAssign:M=>l(M,v._id)},null,8,["assigneeId","seat","onAssign"])])]),_:1},8,["rows","loading"])]),s.value?(te(),mn(y9,{key:0,modelValue:s.value,"onUpdate:modelValue":f[2]||(f[2]=v=>s.value=v),cardId:o.value,onClose:c},null,8,["modelValue","cardId"])):yt("",!0)])}}}),I9={class:"flex items-center"},D9=["src","alt","onClick"],T9=["onClick","alt"],w9={__name:"Collaborators",props:{avatars:{type:Array,default:()=>[]},maxVisible:{type:Number,default:4},size:{type:String,default:"8"},image:{type:Boolean,default:!0}},setup(r){const e=r,t=new Map,i=s=>(t.has(s)||t.set(s,qS(s)),t.get(s)),n=Ce(()=>{const s=e.avatars.length,o=e.maxVisible,a=e.avatars.slice(0,o),l=s>o?s-o:0;let h="-space-x-2";const u=a.length;return u===3?h="-space-x-3":u===4?h="-space-x-4":u===5?h="-space-x-2.5":u>5&&(h="-space-x-5"),{visible:a,extra:l,overlap:h}});return(s,o)=>(te(),oe("div",I9,[$("div",{class:$e(["flex",n.value.overlap])},[(te(!0),oe(rt,null,ri(n.value.visible,(a,l)=>(te(),oe(rt,{key:l},[r.image&&((a==null?void 0:a.logo)??(a==null?void 0:a.image)??(a==null?void 0:a.profile_image))?(te(),oe("img",{key:0,src:(a==null?void 0:a.logo)??(a==null?void 0:a.image)??(a==null?void 0:a.profile_image),alt:a.name,loading:"lazy",decoding:"async",onClick:h=>{var u;return(u=a.onclick)==null?void 0:u.call(a)},class:$e(`w-${r.size} h-${r.size} rounded-full border-2 border-white shadow-md object-cover cursor-pointer`)},null,10,D9)):(te(),oe("div",{key:1,onClick:h=>{var u;return(u=a.onclick)==null?void 0:u.call(a)},alt:a.name,style:Xi({backgroundColor:be(WS)({email:a==null?void 0:a.email})}),class:$e(`w-${r.size} h-${r.size} rounded-full text-text-primary flex justify-center items-center bg-amber-600 border-2 border-border shadow-md object-cover cursor-pointer`)},tt(i(a==null?void 0:a.name)),15,T9))],64))),128)),n.value.extra>0?(te(),oe("div",{key:0,class:$e(["flex items-center justify-center text-xs font-medium bg-gray-300 text-text-secondary border-2 border-white shadow-md rounded-full",`w-${r.size} h-${r.size}`])}," +"+tt(n.value.extra),3)):yt("",!0)],2)]))}},x9={class:"w-full text-text-primary bg-bg-body"},N9={class:"max-w-[1440px] w-full mx-auto md:px-15 md:py-20 px-5 py-10"},A9={class:"flex justify-between items-center flex-wrap gap-5 mb-8"},E9={key:0,class:"flex py-10 justify-center items-center text-sm text-text-secondary"},k9={class:"flex -space-x-2"},L9="abc123",z9=Ai({__name:"Users",setup(r){const e=ib(()=>ei(()=>import("./InviteUsers-Op6wrAsl.js"),__vite__mapDeps([0,1,2]))),{data:t}=$5(),{data:i,isLoading:n}=tH(t),s=[{key:"variables",label:"Name",render:({row:u})=>Wi("div",{class:" capitalize flex flex-col items-start gap-1"},[Wi("span",{class:"text-sm text-text-primary"},u.u_full_name),Wi("p",{class:"max-w-50 line-clamp-1 text-xs lowercase text-text-secondary"},u.u_email)])},{key:"variables",label:"Spaces",render:({row:u})=>Wi(w9,{avatars:u.workspaces||[],image:!0,maxVisible:3})},{key:"variables",label:"Role",render:({row:u})=>Wi("div",{class:" capitalize flex items-center gap-2"},[Wi("span",u.role_title)])},{key:"variables",label:"Status",render:({row:u})=>Wi("div",{class:`capitalize flex items-center gap-2 rounded-md inline w-fit px-2 py-1 ${PR(u==null?void 0:u.seat_status)}`},[Wi("span",u.seat_status)])}],o=Pe(!1);function a(){o.value=!0}function l(u){console.log("Invites sent:",u)}const h=()=>{};return(u,c)=>{var d,f,g,m;return te(),oe(rt,null,[$("div",x9,[$("div",N9,[$("div",A9,[c[3]||(c[3]=$("div",{class:"flex flex-col gap-2 max-md:gap-1"},[$("h1",{class:"text-2xl font-medium text-text-primary"},"Users"),$("p",{class:"text-sm text-text-secondary"},"Users are anyone whos invited to your organization. ")],-1)),st(Hu,{onClick:c[0]||(c[0]=y=>a())},{default:pi(()=>c[2]||(c[2]=[Ni(" Invite Users")])),_:1,__:[2]})]),be(i)&&((f=(d=be(i))==null?void 0:d.users)==null?void 0:f.length)==0?(te(),oe("div",E9,"No Workspace")):yt("",!0),st(mz,{onRowClick:h,columns:s,rows:((m=(g=be(i))==null?void 0:g.data)==null?void 0:m.users)||[],loading:be(n),skeletonRows:6},{status:pi(({row:y})=>[$("span",{class:$e(["px-3 py-1 rounded-full text-xs font-medium",{"bg-blue-100 text-blue-600":y.status==="pending","bg-red-100 text-red-600":y.status==="rejected","bg-green-100 text-green-600":y.status==="accepted"}])},tt(y.status),3)]),team:pi(({row:y})=>[$("div",k9,[(te(!0),oe(rt,null,ri(y.Roles,(v,M)=>(te(),oe("span",{key:M,class:"w-6 h-6 flex items-center justify-center rounded-full bg-gray-200 text-xs"},tt(v),1))),128))])]),_:1},8,["rows","loading"])])]),st(be(e),{modelValue:o.value,"onUpdate:modelValue":c[1]||(c[1]=y=>o.value=y),defaultWorkspaceId:L9,onInvited:l},null,8,["modelValue"])],64)}}}),O9=async()=>{const{data:r}=await Vr.get("/common/releasenotes");return r.data},R9=(r={})=>_n({queryKey:["common","releasenotes"],queryFn:O9,...r}),j9={class:"py-[40px] lg:py-[80px] px-[15px] w-full float-end release_note_content"},P9={class:"custom_container"},F9={class:"release-notes-container flex flex-col md:flex-row gap-8"},B9={class:"sm:w-[180px] shrink-0"},U9={class:"sticky top-5"},H9={class:"flex flex-col gap-6 pl-2"},V9={class:"flex flex-col gap-1 border-l-2 border-border-input pl-4 ml-1"},Q9=["onClick"],_9={key:0,class:"text-text-secondary text-sm"},Y9={key:1,class:"text-text-secondary text-sm"},W9={class:"min-w-0 flex-1"},q9={key:0,class:"space-y-8"},G9={key:1,class:"flex flex-col items-center justify-center py-20"},$9={key:2,class:"space-y-16"},K9=["id"],J9={class:"mb-6"},Z9={class:"flex items-center gap-3 text-sm text-text-secondary mb-3"},X9={key:0},e8=["innerHTML"],t8=Ai({__name:"ReleaseNote",setup(r){const{data:e,isLoading:t}=R9(),i=Pe(null),n=Ce(()=>e.value?Array.isArray(e.value)?e.value.filter(u=>u&&u._id):[]:[]),s=Ce(()=>{const u={};return n.value.forEach(c=>{const d=c.major_version||"undefined";u[d]||(u[d]=[]),u[d].push(c)}),u});let o=null;const a=Pe(!1),l=()=>{o&&o.disconnect(),o=new IntersectionObserver(u=>{if(a.value)return;const c=u.find(d=>d.isIntersecting);c&&(i.value=c.target.id)},{root:null,rootMargin:"-20% 0px -60% 0px",threshold:0}),n.value.forEach(u=>{const c=document.getElementById(u._id);c&&(o==null||o.observe(c))})};Qt(n,()=>{en(()=>{l(),n.value.length>0&&!i.value&&(i.value=n.value[0]._id)})},{immediate:!0,deep:!0}),kc(()=>{o&&o.disconnect()});const h=u=>{i.value=u;const c=document.getElementById(u);c&&(a.value=!0,c.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{a.value=!1},1e3))};return(u,c)=>(te(),oe("div",j9,[$("div",P9,[$("div",F9,[$("aside",B9,[$("div",U9,[c[0]||(c[0]=$("h2",{class:"text-3xl block mb-5 sm:hidden font-bold text-text-primary"}," Release notes for Current Channel ",-1)),c[1]||(c[1]=$("p",{class:"block sm:hidden mb-4"}," These release notes outline new features, improvements, and non-security updates delivered as part of recent platform updates. Features may be introduced progressively to ensure system stability and optimal performance. ",-1)),c[2]||(c[2]=$("span",{class:"text-xl font-bold mb-6 text-text-primary block"}," In this article ",-1)),$("nav",H9,[(te(!0),oe(rt,null,ri(s.value,(d,f)=>(te(),oe("div",{key:f},[$("h5",{class:$e(["font-bold text-base mb-2 transition-colors",d.some(g=>g._id===i.value)?"text-accent":"text-text-primary"])},tt(f!=="undefined"?`Version${f}`:"Other"),3),$("div",V9,[(te(!0),oe(rt,null,ri(d,g=>(te(),oe("button",{key:g._id,onClick:m=>h(g._id),class:$e(["text-left cursor-pointer py-1 text-sm font-medium transition-colors border-l-2 -ml-[18px] pl-4",[i.value===g._id?"border-accent text-accent":"border-transparent text-text-secondary hover:text-text-primary hover:border-text-secondary"]])},tt(g.release_note_version||g.title),11,Q9))),128))])]))),128)),be(t)?(te(),oe("div",_9," Loading... ")):yt("",!0),!be(t)&&n.value.length===0?(te(),oe("div",Y9," No release notes found. ")):yt("",!0)])])]),$("main",W9,[be(t)?(te(),oe("div",q9,[(te(),oe(rt,null,ri(3,d=>$("div",{key:d,class:"animate-pulse"},c[3]||(c[3]=[$("div",{class:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"},null,-1),$("div",{class:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-full mb-2"},null,-1)]))),64))])):!be(t)&&n.value.length===0?(te(),oe("div",G9,c[4]||(c[4]=[$("p",{class:"text-lg text-text-secondary"}," No release notes available at the moment. ",-1)]))):(te(),oe("div",$9,[c[5]||(c[5]=$("h2",{class:"text-3xl hidden sm:block mb-5 font-bold text-text-primary"}," Release notes for Current Channel ",-1)),c[6]||(c[6]=$("p",{class:"hidden sm:block mb-4"}," These release notes outline new features, improvements, and non-security updates delivered as part of recent platform updates. Features may be introduced progressively to ensure system stability and optimal performance. ",-1)),(te(!0),oe(rt,null,ri(n.value,d=>(te(),oe("article",{key:d._id,id:d._id,class:"scroll-mt-24 border-b border-border-input pb-12 last:border-0"},[$("header",J9,[$("div",Z9,[d.created_at?(te(),oe("span",X9,tt(new Date(d.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})),1)):yt("",!0)]),$("h3",null,tt(d.title),1)]),$("div",{class:"release_note_content prose dark:prose-invert max-w-none text-text-secondary",innerHTML:d.description},null,8,e8)],8,K9))),128))]))])])])]))}}),i8=kl(t8,[["__scopeId","data-v-d62b8e4e"]]),n8=()=>ei(()=>import("./Login-DkyuyD_O.js"),__vite__mapDeps([3,4,5,6,7,8,9,2])),r8=()=>ei(()=>import("./Register-Cj7nZvxG.js"),__vite__mapDeps([10,4,5,6,7,8,9,2])),s8=()=>ei(()=>import("./OtpVerification-DPulG5oD.js"),__vite__mapDeps([11,4,5,6,7,8,9,2])),o8=()=>ei(()=>import("./CreateProfile-CvPEUidK.js"),__vite__mapDeps([12,4,5,6,7,8,9,1,2,13])),a8=()=>ei(()=>import("./ForgotPassword-CNX9WbRG.js"),__vite__mapDeps([14,4,5,6,7,8,9,2])),l8=()=>ei(()=>import("./ResetPassword-BdnTVdVR.js"),__vite__mapDeps([15,4,5,6,7,8,9,2])),h8=()=>ei(()=>import("./FinishProfile-BsXLaZK_.js"),__vite__mapDeps([16,4,5,6,7,8,9])),u8=()=>ei(()=>import("./NotFound-ZE8gd2i_.js"),[]),c8=()=>ei(()=>import("./ModuleDetail-BrVHr18Q.js"),__vite__mapDeps([17,18,19,20,21,22,23,24,25,26])),d8=()=>ei(()=>import("./Plan-B1d6KHWA.js"),__vite__mapDeps([27,7,28,5,29,30,31,21,32,33,18,19,24,25,26,34,35,36,37])),p8=()=>ei(()=>import("./Pin-BiljVpvO.js"),__vite__mapDeps([38,20,21,22,25,18,19,39,40,41,42,43,44,45,46,34,35,36,31,47])),f8=()=>ei(()=>import("./LandingPageLayout-CwGtefEI.js"),__vite__mapDeps([48,8,7,28,5,29,49,50,51,52])),g8=()=>ei(()=>import("./Home-BX3VVlzq.js"),__vite__mapDeps([53,51,1,54,50,55,56])),m8=()=>ei(()=>import("./CreateWorkspace-DtRBX31m.js"),__vite__mapDeps([57,45,28,5,29,58])),y8=()=>ei(()=>import("./WorkspaceLayout-U6nKSOiL.js"),__vite__mapDeps([59,60,49,51,25,21,7,31,30,45,28,5,29,61])),vx=()=>ei(()=>import("./Peak-N-_nwpQh.js"),__vite__mapDeps([62,60,54,7,51,63])),v8=()=>ei(()=>import("./People-C6SZIn21.js"),__vite__mapDeps([64,18,19,54,21,1,20,22,60,50,55,34,35,36,31,65])),M8=()=>ei(()=>import("./Process2-D40LCCta.js"),__vite__mapDeps([66,18,19,67,36,25,21,30,28,5,29,68])),S8=()=>ei(()=>import("./More-DZric6pR.js"),__vite__mapDeps([69,45,43,44,23,31,34,70])),C8=()=>ei(()=>import("./Product-DRIamjwZ.js"),__vite__mapDeps([71,20,21,22,31,18,19,24,25,26,34,35,36,32,33,72])),b8=()=>ei(()=>import("./WorkspaceInvite-DWuFhY74.js"),[]),I8=()=>ei(()=>import("./CompanyInvites-D0C8wneS.js"),[]),D8=()=>ei(()=>import("./LandingPageLayout-0BqSbWx-.js"),__vite__mapDeps([73,6,7,8,9])),Mx=()=>ei(()=>import("./LandingHome-vaBiImGI.js"),__vite__mapDeps([74,7,75])),T8=()=>ei(()=>import("./Pricing-CdgjZiAJ.js"),__vite__mapDeps([76,7,77])),w8=()=>ei(()=>import("./TermsOfServices-0zPzC26e.js"),[]),x8=()=>ei(()=>import("./PrivacyPolicy-Ck8qi9SE.js"),[]),N8=()=>ei(()=>import("./ContactUs-DWbIxbMT.js"),__vite__mapDeps([78,7,79])),A8=()=>ei(()=>import("./BlogList-CN5btKvM.js"),__vite__mapDeps([80,7,81])),E8=()=>ei(()=>import("./BlogDetail-B6qlvGa6.js"),__vite__mapDeps([82,81,7,83])),Sx=()=>ei(()=>import("./KnowledgeCenterView-BHbMrJpc.js"),__vite__mapDeps([84,7,8,85])),k8=[{path:"/",component:D8,children:[{path:"/",name:"landing-home-2",component:Mx,meta:{requiresAuth:!1}},{path:"/home",name:"landing-home",component:Mx,meta:{requiresAuth:!1}},{path:"/pricing",name:"pricing",component:T8,meta:{requiresAuth:!1}},{path:"/terms-of-services",name:"terms-of-services",component:w8,meta:{requiresAuth:!1}},{path:"/privacy-policy",name:"privacy-policy",component:x8,meta:{requiresAuth:!1}},{path:"/contact-us",name:"contact-us",component:N8,meta:{requiresAuth:!1}},{path:"/release-note",name:"release-note",component:i8,meta:{requiresAuth:!1}},{path:"/blogs",name:"blogList",component:A8,meta:{requiresAuth:!1}},{path:"/blog/:id",name:"BlogDetail",component:E8,props:!0,meta:{requiresAuth:!1}}]},{path:"/knowledge-center",component:Sx,children:[{path:"/knowledge-center/:slug",name:"KnowledgeCenter",component:Sx,props:!0,meta:{requiresAuth:!1}}]},{path:"/login",name:"Login",component:n8,meta:{requiresAuth:!1}},{path:"/register",name:"Register",component:r8,meta:{requiresAuth:!1}},{path:"/otp-verification/:email",name:"Otp",component:s8,meta:{requiresAuth:!1}},{path:"/forgot-password",name:"ForgotPassword",component:a8,meta:{requiresAuth:!1}},{path:"/reset-password",name:"ResetPassword",component:l8,meta:{requiresAuth:!1}},{path:"/create-profile",name:"create-profile",component:o8,meta:{requiresAuth:!1}},{path:"/finish-profile",name:"finishProfile",component:h8,meta:{requiresAuth:!0}},{path:"/workspace-invite/:token",name:"workspaceInvite",component:b8,meta:{requiresAuth:!1}},{path:"/space-invite/:token",name:"spaceInvite",component:I8,meta:{requiresAuth:!1}},{path:"/dashboard",component:f8,children:[{path:"",name:"Home",component:g8,meta:{requiresAuth:!0}},{path:"task",name:"task",component:b9,meta:{requiresAuth:!0}},{path:"users",name:"users",component:z9,meta:{requiresAuth:!0}}]},{path:"/create-workspace/:id?",name:"create-workspace",component:m8,props:!0,meta:{requiresAuth:!1}},{path:"/workspace",component:y8,meta:{requiresAuth:!0},children:[{path:"peak/:id/:job_id",name:"peakWithJob",component:vx},{path:"peak/:id",name:"peak",component:vx},{path:"people/:id",name:"people",component:v8},{path:"pin/:id/:module_id",name:"pin",component:p8},{path:"plan/:id",name:"plan",component:d8},{path:"process/:id",name:"process",component:M8},{path:"more/:id",name:"more",component:S8},{path:"more/detail/:id/:module_id",name:"moreDetail",component:c8},{path:":id/:module_id",name:"product",component:C8}]},{path:"/:pathMatch(.*)*",name:"NotFound",component:u8}],kI=V3({history:y3(),routes:k8,scrollBehavior(r,e,t){return t||{top:0,behavior:"smooth"}}});Vr.interceptors.response.use(r=>r,r=>{var e;return((e=r.response)==null?void 0:e.status)===401&&(ez().logout(),kI.replace({name:"Login"})),Promise.reject(r)});kI.beforeEach(async(r,e,t)=>{const i=ez();i.initialized||await i.bootstrap();const n=r.matched.some(s=>s.meta.requiresAuth===!0);if(n&&!i.isAuthenticated)return t({name:"Login"});if(!n&&i.isAuthenticated&&r.name==="Login")return t({name:"Home"});t()});const L8=new pz({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:10*6e4,retry:1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1},mutations:{retry:0}}});var Cx="ej2_instances",z8=0,O8=!1;function Xm(r,e){var t=e;return t.unshift(void 0),new(Function.prototype.bind.apply(r,t))}function R8(r){var e,t=new Uint16Array(5),i=window.msCrypto||window.crypto;i.getRandomValues(t);var n="ej2"+B8(t),s=function(a){a.source===window&&typeof a.data=="string"&&a.data.length<=32&&a.data===n&&(r(),e())};window.addEventListener("message",s,!1);var o=window.location.origin.indexOf("file://")===0?"*":window.location.origin;return window.postMessage(n,o),e=function(){window.removeEventListener("message",s),r=s=n=void 0}}function H(r,e){for(var t=e,i=r.replace(/\[/g,".").replace(/\]/g,"").split("."),n=0;n<i.length&&!Je(t);n++)t=t[i[parseInt(n.toString(),10)]];return t}function Ze(r,e,t){var i=r.replace(/\[/g,".").replace(/\]/g,"").split("."),n=t||{},s=n,o,a=i.length,l;for(o=0;o<a;o++)l=i[parseInt(o.toString(),10)],!(l==="__proto__"||l==="constructor"||l==="prototype")&&(o+1===a?s[""+l]=e===void 0?{}:e:p(s[""+l])&&(s[""+l]={}),s=s[""+l]);return n}function LI(r,e){delete r[""+e]}var Wc=typeof window<"u"?window:{};function pa(r){var e={};return!p(r)&&r.constructor===e.constructor}function no(r,e){return r[""+e]}function ai(r,e){if(!p(e))for(var t=r,i=e,n=Object.keys(e),s="deepMerge",o=0,a=n;o<a.length;o++){var l=a[o];!p(t[""+s])&&t[""+s].indexOf(l)!==-1&&(pa(i[""+l])||Array.isArray(i[""+l]))?ie(t[""+l],t[""+l],i[""+l],!0):t[""+l]=i[""+l]}}function ie(r,e,t,i){var n=r&&typeof r=="object"?r:{},s=arguments.length,o=[r,e,t,i];i&&(s=s-1);for(var a=function(h){if(!o[parseInt(h.toString(),10)])return"continue";var u=o[parseInt(h.toString(),10)];Object.keys(u).forEach(function(c){var d=n[""+c],f=u[""+c],g;Array.isArray(f)&&Array.isArray(d)&&(f.length,d.length);var m=!0;i&&m&&(pa(f)||Array.isArray(f))?pa(f)?(g=d||{},Array.isArray(g)&&Object.prototype.hasOwnProperty.call(g,"isComplexArray")?ie(g,{},f,i):n[""+c]=ie(g,{},f,i)):(g=d||[],n[""+c]=ie([],g,f,g&&g.length||f&&f.length)):n[""+c]=f})},l=1;l<s;l++)a(l);return n}function p(r){return r==null}function Je(r){return typeof r>"u"}function Ic(r){return r+"_"+z8++}function FR(r,e){var t;return function(){for(var i=this,n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var o=function(){return t=null,r.apply(i,n)};clearTimeout(t),t=setTimeout(o,e)}}function j8(r){var e=Object.prototype.toString;return e.call(r)==="[object Array]"&&e.call(r[0])==="[object Object]"}function zI(r,e){var t=r;return t===e?!0:t===document||!t?!1:zI(t.parentNode,e)}function Hd(r){try{throw new Error(r)}catch(e){throw new Error(e.message+`
`+e.stack)}}function P8(r,e){var t=document.createElement("div"),i=[].slice.call(document.getElementsByTagName("head")[0].querySelectorAll("base, link, style")),n=[].slice.call(document.getElementsByTagName("body")[0].querySelectorAll("link, style"));if(n.length)for(var s=0,o=n.length;s<o;s++)i.push(n[parseInt(s.toString(),10)]);var a="";p(e)&&(e=window.open("","print","height=452,width=1024,tabbar=no")),t.appendChild(r.cloneNode(!0));for(var l=0,o=i.length;l<o;l++)a+=i[parseInt(l.toString(),10)].outerHTML;e.document.write("<!DOCTYPE html> <html><head>"+a+"</head><body>"+t.innerHTML+"<script> (function() { window.ready = true; })(); <\/script></body></html>"),e.document.close(),e.focus();var h=setInterval(function(){e.ready&&(e.print(),e.close(),clearInterval(h))},500);return e}function mt(r){var e=r+"";return e.match(/auto|cm|mm|in|px|pt|pc|%|em|ex|ch|rem|vw|vh|vmin|vmax/)?e:e+"px"}function $h(){return O8}function Ooe(r){return r}function Roe(r,e){var t=typeof r=="string"?document.querySelector(r):r;if(t[""+Cx])for(var i=0,n=t[""+Cx];i<n.length;i++){var s=n[i];if(s instanceof e)return s}return null}function F8(){if(!(typeof window>"u")){var r=new Uint16Array(5),e=window.msCrypto||window.crypto;return e.getRandomValues(r)}}function B8(r){for(var e="",t=0;t<5;t++)e+=(t?",":"")+r[parseInt(t.toString(),10)];return e}var U8={latn:{_digits:"0123456789",_type:"numeric"}},bx={decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",infinity:"",nan:"NaN",exponential:"E"},Ix=[0,1,2,3,4,5,6,7,8,9],xi=function(){function r(){}return r.getMainObject=function(e,t){var i="main."+t;return H(i,e)},r.getNumberingSystem=function(e){return H("supplemental.numberingSystems",e)||this.numberingSystems},r.reverseObject=function(e,t){for(var i=t||Object.keys(e),n={},s=0,o=i;s<o.length;s++){var a=o[s];Object.prototype.hasOwnProperty.call(n,e[""+a])||(n[e[""+a]]=a)}return n},r.getSymbolRegex=function(e){var t=e.map(function(n){return n.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}).join("|"),i=RegExp;return new i(t,"g")},r.getSymbolMatch=function(e){for(var t=Object.keys(bx),i={},n=0,s=t;n<s.length;n++){var o=s[n];i[e[""+o]]=bx[""+o]}return i},r.constructRegex=function(e){for(var t=e.length,i="",n=0;n<t;n++)n!==t-1?i+=e[parseInt(n.toString(),10)]+"|":i+=e[parseInt(n.toString(),10)];return i},r.convertValueParts=function(e,t,i){return e.replace(t,function(n){return i[""+n]})},r.getDefaultNumberingSystem=function(e){var t={};return t.obj=H("numbers",e),t.nSystem=H("defaultNumberingSystem",t.obj),t},r.getCurrentNumericOptions=function(e,t,i,n){var s={},o=this.getDefaultNumberingSystem(e);if(!Je(o.nSystem)||n){var a=n?H("obj.mapperDigits",o):H(o.nSystem+"._digits",t);if(!Je(a)){s.numericPair=this.reverseObject(a,Ix);var l=RegExp;s.numberParseRegex=new l(this.constructRegex(a),"g"),s.numericRegex="["+a[0]+"-"+a[9]+"]",i&&(s.numericRegex=a[0]+"-"+a[9],s.symbolNumberSystem=H(n?"numberSymbols":"symbols-numberSystem-"+o.nSystem,o.obj),s.symbolMatch=this.getSymbolMatch(s.symbolNumberSystem),s.numberSystem=o.nSystem)}}return s},r.getNumberMapper=function(e,t,i){var n={mapper:{}},s=this.getDefaultNumberingSystem(e);if(!Je(s.nSystem)){n.numberSystem=s.nSystem,n.numberSymbols=H("symbols-numberSystem-"+s.nSystem,s.obj),n.timeSeparator=H("timeSeparator",n.numberSymbols);var o=H(s.nSystem+"._digits",t);if(!Je(o))for(var a=0,l=Ix;a<l.length;a++){var h=l[a];n.mapper[parseInt(h.toString(),10)]=o[parseInt(h.toString(),10)]}}return n},r.nPair="numericPair",r.nRegex="numericRegex",r.numberingSystems=U8,r}(),H8={DJF:"Fdj",ERN:"Nfk",ETB:"Br",NAD:"$",ZAR:"R",XAF:"FCFA",GHS:"GH",XDR:"XDR",AED:"..",BHD:"..",DZD:"..",EGP:"..",ILS:"",IQD:"..",JOD:"..",KMF:"CF",KWD:"..",LBP:"..",LYD:"..",MAD:"..",MRU:"..",OMR:"..",QAR:"..",SAR:"..",SDG:"..",SOS:"S",SSP:"",SYP:"..",TND:"..",YER:"..",CLP:"$",INR:"",TZS:"TSh",EUR:"",AZN:"",RUB:"",BYN:"Br",ZMW:"K",BGN:".",NGN:"",XOF:"CFA",BDT:"",CNY:"",BAM:"",UGX:"USh",USD:"$",CZK:"K",GBP:"",DKK:"kr.",KES:"Ksh",CHF:"CHF",MVR:".",BTN:"Nu.",XCD:"EC$",AUD:"$",BBD:"$",BIF:"FBu",BMD:"$",BSD:"$",BWP:"P",BZD:"$",CAD:"$",NZD:"$",FJD:"$",FKP:"",GIP:"",GMD:"D",GYD:"$",HKD:"$",IDR:"Rp",JMD:"$",KYD:"$",LRD:"$",MGA:"Ar",MOP:"MOP$",MUR:"Rs",MWK:"MK",MYR:"RM",PGK:"K",PHP:"",PKR:"Rs",RWF:"RF",SBD:"$",SCR:"SR",SEK:"kr",SGD:"$",SHP:"",SLL:"Le",ANG:"NAf.",SZL:"E",TOP:"T$",TTD:"$",VUV:"VT",WST:"WS$",ARS:"$",BOB:"Bs",BRL:"R$",COP:"$",CRC:"",CUP:"$",DOP:"$",GTQ:"Q",HNL:"L",MXN:"$",NIO:"C$",PAB:"B/.",PEN:"S/",PYG:"",UYU:"$",VES:"Bs.S",IRR:"",GNF:"FG",CDF:"FC",HTG:"G",XPF:"FCFP",HRK:"kn",HUF:"Ft",AMD:"",ISK:"kr",JPY:"",GEL:"",CVE:"",KZT:"",KHR:"",KPW:"",KRW:"",KGS:"",AOA:"Kz",LAK:"",MZN:"MTn",MKD:"",MNT:"",BND:"$",MMK:"K",NOK:"kr",NPR:"",AWG:"Afl.",SRD:"$",PLN:"z",AFN:"",STN:"Db",MDL:"L",RON:"lei",UAH:"",LKR:".",ALL:"Lek",RSD:".",TJS:"",THB:"",TMT:"m.",TRY:"",UZS:"",VND:"",TWD:"NT$"};function V8(r){return H(r||"",H8)}var bv="USD",BR=null,UR=null;function Q8(r){BR=r}function _8(r){UR=r}var Dx=RegExp,Tx={"en-US":{d:"M/d/y",D:"EEEE, MMMM d, y",f:"EEEE, MMMM d, y h:mm a",F:"EEEE, MMMM d, y h:mm:s a",g:"M/d/y h:mm a",G:"M/d/yyyy h:mm:ss tt",m:"MMMM d",M:"MMMM d",r:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",R:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",t:"h:mm tt",T:"h:m:s tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",U:"dddd, MMMM d, yyyy h:mm:ss tt",y:"MMMM yyyy",Y:"MMMM yyyy"}},vt;(function(r){r.negativeDataRegex=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,r.customRegex=/^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*[0# ]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,r.latnParseRegex=/0|1|2|3|4|5|6|7|8|9/g;var e=/[0-9]/g;r.defaultCurrency="$";var t=["infinity","nan","group","decimal"],i=/G|M|L|H|c|'| a|B|yy|y|EEEE|E/g,n={G:"",M:"m",L:"m",H:"h",c:"d","'":'"'," a":" AM/PM",B:"AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};r.dateConverterMapper=/dddd|ddd/ig;var s="sun";r.islamicRegex=/^islamic/;var o={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};r.formatRegex=new Dx("(^[ncpae]{1})([0-1]?[0-9]|20)?$","i"),r.currencyFormatRegex=new Dx("(^[ca]{1})([0-1]?[0-9]|20)?$","i"),r.curWithoutNumberRegex=/(c|a)$/ig;var a={$:"isCurrency","%":"isPercent","-":"isNegative",0:"nlead",1:"nend"};r.dateParseRegex=/([a-z])\1*|'([^']|'')+'|''|./gi,r.basicPatterns=["short","medium","long","full"],r.defaultObject={dates:{calendars:{gregorian:{months:{"stand-alone":{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},narrow:{1:"J",2:"F",3:"M",4:"A",5:"M",6:"J",7:"J",8:"A",9:"S",10:"O",11:"N",12:"D"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"Before Christ","0-alt-variant":"Before Common Era",1:"Anno Domini","1-alt-variant":"Common Era"},eraAbbr:{0:"BC","0-alt-variant":"BCE",1:"AD","1-alt-variant":"CE"},eraNarrow:{0:"B","0-alt-variant":"BCE",1:"A","1-alt-variant":"CE"}},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y"}}},islamic:{months:{"stand-alone":{abbreviated:{1:"Muh.",2:"Saf.",3:"Rab. I",4:"Rab. II",5:"Jum. I",6:"Jum. II",7:"Raj.",8:"Sha.",9:"Ram.",10:"Shaw.",11:"Dhul-Q.",12:"Dhul-H."},narrow:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},wide:{1:"Muharram",2:"Safar",3:"Rabi I",4:"Rabi II",5:"Jumada I",6:"Jumada II",7:"Rajab",8:"Shaban",9:"Ramadan",10:"Shawwal",11:"Dhul-Qidah",12:"Dhul-Hijjah"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"AH"},eraAbbr:{0:"AH"},eraNarrow:{0:"AH"}},dateFormats:{full:"EEEE, MMMM d, y G",long:"MMMM d, y G",medium:"MMM d, y G",short:"M/d/y GGGGG"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y G",yyyy:"y G",yyyyM:"M/y GGGGG",yyyyMd:"M/d/y GGGGG",yyyyMEd:"E, M/d/y GGGGG",yyyyMMM:"MMM y G",yyyyMMMd:"MMM d, y G",yyyyMMMEd:"E, MMM d, y G",yyyyMMMM:"MMMM y G",yyyyQQQ:"QQQ y G",yyyyQQQQ:"QQQQ y G"}}}},timeZoneNames:{hourFormat:"+HH:mm;-HH:mm",gmtFormat:"GMT{0}",gmtZeroFormat:"GMT"}},numbers:{currencies:{USD:{displayName:"US Dollar",symbol:"$","symbol-alt-narrow":"$"},EUR:{displayName:"Euro",symbol:"","symbol-alt-narrow":""},GBP:{displayName:"British Pound","symbol-alt-narrow":""}},defaultNumberingSystem:"latn",minimumGroupingDigits:"1","symbols-numberSystem-latn":{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"",perMille:"",infinity:"",nan:"NaN",timeSeparator:":"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###"},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"#,##0.00",accounting:"#,##0.00;(#,##0.00)"},"scientificFormats-numberSystem-latn":{standard:"#E0"}}},r.blazorDefaultObject={numbers:{mapper:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},mapperDigits:"0123456789",numberSymbols:{decimal:".",group:",",plusSign:"+",minusSign:"-",percentSign:"%",nan:"NaN",timeSeparator:":",infinity:""},timeSeparator:":",currencySymbol:"$",currencypData:{nlead:"$",nend:"",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentpData:{nlead:"",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentnData:{nlead:"-",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},currencynData:{nlead:"($",nend:")",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalnData:{nlead:"-",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalpData:{nlead:"",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2}},dates:{dayPeriods:{am:"AM",pm:"PM"},dateSeperator:"/",days:{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}},months:{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}},eras:{1:"AD"}}},r.monthIndex={3:"abbreviated",4:"wide",5:"narrow",1:"abbreviated"},r.month="months",r.days="days",r.patternMatcher={C:"currency",P:"percent",N:"decimal",A:"currency",E:"scientific"};function l(w,O,L,j,B){var V,ee=L||"date";if(B)V=d({skeleton:w},B).format||d({skeleton:"d"},"en-US").format;else{if(r.basicPatterns.indexOf(w)!==-1){if(V=H(ee+"Formats."+w,O),ee==="dateTime"){var W=H("dateFormats."+w,O),J=H("timeFormats."+w,O);V=V.replace("{1}",W).replace("{0}",J)}}else V=H("dateTimeFormats.availableFormats."+w,O);Je(V)&&w==="yMd"&&(V="M/d/y")}return V}r.getResultantPattern=l;function h(w,O,L,j){var B={},V=L||"gregorian";if(B.parserObject=xi.getMainObject(w,O)||r.defaultObject,j)B.numericObject=H("numbers",B.parserObject);else{var ee="dates.calendars."+V;B.dateObject=H(ee,B.parserObject)}return B}r.getDependables=h;function u(w,O,L,j){return H(w+"Formats-numberSystem-"+O+(j?".accounting":".standard"),L)||(j?H(w+"Formats-numberSystem-"+O+".standard",L):"")}r.getSymbolPattern=u;function c(w){return w.match(r.dateConverterMapper),w}r.ConvertDateToWeekFormat=c;function d(w,O){var L=w.format||w.skeleton,j=H((O||"en-US")+"."+L,Tx);return j||(j=H("en-US."+L,Tx)),j&&(j=c(j),w.format=j.replace(/tt/,"a")),w}r.compareBlazorDateFormats=d;function f(w){var O=w.match(r.formatRegex),L={},j=O[1].toUpperCase();return L.isAccount=j==="A",L.type=r.patternMatcher[""+j],w.length>1&&(L.fractionDigits=parseInt(O[2],10)),L}r.getProperNumericSkeleton=f;function g(w,O,L,j){var B=j?{}:{nlead:"",nend:""},V=w.match(r.customRegex);if(V){j||(B.nlead=m(V[1],L),B.nend=m(V[10],L),B.groupPattern=V[4]);var ee=V[7];if(ee&&O){var W=ee.match(e);p(W)?B.minimumFraction=0:B.minimumFraction=W.length,B.maximumFraction=ee.length-1}}return B}r.getFormatData=g;function m(w,O){return w?(w=w.replace(r.defaultCurrency,O),O===""?w.trim():w):""}r.changeCurrencySymbol=m;function y(w,O,L,j){var B=L?"."+L:".symbol",V=j?"$":H("currencies."+O+B,w)||H("currencies."+O+".symbol-alt-narrow",w)||"$";return V}r.getCurrencySymbol=y;function v(w,O,L){for(var j={},B=w.split(";"),V=["pData","nData","zeroData"],ee=0;ee<B.length;ee++)j[""+V[parseInt(ee.toString(),10)]]=M(B[parseInt(ee.toString(),10)],O,L);return p(j.nData)&&(j.nData=ie({},j.pData),j.nData.nlead=p(O)?"-"+j.nData.nlead:O.minusSymbol+j.nData.nlead),j}r.customFormat=v;function M(w,O,L){var j={type:"decimal",minimumFractionDigits:0,maximumFractionDigits:0},B=w.match(r.customRegex);if(p(B)||B[5]===""&&w!=="N/A")return j.type=void 0,j;j.nlead=B[1],j.nend=B[10];var V=B[6],ee=!!V.match(/ $/g),W=V.replace(/ $/g,"").indexOf(" ")!==-1;j.useGrouping=V.indexOf(",")!==-1||W,V=V.replace(/,/g,""),V=/\s$/.test(V)?V.replace(/ /g,""):V;var J=B[7];if(V.indexOf("0")!==-1&&(j.minimumIntegerDigits=V.length-V.indexOf("0")),p(J)||(j.minimumFractionDigits=J.lastIndexOf("0"),j.maximumFractionDigits=J.lastIndexOf("#"),j.minimumFractionDigits===-1&&(j.minimumFractionDigits=0),(j.maximumFractionDigits===-1||j.maximumFractionDigits<j.minimumFractionDigits)&&(j.maximumFractionDigits=j.minimumFractionDigits)),p(O)?ie(j,S([j.nlead,j.nend],"%","%")):(O.isCustomFormat=!0,ie(j,S([j.nlead,j.nend],"$",O.currencySymbol)),j.isCurrency||ie(j,S([j.nlead,j.nend],"%",O.percentSymbol))),!p(L)){var K=u(j.type,O.numberMapper.numberSystem,L,!1);j.useGrouping&&(j.groupSeparator=W?" ":O.numberMapper.numberSymbols[t[2]],j.groupData=BR.getGroupingDetails(K.split(";")[0])),j.nlead=j.nlead.replace(/'/g,""),j.nend=ee?" "+j.nend.replace(/'/g,""):j.nend.replace(/'/g,"")}return j}r.customNumberFormat=M;function S(w,O,L){for(var j={nlead:w[0],nend:w[1]},B=0;B<2;B++){var V=w[parseInt(B.toString(),10)],ee=V.indexOf(O);if(ee!==-1&&(ee<V.indexOf("'")||ee>V.lastIndexOf("'"))){j[""+a[parseInt(B.toString(),10)]]=V.substr(0,ee)+L+V.substr(ee+1),j[""+a[""+O]]=!0,j.type=j.isCurrency?"currency":"percent";break}}return j}r.isCurrencyPercent=S;function b(w){var O=(H("dateFormats.short",w)||"").match(/[dM]([^dM])[dM]/i);return O?O[1]:"/"}r.getDateSeparator=b;function C(w,O,L,j){var B=h(L,w,O.calendar),V=O.format||l(O.skeleton,B.dateObject,O.type);if(j){if(V=V.replace(i,function(pe){return n[""+pe]}),V.indexOf("z")!==-1){var ee=V.match(/z/g).length,W=void 0,J={timeZone:{}};J.numMapper=xi.getNumberMapper(B.parserObject,xi.getNumberingSystem(L)),J.timeZone=H("dates.timeZoneNames",B.parserObject);var K=new Date,le=K.getTimezoneOffset(),me=ee<4?"+H;-H":J.timeZone.hourFormat;me=me.replace(/:/g,J.numMapper.timeSeparator),le===0?W=J.timeZone.gmtZeroFormat:(W=UR.getTimeZoneValue(le,me),W=J.timeZone.gmtFormat.replace(/\{0\}/,W)),V=V.replace(/[z]+/,'"'+W+'"')}V=V.replace(/ $/,"")}return V}r.getActualDateTimeFormat=C;function T(w,O){if(w.indexOf(",")!==-1){var L=w.split(",");w=L[0]+H("numberMapper.numberSymbols.group",O)+L[1].replace(".",H("numberMapper.numberSymbols.decimal",O))}else w=w.replace(".",H("numberMapper.numberSymbols.decimal",O));return w}r.processSymbol=T;function k(w,O,L,j){var B=h(L,w,"",!0),V={custom:!0};B.numericObject;var ee,W={},J=(O.format||"").match(r.currencyFormatRegex);r.formatRegex.test(O.format)&&f(O.format||"N");var K={};if(J){K.numberMapper=xi.getNumberMapper(B.parserObject,xi.getNumberingSystem(L),!0);var le=y(B.numericObject,O.currency||bv,O.altSymbol),me=u("currency",K.numberMapper.numberSystem,B.numericObject,/a/i.test(O.format));me=me.replace(/\u00A4/g,le);var pe=me.split(";");W.hasNegativePattern=pe.length>1,W.nData=g(pe[1]||"-"+pe[0],!0,le),W.pData=g(pe[0],!1,le),!J[2]&&!O.minimumFractionDigits&&!O.maximumFractionDigits&&(ee=g(me.split(";")[0],!0,"",!0).minimumFraction)}var P;if(r.formatRegex.test(O.format)||!O.format){if(ie(V,f(O.format||"N")),V.custom=!1,P="###0",V.fractionDigits||O.minimumFractionDigits||O.maximumFractionDigits||ee){var ve=0;V.fractionDigits&&(O.minimumFractionDigits=O.maximumFractionDigits=V.fractionDigits),P=N(P,ee||V.fractionDigits||O.minimumFractionDigits||ve,O.maximumFractionDigits||ve)}if(O.minimumIntegerDigits&&(P=A(P,O.minimumIntegerDigits)),O.useGrouping&&(P=E(P)),V.type==="currency"||V.type&&$h()){var X=P;P=W.pData.nlead+X+W.pData.nend,(W.hasNegativePattern||$h())&&(P+=";"+W.nData.nlead+X+W.nData.nend)}V.type==="percent"&&(P+=" %")}else P=O.format.replace(/'/g,'"');return Object.keys(K).length>0&&(P=j?P:T(P,K)),P}r.getActualNumberFormat=k;function N(w,O,L){w+=".";for(var j=0;j<O;j++)w+="0";if(O<L)for(var B=L-O,V=0;V<B;V++)w+="#";return w}r.fractionDigitsPattern=N;function A(w,O){for(var L=w.split("."),j="",B=0;B<O;B++)j+="0";return L[1]?j+"."+L[1]:j}r.minimumIntegerPattern=A;function E(w){var O=w.split("."),L=O[0],j=3-L.length%3,B=j&&j===1?"#":j===2?"##":"";L=B+L,w="";for(var V=L.length-1;V>0;V=V-3)w=","+L[V-2]+L[V-1]+L[parseInt(V.toString(),10)]+w;return w=w.slice(1),O[1]?w+"."+O[1]:w}r.groupingPattern=E;function x(w,O){var L=s,j=H("supplemental.weekData.firstDay",O),B=w;return/en-/.test(B)&&(B=B.slice(3)),B=B.slice(0,2).toUpperCase()+B.substr(2),j&&(L=j[""+B]||j[B.slice(0,2)]||s),o[""+L]}r.getWeekData=x;function D(w,O,L){var j=V8(L);if(O!==j)for(var B=0,V=w;B<V.length;B++){var ee=V[B];ee.nend=ee.nend.replace(O,j),ee.nlead=ee.nlead.replace(O,j)}}r.replaceBlazorCurrency=D;function z(w,O){var L=new Date(w.getFullYear(),0,1),j=L.getDay(),B;j=j>=0?j:j+7;var V=Math.floor((w.getTime()-L.getTime()-(w.getTimezoneOffset()-L.getTimezoneOffset())*6e4)/864e5)+1;if(j<4){if(B=Math.floor((V+j-O-1)/7)+1,B>52){var ee=new Date(w.getFullYear()+1,0,1),W=ee.getDay();W=W>=0?W:W+7,B=W<4?1:53}}else B=Math.floor((V+j-O-1)/7);return B}r.getWeekOfYear=z})(vt||(vt={}));var IM=function(){function r(e,t,i){this.type="GET",this.emitError=!0,typeof e=="string"?(this.url=e,this.type=p(t)?this.type:t.toUpperCase(),this.contentType=i):pa(e)&&Object.keys(e).length>0&&ai(this,e),this.contentType=p(this.contentType)?"application/json; charset=utf-8":this.contentType}return r.prototype.send=function(e){var t=this,i={"application/json":"json","multipart/form-data":"formData","application/octet-stream":"blob","application/x-www-form-urlencoded":"formData"};try{p(this.fetchRequest)&&this.type==="GET"?this.fetchRequest=new Request(this.url,{method:this.type}):p(this.fetchRequest)&&(this.data=p(e)?this.data:e,this.fetchRequest=new Request(this.url,{method:this.type,headers:{"Content-Type":this.contentType},body:this.data}));var n={cancel:!1,fetchRequest:this.fetchRequest};return this.triggerEvent(this.beforeSend,n),n.cancel?null:(this.fetchResponse=fetch(this.fetchRequest),this.fetchResponse.then(function(s){if(t.triggerEvent(t.onLoad,s),!s.ok)throw s;for(var o="text",a=0,l=Object.keys(i);a<l.length;a++){var h=l[a];s.headers.get("Content-Type")&&s.headers.get("Content-Type").indexOf(h)!==-1&&(o=i[h])}return s[o]()}).then(function(s){return t.triggerEvent(t.onSuccess,s,t),s}).catch(function(s){var o={};return t.emitError&&(t.triggerEvent(t.onFailure,s),o=Promise.reject(s)),o}))}catch(s){return s}},r.prototype.triggerEvent=function(e,t,i){!p(e)&&typeof e=="function"&&e(t,i)},r}(),Y8=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i,W8=/msie|trident/i,q8=/Trident\/7\./,G8=/(ipad|iphone|ipod touch)/i,$8=/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i,K8=/android/i,J8=/trident|windows phone|edge/i,Z8=/(version)[ /]([\w.]+)/i,DM={OPERA:/(opera|opr)(?:.*version|)[ /]([\w.]+)/i,EDGE:/(edge)(?:.*version|)[ /]([\w.]+)/i,CHROME:/(chrome|crios)[ /]([\w.]+)/i,PANTHOMEJS:/(phantomjs)[ /]([\w.]+)/i,SAFARI:/(safari)[ /]([\w.]+)/i,WEBKIT:/(webkit)[ /]([\w.]+)/i,MSIE:/(msie|trident) ([\w.]+)/i,MOZILLA:/(mozilla)(?:.*? rv:([\w.]+)|)/i};typeof window<"u"&&(window.browserDetails=window.browserDetails||{});var ne=function(){function r(){}return r.extractBrowserDetail=function(){for(var e={culture:{}},t=Object.keys(DM),i=[],n=0,s=t;n<s.length;n++){var o=s[n];if(i=r.userAgent.match(DM[""+o]),i){if(e.name=i[1].toLowerCase()==="opr"?"opera":i[1].toLowerCase(),e.name=i[1].toLowerCase()==="crios"?"chrome":e.name,e.version=i[2],e.culture.name=e.culture.language=navigator.language,r.userAgent.match(q8)){e.name="msie";break}var a=r.userAgent.match(Z8);e.name==="safari"&&a&&(e.version=a[2]);break}}return e},r.getEvent=function(e){var t={start:{isPointer:"pointerdown",isTouch:"touchstart",isDevice:"mousedown"},move:{isPointer:"pointermove",isTouch:"touchmove",isDevice:"mousemove"},end:{isPointer:"pointerup",isTouch:"touchend",isDevice:"mouseup"},cancel:{isPointer:"pointercancel",isTouch:"touchcancel",isDevice:"mouseleave"}};return r.isPointer?t[""+e].isPointer:r.isTouch?t[""+e].isTouch+(r.isDevice?"":" "+t[""+e].isDevice):t[""+e].isDevice},r.getTouchStartEvent=function(){return r.getEvent("start")},r.getTouchEndEvent=function(){return r.getEvent("end")},r.getTouchMoveEvent=function(){return r.getEvent("move")},r.getTouchCancelEvent=function(){return r.getEvent("cancel")},r.isSafari=function(){return r.isDevice&&r.isIos&&r.isTouch&&typeof window<"u"&&window.navigator.userAgent.toLowerCase().indexOf("iphone")===-1&&window.navigator.userAgent.toLowerCase().indexOf("safari")>-1},r.getValue=function(e,t){var i=typeof window<"u"?window.browserDetails:{};return typeof navigator<"u"&&navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1&&r.isTouch===!0&&!DM.CHROME.test(navigator.userAgent)&&(i.isIos=!0,i.isDevice=!0,i.isTouch=!0,i.isPointer=!0,i.isPointer="pointerEnabled"in window.navigator),typeof window<"u"&&window.Capacitor&&window.Capacitor.getPlatform()==="ios"&&(i.isPointer=!1),typeof i[""+e]>"u"?i[""+e]=t.test(r.userAgent):i[""+e]},Object.defineProperty(r,"userAgent",{get:function(){return r.uA},set:function(e){r.uA=e,window.browserDetails={}},enumerable:!0,configurable:!0}),Object.defineProperty(r,"info",{get:function(){return Je(window.browserDetails.info)?window.browserDetails.info=r.extractBrowserDetail():window.browserDetails.info},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isIE",{get:function(){return r.getValue("isIE",W8)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isTouch",{get:function(){return Je(window.browserDetails.isTouch)?window.browserDetails.isTouch="ontouchstart"in window.navigator||window&&window.navigator&&window.navigator.maxTouchPoints>0||"ontouchstart"in window:window.browserDetails.isTouch},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isPointer",{get:function(){return Je(window.browserDetails.isPointer)?window.browserDetails.isPointer="pointerEnabled"in window.navigator:window.browserDetails.isPointer},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isMSPointer",{get:function(){return Je(window.browserDetails.isMSPointer)?window.browserDetails.isMSPointer="msPointerEnabled"in window.navigator:window.browserDetails.isMSPointer},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isDevice",{get:function(){return r.getValue("isDevice",Y8)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isIos",{get:function(){return r.getValue("isIos",G8)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isIos7",{get:function(){return r.getValue("isIos7",$8)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isAndroid",{get:function(){return r.getValue("isAndroid",K8)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isWebView",{get:function(){return Je(window.browserDetails.isWebView)&&(window.browserDetails.isWebView=!(Je(window.cordova)&&Je(window.PhoneGap)&&Je(window.phonegap)&&window.forge!=="object")),window.browserDetails.isWebView},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isWindows",{get:function(){return r.getValue("isWindows",J8)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"touchStartEvent",{get:function(){return Je(window.browserDetails.touchStartEvent)?window.browserDetails.touchStartEvent=r.getTouchStartEvent():window.browserDetails.touchStartEvent},enumerable:!0,configurable:!0}),Object.defineProperty(r,"touchMoveEvent",{get:function(){return Je(window.browserDetails.touchMoveEvent)?window.browserDetails.touchMoveEvent=r.getTouchMoveEvent():window.browserDetails.touchMoveEvent},enumerable:!0,configurable:!0}),Object.defineProperty(r,"touchEndEvent",{get:function(){return Je(window.browserDetails.touchEndEvent)?window.browserDetails.touchEndEvent=r.getTouchEndEvent():window.browserDetails.touchEndEvent},enumerable:!0,configurable:!0}),Object.defineProperty(r,"touchCancelEvent",{get:function(){return Je(window.browserDetails.touchCancelEvent)?window.browserDetails.touchCancelEvent=r.getTouchCancelEvent():window.browserDetails.touchCancelEvent},enumerable:!0,configurable:!0}),r.uA=typeof navigator<"u"?navigator.userAgent:"",r}(),F=function(){function r(){}return r.addOrGetEventData=function(e){return"__eventList"in e?e.__eventList.events:(e.__eventList={},e.__eventList.events=[])},r.add=function(e,t,i,n,s){var o=r.addOrGetEventData(e),a;s?a=FR(i,s):a=i,n&&(a=a.bind(n));for(var l=t.split(" "),h=0;h<l.length;h++)o.push({name:l[parseInt(h.toString(),10)],listener:i,debounce:a}),ne.isIE?e.addEventListener(l[parseInt(h.toString(),10)],a):e.addEventListener(l[parseInt(h.toString(),10)],a,{passive:!1});return a},r.remove=function(e,t,i){for(var n=r.addOrGetEventData(e),s=t.split(" "),o=function(l){var h=-1,u;n&&n.length!==0&&n.some(function(c,d){return c.name===s[parseInt(l.toString(),10)]&&c.listener===i?(h=d,u=c.debounce,!0):!1}),h!==-1&&n.splice(h,1),u&&e.removeEventListener(s[parseInt(l.toString(),10)],u)},a=0;a<s.length;a++)o(a)},r.clearEvents=function(e){for(var t=r.addOrGetEventData(e),i=ie([],void 0,t),n=0;n<i.length;n++){var s=i[parseInt(n.toString(),10)];e.removeEventListener(s.name,s.debounce),t.shift()}},r.trigger=function(e,t,i){for(var n=r.addOrGetEventData(e),s=0,o=n;s<o.length;s++){var a=o[s];a.name===t&&a.debounce.call(this,i)}},r}(),GS=function(){return GS=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},GS.apply(this,arguments)},X8=/^svg|^path|^g/;function Be(r,e){var t=X8.test(r)?document.createElementNS("http://www.w3.org/2000/svg",r):document.createElement(r);return typeof e>"u"||(t.innerHTML=e.innerHTML?e.innerHTML:"",e.className!==void 0&&(t.className=e.className),e.id!==void 0&&(t.id=e.id),e.styles!==void 0&&(t.style.cssText=e.styles),e.attrs!==void 0&&Et(t,e.attrs)),t}function e$(r,e){var t=r.style.cssText.split(";").reduce(function(s,o){var a=o.split(":"),l=a[0],h=a[1];return l&&h&&(s[l.trim()]=h.trim()),s},{}),i=e.split(";").reduce(function(s,o){var a=o.split(":"),l=a[0],h=a[1];return l&&h&&(s[l.trim()]=h.trim()),s},{}),n=document.createElement("div");Object.keys(GS({},t,i)).forEach(function(s){n.style.setProperty(s,i[s]||t[s])}),r.style.cssText=n.style.cssText}function Z(r,e){for(var t=HR(e),i=RegExp,n=0,s=r;n<s.length;n++)for(var o=s[n],a=0,l=t;a<l.length;a++){var h=l[a];if(pa(o)){var u=H("attributes.className",o);p(u)?Ze("attributes.className",h,o):new i("\\b"+h+"\\b","i").test(u)||Ze("attributes.className",u+" "+h,o)}else o.classList.contains(h)||o.classList.add(h)}return r}function ue(r,e){for(var t=HR(e),i=0,n=r;i<n.length;i++){var s=n[i],o=pa(s),a=o?H("attributes.className",s):s.className!=="";if(a)for(var l=0,h=t;l<h.length;l++){var u=h[l];if(o){var c=H("attributes.className",s),d=c.split(" "),f=d.indexOf(u);f!==-1&&d.splice(f,1),Ze("attributes.className",d.join(" "),s)}else s.classList.remove(u)}}return r}function HR(r){var e=[];return typeof r=="string"?e.push(r):e=r,e}function OI(r){var e=r;return e.style.visibility===""&&e.offsetWidth>0}function ts(r,e,t){for(var i=document.createDocumentFragment(),n=0,s=r;n<s.length;n++){var o=s[n];i.appendChild(o)}return e.insertBefore(i,e.firstElementChild),t&&VR(e),r}function Ct(r,e,t){var i=document.createDocumentFragment();if(r instanceof NodeList)for(;r.length>0;)i.appendChild(r[0]);else for(var n=0,s=r;n<s.length;n++){var o=s[n];i.appendChild(o)}return e.appendChild(i),t&&VR(e),r}function VR(r){var e=r.querySelectorAll("script");e.forEach(function(t){var i=document.createElement("script");i.text=t.innerHTML,document.head.appendChild(i),bt(i)})}function bt(r){var e=r.parentNode;if(e)return e.removeChild(r)}function ot(r){var e=r.parentNode;F.clearEvents(r),e.removeChild(r)}function Et(r,e){for(var t=Object.keys(e),i=r,n=0,s=t;n<s.length;n++){var o=s[n];if(pa(i)){var a=o;o==="tabindex"&&(a="tabIndex"),i.attributes[""+a]=e[""+o]}else i.setAttribute(o,e[""+o])}return i}function ii(r,e,t){return e===void 0&&(e=document),r=QR(r),e.querySelector(r)}function ln(r,e,t){e===void 0&&(e=document),r=QR(r);var i=e.querySelectorAll(r);return i}function QR(r){var e=/(!|"|\$|%|&|'|\(|\)|\*|\/|:|;|<|=|\?|@|\]|\^|`|{|}|\||\+|~)/g;if(r.match(/#[0-9]/g)||r.match(e)){for(var t=r.split(","),i=0;i<t.length;i++){for(var n=t[parseInt(i.toString(),10)].split(" "),s=0;s<n.length;s++)if(n[parseInt(s.toString(),10)].indexOf("#")>-1&&!n[parseInt(s.toString(),10)].match(/\[.*\]/)){var o=n[parseInt(s.toString(),10)].split("#");if(o[1].match(/^\d/)||o[1].match(e)){var a=n[parseInt(s.toString(),10)].split(".");a[0]=a[0].replace(/#/,"[id='")+"']",n[parseInt(s.toString(),10)]=a.join(".")}}t[parseInt(i.toString(),10)]=n.join(" ")}return t.join(",")}return r}function xe(r,e){var t=r;if(typeof t.closest=="function")return t.closest(e);for(;t&&t.nodeType===1;){if(_R(t,e))return t;t=t.parentNode}return null}function Ci(r,e){e!==void 0&&Object.keys(e).forEach(function(t){r.style[""+t]=e[""+t]})}function Ki(r,e,t){Z([r],e),ue([r],t)}function _R(r,e){var t=r.matches||r.msMatchesSelector||r.webkitMatchesSelector;return t?t.call(r,e):[].indexOf.call(document.querySelectorAll(e),r)!==-1}var ey=function(){function r(e){this.ranArray=[],this.boundedEvents={},!p(e)&&(this.context=e)}return r.prototype.on=function(e,t,i,n){if(!p(t)){var s=i||this.context;if(this.notExist(e)){this.boundedEvents[""+e]=[{handler:t,context:s,id:n}];return}p(n)?this.isHandlerPresent(this.boundedEvents[""+e],t)||this.boundedEvents[""+e].push({handler:t,context:s}):this.ranArray.indexOf(n)===-1&&(this.ranArray.push(n),this.boundedEvents[""+e].push({handler:t,context:s,id:n}))}},r.prototype.off=function(e,t,i){if(!this.notExist(e)){var n=H(e,this.boundedEvents);if(t){for(var s=0;s<n.length;s++)if(i){if(n[parseInt(s.toString(),10)].id===i){n.splice(s,1);var o=this.ranArray.indexOf(i);o!==-1&&this.ranArray.splice(o,1);break}}else if(t===n[parseInt(s.toString(),10)].handler){n.splice(s,1);break}}else delete this.boundedEvents[""+e]}},r.prototype.notify=function(e,t,i,n){if(this.notExist(e)){i&&i.call(this,t);return}t&&(t.name=e);var s="Blazor",o=H(e,this.boundedEvents).slice(0);if(window[""+s])return this.blazorCallback(o,t,i,n,0);for(var a=0,l=o;a<l.length;a++){var h=l[a];h.handler.call(h.context,t)}i&&i.call(this,t)},r.prototype.blazorCallback=function(e,t,i,n,s){var o=this,a=s===e.length-1;if(s<e.length){var l=e[parseInt(s.toString(),10)],h=l.handler.call(l.context,t);if(h&&typeof h.then=="function"){if(!i)return h;h.then(function(u){if(u=typeof u=="string"&&o.isJson(u)?JSON.parse(u,o.dateReviver):u,ie(t,t,u,!0),i&&a)i.call(l.context,t);else return o.blazorCallback(e,t,i,n,s+1)}).catch(function(u){n&&n.call(l.context,typeof u=="string"&&o.isJson(u)?JSON.parse(u,o.dateReviver):u)})}else if(i&&a)i.call(l.context,t);else return this.blazorCallback(e,t,i,n,s+1)}},r.prototype.dateReviver=function(e,t){var i=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/;return $h&&typeof t=="string"&&t.match(i)!==null?new Date(t):t},r.prototype.isJson=function(e){try{JSON.parse(e)}catch{return!1}return!0},r.prototype.destroy=function(){this.boundedEvents=this.context=void 0},r.prototype.offIntlEvents=function(){var e=this.boundedEvents.notifyExternalChange;if(e){for(var t=0;t<e.length;t++){var i=e[parseInt(t.toString(),10)].context;i&&i.detectFunction&&i.randomId&&i.isReactMock&&(this.off("notifyExternalChange",i.detectFunction,i.randomId),t--)}this.boundedEvents.notifyExternalChange.length||delete this.boundedEvents.notifyExternalChange}},r.prototype.notExist=function(e){return Object.prototype.hasOwnProperty.call(this.boundedEvents,e)===!1||this.boundedEvents[""+e].length<=0},r.prototype.isHandlerPresent=function(e,t){for(var i=0,n=e;i<n.length;i++){var s=n[i];if(s.handler===t)return!0}return!1},r}(),t$=new RegExp("]"),su=function(){function r(e,t){this.isRendered=!1,this.isComplexArraySetter=!1,this.isServerRendered=!1,this.allowServerDataBinding=!0,this.isProtectedOnChange=!0,this.properties={},this.changedProperties={},this.oldProperties={},this.bulkChanges={},this.refreshing=!1,this.ignoreCollectionWatch=!1,this.finalUpdate=function(){},this.childChangedProperties={},this.modelObserver=new ey(this),Je(t)||(typeof t=="string"?this.element=document.querySelector(t):this.element=t,p(this.element)||(this.isProtectedOnChange=!1,this.addInstance())),Je(e)||this.setProperties(e,!0),this.isDestroyed=!1}return r.prototype.setProperties=function(e,t){var i=this.isProtectedOnChange;this.isProtectedOnChange=!!t,ai(this,e),t!==!0&&(ai(this.changedProperties,e),this.dataBind()),this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.isProtectedOnChange=i},r.callChildDataBind=function(e,t){for(var i=Object.keys(e),n=0,s=i;n<s.length;n++){var o=s[n];if(t[""+o]instanceof Array)for(var a=0,l=t[""+o];a<l.length;a++){var h=l[a];h.dataBind!==void 0&&h.dataBind()}else t[""+o].dataBind()}},r.prototype.clearChanges=function(){this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.childChangedProperties={}},r.prototype.dataBind=function(){if(r.callChildDataBind(this.childChangedProperties,this),Object.getOwnPropertyNames(this.changedProperties).length){var e=this.isProtectedOnChange,t=this.changedProperties,i=this.oldProperties;this.clearChanges(),this.isProtectedOnChange=!0,this.onPropertyChanged(t,i),this.isProtectedOnChange=e}},r.prototype.serverDataBind=function(e){},r.prototype.saveChanges=function(e,t,i){this.isProtectedOnChange||(this.oldProperties[""+e]=i,this.changedProperties[""+e]=t,this.finalUpdate(),this.finalUpdate=R8(this.dataBind.bind(this)))},r.prototype.addEventListener=function(e,t){this.modelObserver.on(e,t)},r.prototype.removeEventListener=function(e,t){this.modelObserver.off(e,t)},r.prototype.trigger=function(e,t,i,n){var s=this;if(this.isDestroyed!==!0){var o=this.isProtectedOnChange;this.isProtectedOnChange=!1;var a=this.modelObserver.notify(e,t,i,n);if(t$.test(e)){var l=H(e,this);if(l){var h="Blazor";if(window[""+h]){var u=l.call(this,t);u&&typeof u.then=="function"?i?u.then(function(c){i&&(c=typeof c=="string"&&s.modelObserver.isJson(c)?JSON.parse(c):c,i.call(s,c))}).catch(function(c){n&&(c=typeof c=="string"&&s.modelObserver.isJson(c)?JSON.parse(c):c,n.call(s,c))}):a=u:i&&i.call(this,t)}else l.call(this,t),i&&i.call(this,t)}else i&&i.call(this,t)}return this.isProtectedOnChange=o,a}},r.prototype.addInstance=function(){var e="e-"+this.getModuleName().toLowerCase();Z([this.element],["e-lib",e]),p(this.element.ej2_instances)?Ze("ej2_instances",[this],this.element):this.element.ej2_instances.push(this)},r.prototype.destroy=function(){var e=this;this.element.ej2_instances=this.element.ej2_instances?this.element.ej2_instances.filter(function(t){return xg?xg(t)!==xg(e):t!==e}):[],ue([this.element],["e-"+this.getModuleName()]),this.element.ej2_instances.length===0&&ue([this.element],["e-lib"]),this.clearChanges(),this.modelObserver.destroy(),this.isDestroyed=!0},r}(),xg,i$=function(r){xg=r};function YR(r,e,t,i){return(!Object.prototype.hasOwnProperty.call(r.properties,e)||!(r.properties[""+e]instanceof i))&&(r.properties[""+e]=Xm(i,[r,e,t])),r.properties[""+e]}function $S(r,e,t,i,n,s){for(var o=[],a=t?t.length:0,l=0;l<a;l++){var h=i;if(n){var u=Xm(h,[r,e,{},!0]);u.setProperties(t[parseInt(l.toString(),10)],!0),o.push(u)}else o.push(Xm(h,[r,e,t[parseInt(l.toString(),10)],!1]))}return o}function WR(r,e){return function(){return Object.prototype.hasOwnProperty.call(this.properties,e)||(this.properties[""+e]=r),this.properties[""+e]}}function n$(r,e){return function(t){if(this.properties[""+e]!==t){var i=Object.prototype.hasOwnProperty.call(this.properties,e)?this.properties[""+e]:r;this.saveChanges(e,t,i),this.properties[""+e]=t}}}function r$(r,e,t){return function(){return YR(this,e,r,t)}}function s$(r,e,t){return function(i){YR(this,e,r,t).setProperties(i)}}function o$(r,e,t){return function(){var i=this;if(!Object.prototype.hasOwnProperty.call(this.properties,e)){var n=$S(this,e,r,t,!1);this.properties[""+e]=n}var s=this.controlParent!==void 0&&this.controlParent.ignoreCollectionWatch||this.ignoreCollectionWatch;return!Object.prototype.hasOwnProperty.call(this.properties[""+e],"push")&&!s&&["push","pop"].forEach(function(o){var a={value:l$(o,e,t,i.properties[""+e]).bind(i),configurable:!0};Object.defineProperty(i.properties[""+e],o,a)}),Object.prototype.hasOwnProperty.call(this.properties[""+e],"isComplexArray")||Object.defineProperty(this.properties[""+e],"isComplexArray",{value:!0}),this.properties[""+e]}}function a$(r,e,t){return function(i){this.isComplexArraySetter=!0;var n=$S(this,e,r,t,!1),s=$S(this,e,i,t,!0);this.isComplexArraySetter=!1,this.saveChanges(e,s,n),this.properties[""+e]=s}}function l$(r,e,t,i){return function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var o=this.propName?this.getParentKey()+"."+e+"-":e+"-";switch(r){case"push":for(var a=0;a<n.length;a++){var l=n[parseInt(a.toString(),10)];Array.prototype[""+r].apply(i,[l]);var h=wx(o+(i.length-1),l,!this.controlParent,r);this.serverDataBind(h,n[parseInt(a.toString(),10)],!1,r)}break;case"pop":{Array.prototype[""+r].apply(i);var h=wx(o+i.length,null,!this.controlParent,r);this.serverDataBind(h,{ejsAction:"pop"},!1,r);break}}return i}}function wx(r,e,t,i){var n=r;if(t&&(n={},n[""+r]=e,e&&typeof e=="object")){var s="ejsAction";n[""+r][""+s]=i}return n}function I(r){return function(e,t){var i={set:n$(r,t),get:WR(r,t),enumerable:!0,configurable:!0};Object.defineProperty(e,t,i),Iv(e,t,"prop",r)}}function gt(r,e){return function(t,i){var n={set:s$(r,i,e),get:r$(r,i,e),enumerable:!0,configurable:!0};Object.defineProperty(t,i,n),Iv(t,i,"complexProp",r,e)}}function Li(r,e){return function(t,i){var n={set:a$(r,i,e),get:o$(r,i,e),enumerable:!0,configurable:!0};Object.defineProperty(t,i,n),Iv(t,i,"colProp",r,e)}}function Q(){return function(r,e){var t={set:function(i){var n=this.properties[""+e];if(n!==i){var s=qR(this,e);Je(n)===!1&&s.context.removeEventListener(s.prefix,n),s.context.addEventListener(s.prefix,i),this.properties[""+e]=i}},get:WR(void 0,e),enumerable:!0,configurable:!0};Object.defineProperty(r,e,t),Iv(r,e,"event")}}function tn(r){}function Iv(r,e,t,i,n){Je(r.propList)&&(r.propList={props:[],complexProps:[],colProps:[],events:[],propNames:[],complexPropNames:[],colPropNames:[],eventNames:[]}),r.propList[t+"s"].push({propertyName:e,defaultValue:i,type:n}),r.propList[t+"Names"].push(e)}function qR(r,e){if(Object.prototype.hasOwnProperty.call(r,"parentObj")===!1)return{context:r,prefix:e};var t=H("propName",r);return t&&(e=t+"-"+e),qR(H("parentObj",r),e)}var h$=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),No=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},ro=function(r){h$(e,r);function e(i){var n=r.call(this,i,void 0)||this;return n.easing={ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",easeIn:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",easeOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",elasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",elasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",elasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"},n}t=e,e.prototype.animate=function(i,n){n=n||{};var s=this.getModel(n);if(typeof i=="string")for(var o=Array.prototype.slice.call(ln(i,document)),a=0,l=o;a<l.length;a++){var h=l[a];s.element=h,t.delayAnimation(s)}else s.element=i,t.delayAnimation(s)},e.stop=function(i,n){i.style.animation="",i.removeAttribute("e-animate");var s=i.getAttribute("e-animation-id");if(s){var o=parseInt(s,10);cancelAnimationFrame(o),i.removeAttribute("e-animation-id")}n&&n.end&&n.end.call(this,n)},e.delayAnimation=function(i){ol===KS.Disable?(i.begin&&i.begin.call(this,i),i.end&&i.end.call(this,i)):i.delay?setTimeout(function(){t.applyAnimation(i)},i.delay):t.applyAnimation(i)},e.applyAnimation=function(i){var n=this;i.timeStamp=0;var s=0,o=0,a=0,l=i.duration;i&&i.element&&i.element.setAttribute("e-animate","true");var h=function(u){try{if(u){a=a===0?u:a,i.timeStamp=u+i.timeStamp-a,a=u,!s&&i.begin&&i.begin.call(n,i),s=s+1;var c=i.timeStamp/s;i.timeStamp<l&&i.timeStamp+c<l&&i.element.getAttribute("e-animate")?(i.element.style.animation=i.name+" "+i.duration+"ms "+i.timingFunction,i.progress&&i.progress.call(n,i),requestAnimationFrame(h)):(cancelAnimationFrame(o),i.element.removeAttribute("e-animation-id"),i.element.removeAttribute("e-animate"),i.element.style.animation="",i.end&&i.end.call(n,i))}else o=requestAnimationFrame(h),i.element.setAttribute("e-animation-id",o.toString())}catch(d){cancelAnimationFrame(o),i&&i.element&&i.element.removeAttribute("e-animation-id"),i&&i.fail&&i.fail.call(n,d)}};h()},e.prototype.getModel=function(i){return{name:i.name||this.name,delay:i.delay||this.delay,duration:i.duration!==void 0?i.duration:this.duration,begin:i.begin||this.begin,end:i.end||this.end,fail:i.fail||this.fail,progress:i.progress||this.progress,timingFunction:this.easing[i.timingFunction]?this.easing[i.timingFunction]:i.timingFunction||this.easing[this.timingFunction]}},e.prototype.onPropertyChanged=function(i,n){},e.prototype.getModuleName=function(){return"animation"},e.prototype.destroy=function(){};var t;return No([I("FadeIn")],e.prototype,"name",void 0),No([I(400)],e.prototype,"duration",void 0),No([I("ease")],e.prototype,"timingFunction",void 0),No([I(0)],e.prototype,"delay",void 0),No([Q()],e.prototype,"progress",void 0),No([Q()],e.prototype,"begin",void 0),No([Q()],e.prototype,"end",void 0),No([Q()],e.prototype,"fail",void 0),e=t=No([tn],e),e}(su);function RI(r,e,t){var i=u$(e);return i.rippleFlag===!1||i.rippleFlag===void 0?function(){}:(r.setAttribute("data-ripple","true"),F.add(r,"mousedown",xx,{parent:r,rippleOptions:i}),F.add(r,"mouseup",Nx,{parent:r,rippleOptions:i,done:t}),F.add(r,"mouseleave",ku,{parent:r,rippleOptions:i}),ne.isPointer&&F.add(r,"transitionend",ku,{parent:r,rippleOptions:i}),function(){r.removeAttribute("data-ripple"),F.remove(r,"mousedown",xx),F.remove(r,"mouseup",Nx),F.remove(r,"mouseleave",ku),F.remove(r,"transitionend",ku)})}function u$(r){var e={selector:r&&r.selector?r.selector:null,ignore:r&&r.ignore?r.ignore:null,rippleFlag:r&&r.rippleFlag,isCenterRipple:r&&r.isCenterRipple,duration:r&&r.duration?r.duration:350};return e}function xx(r){var e=r.target,t=this.rippleOptions.selector,i=t?xe(e,t):e;if(!(!i||this.rippleOptions&&xe(e,this.rippleOptions.ignore))){var n=i.getBoundingClientRect(),s=r.pageX-document.body.scrollLeft,o=r.pageY-(!document.body.scrollTop&&document.documentElement?document.documentElement.scrollTop:document.body.scrollTop),a=Math.max(Math.abs(s-n.left),Math.abs(s-n.right)),l=Math.max(Math.abs(o-n.top),Math.abs(o-n.bottom)),h=Math.sqrt(a*a+l*l),u=h*2+"px",c=s-n.left-h,d=o-n.top-h;this.rippleOptions&&this.rippleOptions.isCenterRipple&&(c=0,d=0,u="100%"),i.classList.add("e-ripple");var f=this.rippleOptions.duration.toString(),g="width: "+u+";height: "+u+";left: "+c+"px;top: "+d+"px;transition-duration: "+f+"ms;",m=Be("div",{className:"e-ripple-element",styles:g});i.appendChild(m),window.getComputedStyle(m).getPropertyValue("opacity"),m.style.transform="scale(1)",i!==this.parent&&F.add(i,"mouseleave",ku,{parent:this.parent,rippleOptions:this.rippleOptions})}}function Nx(r){GR(r,this)}function ku(r){GR(r,this)}function GR(r,e){var t=e.rippleOptions.duration,i=r.target,n=e.rippleOptions.selector,s=n?xe(i,n):i;if(!(!s||s&&s.className.indexOf("e-ripple")===-1)){var o=ln(".e-ripple-element",s),a=o[o.length-1];a&&(a.style.opacity="0.5"),e.parent!==s&&F.remove(s,"mouseleave",ku),setTimeout(function(){a&&a.parentNode&&a.parentNode.removeChild(a),s.getElementsByClassName("e-ripple-element").length||s.classList.remove("e-ripple"),e.done&&e.done(r)},t)}}var ol,KS;(function(r){r.Default="Default",r.Enable="Enable",r.Disable="Disable"})(KS||(KS={}));var c$="Module",d$=function(){function r(e){this.loadedModules=[],this.parent=e}return r.prototype.inject=function(e,t){var i=e.length;if(i===0){this.clean();return}this.loadedModules.length&&this.clearUnusedModule(e);for(var n=0;n<i;n++)for(var s=e[parseInt(n.toString(),10)],o=0,a=t;o<a.length;o++){var l=a[o],h=s.member;if(l&&l.prototype.getModuleName()===s.member&&!this.isModuleLoaded(h)){var u=Xm(l,s.args),c=this.getMemberName(h);s.isProperty?Ze(c,l,this.parent):Ze(c,u,this.parent);var d=s;d.member=c,this.loadedModules.push(d)}}},r.prototype.clean=function(){for(var e=0,t=this.loadedModules;e<t.length;e++){var i=t[e];i.isProperty||H(i.member,this.parent).destroy()}this.loadedModules=[]},r.prototype.getNonInjectedModules=function(e){var t=this;return e.filter(function(i){return!t.isModuleLoaded(i.member)})},r.prototype.clearUnusedModule=function(e){for(var t=this,i=e.map(function(l){return t.getMemberName(l.member)}),n=this.loadedModules.filter(function(l){return i.indexOf(l.member)===-1}),s=0,o=n;s<o.length;s++){var a=o[s];a.isProperty||H(a.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(a),1),LI(this.parent,a.member)}},r.prototype.getMemberName=function(e){return e[0].toLowerCase()+e.substring(1)+c$},r.prototype.isModuleLoaded=function(e){for(var t=0,i=this.loadedModules;t<i.length;t++){var n=i[t];if(n.member===this.getMemberName(e))return!0}return!1},r}(),Xe=function(){function r(e,t,i,n){this.isComplexArraySetter=!1,this.properties={},this.changedProperties={},this.childChangedProperties={},this.oldProperties={},this.finalUpdate=function(){},this.callChildDataBind=H("callChildDataBind",su),this.parentObj=e,this.controlParent=this.parentObj.controlParent||this.parentObj,this.propName=t,this.isParentArray=n,this.setProperties(i,!0)}return r.prototype.updateChange=function(e,t){e===!0?this.parentObj.childChangedProperties[""+t]=e:delete this.parentObj.childChangedProperties[""+t],this.parentObj.updateChange&&this.parentObj.updateChange(e,this.parentObj.propName)},r.prototype.updateTimeOut=function(){if(this.parentObj.updateTimeOut)this.parentObj.finalUpdate(),this.parentObj.updateTimeOut();else{var e=setTimeout(this.parentObj.dataBind.bind(this.parentObj)),t=function(){clearTimeout(e)};this.finalUpdate=t}},r.prototype.clearChanges=function(){this.finalUpdate(),this.updateChange(!1,this.propName),this.oldProperties={},this.changedProperties={}},r.prototype.setProperties=function(e,t){t===!0?(ai(this,e),this.updateChange(!1,this.propName),this.clearChanges()):ai(this,e)},r.prototype.dataBind=function(){if(this.callChildDataBind(this.childChangedProperties,this),this.isParentArray){var e=this.parentObj[this.propName].indexOf(this);Object.keys(this.changedProperties).length&&(Ze(this.propName+"."+e,this.changedProperties,this.parentObj.changedProperties),Ze(this.propName+"."+e,this.oldProperties,this.parentObj.oldProperties))}else this.parentObj.changedProperties[this.propName]=this.changedProperties,this.parentObj.oldProperties[this.propName]=this.oldProperties;this.clearChanges()},r.prototype.saveChanges=function(e,t,i,n){this.controlParent.isProtectedOnChange||(n||this.serverDataBind(e,t,!0),this.oldProperties[""+e]=i,this.changedProperties[""+e]=t,this.updateChange(!0,this.propName),this.finalUpdate(),this.updateTimeOut())},r.prototype.serverDataBind=function(e,t,i,n){},r.prototype.getParentKey=function(e){var t="",i=this.propName;if(this.isParentArray){t=this.parentObj[this.propName].indexOf(this);var n=this.parentObj[this.propName].length;n=e?n:n>0?n-1:0,t=t!==-1?"-"+t:"-"+n,i=i+t}return this.controlParent!==this.parentObj&&(i=this.parentObj.getParentKey()+"."+this.propName+t),i},r}(),Mp;(function(r){var e=[28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990];function t(n){var s=n.getDate(),o=n.getMonth(),a=n.getFullYear(),l=o+1,h=a;l<3&&(h-=1,l+=12);var u=Math.floor(h/100),c=u-Math.floor(u/4)-2,d=Math.floor(365.25*(h+4716))+Math.floor(30.6001*(l+1))+s-c-1524;u=Math.floor((d-186721625e-2)/36524.25),c=u-Math.floor(u/4)+1;var f=d+c+1524,g=Math.floor((f-122.1)/365.25),m=Math.floor(365.25*g),y=Math.floor((f-m)/30.6001);s=f-m-Math.floor(30.6001*y),o=Math.floor((f-m)/20.6001),o>13&&(g+=1,o-=12),o-=1,a=g-4716;var v=d-24e5,M=10631/30,S=d-1948084,b=Math.floor(S/10631);S=S-10631*b;var C=Math.floor((S-.1335)/M),T=30*b+C;S=S-Math.floor(C*M+.1335);var k=Math.floor((S+28.5001)/29.5);k===13&&(k=12);for(var N=S-Math.floor(29.5001*k-29),A=0;A<e.length&&!(e[parseInt(A.toString(),10)]>v);A++);var E=A+16260,x=Math.floor((E-1)/12),D=x+1,z=E-12*x,w=v-e[A-1]+1;return(w+"").length>2&&(w=N,z=k,D=T),{year:D,month:z,date:w}}r.getHijriDate=t;function i(n,s,o){var a=n,l=s,h=o,u=a-1,c=u*12+1+(l-1),d=c-16260,f=h+e[d-1]-1,g=f+24e5,m=Math.floor(g+.5),y=Math.floor((m-186721625e-2)/36524.25);y=m+1+y-Math.floor(y/4);var v=y+1524,M=Math.floor((v-122.1)/365.25),S=Math.floor(365.25*M),b=Math.floor((v-S)/30.6001),C=v-S-Math.floor(b*30.6001),T=b-(b>13.5?13:1),k=M-(T>2.5?4716:4715);return k<=0&&T--,new Date(k+"/"+T+"/"+C)}r.toGregorian=i})(Mp||(Mp={}));var p$=/\/MMMMM|MMMM|MMM|a|B|LLLL|LLL|EEEEE|EEEE|E|K|cccc|ccc|WW|W|G+|z+/gi,Ax="stand-alone",f$=["sun","mon","tue","wed","thu","fri","sat"],Ex={m:"getMinutes",h:"getHours",H:"getHours",s:"getSeconds",d:"getDate",f:"getMilliseconds"},g$={M:"month",d:"day",E:"weekday",c:"weekday",y:"year",m:"minute",h:"hour",H:"hour",s:"second",L:"month",a:"designator",B:"designator",z:"timeZone",Z:"timeZone",G:"era",f:"milliseconds"},m$="timeSeparator",$R=function(){function r(){}return r.dateFormat=function(e,t,i){var n=this,s=vt.getDependables(i,e,t.calendar);H("parserObject.numbers",s);var o=s.dateObject,a={isIslamic:vt.islamicRegex.test(t.calendar)};a.firstDayOfWeek=vt.getWeekData(e,i);var l=t.format||vt.getResultantPattern(t.skeleton,s.dateObject,t.type,!1,"");if(a.dateSeperator=vt.getDateSeparator(s.dateObject),Je(l))Hd("Format options or type given must be invalid");else{l=vt.ConvertDateToWeekFormat(l),a.pattern=l,a.numMapper=xi.getNumberMapper(s.parserObject,xi.getNumberingSystem(i));for(var h=l.match(p$)||[],u=0,c=h;u<c.length;u++){var d=c[u],f=d.length,g=d[0];switch(g==="K"&&(g="h"),g){case"E":case"c":a.weekday=s.dateObject[""+vt.days][""+Ax][vt.monthIndex[""+f]];break;case"M":case"L":a.month=s.dateObject[""+vt.month][""+Ax][vt.monthIndex[""+f]];break;case"a":a.designator=H("dayPeriods.format.wide",o);break;case"B":a.designator=H("dayPeriods.format.wide",o);break;case"G":{var m=f<=3?"eraAbbr":f===4?"eraNames":"eraNarrow";a.era=H("eras."+m,s.dateObject);break}case"z":a.timeZone=H("dates.timeZoneNames",s.parserObject);break}}}return function(y){return isNaN(y.getDate())?null:n.intDateFormatter(y,a)}},r.intDateFormatter=function(e,t){for(var i=t.pattern,n="",s=i.match(vt.dateParseRegex),o=this.getCurrentDateValue(e,t.isIslamic),a=0,l=s;a<l.length;a++){var h=l[a],u=h.length,c=h[0];c==="K"&&(c="h");var d=void 0,f="",g=void 0,m=void 0,y="";switch(c){case"M":case"L":d=o.month,u>2?n+=t.month[""+d]:g=!0;break;case"E":case"c":n+=t.weekday[""+f$[e.getDay()]];break;case"H":case"h":case"m":case"s":case"d":case"f":if(g=!0,c==="d")d=o.date;else if(c==="f"){g=!1,m=!0,f=e[""+Ex[""+c]]().toString(),f=f.substring(0,u);var v=f.length;if(u!==v){if(u>3)continue;for(var M=0;M<u-v;M++)f="0"+f.toString()}y+=f}else d=e[""+Ex[""+c]]();c==="h"&&(d=d%12||12);break;case"y":m=!0,y+=o.year,u===2&&(y=y.substr(y.length-2));break;case"a":{var S=e.getHours()<12?"am":"pm";n+=t.designator[""+S];break}case"B":{var b=e.getHours()<12?"am":"pm";n+=t.designator[""+b];break}case"G":{var C=e.getFullYear()<0?0:1,T=t.era[""+C];p(T)&&(T=t.era[C?0:1]),n+=T||"";break}case"'":n+=h==="''"?"'":h.replace(/'/g,"");break;case"z":{var k=e.getTimezoneOffset(),N=u<4?"+H;-H":t.timeZone.hourFormat;N=N.replace(/:/g,t.numMapper.timeSeparator),k===0?n+=t.timeZone.gmtZeroFormat:(m=!0,y=this.getTimeZoneValue(k,N)),y=t.timeZone.gmtFormat.replace(/\{0\}/,y);break}case":":n+=t.numMapper.numberSymbols[""+m$];break;case"/":n+=t.dateSeperator;break;case"W":g=!0,d=vt.getWeekOfYear(e,t.firstDayOfWeek);break;default:n+=h}g&&(m=!0,y=this.checkTwodigitNumber(d,u)),m&&(n+=xi.convertValueParts(y,vt.latnParseRegex,t.numMapper.mapper))}return n},r.getCurrentDateValue=function(e,t){return t?Mp.getHijriDate(e):{year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate()}},r.checkTwodigitNumber=function(e,t){var i=e+"";return t===2&&i.length!==2?"0"+i:i},r.getTimeZoneValue=function(e,t){var i=this,n=t.split(";"),s=n[e>0?1:0],o=Math.abs(e);return s=s.replace(/HH?|mm/g,function(a){var l=a.length,h=a.indexOf("H")!==-1;return i.checkTwodigitNumber(Math.floor(h?o/60:o%60),l)})},r}();_8($R);var kx={ms:"minimumSignificantDigits",ls:"maximumSignificantDigits",mf:"minimumFractionDigits",lf:"maximumFractionDigits"},y$="percentSign",v$="minusSign",Bl=["infinity","nan","group","decimal","exponential"],KR=function(){function r(){}return r.numberFormatter=function(e,t,i){var n=this,s=ie({},t),o={},a={},l,h=vt.getDependables(i,e,"",!0);h.numericObject,a.numberMapper=xi.getNumberMapper(h.parserObject,xi.getNumberingSystem(i),!0),a.currencySymbol=vt.getCurrencySymbol(h.numericObject,s.currency||bv,t.altSymbol,t.ignoreCurrency),a.percentSymbol=a.numberMapper.numberSymbols[""+y$],a.minusSymbol=a.numberMapper.numberSymbols[""+v$];var u=a.numberMapper.numberSymbols;if(t.format&&!vt.formatRegex.test(t.format))o=vt.customFormat(t.format,a,h.numericObject),!Je(s.useGrouping)&&s.useGrouping&&(s.useGrouping=o.pData.useGrouping);else{ie(s,vt.getProperNumericSkeleton(t.format||"N")),s.isCurrency=s.type==="currency",s.isPercent=s.type==="percent",l=vt.getSymbolPattern(s.type,a.numberMapper.numberSystem,h.numericObject,s.isAccount),s.groupOne=this.checkValueRange(s.maximumSignificantDigits,s.minimumSignificantDigits,!0),this.checkValueRange(s.maximumFractionDigits,s.minimumFractionDigits,!1,!0),Je(s.fractionDigits)||(s.minimumFractionDigits=s.maximumFractionDigits=s.fractionDigits),Je(s.useGrouping)&&(s.useGrouping=!0),s.isCurrency&&(l=l.replace(/\u00A4/g,vt.defaultCurrency));{var c=l.split(";");o.nData=vt.getFormatData(c[1]||"-"+c[0],!0,a.currencySymbol),o.pData=vt.getFormatData(c[0],!1,a.currencySymbol),s.useGrouping&&(s.groupSeparator=u[Bl[2]],s.groupData=this.getGroupingDetails(c[0]))}var d=Je(s.minimumFractionDigits);if(d&&(s.minimumFractionDigits=o.nData.minimumFraction),Je(s.maximumFractionDigits)){var f=o.nData.maximumFraction;s.maximumFractionDigits=Je(f)&&s.isPercent?0:f}var g=s.minimumFractionDigits,m=s.maximumFractionDigits;!Je(g)&&!Je(m)&&g>m&&(s.maximumFractionDigits=g)}return ie(o.nData,s),ie(o.pData,s),function(y){return isNaN(y)?u[Bl[1]]:isFinite(y)?n.intNumberFormatter(y,o,a,t):u[Bl[0]]}},r.getGroupingDetails=function(e){var t={},i=e.match(vt.negativeDataRegex);if(i&&i[4]){var n=i[4],s=n.lastIndexOf(",");if(s!==-1){var o=n.split(".")[0];t.primary=o.length-s-1;var a=n.lastIndexOf(",",s-1);a!==-1&&(t.secondary=s-1-a)}}return t},r.checkValueRange=function(e,t,i,n){var s=n?"f":"s",o=0,a=kx["l"+s],l=kx["m"+s];if(Je(e)||(this.checkRange(e,a,n),o++),Je(t)||(this.checkRange(t,l,n),o++),o===2)if(e<t)Hd(l+"specified must be less than the"+a);else return!0;else i&&o===1&&Hd("Both"+l+"and"+l+"must be present");return!1},r.checkRange=function(e,t,i){var n=i?[0,20]:[1,21];(e<n[0]||e>n[1])&&Hd(t+"value must be within the range"+n[0]+"to"+n[1])},r.intNumberFormatter=function(e,t,i,n){var s;if(!Je(t.nData.type)){e<0?(e=e*-1,s=t.nData):e===0?s=t.zeroData||t.pData:s=t.pData;var o="";if(s.isPercent&&(e=e*100),s.groupOne)o=this.processSignificantDigits(e,s.minimumSignificantDigits,s.maximumSignificantDigits);else if(o=this.processFraction(e,s.minimumFractionDigits,s.maximumFractionDigits,n),s.minimumIntegerDigits&&(o=this.processMinimumIntegers(o,s.minimumIntegerDigits)),i.isCustomFormat&&s.minimumFractionDigits<s.maximumFractionDigits&&/\d+\.\d+/.test(o)){for(var a=o.split("."),l=a[1],h=l.length,u=h-1;u>=0&&(l[parseInt(u.toString(),10)]==="0"&&u>=s.minimumFractionDigits);u--)l=l.slice(0,u);var c=i.numberMapper.numberSymbols[Bl[3]]||".";l===""?o=a[0]:o=a[0]+c+l}return s.type==="scientific"&&(o=e.toExponential(s.maximumFractionDigits),o=o.replace("e",i.numberMapper.numberSymbols[Bl[4]])),o=o.replace(".",i.numberMapper.numberSymbols[Bl[3]]),o=s.format==="#,###,,;(#,###,,)"?this.customPivotFormat(parseInt(o,10)):o,s.useGrouping&&(o=this.groupNumbers(o,s.groupData.primary,s.groupSeparator||",",i.numberMapper.numberSymbols[Bl[3]]||".",s.groupData.secondary)),o=xi.convertValueParts(o,vt.latnParseRegex,i.numberMapper.mapper),s.nlead==="N/A"?s.nlead:o==="0"&&n&&n.format==="0"?o+s.nend:s.nlead+o+s.nend}},r.processSignificantDigits=function(e,t,i){var n=e+"",s,o=n.length;return o<t?e.toPrecision(t):(n=e.toPrecision(i),s=+n,s+"")},r.groupNumbers=function(e,t,i,n,s){for(var o=!p(s)&&s!==0,a=e.split(n),l=a[0],h=l.length,u="";h>t;)u=l.slice(h-t,h)+(u.length?i+u:""),h-=t,o&&(t=s,o=!1);return a[0]=l.slice(0,h)+(u.length?i:"")+u,a.join(n)},r.roundTo=function(e,t){var i=Math.pow(10,t);return(Math.round(e*i)/i).toFixed(t)},r.processFraction=function(e,t,i,n){if(e!=null&&(e.toString().indexOf("e")!==-1||e.toString().indexOf("E")!==-1))return e.toFixed(t);var s=(e+"").split(".")[1],o=s?s.length:0;if(t&&o<t){var a="";if(o===0)a=e.toFixed(t);else{a+=e;for(var l=0;l<t-o;l++)a+="0";return a}return e.toFixed(t)}else if(!p(i)&&(o>i||i===0))return this.roundTo(e,i);var h=e+"";return h[0]==="0"&&n&&n.format==="###.00"&&(h=h.slice(1)),h},r.processMinimumIntegers=function(e,t){var i=e.split("."),n=i[0],s=n.length;if(s<t){for(var o=0;o<t-s;o++)n="0"+n;i[0]=n}return i.join(".")},r.customPivotFormat=function(e){if(e>=5e5){e/=1e6;var t=e.toString().split(".");t[0];var i=t[1];return i&&+i.substring(0,1)>=5?Math.ceil(e).toString():Math.floor(e).toString()}return""},r}();Q8(KR);var Lx="stand-alone",M$=/^[0-9]*$/,zx={minute:"setMinutes",hour:"setHours",second:"setSeconds",day:"setDate",month:"setMonth",milliseconds:"setMilliseconds"},S$="months",C$=function(){function r(){}return r.dateParser=function(e,t,i){var n=this,s=vt.getDependables(i,e,t.calendar),o=xi.getCurrentNumericOptions(s.parserObject,xi.getNumberingSystem(i),!1,$h()),a={},l=t.format||vt.getResultantPattern(t.skeleton,s.dateObject,t.type,!1,""),h="",u;if(Je(l))Hd("Format options or type given must be invalid");else{l=vt.ConvertDateToWeekFormat(l),a={isIslamic:vt.islamicRegex.test(t.calendar),pattern:l,evalposition:{},culture:e};for(var c=l.match(vt.dateParseRegex)||[],d=c.length,f=0,g=0,m=!1,y=o.numericRegex,v=xi.getNumberMapper(s.parserObject,xi.getNumberingSystem(i)),M=0;M<d;M++){var S=c[parseInt(M.toString(),10)],b=S.length,C=S[0]==="K"?"h":S[0],T=void 0,k=void 0,N=g$[""+C],A=b===2?"":"?";switch(m&&(f=g,m=!1),C){case"E":case"c":{var E=void 0;E=s.dateObject[""+vt.days][""+Lx][vt.monthIndex[""+b]];var x=xi.reverseObject(E);h+="("+Object.keys(x).join("|")+")";break}case"M":case"L":case"d":case"m":case"s":case"h":case"H":case"f":if(k=!0,(C==="M"||C==="L")&&b>2){var D=void 0;D=s.dateObject[""+S$][""+Lx][vt.monthIndex[""+b]],a[""+N]=xi.reverseObject(D),h+="("+Object.keys(a[""+N]).join("|")+")"}else if(C==="f"){if(b>3)continue;T=!0,h+="("+y+y+"?"+y+"?)"}else T=!0,h+="("+y+y+A+")";C==="h"&&(a.hour12=!0);break;case"W":{var z=b===1?"?":"";h+="("+y+z+y+")";break}case"y":k=T=!0,b===2?h+="("+y+y+")":h+="("+y+"{"+b+",})";break;case"a":{k=!0;var w=H("dayPeriods.format.wide",s.dateObject);a[""+N]=xi.reverseObject(w),h+="("+Object.keys(a[""+N]).join("|")+")";break}case"G":{k=!0;var O=b<=3?"eraAbbr":b===4?"eraNames":"eraNarrow";a[""+N]=xi.reverseObject(H("eras."+O,s.dateObject)),h+="("+Object.keys(a[""+N]).join("|")+"?)";break}case"z":{var L=new Date().getTimezoneOffset();k=L!==0,a[""+N]=H("dates.timeZoneNames",s.parserObject);var j=a[""+N];u=b<4;var B=u?"+H;-H":j.hourFormat;B=B.replace(/:/g,v.timeSeparator),h+="("+this.parseTimeZoneRegx(B,j,y)+")?",m=!0,g=u?6:12;break}case"'":{var V=S.replace(/'/g,"");h+="("+V+")?";break}default:h+="([\\D])";break}if(k&&(a.evalposition[""+N]={isNumber:T,pos:M+1+f,hourOnly:u}),M===d-1&&!p(h)){var ee=RegExp;a.parserRegex=new ee("^"+h+"$","i")}}}return function(W){var J=n.internalDateParse(W,a,o);if(p(J)||!Object.keys(J).length)return null;if(a.isIslamic){var K={},le=J.year,me=J.day,pe=J.month,P=le?le+"":"",ve=P.length===2;(!le||!pe||!me||ve)&&(K=Mp.getHijriDate(new Date)),ve&&(le=parseInt((K.year+"").slice(0,2)+P,10));var X=Mp.toGregorian(le||K.year,pe||K.month,me||K.date);J.year=X.getFullYear(),J.month=X.getMonth()+1,J.day=X.getDate()}return n.getDateObject(J)}},r.getDateObject=function(e,t){var i=t||new Date;i.setMilliseconds(0);var n=["hour","minute","second","milliseconds","month","day"],s=e.year,o=e.designator,a=e.timeZone;if(!Je(s)){var l=(s+"").length;if(l<=2){var h=Math.floor(i.getFullYear()/100)*100;s+=h}i.setFullYear(s)}for(var u=0,c=n;u<c.length;u++){var d=c[u],f=e[""+d];if(Je(f)&&d==="day"&&i.setDate(1),!Je(f))if(d==="month"){if(f-=1,f<0||f>11)return new Date("invalid");var g=i.getDate();i.setDate(1),i[zx[""+d]](f);var m=new Date(i.getFullYear(),f+1,0).getDate();i.setDate(g<m?g:m)}else{if(d==="day"){var y=new Date(i.getFullYear(),i.getMonth()+1,0).getDate();if(f<1||f>y)return null}if(d==="hour"){var v=e.hour12;if(v){if(f<1||f>12)return null}else if(f<0||f>23)return null}else if(d==="minute"||d==="second"){if(f<0||f>59)return null}else if(d==="milliseconds"&&(f<0||f>999))return null;i[""+zx[""+d]](f)}}if(!Je(o)){var M=i.getHours();o==="pm"?i.setHours(M+(M===12?0:12)):M===12&&i.setHours(0)}if(!Je(a)){var S=a-i.getTimezoneOffset();S!==0&&i.setMinutes(i.getMinutes()+S)}return i},r.internalDateParse=function(e,t,i){var n=e.match(t.parserRegex),s={hour:0,minute:0,second:0};if(p(n))return null;for(var o=Object.keys(t.evalposition),a=0,l=o;a<l.length;a++){var h=l[a],u=t.evalposition[""+h],c=n[u.pos];if(u.isNumber)s[""+h]=this.internalNumberParser(c,i);else if(h==="timeZone"&&!Je(c)){var d=u.pos,f=void 0,g=n[d+1],m=!Je(g);u.hourOnly?f=this.getZoneValue(m,g,n[d+4],i)*60:(f=this.getZoneValue(m,g,n[d+7],i)*60,f+=this.getZoneValue(m,n[d+4],n[d+10],i)),p(f)||(s[""+h]=f)}else{var y=["en-US","en-MH","en-MP"];c=h==="month"&&!t.isIslamic&&(t.culture==="en"||t.culture==="en-GB"||t.culture==="en-US")?c[0].toUpperCase()+c.substring(1).toLowerCase():c,c=h!=="month"&&h==="designator"&&t.culture&&t.culture.indexOf("en-")!==-1&&y.indexOf(t.culture)===-1?c.toLowerCase():c,s[""+h]=t[""+h][""+c]}}return t.hour12&&(s.hour12=!0),s},r.internalNumberParser=function(e,t){return e=xi.convertValueParts(e,t.numberParseRegex,t.numericPair),M$.test(e)?+e:null},r.escapeRegex=function(e){var t="__TEMP__",i=e.replace("{0}",t),n=/[.*+?^${}()|[\]\\]/g,s=i.replace(n,"\\$&");return s.replace(t,"{0}")},r.parseTimeZoneRegx=function(e,t,i){var n=t.gmtFormat,s,o="("+i+")("+i+")";s=e.replace("+","\\+"),e.indexOf("HH")!==-1?s=s.replace(/HH|mm/g,"("+o+")"):s=s.replace(/H|m/g,"("+o+"?)"),n=this.escapeRegex(n);var a=s.split(";").map(function(h){return n.replace("{0}",h)}),l=this.escapeRegex(t.gmtZeroFormat);return s=a.join("|")+"|"+l,s},r.getZoneValue=function(e,t,i,n){var s=e?t:i;if(!s)return 0;var o=this.internalNumberParser(s,n);return e?-o:o},r}(),b$=RegExp,I$=new b$("^([^0-9]*)(([0-9,]*[0-9]+)(.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$"),D$=/,/g,T$=["minusSign","infinity"],w$=function(){function r(){}return r.numberParser=function(e,t,i){var n=this,s=vt.getDependables(i,e,"",!0),o={custom:!0};vt.formatRegex.test(t.format)||!t.format?(ie(o,vt.getProperNumericSkeleton(t.format||"N")),o.custom=!1,o.fractionDigits||t.maximumFractionDigits&&(o.maximumFractionDigits=t.maximumFractionDigits)):ie(o,vt.customFormat(t.format,null,null)),H("numbers",s.parserObject);var a=xi.getCurrentNumericOptions(s.parserObject,xi.getNumberingSystem(i),!0,$h());o.symbolRegex=xi.getSymbolRegex(Object.keys(a.symbolMatch)),o.infinity=a.symbolNumberSystem[T$[1]];var l;if(l=vt.getSymbolPattern(o.type,a.numberSystem,s.numericObject,o.isAccount),l){l=l.replace(/\u00A4/g,vt.defaultCurrency);var h=l.split(";");o.nData=vt.getFormatData(h[1]||"-"+h[0],!0,""),o.pData=vt.getFormatData(h[0],!0,"")}return function(u){return n.getParsedNumber(u,o,a)}},r.getParsedNumber=function(e,t,i){var n,s,o,a,l,h;if(e.indexOf(t.infinity)!==-1)return 1/0;e=xi.convertValueParts(e,t.symbolRegex,i.symbolMatch),e=xi.convertValueParts(e,i.numberParseRegex,i.numericPair),e=e.indexOf("-")!==-1?e.replace("-.","-0."):e,e.indexOf(".")===0&&(e="0"+e);var u=e.match(I$);if(p(u))return NaN;a=u[1],o=u[2];var c=u[5];return l=u[6],n=t.custom?a===t.nData.nlead&&l===t.nData.nend:a.indexOf(t.nData.nlead)!==-1&&l.indexOf(t.nData.nend)!==-1,s=n?t.nData.isPercent:t.pData.isPercent,o=o.replace(D$,""),c&&(o+=c),h=+o,(t.type==="percent"||s)&&(h=h/100),(t.custom||t.fractionDigits)&&(h=parseFloat(h.toFixed(t.custom?n?t.nData.maximumFractionDigits:t.pData.maximumFractionDigits:t.fractionDigits))),t.maximumFractionDigits&&(h=this.convertMaxFracDigits(o,t,h,n)),n&&(h*=-1),h},r.convertMaxFracDigits=function(e,t,i,n){var s=e.split(".");return s[1]&&s[1].length>t.maximumFractionDigits&&(i=+i.toFixed(t.custom?n?t.nData.maximumFractionDigits:t.pData.maximumFractionDigits:t.maximumFractionDigits)),i},r}(),JS=new ey,x$=!1,Ks={},Sp="en-US",ZS=["numericObject","dateObject"],of=function(){function r(e){e&&(this.culture=e)}return r.prototype.getDateFormat=function(e){return $R.dateFormat(this.getCulture(),e||{type:"date",skeleton:"short"},Ks)},r.prototype.getNumberFormat=function(e){return e&&!e.currency&&(e.currency=bv),KR.numberFormatter(this.getCulture(),e||{},Ks)},r.prototype.getDateParser=function(e){return C$.dateParser(this.getCulture(),e||{skeleton:"short",type:"date"},Ks)},r.prototype.getNumberParser=function(e){return w$.numberParser(this.getCulture(),e||{format:"N"},Ks)},r.prototype.formatNumber=function(e,t){return this.getNumberFormat(t)(e)},r.prototype.formatDate=function(e,t){return this.getDateFormat(t)(e)},r.prototype.parseDate=function(e,t){return this.getDateParser(t)(e)},r.prototype.parseNumber=function(e,t){return this.getNumberParser(t)(e)},r.prototype.getDatePattern=function(e,t){return vt.getActualDateTimeFormat(this.getCulture(),e,Ks,t)},r.prototype.getNumberPattern=function(e,t){return vt.getActualNumberFormat(this.getCulture(),e,Ks,t)},r.prototype.getFirstDayOfWeek=function(){return vt.getWeekData(this.getCulture(),Ks)},r.prototype.getCulture=function(){return this.culture||Sp},r}();function N$(r){Sp=r,JS.notify("notifyExternalChange",{locale:Sp})}function joe(r,e){var t=vt.getDependables(Ks,r,"",!0)[ZS[0]],i=vt.getDependables(Ks,r,"")[ZS[1]],n=H("defaultNumberingSystem",t),s=H("symbols-numberSystem-"+n,t),o=vt.getSymbolPattern("decimal",n,t,!1);return ie(s,vt.getFormatData(o,!0,"",!0),{dateSeparator:vt.getDateSeparator(i)})}function Poe(r){return vt.getDependables(Ks,"",r,!1)[ZS[1]]}var A$=["grid","pivotview","treegrid","spreadsheet","rangeNavigator","DocumentEditor","listbox","inplaceeditor","PdfViewer","richtexteditor","DashboardLayout","chart","stockChart","circulargauge","diagram","heatmap","lineargauge","maps","slider","smithchart","barcode","sparkline","treemap","bulletChart","kanban","daterangepicker","schedule","gantt","signature","query-builder","drop-down-tree","carousel","filemanager","uploader","accordion","tab","treeview"],E$=["grid","chart","maps","schedule","gantt","richtexteditor","kanban","treegrid","filemanager","pivotview","diagram","blockeditor","spreadsheet","DocumentEditor"],k$=["maps","schedule","gantt","richtexteditor","kanban","treegrid","filemanager","pivotview","diagram","blockeditor","PdfViewer","DocumentEditor"],L$=["grid","chart","maps","schedule","gantt","richtexteditor","kanban","treegrid","filemanager","pivotview","diagram","blockeditor","PdfViewer","spreadsheet"],z$=[115,121,110,99,102,117,115,105,111,110,46,105,115,76,105,99,86,97,108,105,100,97,116,101,100],XS,Ox=!0,JR=function(){function r(e){this.isLicensed=!0,this.version="32",this.platform=/JavaScript|ASPNET|ASPNETCORE|ASPNETMVC|FileFormats|essentialstudio/i,this.prefixRegex=/essentialui|pdfviewersdk|spreadsheeteditorsdk|docxeditorsdk/i,this.incorrectPlatform=/JavaScript|ASPNET|ASPNETCORE|ASPNETMVC|FileFormats/i,this.errors={noLicense:"<span>This application was built using a trial version of Syncfusion<sup></sup> Essential Studio<sup></sup>. To remove the license validation message permanently, a valid license key must be included.</span>",trailExpired:"<span>This application was built using a trial version of Syncfusion<sup></sup> Essential Studio<sup></sup>. To remove the license validation message permanently, a valid license key must be included.</span>",versionMismatched:"<span>The included Syncfusion<sup></sup> license key is invalid.</span>",platformMismatched:"<span>The included Syncfusion<sup></sup> license key is invalid.</span>",invalidKey:"<span>The included Syncfusion<sup></sup> license key is invalid.</span>",componentRestricted:"<span>The included Syncfusion<sup></sup> license key is invalid.</span>"},this.validatedPlatforms=[],this.minVersion=null,this.allowedComponentsMap={pdfviewersdk:E$,spreadsheeteditorsdk:k$,docxeditorsdk:L$},this.manager=function(){var t=null;function i(s){t=s}function n(){return t}return{setKey:i,getKey:n}}(),this.npxManager=function(){var t="npxKeyReplace";function i(){return t}return{getKey:i}}(),this.manager.setKey(e)}return r.prototype.validate=function(e){var t=[115,121,110,99,102,117,115,105,111,110,46,108,105,99,101,110,115,101,67,111,110,116,101,110,116],i=[115,121,110,99,102,117,115,105,111,110,46,99,108,97,105,109,65,99,99,111,117,110,116,85,82,76];if(Wc&&!H(TM(z$),Wc)&&!H("Blazor",Wc)){var n=void 0,s=void 0;if(this.manager&&this.manager.getKey()||this.npxManager&&this.npxManager.getKey()!=="npxKeyReplace"){var o=this.getInfoFromKey();if(o&&o.length){for(var a=void 0,l=0,h=o;l<h.length;l++){var u=h[l],c=!1;if(!this.platform.test(u.platform)&&!this.prefixRegex.test(u.platform)||u.invalidPlatform)n=this.errors.platformMismatched;else if(this.incorrectPlatform.test(u.platform)&&parseInt(u.version.split(".")[0],10)>30)n=this.errors.platformMismatched;else if(this.prefixRegex.test(u.platform)&&parseInt(u.version.split(".")[0],10)>30){var d=this.restrictComponent(e,u.platform);if(d?(a=d,c=!0):a=null,u.minVersion>=u.lastValue&&u.minVersion!==u.lastValue||u.lastValue<parseInt(this.version,10)?(n=this.errors.versionMismatched,n=n.replace("##LicenseVersion",u.version),n=n.replace("##Requireversion",this.version+".x")):(u.lastValue==null||isNaN(u.lastValue))&&(n=this.errors.versionMismatched,n=n.replace("##LicenseVersion",u.version),n=n.replace("##Requireversion",this.version+".x")),u.expiryDate){var f=new Date(u.expiryDate),g=new Date;f<g&&f!==g&&(n=this.errors.trailExpired,c=!0)}if(!n&&!a)break}else if(u.minVersion>=u.lastValue&&u.minVersion!==u.lastValue||u.lastValue<parseInt(this.version,10)?(n=this.errors.versionMismatched,n=n.replace("##LicenseVersion",u.version),n=n.replace("##Requireversion",this.version+".x")):(u.lastValue==null||isNaN(u.lastValue))&&(n=this.errors.versionMismatched,n=n.replace("##LicenseVersion",u.version),n=n.replace("##Requireversion",this.version+".x")),u.expiryDate){var f=new Date(u.expiryDate),g=new Date;if(f!==g&&f<g)n=this.errors.trailExpired;else break}!c&&this.prefixRegex.test(u.platform)&&this.validatedPlatforms.push(u.platform)}(!this.validatedPlatforms.length||a)&&(n=n||a)}else n=this.errors.invalidKey}else{var m=H(TM(t),Wc);s=H(TM(i),Wc),m&&m!==""?n=m:n=this.errors.noLicense}if(n&&typeof document<"u"&&!p(document)){if(Ox){XS=s&&s!==""?s:"https://www.syncfusion.com/account/claim-license-key?pl=SmF2YVNjcmlwdA==&vs=MzI=&utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information";var y=Be("div",{innerHTML:`<img src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzE5OV80KSI+CjxwYXRoIGQ9Ik0xMiAyMUMxNi45NzA2IDIxIDIxIDE2Ljk3MDYgMjEgMTJDMjEgNy4wMjk0NCAxNi45NzA2IDMgMTIgM0M3LjAyOTQ0IDMgMyA3LjAyOTQ0IDMgMTJDMyAxNi45NzA2IDcuMDI5NDQgMjEgMTIgMjFaIiBzdHJva2U9IiM3MzczNzMiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMS4yNSAxMS4yNUgxMlYxNi41SDEyLjc1IiBmaWxsPSIjNjE2MDYzIi8+CjxwYXRoIGQ9Ik0xMS4yNSAxMS4yNUgxMlYxNi41SDEyLjc1IiBzdHJva2U9IiM3MzczNzMiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMS44MTI1IDlDMTIuNDMzOCA5IDEyLjkzNzUgOC40OTYzMiAxMi45Mzc1IDcuODc1QzEyLjkzNzUgNy4yNTM2OCAxMi40MzM4IDYuNzUgMTEuODEyNSA2Ljc1QzExLjE5MTIgNi43NSAxMC42ODc1IDcuMjUzNjggMTAuNjg3NSA3Ljg3NUMxMC42ODc1IDguNDk2MzIgMTEuMTkxMiA5IDExLjgxMjUgOVoiIGZpbGw9IiM3MzczNzMiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xOTlfNCI+CjxyZWN0IHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K' style="top: 6px;
                    position: absolute;
                    left: 16px;
                    width: 24px;
                    height: 24px;"/>`+n+' <a style="text-decoration: none;color: #0D6EFD;font-weight: 500;" href='+XS+">Claim your free account</a>"});y.setAttribute("style",`position: fixed;
                top: 10px;
                left: 10px;
                right: 10px;
                font-size: 14px;
                background: #EEF2FF;
                color: #222222;
                z-index: 999999999;
                text-align: left;
                border: 1px solid #EEEEEE;
                padding: 10px 11px 10px 50px;
                border-radius: 8px;
                font-family: Helvetica Neue, Helvetica, Arial;`),document.body.appendChild(y),Ox=!1}this.isLicensed=!1}}return this.isLicensed},r.prototype.restrictComponent=function(e,t){var i=["DocumentEditor","spreadsheet","PdfViewer"];if(t==="essentialui")return i.indexOf(e)===-1?null:this.errors.componentRestricted;var n=this.allowedComponentsMap[t]||[];return n.indexOf(e)===-1?null:this.errors.componentRestricted},r.prototype.getDecryptedData=function(e){try{return atob(e)}catch{return""}},r.prototype.getInfoFromKey=function(){try{var e="",t=[5439488,7929856,5111808,6488064,4587520,7667712,5439488,6881280,5177344,7208960,4194304,4456448,6619136,7733248,5242880,7077888,6356992,7602176,4587520,7274496,7471104,7143424],i=[],n=[],s=!1,o=!1;this.manager.getKey()?e=this.manager.getKey():(o=!0,e=this.npxManager.getKey().split("npxKeyReplace")[1]);for(var a=e.split(";"),l=0,h=a;l<h.length;l++){var u=h[l],c=this.getDecryptedData(u);if(c){var d=0,f="";if(o){for(var y=c[c.length-1],v=[],g=0;g<c.length;g++)v[parseInt(g.toString(),10)]=c[parseInt(g.toString(),10)].charCodeAt(0)-y.charCodeAt(0);for(var g=0;g<v.length;g++)f+=String.fromCharCode(v[parseInt(g.toString(),10)])}else for(var g=0;g<c.length;g++,d++){d===t.length&&(d=0);var m=c.charCodeAt(g);f+=String.fromCharCode(m^t[parseInt(d.toString(),10)]>>16)}if(this.platform.test(f)||this.prefixRegex.test(f)){if(i=f.split(";"),s=!1,i.length>3){var M=parseInt(i[1].split(".")[0],10),S=parseInt(i[4],10);n.push({platform:i[0],version:i[1],expiryDate:i[2],lastValue:S,minVersion:M})}}else f&&f.split(";").length>3&&(s=!0)}}return s&&!n.length?[{invalidPlatform:s}]:n.length?n:null}catch{return null}},r}(),ZR=new JR;function TM(r){for(var e="",t=0,i=r;t<i.length;t++){var n=i[t];e+=String.fromCharCode(n)}return e}function XR(r){typeof window<"u"&&(r=window.syncfusionLicenseKey?window.syncfusionLicenseKey:r),ZR=new JR(r)}var O$=function(r,e){return typeof window<"u"&&(e=window.syncfusionLicenseKey?window.syncfusionLicenseKey:e),e&&XR(e),ZR.validate(r)},R$=function(){var r=`
    <div style="
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 99999;
    ">
        <div style="
    background: #FFFFFF;
    height: 455px;
    width: 840px;
    font-family: Helvetica Neue, Helvetica, Arial;
    color: #000000;
    box-shadow: 0px 4.8px 14.4px rgb(0 0 0 / 18%), 0px 25.6px 57.6px rgb(0 0 0 / 22%);
    display: block;
    margin: 8% auto;
    border-radius: 20px;
    ">
            <div style="
    position: absolute;
width: 838px;
height: 62px;
background-color: #F9F9F9;
border: 1px solid #EEEEEE;
border-top-left-radius: 20px;
border-top-right-radius: 20px;
">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQ2IiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMTQ2IDMyIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNNDAuNTk2NSAxNS4wMDc4SDMyLjQyNUMzMS41NTU3IDE1LjAwNzggMzAuOTAzNyAxNS4xODEyIDMwLjUxMjUgMTUuNDg0NkMzMC4xMjEzIDE1LjgzMTQgMjkuOTA0IDE2LjMwODIgMjkuOTA0IDE3LjA0NTFDMjkuOTA0IDE3LjYwODYgMzAuMDc3OCAxOC4wNDIxIDMwLjQyNTYgMTguMzAyMkMzMC43NzMzIDE4LjYwNTYgMzEuMjk0OSAxOC43MzU2IDMxLjk5MDMgMTguNzM1NkgzNi4zMzY5QzM4LjExODkgMTguNzM1NiAzOS40MjI5IDE5LjA4MjQgNDAuMTYxOCAxOS43MzI2QzQwLjk0NDIgMjAuNDI2MiA0MS4yOTE5IDIxLjU1MzIgNDEuMjkxOSAyMy4xMTM3QzQxLjI5MTkgMjQuNzE3NiA0MC44NTcyIDI1Ljg4OCAzOS45ODc5IDI2LjY2ODJDMzkuMTE4NiAyNy40MDUxIDM3LjcyNzcgMjcuNzk1MyAzNS44NTg3IDI3Ljc5NTNIMjcuMDc4N1YyNS4wMjFIMzUuMzM3MkMzNi4yOTM0IDI1LjAyMSAzNi45NDU0IDI0Ljg5MSAzNy4zMzY2IDI0LjYzMDlDMzcuNzI3NyAyNC4zNzA4IDM3LjkwMTYgMjMuODk0IDM3LjkwMTYgMjMuMjg3MUMzNy45MDE2IDIyLjYzNjkgMzcuNzI3NyAyMi4xNjAxIDM3LjM4IDIxLjlDMzcuMDMyMyAyMS42Mzk5IDM2LjQyMzggMjEuNDY2NSAzNS41NTQ1IDIxLjQ2NjVIMzEuNjQyNkMyOS44NjA1IDIxLjQ2NjUgMjguNTEzMSAyMS4xMTk4IDI3LjY4NzMgMjAuMzgyOEMyNi44NjE0IDE5LjY0NTkgMjYuNDI2OCAxOC41MTg5IDI2LjQyNjggMTcuMDAxN0MyNi40MjY4IDE1LjM1NDUgMjYuODYxNCAxNC4xNDA4IDI3LjczMDcgMTMuMzYwNkMyOC42IDEyLjU4MDMgMjkuOTkwOSAxMi4yMzM1IDMxLjkwMzQgMTIuMjMzNUg0MC41OTY1VjE1LjAwNzhaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik00OC4wNzI3IDI1LjI4MTFINTAuNTA2OFYxNi4zOTQ5SDUzLjU0OTNWMjcuNTM1MkM1My41NDkzIDI5LjA1MjQgNTMuMjAxNiAzMC4xNzk0IDUyLjUwNjIgMzAuOTE2M0M1MS44MTA3IDMxLjY1MzIgNTAuNzI0MSAzMiA0OS4yNDYzIDMySDQzLjMzNVYyOS42NTkySDQ4LjcyNDdDNDkuMjg5NyAyOS42NTkyIDQ5Ljc2NzkgMjkuNTI5MiA1MC4wNzIxIDI5LjIyNThDNTAuMzc2NCAyOC45NjU3IDUwLjU1MDIgMjguNTMyMiA1MC41NTAyIDI4LjAxMlYyNy44Mzg2SDQ3Ljg5ODlDNDYuMjAzNyAyNy44Mzg2IDQ0Ljk0MzIgMjcuNDkxOSA0NC4yNDc4IDI2Ljg0MTZDNDMuNTA4OSAyNi4xNDgxIDQzLjE2MTEgMjUuMDY0NCA0My4xNjExIDIzLjQ2MDVWMTYuMzk0OUg0Ni4xNjAyVjIzLjIwMDVDNDYuMTYwMiAyNC4wNjc0IDQ2LjI5MDYgMjQuNjMwOSA0Ni41NTE0IDI0Ljg5MUM0Ni43MjUzIDI1LjE1MTEgNDcuMjQ2OSAyNS4yODExIDQ4LjA3MjcgMjUuMjgxMVoiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTU1Ljg5NjUgMTYuMzk0OUg2MS41OTA0QzYzLjMyOTEgMTYuMzk0OSA2NC41NDYxIDE2LjY5ODMgNjUuMjg1IDE3LjM0ODVDNjYuMDIzOSAxNy45OTg4IDY2LjM3MTYgMTkuMDgyNCA2Ni4zNzE2IDIwLjU1NjNWMjcuNzk1M0g2My4zMjkxVjIwLjk0NjRDNjMuMzI5MSAyMC4wNzk0IDYzLjE5ODcgMTkuNTE1OSA2Mi45Mzc5IDE5LjI5OTJDNjIuNjc3MSAxOS4wMzkxIDYyLjE1NTUgMTguOTA5MSA2MS4zMjk3IDE4LjkwOTFINTguODk1NlYyNy44Mzg2SDU1Ljg1M1YxNi4zOTQ5SDU1Ljg5NjVaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik03NC45MzQyIDI1LjM2NzhINzguMTUwNlYyNy43OTUySDc0LjAyMTRDNzIuOTc4MiAyNy43OTUyIDcyLjEwODkgMjcuNjY1MiA3MS40NTcgMjcuNDkxOEM3MC44MDUgMjcuMjc1IDcwLjE5NjUgMjYuOTI4MyA2OS43MTgzIDI2LjQ1MTRDNjkuMTk2OCAyNS45MzEzIDY4Ljc2MjEgMjUuMjgxMSA2OC40NTc4IDI0LjU0NDJDNjguMTUzNiAyMy44MDcyIDY4LjAyMzIgMjIuOTgzNiA2OC4wMjMyIDIyLjE2QzY4LjAyMzIgMjEuMjkzMSA2OC4xNTM2IDIwLjQ2OTUgNjguNDU3OCAxOS42ODkyQzY4Ljc2MjEgMTguOTA5IDY5LjE1MzMgMTguMzAyMSA2OS43MTgzIDE3Ljc4MTlDNzAuMjM5OSAxNy4zMDUxIDcwLjgwNSAxNi45NTgzIDcxLjUwMDQgMTYuNzQxNkM3Mi4xOTU5IDE2LjUyNDkgNzMuMDIxNyAxNi40MzgyIDc0LjA2NDkgMTYuNDM4Mkg3OC4xOTQxVjE4LjkwOUg3NC45MzQyQzczLjQ5OTggMTguOTA5IDcyLjU0MzYgMTkuMTY5MSA3MS45Nzg1IDE5LjY0NTlDNzEuNDU2OSAyMC4xMjI3IDcxLjE1MjcgMjAuOTg5NyA3MS4xNTI3IDIyLjIwMzRDNzEuMTUyNyAyMi44OTY5IDcxLjI4MzEgMjMuNDYwNSA3MS41MDA0IDIzLjkzNzNDNzEuNzE3NyAyNC40MTQxIDcyLjA2NTUgMjQuNzYwOSA3Mi41MDAxIDI1LjA2NDNDNzIuNzE3NCAyNS4xOTQ0IDcyLjk3ODIgMjUuMjgxMSA3My4yODI1IDI1LjM2NzhDNzMuNjMwMiAyNS4zMjQ0IDc0LjE1MTggMjUuMzY3OCA3NC45MzQyIDI1LjM2NzhaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik04MC44NDU2IDE4LjY0ODlINzguNjcyNFYxNi4zNTE1SDgwLjg0NTZWMTUuMTgxMUM4MC44NDU2IDE0LjAxMDggODEuMDYzIDEzLjIzMDUgODEuNDk3NiAxMi44NDA0QzgxLjkzMjMgMTIuNDUwMyA4Mi43NTgxIDEyLjIzMzUgODMuOTc1MSAxMi4yMzM1SDg2Ljg0MzhWMTQuNDAwOUg4NS40MDk1Qzg0Ljg4NzkgMTQuNDAwOSA4NC41NDAyIDE0LjQ4NzYgODQuMzIyOSAxNC42NjFDODQuMTA1NSAxNC44MzQ0IDgzLjk3NTEgMTUuMDk0NSA4My45NzUxIDE1LjQ0MTJWMTYuMzUxNUg4Ni44NDM4VjE4LjY0ODlIODMuOTc1MVYyNy43OTUzSDgwLjg0NTZWMTguNjQ4OVoiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTk4LjQwNTYgMjcuNzk1M0g5Mi43MTE2QzkxLjAxNjUgMjcuNzk1MyA4OS44NDI5IDI3LjQ0ODUgODkuMDYwNSAyNi43OTgzQzg4LjMyMTYgMjYuMTQ4MSA4Ny45MzA0IDI1LjA2NDQgODcuOTMwNCAyMy41OTA2VjE2LjM5NDlIOTAuOTI5NVYyMy40MTcyQzkwLjkyOTUgMjQuMTk3NCA5MS4wNTk5IDI0LjY3NDMgOTEuMzIwNyAyNC45MzQ0QzkxLjU4MTUgMjUuMTk0NCA5Mi4xMDMxIDI1LjMyNDUgOTIuOTI4OSAyNS4zMjQ1SDk1LjM2M1YxNi4zOTQ5SDk4LjQwNTZWMjcuNzk1M1oiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTEwMC42MjIgMjUuNDExMkgxMDcuMDExQzEwNy41NzcgMjUuNDExMiAxMDguMDExIDI1LjMyNDUgMTA4LjI3MiAyNS4xNTExQzEwOC41MzMgMjQuOTc3NyAxMDguNjYzIDI0LjY3NDMgMTA4LjY2MyAyNC4zMjc1QzEwOC42NjMgMjMuOTM3NCAxMDguNTMzIDIzLjY3NzMgMTA4LjI3MiAyMy40NjA1QzEwOC4wMTEgMjMuMjg3MSAxMDcuNTc3IDIzLjIwMDUgMTA3LjA1NSAyMy4yMDA1SDEwNC40NDdDMTAyLjg4MiAyMy4yMDA1IDEwMS44MzkgMjIuOTgzNyAxMDEuMzE4IDIyLjUwNjlDMTAwLjc1MiAyMi4wMzAxIDEwMC40OTIgMjEuMjA2NSAxMDAuNDkyIDE5Ljk5MjdDMTAwLjQ5MiAxOC43NzkgMTAwLjgzOSAxNy44Njg3IDEwMS40OTEgMTcuMjYxOEMxMDIuMTQzIDE2LjY5ODMgMTAzLjE4NyAxNi4zOTQ5IDEwNC41MzQgMTYuMzk0OUgxMTEuMDU0VjE4Ljc3OUgxMDUuNzA4QzEwNC44MzggMTguNzc5IDEwNC4yNzMgMTguODY1NyAxMDQuMDEyIDE4Ljk5NTdDMTAzLjc1MiAxOS4xNjkxIDEwMy42MjEgMTkuNDI5MiAxMDMuNjIxIDE5LjgxOTRDMTAzLjYyMSAyMC4xNjYxIDEwMy43NTIgMjAuNDI2MiAxMDMuOTY5IDIwLjU5OTZDMTA0LjE4NiAyMC43NzMgMTA0LjU3NyAyMC44NTk3IDEwNS4wNTYgMjAuODU5N0gxMDcuNzk0QzEwOS4wNTQgMjAuODU5NyAxMTAuMDExIDIxLjE2MzEgMTEwLjY2MyAyMS43MjY2QzExMS4zMTUgMjIuMjkwMiAxMTEuNjYyIDIzLjE1NzEgMTExLjY2MiAyNC4yNDA4QzExMS42NjIgMjUuMjgxMSAxMTEuMzU4IDI2LjE0ODEgMTEwLjc5MyAyNi43OTgzQzExMC4yMjggMjcuNDQ4NSAxMDkuNDQ2IDI3Ljc5NTMgMTA4LjUzMyAyNy43OTUzSDEwMC43MDlWMjUuNDExMkgxMDAuNjIyWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMTE2LjU3NCAxNS4wOTQ0SDExMy40MDFWMTIuMjc2OUgxMTYuNTc0VjE1LjA5NDRaTTExNi41NzQgMjcuNzk1M0gxMTMuNDAxVjE2LjM5NDlIMTE2LjU3NFYyNy43OTUzWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMTMwLjMwOSAyMi4xMTY3QzEzMC4zMDkgMjMuODkzOSAxMjkuNzQ0IDI1LjMyNDQgMTI4LjY1NyAyNi40MDgxQzEyNy41NzEgMjcuNDkxOCAxMjYuMDkzIDI4LjAxMiAxMjQuMjI0IDI4LjAxMkMxMjIuMzU1IDI4LjAxMiAxMjAuODc3IDI3LjQ5MTggMTE5Ljc5IDI2LjQwODFDMTE4LjcwNCAyNS4zMjQ0IDExOC4xMzkgMjMuODkzOSAxMTguMTM5IDIyLjExNjdDMTE4LjEzOSAyMC4zMzk0IDExOC43MDQgMTguOTA5IDExOS43OSAxNy44MjUzQzEyMC44NzcgMTYuNzQxNiAxMjIuMzk4IDE2LjIyMTQgMTI0LjIyNCAxNi4yMjE0QzEyNi4wNDkgMTYuMjIxNCAxMjcuNTI3IDE2Ljc0MTYgMTI4LjY1NyAxNy44MjUzQzEyOS43NDQgMTguODY1NiAxMzAuMzA5IDIwLjI5NjEgMTMwLjMwOSAyMi4xMTY3Wk0xMjEuMjY4IDIyLjExNjdDMTIxLjI2OCAyMy4yMDA0IDEyMS41MjkgMjQuMDY3MyAxMjIuMDUxIDI0LjY3NDJDMTIyLjU3MiAyNS4yODExIDEyMy4yNjggMjUuNTg0NSAxMjQuMTggMjUuNTg0NUMxMjUuMDkzIDI1LjU4NDUgMTI1Ljc4OSAyNS4yODExIDEyNi4zMSAyNC42NzQyQzEyNi44MzIgMjQuMDY3MyAxMjcuMDkzIDIzLjIwMDQgMTI3LjA5MyAyMi4xMTY3QzEyNy4wOTMgMjEuMDMzIDEyNi44MzIgMjAuMTY2MSAxMjYuMzEgMTkuNjAyNUMxMjUuNzg5IDE4Ljk5NTcgMTI1LjA5MyAxOC42OTIyIDEyNC4xMzcgMTguNjkyMkMxMjMuMjI0IDE4LjY5MjIgMTIyLjUyOSAxOC45OTU3IDEyMi4wMDcgMTkuNjAyNUMxMjEuNTI5IDIwLjE2NjEgMTIxLjI2OCAyMS4wMzMgMTIxLjI2OCAyMi4xMTY3WiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMTMxLjc4NyAxNi4zOTQ5SDEzNy40ODFDMTM5LjIxOSAxNi4zOTQ5IDE0MC40MzYgMTYuNjk4MyAxNDEuMTc1IDE3LjM0ODVDMTQxLjkxNCAxNy45OTg4IDE0Mi4yNjIgMTkuMDgyNCAxNDIuMjYyIDIwLjU1NjNWMjcuNzk1M0gxMzkuMjE5VjIwLjk0NjRDMTM5LjIxOSAyMC4wNzk0IDEzOS4wODkgMTkuNTE1OSAxMzguODI4IDE5LjI5OTJDMTM4LjU2NyAxOS4wMzkxIDEzOC4wNDYgMTguOTA5MSAxMzcuMjIgMTguOTA5MUgxMzQuNzg2VjI3LjgzODZIMTMxLjc0M1YxNi4zOTQ5SDEzMS43ODdaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik03LjEyODMxIDMuNzM3NDNIMFYxMC44NDY0SDcuMTI4MzFWMy43Mzc0M1oiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTIzLjI1MTMgLTIuMTU3MjVlLTA1TDE4LjU1MTMgNS41MTY4NUwyNC4wODMxIDEwLjIwNDFMMjguNzgzMSA0LjY4NzI1TDIzLjI1MTMgLTIuMTU3MjVlLTA1WiIgZmlsbD0iI0ZGODYwMCIvPgo8cGF0aCBkPSJNMTUuNjA0MSAzLjczNzQzSDguNDc1ODNWMTAuODQ2NEgxNS42MDQxVjMuNzM3NDNaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik03LjEyODMxIDEyLjE5MDJIMFYxOS4yOTkySDcuMTI4MzFWMTIuMTkwMloiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTE1LjYwNDEgMTIuMTkwMkg4LjQ3NTgzVjE5LjI5OTJIMTUuNjA0MVYxMi4xOTAyWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMjQuMDc5NyAxMi4xOTAySDE2Ljk1MTRWMTkuMjk5MkgyNC4wNzk3VjEyLjE5MDJaIiBmaWxsPSIjRkY4NjAwIi8+CjxwYXRoIGQ9Ik03LjEyODMxIDIwLjY4NjNIMFYyNy43OTUzSDcuMTI4MzFWMjAuNjg2M1oiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTE1LjYwNDEgMjAuNjg2M0g4LjQ3NTgzVjI3Ljc5NTNIMTUuNjA0MVYyMC42ODYzWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMjQuMTIzMiAyMC42ODYzSDE2Ljk5NDlWMjcuNzk1M0gyNC4xMjMyVjIwLjY4NjNaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik0xNDYgMTUuODMxM0MxNDYgMTYuODcxNyAxNDUuMTc0IDE3LjY5NTMgMTQ0LjEzMSAxNy42OTUzQzE0My4wODggMTcuNjk1MyAxNDIuMjYyIDE2Ljg3MTcgMTQyLjI2MiAxNS44MzEzQzE0Mi4yNjIgMTQuNzkxIDE0My4wODggMTQuMDEwNyAxNDQuMTMxIDE0LjAxMDdDMTQ1LjEzMSAxMy45Njc0IDE0NiAxNC43OTEgMTQ2IDE1LjgzMTNaTTE0Mi45NTcgMTQuNzkxQzE0Mi42OTcgMTUuMDUxMSAxNDIuNTY2IDE1LjQ0MTIgMTQyLjU2NiAxNS44MzEzQzE0Mi41NjYgMTYuNjk4MyAxNDMuMjYyIDE3LjM5MTggMTQ0LjEzMSAxNy4zOTE4QzE0NSAxNy4zOTE4IDE0NS42OTYgMTYuNjk4MyAxNDUuNjk2IDE1LjgzMTNDMTQ1LjY5NiAxNS4wMDc3IDE0NSAxNC4yNzA4IDE0NC4xNzQgMTQuMjcwOEMxNDMuNjUzIDE0LjI3MDggMTQzLjI2MiAxNC40NDQyIDE0Mi45NTcgMTQuNzkxWk0xNDQuODcgMTYuOTE1SDE0NC40NzlMMTQzLjkxNCAxNi4wOTE0VjE2LjkxNUgxNDMuNjA5VjE0Ljc0NzZIMTQzLjk1N0MxNDQuNDM1IDE0Ljc0NzYgMTQ0LjY1MyAxNC45NjQ0IDE0NC42NTMgMTUuMzU0NUMxNDQuNjUzIDE1LjY1NzkgMTQ0LjQ3OSAxNS44NzQ3IDE0NC4xNzQgMTUuOTYxNEwxNDQuODcgMTYuOTE1Wk0xNDQuMDQ0IDE1LjY1NzlDMTQ0LjI2MSAxNS42NTc5IDE0NC4zOTIgMTUuNTI3OSAxNDQuMzkyIDE1LjM1NDVDMTQ0LjM5MiAxNS4xMzc4IDE0NC4yNjEgMTUuMDUxMSAxNDQuMDAxIDE1LjA1MTFIMTQzLjkxNFYxNS42NTc5SDE0NC4wNDRaIiBmaWxsPSIjMzU0M0E4Ii8+Cjwvc3ZnPgo=" style="
    text-align: left;
    width: 146px;
    position: absolute;
    top: 14px;
    left: 31px;
">
            </div>
            <div style="
    position: relative;
    top: 80px;
    left: 32px;
    font-size: 20px;
    text-align: left;
    font-weight: 700;
    letter-spacing: 0.02em;
    font-style: normal;
    line-height: 125%;
    ">Claim your FREE account and get a key in less than a minute</div>
            <ul style="
        font-size: 15px;
        font-weight: 400;
        color: #333333;
        letter-spacing: 0.01em;
        position: relative;
        left: 32px;
        top: 88px;
        line-height: 180%;
        ">
                <li><span>Access to a 30-day free trial of any of our products.</span></li>
                <li><span>Access to 24x5 support by developers via the <a href="https://support.syncfusion.com/create?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;
                color: #0D6EFD;
                font-weight: 500;">support tickets</a>, <a href="https://www.syncfusion.com/forums?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;
                color: #0D6EFD;
                font-weight: 500;">forum</a>, <a href="https://www.syncfusion.com/feedback?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information
                " style="text-decoration: none;
                color: #0D6EFD;
                font-weight: 500;">feature &amp; feedback page</a> and chat.</span></li>
                <li><span>200+ <a href="https://www.syncfusion.com/succinctly-free-ebooks?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;
                color: #0D6EFD;
                font-weight: 500;">ebooks </a>on the latest technologies, industry trends, and research topics.</span>
                </li>
                <li><span>Largest collection of over 7500 flat and wireframe icons for free with Syncfusion<sup></sup> <a href="https://www.syncfusion.com/downloads/metrostudio?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information
                " style="text-decoration: none;
                color: #0D6EFD;
                font-weight: 500;">Metro Studio.</a></span></li>
                <li><span>Free and unlimited access to Syncfusion<sup></sup> technical <a href="https://www.syncfusion.com/blogs/?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information
                " style="text-decoration: none;
                color: #0D6EFD;
                font-weight: 500;">blogs</a> and <a href="https://www.syncfusion.com/resources/techportal/whitepapers?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;
                color: #0D6EFD;
                font-weight: 500;">whitepapers.</a></span></li>
            </ul>
            <div style="
            font-size: 18px;
            font-weight: 700;
            position: relative;
            line-height: 125%;
            letter-spacing: 0.02em;
            top: 90px;
            left: 32px;
    ">Syncfusion is trusted by 29,000+ businesses worldwide</div>
            <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjIyMzAiIGhlaWdodD0iMTU2Ij4KPHBhdGggZD0iTTAgMCBDMTAuMjAxNTE3OTEgOC44MjE1MTgwNSAxNi4yMjU4NjAxNyAxOS4zODQ1MTIyMiAxNy4yODEyNSAzMi45NzI2NTYyNSBDMTcuNDE3OTUwMTYgNDUuOTc2MjU4NTUgMTMuMTkyNTE4MDQgNTcuNjM2ODk1NzMgNC4yNDYwOTM3NSA2Ny4xMzI4MTI1IEMtNS44MzQzNzk4NyA3Ni42NDQzNzA1IC0xNi43MjM2MTUyMyA4MC40NzU4MTc3IC0zMC40MTAxNTYyNSA4MC4yMjI2NTYyNSBDLTQzLjEyNjA0NDAyIDc5LjI2MTgzMzU2IC01NC4yMDMwOTQ1MyA3My40MDM0NzMyNCAtNjIuNzE4NzUgNjMuOTcyNjU2MjUgQy03MS4xNDgwNjkyNSA1MS44OTg2NTk5MiAtNzMuMTk0NzM3MSA0MC4zOTM3NzYxNCAtNzEuNzE4NzUgMjUuOTcyNjU2MjUgQy02OS4wOTkxNjQzNyAxNC41NTg3NDc0NCAtNjIuMzc0NTczNzggNC42NDI1NDI1NiAtNTIuNzE4NzUgLTIuMDI3MzQzNzUgQy0zNS45MDE4NDE2MSAtMTEuOTUyMDc2NTcgLTE1Ljg5MjUyMDU5IC0xMi4xNTE1ODYzNiAwIDAgWiAiIGZpbGw9IiMwODY4NDIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzODguNzE4NzUsNDIuMDI3MzQzNzUpIi8+CjxwYXRoIGQ9Ik0wIDAgQzcuMzY3MjM5MTYgNC4wNDIzMjQxMSAxMS4xMDI1Mzc1MyAxMS4zOTA0MDEzMyAxNCAxOSBDMTQuMzg5NjU4MjYgMjAuOTg5NzkzMzQgMTQuNzQwMDUyODkgMjIuOTg5MTQ0ODEgMTUgMjUgQzE1LjY2IDI1IDE2LjMyIDI1IDE3IDI1IEMxNy4xMDA1NDY4NyAyNC4xNDQwNjI1IDE3LjIwMTA5Mzc1IDIzLjI4ODEyNSAxNy4zMDQ2ODc1IDIyLjQwNjI1IEMxOC45MTc0Mjc1NSAxNC41MDU2MzU4IDIzLjYwODM5NDI3IDUuNzcxNDMyNzMgMzAuMTc5Njg3NSAwLjg5NDUzMTI1IEMzMy43MzEzMzY1NCAtMC44NTA4MDcwMSAzNi4wNzI1NTM3NiAtMC42MjM0MDQxNyA0MCAwIEM0Ny43ODg2NDkxMyAzLjU4Mjc3ODYgNTEuMzQ3MDc2MTEgMTAuOTI1MDE3NDYgNTQuMzUyNzgzMiAxOC41ODg4NjcxOSBDNjAuNjYxMjYyNjMgMzUuNzMzMjUxOTkgNjMuMjM3ODY0ODggNTQuNDE0MDMxNTkgNjMuMDYyNSA3Mi42MjUgQzYzLjA1Nzk4ODI4IDczLjUzMzc4OTA2IDYzLjA1MzQ3NjU2IDc0LjQ0MjU3ODEyIDYzLjA0ODgyODEyIDc1LjM3ODkwNjI1IEM2My4wMzcyMTIwMiA3Ny41ODU5NjY5NSA2My4wMTkyODQ1MyA3OS43OTI5OTI5OSA2MyA4MiBDNTkuMDQgODIgNTUuMDggODIgNTEgODIgQzUwLjkzMDA2ODM2IDgwLjkwMzQ5MTIxIDUwLjg2MDEzNjcyIDc5LjgwNjk4MjQyIDUwLjc4ODA4NTk0IDc4LjY3NzI0NjA5IEM1MC4zMzA4MzIxNSA0MS45ODYzMDU3MyA1MC4zMzA4MzIxNSA0MS45ODYzMDU3MyAzOSA4IEMzOC4wMSA3LjY3IDM3LjAyIDcuMzQgMzYgNyBDMjUuMTQyMTkxNjggMTYuMjQ0MTIxMzEgMjQuODI2NDcwMzkgMzguNDA3NTg2NzUgMjMuNjgzNTkzNzUgNTEuNjcyMzYzMjggQzIzLjA0MTM0NzcxIDU5Ljc3NjY1NDY5IDIyLjUwMDE0OTM2IDY3Ljg4NTgxMjE3IDIyIDc2IEMxOC4wNCA3NiAxNC4wOCA3NiAxMCA3NiBDOS44OTUxMDI1NCA3NC40NzU4NDQ3MyA5Ljg5NTEwMjU0IDc0LjQ3NTg0NDczIDkuNzg4MDg1OTQgNzIuOTIwODk4NDQgQzkuMjg4Njk2MTIgMzkuNjQwNjkzMTMgOS4yODg2OTYxMiAzOS42NDA2OTMxMyAtMSA5IEMtMy4wMzU2NDA0IDcuNzQxNDM2NTkgLTMuMDM1NjQwNCA3Ljc0MTQzNjU5IC01IDcgQy0xNS44NDgzODY5NyAxNi40OTIzMzg2IC0xNi4wNTg3MjYyNSA0MC4yNTk3NTY0MSAtMTcgNTQgQy0xNy40NzQyMTEwMiA2My4zMjgyOTc4NCAtMTcuNzQ3NjYxNTkgNzIuNjYzNDc4NzQgLTE4IDgyIEMtMjIuMjkgODIgLTI2LjU4IDgyIC0zMSA4MiBDLTMxLjg5MjU5MjA1IDU1LjgxNzI5OTc3IC0yOS45NTA2NDQ2MiAyMi44Mzc1NTI0MSAtMTIgMiBDLTguNDczMzg5NDMgLTAuNjQ0OTU3OTMgLTQuMjE5NTgzOTggLTAuOTU4OTk2MzYgMCAwIFogIiBmaWxsPSIjRkZDQzAwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4MjgsMzcpIi8+CjxwYXRoIGQ9Ik0wIDAgQzUuODg3MjkwNzMgMS40NDk4NTUxOCA5LjE2NjM4NTEzIDEuMjgxNTYyNTYgMTQuNzUgLTAuODM5ODQzNzUgQzIwLjM1Nzc0OTYyIC0yLjU0NjE0OTE0IDI1LjU0MDY3MjkyIC0xLjM4Mjk1NTEgMzAuNjI1IDEuMjUgQzMyLjkzNzM1MDYzIDMuMjczMzA2OCAzNC4xMDM0MzU0MiA0LjU3NzExOTE4IDM1LjEyNSA3LjQzNzUgQzM0LjM0MTI1IDguMTggMzMuNTU3NSA4LjkyMjUgMzIuNzUgOS42ODc1IEMyOS4xMTkwMTcwMyAxMy40OTEzODY5MiAyOC4yMzgzODk0NyAxNS4wMzE0NzA1OCAyNy44MTI1IDIwLjMxMjUgQzI3Ljk2MDg4MjA0IDI1LjAxNzA4MzQ0IDI5LjE5MzUzOTM2IDI4LjU3NDg0NDU4IDMyLjY2MDE1NjI1IDMxLjkxNzk2ODc1IEMzNC4xMDgzOTEwMSAzMy4xNDAyMzc4IDM1LjYxMjk3ODE1IDM0LjI5NTA4MzQ5IDM3LjEyNSAzNS40Mzc1IEMzNi4wNzAxOTM1MiA0Mi40Njk1NDMyIDMyLjAzNjA5MDQ5IDQ3Ljk3MzE5OTEgMjcuNzUgNTMuNSBDMjQuMjczODU5MzcgNTYuMDY1NzIyODUgMjEuNDA5Njc2NTkgNTYuNjI0MTU5MTggMTcuMTI1IDU2LjQzNzUgQzE1LjExMjc3OTUzIDU1LjgwODY4MTEgMTMuMTEyMjMyNjggNTUuMTQxMzExNTcgMTEuMTI1IDU0LjQzNzUgQzcuMTMyMjAwNjEgNTQuMDEwODUwMDcgMy44Njk5NzIwNCA1NC4xNzkwNDAzMSAwLjA2MjUgNTUuNSBDLTMuNzQ1OTgyNzYgNTYuNzE1NDczMjIgLTYuMDIwMDcxMDYgNTYuNDcwMDcwMjUgLTkuODc1IDU1LjQzNzUgQy0xNy44OTY4MjA0OCA1MC4zNjI0NzA3MiAtMjMuMjI0ODkxNjcgNDAuMjQ1NjM5MjYgLTI1LjQzMzU5Mzc1IDMxLjEzMjgxMjUgQy0yNi42OTE4Nzk2IDIzLjQ0OTQ3NDE1IC0yNy4zMTA4Njc4MiAxNC4yMDI1NjkzMiAtMjIuODc1IDcuNDM3NSBDLTE5LjE4NzExNTEzIDMuMTY0NjQwMjkgLTE0Ljk1ODc1MDk1IC0wLjQ2NDczMTYxIC05LjI2NTYyNSAtMS41NzQyMTg3NSBDLTYuMDIyMDAxNTYgLTEuNTU4MzE4NjQgLTMuMTQ1MDkxMDYgLTAuNzc5NDY1MjEgMCAwIFogIiBmaWxsPSIjMDAwMDAwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMjIuODc1LDU1LjU2MjUpIi8+CjxwYXRoIGQ9Ik0wIDAgQzYuOTk4NjY1NzYgNi41NjU2MTQ1OCAxMy4yMzU0MjQ3IDEzLjIxNDc1OTU1IDE0LjE3OTY4NzUgMjMuMTg3NSBDMTMuOTYxMTk2MzQgMjguMjczOTc0MSAxMi4yNTY2NDk1NCAzMi4wNjY5ODMyNiA5LjAzNTE1NjI1IDM1Ljk3NjU2MjUgQzAuNTMzMzg4MDQgNDMuNTgzNDA3NzQgLTguOTc3NTY4MjUgNDUuMDAzODkwNjcgLTE5Ljg1NTQ2ODc1IDQ0Ljg5ODQzNzUgQy0yMS4xODA5NDcyNyA0NC44OTE2Njk5MiAtMjEuMTgwOTQ3MjcgNDQuODkxNjY5OTIgLTIyLjUzMzIwMzEyIDQ0Ljg4NDc2NTYyIEMtMjQuNzAzMTU0MzQgNDQuODczMDM2MTYgLTI2Ljg3MzA3MDQ3IDQ0Ljg1NTEwMjQ1IC0yOS4wNDI5Njg3NSA0NC44MzU5Mzc1IEMtMjkuMzcyOTY4NzUgNDUuNDk1OTM3NSAtMjkuNzAyOTY4NzUgNDYuMTU1OTM3NSAtMzAuMDQyOTY4NzUgNDYuODM1OTM3NSBDLTMyLjQxNzk2ODc1IDQ2Ljk2MDkzNzUgLTMyLjQxNzk2ODc1IDQ2Ljk2MDkzNzUgLTM1LjA0Mjk2ODc1IDQ2LjgzNTkzNzUgQy0zNy4wNDI5Njg3NSA0NC44MzU5Mzc1IC0zNy4wNDI5Njg3NSA0NC44MzU5Mzc1IC0zNy40MTQwNjI1IDQyLjM1NTQ2ODc1IEMtMzcuNzgyMzI5OTcgMzkuNzMzNjQ1MzEgLTM3Ljc4MjMyOTk3IDM5LjczMzY0NTMxIC0zOS44MjgxMjUgMzguNTM1MTU2MjUgQy00MC41Nzk2NDg0NCAzOC4yMDEyODkwNiAtNDEuMzMxMTcxODcgMzcuODY3NDIxODcgLTQyLjEwNTQ2ODc1IDM3LjUyMzQzNzUgQy00Ny4zNTI0NjU4MyAzNC44NTM3NjUzOCAtNTEuNDU1NzUyNzEgMzEuNTMwNDMxOTUgLTU1LjA0Mjk2ODc1IDI2LjgzNTkzNzUgQy01Ni4wNDI5Njg3NSAyMy4zMzU5Mzc1IC01Ni4wNDI5Njg3NSAyMy4zMzU5Mzc1IC01Ni4wNDI5Njg3NSAyMC44MzU5Mzc1IEMtNTEuMzM2NTk3OTUgMTYuMTI5NTY2NyAtNDUuMzAzOTE4MTcgMTQuNTc0NTc2MzMgLTM5LjA0Mjk2ODc1IDEyLjgzNTkzNzUgQy0zOC4zODI5Njg3NSAxMi44MzU5Mzc1IC0zNy43MjI5Njg3NSAxMi44MzU5Mzc1IC0zNy4wNDI5Njg3NSAxMi44MzU5Mzc1IEMtMzYuOTIxNzk2ODggMTEuOTA5MTAxNTYgLTM2LjgwMDYyNSAxMC45ODIyNjU2MiAtMzYuNjc1NzgxMjUgMTAuMDI3MzQzNzUgQy0zNi41MDgyMDMxMyA4LjgyOTgwNDY5IC0zNi4zNDA2MjUgNy42MzIyNjU2MyAtMzYuMTY3OTY4NzUgNi4zOTg0Mzc1IEMtMzYuMDA1NTQ2ODggNS4yMDM0NzY1NiAtMzUuODQzMTI1IDQuMDA4NTE1NjMgLTM1LjY3NTc4MTI1IDIuNzc3MzQzNzUgQy0zNS40NjY5NTMxMyAxLjgwNjY3OTY5IC0zNS4yNTgxMjUgMC44MzYwMTU2MyAtMzUuMDQyOTY4NzUgLTAuMTY0MDYyNSBDLTM0LjM4Mjk2ODc1IC0wLjQ5NDA2MjUgLTMzLjcyMjk2ODc1IC0wLjgyNDA2MjUgLTMzLjA0Mjk2ODc1IC0xLjE2NDA2MjUgQy0zMC4wNzc2OTExNyAxLjI4MTI3NiAtMjkuNDg3MTQ2NjEgMy4yODE5NjA5NyAtMjguODU1NDY4NzUgNy4wMjM0Mzc1IEMtMjguNjk2OTE0MDYgNy45MjQ0OTIxOSAtMjguNTM4MzU5MzggOC44MjU1NDY4OCAtMjguMzc1IDkuNzUzOTA2MjUgQy0yOC4yNjU0Mjk2OSAxMC40NDA5NzY1NiAtMjguMTU1ODU5MzcgMTEuMTI4MDQ2ODcgLTI4LjA0Mjk2ODc1IDExLjgzNTkzNzUgQy0yNy4xMjUxNTYyNSAxMS45MzM5MDYyNSAtMjYuMjA3MzQzNzUgMTIuMDMxODc1IC0yNS4yNjE3MTg3NSAxMi4xMzI4MTI1IEMtMTguMDQ1MDgyNTkgMTMuMDEyMTUwNTIgLTEyLjIzNzYzMDI1IDEzLjk0OTA5MTA3IC02LjA0Mjk2ODc1IDE3LjgzNTkzNzUgQy00LjY2MTcxODU3IDIwLjU5ODQzNzg2IC00Ljg1MjE3NTY5IDIyLjc4MzI0ODQ5IC01LjA0Mjk2ODc1IDI1LjgzNTkzNzUgQy03LjA0Mjk2ODc1IDI3LjgzNTkzNzUgLTcuMDQyOTY4NzUgMjcuODM1OTM3NSAtMTAuNjY3OTY4NzUgMjcuOTYwOTM3NSBDLTExLjc4MTcxODc1IDI3LjkxOTY4NzUgLTEyLjg5NTQ2ODc1IDI3Ljg3ODQzNzUgLTE0LjA0Mjk2ODc1IDI3LjgzNTkzNzUgQy0xMy4zODI5Njg3NSAyNi41MTU5Mzc1IC0xMi43MjI5Njg3NSAyNS4xOTU5Mzc1IC0xMi4wNDI5Njg3NSAyMy44MzU5Mzc1IEMtMTUuNzk1MjI3MTUgMjIuMTc5MDk2MTMgLTE5LjMwNjQ5OTM2IDIxLjMzMzg1NTg3IC0yMy4zNTU0Njg3NSAyMC43MTA5Mzc1IEMtMjUuMjMyMzQzNzUgMjAuNDIyMTg3NSAtMjcuMTA5MjE4NzUgMjAuMTMzNDM3NSAtMjkuMDQyOTY4NzUgMTkuODM1OTM3NSBDLTI4LjU0Nzk2ODc1IDI4LjI1MDkzNzUgLTI4LjU0Nzk2ODc1IDI4LjI1MDkzNzUgLTI4LjA0Mjk2ODc1IDM2LjgzNTkzNzUgQy0xMi4wNjE3Nzk5MSAzNy4zODI2NDE3MiAtMTIuMDYxNzc5OTEgMzcuMzgyNjQxNzIgMi4wODIwMzEyNSAzMC42NDg0Mzc1IEM0Ljc2MDcwNTQxIDI2LjYzMDQyNjI2IDQuNzc1MjY3NDcgMjMuNTI1MDYwNDMgMy45NTcwMzEyNSAxOC44MzU5Mzc1IEMxLjAxMTM1NTYzIDguNTI2MDcyODEgLTguODY3NTEyMiAyLjM4NDg3MDU4IC0xNy43MzQzNzUgLTIuNTYyNSBDLTMxLjY3NjMzMzk0IC05LjMxMTI2NDA3IC00NS42NDMxNzQyMiAtMTEuNTY4NzI4NjMgLTYxLjA0Mjk2ODc1IC0xMS4xNjQwNjI1IEMtNjEuMDQyOTY4NzUgLTEwLjE3NDA2MjUgLTYxLjA0Mjk2ODc1IC05LjE4NDA2MjUgLTYxLjA0Mjk2ODc1IC04LjE2NDA2MjUgQy02My4wMjI5Njg3NSAtOC4xNjQwNjI1IC02NS4wMDI5Njg3NSAtOC4xNjQwNjI1IC02Ny4wNDI5Njg3NSAtOC4xNjQwNjI1IEMtNjcuNzkyOTY4NzUgLTkuOTE0MDYyNSAtNjcuNzkyOTY4NzUgLTkuOTE0MDYyNSAtNjguMDQyOTY4NzUgLTEyLjE2NDA2MjUgQy02NS45Njg1NDMxOCAtMTUuNTIyNjU2MjggLTYzLjQ3ODY1NTM5IC0xNi41NTA0NzkzNSAtNTkuNzkyOTY4NzUgLTE3LjQ3NjU2MjUgQy0zOS4xODA0NTMyNSAtMjAuODM2MzExNzIgLTE1Ljg1MjQ2NDU2IC0xMy4zOTczMDI3NCAwIDAgWiBNLTQ3LjM1NTQ2ODc1IDIwLjgzNTkzNzUgQy00OC4yMzg0NzY1NiAyMS4wMjE1NjI1IC00OS4xMjE0ODQzOCAyMS4yMDcxODc1IC01MC4wMzEyNSAyMS4zOTg0Mzc1IEMtNTAuNjk1MTE3MTkgMjEuNTQyODEyNSAtNTEuMzU4OTg0MzcgMjEuNjg3MTg3NSAtNTIuMDQyOTY4NzUgMjEuODM1OTM3NSBDLTUyLjUwMDI0MDQ0IDI1LjcyNDc4Mzk5IC01Mi41MDAyNDA0NCAyNS43MjQ3ODM5OSAtNTAuNTAzOTA2MjUgMjcuNDY4NzUgQy00Ni40NjI2MDg1IDMwLjM1OTcxNTgxIC00Mi45NDE1MjEwNyAzMi42MTEyOTk0MiAtMzguMDQyOTY4NzUgMzMuODM1OTM3NSBDLTM2LjcwMzk1MDgzIDMyLjcyNDY3MDkxIC0zNi43MDM5NTA4MyAzMi43MjQ2NzA5MSAtMzYuOTQ1MzEyNSAyOS44OTQ1MzEyNSBDLTM2Ljk1NjkxNDA2IDI4LjY5OTU3MDMxIC0zNi45Njg1MTU2MyAyNy41MDQ2MDkzOCAtMzYuOTgwNDY4NzUgMjYuMjczNDM3NSBDLTM2Ljk4OTQ5MjE5IDI1LjA3NTg5ODQ0IC0zNi45OTg1MTU2MiAyMy44NzgzNTkzOCAtMzcuMDA3ODEyNSAyMi42NDQ1MzEyNSBDLTM3LjAxOTQxNDA2IDIxLjcxNzY5NTMxIC0zNy4wMzEwMTU2MyAyMC43OTA4NTkzNyAtMzcuMDQyOTY4NzUgMTkuODM1OTM3NSBDLTQwLjYzODE2MTY3IDE5LjczMjI5MjMgLTQzLjg0MDg2MTA3IDIwLjA4NjE1NDUzIC00Ny4zNTU0Njg3NSAyMC44MzU5Mzc1IFogIiBmaWxsPSIjMjIxRTIwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1NTEuMDQyOTY4NzUsNTguMTY0MDYyNSkiLz4KPHBhdGggZD0iTTAgMCBDMy4zIDAgNi42IDAgMTAgMCBDMTMuOTk1NTQ4MTcgOC40NTIxMjExMyAxNi45NDE0Njg4MSAxNy4xNzE5NjY3OSAyMCAyNiBDMjAuMzMgMTcuNDIgMjAuNjYgOC44NCAyMSAwIEMyNC42MyAwIDI4LjI2IDAgMzIgMCBDMzIgMTguNDggMzIgMzYuOTYgMzIgNTYgQzI4IDU3IDI4IDU3IDIwIDU3IEMxNy4zNiA0OS40MSAxNC43MiA0MS44MiAxMiAzNCBDMTEuNjcgNDIuMjUgMTEuMzQgNTAuNSAxMSA1OSBDNS41NTUgNTkuNDk1IDUuNTU1IDU5LjQ5NSAwIDYwIEMwIDQwLjIgMCAyMC40IDAgMCBaICIgZmlsbD0iI0Q4MUYyNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTk1LDUyKSIvPgo8cGF0aCBkPSJNMCAwIEMxLjE3MDQ2ODc1IDAuMDI3MDcwMzEgMi4zNDA5Mzc1IDAuMDU0MTQwNjMgMy41NDY4NzUgMC4wODIwMzEyNSBDNC40Mzg5MDYyNSAwLjExNjgzNTk0IDUuMzMwOTM3NSAwLjE1MTY0MDYyIDYuMjUgMC4xODc1IEM3LjUzODE4NzMxIDYuMjE4NDU0OTcgOC44MTk3NDQ4OSAxMi4yNTA3NjY0NyAxMC4wOTUyMTQ4NCAxOC4yODQ0MjM4MyBDMTAuNTI5OTIzMzUgMjAuMzM2MjQxNDggMTAuOTY2NDMxOTEgMjIuMzg3Njc4NjMgMTEuNDA0Nzg1MTYgMjQuNDM4NzIwNyBDMTIuMDM1MDI5NTggMjcuMzg5MTUwNjYgMTIuNjU4NzU5NzQgMzAuMzQwODk0MzcgMTMuMjgxMjUgMzMuMjkyOTY4NzUgQzEzLjQ3ODExNDAxIDM0LjIwNzczNDgzIDEzLjY3NDk3ODAzIDM1LjEyMjUwMDkyIDEzLjg3NzgwNzYyIDM2LjA2NDk4NzE4IEMxNC4wNTc5OTQzOCAzNi45MjU1MDE4NiAxNC4yMzgxODExNSAzNy43ODYwMTY1NCAxNC40MjM4MjgxMiAzOC42NzI2MDc0MiBDMTQuNTgzNzEyMTYgMzkuNDI1Mzk0NzQgMTQuNzQzNTk2MTkgNDAuMTc4MTgyMDcgMTQuOTA4MzI1MiA0MC45NTM3ODExMyBDMTUuMjUgNDMuMTg3NSAxNS4yNSA0My4xODc1IDE1LjI1IDQ4LjE4NzUgQzExLjI5IDQ4LjE4NzUgNy4zMyA0OC4xODc1IDMuMjUgNDguMTg3NSBDMi45MiA0NS44Nzc1IDIuNTkgNDMuNTY3NSAyLjI1IDQxLjE4NzUgQy0yLjcgNDEuNTE3NSAtNy42NSA0MS44NDc1IC0xMi43NSA0Mi4xODc1IEMtMTMuNDEgNDQuMTY3NSAtMTQuMDcgNDYuMTQ3NSAtMTQuNzUgNDguMTg3NSBDLTE5LjM3IDQ4LjE4NzUgLTIzLjk5IDQ4LjE4NzUgLTI4Ljc1IDQ4LjE4NzUgQy0yNi44MDgzMTEyNiA0Mi4yMDY0MzQ4NSAtMjQuNzAyMzE0NTggMzYuMzU1OTk3NzMgLTIyLjMxNjQwNjI1IDMwLjUzOTA2MjUgQy0yMS45OTcxOTcxMSAyOS43NTk4NTQ0MyAtMjEuNjc3OTg3OTggMjguOTgwNjQ2MzYgLTIxLjM0OTEwNTgzIDI4LjE3NzgyNTkzIEMtMjAuNjc5NDY4MTMgMjYuNTQ4NjI2IC0yMC4wMDc5ODYzNCAyNC45MjAxODI4OSAtMTkuMzM0NzE2OCAyMy4yOTI0ODA0NyBDLTE4LjY0OTcxMDY3IDIxLjYzMDYwMDMgLTE3Ljk3MDA3MDg4IDE5Ljk2NjQ5ODY1IC0xNy4yOTU2NTQzIDE4LjMwMDI5Mjk3IEMtMTYuMzEzOTk1MTggMTUuODc1MDE3NSAtMTUuMzE3MDg2OTUgMTMuNDU2NTQxMzggLTE0LjMxNjQwNjI1IDExLjAzOTA2MjUgQy0xNC4wMTgzNTU4NyAxMC4yOTUzMjM3OSAtMTMuNzIwMzA1NDggOS41NTE1ODUwOCAtMTMuNDEzMjIzMjcgOC43ODUzMDg4NCBDLTEwLjMyNjYxNzczIDEuNDMzOTIzMTMgLTcuOTE5NDc2MjUgLTAuMjM3NTg0MjkgMCAwIFogTS0zLjc1IDE1LjE4NzUgQy01LjQgMjAuMTM3NSAtNy4wNSAyNS4wODc1IC04Ljc1IDMwLjE4NzUgQy02LjExIDMwLjE4NzUgLTMuNDcgMzAuMTg3NSAtMC43NSAzMC4xODc1IEMtMS40MDM0OTYzMyAyMi42MzcxMTU3OCAtMS40MDM0OTYzMyAyMi42MzcxMTU3OCAtMi43NSAxNS4xODc1IEMtMy4wOCAxNS4xODc1IC0zLjQxIDE1LjE4NzUgLTMuNzUgMTUuMTg3NSBaICIgZmlsbD0iIzIzNDM5QSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTcwLjc1LDUzLjgxMjUpIi8+CjxwYXRoIGQ9Ik0wIDAgQzIuNzg5Mjg3NzggMi4zMDgzNzYwOSAzLjc1MTc2ODg4IDQuMjY1OTI4MzQgNC4yNzM0Mzc1IDcuOTEwMTU2MjUgQzQuNjM2ODE4NzQgMTUuNjExMDQzMzQgMS45NDAyMDM5IDIxLjI4NjM5NDY0IC0yLjc5Njg3NSAyNy4yNjk1MzEyNSBDLTkuMDAxNDUwMzQgMzMuOTU4MDYzNDcgLTE1LjA5NjEwOTIxIDM3LjE0MTAyMzg5IC0yNC4yNSAzNy41IEMtMjguMDQyMTE1NTYgMzcuMzY0OTExOTEgLTI5Ljc2NDgxODA0IDM3LjEzMTcwMTkgLTMzLjEyNSAzNS4yNSBDLTM2LjYxNDUyNjY5IDMxLjA2MjU2Nzk3IC0zNy40NTgyNTE2IDI3Ljc5OTc2MzM3IC0zNy4zMDg1OTM3NSAyMi40Mjk2ODc1IEMtMzYuMzE4MDI0MjMgMTQuNjMwNTE5ODYgLTMxLjc1MTQwMDU4IDguMTU2MDQwNzUgLTI2IDMgQy0xNy42OTY1MDc2NiAtMi42NTI1NDYzMSAtOS4yMjAwNTQ5MyAtNS42NTc3NjA5OCAwIDAgWiAiIGZpbGw9IiMwNjg4MkYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIwNDUsNzkpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuNzQ5ODUzMjUgLTAuMDg3MTc0NyA3LjQ5OTQ0NTU1IC0wLjE0MDQ1MDAzIDExLjI1IC0wLjE4NzUgQzEyLjMxMzQ3NjU2IC0wLjIxMjYzNjcyIDEzLjM3Njk1MzEyIC0wLjIzNzc3MzQ0IDE0LjQ3MjY1NjI1IC0wLjI2MzY3MTg4IEMxNS40OTc0NjA5NCAtMC4yNzMzMzk4NCAxNi41MjIyNjU2MyAtMC4yODMwMDc4MSAxNy41NzgxMjUgLTAuMjkyOTY4NzUgQzE4LjUyMDc1MTk1IC0wLjMwODY3OTIgMTkuNDYzMzc4OTEgLTAuMzI0Mzg5NjUgMjAuNDM0NTcwMzEgLTAuMzQwNTc2MTcgQzIzLjU2MjEwMzM5IDAuMDc0NjIyNTkgMjQuODI1NjM1MDMgMC43MTY2NzQ2NSAyNyAzIEMyNy45MTMwODU5NCA1LjYzNTQ5ODA1IDI3LjkxMzA4NTk0IDUuNjM1NDk4MDUgMjguNDg0Mzc1IDguNzYxNzE4NzUgQzI4LjgwMzQxNzk3IDEwLjQzOTExMTMzIDI4LjgwMzQxNzk3IDEwLjQzOTExMTMzIDI5LjEyODkwNjI1IDEyLjE1MDM5MDYyIEMyOS4zMzM4NjcxOSAxMy4zMTc2MzY3MiAyOS41Mzg4MjgxMiAxNC40ODQ4ODI4MSAyOS43NSAxNS42ODc1IEMyOS45NzA0Mjk2OSAxNi44NjYzNDc2NiAzMC4xOTA4NTkzOCAxOC4wNDUxOTUzMSAzMC40MTc5Njg3NSAxOS4yNTk3NjU2MiBDMzAuOTYwMTAyNjQgMjIuMTcwNzg4OTEgMzEuNDg2NzY4MjIgMjUuMDgzNzY2MzEgMzIgMjggQzM1LjA3NTc1MDg3IDIxLjMyMzQ4NDU3IDM4LjA0NTYyMTcyIDE0LjYyMjgwNzQ2IDQwLjgxMjUgNy44MTI1IEM0MS4xMjM4MDg1OSA3LjA1MTMwODU5IDQxLjQzNTExNzE5IDYuMjkwMTE3MTkgNDEuNzU1ODU5MzggNS41MDU4NTkzOCBDNDIuNTA1ODE1MTcgMy42NzEzNTIxMyA0My4yNTMxOTk4MiAxLjgzNTc5NDExIDQ0IDAgQzQ4LjI5IDAgNTIuNTggMCA1NyAwIEM1NS44NzQ5NzQ1OCA2Ljc1MDE1MjU0IDU1Ljg3NDk3NDU4IDYuNzUwMTUyNTQgNTQuMzQxNzk2ODggMTAuMzIxMjg5MDYgQzU0LjAwNDc0NzMxIDExLjExNTIxMDU3IDUzLjY2NzY5Nzc1IDExLjkwOTEzMjA4IDUzLjMyMDQzNDU3IDEyLjcyNzExMTgyIEM1Mi45NTY4Nzg2NiAxMy41NjQ4MjExNyA1Mi41OTMzMjI3NSAxNC40MDI1MzA1MiA1Mi4yMTg3NSAxNS4yNjU2MjUgQzUxLjg0NTIwMzg2IDE2LjE0MDIzMzc2IDUxLjQ3MTY1NzcxIDE3LjAxNDg0MjUzIDUxLjA4Njc5MTk5IDE3LjkxNTk1NDU5IEM0OS44OTczNDQ2IDIwLjY5NjY1Mjc4IDQ4LjY5ODc0NTQ1IDIzLjQ3MzI5OTM5IDQ3LjUgMjYuMjUgQzQ2LjY5MzQyMDAxIDI4LjEzMjU1OTY1IDQ1Ljg4NzQyNDAyIDMwLjAxNTM2OTYzIDQ1LjA4MjAzMTI1IDMxLjg5ODQzNzUgQzQzLjYxMDkxMDIyIDM1LjMzMjU2NDA1IDQyLjEzODAzMjE4IDM4Ljc2NTkwNDg3IDQwLjY1ODIwMzEyIDQyLjE5NjI4OTA2IEM0MC4zNjE0MzY3NyA0Mi44ODQzNDYzMSA0MC4wNjQ2NzA0MSA0My41NzI0MDM1NiAzOS43NTg5MTExMyA0NC4yODEzMTEwNCBDMzkuMjA1MDIxMiA0NS41MzU2OTMxMSAzOC42MTMyMzIxNyA0Ni43NzM1MzU2NyAzOCA0OCBDMzMuMzggNDggMjguNzYgNDggMjQgNDggQzIzLjcxODAxNzU4IDQ2Ljg2OTgxNDQ1IDIzLjQzNjAzNTE2IDQ1LjczOTYyODkxIDIzLjE0NTUwNzgxIDQ0LjU3NTE5NTMxIEMyMi4wOTM1MjM1MyA0MC4zNzQ2MTE1MyAyMS4wMjMxNzA3NiAzNi4xNzg4ODk2NSAxOS45NDcyNjU2MiAzMS45ODQzNzUgQzE5LjQ4NDU3MjAzIDMwLjE2OTg5MDMxIDE5LjAyNjgzOTQ1IDI4LjM1NDEzMjkyIDE4LjU3NDIxODc1IDI2LjUzNzEwOTM4IEMxNy45MjE5MzU4OSAyMy45MjIyNTYxNiAxNy4yNTE4MjE4MSAyMS4zMTI1MzE3MyAxNi41NzgxMjUgMTguNzAzMTI1IEMxNi4yODA5ODYwMiAxNy40ODcyODcyOSAxNi4yODA5ODYwMiAxNy40ODcyODcyOSAxNS45Nzc4NDQyNCAxNi4yNDY4ODcyMSBDMTQuODEwMjA5MzQgMTEuODA0OTMzNDYgMTMuNzk5Njc2MzYgOC44OTA1NzQxMSAxMCA2IEM3LjQ0MzcyNDc1IDQuODk3OTA2NjcgNy40NDM3MjQ3NSA0Ljg5NzkwNjY3IDQuNzUgNC4yNSBDMy44NTc5Njg3NSA0LjAwNzY1NjI1IDIuOTY1OTM3NSAzLjc2NTMxMjUgMi4wNDY4NzUgMy41MTU2MjUgQzEuMzcxNDA2MjUgMy4zNDU0Njg3NSAwLjY5NTkzNzUgMy4xNzUzMTI1IDAgMyBDMCAyLjAxIDAgMS4wMiAwIDAgWiAiIGZpbGw9IiMyMTI5NjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM2LDU0KSIvPgo8cGF0aCBkPSJNMCAwIEMzLjYzIDAgNy4yNiAwIDExIDAgQzE1IDkuNjI1IDE1IDkuNjI1IDE1IDEzIEMxNS42NiAxMyAxNi4zMiAxMyAxNyAxMyBDMTcuMTkzMzU5MzggMTIuMzk2NzE4NzUgMTcuMzg2NzE4NzUgMTEuNzkzNDM3NSAxNy41ODU5Mzc1IDExLjE3MTg3NSBDMTcuODQ2MzI4MTIgMTAuMzcyNjU2MjUgMTguMTA2NzE4NzUgOS41NzM0Mzc1IDE4LjM3NSA4Ljc1IEMxOC43NTc4NTE1NiA3LjU2NjY0MDYyIDE4Ljc1Nzg1MTU2IDcuNTY2NjQwNjIgMTkuMTQ4NDM3NSA2LjM1OTM3NSBDMjAgNCAyMCA0IDIyIDAgQzI1LjYzIDAgMjkuMjYgMCAzMyAwIEMzMS42MTIzNzc3OCA0LjQ4OTM2NjAxIDMwLjA5OTAyNzU4IDguODM1MTMyMDUgMjguMjA3MDMxMjUgMTMuMTM2NzE4NzUgQzI3LjcyNjY1NDA1IDE0LjI0Mjg1NTIyIDI3LjcyNjY1NDA1IDE0LjI0Mjg1NTIyIDI3LjIzNjU3MjI3IDE1LjM3MTMzNzg5IEMyNi41ODgzNzkzNiAxNi44NTIwMjc5OSAyNS45MjY0NjI4MyAxOC4zMjY4MDAwNiAyNS4yNDk3NTU4NiAxOS43OTQ2Nzc3MyBDMjEuMjM0Nzg2MTQgMjkuMDI3NTEyNzMgMjUuMDc1MDY3NzkgMzYuMzYzMTg5NTkgMjguNTYyNSA0NS4yNSBDMjkuNDAxNTk1MTQgNDcuMzk5MzA1OTEgMzAuMjM2NDQwNzggNDkuNTUwMjc3MTYgMzEuMDY2NDA2MjUgNTEuNzAzMTI1IEMzMS40MzcwOTIyOSA1Mi42NDgzMzAwOCAzMS44MDc3NzgzMiA1My41OTM1MzUxNiAzMi4xODk2OTcyNyA1NC41NjczODI4MSBDMzMgNTcgMzMgNTcgMzMgNjAgQzMxLjU2MTYzMjQ5IDU5Ljg4NTQxMzA3IDMwLjEyNDI5MDM0IDU5Ljc1NzkwODg0IDI4LjY4NzUgNTkuNjI1IEMyNy44ODY5OTIxOSA1OS41NTUzOTA2MyAyNy4wODY0ODQzOCA1OS40ODU3ODEyNSAyNi4yNjE3MTg3NSA1OS40MTQwNjI1IEMyNCA1OSAyNCA1OSAyMSA1NyBDMTkuNjEzMjgxMjUgNTMuOTYwOTM3NSAxOS42MTMyODEyNSA1My45NjA5Mzc1IDE4LjMxMjUgNTAuMzc1IEMxNy44NzU1MDc4MSA0OS4xODY0ODQzNyAxNy40Mzg1MTU2MyA0Ny45OTc5Njg3NSAxNi45ODgyODEyNSA0Ni43NzM0Mzc1IEMxNi42NjIxNDg0NCA0NS44NTgyMDMxMyAxNi4zMzYwMTU2MyA0NC45NDI5Njg3NSAxNiA0NCBDMTQuMjExNzgyMjYgNDYuNjgyMzI2NjEgMTIuNzk4NTczOTYgNDkuMzAyODg5NjEgMTEuMzc1IDUyLjE4NzUgQzEwLjkyODk4NDM4IDUzLjA4ODU1NDY5IDEwLjQ4Mjk2ODc1IDUzLjk4OTYwOTM4IDEwLjAyMzQzNzUgNTQuOTE3OTY4NzUgQzkuNjg1NzAzMTIgNTUuNjA1MDM5MDYgOS4zNDc5Njg3NSA1Ni4yOTIxMDkzNyA5IDU3IEM1LjcgNTYuNjcgMi40IDU2LjM0IC0xIDU2IEMtMC4zOTQ5ODQ5MyA0OS4xNzY3NzQ1NCAyLjkyNjY1MjAyIDQzLjQ2Njc3Nzg3IDUuOTM3NSAzNy40MzE2NDA2MiBDOC40NDU2MTQ0IDMyLjE0NzgyNjM3IDkuNzA2Nzk0NDIgMjguODM0MjUxNjYgOCAyMyBDNi43NTQ5MDE0NiAxOS41MzQxMTc5NSA1LjM3Mjc0NjExIDE2LjE0MTA0NzgxIDMuOTM3NSAxMi43NSBDMy4xOTE5Mjc4NyAxMC45NzU5MjA2OSAyLjQ1MDgyOTQ5IDkuMTk5OTUyNjcgMS43MTQ4NDM3NSA3LjQyMTg3NSBDMS4zODYwNTIyNSA2LjY0NDI0ODA1IDEuMDU3MjYwNzQgNS44NjY2MjEwOSAwLjcxODUwNTg2IDUuMDY1NDI5NjkgQzAgMyAwIDMgMCAwIFogIiBmaWxsPSIjRDgxRTI1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTgzLDUyKSIvPgo8cGF0aCBkPSJNMCAwIEMtMC42NiAzLjYzIC0xLjMyIDcuMjYgLTIgMTEgQy0yLjgyNSAxMC44MzUgLTMuNjUgMTAuNjcgLTQuNSAxMC41IEMtMTEuNDA5NDk0MjQgOS40MzI1NTU0MyAtMTEuNDA5NDk0MjQgOS40MzI1NTU0MyAtMTggMTEgQy0xNy45MDQ4MDU0NiAxMi44OTU3NjM2NiAtMTcuOTA0ODA1NDYgMTIuODk1NzYzNjYgLTE3IDE1IEMtMTQuNTcyODYxMyAxNi44NzM4MTgyMSAtMTQuNTcyODYxMyAxNi44NzM4MTgyMSAtMTEuNjI1IDE4LjUgQy03LjkzODczNzE5IDIwLjYzOTc4MzE2IC01LjIyOTM2OTIyIDIyLjMxNTc1MDIyIC0zIDI2IEMtMS41MDg4MTc1MSAzMS42NDUxOTA4NSAtMi4xNzg0MTgzNiAzNC45MjExNTMwNiAtNSA0MCBDLTkuMzQ2NDcyNTcgNDUuMTQ3MTM4NTcgLTEzLjQ5MjA4MjkgNDcuMDc2ODA4NDEgLTIwLjEyNSA0Ny43NSBDLTI1Ljk4NTQzMDQyIDQ4LjIyMDQyOTExIC0zMS4zMDM1NDk3NiA0Ny4zMzMyMTE3NiAtMzcgNDYgQy0zOC4wOTg5ODcwMiA0Mi43MDMwMzg5NSAtMzcuODcxMjQ0NDQgNDEuNTk1MDUwOTcgLTM3LjA2MjUgMzguMzEyNSBDLTM2Ljg2Nzg1MTU2IDM3LjUwNDI1NzgxIC0zNi42NzMyMDMxMyAzNi42OTYwMTU2MyAtMzYuNDcyNjU2MjUgMzUuODYzMjgxMjUgQy0zNi4zMTY2Nzk2OSAzNS4yNDgzOTg0NCAtMzYuMTYwNzAzMTIgMzQuNjMzNTE1NjMgLTM2IDM0IEMtMzQuODQ1IDM0LjMzIC0zMy42OSAzNC42NiAtMzIuNSAzNSBDLTI4LjE4MjA3NzU3IDM2LjA3MzcyODQ5IC0yNC40NDM3NDM0NCAzNi4zMDEyNzA3NCAtMjAgMzYgQy0xOS4wMSAzNS4zNCAtMTguMDIgMzQuNjggLTE3IDM0IEMtMTcuMTc4MjU1OTkgMzIuMDY3MDg1MjEgLTE3LjE3ODI1NTk5IDMyLjA2NzA4NTIxIC0xOCAzMCBDLTE5LjkwMzM3ODEzIDI4LjYwODcxNTU2IC0xOS45MDMzNzgxMyAyOC42MDg3MTU1NiAtMjIuMjUgMjcuNTYyNSBDLTMxLjA3MTA4MzE3IDIyLjkxMzE3MTEzIC0zMS4wNzEwODMxNyAyMi45MTMxNzExMyAtMzIuNjYwMTU2MjUgMTcuOTI5Njg3NSBDLTMzLjUwOTcyNjg3IDEzLjA2MzIxNTAxIC0zMy4wODExMzgwMSA5LjYxMDg4NDM3IC0zMC4yOTI5Njg3NSA1LjUgQy0yMi4zNjg4Mzc3IC0zLjY5Mjk0OTYyIC0xMC42NjIyMzUzMyAtMi42NjU1NTg4MyAwIDAgWiAiIGZpbGw9IiMyMjM5ODUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE0Niw1NSkiLz4KPHBhdGggZD0iTTAgMCBDNC4yNTM4MDEzOCAxLjUxOTIxNDc4IDUuODUwNjA1NjkgNC4xMzEwOTAyNCA4IDggQzEwLjIxNjIxNjM0IDE0LjEzODE3MjIyIDExLjE3ODUwNDM3IDIwLjIzMzA3NjcgOC41NjI1IDI2LjM3NSBDNyAyOSA3IDI5IDYgMzAgQzMuNjM2NzE4NzUgMzAuMjk2ODc1IDMuNjM2NzE4NzUgMzAuMjk2ODc1IDEgMzAgQy0wLjczMDQ2ODc1IDI4LjM5MDYyNSAtMC43MzA0Njg3NSAyOC4zOTA2MjUgLTIuMTg3NSAyNi4yNSBDLTIuOTIwMzMyMDMgMjUuMjA1ODU5MzggLTIuOTIwMzMyMDMgMjUuMjA1ODU5MzggLTMuNjY3OTY4NzUgMjQuMTQwNjI1IEMtNC45MTMwODMwNCAyMi4xMzk2Nzg4OCAtNS45ODkwNDQ2MiAyMC4xMjczMTg0MyAtNyAxOCBDLTcuMTk5MTYwMTYgMTkuMjY0NTcwMzEgLTcuMTk5MTYwMTYgMTkuMjY0NTcwMzEgLTcuNDAyMzQzNzUgMjAuNTU0Njg3NSBDLTcuNTc4OTQ1MzEgMjEuNjUwMzkwNjIgLTcuNzU1NTQ2ODggMjIuNzQ2MDkzNzUgLTcuOTM3NSAyMy44NzUgQy04LjExMTUyMzQ0IDI0Ljk2NTU0Njg4IC04LjI4NTU0Njg4IDI2LjA1NjA5Mzc1IC04LjQ2NDg0Mzc1IDI3LjE3OTY4NzUgQy05IDMwIC05IDMwIC0xMCAzMiBDLTExLjg3NSAzMS43NSAtMTEuODc1IDMxLjc1IC0xNCAzMSBDLTE1LjI1IDI4LjkzNzUgLTE1LjI1IDI4LjkzNzUgLTE2IDI3IEMtMTYuNDMzMTI1IDI3LjQ3NDM3NSAtMTYuODY2MjUgMjcuOTQ4NzUgLTE3LjMxMjUgMjguNDM3NSBDLTIxLjI2ODUzMTg1IDMyLjEwMDQ5MjQ1IC0yNi43NTQ4NDI1IDMxLjMyNjM3NjY4IC0zMS44MjAzMTI1IDMxLjI4MTI1IEMtMzYuMjA3MDY0MDkgMzAuODkzMjMyNjYgLTM3LjkwMzMwOTI4IDMwLjA5NjY5MDcyIC00MSAyNyBDLTQyLjU2MjUgMjQuNSAtNDIuNTYyNSAyNC41IC00MyAyMiBDLTQxLjYyNSAxOS42ODc1IC00MS42MjUgMTkuNjg3NSAtNDAgMTggQy00MS4zMiAxNy4wMSAtNDIuNjQgMTYuMDIgLTQ0IDE1IEMtNDQgMTEuNzUgLTQ0IDExLjc1IC00MyA4IEMtMzcuODIzNzMwOTQgMy44MDUyMDc0OSAtMzIuMDE2MTEwNTQgMy40NTA1OTcyMiAtMjUuNjI1IDMuNjg3NSBDLTI0LjgxOTMzNTk0IDMuNjk3MTY3OTcgLTI0LjAxMzY3MTg4IDMuNzA2ODM1OTQgLTIzLjE4MzU5Mzc1IDMuNzE2Nzk2ODggQy0xNy4zNDEzMjczMSAzLjgyOTMzNjM1IC0xNy4zNDEzMjczMSAzLjgyOTMzNjM1IC0xNSA1IEMtMTUuMzEyNSA2LjkzNzUgLTE1LjMxMjUgNi45Mzc1IC0xNiA5IEMtMjAuMjg5NzAxMzQgMTAuNDI5OTAwNDUgLTI0LjU3MTM0MzI0IDEwLjQzODEyMTc2IC0yOS4wNjY0MDYyNSAxMC43MTg3NSBDLTMxLjkzMTY1NzQ2IDEwLjgxNTkwNjYxIC0zMS45MzE2NTc0NiAxMC44MTU5MDY2MSAtMzQgMTIgQy0zMy4wMzU3ODEyNSAxMi4xMDk1NzAzMSAtMzIuMDcxNTYyNSAxMi4yMTkxNDA2MiAtMzEuMDc4MTI1IDEyLjMzMjAzMTI1IEMtMjkuODE0ODQzNzUgMTIuNDkwNTg1OTQgLTI4LjU1MTU2MjUgMTIuNjQ5MTQwNjMgLTI3LjI1IDEyLjgxMjUgQy0yNS4zNzA1NDY4NyAxMy4wMzg3MzA0NyAtMjUuMzcwNTQ2ODcgMTMuMDM4NzMwNDcgLTIzLjQ1MzEyNSAxMy4yNjk1MzEyNSBDLTIwLjA1NDQ1OTUzIDEzLjk4ODQ3OTcxIC0xOC40MjUxMDM5MSAxNC41NjkwMDk5MSAtMTYgMTcgQy0xNS42NyAxNy45OSAtMTUuMzQgMTguOTggLTE1IDIwIEMtMTQuODc4ODI4MTMgMTkuMzI0NTMxMjUgLTE0Ljc1NzY1NjI1IDE4LjY0OTA2MjUgLTE0LjYzMjgxMjUgMTcuOTUzMTI1IEMtMTQuNDY1MjM0MzggMTcuMDYxMDkzNzUgLTE0LjI5NzY1NjI1IDE2LjE2OTA2MjUgLTE0LjEyNSAxNS4yNSBDLTEzLjk2MjU3ODEzIDE0LjM2ODI4MTI1IC0xMy44MDAxNTYyNSAxMy40ODY1NjI1IC0xMy42MzI4MTI1IDEyLjU3ODEyNSBDLTEzLjAzMjAzNzM2IDEwLjEzMDUyMjU2IC0xMi4yMjAwMjg4MyA4LjE5NDAwMTQzIC0xMSA2IEMtOC43Njk1MzEyNSA2LjEyMTA5Mzc1IC04Ljc2OTUzMTI1IDYuMTIxMDkzNzUgLTYgNyBDLTMuNzYxNzE4NzUgOS43MjI2NTYyNSAtMy43NjE3MTg3NSA5LjcyMjY1NjI1IC0xLjY4NzUgMTMuMDYyNSBDLTAuOTkwMTE3MTkgMTQuMTY3MjI2NTYgLTAuMjkyNzM0MzggMTUuMjcxOTUzMTIgMC40MjU3ODEyNSAxNi40MTAxNTYyNSBDMS4yMDUwMTk1MyAxNy42OTIxMjg5MSAxLjIwNTAxOTUzIDE3LjY5MjEyODkxIDIgMTkgQzEuODAwODM5ODQgMTcuODA1MDM5MDYgMS44MDA4Mzk4NCAxNy44MDUwMzkwNiAxLjU5NzY1NjI1IDE2LjU4NTkzNzUgQzEuMDY1MTA0MTcgMTMuMzkwNjI1IDAuNTMyNTUyMDggMTAuMTk1MzEyNSAwIDcgQy0wLjIwNzUzOTA2IDUuODk5MTQwNjMgLTAuNDE1MDc4MTMgNC43OTgyODEyNSAtMC42Mjg5MDYyNSAzLjY2NDA2MjUgQy0wLjc1MTM2NzE5IDIuNzg0OTIxODcgLTAuODczODI4MTMgMS45MDU3ODEyNSAtMSAxIEMtMC42NyAwLjY3IC0wLjM0IDAuMzQgMCAwIFogTS0yOCAxOCBDLTI2LjE4Nzc3NDY2IDIwLjA2MjQ5OTQgLTI2LjE4Nzc3NDY2IDIwLjA2MjQ5OTQgLTI0IDIyIEMtMjMuMDEgMjIgLTIyLjAyIDIyIC0yMSAyMiBDLTIxLjMzIDIxLjAxIC0yMS42NiAyMC4wMiAtMjIgMTkgQy0yNC45NyAxOC41MDUgLTI0Ljk3IDE4LjUwNSAtMjggMTggWiBNLTM5IDIyIEMtMzkgMjIuNjYgLTM5IDIzLjMyIC0zOSAyNCBDLTM2LjAzIDI0LjMzIC0zMy4wNiAyNC42NiAtMzAgMjUgQy0zMi4zNTk2ODc0NCAyMi45MDI1MDAwNSAtMzMuNTQ2MTY5OTQgMjIuMDMwOTQyOTYgLTM2Ljc1IDIxLjgxMjUgQy0zNy40OTI1IDIxLjg3NDM3NSAtMzguMjM1IDIxLjkzNjI1IC0zOSAyMiBaICIgZmlsbD0iIzIyMUUyMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjIwLDY3KSIvPgo8cGF0aCBkPSJNMCAwIEMyLjA1NDY4NzUgLTAuMTk5MjE4NzUgMi4wNTQ2ODc1IC0wLjE5OTIxODc1IDUuODY3MTg3NSAwLjM2MzI4MTI1IEM4LjI4Mjg5NDcyIDIuNDI4NzM2NjggMTAuMDk2NDE2NDkgNC43MzM5NTQ2IDExLjg2NzE4NzUgNy4zNjMyODEyNSBDMTIuMTQ5NDkyMTkgNi44NDYzNjcxOSAxMi40MzE3OTY4NyA2LjMyOTQ1MzEzIDEyLjcyMjY1NjI1IDUuNzk2ODc1IEMxNC4yNzE2ODgxMyAzLjQ3NTU5ODQ4IDE1LjU3MTg3NDIgMS45NzEyNTAyOCAxNy44NjcxODc1IDAuMzYzMjgxMjUgQzI2LjQ3NDM3MzUgLTAuNzg0MzQzNTUgMzQuOTQxNzAyNzcgMi4yOTMwNDg0MyA0Mi44NjcxODc1IDUuMzYzMjgxMjUgQzQxLjE2MTc1MzAxIDkuMTA0MjM0MzIgMzkuMjkzODYwOCAxMS4wMjMxMTQxMiAzNS44NjcxODc1IDEzLjM2MzI4MTI1IEMzNC44NzcxODc1IDEzLjM2MzI4MTI1IDMzLjg4NzE4NzUgMTMuMzYzMjgxMjUgMzIuODY3MTg3NSAxMy4zNjMyODEyNSBDMzIuMjA3MTg3NSAxMi4zNzMyODEyNSAzMS41NDcxODc1IDExLjM4MzI4MTI1IDMwLjg2NzE4NzUgMTAuMzYzMjgxMjUgQzI4LjY3MjY0MDY5IDkuNzgzMzQ0MjYgMjguNjcyNjQwNjkgOS43ODMzNDQyNiAyNi4yNDIxODc1IDkuNjc1NzgxMjUgQzI1LjQyNDkyMTg4IDkuNjEwMDM5MDYgMjQuNjA3NjU2MjUgOS41NDQyOTY4OCAyMy43NjU2MjUgOS40NzY1NjI1IEMyMi44MjU4OTg0NCA5LjQyMDQ4ODI4IDIyLjgyNTg5ODQ0IDkuNDIwNDg4MjggMjEuODY3MTg3NSA5LjM2MzI4MTI1IEMyMS43NTg4NzYwNCA5Ljk5OTk5MjUyIDIxLjY1MDU2NDU4IDEwLjYzNjcwMzggMjEuNTM4OTcwOTUgMTEuMjkyNzA5MzUgQzIwLjQxMzg1NTQzIDE3Ljg5NjI5MTI1IDE5LjI3NjQ4MDM1IDI0LjQ5NzY3NjE0IDE4LjEzMTgzNTk0IDMxLjA5NzkwMDM5IEMxNy43MDU4MDczNiAzMy41NjQxNTA1NiAxNy4yODI5NDkwNyAzNi4wMzA5NTA1MSAxNi44NjMyODEyNSAzOC40OTgyOTEwMiBDMTYuMjYwODYwODcgNDIuMDM2ODAwMzYgMTUuNjQ3MjEwNTMgNDUuNTczMjAwOSAxNS4wMzEyNSA0OS4xMDkzNzUgQzE0Ljg0NDcwODU2IDUwLjIxOTc3NjQ2IDE0LjY1ODE2NzExIDUxLjMzMDE3NzkyIDE0LjQ2NTk3MjkgNTIuNDc0MjI3OTEgQzE0LjI4NTkzNzE5IDUzLjQ5NTIxMDcyIDE0LjEwNTkwMTQ5IDU0LjUxNjE5MzU0IDEzLjkyMDQxMDE2IDU1LjU2ODExNTIzIEMxMy42ODcyNDU5NCA1Ni45MjM3OTg2IDEzLjY4NzI0NTk0IDU2LjkyMzc5ODYgMTMuNDQ5MzcxMzQgNTguMzA2ODY5NTEgQzEzLjI1NzI1MDY3IDU4Ljk4NTQ4NTM4IDEzLjA2NTEzIDU5LjY2NDEwMTI2IDEyLjg2NzE4NzUgNjAuMzYzMjgxMjUgQzExLjg3NzE4NzUgNjAuODU4MjgxMjUgMTEuODc3MTg3NSA2MC44NTgyODEyNSAxMC44NjcxODc1IDYxLjM2MzI4MTI1IEM5LjU4MDQ1Mjg0IDU0LjQ1OTA5MjQzIDguMjk5Mjc3MDIgNDcuNTUzODg4ODYgNy4wMjE5NzI2NiA0MC42NDc5NDkyMiBDNi41ODY3MzE3NyAzOC4yOTg0Mjc0MSA2LjE1MDIxNTc5IDM1Ljk0OTE0MTQ1IDUuNzEyNDAyMzQgMzMuNjAwMDk3NjYgQzUuMDgzNTYyMzcgMzAuMjI0ODk1MzcgNC40NTkzMDI5NCAyNi44NDg4NzMzNSAzLjgzNTkzNzUgMjMuNDcyNjU2MjUgQzMuNTQwNjQxNDggMjEuODk1OTAxMTggMy41NDA2NDE0OCAyMS44OTU5MDExOCAzLjIzOTM3OTg4IDIwLjI4NzI5MjQ4IEMzLjA1OTE5MzEyIDE5LjMwNjU3Nzc2IDIuODc5MDA2MzUgMTguMzI1ODYzMDQgMi42OTMzNTkzOCAxNy4zMTU0Mjk2OSBDMi41MzM0NzUzNCAxNi40NTM4MzI0IDIuMzczNTkxMzEgMTUuNTkyMjM1MTEgMi4yMDg4NjIzIDE0LjcwNDUyODgxIEMxLjg2NzE4NzUgMTIuMzYzMjgxMjUgMS44NjcxODc1IDEyLjM2MzI4MTI1IDEuODY3MTg3NSA4LjM2MzI4MTI1IEMtMS43NjI4MTI1IDkuMDIzMjgxMjUgLTUuMzkyODEyNSA5LjY4MzI4MTI1IC05LjEzMjgxMjUgMTAuMzYzMjgxMjUgQy05LjQ2MjgxMjUgMTEuMzUzMjgxMjUgLTkuNzkyODEyNSAxMi4zNDMyODEyNSAtMTAuMTMyODEyNSAxMy4zNjMyODEyNSBDLTE1LjA4OTc3ODMxIDEyLjEyNDAzOTggLTE3LjI0OTM5NzE2IDEwLjU3NzUwMzY3IC0yMC4xMzI4MTI1IDYuMzYzMjgxMjUgQy0xMy40NzU0Nzc3IDMuMTIxMTc0OTQgLTcuMjY2ODA3MzkgMS4yMzc3NTI5MSAwIDAgWiAiIGZpbGw9IiNFODIwMjYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE3NzUuMTMyODEyNSwzNS42MzY3MTg3NSkiLz4KPHBhdGggZD0iTTAgMCBDOC41OCAwIDE3LjE2IDAgMjYgMCBDMjYgMy4zIDI2IDYuNiAyNiAxMCBDMjAuNzIgMTAgMTUuNDQgMTAgMTAgMTAgQzEwIDEzLjYzIDEwIDE3LjI2IDEwIDIxIEMxMy45NiAyMSAxNy45MiAyMSAyMiAyMSBDMjIgMjQuMyAyMiAyNy42IDIyIDMxIEMxOC4wNCAzMSAxNC4wOCAzMSAxMCAzMSBDMTAgMzUuMjkgMTAgMzkuNTggMTAgNDQgQzE3LjkyIDQzLjUwNSAxNy45MiA0My41MDUgMjYgNDMgQzI2IDQ2LjMgMjYgNDkuNiAyNiA1MyBDMjIuODY0NjI0MDIgNTQuMDQ1MTI1MzMgMjAuMjI4NTQ5MDIgNTQuMzE1Mzc3MTMgMTYuOTM3NSA1NC41NjI1IEMxNS44NzQwMjM0NCA1NC42NDYyODkwNiAxNC44MTA1NDY4OCA1NC43MzAwNzgxMyAxMy43MTQ4NDM3NSA1NC44MTY0MDYyNSBDOS4xNDgzOTI5NSA1NS4wNDIwODc4NCA0LjU3MjAyNDE4IDU1IDAgNTUgQzAgMzYuODUgMCAxOC43IDAgMCBaICIgZmlsbD0iI0Q4MUUyNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAzNSw1MikiLz4KPHBhdGggZD0iTTAgMCBDMS45MTAxNTYyNSAwLjgyMDMxMjUgMS45MTAxNTYyNSAwLjgyMDMxMjUgNC41MzUxNTYyNSAyLjMyMDMxMjUgQzQuNTM1MTU2MjUgNC45NjAzMTI1IDQuNTM1MTU2MjUgNy42MDAzMTI1IDQuNTM1MTU2MjUgMTAuMzIwMzEyNSBDMS43NzIzOTQ0OCA5Ljc5NzYyNzg0IC0wLjc5MDkzMTM1IDkuMjExNjE2NjMgLTMuNDY0ODQzNzUgOC4zMjAzMTI1IEMtNS4wMjYwMjgwMyA4LjI1MjkwMzg1IC02LjU4OTg2ODk1IDguMjM1MTY3OTQgLTguMTUyMzQzNzUgOC4yNTc4MTI1IEMtOC45NjA1ODU5NCA4LjI2NjgzNTk0IC05Ljc2ODgyODEzIDguMjc1ODU5MzcgLTEwLjYwMTU2MjUgOC4yODUxNTYyNSBDLTExLjIxNjQ0NTMxIDguMjk2NzU3ODEgLTExLjgzMTMyODEzIDguMzA4MzU5MzggLTEyLjQ2NDg0Mzc1IDguMzIwMzEyNSBDLTEyLjc5NDg0Mzc1IDkuMzEwMzEyNSAtMTMuMTI0ODQzNzUgMTAuMzAwMzEyNSAtMTMuNDY0ODQzNzUgMTEuMzIwMzEyNSBDLTEyLjU4NDQxNDA2IDExLjcwNzAzMTI1IC0xMS43MDM5ODQzNyAxMi4wOTM3NSAtMTAuNzk2ODc1IDEyLjQ5MjE4NzUgQy05LjYzNTQyOTY5IDEzLjAxMjk2ODc1IC04LjQ3Mzk4NDM4IDEzLjUzMzc1IC03LjI3NzM0Mzc1IDE0LjA3MDMxMjUgQy01LjU1NDUxMTcyIDE0LjgzNjAxNTYzIC01LjU1NDUxMTcyIDE0LjgzNjAxNTYzIC0zLjc5Njg3NSAxNS42MTcxODc1IEMwLjI0MTM3MzEyIDE3LjY4MTI4NjE5IDMuNTY0NTg1NyAxOS42ODc5ODkzIDUuOTEwMTU2MjUgMjMuNjMyODEyNSBDNi45OTYzOTk0NiAyOC4zMDM2NTgzIDYuMzE4NTczOSAzMS44ODQwNDY4MSA0LjAzNTE1NjI1IDM2LjA3MDMxMjUgQy0wLjE5NDIwMDc5IDM5Ljg3NjczMzg0IC00LjYxMjE4MDA4IDQxLjI1NzA5NTU4IC0xMC4yODUxNTYyNSA0MS4zODI4MTI1IEMtMTUuNjc4ODQ0MzEgNDEuMDMwMDkxNzUgLTE5Ljg2NjQ0MTQ4IDQwLjE3ODc3ODc4IC0yNC40NjQ4NDM3NSAzNy4zMjAzMTI1IEMtMjQuNDY0ODQzNzUgMzQuMDIwMzEyNSAtMjQuNDY0ODQzNzUgMzAuNzIwMzEyNSAtMjQuNDY0ODQzNzUgMjcuMzIwMzEyNSBDLTIzLjE2NTQ2ODc1IDI3Ljk4MDMxMjUgLTIxLjg2NjA5Mzc1IDI4LjY0MDMxMjUgLTIwLjUyNzM0Mzc1IDI5LjMyMDMxMjUgQy0xNS41OTQwNTE2OSAzMS41NDQyMDkyNCAtMTEuODI1MTI2MDMgMzEuNjYwNjQ3ODggLTYuNDY0ODQzNzUgMzEuMzIwMzEyNSBDLTYuNDY0ODQzNzUgMzAuMDAwMzEyNSAtNi40NjQ4NDM3NSAyOC42ODAzMTI1IC02LjQ2NDg0Mzc1IDI3LjMyMDMxMjUgQy03LjQxNzQ2MDk0IDI2Ljk1Njc5Njg3IC04LjM3MDA3ODEyIDI2LjU5MzI4MTI1IC05LjM1MTU2MjUgMjYuMjE4NzUgQy0yMi40OTU3MTQwNSAyMS4wMzAxNzczIC0yMi40OTU3MTQwNSAyMS4wMzAxNzczIC0yNS40NjQ4NDM3NSAxNS4zMjAzMTI1IEMtMjYuMjE3MDIwNTkgMTEuNDI4OTQ4NjQgLTI1LjgyMjM5NTM5IDguMjE0MTkxNTkgLTI0LjMzOTg0Mzc1IDQuNTA3ODEyNSBDLTE4LjQ5MTUxODczIC0yLjMxNTIzMzM1IC04LjEzNzk4MzIgLTIuMjQ0MDcxNDQgMCAwIFogIiBmaWxsPSIjMDA4NDI5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxOTY5LjQ2NDg0Mzc1LDQwLjY3OTY4NzUpIi8+CjxwYXRoIGQ9Ik0wIDAgQzguOTEgMCAxNy44MiAwIDI3IDAgQzI3IDMuMyAyNyA2LjYgMjcgMTAgQzIxLjM5IDEwIDE1Ljc4IDEwIDEwIDEwIEMxMCAxMy42MyAxMCAxNy4yNiAxMCAyMSBDMTQuMjkgMjEgMTguNTggMjEgMjMgMjEgQzIzIDI0LjMgMjMgMjcuNiAyMyAzMSBDMTguNzEgMzEgMTQuNDIgMzEgMTAgMzEgQzEwIDM3LjkzIDEwIDQ0Ljg2IDEwIDUyIEM2LjcgNTIgMy40IDUyIDAgNTIgQzAgMzQuODQgMCAxNy42OCAwIDAgWiAiIGZpbGw9IiNEODFFMjYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExMDEsNTIpIi8+CjxwYXRoIGQ9Ik0wIDAgQzIuOTcgMCA1Ljk0IDAgOSAwIEM5IDEzLjUzIDkgMjcuMDYgOSA0MSBDNS4zNyA0MSAxLjc0IDQxIC0yIDQxIEMtMy4yMTY4NzUgNDEuMjQ3NSAtNC40MzM3NSA0MS40OTUgLTUuNjg3NSA0MS43NSBDLTEwLjMxMDAyNjQxIDQyLjA5ODg2OTkyIC0xMy4zMDg5OTE4NSA0MC43MzUwMDM3OSAtMTcgMzggQy0yMC42ODY4MTg5NSAzMy4xNjEwNTAxMyAtMjAuNjk0NzYzNjEgMjcuODUzMTQ1NTEgLTIwIDIyIEMtMTguNzI2MDcyMzggMTguMzEyMzE0NzcgLTE3Ljc0NDY5MDYyIDE2LjU4MzY3NjQzIC0xNC42ODc1IDE0LjE4NzUgQy05LjYzMTE5NDU5IDExLjk1MzMxODU0IC02LjQ1NjIyNjA3IDExLjkwODc1NDc5IC0xIDEzIEMtMC42NyA4LjcxIC0wLjM0IDQuNDIgMCAwIFogTS05LjQzNzUgMjEuMDYyNSBDLTExLjI1OTI1OTU5IDI0LjQ4NzQwODAyIC0xMS42MzY3NDE4MyAyNi4xNzk1NDkgLTExIDMwIEMtOS40NTY2NDk3MSAzMi45NTA0NzU1MyAtOS40NTY2NDk3MSAzMi45NTA0NzU1MyAtNyAzNSBDLTQuNDE0MTc4NzIgMzUuNTg0MDIxMzMgLTQuNDE0MTc4NzIgMzUuNTg0MDIxMzMgLTIgMzUgQzAuMzI4NjYyMjkgMzMuMTExNTM4MTcgMC4zMjg2NjIyOSAzMy4xMTE1MzgxNyAwLjE5NTMxMjUgMjkuOTYwOTM3NSBDMC4xNzIxMDkzOCAyOC43Nzc1NzgxMiAwLjE0ODkwNjI1IDI3LjU5NDIxODc1IDAuMTI1IDI2LjM3NSBDMC4xMDY5NTMxMyAyNS4xODY0ODQzNyAwLjA4ODkwNjI1IDIzLjk5Nzk2ODc1IDAuMDcwMzEyNSAyMi43NzM0Mzc1IEMwLjA0NzEwOTM4IDIxLjg1ODIwMzEzIDAuMDIzOTA2MjUgMjAuOTQyOTY4NzUgMCAyMCBDLTUuMTAxNDUzNyAxOC41Nzg2MzU2MiAtNS4xMDE0NTM3IDE4LjU3ODYzNTYyIC05LjQzNzUgMjEuMDYyNSBaICIgZmlsbD0iIzAwODQyOSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjEzMSw0MCkiLz4KPHBhdGggZD0iTTAgMCBDOS45IDAgMTkuOCAwIDMwIDAgQzMwIDMuMyAzMCA2LjYgMzAgMTAgQzI2LjcgMTAgMjMuNCAxMCAyMCAxMCBDMjAgMjMuODYgMjAgMzcuNzIgMjAgNTIgQzE1LjA1IDUyLjQ5NSAxNS4wNSA1Mi40OTUgMTAgNTMgQzEwIDM4LjgxIDEwIDI0LjYyIDEwIDEwIEM2LjcgMTAgMy40IDEwIDAgMTAgQzAgNi43IDAgMy40IDAgMCBaICIgZmlsbD0iI0Q4MUUyNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA2Niw1MikiLz4KPHBhdGggZD0iTTAgMCBDLTAuNDgxMTQ5MSA1Ljc3Mzc4OTI1IC0yLjE4NDY3MTgxIDkuOTU4NTk4MzYgLTUgMTUgQy00LjMxOTM3NSAxNC4yOTg3NSAtMy42Mzg3NSAxMy41OTc1IC0yLjkzNzUgMTIuODc1IEMtMS45NjMyMDUxNCAxMS45MTE3MTQxMyAtMC45ODM1MTk0NiAxMC45NTM4NjU2MSAwIDEwIEMwLjU1NDI5Njg3IDkuNDYxMTcxODggMS4xMDg1OTM3NSA4LjkyMjM0Mzc1IDEuNjc5Njg3NSA4LjM2NzE4NzUgQzUuMjUwOTM2OCA1LjA4MTYzODE0IDcuODk2NjgzMzIgMi44ODQwMTU1MyAxMyAzIEMxNS4wMDY0OTYwNyA0LjUzNjM3NTAxIDE1Ljg3Mzg5MDQ5IDUuNTg4MTQ4NyAxNi42MTcxODc1IDguMDE1NjI1IEMxNy4yNTE1NjExIDEzLjUxMzUyOTUzIDE2Ljg0OTMwMTA3IDE3LjA2MTIxMTQ3IDE0IDIyIEMxMS4wNTUwNzk0MyAyNS40MDk5MDgwMyA4LjEyMTcwMjE1IDI4LjEzNTQyMDQ2IDQgMzAgQzEuNjY3MTQ1MiAzMC4wNDcyNTM5OSAtMC42NjcyNDM5MyAzMC4wNTE4OTk3MyAtMyAzMCBDLTMuMjY1NTQ2ODggMzEuMDczNzg5MDYgLTMuNTMxMDkzNzUgMzIuMTQ3NTc4MTIgLTMuODA0Njg3NSAzMy4yNTM5MDYyNSBDLTQuMTYxMzk0MjEgMzQuNjkwMTIwMSAtNC41MTgxNjg2NiAzNi4xMjYzMTcxMiAtNC44NzUgMzcuNTYyNSBDLTUuMDQ5MDIzNDQgMzguMjY2OTcyNjYgLTUuMjIzMDQ2ODggMzguOTcxNDQ1MzEgLTUuNDAyMzQzNzUgMzkuNjk3MjY1NjIgQy02LjUxMjk0ODE1IDQ0LjE2MDI0OTk4IC03LjcxMjAxMjE2IDQ4LjU4NDg3MDUyIC05IDUzIEMtMTMuODc1IDUxLjI1IC0xMy44NzUgNTEuMjUgLTE1IDQ5IEMtMTUuODA3NzM2NjkgNDEuNjExMTk1NTcgLTE0LjQ0MzM4Mzc0IDM1LjkyMzE3NjkzIC0xMS44NzEwOTM3NSAyOS4wNDI5Njg3NSBDLTEwLjkzNjk5MDk5IDI1Ljc3OTg5MjMxIC0xMC44OTM4OTA4MiAyMy4yNTE1MDY5MSAtMTEuMDYyNSAxOS44NzUgQy0xMS4zNDcwMDEzMyAxMi4zOTk0ODI0MiAtOC41MjkxMDMxNSA3LjAzNDkyMzc4IC0zLjgxMjUgMS4zNzUgQy0yIDAgLTIgMCAwIDAgWiBNMTAgMTAgQzcuOTU1NDM5NDEgMTIuMTcyNjQ2NTUgNy45NTU0Mzk0MSAxMi4xNzI2NDY1NSA1Ljg3NSAxNC44NzUgQzUuMTUwNTQ2ODggMTUuNzc5OTIxODcgNC40MjYwOTM3NSAxNi42ODQ4NDM3NSAzLjY3OTY4NzUgMTcuNjE3MTg3NSBDMS44MDc5NDc2NiAxOS43ODY1NTgxMSAxLjgwNzk0NzY2IDE5Ljc4NjU1ODExIDIgMjIgQzYuMDE1MzA1MDUgMjEuMDg3NDMwNjcgNy43MTEyODI3NSAyMC4zNDk0OTk4MyAxMC4zNzUgMTcuMTI1IEMxMi4zMDc1Njg0OSAxMy45OTU1NjM5MiAxMi4zMDc1Njg0OSAxMy45OTU1NjM5MiAxMiAxMCBDMTEuMzQgMTAgMTAuNjggMTAgMTAgMTAgWiAiIGZpbGw9IiMyMjFFMjAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDY2NSw3MCkiLz4KPHBhdGggZD0iTTAgMCBDMy4zIDAgNi42IDAgMTAgMCBDMTAgMTQuMTkgMTAgMjguMzggMTAgNDMgQzEzLjk2IDQzIDE3LjkyIDQzIDIyIDQzIEMyMy4zMiA0My4zMyAyNC42NCA0My42NiAyNiA0NCBDMjYgNDcuMyAyNiA1MC42IDI2IDU0IEMxMy4xMyA1My41MDUgMTMuMTMgNTMuNTA1IDAgNTMgQzAgMzUuNTEgMCAxOC4wMiAwIDAgWiAiIGZpbGw9IiNEODFFMjYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExMzMsNTIpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuMyAwIDYuNiAwIDEwIDAgQzEwLjMzIDQuNjIgMTAuNjYgOS4yNCAxMSAxNCBDMTIuNTQ2ODc1IDEzLjQ0MzEyNSAxMi41NDY4NzUgMTMuNDQzMTI1IDE0LjEyNSAxMi44NzUgQzE4LjM5OTA1MzgzIDExLjkwOTg5MTA3IDIwLjEwMjI4MDU4IDEyLjEzOTcyNDgyIDI0IDE0IEMyNS45NTA0Njk0MiAxNS42MTQxODE1OSAyNi44NzAxODY5MyAxNi43NDAzNzM4NiAyOCAxOSBDMjguMDcxODE4MjEgMjEuNzE3NjAxMDggMjguMDkyOTk1MDYgMjQuNDA4NTkzODggMjguMDYyNSAyNy4xMjUgQzI4LjA1Nzk4ODI4IDI3Ljg3OTEwMTU2IDI4LjA1MzQ3NjU2IDI4LjYzMzIwMzEyIDI4LjA0ODgyODEyIDI5LjQxMDE1NjI1IEMyOC4wMzcwMzQ5OSAzMS4yNzM0NzEyNyAyOC4wMTkwOTk0MiAzMy4xMzY3NDU1NSAyOCAzNSBDMjMuNTQ1IDM1LjQ5NSAyMy41NDUgMzUuNDk1IDE5IDM2IEMxOC45Mzk0MTQwNiAzNS4wODQ3NjU2MyAxOC44Nzg4MjgxMiAzNC4xNjk1MzEyNSAxOC44MTY0MDYyNSAzMy4yMjY1NjI1IEMxOC43MzI2MTcxOSAzMi4wMzgwNDY4NyAxOC42NDg4MjgxMiAzMC44NDk1MzEyNSAxOC41NjI1IDI5LjYyNSBDMTguNDgxMjg5MDYgMjguNDQxNjQwNjMgMTguNDAwMDc4MTIgMjcuMjU4MjgxMjUgMTguMzE2NDA2MjUgMjYuMDM5MDYyNSBDMTguMTg5MTUwNjQgMjMuMDg0ODEwOTkgMTguMTg5MTUwNjQgMjMuMDg0ODEwOTkgMTcgMjEgQzE1LjMzMzg4MDk1IDIwLjk1NzI3OSAxMy42NjYxNzExNSAyMC45NTkzNjE2OCAxMiAyMSBDMTAuNDUwNDk3MzIgMjIuNTQ5NTAyNjggMTAuNzgzNDQ4MDcgMjQuMDk5OTA1OTQgMTAuNjgzNTkzNzUgMjYuMjUzOTA2MjUgQzEwLjY0MTY5OTIyIDI3LjEwNzkxMDE2IDEwLjU5OTgwNDY5IDI3Ljk2MTkxNDA2IDEwLjU1NjY0MDYyIDI4Ljg0MTc5Njg4IEMxMC41MTczMjQyMiAyOS43Mzk2Mjg5MSAxMC40NzgwMDc4MSAzMC42Mzc0NjA5NCAxMC40Mzc1IDMxLjU2MjUgQzEwLjM5NDMxNjQxIDMyLjQ2NDE5OTIyIDEwLjM1MTEzMjgxIDMzLjM2NTg5ODQ0IDEwLjMwNjY0MDYyIDM0LjI5NDkyMTg4IEMxMC4yMDAyMjAxNiAzNi41Mjk3NTE1NiAxMC4wOTk1NzUxOSAzOC43NjQ4NTQ4NiAxMCA0MSBDNi43IDQxIDMuNCA0MSAwIDQxIEMwIDI3LjQ3IDAgMTMuOTQgMCAwIFogIiBmaWxsPSIjMDA4NDI5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMDA1LDQwKSIvPgo8cGF0aCBkPSJNMCAwIEM0LjI5IDAgOC41OCAwIDEzIDAgQzkuOTk1NDE0NiAxNi4wODQxMjA5OCA2Ljc1MDQyOTQ2IDMyLjA3MjY0NDI3IDMgNDggQy0xLjI5IDQ4IC01LjU4IDQ4IC0xMCA0OCBDLTkuMzUyMDc5OTYgNDIuMjQzMTY0OTggLTguMzkyNDE1OTEgMzYuNjQxMDIxMyAtNy4xODc1IDMwLjk3NjU2MjUgQy03LjAxMzcxODI2IDMwLjE0OTE3NTcyIC02LjgzOTkzNjUyIDI5LjMyMTc4ODk0IC02LjY2MDg4ODY3IDI4LjQ2OTMyOTgzIEMtNi4yOTYwMjY4NiAyNi43MzYyMTU3NCAtNS45Mjk1NTA3IDI1LjAwMzQ0MDc3IC01LjU2MTUyMzQ0IDIzLjI3MDk5NjA5IEMtNC45OTczNjgxOSAyMC42MTI1OTg0NyAtNC40Mzk3NTU1NCAxNy45NTI4ODU2NSAtMy44ODI4MTI1IDE1LjI5Mjk2ODc1IEMtMy41MjY0Mjg0MSAxMy42MDQwODUwMSAtMy4xNjk2NzA5OSAxMS45MTUyOCAtMi44MTI1IDEwLjIyNjU2MjUgQy0yLjY0NTgwODExIDkuNDMwNzc3ODkgLTIuNDc5MTE2MjEgOC42MzQ5OTMyOSAtMi4zMDczNzMwNSA3LjgxNTA5Mzk5IEMtMS4xMTUxOTMxMyAyLjIzMDM4NjI2IC0xLjExNTE5MzEzIDIuMjMwMzg2MjYgMCAwIFogIiBmaWxsPSIjMjIzMTc1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5OCw1NCkiLz4KPHBhdGggZD0iTTAgMCBDMCAzIDAgMyAtMSA1IEMtMS4yMTM3NzcyMSAxMC42MDcwMzIxMyAtMS4yMTM3NzcyMSAxMC42MDcwMzIxMyAwIDE2IEMwLjc1NDE0MjM1IDIyLjQ5MDU2OTM3IC0wLjI2NzY1MDE5IDI1LjU4MjA3Mjg1IC00IDMxIEMtMy45Mjc0OTIxNCAzNC41NTI4ODQ5NCAtMy4zMTc3NDE2NCAzNi40OTE2MTMzNyAtMS40Mzc1IDM5LjUgQzAuNDMyMjMyNTQgNDIuNzUxNzA4NzYgMC40OTI4MjA0OCA0NC4yNjg2NDQ5NCAwIDQ4IEMtMS4xNzkwNDA1IDUxLjQwNDQxNTYzIC0yLjU0MTk2MzU0IDU0LjcwNjM5OTc4IC00IDU4IEMtMTMuMDQyMzMyOTIgNTUuOTEzMzA3NzkgLTE5LjIzMTExMzk5IDQ5LjIyNDI2NTc5IC0yNC42ODc1IDQyLjExMzI4MTI1IEMtMjUuOTc2NzY1MDIgNDAuMDM3NDExMDkgLTI2LjU2ODUwMjU3IDM4LjM4OTQxNzA0IC0yNyAzNiBDLTIyLjM3NSAzMyAtMjIuMzc1IDMzIC0xOSAzMyBDLTE5IDMzLjk5IC0xOSAzNC45OCAtMTkgMzYgQy0xNi4wMjk4MjMwNiAzNS4zNzE4OTgyNyAtMTYuMDI5ODIzMDYgMzUuMzcxODk4MjcgLTEzIDM0IEMtMTEuODAxNjE3OTEgMzEuNjcxNDU1MzcgLTExLjgwMTYxNzkxIDMxLjY3MTQ1NTM3IC0xMSAyOSBDLTEwLjMyMzI0MjE5IDI4LjI5NDg4MjgxIC05LjY0NjQ4NDM4IDI3LjU4OTc2NTYyIC04Ljk0OTIxODc1IDI2Ljg2MzI4MTI1IEMtNi4yODY2NTkzNyAyMi45NTIxNDY5MyAtNi42NDc5NDA5OCAyMC4wOTMyNzg3OCAtNi45Mzc1IDE1LjUgQy03LjQ2Nzc4NzQgNi4zMzQ3MzQyNSAtNy40Njc3ODc0IDYuMzM0NzM0MjUgLTQgMiBDLTEuODEyNSAwLjY4NzUgLTEuODEyNSAwLjY4NzUgMCAwIFogIiBmaWxsPSIjMTg3MjRFIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzQ4LDYwKSIvPgo8cGF0aCBkPSJNMCAwIEM0LjIyNzM1OTE0IDUuMDI2MTMzNCA0LjM0Mzc1IDYuNjc1NjQ0OTEgNC4zNDM3NSAxMy41OTc2NTYyNSBDLTEuOTI2MjUgMTMuNTk3NjU2MjUgLTguMTk2MjUgMTMuNTk3NjU2MjUgLTE0LjY1NjI1IDEzLjU5NzY1NjI1IEMtMTIuMzAwNDg3NzkgMTguNzcwMzg3NjYgLTEyLjMwMDQ4Nzc5IDE4Ljc3MDM4NzY2IC04LjUzMTI1IDE5LjU5NzY1NjI1IEMtMy43NTI5OTc1NyAxOS41OTc2NTYyNSAtMC4wNTEzNDIxNSAxOC4zNjE2NzI4MyA0LjM0Mzc1IDE2LjU5NzY1NjI1IEM0LjY1NjI1IDE5LjQxMDE1NjI1IDQuNjU2MjUgMTkuNDEwMTU2MjUgNC4zNDM3NSAyMi41OTc2NTYyNSBDMC45MDEyMjIwNSAyNS45MjU0MzMyNyAtMy40MTQ1NjU0OCAyNi4zMjk5Njg0IC04LjAyMzQzNzUgMjYuNjYwMTU2MjUgQy0xMy42ODcyNjY0IDI2LjUyNTcwMzM0IC0xOC4xMzQxNTE4MiAyNS4xMTk3NTQ0MyAtMjIuMTU2MjUgMjEuMDk3NjU2MjUgQy0yNC43NzM1ODM1MyAxNi43MzU0MzM3IC0yNS4zMTY1NTAzOCAxMi41OTU3NjMyOCAtMjQuNjU2MjUgNy41OTc2NTYyNSBDLTIzLjI5NDg1NjcgMy44NjEyMjM1NSAtMjEuNDAxMzMxNDIgMS4xNzA3OTU4IC0xOC4yMTg3NSAtMS4yNzczNDM3NSBDLTEyLjMxODQ0Njg5IC0zLjg2NzcyMDcyIC01LjI1NTA1Mjk0IC00LjQ0OTQ0MzQxIDAgMCBaIE0tMTMuNjU2MjUgNC41OTc2NTYyNSBDLTEzLjk4NjI1IDUuOTE3NjU2MjUgLTE0LjMxNjI1IDcuMjM3NjU2MjUgLTE0LjY1NjI1IDguNTk3NjU2MjUgQy0xMS4wMjYyNSA4LjU5NzY1NjI1IC03LjM5NjI1IDguNTk3NjU2MjUgLTMuNjU2MjUgOC41OTc2NTYyNSBDLTQuOTgzMjM1NTkgMy42NzQ2NDYzMyAtNC45ODMyMzU1OSAzLjY3NDY0NjMzIC03LjUzMTI1IDIuNjYwMTU2MjUgQy0xMC4yMTA5NzMzNSAyLjU4MTM0MDg2IC0xMS40ODU2NTkxNSAzLjAyNTg0OTA4IC0xMy42NTYyNSA0LjU5NzY1NjI1IFogIiBmaWxsPSIjMDA4NDI5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMDkxLjY1NjI1LDU1LjQwMjM0Mzc1KSIvPgo8cGF0aCBkPSJNMCAwIEMzLjUyMDkwNTk1IDQuNTExMTYwNzUgMyA2LjQxMTcwNDg5IDMgMTIuNTYyNSBDLTMuMjcgMTIuNTYyNSAtOS41NCAxMi41NjI1IC0xNiAxMi41NjI1IEMtMTMuNjQ0MjM3NzkgMTcuNzM1MjMxNDEgLTEzLjY0NDIzNzc5IDE3LjczNTIzMTQxIC05Ljg3NSAxOC41NjI1IEMtNS4wOTY3NDc1NyAxOC41NjI1IC0xLjM5NTA5MjE1IDE3LjMyNjUxNjU4IDMgMTUuNTYyNSBDMy4zMTI1IDE4LjM3NSAzLjMxMjUgMTguMzc1IDMgMjEuNTYyNSBDLTAuNDQyNTI3OTUgMjQuODkwMjc3MDIgLTQuNzU4MzE1NDggMjUuMjk0ODEyMTUgLTkuMzY3MTg3NSAyNS42MjUgQy0xNS4wMzEwMTY0IDI1LjQ5MDU0NzA5IC0xOS40Nzc5MDE4MiAyNC4wODQ1OTgxOCAtMjMuNSAyMC4wNjI1IEMtMjYuMTE3MzMzNTMgMTUuNzAwMjc3NDUgLTI2LjY2MDMwMDM4IDExLjU2MDYwNzAzIC0yNiA2LjU2MjUgQy0yNC42Mzg2MDY3IDIuODI2MDY3MyAtMjIuNzQ1MDgxNDIgMC4xMzU2Mzk1NSAtMTkuNTYyNSAtMi4zMTI1IEMtMTIuNjA1NTU1NjYgLTUuMzY2NzY4MjUgLTUuOTgyNDU3MiAtNC44NjA3NDY0OCAwIDAgWiBNLTE1IDMuNTYyNSBDLTE1LjMzIDQuODgyNSAtMTUuNjYgNi4yMDI1IC0xNiA3LjU2MjUgQy0xMi4zNyA3LjU2MjUgLTguNzQgNy41NjI1IC01IDcuNTYyNSBDLTYuMzI2OTg1NTkgMi42Mzk0OTAwOCAtNi4zMjY5ODU1OSAyLjYzOTQ5MDA4IC04Ljg3NSAxLjYyNSBDLTExLjU1NDcyMzM1IDEuNTQ2MTg0NjEgLTEyLjgyOTQwOTE1IDEuOTkwNjkyODMgLTE1IDMuNTYyNSBaICIgZmlsbD0iIzAwODQyOSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjE2OSw1Ni40Mzc1KSIvPgo8cGF0aCBkPSJNMCAwIEMzLjMgMCA2LjYgMCAxMCAwIEMxMCAxOC4xNSAxMCAzNi4zIDEwIDU1IEM3LjAzIDU1IDQuMDYgNTUgMSA1NSBDMCA1NCAwIDU0IC0wLjEyMDI1NDUyIDUxLjgyOTY5NjY2IEMtMC4xMTgwMzM5MSA1MC44NzI2MTMwNyAtMC4xMTU4MTMyOSA0OS45MTU1Mjk0OCAtMC4xMTM1MjUzOSA0OC45Mjk0NDMzNiBDLTAuMTEzNDQ5ODYgNDcuODQ4Mzk4MjggLTAuMTEzMzc0MzMgNDYuNzY3MzUzMjEgLTAuMTEzMjk2NTEgNDUuNjUzNTQ5MTkgQy0wLjEwODEzNTIyIDQ0LjQ3NzUyNjQgLTAuMTAyOTczOTQgNDMuMzAxNTAzNiAtMC4wOTc2NTYyNSA0Mi4wODk4NDM3NSBDLTAuMDk2MjQxMyA0MC44OTI2NzIyNyAtMC4wOTQ4MjYzNSAzOS42OTU1MDA3OSAtMC4wOTMzNjg1MyAzOC40NjIwNTEzOSBDLTAuMDg3NzQ5NzkgMzQuNjIwNTA5MzQgLTAuMDc1MTk0MTEgMzAuNzc5MDI0NTcgLTAuMDYyNSAyNi45Mzc1IEMtMC4wNTc0ODc0MSAyNC4zNDA0OTU2MyAtMC4wNTI5MjQwOSAyMS43NDM0OTAzNSAtMC4wNDg4MjgxMiAxOS4xNDY0ODQzOCBDLTAuMDM3Nzc0MjcgMTIuNzY0MzAwNjggLTAuMDIwNDk3MDggNi4zODIxNjAwNyAwIDAgWiAiIGZpbGw9IiNEODFGMjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExNjYsNTIpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuMyAwIDYuNiAwIDEwIDAgQzEwIDAuNjYgMTAgMS4zMiAxMCAyIEMxMC45OSAxLjM0IDExLjk4IDAuNjggMTMgMCBDMTYuMzkyMTAyODcgLTAuNTQ2MTg2MDYgMTkuNjA2NTQzNSAtMC41MzU4MDg5MiAyMyAwIEMyNi42MTk5NTgyMSAyLjY1OTU2MTEzIDI4LjIwNjgzODE3IDQuNjQ4NDIzNTEgMjkgOSBDMjkuMDc4MTg2MzYgMTAuNTEzOTU2OTYgMjkuMTA3ODk5MDkgMTIuMDMwOTM1MDcgMjkuMDk3NjU2MjUgMTMuNTQ2ODc1IEMyOS4wOTQ0MzM1OSAxNC4zOTEyMTA5NCAyOS4wOTEyMTA5NCAxNS4yMzU1NDY4NyAyOS4wODc4OTA2MiAxNi4xMDU0Njg3NSBDMjkuMDc5NTExNzIgMTYuOTc4MTY0MDYgMjkuMDcxMTMyODEgMTcuODUwODU5MzcgMjkuMDYyNSAxOC43NSBDMjkuMDU3OTg4MjggMTkuNjM4MTY0MDYgMjkuMDUzNDc2NTYgMjAuNTI2MzI4MTIgMjkuMDQ4ODI4MTIgMjEuNDQxNDA2MjUgQzI5LjAzNzA3NDIyIDIzLjYyNzYzMzE2IDI5LjAxOTEzOTY2IDI1LjgxMzgyNTI4IDI5IDI4IEMyNS43IDI4IDIyLjQgMjggMTkgMjggQzE4LjUwNSAxOC4xIDE4LjUwNSAxOC4xIDE4IDggQzE2LjY4IDcuNjcgMTUuMzYgNy4zNCAxNCA3IEMxMy4wMSA3LjY2IDEyLjAyIDguMzIgMTEgOSBDMTAuNDE0MDczNjYgMTIuMTE2MTA1NTQgMTAuNDE0MDczNjYgMTIuMTE2MTA1NTQgMTAuMzEyNSAxNS42MjUgQzEwLjI0Njc1NzgxIDE2LjgxMzUxNTYzIDEwLjE4MTAxNTYzIDE4LjAwMjAzMTI1IDEwLjExMzI4MTI1IDE5LjIyNjU2MjUgQzEwLjA3NTg5ODQ0IDIwLjE0MTc5Njg3IDEwLjAzODUxNTYyIDIxLjA1NzAzMTI1IDEwIDIyIEM2LjcgMjEuNjcgMy40IDIxLjM0IDAgMjEgQzAgMTQuMDcgMCA3LjE0IDAgMCBaICIgZmlsbD0iIzAwODQyOSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjAzNiw1MykiLz4KPHBhdGggZD0iTTAgMCBDNy44MjQzNDA1OCAtMC4xMTcwMzA3NCA3LjgyNDM0MDU4IC0wLjExNzAzMDc0IDEwLjQ4ODI4MTI1IDIuNDE0MDYyNSBDMTIuNzg3NDM3MTMgNi4yMDk3NTk4NSAxMy43NDA2OTg2IDkuNTU1ODA4MzkgMTMgMTQgQzExLjk1MTAwNjYgMTUuNzE2NTM0NjYgMTAuOTAxMjc3MjcgMTcuNDMyNzI1OTggOS44MzIwMzEyNSAxOS4xMzY3MTg3NSBDOC4yODEzNDc3OCAyMi42MDkzNzYxMSA5LjE2NDUxNTkyIDI1LjM1OTY3NjUzIDEwIDI5IEMxMC4zNTA2MjUgMjkuNzAxMjUgMTAuNzAxMjUgMzAuNDAyNSAxMS4wNjI1IDMxLjEyNSBDMTIuMzk2NjM0OTIgMzMuNzkzMjY5ODUgMTIuMTk1NTczOTMgMzYuMDY2MzkwOTggMTIgMzkgQzExIDQwIDExIDQwIDguMTI4OTA2MjUgNDAuMTMyODEyNSBDNi45NTE5OTIxOSA0MC4xMzAyMzQzOCA1Ljc3NTA3ODEyIDQwLjEyNzY1NjI1IDQuNTYyNSA0MC4xMjUgQzMuMzg4MTY0MDYgNDAuMTI3NTc4MTIgMi4yMTM4MjgxMiA0MC4xMzAxNTYyNSAxLjAwMzkwNjI1IDQwLjEzMjgxMjUgQy0yIDQwIC0yIDQwIC00IDM5IEMtMy4yNDgxNzUxOCAzMS40ODE3NTE4MiAtMy4yNDgxNzUxOCAzMS40ODE3NTE4MiAtMS45Mzc1IDI4LjkzNzUgQy0wLjQzNzQ4NjY0IDI1LjgzNzQ3MjM5IC0wLjY0OTM5MDYgMjMuMzg5MjI0MiAtMSAyMCBDLTIuMzE0MzE2OTUgMTcuOTg3NDUyMTggLTMuNjQ3MjE4ODUgMTUuOTg2ODk3MzEgLTUgMTQgQy01Ljg1NTE0NzQgOS42MjkyNDY2MSAtNC43NjA4MzQzNiA3LjI4MzU1ODE3IC0yLjUgMy42MjUgQy0xLjY3OTQ5NTggMi40MDc5MTg3NiAtMC44NTAyODE2NCAxLjE5NjQ2NzczIDAgMCBaICIgZmlsbD0iI0ZBRkJGQiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM1Nyw4MikiLz4KPHBhdGggZD0iTTAgMCBDMy45MDkzODcwMyAzLjczOTQxMzY4IDMuOTA5Mzg3MDMgMy43Mzk0MTM2OCA0LjEzMjgxMjUgNi44NDc2NTYyNSBDNC4xMzAyMzQzOCA3LjU3ODU1NDY5IDQuMTI3NjU2MjUgOC4zMDk0NTMxMyA0LjEyNSA5LjA2MjUgQzQuMTIzNzEwOTQgOS44NjU1ODU5NCA0LjEyMjQyMTg4IDEwLjY2ODY3MTg4IDQuMTIxMDkzNzUgMTEuNDk2MDkzNzUgQzQuMDAyNzk5MjggMTMuOTQyMTE4MSAzLjYyMDk4NDQgMTYuMjE4MTI5NDkgMy4xODc1IDE4LjYyNSBDMi43MDMyNTg3MiAyMi4yNzU5MjQ0MiAzLjIxMzk4MTIzIDIzLjg4MzIwMTQgNS40Mzc1IDI2LjgxMjUgQzUuOTEwNTg1OTQgMjcuMzM0NTcwMzEgNi4zODM2NzE4NyAyNy44NTY2NDA2MiA2Ljg3MTA5Mzc1IDI4LjM5NDUzMTI1IEM4IDMwIDggMzAgOCAzNCBDOC42NiAzNCA5LjMyIDM0IDEwIDM0IEM3Ljk4MzAzMjM0IDI5LjA1NjczNDA2IDcuOTgzMDMyMzQgMjkuMDU2NzM0MDYgNS4yNSAyNC41IEMzLjUwMjExMTMyIDIxLjAwNDIyMjYzIDQuMzAxODA1ODYgMTguODA4MzMxNjUgNSAxNSBDNS4yMjA5MzE1MSAxMC40OTc1NjgxMyA1LjIzOTU1NzQ5IDYuMzU4MTI2NzUgNCAyIEM3LjQ0NTAwNjYgNC45MzU2NjQyMyA3LjU3NDgyNDY0IDcuMjU3NDQyOTQgNy45Njg3NSAxMS41OTc2NTYyNSBDNy45OTg4MzUyIDEzLjkxMDQ1NTggNy43MDc4ODYzOCAxNS44NjYzODczNSA3LjI1IDE4LjEyNSBDNi45ODQxMjA2MSAyMi4yNDYxMzA1MyA3LjEwOTg0MDQyIDIyLjY4NTU3NDIyIDkuNDM3NSAyNS43NSBDOS45MTA1ODU5NCAyNi4yODEwOTM3NSAxMC4zODM2NzE4NyAyNi44MTIxODc1IDEwLjg3MTA5Mzc1IDI3LjM1OTM3NSBDMTIgMjkgMTIgMjkgMTIgMzMgQzE0LjMxIDMzLjY2IDE2LjYyIDM0LjMyIDE5IDM1IEMxOSAzNS45OSAxOSAzNi45OCAxOSAzOCBDMTkuNjM5Mzc1IDM4LjI4ODc1IDIwLjI3ODc1IDM4LjU3NzUgMjAuOTM3NSAzOC44NzUgQzIzIDQwIDIzIDQwIDI0IDQyIEMxOS4yNDAwNTc5OSA0OC4wNjgxMzc5OSAxMy45MjU3ODgzNiA1My40MjgxMzM2MyA3IDU3IEM0IDU2IDQgNTYgMi43OTY4NzUgNTMuOTI1NzgxMjUgQy0wLjc2MDI4NTczIDQ1LjA0NjE1MjQyIC0wLjc2MDI4NTczIDQ1LjA0NjE1MjQyIDEgNDAgQzEuNTE1NjI1IDM5LjE3NSAyLjAzMTI1IDM4LjM1IDIuNTYyNSAzNy41IEM0LjM4NzAyNzU2IDM0LjMyNjkwODU4IDQuNTE2NDQxMTggMzIuNjE1MDg4MjUgNCAyOSBDMy4zNCAyOC4wMzA2MjUgMi42OCAyNy4wNjEyNSAyIDI2LjA2MjUgQy0wLjQxMDU3NzgyIDIyLjM3MTMwMjcyIC0wLjQwODMyNzU1IDIwLjMyODI3MTk5IDAgMTYgQzAuMzMgMTUuMDEgMC42NiAxNC4wMiAxIDEzIEMxLjA5MjQ3MzgxIDExLjUyMzEzODg5IDEuMTI5OTkwNzEgMTAuMDQyMjQ0OTkgMS4xMjUgOC41NjI1IEMxLjEyODg2NzE5IDcuNDE5NzQ2MDkgMS4xMjg4NjcxOSA3LjQxOTc0NjA5IDEuMTMyODEyNSA2LjI1MzkwNjI1IEMxLjAwMjc2MDE1IDQuMDQ2ODQxNDEgMC42MDg1NjE5OSAyLjEyMDMwNzI0IDAgMCBaICIgZmlsbD0iIzI5N0Q1QiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM3NCw2MSkiLz4KPHBhdGggZD0iTTAgMCBDMCAyLjY0IDAgNS4yOCAwIDggQy0wLjk5IDcuNjcgLTEuOTggNy4zNCAtMyA3IEMtNi41NTg4MDA1MSA2LjYyNjg5OTk1IC05LjgyNzU4NTIyIDYuMzQwNTE2NjkgLTEzIDguMTI1IEMtMTQuNDYyMjEyMTcgMTAuODY2NjQ3ODEgLTE0LjMxODMzNzMzIDEyLjk0Mzk2MTYyIC0xNCAxNiBDLTEyLjMyMDg1NTg1IDE5LjIyNTQwMTU2IC0xMi4zMjA4NTU4NSAxOS4yMjU0MDE1NiAtOS4zMTI1IDE5Ljc1IEMtNS43MDcwOTgyNCAyMC4wMjIxMDU3OSAtMi41NTAxMDA2NiAxOS42MzkwMTgxMiAxIDE5IEMxIDIxLjMxIDEgMjMuNjIgMSAyNiBDLTYuMzQ1MjM2NzIgMjguMjcwMzQ1ODkgLTEyLjM4MTY4ODY4IDI4Ljg3NjE2MTQyIC0xOS4zNzUgMjUuMjUgQy0yMi44MjkzNDgyMSAyMi4yODkxMzAxIC0yNC42OTA4NzcyNCAyMC4yNzgzNDkyMiAtMjUuMzE2NDA2MjUgMTUuNjY3OTY4NzUgQy0yNS41ODIxMzY1MiA5Ljk1MDQ4MTkxIC0yNC45Njg0NzE1MiA2LjM5NzQ5NTQ3IC0yMSAyIEMtMTQuMTcwMDE0MTEgLTMuMjEyMzU3NjUgLTcuODE4OTkzNjcgLTEuODY5NzU5MzYgMCAwIFogIiBmaWxsPSIjMDA4NDI5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMDAyLDU0KSIvPgo8cGF0aCBkPSJNMCAwIEMzIDMuMTkwMzcxOTkgMyAzLjE5MDM3MTk5IDMgNiBDLTAuMDkyNjI3NjcgNy41NDYzMTM4NCAtMy4zNjcwODkxIDcuMzkwNjA3MTYgLTYuNzg1MTU2MjUgNy42MjEwOTM3NSBDLTcuODgxNTAzOTEgNy44MDg2NTIzNCAtNy44ODE1MDM5MSA3LjgwODY1MjM0IC05IDggQy05LjMzIDguNjYgLTkuNjYgOS4zMiAtMTAgMTAgQy03LjY5IDEwLjMzIC01LjM4IDEwLjY2IC0zIDExIEMtMi40Mzc1IDEyLjkzNzUgLTIuNDM3NSAxMi45Mzc1IC0yIDE1IEMtMyAxNiAtMyAxNiAtNS4yODUxNTYyNSAxNi4wOTc2NTYyNSBDLTYuNjU5OTQxNDEgMTYuMDgwMjUzOTEgLTYuNjU5OTQxNDEgMTYuMDgwMjUzOTEgLTguMDYyNSAxNi4wNjI1IEMtOC45ODE2MDE1NiAxNi4wNTM0NzY1NiAtOS45MDA3MDMxMiAxNi4wNDQ0NTMxMyAtMTAuODQ3NjU2MjUgMTYuMDM1MTU2MjUgQy0xMS41NTc5Mjk2OSAxNi4wMjM1NTQ2OSAtMTIuMjY4MjAzMTMgMTYuMDExOTUzMTMgLTEzIDE2IEMtMTMuMzMgMTcuNjUgLTEzLjY2IDE5LjMgLTE0IDIxIEMtMTIuNzYyNSAyMC42NDkzNzUgLTExLjUyNSAyMC4yOTg3NSAtMTAuMjUgMTkuOTM3NSBDLTcuMDk2NzA4IDE5LjA0NDA2NzI3IC01LjEzMjI1ODM2IDE4Ljk5MTE4NzA2IC0yIDIwIEMtMS42NyAyMS4zMiAtMS4zNCAyMi42NCAtMSAyNCBDLTcuMDgzMDUwMzggMjguMTkwNTQ1ODIgLTExLjYyMjE1Nzc3IDI5Ljk3NTQ2ODkgLTE5IDI5IEMtMjEuMDYyNSAyNy4zNzUgLTIxLjA2MjUgMjcuMzc1IC0yMiAyNSBDLTIyLjU2NDA4OTkgMjAuMDM2MDA4OTIgLTIxLjQ2ODAwNjg0IDE1LjcxMzA3NDU4IC0yMCAxMSBDLTE4LjM3NSA5IC0xOC4zNzUgOSAtMTcgOCBDLTE3LjQ5NSA3LjU2Njg3NSAtMTcuOTkgNy4xMzM3NSAtMTguNSA2LjY4NzUgQy0yMCA1IC0yMCA1IC0yMCAyIEMtNi4wODE1NDUwNiAtMS4zMTY3MzgyIC02LjA4MTU0NTA2IC0xLjMxNjczODIgMCAwIFogIiBmaWxsPSIjMjIxRTIwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2NTIsNzEpIi8+CjxwYXRoIGQ9Ik0wIDAgQzIgMiAyIDIgMi4zMTI1IDUuMTg3NSBDMS45Njk4MjgxOCA5LjM2ODA5NjIyIDAuNjY2NjA4NjQgMTIuMTgwNjg4NTMgLTEgMTYgQy0xLjU4NzYzMjQ0IDIwLjExMzQyNzEgLTEuMzMwNDM1NTggMjEuNTA0MzQ2NjQgMSAyNSBDMy4zMzQ1ODYzNSAyOC41MDE4Nzk1MyAzLjY3MjYwNzI3IDI5Ljg4MDI4MDQ3IDMgMzQgQzEuOTUxMDA2NiAzNS43MTY1MzQ2NiAwLjkwMTI3NzI3IDM3LjQzMjcyNTk4IC0wLjE2Nzk2ODc1IDM5LjEzNjcxODc1IEMtMS43MTg2NTIyMiA0Mi42MDkzNzYxMSAtMC44MzU0ODQwOCA0NS4zNTk2NzY1MyAwIDQ5IEMwLjM1MDYyNSA0OS43MDEyNSAwLjcwMTI1IDUwLjQwMjUgMS4wNjI1IDUxLjEyNSBDMi4zODM4NTAwOCA1My43Njc3MDAxNyAyLjEzMjA5ODM3IDU2LjA5MzgzNTkxIDIgNTkgQzEuMDEgNTkgMC4wMiA1OSAtMSA1OSBDLTEuMjg4NzUgNTcuNzgzMTI1IC0xLjU3NzUgNTYuNTY2MjUgLTEuODc1IDU1LjMxMjUgQy0yLjQ4MDE5MTExIDUyLjgzMDc4MTA3IC0zLjEwNzk3MDM0IDUwLjc2NzAxMTM3IC00LjE4NzUgNDguNDM3NSBDLTUuMzQyMzE4NDQgNDQuOTczMDQ0NjggLTQuODE4NjU2ODYgNDIuNTI2NTIxODcgLTQgMzkgQy0zLjIyNjU2MjUgMzcuNzMxNTYyNSAtMy4yMjY1NjI1IDM3LjczMTU2MjUgLTIuNDM3NSAzNi40Mzc1IEMtMC42MTEwNTMyMSAzMy4zNDA0ODE1MiAtMC41NTY2MDA4MSAzMS41NDcxOTM1MyAtMSAyOCBDLTIuNDI2MjE2ODQgMjUuMjg4NzM2MTYgLTIuNDI2MjE2ODQgMjUuMjg4NzM2MTYgLTQgMjMgQy00IDIyLjM0IC00IDIxLjY4IC00IDIxIEMtNi45NyAyMSAtOS45NCAyMSAtMTMgMjEgQy0xNi44OTY3Nzg1MSAyNy4wMDIyMTQ0NSAtMTYuODk2Nzc4NTEgMjcuMDAyMjE0NDUgLTE3IDM0IEMtMTYuMzQgMzQuOTY5Mzc1IC0xNS42OCAzNS45Mzg3NSAtMTUgMzYuOTM3NSBDLTEyLjUzNTY0NjkzIDQwLjcxMTA0MDY0IC0xMi40NTUwODUxNiA0Mi41NjI4MzYyOCAtMTMgNDcgQy0xMy45MzU3ODk5NSA0OS4zNTk4MTgxMyAtMTQuOTMzNDc4MDggNTEuNjk2MzEyNjQgLTE2IDU0IEMtMTYuNjkxNDA1MjIgNTYuNzc4ODg2MTMgLTE2LjY5MTQwNTIyIDU2Ljc3ODg4NjEzIC0xNyA1OSBDLTE3Ljk5IDU5IC0xOC45OCA1OSAtMjAgNTkgQy0yMC4yNTgxMzMwMiA1NS4zODYxMzc3NCAtMjAuMTY4MTU2NjcgNTMuMzI5MzA2OCAtMTguNSA1MC4wNjI1IEMtMTYuNjczNDE0OTMgNDYuMzMzMjIyMTUgLTE2LjQ4NjE3MTMzIDQ0LjExMDYyOTM5IC0xNyA0MCBDLTE4LjMxNDMxNjk1IDM3Ljk4NzQ1MjE4IC0xOS42NDcyMTg4NSAzNS45ODY4OTczMSAtMjEgMzQgQy0yMS41IDMxIC0yMS41IDMxIC0yMSAyOCBDLTIwLjMxOTM3NSAyNy4wNzE4NzUgLTE5LjYzODc1IDI2LjE0Mzc1IC0xOC45Mzc1IDI1LjE4NzUgQy0xNi4yOTQzMTIzNCAyMC44MzkwMjk5NyAtMTYuODYxMjA4MTUgMTcuODI0MTczMzMgLTE4IDEzIEMtMTguNjU5OTY3OSAxMS4zMzA2Njk0MiAtMTkuMzI1NTg4NjkgOS42NjM1NDc5IC0yMCA4IEMtMjAuMTI1IDQuNjg3NSAtMjAuMTI1IDQuNjg3NSAtMjAgMiBDLTE5LjM0IDIgLTE4LjY4IDIgLTE4IDIgQy0xOCAyLjY2IC0xOCAzLjMyIC0xOCA0IEMtMTYuNjggNCAtMTUuMzYgNCAtMTQgNCBDLTE0IDQuNjYgLTE0IDUuMzIgLTE0IDYgQy0xNC45OSA2IC0xNS45OCA2IC0xNyA2IEMtMTUuOTcwMjgxNCAxMS4yMzU1MDE3NyAtMTUuOTcwMjgxNCAxMS4yMzU1MDE3NyAtMTMuNzUgMTYgQy0xMC45NzQxNDAxOSAxNy41ODYyMDU2MSAtOS4xMjcxMzUyNSAxNy41MTA1NTI2OSAtNiAxNyBDLTIuMzk2ODM5NzggMTMuNjg4OTg3OTEgLTEuNDQ3Mjk0NzYgMTAuODA4NDE4NyAtMSA2IEMtMy4zMSA2LjMzIC01LjYyIDYuNjYgLTggNyBDLTguMDQyNzIxIDUuMzMzODgwOTUgLTguMDQwNjM4MzIgMy42NjYxNzExNSAtOCAyIEMtNS45NTQ0Nzk1OCAtMC4wNDU1MjA0MiAtMi43Mjk0MTkxNCAwLjIzOTQyMjczIDAgMCBaICIgZmlsbD0iIzIyNzg1NSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM3MCw2MikiLz4KPHBhdGggZD0iTTAgMCBDMC45NDg3NSAwLjY2IDEuODk3NSAxLjMyIDIuODc1IDIgQzMuMzAxNTM3MjcgNi4zNTA2ODAxOCAzLjQ1MjcyODcyIDguMjkzODg3MTIgMC42MjUgMTEuNzUgQy0wLjI4MjUgMTIuNDkyNSAtMS4xOSAxMy4yMzUgLTIuMTI1IDE0IEMtMi43MDYzNjcxOSAxNC41MTY5MTQwNiAtMy4yODc3MzQzOCAxNS4wMzM4MjgxMiAtMy44ODY3MTg3NSAxNS41NjY0MDYyNSBDLTYuNzk2MjA2MzYgMTcuNDI5OTAwMDYgLTkuMjc0ODQ0NzUgMTcuNzMzMjU1NzkgLTEyLjY4NzUgMTguMTg3NSBDLTEzLjgyMzE2NDA2IDE4LjM0NjA1NDY5IC0xNC45NTg4MjgxMiAxOC41MDQ2MDkzOCAtMTYuMTI4OTA2MjUgMTguNjY3OTY4NzUgQy0xOS4xMjUgMTkgLTE5LjEyNSAxOSAtMjIuMTI1IDE5IEMtMjMuOTMxNDYxMTggMTUuMzg3MDc3NjQgLTI1LjEyNSAxMi45OTMwMDYgLTI1LjEyNSA4LjkzNzUgQy0yMy41NjkwNzIyNyA0LjM2Njk2MjI5IC0yMS4wMzM3Mjg5IDEuMTk5NzcyNDUgLTE2LjkzNzUgLTEuMzc1IEMtMTEuMDE1MDAyNTMgLTIuNjkxMTEwNTUgLTUuMzkzODE5MTMgLTMuMDkxNTc5MjYgMCAwIFogTS0xOC4xMjUgNSBDLTE4Ljc4NSA2LjMyIC0xOS40NDUgNy42NCAtMjAuMTI1IDkgQy0xOC44MDUgNy42OCAtMTcuNDg1IDYuMzYgLTE2LjEyNSA1IEMtMTYuNzg1IDUgLTE3LjQ0NSA1IC0xOC4xMjUgNSBaIE0tMTIuMTI1IDkgQy0xMy45NTgwMDkwOSAxMS4xMDU3NTY0MyAtMTMuOTU4MDA5MDkgMTEuMTA1NzU2NDMgLTE1LjEyNSAxMyBDLTkuMzI4NzM4OTMgMTIuNjAwMjU3ODYgLTUuNzEwMjc1MzcgMTEuODk3NDg0MDcgLTEuMTI1IDggQy0xLjEyNSA3LjAxIC0xLjEyNSA2LjAyIC0xLjEyNSA1IEMtNS45NTc3NzI2OCA0LjQzMTQzODUxIC04LjM2ODA4Njg2IDYuMDU5ODA3MTEgLTEyLjEyNSA5IFogIiBmaWxsPSIjMjIxRTIwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1ODUuMTI1LDQ5KSIvPgo8cGF0aCBkPSJNMCAwIEMyLjk3IDAgNS45NCAwIDkgMCBDOS4zMyAxLjMyIDkuNjYgMi42NCAxMCA0IEMxMC41MTU2MjUgMy4zNCAxMS4wMzEyNSAyLjY4IDExLjU2MjUgMiBDMTQuODI2NDEzMTkgLTAuNjc4MDgyNjIgMTYuODgzOTk1MjUgLTAuMzgxMTExNTUgMjEgMCBDMjEuNjYgMC4zMyAyMi4zMiAwLjY2IDIzIDEgQzIyLjY3IDMuNjQgMjIuMzQgNi4yOCAyMiA5IEMxOSAxMCAxOSAxMCAxNy4wNjI1IDkuMzEyNSBDMTYuMzgxODc1IDkuMjA5Mzc1IDE1LjcwMTI1IDkuMTA2MjUgMTUgOSBDMTEuNjQ5OTE3OTUgMTEuNzc1NzgyMjcgMTAuMTM2Mzk1ODYgMTMuNjg5OTI2MiA5LjY4MzU5Mzc1IDE4LjAzOTA2MjUgQzkuNjAyMzgyODEgMTkuMjIyNDIxODcgOS41MjExNzE4OCAyMC40MDU3ODEyNSA5LjQzNzUgMjEuNjI1IEM5LjM1MzcxMDk0IDIyLjgxMzUxNTYzIDkuMjY5OTIxODcgMjQuMDAyMDMxMjUgOS4xODM1OTM3NSAyNS4yMjY1NjI1IEM5LjEyMzAwNzgxIDI2LjE0MTc5Njg3IDkuMDYyNDIxODcgMjcuMDU3MDMxMjUgOSAyOCBDNi4wMyAyOCAzLjA2IDI4IDAgMjggQzAgMTguNzYgMCA5LjUyIDAgMCBaICIgZmlsbD0iIzAwODQyOSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjE3Niw1MykiLz4KPHBhdGggZD0iTTAgMCBDMC40OTUgMS40ODUgMC40OTUgMS40ODUgMSAzIEMwLjAxIDMuOTkgLTAuOTggNC45OCAtMiA2IEMtMi43MjcwMzEyNSA1LjczNDQ1MzEzIC0zLjQ1NDA2MjUgNS40Njg5MDYyNSAtNC4yMDMxMjUgNS4xOTUzMTI1IEMtMjUuMTQ4Njk1MTMgLTIuMTYyNDkwMzQgLTQ1LjE2MzM2MjQ5IC0xLjA2MjQxOCAtNjYgNiBDLTY2LjMzIDQuMzUgLTY2LjY2IDIuNyAtNjcgMSBDLTQ4Ljc3Mzk1ODUzIC05LjkzNTYyNDg4IC0xOC43MTE0Nzg5MyAtOC4zODU4NDYyMiAwIDAgWiAiIGZpbGw9IiNFODIwMjYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE4MjAsMzUpIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuNjYgMCAxLjMyIDAgMiAwIEMyLjMzIDEuNjUgMi42NiAzLjMgMyA1IEM0LjY1IDUgNi4zIDUgOCA1IEM3LjAxIDYuNDg1IDcuMDEgNi40ODUgNiA4IEM1LjgzMjg2NDMxIDEwLjYyNTMxNTI0IDUuODMyODY0MzEgMTAuNjI1MzE1MjQgNiAxMyBDNi45MDc1IDEyLjQ4NDM3NSA3LjgxNSAxMS45Njg3NSA4Ljc1IDExLjQzNzUgQzEyIDEwIDEyIDEwIDE0LjM3NSAxMC4zMTI1IEMxNC45MTEyNSAxMC41MzkzNzUgMTUuNDQ3NSAxMC43NjYyNSAxNiAxMSBDMTUuNjcgMTIuMzIgMTUuMzQgMTMuNjQgMTUgMTUgQzE2Ljk4IDE0LjY3IDE4Ljk2IDE0LjM0IDIxIDE0IEMxOS42OCAxNi42NCAxOC4zNiAxOS4yOCAxNyAyMiBDMTYuMjM4MTY0MDYgMjEuNzgzNDM3NSAxNS40NzYzMjgxMyAyMS41NjY4NzUgMTQuNjkxNDA2MjUgMjEuMzQzNzUgQzMuNTQ5MjExNDUgMTguMzM5MTEzMiAtMy45OTQ5NjA1MyAxOC41NDQyMTE5MSAtMTUgMjIgQy0xNi4zMiAxOS4zNiAtMTcuNjQgMTYuNzIgLTE5IDE0IEMtMTYuNjkgMTQuMzMgLTE0LjM4IDE0LjY2IC0xMiAxNSBDLTEyLjY2IDEzLjM1IC0xMy4zMiAxMS43IC0xNCAxMCBDLTEwLjI4MTExNzYxIDEwLjUwNzEyMDMzIC03LjI2NTQ1NzYxIDExLjExNjA4MjE1IC00IDEzIEMtMy43OTkxMzU1NyA5LjI4NDAwODA5IC0zLjg0ODA1NjMgOC4yMjc5MTU1NSAtNiA1IEMtNC4zNSA1IC0yLjcgNSAtMSA1IEMtMC42NyAzLjM1IC0wLjM0IDEuNyAwIDAgWiAiIGZpbGw9IiNGM0Y4RjYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNjAsMzcpIi8+CjxwYXRoIGQ9Ik0wIDAgQzEuNzQyMTY3OTcgMC4wNTQxNDA2MyAxLjc0MjE2Nzk3IDAuMDU0MTQwNjMgMy41MTk1MzEyNSAwLjEwOTM3NSBDNC4zOTk5NjA5NCAwLjE1NTc4MTI1IDUuMjgwMzkwNjMgMC4yMDIxODc1IDYuMTg3NSAwLjI1IEM1Ljg1NzUgMS45IDUuNTI3NSAzLjU1IDUuMTg3NSA1LjI1IEMzLjIwNzUgNS41OCAxLjIyNzUgNS45MSAtMC44MTI1IDYuMjUgQy0xLjA1MDMzMjAzIDcuMzU0MDgyMDMgLTEuMDUwMzMyMDMgNy4zNTQwODIwMyAtMS4yOTI5Njg3NSA4LjQ4MDQ2ODc1IEMtMi43NDE2MTc3NyAxNC41MzkxODMxOCAtMy44MTM2MDk0MSAxOC40MDQ2OTk1NSAtOC44MTI1IDIyLjI1IEMtMTEuNTc3MDIwMzMgMjMuNjMyMjYwMTYgLTEzLjg1ODYzNjMgMjMuMzQ1MjUzODcgLTE2LjkzNzUgMjMuMzEyNSBDLTE4LjAzMzIwMzEyIDIzLjMwMzQ3NjU2IC0xOS4xMjg5MDYyNSAyMy4yOTQ0NTMxMyAtMjAuMjU3ODEyNSAyMy4yODUxNTYyNSBDLTIxLjUyMjM4MjgxIDIzLjI2Nzc1MzkxIC0yMS41MjIzODI4MSAyMy4yNjc3NTM5MSAtMjIuODEyNSAyMy4yNSBDLTIyLjQ4MjUgMjEuNiAtMjIuMTUyNSAxOS45NSAtMjEuODEyNSAxOC4yNSBDLTE5LjgzMjUgMTcuOTIgLTE3Ljg1MjUgMTcuNTkgLTE1LjgxMjUgMTcuMjUgQy0xNS41ODE3NTc4MSAxNi4zNTc5Njg3NSAtMTUuMzUxMDE1NjIgMTUuNDY1OTM3NSAtMTUuMTEzMjgxMjUgMTQuNTQ2ODc1IEMtMTQuNzg3MTQ4NDQgMTMuMzc2NDA2MjUgLTE0LjQ2MTAxNTYzIDEyLjIwNTkzNzUgLTE0LjEyNSAxMSBDLTEzLjgxMTc1NzgxIDkuODM5ODQzNzUgLTEzLjQ5ODUxNTYyIDguNjc5Njg3NSAtMTMuMTc1NzgxMjUgNy40ODQzNzUgQy0xMC40NDExMzY5OSAwLjk5NjQ1MTA5IC02Ljc2ODAwODc1IC0wLjI3MzQ1NDkgMCAwIFogIiBmaWxsPSIjRjVGOUY2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMDM2LjgxMjUsODQuNzUpIi8+CjxwYXRoIGQ9Ik0wIDAgQzIuOTcgMCA1Ljk0IDAgOSAwIEM5IDkuMjQgOSAxOC40OCA5IDI4IEM2LjAzIDI4IDMuMDYgMjggMCAyOCBDMCAxOC43NiAwIDkuNTIgMCAwIFogIiBmaWxsPSIjMDA4NDJBIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMDk5LDUzKSIvPgo8cGF0aCBkPSJNMCAwIEM0LjgwODE5NTIyIDAuMDEzNzU3MzUgNC44MDgxOTUyMiAwLjAxMzc1NzM1IDcuODEyNSAyLjg3NSBDOC40OTMxMjUgNC4xMTI1IDguNDkzMTI1IDQuMTEyNSA5LjE4NzUgNS4zNzUgQzYuODc3NSA1LjcwNSA0LjU2NzUgNi4wMzUgMi4xODc1IDYuMzc1IEMxLjg1NzUgOC4wMjUgMS41Mjc1IDkuNjc1IDEuMTg3NSAxMS4zNzUgQzQuNjUyNSAxMC44OCA0LjY1MjUgMTAuODggOC4xODc1IDEwLjM3NSBDOC42ODA5ODE3NSAxNC41MjAyNDY3MSA4LjMyNjA0MzA3IDE2LjE1NDk2MSA2LjA2MjUgMTkuNzUgQzMuMTg3NSAyMi4zNzUgMy4xODc1IDIyLjM3NSAwLjE4NzUgMjMuMTI1IEMtNC4xMzU1MDE1OSAyMi4wNDQyNDk2IC01LjQ3Mjc4ODMxIDIwLjA5MTAxMjY4IC03LjgxMjUgMTYuMzc1IEMtOC4xMjUgMTMgLTguMTI1IDEzIC03LjgxMjUgMTAuMzc1IEMtNS41MDI1IDEwLjM3NSAtMy4xOTI1IDEwLjM3NSAtMC44MTI1IDEwLjM3NSBDLTEuMTQyNSA5LjA1NSAtMS40NzI1IDcuNzM1IC0xLjgxMjUgNi4zNzUgQy00Ljc4MjUgNS44OCAtNC43ODI1IDUuODggLTcuODEyNSA1LjM3NSBDLTUuNjI4MjEwMTUgMC44NjA4MDA5NyAtNS4wOTkzMDg2NyAwLjE5NDExNzE3IDAgMCBaICIgZmlsbD0iI0U1RUZFQiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM2MC44MTI1LDU3LjYyNSkiLz4KPHBhdGggZD0iTTAgMCBDMTUuNTEgMCAzMS4wMiAwIDQ3IDAgQzQ3IDEuNjUgNDcgMy4zIDQ3IDUgQzMxLjQ5IDUgMTUuOTggNSAwIDUgQzAgMy4zNSAwIDEuNyAwIDAgWiAiIGZpbGw9IiMxRTcwQzAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1OTUsNzIpIi8+CjxwYXRoIGQ9Ik0wIDAgQzQuNjIgMCA5LjI0IDAgMTQgMCBDMTQgMS4zMiAxNCAyLjY0IDE0IDQgQzEwLjcgNCA3LjQgNCA0IDQgQzQgNS45OCA0IDcuOTYgNCAxMCBDNy4zIDEwIDEwLjYgMTAgMTQgMTAgQzE0IDExLjMyIDE0IDEyLjY0IDE0IDE0IEMxMC43IDE0IDcuNCAxNCA0IDE0IEM0IDE1Ljk4IDQgMTcuOTYgNCAyMCBDNy4zIDIwIDEwLjYgMjAgMTQgMjAgQzE0LjMzIDIxLjMyIDE0LjY2IDIyLjY0IDE1IDI0IEMxMC4wNSAyNCA1LjEgMjQgMCAyNCBDMCAxNi4wOCAwIDguMTYgMCAwIFogIiBmaWxsPSIjMDA4NDI5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMDU2LDg1KSIvPgo8cGF0aCBkPSJNMCAwIEMxNC41MiAwIDI5LjA0IDAgNDQgMCBDNDMuMzQgMS42NSA0Mi42OCAzLjMgNDIgNSBDMjguMTQgNSAxNC4yOCA1IDAgNSBDMCAzLjM1IDAgMS43IDAgMCBaICIgZmlsbD0iIzFFNzBDMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTU0MSw5NCkiLz4KPHBhdGggZD0iTTAgMCBDMTMuODYgMCAyNy43MiAwIDQyIDAgQzQyLjY2IDEuNjUgNDMuMzIgMy4zIDQ0IDUgQzI5LjQ4IDUgMTQuOTYgNSAwIDUgQzAgMy4zNSAwIDEuNyAwIDAgWiAiIGZpbGw9IiMxRTcwQzAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1NDEsNTcpIi8+CjxwYXRoIGQ9Ik0wIDAgQzEuOTUxOTMyMjEgNS44NTU3OTY2MyAzLjYyOTIyNzk1IDE1LjU1OTg2NzYxIDAuOTE0MDYyNSAyMS4yOTI5Njg3NSBDMC40NDc0MjE4NyAyMS44MzU2NjQwNiAtMC4wMTkyMTg3NSAyMi4zNzgzNTkzOCAtMC41IDIyLjkzNzUgQy0zLjIyMjkwNTM0IDI1LjY1Mjg1NDI2IC0zLjIyMjkwNTM0IDI1LjY1Mjg1NDI2IC0zLjExMzI4MTI1IDI4LjQwNjI1IEMtMi44NDc1MjI1NiAzMC42NDI3NjQ2OSAtMi41MDI2MTIyNCAzMi44MDU0MjU3OCAtMiAzNSBDLTYuNjI1IDM4IC02LjYyNSAzOCAtMTAgMzggQy0xMC4zMyAzOS4zMiAtMTAuNjYgNDAuNjQgLTExIDQyIEMtMTIuMzIgNDIgLTEzLjY0IDQyIC0xNSA0MiBDLTE2LjcwMzEyNSA0MC4xMDE1NjI1IC0xNi43MDMxMjUgNDAuMTAxNTYyNSAtMTguMjUgMzcuNjI1IEMtMTguNzcwNzgxMjUgMzYuODEyODkwNjIgLTE5LjI5MTU2MjUgMzYuMDAwNzgxMjUgLTE5LjgyODEyNSAzNS4xNjQwNjI1IEMtMjEgMzMgLTIxIDMzIC0yMSAzMSBDLTE4LjA5NDUxMTE4IDI4Ljk1ODMwNTE1IC0xNi41OTg1Nzk1NCAyOCAtMTMgMjggQy0xMyAyOC45OSAtMTMgMjkuOTggLTEzIDMxIEMtMTAuMDI5ODIzMDYgMzAuMzcxODk4MjcgLTEwLjAyOTgyMzA2IDMwLjM3MTg5ODI3IC03IDI5IEMtNS44MDE2MTc5MSAyNi42NzE0NTUzNyAtNS44MDE2MTc5MSAyNi42NzE0NTUzNyAtNSAyNCBDLTQuMzI1ODIwMzEgMjMuMjk4NzUgLTMuNjUxNjQwNjMgMjIuNTk3NSAtMi45NTcwMzEyNSAyMS44NzUgQy0wLjI3MTkxNzk2IDE3LjkzMDQwMjQ0IC0wLjU4MDIxNDc2IDE0Ljk1NDI2NzczIC0wLjgxMjUgMTAuMzEyNSBDLTEuMDkwOTg5MDUgMi4xODE5NzgxMSAtMS4wOTA5ODkwNSAyLjE4MTk3ODExIDAgMCBaICIgZmlsbD0iI0VCRjNFRiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM0Miw2NSkiLz4KPHBhdGggZD0iTTAgMCBDLTAuNDAyODE3NzEgNS44NDA4NTY3NCAtMS4xMTI3NzkgOS4zNzczNTg4MSAtNSAxNCBDLTguMjkwNzY2NiAxNi43MTg0NTkzNyAtMTAuMDk2NDA4NjQgMTcuOTMzMDY3MzEgLTE0LjM3NSAxOC4yNSBDLTE1LjI0MTI1IDE4LjE2NzUgLTE2LjEwNzUgMTguMDg1IC0xNyAxOCBDLTE2LjY2ODA5NTE4IDExLjY5MzgwODQyIC0xNS41MDUxNjQ5NyA3LjU2NTU1NTkzIC0xMSAzIEMtNy4yMTg5MzIxOCAwLjU1ODA2MDM3IC00LjQ5MzYzOTc2IC0wLjM5NjQ5NzYzIDAgMCBaICIgZmlsbD0iIzAwMDAwMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzQ1LDM3KSIvPgo8cGF0aCBkPSJNMCAwIEM0Ljc1MDUzNTExIC0wLjA3NDM1MjIyIDkuNTAwNzI4ODcgLTAuMTI4Njk2OTEgMTQuMjUxNzA4OTggLTAuMTY0Nzk0OTIgQzE1Ljg2NjY3Nzg5IC0wLjE3OTg0ODc2IDE3LjQ4MTYwNjEzIC0wLjIwMDI5NjQ4IDE5LjA5NjQzNTU1IC0wLjIyNjMxODM2IEMyMS40MjI0NjU1NSAtMC4yNjI4NTI4NiAyMy43NDc5NTM0MSAtMC4yNzk3NjAxNSAyNi4wNzQyMTg3NSAtMC4yOTI5Njg3NSBDMjcuMTUxMDcxODUgLTAuMzE2MTk0NTMgMjcuMTUxMDcxODUgLTAuMzE2MTk0NTMgMjguMjQ5Njc5NTcgLTAuMzM5ODg5NTMgQzMyLjY1ODMwNTk5IC0wLjM0MTM1Nzg4IDM1LjUyNjI3Nzc5IDAuMjE1ODYwOTQgMzkgMyBDMzkgMy42NiAzOSA0LjMyIDM5IDUgQzI2LjEzIDUgMTMuMjYgNSAwIDUgQzAgMy4zNSAwIDEuNyAwIDAgWiAiIGZpbGw9IiMxRTcwQzAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1NDEsNTApIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuNjYgMCAxLjMyIDAgMiAwIEM1LjE4NDE5OTU5IDMuNzk2NTQ1NjcgNS4zODczNDU0OCA3LjExNjc2MjIgNS4yMzgyODEyNSAxMS44NjMyODEyNSBDNC45NDYwNDkxMyAxNC40ODM3ODg5NyA0LjA0MjM4MTk1IDE2LjU4OTQ5MTczIDMgMTkgQzIuNDgyMDk2ODIgMjMuMDU2OTA4MjUgMi42OTk5NDI5NCAyNC41NDk5MTQ0MSA1IDI4IEM3LjMzNDU4NjM1IDMxLjUwMTg3OTUzIDcuNjcyNjA3MjcgMzIuODgwMjgwNDcgNyAzNyBDNi4zNDg5OTE3IDM4LjE2Njk1MjY0IDUuNjU4MzE0NjEgMzkuMzEyMzI1OTggNC45Mzc1IDQwLjQzNzUgQzMuMTY4MTQxMTcgNDMuMjg2MDQyMjIgMi45OTk2OTkxNiA0My45ODI4NTIyOSAzLjA2MjUgNDcuNTYyNSBDNC4wMDI5NTg2MSA1MS4wMTA4NDgyMyA1LjM3ODg4Njc3IDUzLjgyODI1NjcyIDcgNTcgQzcgNTguMzIgNyA1OS42NCA3IDYxIEM1LjAyIDYxLjQ5NSA1LjAyIDYxLjQ5NSAzIDYyIEMyLjcxMTI1IDYwLjc4MzEyNSAyLjQyMjUgNTkuNTY2MjUgMi4xMjUgNTguMzEyNSBDMS41MTk4MDg4OSA1NS44MzA3ODEwNyAwLjg5MjAyOTY2IDUzLjc2NzAxMTM3IC0wLjE4NzUgNTEuNDM3NSBDLTEuMzQyMzE4NDQgNDcuOTczMDQ0NjggLTAuODE4NjU2ODYgNDUuNTI2NTIxODcgMCA0MiBDMC43NzM0Mzc1IDQwLjczMTU2MjUgMC43NzM0Mzc1IDQwLjczMTU2MjUgMS41NjI1IDM5LjQzNzUgQzMuNDExMzY2MjEgMzYuMzAyNDY1OTkgMy41MTMyNzU5MiAzNC41OTI5MzE0MSAzIDMxIEMyLjM0IDMwLjAxIDEuNjggMjkuMDIgMSAyOCBDLTEuMzMwNDM1NTggMjQuNTA0MzQ2NjQgLTEuNTg3NjMyNDQgMjMuMTEzNDI3MSAtMSAxOSBDLTAuNTA1IDE3Ljg2NTYyNSAtMC4wMSAxNi43MzEyNSAwLjUgMTUuNTYyNSBDMi41NDM3NjAwOCAxMC43MDg1Njk4MSAyLjY5NzAxMDU0IDcuMDQ3NDY4NDUgMSAyLjA2MjUgQzAuNjcgMS4zODE4NzUgMC4zNCAwLjcwMTI1IDAgMCBaICIgZmlsbD0iI0U5RjFFRSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM2OSw1OSkiLz4KPHBhdGggZD0iTTAgMCBDMS4zMiAwLjMzIDIuNjQgMC42NiA0IDEgQzUuMTU2NjQ3MzcgNi40ODI2OTA2OSA1LjExNDE2MjU1IDExLjgwMzM5Mjc0IDUuMDYyNSAxNy4zNzUgQzUuMDU3OTg4MjggMTguMzAxODM1OTQgNS4wNTM0NzY1NiAxOS4yMjg2NzE4OCA1LjA0ODgyODEyIDIwLjE4MzU5Mzc1IEM1LjAzNzExNTc0IDIyLjQ1NTc5NzA5IDUuMDIwNzEzNzIgMjQuNzI3ODYzODggNSAyNyBDMy4zNSAyNy4zMyAxLjcgMjcuNjYgMCAyOCBDLTIuNjA1MTM5NTkgMjQuMDkyMjkwNjIgLTIuMjkzNjc1NjUgMjAuNzc3NzA5MjEgLTIuMjUgMTYuMjUgQy0yLjI1NzczNDM4IDE1LjQ2MzY3MTg4IC0yLjI2NTQ2ODc1IDE0LjY3NzM0Mzc1IC0yLjI3MzQzNzUgMTMuODY3MTg3NSBDLTIuMjU2ODM4MzYgOC44NzA4NDc1NSAtMS41OTU2NjE5NSA0LjczNjMyOTkxIDAgMCBaICIgZmlsbD0iIzIyMUUyMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTY5LDcxKSIvPgo8cGF0aCBkPSJNMCAwIEMxLjY3NTQyOTc2IDAuMjg2MDQ4OTggMy4zNDM4NTM0MyAwLjYxNzgxMjMzIDUgMSBDNi4wNjgwODM3NCA3LjI3NDk5MTk3IDcuMDQzNjc4MzkgMTMuODY4OTY0ODMgNSAyMCBDNC40NDQ5NTIwOSAyNS44ODM1MDc4OCA1Ljc0ODA2MTcyIDI4LjIyMzcxNTY1IDkgMzMgQzkuNjgyNDU2MDcgMzcuMDA5NDI5NCA5LjA2MjU0MzA2IDM5LjEyMDM1OTYxIDYuOTM3NSA0Mi40Mzc1IEM1LjE4NzQ3ODQxIDQ1LjI2MTExNjM5IDQuOTk5MzU1NTggNDUuOTYzOTEyNyA1LjA2MjUgNDkuNSBDNi4wNjQxNTYzNSA1My4yMzk1MTcwMiA3LjQxMDgyMDg0IDU2LjQ3NjE2Nzk1IDkgNjAgQzkgNjAuNjYgOSA2MS4zMiA5IDYyIEM4LjAxIDYyIDcuMDIgNjIgNiA2MiBDNS4xMjcyMDEzOCA2MC4xMzM2MDAxOSA0LjI3NzQ4OTczIDU4LjI1NjM5Mzg5IDMuNDM3NSA1Ni4zNzUgQzIuOTYxODM1OTQgNTUuMzMwODU5MzggMi40ODYxNzE4OCA1NC4yODY3MTg3NSAxLjk5NjA5Mzc1IDUzLjIxMDkzNzUgQzAuODc4NDcyMzMgNDkuNjA4MjUxOTcgMS4wMTg2Mjk2NiA0Ny42MDg1ODA1MSAyIDQ0IEMyLjUxNTYyNSA0My4xNzUgMy4wMzEyNSA0Mi4zNSAzLjU2MjUgNDEuNSBDNS4zODcwMjc1NiAzOC4zMjY5MDg1OCA1LjUxNjQ0MTE4IDM2LjYxNTA4ODI1IDUgMzMgQzQuMzE5Mzc1IDMyLjA3MTg3NSAzLjYzODc1IDMxLjE0Mzc1IDIuOTM3NSAzMC4xODc1IEMwLjMyMzM1MDI2IDI1Ljg4NjgwMjA0IDAuODgyMTgxNzcgMjIuNzc3MDAxIDIgMTggQzIuMzMgMTcuMzQgMi42NiAxNi42OCAzIDE2IEMzLjQxNzQwMjY4IDExLjA1OTExNzE1IDMuNDg3NDY4NzMgNi40MjIxNjY2NCAxIDIgQzAuMzQgMS42NyAtMC4zMiAxLjM0IC0xIDEgQy0wLjY3IDAuNjcgLTAuMzQgMC4zNCAwIDAgWiAiIGZpbGw9IiMxRDc1NTIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzAsNTcpIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuMzMgMC42NiAwLjY2IDEuMzIgMSAyIEMwLjY3IDIuNjYgMC4zNCAzLjMyIDAgNCBDMC4wMjM3OTA0IDYuMzExMDc4NzggMC4wMjM3OTA0IDYuMzExMDc4NzggMC4zMTI1IDguODc1IEMwLjM5MTEzMjgxIDkuNzM4NjcxODcgMC40Njk3NjU2MyAxMC42MDIzNDM3NSAwLjU1MDc4MTI1IDExLjQ5MjE4NzUgQzEuMDAzMjA3MjQgMTQuMDE3OTA0NzUgMS44MTI2MDgzMyAxNS43NDgyMTM0IDMgMTggQzMuNzA0NDkyODkgMjMuNDAxMTEyMTcgMS45Mjk0NDIzOSAyNS42MDU4MzY0MiAtMSAzMCBDLTEuNjc4NzgwNTkgMzQuMDcyNjgzNTYgLTEuMzQxNzI0MDYgMzUuNDk4MDkyNzkgMSAzOC45Mzc1IEMzLjQ1MjU5MTI5IDQyLjY5MzAzMDQxIDMuNTUxNTQyOTEgNDQuNTg3NjU2NyAzIDQ5IEMyLjA2NTUzNDY1IDUxLjAzMTQ0NjQxIDEuMDY3NzUyMjQgNTMuMDM1MzM1ODcgMCA1NSBDLTAuNjk5MDc0MTQgNTcuNzM1NzI1ODUgLTAuNjk5MDc0MTQgNTcuNzM1NzI1ODUgLTEgNjAgQy0yLjMyIDU5LjY3IC0zLjY0IDU5LjM0IC01IDU5IEMtNC41MjI2OTE2MiA1Ny41NDEwNTc0IC00LjA0MzA4OTU4IDU2LjA4Mjg2NTA0IC0zLjU2MjUgNTQuNjI1IEMtMy4xNjIyNDYwOSA1My40MDY4MzU5NCAtMy4xNjIyNDYwOSA1My40MDY4MzU5NCAtMi43NTM5MDYyNSA1Mi4xNjQwNjI1IEMtMiA1MCAtMiA1MCAtMSA0OCBDLTAuNTQzMTA3NzYgNDQuMDcwNzI2NzUgLTAuOTU5NzA3MDkgNDEuNzM5NDU4MTMgLTMgMzguNDM3NSBDLTUuNzU4MjkzODQgMzMuNjk2NjgyNDYgLTUuNzU4MjkzODQgMzMuNjk2NjgyNDYgLTUgMzAgQy00LjM0IDI5LjA1MTI1IC0zLjY4IDI4LjEwMjUgLTMgMjcuMTI1IEMtMC41ODgzOTUzIDIzLjM1Njg2NzY2IC0wLjUyMDEwNzIzIDIxLjM5OTAxNzAyIC0xIDE3IEMtMS4zMyAxNi4xOTU2MjUgLTEuNjYgMTUuMzkxMjUgLTIgMTQuNTYyNSBDLTMuNDY1MDU4MjkgMTAuODA4Mjg4MTIgLTMuMzIwMjAxNTkgOC4wMzQ1NDAwMiAtMyA0IEMtMS41IDEuNSAtMS41IDEuNSAwIDAgWiAiIGZpbGw9IiNGMUY2RjQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNTEsNjApIi8+CjxwYXRoIGQ9Ik0wIDAgQzMgMSAzIDEgNSA0IEM1IDQuOTkgNSA1Ljk4IDUgNyBDNS42NiA2LjY3IDYuMzIgNi4zNCA3IDYgQzguNTQwMjM5OTYgNS45MzA0OTQ1OSAxMC4wODMzNDk4OCA1LjkxNTQ3NjQzIDExLjYyNSA1LjkzNzUgQzEyLjg1MDg5ODQ0IDUuOTUxMDM1MTYgMTIuODUwODk4NDQgNS45NTEwMzUxNiAxNC4xMDE1NjI1IDUuOTY0ODQzNzUgQzE1LjA0MTI4OTA2IDUuOTgyMjQ2MDkgMTUuMDQxMjg5MDYgNS45ODIyNDYwOSAxNiA2IEMxNS4yMzY4NzUgNi43NDI1IDE0LjQ3Mzc1IDcuNDg1IDEzLjY4NzUgOC4yNSBDMTEuMDU1OTU5NzIgMTAuNzU4MDE3NDUgMTEuMDU1OTU5NzIgMTAuNzU4MDE3NDUgOS42NTIzNDM3NSAxMy4wOTc2NTYyNSBDNy41MTM0ODk4OSAxNS41NjAxMTkyIDYuMDYwMDUxNDUgMTUuNzE4NTYzODUgMi44NzUgMTYuMTg3NSBDLTAuMzYzMTQzNTQgMTYuNDU4MzM3OTMgLTAuMzYzMTQzNTQgMTYuNDU4MzM3OTMgLTMgMTggQy00LjY2NjE3MTE1IDE4LjA0MDYzODMyIC02LjMzMzg4MDk1IDE4LjA0MjcyMSAtOCAxOCBDLTcuMjU5NDMzNTkgMTYuOTMwNzIyNjYgLTcuMjU5NDMzNTkgMTYuOTMwNzIyNjYgLTYuNTAzOTA2MjUgMTUuODM5ODQzNzUgQy0xLjU0NzYwNyA4LjUwMTAxOTAzIC0xLjU0NzYwNyA4LjUwMTAxOTAzIDAgMCBaICIgZmlsbD0iI0VGRjVGMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTMyNiw1NSkiLz4KPHBhdGggZD0iTTAgMCBDMS44NzUgMS4xMjUgMS44NzUgMS4xMjUgMyAzIEMzLjY4NzUgNi4xODc1IDMuNjg3NSA2LjE4NzUgNCA5IEMwLjM3IDkgLTMuMjYgOSAtNyA5IEMtNi4wMSA5Ljk5IC01LjAyIDEwLjk4IC00IDEyIEMtMC4zNTQ1ODE1NSAxMS43NjUyMjgwMSAtMC4zNTQ1ODE1NSAxMS43NjUyMjgwMSAzIDExIEMyLjY3IDEyLjY1IDIuMzQgMTQuMyAyIDE2IEMtNC4yNDE1OTc5NyAxNy4zNDYyMjcwMSAtNC4yNDE1OTc5NyAxNy4zNDYyMjcwMSAtNy44NzUgMTUuNjg3NSBDLTEwIDE0IC0xMCAxNCAtMTEgMTIgQy0xMS41NzE0Mjg1NyA0LjkxNDI4NTcxIC0xMS41NzE0Mjg1NyA0LjkxNDI4NTcxIC05LjQzNzUgMS41IEMtNi4wODk2NTY1MSAtMC41NjAyMTEzOCAtMy44NTk4NTc1MyAtMC40OTEyNTQ1OSAwIDAgWiBNLTUgMyBDLTUuOTkgNC40ODUgLTUuOTkgNC40ODUgLTcgNiBDLTQuNjkgNiAtMi4zOCA2IDAgNiBDLTAuNjYgNS4wMSAtMS4zMiA0LjAyIC0yIDMgQy0yLjk5IDMgLTMuOTggMyAtNSAzIFogIiBmaWxsPSIjMDA4NDI5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMTAwLDkzKSIvPgo8cGF0aCBkPSJNMCAwIEMxMC44OSAwIDIxLjc4IDAgMzMgMCBDMzIuNjcgMS4zMiAzMi4zNCAyLjY0IDMyIDQgQzI5LjA3ODAyMzEgNS40NjA5ODg0NSAyNi41MDEwNjUyNSA1LjExMTM0OTAxIDIzLjI0MjE4NzUgNS4wOTc2NTYyNSBDMjIuMjQ3NjEwMzIgNS4wOTU1MzM4MyAyMi4yNDc2MTAzMiA1LjA5NTUzMzgzIDIxLjIzMjk0MDY3IDUuMDkzMzY4NTMgQzE5LjExMzU4MTM3IDUuMDg3NzY3NTQgMTYuOTk0MzI3NDEgNS4wNzUyMTUgMTQuODc1IDUuMDYyNSBDMTMuNDM4ODAzNjEgNS4wNTc0ODUxMiAxMi4wMDI2MDU1NiA1LjA1MjkyMjE5IDEwLjU2NjQwNjI1IDUuMDQ4ODI4MTIgQzcuMDQ0MjM2NTUgNS4wMzc3OTc4MiAzLjUyMjEyODU1IDUuMDIwNTMyNTkgMCA1IEMwIDMuMzUgMCAxLjcgMCAwIFogIiBmaWxsPSIjMUU3MEMwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNTQ5LDcyKSIvPgo8cGF0aCBkPSJNMCAwIEM0LjIxNzQ5MjE5IC0wLjA3NDE5MTM0IDguNDM0NjM4MTEgLTAuMTI4NjIwNCAxMi42NTI1ODc4OSAtMC4xNjQ3OTQ5MiBDMTQuMDg3MjI1NTIgLTAuMTc5ODc1ODkgMTUuNTIxODE3MDggLTAuMjAwMzQzOCAxNi45NTYyOTg4MyAtMC4yMjYzMTgzNiBDMTkuMDE5MTU4NTkgLTAuMjYyNzM0MzcgMjEuMDgxNDA4NTggLTAuMjc5NzMyNDMgMjMuMTQ0NTMxMjUgLTAuMjkyOTY4NzUgQzI1LjAwNjIxOTQ4IC0wLjMxNjUzNDQyIDI1LjAwNjIxOTQ4IC0wLjMxNjUzNDQyIDI2LjkwNTUxNzU4IC0wLjM0MDU3NjE3IEMzMCAwIDMwIDAgMzEuOTI4NDY2OCAxLjM5MzMxMDU1IEMzMyAzIDMzIDMgMzMgNSBDMjIuMTEgNSAxMS4yMiA1IDAgNSBDMCAzLjM1IDAgMS43IDAgMCBaICIgZmlsbD0iIzFGNzBDMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTU0OSw3OSkiLz4KPHBhdGggZD0iTTAgMCBDMC42NiAwIDEuMzIgMCAyIDAgQzIuMDg2MzY3MTkgMC41Njg0NzY1NiAyLjE3MjczNDM3IDEuMTM2OTUzMTIgMi4yNjE3MTg3NSAxLjcyMjY1NjI1IEMzLjM1MjcwNTM2IDcuNzE4MDc4MSA1LjI4MTQzMTU2IDExLjIwNTAwMzg1IDkgMTYgQzkgMTYuNjYgOSAxNy4zMiA5IDE4IEM4LjI3NTU0Njg3IDE3Ljg0NjYwMTU2IDcuNTUxMDkzNzUgMTcuNjkzMjAzMTIgNi44MDQ2ODc1IDE3LjUzNTE1NjI1IEM0LjA3MzM2NjA3IDE2Ljk3MzE0OTc3IDQuMDczMzY2MDcgMTYuOTczMTQ5NzcgMS41NzAzMTI1IDE2Ljc0NjA5Mzc1IEMtNC45MDkwNjM1OCAxNS45Mjg0MDg5MSAtNy44MDY5NTYzOCAxMy44OTExMzYyMyAtMTEuODIwMzEyNSA4Ljc3NzM0Mzc1IEMtMTMgNyAtMTMgNyAtMTMgNiBDLTYuMzc1IDUuODc1IC02LjM3NSA1Ljg3NSAtMyA3IEMtMi44NzYyNSA2LjQwMTg3NSAtMi43NTI1IDUuODAzNzUgLTIuNjI1IDUuMTg3NSBDLTIgMyAtMiAzIDAgMCBaICIgZmlsbD0iI0YyRjdGNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM5NCw1NSkiLz4KPHBhdGggZD0iTTAgMCBDMSAyIDEgMiAwLjkzNzUgNS44MTI1IEMwLjg3OTY0ODA4IDkuMzg2NDYzMTggMS42NDA2MzE3NyAxMS42ODY1Mzk5NCAzIDE1IEMzLjQ3NzIyODgxIDE5LjM3NDU5NzM5IDMuNDk4NjQwNDQgMjEuMjg5ODE1MTMgMC45Mzc1IDI0LjkzNzUgQy0xLjA1MTY1MDY5IDI4LjA4MTY0MTQxIC0xLjI4MzkwMDM2IDI4LjY1NDU4MTU5IC0wLjkzNzUgMzIuMTI1IEMtMC4wNDE1OTEyMiAzNS44MjgwODk2MSAwLjc4Mzk2MDg3IDM3LjEwOTUxNDE4IDMgNDAgQzMuNjQwNzA0NzggNDQuOTEyMDY5OTQgMi4yODAwNjUxNiA0Ny43MTM0Nzc1IDAgNTIgQy0wLjY5OTA3NDE0IDU0LjczNTcyNTg1IC0wLjY5OTA3NDE0IDU0LjczNTcyNTg1IC0xIDU3IEMtMS45OSA1NyAtMi45OCA1NyAtNCA1NyBDLTMuMjQ3ODEzNDEgNTAuNDgxMDQ5NTYgLTMuMjQ3ODEzNDEgNTAuNDgxMDQ5NTYgLTEuOTM3NSA0Ny45Mzc1IEMtMC41NTU0NjYzNyA0NS4wODEyOTcxNyAtMC42Mjk3ODY4MiA0My4xNDY4MTIgLTEgNDAgQy0xLjkyMzQ0MjExIDM4LjIzNzkyNDggLTEuOTIzNDQyMTEgMzguMjM3OTI0OCAtMy4wNjI1IDM2LjUgQy00LjcyOTM3MDExIDMzLjgyMjM2ODIyIC01LjAwMjU5OTI2IDMzLjEzMjU2MjEgLTQuOTM3NSAyOS44MTI1IEMtNCAyNyAtNCAyNyAtMi40Mzc1IDI1LjE4NzUgQy0wLjE2NjczOTU4IDIxLjczMTk5NTAyIC0wLjYxNDU0MzE5IDE4LjAyNTA1ODY1IC0xIDE0IEMtMS4zMyAxMy4wMSAtMS42NiAxMi4wMiAtMiAxMSBDLTIuMTY3OTY4NzUgOS4wNjI1IC0yLjE2Nzk2ODc1IDkuMDYyNSAtMi4xODc1IDcgQy0yLjIwMTY3OTY5IDYuMzE5Mzc1IC0yLjIxNTg1OTM4IDUuNjM4NzUgLTIuMjMwNDY4NzUgNC45Mzc1IEMtMiAzIC0yIDMgMCAwIFogIiBmaWxsPSIjMTQ3MDRCIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzQ4LDYyKSIvPgo8cGF0aCBkPSJNMCAwIEMxMi44NyAwIDI1Ljc0IDAgMzkgMCBDMzUuMDM1MDk2OTkgMy45NjQ5MDMwMSAzNS4wMzUwOTY5OSAzLjk2NDkwMzAxIDMwLjY1MTg1NTQ3IDQuMTEzNTI1MzkgQzI5LjIyMzYyMzAzIDQuMTEzMzY2ODggMjcuNzk1Mzg0NTggNC4xMDc3MDczNSAyNi4zNjcxODc1IDQuMDk3NjU2MjUgQzI1LjIzOTQzNDA1IDQuMDk1NTMzODMgMjUuMjM5NDM0MDUgNC4wOTU1MzM4MyAyNC4wODg4OTc3MSA0LjA5MzM2ODUzIEMyMS42ODQyMjQ5IDQuMDg3NzY0NjUgMTkuMjc5NjQ0NzMgNC4wNzUyMTE1NyAxNi44NzUgNC4wNjI1IEMxNS4yNDYwOTUwOSA0LjA1NzQ4NTUgMTMuNjE3MTg4NzMgNC4wNTI5MjI1IDExLjk4ODI4MTI1IDQuMDQ4ODI4MTIgQzcuOTkyMTUxNzMgNC4wMzc3OTM5NyAzLjk5NjA5MTU4IDQuMDIwNTI2NzkgMCA0IEMwIDIuNjggMCAxLjM2IDAgMCBaICIgZmlsbD0iIzFGNzBDMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTU0MSwxMDIpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuNDQ1MDA2NiAyLjkzNTY2NDIzIDMuNTc0ODI0NjQgNS4yNTc0NDI5NCAzLjk2ODc1IDkuNTk3NjU2MjUgQzMuOTk4ODM1MiAxMS45MTA0NTU4IDMuNzA3ODg2MzggMTMuODY2Mzg3MzUgMy4yNSAxNi4xMjUgQzIuOTg0MTIwNjEgMjAuMjQ2MTMwNTMgMy4xMDk4NDA0MiAyMC42ODU1NzQyMiA1LjQzNzUgMjMuNzUgQzUuOTEwNTg1OTQgMjQuMjgxMDkzNzUgNi4zODM2NzE4NyAyNC44MTIxODc1IDYuODcxMDkzNzUgMjUuMzU5Mzc1IEM4IDI3IDggMjcgOCAzMSBDMTAuMzEgMzEuNjYgMTIuNjIgMzIuMzIgMTUgMzMgQzE1IDMzLjk5IDE1IDM0Ljk4IDE1IDM2IEMxNi4zMiAzNi42NiAxNy42NCAzNy4zMiAxOSAzOCBDMTkgMzguOTkgMTkgMzkuOTggMTkgNDEgQzE3LjkxNzE4NzUgNDAuNDc0MDYyNSAxNy45MTcxODc1IDQwLjQ3NDA2MjUgMTYuODEyNSAzOS45Mzc1IEMxNC4wNzY4ODc3IDM4Ljc1NjQ4MjEyIDE0LjA3Njg4NzcgMzguNzU2NDgyMTIgMTEuNSAzOS41NjI1IEM5IDQwIDkgNDAgNi4xODc1IDM4LjU2MjUgQzUuNDY1NjI1IDM4LjA0Njg3NSA0Ljc0Mzc1IDM3LjUzMTI1IDQgMzcgQzQuMTk1MjkyOTcgMzYuMTY0Njg3NSA0LjE5NTI5Mjk3IDM2LjE2NDY4NzUgNC4zOTQ1MzEyNSAzNS4zMTI1IEM1LjMwMzg2MTMxIDMwLjQ2NzI5MzAxIDUuMzAzODYxMzEgMzAuNDY3MjkzMDEgMy45MTc5Njg3NSAyNS44NjcxODc1IEMyLjk3NDUwMDc2IDI0LjU0MTY1Mzk2IDIuMDI5MTkzNjQgMjMuMjE3NDI3NDggMS4wODIwMzEyNSAyMS44OTQ1MzEyNSBDLTAuNjgwNTA5NzQgMTguODA4NDkzNzggMC4yMzQyODE5NyAxNi4zNTczNzkwNyAxIDEzIEMxLjA4MjI5MTcgMTEuNDM5MTEyMjkgMS4xMjI0NDU5OSA5Ljg3NTU1MzM3IDEuMTI1IDguMzEyNSBDMS4xMjg4NjcxOSA3LjIyMzg4NjcyIDEuMTI4ODY3MTkgNy4yMjM4ODY3MiAxLjEzMjgxMjUgNi4xMTMyODEyNSBDMC45OTc4MDczMiAzLjk2NTExMDU5IDAuNTg3NzI5NCAyLjA2NjM4MTk1IDAgMCBaICIgZmlsbD0iI0VGRjVGMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM3OCw2MykiLz4KPHBhdGggZD0iTTAgMCBDOS4yNCAwIDE4LjQ4IDAgMjggMCBDMjggMS42NSAyOCAzLjMgMjggNSBDMTguNzYgNSA5LjUyIDUgMCA1IEMwIDMuMzUgMCAxLjcgMCAwIFogIiBmaWxsPSIjMUU3MEMxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNTEwLDk0KSIvPgo8cGF0aCBkPSJNMCAwIEM5LjI0IDAgMTguNDggMCAyOCAwIEMyOCAxLjY1IDI4IDMuMyAyOCA1IEMxOC43NiA1IDkuNTIgNSAwIDUgQzAgMy4zNSAwIDEuNyAwIDAgWiAiIGZpbGw9IiMxRTcwQzEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1MTAsNTcpIi8+CjxwYXRoIGQ9Ik0wIDAgQzkuMjQgMCAxOC40OCAwIDI4IDAgQzI4IDEuNjUgMjggMy4zIDI4IDUgQzE4Ljc2IDUgOS41MiA1IDAgNSBDMCAzLjM1IDAgMS43IDAgMCBaICIgZmlsbD0iIzFGNzBDMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUxMCw1MCkiLz4KPHBhdGggZD0iTTAgMCBDMCAzIDAgMyAtMSA1IEMtMS4yMTM3NzcyMSAxMC42MDcwMzIxMyAtMS4yMTM3NzcyMSAxMC42MDcwMzIxMyAwIDE2IEMwLjc1NDE0MjM1IDIyLjQ5MDU2OTM3IC0wLjI2NzY1MDE5IDI1LjU4MjA3Mjg1IC00IDMxIEMtMy45Mjc0OTIxNCAzNC41NTI4ODQ5NCAtMy4zMTc3NDE2NCAzNi40OTE2MTMzNyAtMS40Mzc1IDM5LjUgQzAuNDMyMjMyNTQgNDIuNzUxNzA4NzYgMC40OTI4MjA0OCA0NC4yNjg2NDQ5NCAwIDQ4IEMtMS4xNzkwNDA1IDUxLjQwNDQxNTYzIC0yLjU0MTk2MzU0IDU0LjcwNjM5OTc4IC00IDU4IEMtNC45OSA1Ny42NyAtNS45OCA1Ny4zNCAtNyA1NyBDLTYuNTc1MjcyMSA1NC40NTE2MzI2IC02LjE4NjYwNjY3IDUyLjM0MDI4Mjc1IC00LjkzNzUgNTAuMDYyNSBDLTMuNjI5MDkzODEgNDcuMTg0MDA2MzkgLTMuNjg2MTgxNDMgNDUuMTM4MTg1NzMgLTQgNDIgQy00LjQ5NSA0MS4wMSAtNC45OSA0MC4wMiAtNS41IDM5IEMtNy4yMTc0NTA3IDM1LjU2NTA5ODYgLTcuNTUyMzU3MzMgMzMuNzg3NTkzMTMgLTcgMzAgQy01Ljk4MjkyOTY5IDI4LjY2Nzc1MzkxIC01Ljk4MjkyOTY5IDI4LjY2Nzc1MzkxIC00Ljk0NTMxMjUgMjcuMzA4NTkzNzUgQy0yLjU3NzgwMDU3IDIzLjI4MTkyMTg1IC0yLjgyMDAzNjc0IDIwLjUwMjM1NDg2IC0zLjQzNzUgMTYuMDYyNSBDLTQuMjQwNTQ3MzkgMTAuMDc2NjY0NDYgLTMuNzgyNzc2OTMgNi4zMjc0MTg5MSAtMSAxIEMtMC42NyAwLjY3IC0wLjM0IDAuMzQgMCAwIFogIiBmaWxsPSIjRTRFRUVBIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzQ4LDYwKSIvPgo8cGF0aCBkPSJNMCAwIEMzLjkwOTM4NzAzIDMuNzM5NDEzNjggMy45MDkzODcwMyAzLjczOTQxMzY4IDQuMTMyODEyNSA2Ljg0NzY1NjI1IEM0LjEzMDIzNDM4IDcuNTc4NTU0NjkgNC4xMjc2NTYyNSA4LjMwOTQ1MzEzIDQuMTI1IDkuMDYyNSBDNC4xMjI0MjE4OCA5Ljg2MzAwNzgxIDQuMTE5ODQzNzUgMTAuNjYzNTE1NjMgNC4xMTcxODc1IDExLjQ4ODI4MTI1IEM0LjAwMTcwMTk1IDEzLjk2MzUyMTY0IDMuNjUxMDI0NzkgMTYuMzA3MDIyNDggMy4yNSAxOC43NSBDMi43NjIwMjY5NSAyMi40MjA4OTQxOCAyLjc2MjAyNjk1IDIyLjQyMDg5NDE4IDQuOTM3NSAyNS41NjI1IEM1Ljk1ODQzNzUgMjYuNzY5MDYyNSA1Ljk1ODQzNzUgMjYuNzY5MDYyNSA3IDI4IEM4LjA0NzU1MTk0IDMzLjMxNDE0MzcgNi44NDIyMzI0NCAzNi40OTk3OTg2MyA0IDQxIEMzLjM3MDk3MDM5IDQ1LjkyNzM5ODU3IDQuNzQ3ODkzNDUgNDguNjgzNDYyNDQgNyA1MyBDNyA1NC4zMiA3IDU1LjY0IDcgNTcgQzQgNTYgNCA1NiAyLjc5Njg3NSA1My45MjU3ODEyNSBDLTAuNzYwMjg1NzMgNDUuMDQ2MTUyNDIgLTAuNzYwMjg1NzMgNDUuMDQ2MTUyNDIgMSA0MCBDMS41MTU2MjUgMzkuMTc1IDIuMDMxMjUgMzguMzUgMi41NjI1IDM3LjUgQzQuMzg3MDI3NTYgMzQuMzI2OTA4NTggNC41MTY0NDExOCAzMi42MTUwODgyNSA0IDI5IEMzLjM0IDI4LjAzMDYyNSAyLjY4IDI3LjA2MTI1IDIgMjYuMDYyNSBDLTAuNDEwNTc3ODIgMjIuMzcxMzAyNzIgLTAuNDA4MzI3NTUgMjAuMzI4MjcxOTkgMCAxNiBDMC4zMyAxNS4wMSAwLjY2IDE0LjAyIDEgMTMgQzEuMDkyNDczODEgMTEuNTIzMTM4ODkgMS4xMjk5OTA3MSAxMC4wNDIyNDQ5OSAxLjEyNSA4LjU2MjUgQzEuMTI4ODY3MTkgNy40MTk3NDYwOSAxLjEyODg2NzE5IDcuNDE5NzQ2MDkgMS4xMzI4MTI1IDYuMjUzOTA2MjUgQzEuMDAyNzYwMTUgNC4wNDY4NDE0MSAwLjYwODU2MTk5IDIuMTIwMzA3MjQgMCAwIFogIiBmaWxsPSIjRTZGMEVDIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzc0LDYxKSIvPgo8cGF0aCBkPSJNMCAwIEM4LjI1IDAgMTYuNSAwIDI1IDAgQzI1LjY2IDEuNjUgMjYuMzIgMy4zIDI3IDUgQzE4LjA5IDUgOS4xOCA1IDAgNSBDMCAzLjM1IDAgMS43IDAgMCBaICIgZmlsbD0iIzFFNzBDMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTU4Nyw1NykiLz4KPHBhdGggZD0iTTAgMCBDOC4yNSAwIDE2LjUgMCAyNSAwIEMyNSAxLjY1IDI1IDMuMyAyNSA1IEMxNi40MiA1IDcuODQgNSAtMSA1IEMtMC42NyAzLjM1IC0wLjM0IDEuNyAwIDAgWiAiIGZpbGw9IiMxRTcwQzAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE2MjQsNTcpIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuNjYgMCAxLjMyIDAgMiAwIEMyLjMzIDEuNjUgMi42NiAzLjMgMyA1IEM0LjY1IDUgNi4zIDUgOCA1IEM3LjAxIDYuNDg1IDcuMDEgNi40ODUgNiA4IEM1LjgzMjg2NDMxIDEwLjYyNTMxNTI0IDUuODMyODY0MzEgMTAuNjI1MzE1MjQgNiAxMyBDNi42NiAxMy4zMyA3LjMyIDEzLjY2IDggMTQgQzcuMzQgMTQgNi42OCAxNCA2IDE0IEM2IDE0LjY2IDYgMTUuMzIgNiAxNiBDMi43IDE2IC0wLjYgMTYgLTQgMTYgQy00IDE1LjM0IC00IDE0LjY4IC00IDE0IEMtNC42NiAxMy42NyAtNS4zMiAxMy4zNCAtNiAxMyBDLTUuMzQgMTMgLTQuNjggMTMgLTQgMTMgQy0zLjc5OTEzNTU3IDkuMjg0MDA4MDkgLTMuODQ4MDU2MyA4LjIyNzkxNTU1IC02IDUgQy00LjM1IDUgLTIuNyA1IC0xIDUgQy0wLjY3IDMuMzUgLTAuMzQgMS43IDAgMCBaICIgZmlsbD0iI0Q4RTdFMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM2MCwzNykiLz4KPHBhdGggZD0iTTAgMCBDMCAxLjY1IDAgMy4zIDAgNSBDLTAuNzYzMTI1IDQuNzczMTI1IC0xLjUyNjI1IDQuNTQ2MjUgLTIuMzEyNSA0LjMxMjUgQy0zLjE5OTM3NSA0LjIwOTM3NSAtNC4wODYyNSA0LjEwNjI1IC01IDQgQy02LjgzNTQ3OTkgNS4zMzM3ODU3NSAtNi44MzU0Nzk5IDUuMzMzNzg1NzUgLTggNyBDLTcuMzQgOC42NSAtNi42OCAxMC4zIC02IDEyIEMtMy42OSAxMiAtMS4zOCAxMiAxIDEyIEMxIDEzLjMyIDEgMTQuNjQgMSAxNiBDLTUuMjAwODE5NjcgMTcuMzM3NDMxNjkgLTUuMjAwODE5NjcgMTcuMzM3NDMxNjkgLTguODEyNSAxNS44MTI1IEMtMTEuMTQwMzY2MTcgMTMuODgzNjk2NiAtMTIuMTcyMjU2MTEgMTIuODk3MTAzNjEgLTEzIDEwIEMtMTIuODU1NzAyNCA2LjUzNjg1NzUgLTEyLjM0NTYyNDk3IDQuNTI1MzQ5OTYgLTEwLjQzNzUgMS42MjUgQy02Ljg1NzUyODY3IC0wLjc2MTY0NzU1IC00LjI0ODUyOTc0IC0wLjI4MzIzNTMyIDAgMCBaICIgZmlsbD0iIzAwODQyOSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjE5Miw5MykiLz4KPHBhdGggZD0iTTAgMCBDMCAwLjk5IDAgMS45OCAwIDMgQzEuNjUgMyAzLjMgMyA1IDMgQzUgNC4zMiA1IDUuNjQgNSA3IEMzLjM1IDcgMS43IDcgMCA3IEMwIDkuOTcgMCAxMi45NCAwIDE2IEMxLjY1IDE1LjY3IDMuMyAxNS4zNCA1IDE1IEM1IDE2LjMyIDUgMTcuNjQgNSAxOSBDMS43MTMwMzc2NyAxOS43OTk1MzEzOCAwLjI4OTc2ODA4IDIwLjA5NjU4OTM2IC0zIDE5IEMtNC4yNjIzNzczMSAxNi40NzUyNDUzOCAtNC4wOTg1NjQwNCAxNC42ODc5OTUzNCAtNC4wNjI1IDExLjg3NSBDLTQuMDUzNDc2NTYgMTAuOTY0OTIxODggLTQuMDQ0NDUzMTMgMTAuMDU0ODQzNzUgLTQuMDM1MTU2MjUgOS4xMTcxODc1IEMtNC4wMjM1NTQ2OSA4LjQxODUxNTYyIC00LjAxMTk1MzEzIDcuNzE5ODQzNzUgLTQgNyBDLTQuOTkgNyAtNS45OCA3IC03IDcgQy0zLjg2MjA2ODk3IDAgLTMuODYyMDY4OTcgMCAwIDAgWiAiIGZpbGw9IiMwMDg0MjkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIxMzcsOTApIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuMzMgMS42NSAwLjY2IDMuMyAxIDUgQzAuMDUxMjUgNC43OTM3NSAtMC44OTc1IDQuNTg3NSAtMS44NzUgNC4zNzUgQy0zLjQyMTg3NSA0LjE4OTM3NSAtMy40MjE4NzUgNC4xODkzNzUgLTUgNCBDLTcuMzQ5NzM4MTggNS44OTc1NTE0NCAtNy4zNDk3MzgxOCA1Ljg5NzU1MTQ0IC03LjEyNSA5LjEyNSBDLTcuMDYzMTI1IDEwLjU0ODEyNSAtNy4wNjMxMjUgMTAuNTQ4MTI1IC03IDEyIEMtNC4zNiAxMiAtMS43MiAxMiAxIDEyIEMxIDEzLjMyIDEgMTQuNjQgMSAxNiBDLTUuMzI5OTc5ODggMTcuMjE3MzAzODIgLTUuMzI5OTc5ODggMTcuMjE3MzAzODIgLTguMzEyNSAxNi4yNSBDLTEwIDE1IC0xMCAxNSAtMTIgMTIgQy0xMi40NDUwNTU3NiA3Ljk5NDQ5ODEzIC0xMi4zNDMxOTE2NyA1LjY3MjA4MzY5IC0xMC41IDIuMDYyNSBDLTYuODg4MjI0MDkgLTAuOTE3MjE1MTMgLTQuNTg5MTk0MjEgLTAuMzgyNDMyODUgMCAwIFogIiBmaWxsPSIjMDA4NDI5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMTIyLDkzKSIvPgo8cGF0aCBkPSJNMCAwIEM3LjU5IDAgMTUuMTggMCAyMyAwIEMyMy4zMyAxLjY1IDIzLjY2IDMuMyAyNCA1IEMxNi4wOCA1IDguMTYgNSAwIDUgQzAgMy4zNSAwIDEuNyAwIDAgWiAiIGZpbGw9IiMxRjcwQzAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1ODcsNTApIi8+CjxwYXRoIGQ9Ik0wIDAgQzcuMjYgMCAxNC41MiAwIDIyIDAgQzIyIDEuNjUgMjIgMy4zIDIyIDUgQzE0LjQxIDUgNi44MiA1IC0xIDUgQy0wLjY3IDMuMzUgLTAuMzQgMS43IDAgMCBaICIgZmlsbD0iIzFGNzBDMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTYyNyw1MCkiLz4KPHBhdGggZD0iTTAgMCBDMy45NiAwIDcuOTIgMCAxMiAwIEMxMiAzLjY2NjY2NjY3IDEyIDcuMzMzMzMzMzMgMTIgMTEgQzguMDQgMTEgNC4wOCAxMSAwIDExIEMwIDcuMzMzMzMzMzMgMCAzLjY2NjY2NjY3IDAgMCBaICIgZmlsbD0iI0U4MjAyNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTc4MiwxMTYpIi8+CjxwYXRoIGQ9Ik0wIDAgQzkuMjQgMCAxOC40OCAwIDI4IDAgQzI4IDEuMzIgMjggMi42NCAyOCA0IEMxOC43NiA0IDkuNTIgNCAwIDQgQzAgMi42OCAwIDEuMzYgMCAwIFogIiBmaWxsPSIjMUU3MEMwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNTEwLDEwMikiLz4KPHBhdGggZD0iTTAgMCBDMCAxLjY1IDAgMy4zIDAgNSBDLTAuNTU1NTg1OTQgNC41MTQwMjM0NCAtMS4xMTExNzE4OCA0LjAyODA0Njg4IC0xLjY4MzU5Mzc1IDMuNTI3MzQzNzUgQy00LjM3OTY1MzUgMS43NDk2NzE5NyAtNS44NjQwNjM4NiAxLjU2NzMyNDE5IC05LjA2MjUgMS41NjI1IEMtOS45MTk3MjY1NiAxLjU0MzE2NDA2IC0xMC43NzY5NTMxMyAxLjUyMzgyODEzIC0xMS42NjAxNTYyNSAxLjUwMzkwNjI1IEMtMTQuMTc3NTgwNDEgMS43OTY0NDEzNyAtMTQuMTc3NTgwNDEgMS43OTY0NDEzNyAtMTUuODA4NTkzNzUgNC4wMjczNDM3NSBDLTE2LjM5ODMzOTg0IDUuMDAzODA4NTkgLTE2LjM5ODMzOTg0IDUuMDAzODA4NTkgLTE3IDYgQy0xNS4wMiA2IC0xMy4wNCA2IC0xMSA2IEMtMTAuNjcgNy42NSAtMTAuMzQgOS4zIC0xMCAxMSBDLTExLjMyIDExIC0xMi42NCAxMSAtMTQgMTEgQy0xNCAxMC4zNCAtMTQgOS42OCAtMTQgOSBDLTE1LjMyIDkgLTE2LjY0IDkgLTE4IDkgQy0xOC4zMyA3LjM1IC0xOC42NiA1LjcgLTE5IDQgQy0xOS42NiA0LjY2IC0yMC4zMiA1LjMyIC0yMSA2IEMtMjEgNC4wMiAtMjEgMi4wNCAtMjEgMCBDLTEzLjk3OTM2NDY0IC0yLjM5MDAwMzUzIC02Ljg1MjIxNDU0IC0zLjUzNjYyNjg2IDAgMCBaICIgZmlsbD0iIzE5NzM0RiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM3MCw1NykiLz4KPHBhdGggZD0iTTAgMCBDNi45MyAwIDEzLjg2IDAgMjEgMCBDMjEgMS42NSAyMSAzLjMgMjEgNSBDMTQuMDcgNSA3LjE0IDUgMCA1IEMwIDMuMzUgMCAxLjcgMCAwIFogIiBmaWxsPSIjMUU3MEMwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNjI5LDk0KSIvPgo8cGF0aCBkPSJNMCAwIEMwIDAuOTkgMCAxLjk4IDAgMyBDLTAuOTkgMyAtMS45OCAzIC0zIDMgQy0zIDMuNjYgLTMgNC4zMiAtMyA1IEMtMi4wMSA1LjMzIC0xLjAyIDUuNjYgMCA2IEMwIDcuMzIgMCA4LjY0IDAgMTAgQy02LjYyNSAxMi44NzUgLTYuNjI1IDEyLjg3NSAtMTAgMTQgQy0xMS4xOTI4NzQxMSAxMC4xMjMxNTkxMyAtMTIgNy4wODM3ODA3NyAtMTIgMyBDLTEwLjc1MzM2NjY5IDIuNDkxNjY0MDkgLTkuNTAyNTA2MTMgMS45OTM2ODg1NSAtOC4yNSAxLjUgQy03LjU1MzkwNjI1IDEuMjIxNTYyNSAtNi44NTc4MTI1IDAuOTQzMTI1IC02LjE0MDYyNSAwLjY1NjI1IEMtNCAwIC00IDAgMCAwIFogIiBmaWxsPSIjMUM3NTUxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzI5LDgwKSIvPgo8cGF0aCBkPSJNMCAwIEM2LjYgMCAxMy4yIDAgMjAgMCBDMjAgMS42NSAyMCAzLjMgMjAgNSBDMTMuNCA1IDYuOCA1IDAgNSBDMCAzLjM1IDAgMS43IDAgMCBaICIgZmlsbD0iIzFFNzBDMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTU4Nyw5NCkiLz4KPHBhdGggZD0iTTAgMCBDMS4zMiAwIDIuNjQgMCA0IDAgQzQgNy45MiA0IDE1Ljg0IDQgMjQgQzIuNjggMjQgMS4zNiAyNCAwIDI0IEMwIDE2LjA4IDAgOC4xNiAwIDAgWiAiIGZpbGw9IiMwMDg0MjkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIwNzcsODUpIi8+CjxwYXRoIGQ9Ik0wIDAgQzEuNjA4NzUgLTAuMDIwNjI1IDMuMjE3NSAtMC4wNDEyNSA0Ljg3NSAtMC4wNjI1IEM1Ljc3OTkyMTg4IC0wLjA3NDEwMTU2IDYuNjg0ODQzNzUgLTAuMDg1NzAzMTIgNy42MTcxODc1IC0wLjA5NzY1NjI1IEMxMCAwIDEwIDAgMTIgMSBDMTEuMzQgMi4zMiAxMC42OCAzLjY0IDEwIDUgQzguMzUgNSA2LjcgNSA1IDUgQzQuNjcgOC42MyA0LjM0IDEyLjI2IDQgMTYgQzIuNjggMTYgMS4zNiAxNiAwIDE2IEMwIDEwLjcyIDAgNS40NCAwIDAgWiAiIGZpbGw9IiMwMDg0MjkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIxNDksOTMpIi8+CjxwYXRoIGQ9Ik0wIDAgQzYuMjcgMCAxMi41NCAwIDE5IDAgQzE4LjY3IDEuNjUgMTguMzQgMy4zIDE4IDUgQzEyLjM5IDUgNi43OCA1IDEgNSBDMC42NyAzLjM1IDAuMzQgMS43IDAgMCBaICIgZmlsbD0iIzFGNzBDMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTYwOSw3OSkiLz4KPHBhdGggZD0iTTAgMCBDNi45MyAwIDEzLjg2IDAgMjEgMCBDMjEgMS4zMiAyMSAyLjY0IDIxIDQgQzEzLjc0IDQgNi40OCA0IC0xIDQgQy0wLjY3IDIuNjggLTAuMzQgMS4zNiAwIDAgWiAiIGZpbGw9IiMxRTcwQzAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE2MjEsNjUpIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuODEyNSAyLjE4NzUgMC44MTI1IDIuMTg3NSAxIDUgQy0xLjEyNSA3Ljg3NSAtMS4xMjUgNy44NzUgLTQgMTAgQy02LjgxMjUgOS44MTI1IC02LjgxMjUgOS44MTI1IC05IDkgQy05Ljc1IDYuNzUgLTkuNzUgNi43NSAtMTAgNCBDLTcuMTk2NDEzNTIgLTAuMTQ5MzA3OTkgLTQuODI5NDYzOCAtMC40MzkwNDIxNiAwIDAgWiAiIGZpbGw9IiMwMDg0MjkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIxMDgsNDApIi8+CjxwYXRoIGQ9Ik0wIDAgQzYuOTMgMCAxMy44NiAwIDIxIDAgQzIxIDEuMzIgMjEgMi42NCAyMSA0IEMxNC4wNyA0IDcuMTQgNCAwIDQgQzAgMi42OCAwIDEuMzYgMCAwIFogIiBmaWxsPSIjMUU3MEMwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNjI5LDEwMikiLz4KPHBhdGggZD0iTTAgMCBDNi42IDAgMTMuMiAwIDIwIDAgQzIwLjMzIDEuMzIgMjAuNjYgMi42NCAyMSA0IEMxNC4wNyA0IDcuMTQgNCAwIDQgQzAgMi42OCAwIDEuMzYgMCAwIFogIiBmaWxsPSIjMUU3MEMwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNTk1LDY1KSIvPgo8cGF0aCBkPSJNMCAwIEM2LjYgMCAxMy4yIDAgMjAgMCBDMjAgMS4zMiAyMCAyLjY0IDIwIDQgQzEzLjQgNCA2LjggNCAwIDQgQzAgMi42OCAwIDEuMzYgMCAwIFogIiBmaWxsPSIjMUU3MEMxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNTg3LDEwMikiLz4KPHBhdGggZD0iTTAgMCBDMC4zMyAwLjY2IDAuNjYgMS4zMiAxIDIgQzAuNjcgMi42NiAwLjM0IDMuMzIgMCA0IEMwLjAyMzc5MDQgNi4zMTEwNzg3OCAwLjAyMzc5MDQgNi4zMTEwNzg3OCAwLjMxMjUgOC44NzUgQzAuMzkxMTMyODEgOS43Mzg2NzE4NyAwLjQ2OTc2NTYzIDEwLjYwMjM0Mzc1IDAuNTUwNzgxMjUgMTEuNDkyMTg3NSBDMS4wMDMyMDcyNCAxNC4wMTc5MDQ3NSAxLjgxMjYwODMzIDE1Ljc0ODIxMzQgMyAxOCBDMy42ODc1MDI5NCAyMy4yNzA4NTU4NiAyLjE2OTQxODg1IDI1Ljg0MDEzNzc1IC0xIDMwIEMtMS42NiAyOS42NyAtMi4zMiAyOS4zNCAtMyAyOSBDLTIuNTA1IDI3Ljk3OTA2MjUgLTIuNTA1IDI3Ljk3OTA2MjUgLTIgMjYuOTM3NSBDLTAuNTQwNjAwMTQgMjIuNjUwNTEyOSAtMC4yNjA1MDE3MyAxOC44MDI1MjcwNCAtMiAxNC41NjI1IEMtMy40NjUwNTgyOSAxMC44MDgyODgxMiAtMy4zMjAyMDE1OSA4LjAzNDU0MDAyIC0zIDQgQy0xLjUgMS41IC0xLjUgMS41IDAgMCBaICIgZmlsbD0iI0U1RUZFQiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM1MSw2MCkiLz4KPHBhdGggZD0iTTAgMCBDMC4zMyAwIDAuNjYgMCAxIDAgQzAuOTg4Mzk4NDQgMC43NTAyMzQzNyAwLjk3Njc5Njg3IDEuNTAwNDY4NzUgMC45NjQ4NDM3NSAyLjI3MzQzNzUgQzAuOTE5NjU0NTMgNy4zOTkxODY2NiAwLjk4NDI4NjYxIDEyLjMwMTE4MTk1IDEuNzUgMTcuMzc1IEMyLjE5NjY0NjM5IDIxLjE0NzM1MTI3IDIuMTA3NDI3NTkgMjEuODEwMjExMjYgMC4xMjUgMjUuMzEyNSBDLTAuOTI2ODc1IDI2LjY0MjgxMjUgLTAuOTI2ODc1IDI2LjY0MjgxMjUgLTIgMjggQy0yLjc4MjE1NTg4IDMwLjcyODI1MDQgLTIuNzgyMTU1ODggMzAuNzI4MjUwNCAtMyAzMyBDLTMuOTkgMzMgLTQuOTggMzMgLTYgMzMgQy01LjY2Mzk0OTIgMjkuMzg3NDUzODUgLTUuNDU0NzA0MzIgMjcuNDg1NTg5OSAtMi45Mjk2ODc1IDI0Ljc4OTA2MjUgQy0wLjM4MTE3MzczIDIxLjEwNTU4MzA5IC0wLjgyNDUyNDMzIDE4LjI5NzIzMDcyIC0xLjM3NSAxNC4wNjI1IEMtMS45OTMyNTI0NiA4Ljg4OTQ2NTc5IC0yLjA0NDM3NzU4IDQuOTExMTE3NTYgMCAwIFogIiBmaWxsPSIjMkE3RDVDIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzQ0LDYyKSIvPgo8cGF0aCBkPSJNMCAwIEMzLjE2MTE1Nzc2IDEuMzY5ODM1MDMgMy45OTI3MDkyIDEuOTg5MDYzOCA2IDUgQzYuNTMwNzQ3NDEgMTAuNTE5NzczMDggNS4zMDE0OTUxMSAxNC4wMjg3NzA1NSAzIDE5IEMyLjMwODU5NDc4IDIxLjc3ODg4NjEzIDIuMzA4NTk0NzggMjEuNzc4ODg2MTMgMiAyNCBDMS4wMSAyNCAwLjAyIDI0IC0xIDI0IEMtMS4yNTgxMzMwMiAyMC4zODYxMzc3NCAtMS4xNjgxNTY2NyAxOC4zMjkzMDY4IDAuNSAxNS4wNjI1IEMyLjczMzE5NzQyIDEwLjUwMzA1NTI2IDIuNjIzNDM0NjEgNi44MzEzMzkxNiAxIDIuMDYyNSBDMC42NyAxLjM4MTg3NSAwLjM0IDAuNzAxMjUgMCAwIFogIiBmaWxsPSIjMTc3MjREIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzUxLDk3KSIvPgo8cGF0aCBkPSJNMCAwIEMwLjMzIDAuOTkgMC42NiAxLjk4IDEgMyBDMC41MDUgMy45MDc1IDAuMDEgNC44MTUgLTAuNSA1Ljc1IEMtMi4zNzE1ODI0MSA5LjgwNTA5NTIzIC0yLjA1NTkwNDQyIDExLjcwMDk2MDU3IC0xIDE2IEMtMC4wODA4Mzc4IDE4LjM3NzMwOTU2IDAuOTUxMzM0NzMgMjAuNjc0Njk4NzUgMiAyMyBDMiAyMy42NiAyIDI0LjMyIDIgMjUgQzEuMDEgMjUgMC4wMiAyNSAtMSAyNSBDLTEuODcyNzk4NjIgMjMuMTMzNjAwMTkgLTIuNzIyNTEwMjcgMjEuMjU2MzkzODkgLTMuNTYyNSAxOS4zNzUgQy00LjI3NTk5NjA5IDE3LjgwODc4OTA2IC00LjI3NTk5NjA5IDE3LjgwODc4OTA2IC01LjAwMzkwNjI1IDE2LjIxMDkzNzUgQy02LjEzMjU2NzY4IDEyLjU3MjY2NDE5IC02LjAzOTIzNjQyIDEwLjYzNzMyNzQ1IC01IDcgQy0zLjU1NDMxMTQ1IDQuNDMwOTQwMzUgLTEuODIzMDY5ODYgMi4zMzcyNjkwNSAwIDAgWiAiIGZpbGw9IiMxMzZGNEEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzcsOTQpIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuNjYgMCAxLjMyIDAgMiAwIEM1LjE4NDE5OTU5IDMuNzk2NTQ1NjcgNS4zODczNDU0OCA3LjExNjc2MjIgNS4yMzgyODEyNSAxMS44NjMyODEyNSBDNC45NDYwNDkxMyAxNC40ODM3ODg5NyA0LjA0MjM4MTk1IDE2LjU4OTQ5MTczIDMgMTkgQzIuNzkzNDQ5MzQgMjIuNDQyNTEwOTcgMi45MDYxNjA2OSAyNC43MTg0ODIwOCA0IDI4IEMyLjA2MjUgMjcuNjI1IDIuMDYyNSAyNy42MjUgMCAyNyBDLTEuNDIxNTEzNDUgMjQuMTU2OTczMDkgLTEuMjM5MjI2MDYgMjIuMTY5NzQ1MjggLTEgMTkgQy0wLjUwNSAxNy44NjU2MjUgLTAuMDEgMTYuNzMxMjUgMC41IDE1LjU2MjUgQzIuNTQzNzYwMDggMTAuNzA4NTY5ODEgMi42OTcwMTA1NCA3LjA0NzQ2ODQ1IDEgMi4wNjI1IEMwLjY3IDEuMzgxODc1IDAuMzQgMC43MDEyNSAwIDAgWiAiIGZpbGw9IiNEREVBRTUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNjksNTkpIi8+CjxwYXRoIGQ9Ik0wIDAgQzIgMiAyIDIgMi4yNSA1LjMxMjUgQzIuMDE4NjM0NTIgOC43MjUxNDA4NCAxLjQ3NjUyODggMTAuOTU0NjU5MzUgMCAxNCBDLTAuNjYgMTMuMzQgLTEuMzIgMTIuNjggLTIgMTIgQy0xLjYyNSA4Ljg3NSAtMS42MjUgOC44NzUgLTEgNiBDLTMuMzEgNi4zMyAtNS42MiA2LjY2IC04IDcgQy04LjA0MjcyMSA1LjMzMzg4MDk1IC04LjA0MDYzODMyIDMuNjY2MTcxMTUgLTggMiBDLTUuOTU0NDc5NTggLTAuMDQ1NTIwNDIgLTIuNzI5NDE5MTQgMC4yMzk0MjI3MyAwIDAgWiAiIGZpbGw9IiMwQzZCNDUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzAsNjIpIi8+CjxwYXRoIGQ9Ik0wIDAgQzQuMjkgMCA4LjU4IDAgMTMgMCBDMTMgMS42NSAxMyAzLjMgMTMgNSBDOC43MSA1IDQuNDIgNSAwIDUgQzAgMy4zNSAwIDEuNyAwIDAgWiAiIGZpbGw9IiMxRTcwQzEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE2MjksNzkpIi8+CjxwYXRoIGQ9Ik0wIDAgQzEuMzIgMCAyLjY0IDAgNCAwIEM0IDUuMjggNCAxMC41NiA0IDE2IEMyLjY4IDE2IDEuMzYgMTYgMCAxNiBDMCAxMC43MiAwIDUuNDQgMCAwIFogIiBmaWxsPSIjMDA4NDI5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMTY5LDkzKSIvPgo8cGF0aCBkPSJNMCAwIEM0LjI5IDAgOC41OCAwIDEzIDAgQzEyLjY3IDAuOTkgMTIuMzQgMS45OCAxMiAzIEMxMC42OCAzIDkuMzYgMyA4IDMgQzggNS42NCA4IDguMjggOCAxMSBDNy4wMSAxMSA2LjAyIDExIDUgMTEgQzUgOC4zNiA1IDUuNzIgNSAzIEMzLjM1IDIuNjcgMS43IDIuMzQgMCAyIEMwIDEuMzQgMCAwLjY4IDAgMCBaICIgZmlsbD0iI0U4MjAyNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTc0OSwxMTYpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuOTYgMCA3LjkyIDAgMTIgMCBDMTIgMS42NSAxMiAzLjMgMTIgNSBDOC4wNCA1IDQuMDggNSAwIDUgQzAgMy4zNSAwIDEuNyAwIDAgWiAiIGZpbGw9IiMxRTcwQzEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1OTUsNzkpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuOTYgMCA3LjkyIDAgMTIgMCBDMTIgMS42NSAxMiAzLjMgMTIgNSBDOC4wNCA1IDQuMDggNSAwIDUgQzAgMy4zNSAwIDEuNyAwIDAgWiAiIGZpbGw9IiMxRTcwQzEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1MTgsNzkpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuOTYgMCA3LjkyIDAgMTIgMCBDMTIgMS42NSAxMiAzLjMgMTIgNSBDOC4wNCA1IDQuMDggNSAwIDUgQzAgMy4zNSAwIDEuNyAwIDAgWiAiIGZpbGw9IiMxRjcwQzAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1MTgsNzIpIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuOTkgMCAxLjk4IDAgMyAwIEMzIDIuNjQgMyA1LjI4IDMgOCBDNS42NCA4IDguMjggOCAxMSA4IEMxMC42NyA4Ljk5IDEwLjM0IDkuOTggMTAgMTEgQzYuNyAxMSAzLjQgMTEgMCAxMSBDMCA3LjM3IDAgMy43NCAwIDAgWiAiIGZpbGw9IiNFODIwMjYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE3OTgsMTE2KSIvPgo8cGF0aCBkPSJNMCAwIEMwLjEyMTE3MTg4IDAuNjAzMjgxMjUgMC4yNDIzNDM3NSAxLjIwNjU2MjUgMC4zNjcxODc1IDEuODI4MTI1IEMwLjUzNDc2NTYzIDIuNjI3MzQzNzUgMC43MDIzNDM3NSAzLjQyNjU2MjUgMC44NzUgNC4yNSBDMS4wMzc0MjE4OCA1LjAzODkwNjI1IDEuMTk5ODQzNzUgNS44Mjc4MTI1IDEuMzY3MTg3NSA2LjY0MDYyNSBDMS45MTcxMzYxNyA5LjAxNDkwNDM4IDEuOTE3MTM2MTcgOS4wMTQ5MDQzOCAzLjA2MjUgMTEuMDkzNzUgQzQuMzcxMjUzNjQgMTMuNzU0ODgyNCA0LjEzMjY4NDUxIDE2LjA4MDk0MDc2IDQgMTkgQzMuMDEgMTkgMi4wMiAxOSAxIDE5IEMwLjcxMTI1IDE3Ljc4MzEyNSAwLjQyMjUgMTYuNTY2MjUgMC4xMjUgMTUuMzEyNSBDLTAuNDgzNjM3NyAxMi44NDMxNjk5MSAtMS4xMzkxMzY4MSAxMC42Njc2MTc2MyAtMi4xMjUgOC4zMTI1IEMtMy4xMDE2MzIyIDUuNzMxNDAwNjMgLTMuMTU2Mzg1NjggMy43MzY3NDk0NSAtMyAxIEMtMSAwIC0xIDAgMCAwIFogIiBmaWxsPSIjMEU2QzQ3IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzY4LDEwMikiLz4KPHBhdGggZD0iTTAgMCBDNC45NSAwIDkuOSAwIDE1IDAgQzE0LjM0IDEuMzIgMTMuNjggMi42NCAxMyA0IEM5LjA0IDQgNS4wOCA0IDEgNCBDMC42NyAyLjY4IDAuMzQgMS4zNiAwIDAgWiAiIGZpbGw9IiMxRTcwQzAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE2MTEsODcpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuNjI1NDM5MjIgMC41MTc5MTk4OSA3LjI1MDczNjc2IDEuMDM2Mzk3MjcgMTAuODc1IDEuNTYyNSBDMTIuOTMwODIyNzEgMS44NzcxMDUwMiAxMi45MzA4MjI3MSAxLjg3NzEwNTAyIDE1IDIgQzE1IDMuNjUgMTUgNS4zIDE1IDcgQzkuNTQ1MjA4MTUgNi40MzE3OTI1MiA1LjA4OTQwNzQ0IDUuMDUzNjIwNTUgMCAzIEMwIDIuMDEgMCAxLjAyIDAgMCBaICIgZmlsbD0iI0VFRjRGMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM5MSw3MykiLz4KPHBhdGggZD0iTTAgMCBDMy42MyAwIDcuMjYgMCAxMSAwIEMxMSAyLjMxIDExIDQuNjIgMTEgNyBDMTAuMzQgNyA5LjY4IDcgOSA3IEM5IDUuNjggOSA0LjM2IDkgMyBDNy4wMiAzIDUuMDQgMyAzIDMgQzIuNjcgNC4zMiAyLjM0IDUuNjQgMiA3IEMxLjM0IDcgMC42OCA3IDAgNyBDMCA0LjY5IDAgMi4zOCAwIDAgWiAiIGZpbGw9IiNFODIwMjYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE4MTMsMTIwKSIvPgo8cGF0aCBkPSJNMCAwIEM0LjI5IDAgOC41OCAwIDEzIDAgQzEzIDEuMzIgMTMgMi42NCAxMyA0IEM4LjcxIDQgNC40MiA0IDAgNCBDMCAyLjY4IDAgMS4zNiAwIDAgWiAiIGZpbGw9IiMxRjcwQzAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE2MjksODcpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuOTYgMCA3LjkyIDAgMTIgMCBDMTIuMzMgMS4zMiAxMi42NiAyLjY0IDEzIDQgQzguNzEgNCA0LjQyIDQgMCA0IEMwIDIuNjggMCAxLjM2IDAgMCBaICIgZmlsbD0iIzFFNzBDMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTU3Miw4NykiLz4KPHBhdGggZD0iTTAgMCBDMy40NDQ0NzI5OSAyLjkzNTIwOTUxIDMuNTc3ODc2MSA1LjI1NjU4Mjc0IDMuOTY0ODQzNzUgOS41OTc2NTYyNSBDMy45OTg0NTQwNiAxMS44OTQzNjEgMy43Mzc5MTUwOSAxMy44NzUxMjQzMyAzLjMxMjUgMTYuMTI1IEMyLjkwNDY5NjM3IDIxLjE4MTc2NSA0LjE4MDYwNDkgMjIuODk5MDYxNjcgNyAyNyBDNi4zNCAyNy4zMyA1LjY4IDI3LjY2IDUgMjggQy0wLjA2ODA5Mzg0IDIxLjI0ODM4NzEgLTAuMDY4MDkzODQgMjEuMjQ4Mzg3MSAwLjE4NzUgMTYuNTYyNSBDMC40NTU2MjUgMTUuMzg2ODc1IDAuNzIzNzUgMTQuMjExMjUgMSAxMyBDMS4wODIyOTE3IDExLjQzOTExMjI5IDEuMTIyNDQ1OTkgOS44NzU1NTMzNyAxLjEyNSA4LjMxMjUgQzEuMTI4ODY3MTkgNy4yMjM4ODY3MiAxLjEyODg2NzE5IDcuMjIzODg2NzIgMS4xMzI4MTI1IDYuMTEzMjgxMjUgQzAuOTk3ODA3MzIgMy45NjUxMTA1OSAwLjU4NzcyOTQgMi4wNjYzODE5NSAwIDAgWiAiIGZpbGw9IiNEMEUyREIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzgsNjMpIi8+CjxwYXRoIGQ9Ik0wIDAgQzQuMjkgMCA4LjU4IDAgMTMgMCBDMTIuNjcgMS4zMiAxMi4zNCAyLjY0IDEyIDQgQzguMDQgNCA0LjA4IDQgMCA0IEMwIDIuNjggMCAxLjM2IDAgMCBaICIgZmlsbD0iIzFFNzBDMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTU3Miw2NSkiLz4KPHBhdGggZD0iTTAgMCBDMCAwLjk5IDAgMS45OCAwIDMgQy0xLjU3OTY3ODA3IDMuNjc1MjgyMjMgLTMuMTYzOTE5MDMgNC4zMzk4OTY5NCAtNC43NSA1IEMtNi4wNzI1NzgxMyA1LjU1Njg3NSAtNi4wNzI1NzgxMyA1LjU1Njg3NSAtNy40MjE4NzUgNi4xMjUgQy0xMCA3IC0xMCA3IC0xNCA3IEMtMTQgNS42OCAtMTQgNC4zNiAtMTQgMyBDLTQuNTg5OTc3MjIgLTAuNDQ0MTkxMzQgLTQuNTg5OTc3MjIgLTAuNDQ0MTkxMzQgMCAwIFogIiBmaWxsPSIjRUZGNUYzIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzMxLDczKSIvPgo8cGF0aCBkPSJNMCAwIEMzLjk2IDAgNy45MiAwIDEyIDAgQzEyIDEuMzIgMTIgMi42NCAxMiA0IEM4LjA0IDQgNC4wOCA0IDAgNCBDMCAyLjY4IDAgMS4zNiAwIDAgWiAiIGZpbGw9IiMxRTcwQzAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1OTUsODcpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuOTYgMCA3LjkyIDAgMTIgMCBDMTIgMS4zMiAxMiAyLjY0IDEyIDQgQzguMDQgNCA0LjA4IDQgMCA0IEMwIDIuNjggMCAxLjM2IDAgMCBaICIgZmlsbD0iIzFFNzBDMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTU0OSw4NykiLz4KPHBhdGggZD0iTTAgMCBDMy45NiAwIDcuOTIgMCAxMiAwIEMxMiAxLjMyIDEyIDIuNjQgMTIgNCBDOC4wNCA0IDQuMDggNCAwIDQgQzAgMi42OCAwIDEuMzYgMCAwIFogIiBmaWxsPSIjMUU3MEMwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNTE4LDg3KSIvPgo8cGF0aCBkPSJNMCAwIEMzLjk2IDAgNy45MiAwIDEyIDAgQzEyIDEuMzIgMTIgMi42NCAxMiA0IEM4LjA0IDQgNC4wOCA0IDAgNCBDMCAyLjY4IDAgMS4zNiAwIDAgWiAiIGZpbGw9IiMxRTcwQzAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1NDksNjUpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuOTYgMCA3LjkyIDAgMTIgMCBDMTIgMS4zMiAxMiAyLjY0IDEyIDQgQzguMDQgNCA0LjA4IDQgMCA0IEMwIDIuNjggMCAxLjM2IDAgMCBaICIgZmlsbD0iIzFFNzBDMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUxOCw2NSkiLz4KPHBhdGggZD0iTTAgMCBDMy4zNzQ2MjcxNSAwLjU0NzIzNjgzIDUuMDgyMzUgMS4wNTQ5IDggMyBDNy4zNCA0Ljk4IDYuNjggNi45NiA2IDkgQzQgOCAyIDcgMCA2IEMwIDQuMDIgMCAyLjA0IDAgMCBaICIgZmlsbD0iIzFENzY1MiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM5Myw5MykiLz4KPHBhdGggZD0iTTAgMCBDMCAzIDAgMyAtMSA1IEMtMS4yMTM3NzcyMSAxMC42MDcwMzIxMyAtMS4yMTM3NzcyMSAxMC42MDcwMzIxMyAwIDE2IEMwLjEyNzgxNzg2IDE4LjY3Mzk0OTY0IDAuMDQzOTE4NzEgMjEuMzIwOTU4NTcgMCAyNCBDLTAuNjYgMjQgLTEuMzIgMjQgLTIgMjQgQy0zLjcyNzI5MzA0IDE3LjI5MDY3OTkxIC00Ljc4MjM1NDYyIDEwLjgxODQwMzYgLTMgNCBDLTEuNDQ5MjE4NzUgMS43MTA5Mzc1IC0xLjQ0OTIxODc1IDEuNzEwOTM3NSAwIDAgWiAiIGZpbGw9IiNEOUU4RTIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNDgsNjApIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuMzMgMCAwLjY2IDAgMSAwIEMxIDEuNjUgMSAzLjMgMSA1IEMxLjg4Njg3NSA0LjY5MDYyNSAyLjc3Mzc1IDQuMzgxMjUgMy42ODc1IDQuMDYyNSBDOS4xNjA2NzE0NiAyLjMwNjk1NDQ0IDkuMTYwNjcxNDYgMi4zMDY5NTQ0NCAxMiAyIEMxMi45OSAyLjY2IDEzLjk4IDMuMzIgMTUgNCBDMTQuNjcgNC42NiAxNC4zNCA1LjMyIDE0IDYgQzExLjY4MDI1NzY2IDYuNDE3NTUzNjIgOS4zNDIxNDIwNyA2LjczNTU2NDYgNyA3IEM1LjA1MDkzNzUgNy4yNzg0Mzc1IDUuMDUwOTM3NSA3LjI3ODQzNzUgMy4wNjI1IDcuNTYyNSBDMi4wNTE4NzUgNy43MDY4NzUgMS4wNDEyNSA3Ljg1MTI1IDAgOCBDMCA1LjM2IDAgMi43MiAwIDAgWiAiIGZpbGw9IiMxODcyNEUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzMTcsNjgpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuMzMzMzMzMzMgMCA2LjY2NjY2NjY3IDAgMTAgMCBDMTAgMS45OCAxMCAzLjk2IDEwIDYgQzcuMzYgNiA0LjcyIDYgMiA2IEMyIDQuNjggMiAzLjM2IDIgMiBDMS4zNCAyIDAuNjggMiAwIDIgQzAgMS4zNCAwIDAuNjggMCAwIFogIiBmaWxsPSIjMDA2NDNDIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzg1LDExNykiLz4KPHBhdGggZD0iTTAgMCBDMi45NyAwIDUuOTQgMCA5IDAgQzguNjcgMS42NSA4LjM0IDMuMyA4IDUgQzUuNjkgNSAzLjM4IDUgMSA1IEMwLjY3IDMuMzUgMC4zNCAxLjcgMCAwIFogIiBmaWxsPSIjMUU3MEMxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNjE0LDk0KSIvPgo8cGF0aCBkPSJNMCAwIEMwIDAuOTkgMCAxLjk4IDAgMyBDLTMuNjMgNC4zMiAtNy4yNiA1LjY0IC0xMSA3IEMtMTEuMzMgNS42OCAtMTEuNjYgNC4zNiAtMTIgMyBDLTEwLjc1MzM2NjY5IDIuNDkxNjY0MDkgLTkuNTAyNTA2MTMgMS45OTM2ODg1NSAtOC4yNSAxLjUgQy03LjU1MzkwNjI1IDEuMjIxNTYyNSAtNi44NTc4MTI1IDAuOTQzMTI1IC02LjE0MDYyNSAwLjY1NjI1IEMtNCAwIC00IDAgMCAwIFogIiBmaWxsPSIjRUZGNUYyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzI5LDgwKSIvPgo8cGF0aCBkPSJNMCAwIEMxLjA3MDc3Mzc1IDMuMjEyMzIxMjUgMSA1LjYzOTM3ODA3IDEgOSBDMS4zMyA5Ljk5IDEuNjYgMTAuOTggMiAxMiBDMS4wMSAxMiAwLjAyIDEyIC0xIDEyIEMtMS4zMyAxMC4zNSAtMS42NiA4LjcgLTIgNyBDLTMuOTggNyAtNS45NiA3IC04IDcgQy03LjIzNjg3NSA2LjQwMTg3NSAtNi40NzM3NSA1LjgwMzc1IC01LjY4NzUgNS4xODc1IEMtMy42NTE2NDI1IDMuNTMwNDA2NjggLTEuODAyMTcyMSAxLjg5NzAyMzI2IDAgMCBaICIgZmlsbD0iIzBENkI0NSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM2OCw3NSkiLz4KPHBhdGggZD0iTTAgMCBDMS4yMDE1NzEzMSAzLjYwNDcxMzkzIDEuNTQ5ODEzNDggNy4xMTUwMzA4OCAxLjg3NSAxMC44NzUgQzEuOTYwMDc4MTMgMTEuNTgyNjk1MzEgMi4wNDUxNTYyNSAxMi4yOTAzOTA2MyAyLjEzMjgxMjUgMTMuMDE5NTMxMjUgQzIuNDc2OTI2MjggMTcuMjE5MjgzNTEgMi4yMzk3Mzc5MiAxOC43MTA2NjExMyAtMC40OTIxODc1IDIyLjAwNzgxMjUgQy0xLjMxOTc2NTYyIDIyLjY2NTIzNDM3IC0yLjE0NzM0Mzc1IDIzLjMyMjY1NjI1IC0zIDI0IEMtMi4xMjUgMjAuMTI1IC0yLjEyNSAyMC4xMjUgLTEgMTkgQy0wLjkzOTY4OTYzIDE1LjM4NTE0NzQyIC0wLjk4MDA1NDkzIDExLjc4NDEzNTc2IC0xLjAzOTA2MjUgOC4xNjk5MjE4OCBDLTEuMTAwMTMzMTUgMi4yMDAyNjYyOSAtMS4xMDAxMzMxNSAyLjIwMDI2NjI5IDAgMCBaICIgZmlsbD0iI0RERUFFNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM0Miw2NSkiLz4KPHBhdGggZD0iTTAgMCBDMSAyIDEgMiAwLjkzNzUgNS42ODc1IEMwLjg2OTQ3NzA3IDkuODIxNzgyMyAxLjY5NjU0Mzg5IDEzLjA4OTYzMTY4IDMgMTcgQzIuMzQgMTcgMS42OCAxNyAxIDE3IEMwLjY3IDE4LjMyIDAuMzQgMTkuNjQgMCAyMSBDLTEuMzk3NzM2NjEgMTQuOTA5ODYxOSAtMi40MzkxOTg3NCA5LjI1ODU4MjExIC0yIDMgQy0xLjM0IDIuMDEgLTAuNjggMS4wMiAwIDAgWiAiIGZpbGw9IiMyMTc4NTUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNDgsNjIpIi8+CjxwYXRoIGQ9Ik0wIDAgQzQuMTk0Njk1NzEgMC41OTkyNDIyNCA4LjAwOTk5ODM0IDEuNTc0OTk5NDEgMTIgMyBDMTIgMy45OSAxMiA0Ljk4IDEyIDYgQzcuNjgyMjU0MiA1LjQ5MjAyOTkxIDMuOTY2OTc4ODYgNC44MDMxNzIyMSAwIDMgQzAgMi4wMSAwIDEuMDIgMCAwIFogIiBmaWxsPSIjRTdGMEVDIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzkzLDgwKSIvPgo8cGF0aCBkPSJNMCAwIEMxLjY3NTQyOTc2IDAuMjg2MDQ4OTggMy4zNDM4NTM0MyAwLjYxNzgxMjMzIDUgMSBDNS44NDY4MTEzMyA2LjA4MDg2Nzk2IDYuMDkwMzgwOTkgMTAuODQ4MjgzNzcgNiAxNiBDNS4zNCAxNiA0LjY4IDE2IDQgMTYgQzMuOTUxMDE1NjMgMTUuNDA4MzIwMzEgMy45MDIwMzEyNSAxNC44MTY2NDA2MyAzLjg1MTU2MjUgMTQuMjA3MDMxMjUgQzMuMjYxOTU4IDcuODg5NzQ5MDkgMy4yNjE5NTggNy44ODk3NDkwOSAxIDIgQzAuMzQgMS42NyAtMC4zMiAxLjM0IC0xIDEgQy0wLjY3IDAuNjcgLTAuMzQgMC4zNCAwIDAgWiAiIGZpbGw9IiMxNzcyNEUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzAsNTcpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuNjA4ODEzMSAwLjgzNTA2MTE3IDMuNjA4ODEzMSAwLjgzNTA2MTE3IDUuODEyNSAtMC41IEM1LjgxMjUgMS4xNSA1LjgxMjUgMi44IDUuODEyNSA0LjUgQzMuNDc5MTY2NjcgNC4xNjY2NjY2NyAxLjE0NTgzMzMzIDMuODMzMzMzMzMgLTEuMTg3NSAzLjUgQy0yLjQ2NjI1IDMuMzU1NjI1IC0zLjc0NSAzLjIxMTI1IC01LjA2MjUgMy4wNjI1IEMtNi4wOTM3NSAyLjg3Njg3NSAtNy4xMjUgMi42OTEyNSAtOC4xODc1IDIuNSBDLTguNTE3NSAxLjg0IC04Ljg0NzUgMS4xOCAtOS4xODc1IDAuNSBDLTUuOTIyMjU5MDcgLTAuNDE4MzQ5MDEgLTMuMzE1NTMyMDkgLTAuNDc3MDk4NDIgMCAwIFogIiBmaWxsPSIjMUI3NDUxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzk5LjE4NzUsNzEuNSkiLz4KPHBhdGggZD0iTTAgMCBDMi45NyAwIDUuOTQgMCA5IDAgQzguNjcgMS4zMiA4LjM0IDIuNjQgOCA0IEM1LjAzIDQgMi4wNiA0IC0xIDQgQy0wLjY3IDIuNjggLTAuMzQgMS4zNiAwIDAgWiAiIGZpbGw9IiNEQ0VERTIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIwNDAsOTIpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuOTYgMCA3LjkyIDAgMTIgMCBDMTEuNjcgMC45OSAxMS4zNCAxLjk4IDExIDMgQzcuNyAzIDQuNCAzIDEgMyBDMC42NyAyLjAxIDAuMzQgMS4wMiAwIDAgWiAiIGZpbGw9IiNFNzIwMjYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE3NjYsMTIwKSIvPgo8cGF0aCBkPSJNMCAwIEMzLjk2IDAgNy45MiAwIDEyIDAgQzExLjY3IDAuOTkgMTEuMzQgMS45OCAxMSAzIEM3LjcgMyA0LjQgMyAxIDMgQzAuNjcgMi4wMSAwLjM0IDEuMDIgMCAwIFogIiBmaWxsPSIjRTkyMDI2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNzY2LDExNikiLz4KPHBhdGggZD0iTTAgMCBDOS40MTAwMjI3OCAtMC4zNjkwMjA1IDkuNDEwMDIyNzggLTAuMzY5MDIwNSAxNCAyIEMxNCAzLjY1IDE0IDUuMyAxNCA3IEMxMy41MDUgNi41MjU2MjUgMTMuMDEgNi4wNTEyNSAxMi41IDUuNTYyNSBDOS45MzI3MzUyOSAzLjk1Nzk1OTU1IDguODAwMzY5MDkgMy43NDk5ODYwOSA1Ljg3NSAzLjUgQzQuNTk2MjUgMy4zMzUgMy4zMTc1IDMuMTcgMiAzIEMxLjM0IDIuMDEgMC42OCAxLjAyIDAgMCBaICIgZmlsbD0iIzNEODk2QiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM1Niw1NSkiLz4KPHBhdGggZD0iTTAgMCBDMC4yODQ4ODI4MSAwLjU3NDkyMTg4IDAuNTY5NzY1NjIgMS4xNDk4NDM3NSAwLjg2MzI4MTI1IDEuNzQyMTg3NSBDMS41OTM5MzI5NyAzLjE5MzQ0NzYyIDIuMzQwMTUwNTEgNC42MzcwMzEgMy4xMDU0Njg3NSA2LjA3MDMxMjUgQzMuNDYyNTM5MDYgNi43NDgzNTkzOCAzLjgxOTYwOTM4IDcuNDI2NDA2MjUgNC4xODc1IDguMTI1IEM0LjU1MjMwNDY5IDguODA4MjAzMTMgNC45MTcxMDkzOCA5LjQ5MTQwNjI1IDUuMjkyOTY4NzUgMTAuMTk1MzEyNSBDNS41MjYyODkwNiAxMC43OTA4NTkzNyA1Ljc1OTYwOTM4IDExLjM4NjQwNjI1IDYgMTIgQzUuNjcgMTIuNjYgNS4zNCAxMy4zMiA1IDE0IEM0LjM0IDE0IDMuNjggMTQgMyAxNCBDLTEuMDc4Nzc0NjIgNS45NjQ5ODkwNiAtMS4wNzg3NzQ2MiA1Ljk2NDk4OTA2IC0wLjc1IDEuOTM3NSBDLTAuNTAyNSAxLjI5ODEyNSAtMC4yNTUgMC42NTg3NSAwIDAgWiAiIGZpbGw9IiMwQzZCNDUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzgsMTAzKSIvPgo8cGF0aCBkPSJNMCAwIEMzLjk2IDAgNy45MiAwIDEyIDAgQzExLjAxIDEuNDg1IDExLjAxIDEuNDg1IDEwIDMgQzguMTI1IDMuMzI4MTI1IDguMTI1IDMuMzI4MTI1IDYgMy4yNSBDNS4yOTg3NSAzLjIzNDUzMTI1IDQuNTk3NSAzLjIxOTA2MjUgMy44NzUgMy4yMDMxMjUgQzIgMyAyIDMgMCAyIEMwIDEuMzQgMCAwLjY4IDAgMCBaICIgZmlsbD0iI0U4MjAyNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTc2NiwxMjQpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuNjMgMCA3LjI2IDAgMTEgMCBDMTAuNjcgMC45OSAxMC4zNCAxLjk4IDEwIDMgQzcuMDMgMyA0LjA2IDMgMSAzIEMwLjY3IDIuMDEgMC4zNCAxLjAyIDAgMCBaICIgZmlsbD0iI0U4MjAyNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTgxMywxMTYpIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuNDk1IDAuMzkxODc1IDAuOTkgMC43ODM3NSAxLjUgMS4xODc1IEMwLjE2NjY2NjY3IDEuODU0MTY2NjcgLTEuMTY2NjY2NjcgMi41MjA4MzMzMyAtMi41IDMuMTg3NSBDLTMuNDkgMy43NDQzNzUgLTMuNDkgMy43NDQzNzUgLTQuNSA0LjMxMjUgQy02LjUgNS4xODc1IC02LjUgNS4xODc1IC0xMC41IDUuMTg3NSBDLTEwLjUgNC4xOTc1IC0xMC41IDMuMjA3NSAtMTAuNSAyLjE4NzUgQy0zLjI4Nzc0NjE3IC0xLjA2ODUxNzUxIC0zLjI4Nzc0NjE3IC0xLjA2ODUxNzUxIDAgMCBaICIgZmlsbD0iIzEyNkY0QSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTMyNy41LDc3LjgxMjUpIi8+CjxwYXRoIGQ9Ik0wIDAgQzIuNjQgMCA1LjI4IDAgOCAwIEM3LjY3IDEuMzIgNy4zNCAyLjY0IDcgNCBDNC42OSA0IDIuMzggNCAwIDQgQzAgMi42OCAwIDEuMzYgMCAwIFogIiBmaWxsPSIjRDdFQkRFIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMDA5LDk2KSIvPgo8cGF0aCBkPSJNMCAwIEMzLjU1NzgwMTk2IDAuNjA5OTA4OTEgNi42ODI4NTg5IDEuNTc4MzY4MSAxMCAzIEM5LjY3IDMuOTkgOS4zNCA0Ljk4IDkgNiBDNS44NTI2MjgxOCA1LjMwMDU4NDA0IDIuOTc0MTExMjQgNC4yMzkyMTMwMiAwIDMgQzAgMi4wMSAwIDEuMDIgMCAwIFogIiBmaWxsPSIjREZFQkU2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzk0LDg3KSIvPgo8cGF0aCBkPSJNMCAwIEMtMSAzIC0xIDMgLTIuODQ3NjU2MjUgNC4xNjc5Njg3NSBDLTMuNTc4NTU0NjkgNC41MDQ0MTQwNiAtNC4zMDk0NTMxMiA0Ljg0MDg1OTM3IC01LjA2MjUgNS4xODc1IEMtNS43OTU5NzY1NiA1LjUzMTY3OTY5IC02LjUyOTQ1MzEyIDUuODc1ODU5MzggLTcuMjg1MTU2MjUgNi4yMzA0Njg3NSBDLTguMTM0MDAzOTEgNi42MTEzODY3MiAtOC4xMzQwMDM5MSA2LjYxMTM4NjcyIC05IDcgQy05LjMzIDUuNjggLTkuNjYgNC4zNiAtMTAgMyBDLTYuMjcwMzQ4NjEgMC45NjU2NDQ2OSAtNC4zMzA5NDk1OCAwIDAgMCBaICIgZmlsbD0iI0U4RjFFRCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTMyOCw4NykiLz4KPHBhdGggZD0iTTAgMCBDMi4zOTI3MzIzNSAzLjU4OTA5ODUzIDMuMTUzMTA5ODYgNS4yNjMxMzQ3OCAzLjE4NzUgOS41IEMzLjIwMTY3OTY5IDEwLjI5NDA2MjUgMy4yMTU4NTkzOCAxMS4wODgxMjUgMy4yMzA0Njg3NSAxMS45MDYyNSBDMyAxNCAzIDE0IDEgMTYgQy0wLjE1NzAzOTggMTIuNTI4ODgwNTkgLTAuMDMzOTY0ODkgOS43NzM2ODM0NiAwLjA2MjUgNi4xNTYyNSBDMC4wOTg0MjE3OSAzLjgxNDI1MTIzIDAuMDk4NDIxNzkgMy44MTQyNTEyMyAtMSAxIEMtMC42NyAwLjY3IC0wLjM0IDAuMzQgMCAwIFogIiBmaWxsPSIjMjI3OTU2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzc3LDYyKSIvPgo8cGF0aCBkPSJNMCAwIEMwLjY2IDAuMzMgMS4zMiAwLjY2IDIgMSBDMS4zNCAzLjk3IDAuNjggNi45NCAwIDEwIEMtMC45OSA5LjY3IC0xLjk4IDkuMzQgLTMgOSBDLTIuNDQyNzEwODcgNS42NTYyNjUyNSAtMS42NDgyNjExMSAyLjk2Njg3MDAxIDAgMCBaICIgZmlsbD0iI0RDRUFFNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM0NCwxMDgpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuMjcyODY2ODIgMi43ODE5MzY4IDQuOTY0Mjc2OTcgNi4yNzk1NDA2NyA3IDEwIEM2LjAxIDEwLjMzIDUuMDIgMTAuNjYgNCAxMSBDMy4zMjU5MTY5MiA5LjczMzA4NDkzIDIuNjYwOTk1MDMgOC40NjEyOTI1MSAyIDcuMTg3NSBDMS42Mjg3NSA2LjQ3OTgwNDY5IDEuMjU3NSA1Ljc3MjEwOTM3IDAuODc1IDUuMDQyOTY4NzUgQzAgMyAwIDMgMCAwIFogIiBmaWxsPSIjRDVFNURGIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzc5LDEwNCkiLz4KPHBhdGggZD0iTTAgMCBDMi42NCAwIDUuMjggMCA4IDAgQzcuMzQgMS4zMiA2LjY4IDIuNjQgNiA0IEMzLjAzIDMuNTA1IDMuMDMgMy41MDUgMCAzIEMwIDIuMDEgMCAxLjAyIDAgMCBaICIgZmlsbD0iI0ZDRkRGQyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjAzOCw5OSkiLz4KPHBhdGggZD0iTTAgMCBDMCAwLjk5IDAgMS45OCAwIDMgQy0zLjQ2NSA0LjQ4NSAtMy40NjUgNC40ODUgLTcgNiBDLTcuMzMgNS4wMSAtNy42NiA0LjAyIC04IDMgQy0zLjM3NSAwIC0zLjM3NSAwIDAgMCBaICIgZmlsbD0iI0Q2RTZERiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTMyOSw5MykiLz4KPHBhdGggZD0iTTAgMCBDLTAuNzUgNy43NSAtMC43NSA3Ljc1IC0zIDEwIEMtNC40NzgzMjI2IDcuMDQzMzU0ODEgLTQuMDYwMzI3ODMgNC4yNTc3MDI2MyAtNCAxIEMtMiAwIC0yIDAgMCAwIFogIiBmaWxsPSIjMkM3RTVEIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzcyLDY2KSIvPgo8cGF0aCBkPSJNMCAwIEMwLjkzMDQ1OTMzIDIuNTUxNDQ4MjQgMS4wODU2NDA5MSAzLjc0MDA2NDc4IDAuMjIyNjU2MjUgNi4zNTkzNzUgQy0wLjE2MDE5NTMxIDcuMTQ4MjgxMjUgLTAuNTQzMDQ2ODggNy45MzcxODc1IC0wLjkzNzUgOC43NSBDLTEuNTA3OTEwMTYgOS45NDg4MjgxMyAtMS41MDc5MTAxNiA5Ljk0ODgyODEzIC0yLjA4OTg0Mzc1IDExLjE3MTg3NSBDLTIuMzkwMTk1MzEgMTEuNzc1MTU2MjUgLTIuNjkwNTQ2ODggMTIuMzc4NDM3NSAtMyAxMyBDLTMuNjYgMTIuNjcgLTQuMzIgMTIuMzQgLTUgMTIgQy00LjQ2MjMxMTI4IDguMTI4NjQxMiAtMy40MjI1MjcgNi4wMjgxNTg3NSAtMSAzIEMtMC42NyAyLjAxIC0wLjM0IDEuMDIgMCAwIFogIiBmaWxsPSIjRENFOUU0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzQyLDEwMykiLz4KPHBhdGggZD0iTTAgMCBDMC45OSAwLjMzIDEuOTggMC42NiAzIDEgQzIuNTQ2MjUgMS43NDI1IDIuMDkyNSAyLjQ4NSAxLjYyNSAzLjI1IEMwLjMxMzU5MjA0IDUuNDY5MzA1NzggLTAuODgyODA4MDMgNy42Nzk2NzgyMiAtMiAxMCBDLTMuMDYzNTE2NzUgNi42MTYwODMwNyAtMy4yMTQ0Mjk4MiA1LjQxOTUzNjYgLTEuNTYyNSAyLjE4NzUgQy0xLjA0Njg3NSAxLjQ2NTYyNSAtMC41MzEyNSAwLjc0Mzc1IDAgMCBaICIgZmlsbD0iI0RCRTlFMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM3OCw5NikiLz4KPHBhdGggZD0iTTAgMCBDMCAwLjk5IDAgMS45OCAwIDMgQy0yLjUgNC42ODc1IC0yLjUgNC42ODc1IC01IDYgQy01LjY2IDUuMDEgLTYuMzIgNC4wMiAtNyAzIEMtMy4zNzUgMCAtMy4zNzUgMCAwIDAgWiAiIGZpbGw9IiMwRDZDNDYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzMjksOTYpIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuNjYgMCAxLjMyIDAgMiAwIEMyIDAuNjYgMiAxLjMyIDIgMiBDMy4zMiAyIDQuNjQgMiA2IDIgQzYgMi42NiA2IDMuMzIgNiA0IEM0LjY4IDQgMy4zNiA0IDIgNCBDMS42NyA1LjMyIDEuMzQgNi42NCAxIDggQy0wLjM1NDM5NjY4IDUuMjkxMjA2NjUgLTAuMDY1MDE0NTEgMi45OTA2NjczMiAwIDAgWiAiIGZpbGw9IiMxOTczNEYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNTAsNjQpIi8+CjxwYXRoIGQ9Ik0wIDAgQzEuMzIgMC42NiAyLjY0IDEuMzIgNCAyIEM0IDIuOTkgNCAzLjk4IDQgNSBDMSA1IDEgNSAtMC42ODc1IDMuNSBDLTEuMTIwNjI1IDMuMDA1IC0xLjU1Mzc1IDIuNTEgLTIgMiBDLTEuMzQgMS4zNCAtMC42OCAwLjY4IDAgMCBaICIgZmlsbD0iIzE1NzI0QyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM5MiwxMDEpIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuOTkgMC4zMyAxLjk4IDAuNjYgMyAxIEMyLjM0IDMuOTcgMS42OCA2Ljk0IDEgMTAgQzAuMDEgOS4wMSAtMC45OCA4LjAyIC0yIDcgQy0xLjM0IDQuNjkgLTAuNjggMi4zOCAwIDAgWiAiIGZpbGw9IiMyOTdENUIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzMsNzMpIi8+CjxwYXRoIGQ9Ik0wIDAgQzIgMC42NjY2NjY2NyA0IDEuMzMzMzMzMzMgNiAyIEM1LjY3IDIuNjYgNS4zNCAzLjMyIDUgNCBDMi4zNTEzOTU3MyA0LjU5MzU1NjE0IC0wLjI5MTk3MzIyIDQuNzQyMDkyNjkgLTMgNSBDLTIuNjI1IDMuMDYyNSAtMi42MjUgMy4wNjI1IC0yIDEgQy0xLjM0IDAuNjcgLTAuNjggMC4zNCAwIDAgWiAiIGZpbGw9IiMzMzgzNjMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzMjYsNzApIi8+CjxwYXRoIGQ9Ik0wIDAgQzIuMzEgMCA0LjYyIDAgNyAwIEM3IDEuMzIgNyAyLjY0IDcgNCBDNS42OCA0IDQuMzYgNCAzIDQgQzMgMy4zNCAzIDIuNjggMyAyIEMyLjAxIDIgMS4wMiAyIDAgMiBDMCAxLjM0IDAgMC42OCAwIDAgWiAiIGZpbGw9IiM2N0EyOEEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNTMsNjQpIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuOTkgMCAxLjk4IDAgMyAwIEMyLjY4NzUgMS44NzUgMi42ODc1IDEuODc1IDIgNCBDMS4wMSA0LjY2IDAuMDIgNS4zMiAtMSA2IEMtMS42MjUgNC4xMjUgLTEuNjI1IDQuMTI1IC0yIDIgQy0xLjM0IDEuMzQgLTAuNjggMC42OCAwIDAgWiAiIGZpbGw9IiMxNDcwNEIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzMjgsMTAxKSIvPgo8cGF0aCBkPSJNMCAwIEM0Ljc1IDEuODc1IDQuNzUgMS44NzUgNyAzIEM2LjY3IDMuOTkgNi4zNCA0Ljk4IDYgNiBDMy45NjE2NjU3NiA0LjcyNjA0MTEgMS45NjE0Nzg3NCAzLjM4OTM4MDc3IDAgMiBDMCAxLjM0IDAgMC42OCAwIDAgWiAiIGZpbGw9IiNFOEYxRUUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzOTQsOTMpIi8+CjxwYXRoIGQ9Ik0wIDAgQzEuOTggMCAzLjk2IDAgNiAwIEM2IDAuOTkgNiAxLjk4IDYgMyBDMy42OSAzIDEuMzggMyAtMSAzIEMtMC42NyAyLjAxIC0wLjM0IDEuMDIgMCAwIFogIiBmaWxsPSIjRjhGQkY5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMDEyLDkwKSIvPgo8cGF0aCBkPSJNMCAwIEMwLjMzIDEuMzIgMC42NiAyLjY0IDEgNCBDMS42NiA0IDIuMzIgNCAzIDQgQzMuNjYgNS42NSA0LjMyIDcuMyA1IDkgQzMuMDYyNSA4LjYyNSAzLjA2MjUgOC42MjUgMSA4IEMtMC4zNTQzOTY2OCA1LjI5MTIwNjY1IC0wLjA2NTAxNDUxIDIuOTkwNjY3MzIgMCAwIFogIiBmaWxsPSIjRDRFNERFIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzY4LDc4KSIvPgo8cGF0aCBkPSJNMCAwIEMwLjk5IDAuMzMgMS45OCAwLjY2IDMgMSBDMi4zNCAzLjMxIDEuNjggNS42MiAxIDggQzAuMzQgOCAtMC4zMiA4IC0xIDggQy0xLjEyNSAyLjI1IC0xLjEyNSAyLjI1IDAgMCBaICIgZmlsbD0iI0VGRjVGMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM3MCw3NCkiLz4KPHBhdGggZD0iTTAgMCBDMi4wMDcyMDkyMyAwLjI4Njc0NDE4IDQuMDA4NTk0NCAwLjYxODY2NzAxIDYgMSBDNiAxLjY2IDYgMi4zMiA2IDMgQzQuMzUgMyAyLjcgMyAxIDMgQzEgMy45OSAxIDQuOTggMSA2IEMwLjM0IDYgLTAuMzIgNiAtMSA2IEMtMS4wNDI3MjEgNC4zMzM4ODA5NSAtMS4wNDA2MzgzMiAyLjY2NjE3MTE1IC0xIDEgQy0wLjY3IDAuNjcgLTAuMzQgMC4zNCAwIDAgWiAiIGZpbGw9IiM3MkE5OTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNjMsNjMpIi8+CjxwYXRoIGQ9Ik0wIDAgQzEuOTM3NSAwLjY4NzUgMS45Mzc1IDAuNjg3NSA0IDIgQzQuNzUgNC42MjUgNC43NSA0LjYyNSA1IDcgQzQuMzQgNyAzLjY4IDcgMyA3IEMwIDIuNjE1Mzg0NjIgMCAyLjYxNTM4NDYyIDAgMCBaICIgZmlsbD0iIzBDNkI0NSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM1MSw5NykiLz4KPHBhdGggZD0iTTAgMCBDMS4zMiAwIDIuNjQgMCA0IDAgQzQgMC45OSA0IDEuOTggNCAzIEMyLjAyIDMuNjYgMC4wNCA0LjMyIC0yIDUgQy0xLjM0IDMuMzUgLTAuNjggMS43IDAgMCBaICIgZmlsbD0iI0U2RjBFQyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTMyNSw4MCkiLz4KPHBhdGggZD0iTTAgMCBDMS4zMiAwIDIuNjQgMCA0IDAgQzMuNjcgMS4zMiAzLjM0IDIuNjQgMyA0IEMyLjAxIDQgMS4wMiA0IDAgNCBDMCAyLjY4IDAgMS4zNiAwIDAgWiAiIGZpbGw9IiMwMDg0MjgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIxNjksODcpIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuOTkgMCAxLjk4IDAgMyAwIEMyLjM0IDEuMzIgMS42OCAyLjY0IDEgNCBDMC42NyAyLjY4IDAuMzQgMS4zNiAwIDAgWiAiIGZpbGw9IiMxRTcwQzEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE2MTcsMTAyKSIvPgo8L3N2Zz4K" style="
            width: 742.5px;
            position: relative;
            top: 107px;
            left: 32px;
            ">
            <a href=`+XS+` style="
        float: left;
        border-radius: 56px;
        background: #0D6EFD;
        padding-top: 8px;
        width: 280px;
        height: 38px;
        text-align: center;
        position: relative;
        top: 127px;
        left: 274px;
        font-size: 16px;
        color: white;
        text-decoration: none;
        letter-spacing: 0.02em;
    ">Claim your FREE account</a>
            <div style="
    font-size: 14px;
    position: relative;
    top: 180px;
    left: 19px;
    letter-spacing: 0.02em;
    font-weight: 500;
    line-height: 125%;
">have a Syncfusion<sup></sup> account? <a href="https://www.syncfusion.com/account/login?ReturnUrl=/account/login" style="text-decoration: none;
color: #0D6EFD;
font-weight: 500;">Sign In</a></div>
        </div>
    </div>`;if(typeof document<"u"&&!p(document)){var e=Be("div",{innerHTML:r});document.body.appendChild(e)}},j$=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Uf=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},eC=0,wM,Rx=0,xM=0,jx=!0,Px=!1,rr=function(r){j$(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.randomId=F8(),n.isStringTemplate=!1,n.needsID=!1,n.isReactHybrid=!1,n.isAngular=!1,n.isReact=!1,n.isVue=!1,p(n.enableRtl)&&n.setProperties({enableRtl:x$},!0),p(n.locale)&&n.setProperties({locale:Sp},!0),n.moduleLoader=new d$(n),n.localObserver=new ey(n),JS.on("notifyExternalChange",n.detectFunction,n,n.randomId),typeof window<"u"&&typeof document<"u"&&!O$(n.getModuleName())&&A$.indexOf(n.getModuleName())!==-1&&(xM=xM+1,xM>5&&(jx=!1)),Je(i)||n.appendTo(),n}return e.prototype.requiredModules=function(){return[]},e.prototype.destroy=function(){this.isDestroyed||(this.enablePersistence&&(this.setPersistData(),this.detachUnloadEvent()),this.localObserver.destroy(),!this.refreshing&&(ue([this.element],["e-control"]),this.trigger("destroyed",{cancel:!1}),r.prototype.destroy.call(this),this.moduleLoader.clean(),JS.off("notifyExternalChange",this.detectFunction,this.randomId)))},e.prototype.refresh=function(){this.refreshing=!0,this.moduleLoader.clean(),this.destroy(),this.clearChanges(),this.enablePersistence&&this.attachUnloadEvent(),this.localObserver=new ey(this),this.preRender(),this.injectModules(),this.render(),this.refreshing=!1},e.prototype.accessMount=function(){this.mount&&!this.isReactHybrid&&this.mount()},e.prototype.getRootElement=function(){return this.isReactHybrid?this.actualElement:this.element},e.prototype.getLocalData=function(){var t=this.getModuleName()+this.element.id;return window.localStorage.getItem(t)},e.prototype.attachUnloadEvent=function(){this.handleUnload=this.handleUnload.bind(this),window.addEventListener("pagehide",this.handleUnload)},e.prototype.handleUnload=function(){this.setPersistData()},e.prototype.detachUnloadEvent=function(){window.removeEventListener("pagehide",this.handleUnload)},e.prototype.appendTo=function(t){if(!p(t)&&typeof t=="string"?this.element=ii(t,document):p(t)||(this.element=t),!p(this.element)){var i="e-"+this.getModuleName().toLowerCase();Z([this.element],["e-control",i]),this.isProtectedOnChange=!1,this.needsID&&!this.element.id&&(this.element.id=this.getUniqueID(this.getModuleName())),this.enablePersistence&&(this.mergePersistData(),this.attachUnloadEvent());var n=H("ej2_instances",this.element);(!n||n.indexOf(this)===-1)&&r.prototype.addInstance.call(this),this.preRender(),this.injectModules();var s={schedule:"all",diagram:"all",PdfViewer:"all",grid:["logger"],richtexteditor:["link","table","image","audio","video","formatPainter","emojiPicker","pasteCleanup","htmlEditor","toolbar","importExport","codeBlock","clipBoardCleanup","aiAssistant","autoFormat"],treegrid:["filter"],gantt:["tooltip"],chart:["Export","Zoom"],accumulationchart:["Export"],"query-builder":"all"},o=this.getModuleName();if(this.requiredModules&&(!s[""+o]||s[""+o]!=="all"))for(var a=this.requiredModules(),l=0,h=this.moduleLoader.getNonInjectedModules(a);l<h.length;l++){var u=h[l],c=u.name?u.name:u.member;if(!(s[""+o]&&s[""+o].indexOf(u.member)!==-1)){var d=o.charAt(0).toUpperCase()+o.slice(1);console.warn('[WARNING] :: Module "'+c+'" is not available in '+d+" component! You either misspelled the module name or forgot to load it.")}}!jx&&!Px&&(R$(),Px=!0),this.render(),this.mount?this.accessMount():this.trigger("created")}},e.prototype.renderComplete=function(t){this.isRendered=!0},e.prototype.dataBind=function(){this.injectModules(),r.prototype.dataBind.call(this)},e.prototype.on=function(t,i,n){if(typeof t=="string")this.localObserver.on(t,i,n);else for(var s=0,o=t;s<o.length;s++){var a=o[s];this.localObserver.on(a.event,a.handler,a.context)}},e.prototype.off=function(t,i){if(typeof t=="string")this.localObserver.off(t,i);else for(var n=0,s=t;n<s.length;n++){var o=s[n];this.localObserver.off(o.event,o.handler)}},e.prototype.notify=function(t,i){this.isDestroyed!==!0&&this.localObserver.notify(t,i)},e.prototype.getInjectedModules=function(){return this.injectedModules},e.Inject=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.prototype.injectedModules||(this.prototype.injectedModules=[]);for(var n=0;n<t.length;n++)this.prototype.injectedModules.indexOf(t[parseInt(n.toString(),10)])===-1&&this.prototype.injectedModules.push(t[parseInt(n.toString(),10)])},e.prototype.createElement=function(t,i,n){return Be(t,i)},e.prototype.triggerStateChange=function(t,i){this.isReactHybrid&&(this.setState(),this.currentContext={calls:t,args:i})},e.prototype.injectModules=function(){this.injectedModules&&this.injectedModules.length&&this.moduleLoader.inject(this.requiredModules(),this.injectedModules)},e.prototype.detectFunction=function(t){var i=Object.keys(t);i.length&&(this[i[0]]=t[i[0]])},e.prototype.mergePersistData=function(){var t;t=window.localStorage.getItem(this.getModuleName()+this.element.id),p(t)||t===""||this.setProperties(JSON.parse(t),!0)},e.prototype.setPersistData=function(){this.isDestroyed||window.localStorage.setItem(this.getModuleName()+this.element.id,this.getPersistData())},e.prototype.renderReactTemplates=function(t){p(t)||t()},e.prototype.clearTemplate=function(t,i,n){p(n)||n()},e.prototype.getUniqueID=function(t){return this.isHistoryChanged()&&(eC=0),wM=this.pageID(location.href),Rx=history.length,t+"_"+wM+"_"+eC++},e.prototype.pageID=function(t){var i=0;if(t.length===0)return i;for(var n=0;n<t.length;n++){var s=t.charCodeAt(n);i=(i<<5)-i+s,i=i&i}return Math.abs(i)},e.prototype.isHistoryChanged=function(){return wM!==this.pageID(location.href)||Rx!==history.length},e.prototype.addOnPersist=function(t){for(var i=this,n={},s=0,o=t;s<o.length;s++){var a=o[s],l=H(a,this);Je(l)||Ze(a,this.getActualProperties(l),n)}return JSON.stringify(n,function(h,u){return i.getActualProperties(u)})},e.prototype.getActualProperties=function(t){return t instanceof Xe?H("properties",t):t},e.prototype.ignoreOnPersist=function(t){return JSON.stringify(this.iterateJsonProperties(this.properties,t))},e.prototype.iterateJsonProperties=function(t,i){for(var n={},s=function(u){if(i.indexOf(u)===-1){var c=t[""+u];if(typeof c=="object"&&!(c instanceof Array)){var d=i.filter(function(f){var g=RegExp;return new g(u+".").test(f)}).map(function(f){return f.replace(u+".","")});n[""+u]=o.iterateJsonProperties(o.getActualProperties(c),d)}else n[""+u]=c}},o=this,a=0,l=Object.keys(t);a<l.length;a++){var h=l[a];s(h)}return n},Uf([I(!1)],e.prototype,"enablePersistence",void 0),Uf([I()],e.prototype,"enableRtl",void 0),Uf([I()],e.prototype,"locale",void 0),e=Uf([tn],e),e}(su);(function(){typeof window<"u"&&window.addEventListener("popstate",function(){eC=0})})();var ej=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ci=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},P$={left:0,top:0,bottom:0,right:0},NM={isDragged:!1},F$=function(r){ej(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return ci([I(0)],e.prototype,"left",void 0),ci([I(0)],e.prototype,"top",void 0),e}(Xe),tj=function(r){ej(e,r);function e(i,n){var s=r.call(this,n,i)||this;return s.dragLimit=t.getDefaultPosition(),s.borderWidth=t.getDefaultPosition(),s.padding=t.getDefaultPosition(),s.diffX=0,s.prevLeft=0,s.prevTop=0,s.dragProcessStarted=!1,s.eleTop=0,s.tapHoldTimer=0,s.externalInitialize=!1,s.diffY=0,s.parentScrollX=0,s.parentScrollY=0,s.droppables={},s.bind(),s}t=e,e.prototype.bind=function(){this.toggleEvents(),ne.isIE&&Z([this.element],"e-block-touch"),this.droppables[this.scope]={}},e.getDefaultPosition=function(){return ie({},P$)},e.prototype.toggleEvents=function(i){var n;Je(this.handle)||(n=ii(this.handle,this.element));var s=this.enableTapHold&&ne.isDevice&&ne.isTouch?this.mobileInitialize:this.initialize;i?F.remove(n||this.element,ne.isSafari()?"touchstart":ne.touchStartEvent,s):F.add(n||this.element,ne.isSafari()?"touchstart":ne.touchStartEvent,s,this)},e.prototype.mobileInitialize=function(i){var n=this,s=i.currentTarget;this.tapHoldTimer=setTimeout(function(){n.externalInitialize=!0,n.removeTapholdTimer(),n.initialize(i,s)},this.tapHoldThreshold),F.add(document,ne.isSafari()?"touchmove":ne.touchMoveEvent,this.removeTapholdTimer,this),F.add(document,ne.isSafari()?"touchend":ne.touchEndEvent,this.removeTapholdTimer,this)},e.prototype.removeTapholdTimer=function(){clearTimeout(this.tapHoldTimer),F.remove(document,ne.isSafari()?"touchmove":ne.touchMoveEvent,this.removeTapholdTimer),F.remove(document,ne.isSafari()?"touchend":ne.touchEndEvent,this.removeTapholdTimer)},e.prototype.getScrollableParent=function(i,n){var s={vertical:"scrollHeight",horizontal:"scrollWidth"},o={vertical:"clientHeight",horizontal:"clientWidth"};return p(i)?null:i[s[""+n]]>i[o[""+n]]?(n==="vertical"?i.scrollTop>0:i.scrollLeft>0)?(n==="vertical"?(this.parentScrollY=this.parentScrollY+(this.parentScrollY===0?i.scrollTop:i.scrollTop-this.parentScrollY),this.tempScrollHeight=i.scrollHeight):(this.parentScrollX=this.parentScrollX+(this.parentScrollX===0?i.scrollLeft:i.scrollLeft-this.parentScrollX),this.tempScrollWidth=i.scrollWidth),p(i)?i:this.getScrollableParent(i.parentNode,n)):this.getScrollableParent(i.parentNode,n):this.getScrollableParent(i.parentNode,n)},e.prototype.getScrollableValues=function(){this.parentScrollX=0,this.parentScrollY=0,this.element.classList.contains("e-dialog")&&this.element.classList.contains("e-dlg-modal"),this.getScrollableParent(this.element.parentNode,"vertical"),this.getScrollableParent(this.element.parentNode,"horizontal")},e.prototype.initialize=function(i,n){if(this.currentStateTarget=i.target,!this.isDragStarted()){if(this.isDragStarted(!0),this.externalInitialize=!1,this.target=i.currentTarget||n,this.dragProcessStarted=!1,this.abort){var s=this.abort;typeof s=="string"&&(s=[s]);for(var o=0;o<s.length;o++)if(!p(xe(i.target,s[parseInt(o.toString(),10)]))){this.isDragStarted()&&this.isDragStarted(!0);return}}this.preventDefault&&!Je(i.changedTouches)&&i.type!=="touchstart"&&i.preventDefault(),this.element.setAttribute("aria-grabbed","true");var a=this.getCoordinates(i);if(this.initialPosition={x:a.pageX,y:a.pageY},!this.clone){var l=this.element.getBoundingClientRect();this.getScrollableValues(),i.clientX===i.pageX&&(this.parentScrollX=0),i.clientY===i.pageY&&(this.parentScrollY=0),this.relativeXPosition=a.pageX-(l.left+this.parentScrollX),this.relativeYPosition=a.pageY-(l.top+this.parentScrollY)}this.externalInitialize?this.intDragStart(i):(F.add(document,ne.isSafari()?"touchmove":ne.touchMoveEvent,this.intDragStart,this),F.add(document,ne.isSafari()?"touchend":ne.touchEndEvent,this.intDestroy,this)),this.toggleEvents(!0),i.type!=="touchstart"&&this.isPreventSelect&&document.body.classList.add("e-prevent-select"),this.externalInitialize=!1,F.trigger(document.documentElement,ne.isSafari()?"touchstart":ne.touchStartEvent,i)}},e.prototype.intDragStart=function(i){this.removeTapholdTimer();var n=!Je(i.changedTouches);if(!(n&&i.changedTouches.length!==1)){var s=this.getCoordinates(i),o,a=getComputedStyle(this.element);this.margin={left:parseInt(a.marginLeft,10),top:parseInt(a.marginTop,10),right:parseInt(a.marginRight,10),bottom:parseInt(a.marginBottom,10)};var l=this.element;if(this.clone&&this.dragTarget){var h=xe(i.target,this.dragTarget);p(h)||(l=h)}this.isReplaceDragEle&&(l=this.currentStateCheck(i.target,l)),this.offset=this.calculateParentPosition(l),this.position=this.getMousePosition(i,this.isDragScroll);var u=this.initialPosition.x-s.pageX,c=this.initialPosition.y-s.pageY,d=Math.sqrt(u*u+c*c);if(d>=this.distance||this.externalInitialize){var f=this.getHelperElement(i);if(!f||p(f))return;n&&i.preventDefault();var g=this.helperElement=f;if(this.parentClientRect=this.calculateParentPosition(g.offsetParent),this.dragStart){var m=this.getProperTargetElement(i),y={event:i,element:l,target:m,bindEvents:null,dragElement:g};this.trigger("dragStart",y)}this.dragArea?this.setDragArea():(this.dragLimit={left:0,right:0,bottom:0,top:0},this.borderWidth={top:0,left:0}),o={left:this.position.left-this.parentClientRect.left,top:this.position.top-this.parentClientRect.top},this.clone&&!this.enableTailMode&&(this.diffX=this.position.left-this.offset.left,this.diffY=this.position.top-this.offset.top),this.getScrollableValues();var v=getComputedStyle(l),M=parseFloat(v.marginTop);this.clone&&M!==0&&(o.top+=M),this.eleTop=isNaN(parseFloat(v.top))?0:parseFloat(v.top)-this.offset.top,this.enableScrollHandler&&!this.clone&&(o.top-=this.parentScrollY,o.left-=this.parentScrollX);var S=this.getProcessedPositionValue({top:o.top-this.diffY+"px",left:o.left-this.diffX+"px"});this.dragArea&&typeof this.dragArea!="string"&&this.dragArea.classList.contains("e-kanban-content")&&this.dragArea.style.position==="relative"&&(o.top+=this.dragArea.scrollTop),this.dragElePosition={top:o.top,left:o.left},Ci(g,this.getDragPosition({position:"absolute",left:S.left,top:S.top})),F.remove(document,ne.isSafari()?"touchmove":ne.touchMoveEvent,this.intDragStart),F.remove(document,ne.isSafari()?"touchend":ne.touchEndEvent,this.intDestroy),this.bindDragEvents(g)}}},e.prototype.bindDragEvents=function(i){OI(i)?(F.add(document,ne.isSafari()?"touchmove":ne.touchMoveEvent,this.intDrag,this),F.add(document,ne.isSafari()?"touchend":ne.touchEndEvent,this.intDragStop,this),this.setGlobalDroppables(!1,this.element,i)):(this.toggleEvents(),document.body.classList.remove("e-prevent-select"))},e.prototype.elementInViewport=function(i){for(this.top=i.offsetTop,this.left=i.offsetLeft,this.width=i.offsetWidth,this.height=i.offsetHeight;i.offsetParent;)i=i.offsetParent,this.top+=i.offsetTop,this.left+=i.offsetLeft;return this.top>=window.pageYOffset&&this.left>=window.pageXOffset&&this.top+this.height<=window.pageYOffset+window.innerHeight&&this.left+this.width<=window.pageXOffset+window.innerWidth},e.prototype.getProcessedPositionValue=function(i){return this.queryPositionInfo?this.queryPositionInfo(i):i},e.prototype.calculateParentPosition=function(i){if(p(i))return{left:0,top:0};var n=i.getBoundingClientRect(),s=getComputedStyle(i);return{left:n.left+window.pageXOffset-parseInt(s.marginLeft,10),top:n.top+window.pageYOffset-parseInt(s.marginTop,10)}},e.prototype.intDrag=function(i){if(!(!Je(i.changedTouches)&&i.changedTouches.length!==1)){this.clone&&i.changedTouches&&ne.isDevice&&ne.isTouch&&i.preventDefault();var n,s;this.position=this.getMousePosition(i,this.isDragScroll);var o=this.getDocumentWidthHeight("Height");o<this.position.top&&(this.position.top=o);var a=this.getDocumentWidthHeight("Width");if(a<this.position.left&&(this.position.left=a),this.drag){var l=this.getProperTargetElement(i);this.trigger("drag",{event:i,element:this.element,target:l})}var h=this.checkTargetElement(i);if(h.target&&h.instance){var u=!0;this.hoverObject&&(this.hoverObject.instance!==h.instance?this.triggerOutFunction(i,h):u=!1),u&&(h.instance.dragData[this.scope]=this.droppables[this.scope],h.instance.intOver(i,h.target),this.hoverObject=h)}else this.hoverObject&&this.triggerOutFunction(i,h);var c=this.droppables[this.scope].helper;this.parentClientRect=this.calculateParentPosition(this.helperElement.offsetParent);var d=this.parentClientRect.left,f=this.parentClientRect.top,g=this.getCoordinates(i),m=g.pageX,y=g.pageY,v=this.position.left-this.diffX,M=this.position.top-this.diffY,S=getComputedStyle(c);if(this.dragArea){if(this.enableAutoScroll&&this.setDragArea(),this.pageX!==m||this.skipDistanceCheck){var b=c.offsetWidth+(parseFloat(S.marginLeft)+parseFloat(S.marginRight));this.dragLimit.left>v&&v>0?n=this.dragLimit.left:this.dragLimit.right+window.pageXOffset<v+b&&v>0?n=v-(v-this.dragLimit.right)+window.pageXOffset-b:n=v<0?this.dragLimit.left:v}if(this.pageY!==y||this.skipDistanceCheck){var C=c.offsetHeight+(parseFloat(S.marginTop)+parseFloat(S.marginBottom));this.dragLimit.top>M&&M>0?s=this.dragLimit.top:this.dragLimit.bottom+window.pageYOffset<M+C&&M>0?s=M-(M-this.dragLimit.bottom)+window.pageYOffset-C:s=M<0?this.dragLimit.top:M}}else n=v,s=M;var T=f+this.borderWidth.top,k=d+this.borderWidth.left;this.dragProcessStarted&&(p(s)&&(s=this.prevTop),p(n)&&(n=this.prevLeft));var N,A;if(this.helperElement.classList.contains("e-treeview"))this.dragArea?(this.dragLimit.top=this.clone?this.dragLimit.top:0,N=s-T<0?this.dragLimit.top:s-this.borderWidth.top,A=n-k<0?this.dragLimit.left:n-this.borderWidth.left):(N=s-this.borderWidth.top,A=n-this.borderWidth.left);else if(this.dragArea){var E=this.helperElement.classList.contains("e-dialog");this.dragLimit.top=this.clone?this.dragLimit.top:0,N=s-T<0?this.dragLimit.top:s-T,A=n-k<0?E?n-(k-this.borderWidth.left):this.dragElePosition.left:n-k}else N=s-T,A=n-k;var x=parseFloat(getComputedStyle(this.element).marginTop);if(x>0&&(this.clone&&(N+=x,M<0&&(x+M>=0?N=x+M:N-=x),this.dragArea&&(N=this.dragLimit.bottom<N?this.dragLimit.bottom:N)),s-T<0))if(M+x+(c.offsetHeight-T)>=0){var D=this.dragLimit.top+M-T;D+x+T<0?N-=x+T:N=D}else N-=x+T;if(this.dragArea&&this.helperElement.classList.contains("e-treeview")){var C=c.offsetHeight+(parseFloat(S.marginTop)+parseFloat(S.marginBottom));N=N+C>this.dragLimit.bottom?this.dragLimit.bottom-C:N}this.enableScrollHandler&&!this.clone&&(N-=this.parentScrollY,A-=this.parentScrollX),this.dragArea&&typeof this.dragArea!="string"&&this.dragArea.classList.contains("e-kanban-content")&&this.dragArea.style.position==="relative"&&(N+=this.dragArea.scrollTop);var z=this.getProcessedPositionValue({top:N+"px",left:A+"px"});this.isPreventScroll&&(z=this.getProcessedPositionValue({top:this.position.top-this.parentClientRect.top-2+"px",left:this.position.left-this.parentClientRect.left-2+"px"})),Ci(c,this.getDragPosition(z)),!this.elementInViewport(c)&&this.enableAutoScroll&&!this.helperElement.classList.contains("e-treeview")&&this.helperElement.scrollIntoView();var w=document.querySelectorAll(":hover");if(this.enableAutoScroll&&this.helperElement.classList.contains("e-treeview")){w.length===0&&(w=this.getPathElements(i));var O=this.getScrollParent(w,!1);this.elementInViewport(this.helperElement)?this.getScrollPosition(O,N):this.elementInViewport(this.helperElement)||(w=[].slice.call(document.querySelectorAll(":hover")),w.length===0&&(w=this.getPathElements(i)),O=this.getScrollParent(w,!0),this.getScrollPosition(O,N))}this.dragProcessStarted=!0,this.prevLeft=n,this.prevTop=s,this.position.left=n,this.position.top=s,this.pageX=m,this.pageY=y}},e.prototype.getScrollParent=function(i,n){for(var s=n?i.reverse():i,o,a=s.length-1;a>=0;a--)if(o=window.getComputedStyle(s[parseInt(a.toString(),10)])["overflow-y"],(o==="auto"||o==="scroll")&&s[parseInt(a.toString(),10)].scrollHeight>s[parseInt(a.toString(),10)].clientHeight)return s[parseInt(a.toString(),10)];if(o=window.getComputedStyle(document.scrollingElement)["overflow-y"],o==="visible")return document.scrollingElement.style.overflow="auto",document.scrollingElement},e.prototype.getScrollPosition=function(i,n){if(i&&i===document.scrollingElement)i.clientHeight+document.scrollingElement.scrollTop-this.helperElement.clientHeight<n&&i.getBoundingClientRect().height+this.parentClientRect.top>n?i.scrollTop+=this.helperElement.clientHeight:i.scrollTop>n-this.helperElement.clientHeight&&(i.scrollTop-=this.helperElement.clientHeight);else if(i&&i!==document.scrollingElement){var s=document.scrollingElement.scrollTop,o=this.helperElement.clientHeight;i.clientHeight+i.getBoundingClientRect().top-o+s<n?i.scrollTop+=this.helperElement.clientHeight:i.getBoundingClientRect().top>n-o-s&&(i.scrollTop-=this.helperElement.clientHeight)}},e.prototype.getPathElements=function(i){var n=i.clientX>0?i.clientX:0,s=i.clientY>0?i.clientY:0;return document.elementsFromPoint(n,s)},e.prototype.triggerOutFunction=function(i,n){this.hoverObject.instance.intOut(i,n.target),this.hoverObject.instance.dragData[this.scope]=null,this.hoverObject=null},e.prototype.getDragPosition=function(i){var n=ie({},i);return this.axis&&(this.axis==="x"?delete n.top:this.axis==="y"&&delete n.left),n},e.prototype.getDocumentWidthHeight=function(i){var n=document.body,s=document.documentElement,o=Math.max(n["scroll"+i],s["scroll"+i],n["offset"+i],s["offset"+i],s["client"+i]);return o},e.prototype.intDragStop=function(i){if(this.dragProcessStarted=!1,!(!Je(i.changedTouches)&&i.changedTouches.length!==1)){var n=["touchend","pointerup","mouseup"];if(n.indexOf(i.type)!==-1){if(this.dragStop){var s=this.getProperTargetElement(i);this.trigger("dragStop",{event:i,element:this.element,target:s,helper:this.helperElement})}this.intDestroy(i)}else this.element.setAttribute("aria-grabbed","false");var o=this.checkTargetElement(i);o.target&&o.instance&&(o.instance.dragStopCalled=!0,o.instance.dragData[this.scope]=this.droppables[this.scope],o.instance.intDrop(i,o.target)),this.setGlobalDroppables(!0),document.body.classList.remove("e-prevent-select")}},e.prototype.intDestroy=function(i){this.dragProcessStarted=!1,this.toggleEvents(),document.body.classList.remove("e-prevent-select"),this.element.setAttribute("aria-grabbed","false"),F.remove(document,ne.isSafari()?"touchmove":ne.touchMoveEvent,this.intDragStart),F.remove(document,ne.isSafari()?"touchend":ne.touchEndEvent,this.intDragStop),F.remove(document,ne.isSafari()?"touchend":ne.touchEndEvent,this.intDestroy),F.remove(document,ne.isSafari()?"touchmove":ne.touchMoveEvent,this.intDrag),this.isDragStarted()&&this.isDragStarted(!0)},e.prototype.onPropertyChanged=function(i,n){},e.prototype.getModuleName=function(){return"draggable"},e.prototype.isDragStarted=function(i){return i&&(NM.isDragged=!NM.isDragged),NM.isDragged},e.prototype.setDragArea=function(){var i,n,s=0,o=0,a,l=typeof this.dragArea;if(l==="string"?a=ii(this.dragArea):a=this.dragArea,a){var h=a.getBoundingClientRect();i=a.scrollWidth?a.scrollWidth:h.right-h.left,n=a.scrollHeight?this.dragArea&&!p(this.helperElement)&&this.helperElement.classList.contains("e-treeview")?a.clientHeight:a.scrollHeight:h.bottom-h.top;for(var u=["Top","Left","Bottom","Right"],c=getComputedStyle(a),d=0;d<u.length;d++){var f=u[parseInt(d.toString(),10)],g=c["border"+f+"Width"],m=c["padding"+f],y=f.toLowerCase();this.borderWidth[""+y]=isNaN(parseFloat(g))?0:parseFloat(g),this.padding[""+y]=isNaN(parseFloat(m))?0:parseFloat(m)}this.dragArea&&!p(this.helperElement)&&this.helperElement.classList.contains("e-treeview")?s=h.top+document.scrollingElement.scrollTop:s=h.top,o=h.left,this.dragLimit.left=o+this.borderWidth.left+this.padding.left,this.dragLimit.top=a.offsetTop+this.borderWidth.top+this.padding.top,this.dragLimit.right=o+i-(this.borderWidth.right+this.padding.right),this.dragLimit.bottom=s+n-(this.borderWidth.bottom+this.padding.bottom)}},e.prototype.getProperTargetElement=function(i){var n=this.getCoordinates(i),s,o=this.helperElement.style.pointerEvents||"",a=i.type.indexOf("pointer")!==-1&&ne.info.name==="safari"&&parseInt(ne.info.version,10)>12;return zI(i.target,this.helperElement)||i.type.indexOf("touch")!==-1||a?(this.helperElement.style.pointerEvents="none",s=document.elementFromPoint(n.clientX,n.clientY),this.helperElement.style.pointerEvents=o):s=i.target,s},e.prototype.currentStateCheck=function(i,n){var s;return!p(this.currentStateTarget)&&this.currentStateTarget!==i?s=this.currentStateTarget:s=p(n)?i:n,s},e.prototype.getMousePosition=function(i,n){var s=i.srcElement!==void 0?i.srcElement:i.target,o=this.getCoordinates(i),a,l,h=p(s.offsetParent);if(n?(a=this.clone?o.pageX:o.pageX+(h?0:s.offsetParent.scrollLeft)-this.relativeXPosition,l=this.clone?o.pageY:o.pageY+(h?0:s.offsetParent.scrollTop)-this.relativeYPosition):(a=this.clone?o.pageX:o.pageX+window.pageXOffset-this.relativeXPosition,l=this.clone?o.pageY:o.pageY+window.pageYOffset-this.relativeYPosition),document.scrollingElement&&!n&&!this.clone){var u=document.scrollingElement,c=u.scrollHeight>0&&u.scrollHeight>u.clientHeight&&u.scrollTop>0,d=u.scrollWidth>0&&u.scrollWidth>u.clientWidth&&u.scrollLeft>0;a=d?a-u.scrollLeft:a,l=c?l-u.scrollTop:l}return{left:a-(this.margin.left+this.cursorAt.left),top:l-(this.margin.top+this.cursorAt.top)}},e.prototype.getCoordinates=function(i){return i.type.indexOf("touch")>-1?i.changedTouches[0]:i},e.prototype.getHelperElement=function(i){var n;return this.clone?this.helper?n=this.helper({sender:i,element:this.target,currentTargetElement:this.currentStateTarget}):(n=Be("div",{className:"e-drag-helper e-block-touch",innerHTML:"Draggable"}),document.body.appendChild(n)):n=this.element,n},e.prototype.setGlobalDroppables=function(i,n,s){this.droppables[this.scope]=i?null:{draggable:n,helper:s,draggedElement:this.element}},e.prototype.checkTargetElement=function(i){var n=this.getProperTargetElement(i),s=this.getDropInstance(n);if(!s&&n&&!p(n.parentNode)){var o=xe(n.parentNode,".e-droppable")||n.parentElement;o&&(s=this.getDropInstance(o))}return{target:n,instance:s}},e.prototype.getDropInstance=function(i){var n="getModuleName",s,o=i&&i.ej2_instances;if(o)for(var a=0,l=o;a<l.length;a++){var h=l[a];if(h[""+n]()==="droppable"){s=h;break}}return s},e.prototype.destroy=function(){this.toggleEvents(!0),r.prototype.destroy.call(this)};var t;return ci([gt({},F$)],e.prototype,"cursorAt",void 0),ci([I(!0)],e.prototype,"clone",void 0),ci([I()],e.prototype,"dragArea",void 0),ci([I()],e.prototype,"isDragScroll",void 0),ci([I()],e.prototype,"isReplaceDragEle",void 0),ci([I(!0)],e.prototype,"isPreventSelect",void 0),ci([I(!1)],e.prototype,"isPreventScroll",void 0),ci([Q()],e.prototype,"drag",void 0),ci([Q()],e.prototype,"dragStart",void 0),ci([Q()],e.prototype,"dragStop",void 0),ci([I(1)],e.prototype,"distance",void 0),ci([I()],e.prototype,"handle",void 0),ci([I()],e.prototype,"abort",void 0),ci([I()],e.prototype,"helper",void 0),ci([I("default")],e.prototype,"scope",void 0),ci([I("")],e.prototype,"dragTarget",void 0),ci([I()],e.prototype,"axis",void 0),ci([I()],e.prototype,"queryPositionInfo",void 0),ci([I(!1)],e.prototype,"enableTailMode",void 0),ci([I(!1)],e.prototype,"skipDistanceCheck",void 0),ci([I(!0)],e.prototype,"preventDefault",void 0),ci([I(!1)],e.prototype,"enableAutoScroll",void 0),ci([I(!1)],e.prototype,"enableTapHold",void 0),ci([I(750)],e.prototype,"tapHoldThreshold",void 0),ci([I(!1)],e.prototype,"enableScrollHandler",void 0),e=t=ci([tn],e),e}(su),B$=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),du=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},ij=function(r){B$(e,r);function e(t,i){var n=r.call(this,i,t)||this;return n.mouseOver=!1,n.dragData={},n.dragStopCalled=!1,n.bind(),n}return e.prototype.bind=function(){this.wireEvents()},e.prototype.wireEvents=function(){F.add(this.element,ne.isSafari()?"touchend":ne.touchEndEvent,this.intDrop,this)},e.prototype.onPropertyChanged=function(t,i){},e.prototype.getModuleName=function(){return"droppable"},e.prototype.intOver=function(t,i){if(!this.mouseOver){var n=this.dragData[this.scope];this.trigger("over",{event:t,target:i,dragData:n}),this.mouseOver=!0}},e.prototype.intOut=function(t,i){this.mouseOver&&(this.trigger("out",{evt:t,target:i}),this.mouseOver=!1)},e.prototype.intDrop=function(t,i){if(this.dragStopCalled)this.dragStopCalled=!1;else return;var n=!0,s=this.dragData[this.scope],o=s?s.helper&&OI(s.helper):!1,a;o&&(a=this.isDropArea(t,s.helper,i),this.accept&&(n=_R(s.helper,this.accept))),o&&this.drop&&a.canDrop&&n&&this.trigger("drop",{event:t,target:a.target,droppedElement:s.helper,dragData:s}),this.mouseOver=!1},e.prototype.isDropArea=function(t,i,n){var s={canDrop:!0,target:n||t.target},o=t.type==="touchend";if(o||s.target===i){i.style.display="none";var a=o?t.changedTouches[0]:t,l=document.elementFromPoint(a.clientX,a.clientY);s.canDrop=!1,s.canDrop=zI(l,this.element),s.canDrop&&(s.target=l),i.style.display=""}return s},e.prototype.destroy=function(){F.remove(this.element,ne.isSafari()?"touchend":ne.touchEndEvent,this.intDrop),r.prototype.destroy.call(this)},du([I()],e.prototype,"accept",void 0),du([I("default")],e.prototype,"scope",void 0),du([Q()],e.prototype,"drop",void 0),du([Q()],e.prototype,"over",void 0),du([Q()],e.prototype,"out",void 0),e=du([tn],e),e}(su),U$=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Hf=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},H$={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},hh=function(r){U$(e,r);function e(i,n){var s=r.call(this,n,i)||this;return s.keyPressHandler=function(o){for(var a=o.altKey,l=o.ctrlKey,h=o.shiftKey,u=o.which,c=Object.keys(s.keyConfigs),d=0,f=c;d<f.length;d++)for(var g=f[d],m=s.keyConfigs[""+g].split(","),y=0,v=m;y<v.length;y++){var M=v[y],S=t.getKeyConfigData(M.trim());a===S.altKey&&l===S.ctrlKey&&h===S.shiftKey&&u===S.keyCode&&(o.action=g,s.keyAction&&s.keyAction(o))}},s.bind(),s}t=e,e.prototype.destroy=function(){this.unwireEvents(),r.prototype.destroy.call(this)},e.prototype.onPropertyChanged=function(i,n){},e.prototype.bind=function(){this.wireEvents()},e.prototype.getModuleName=function(){return"keyboard"},e.prototype.wireEvents=function(){this.element.addEventListener(this.eventName,this.keyPressHandler)},e.prototype.unwireEvents=function(){this.element.removeEventListener(this.eventName,this.keyPressHandler)},e.getKeyConfigData=function(i){if(i in this.configCache)return this.configCache[""+i];var n=i.toLowerCase().split("+"),s={altKey:n.indexOf("alt")!==-1,ctrlKey:n.indexOf("ctrl")!==-1,shiftKey:n.indexOf("shift")!==-1,keyCode:null};return n[n.length-1].length>1&&Number(n[n.length-1])?s.keyCode=Number(n[n.length-1]):s.keyCode=t.getKeyCode(n[n.length-1]),t.configCache[""+i]=s,s},e.getKeyCode=function(i){return H$[""+i]||i.toUpperCase().charCodeAt(0)};var t;return e.configCache={},Hf([I({})],e.prototype,"keyConfigs",void 0),Hf([I("keyup")],e.prototype,"eventName",void 0),Hf([Q()],e.prototype,"keyAction",void 0),e=t=Hf([tn],e),e}(su),so=function(){function r(e,t,i){this.controlName=e,this.localeStrings=t,this.setLocale(i||Sp)}return r.prototype.setLocale=function(e){var t=this.intGetControlConstant(r.locale,e);this.currentLocale=t||this.localeStrings},r.load=function(e){this.locale=ie(this.locale,e,{},!0)},r.prototype.getConstant=function(e){return p(this.currentLocale[""+e])?this.localeStrings[""+e]||"":this.currentLocale[""+e]},r.prototype.intGetControlConstant=function(e,t){return e[""+t]?e[""+t][this.controlName]:null},r.locale={},r}(),nj=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Fo=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},V$=function(r){nj(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Fo([I(50)],e.prototype,"swipeThresholdDistance",void 0),e}(Xe),Q$=/(Up|Down)/,_$=function(r){nj(e,r);function e(t,i){var n=r.call(this,i,t)||this;return n.touchAction=!0,n.tapCount=0,n.startEvent=function(s){if(n.touchAction===!0){var o=n.updateChangeTouches(s);s.changedTouches!==void 0&&(n.touchAction=!1),n.isTouchMoved=!1,n.movedDirection="",n.startPoint=n.lastMovedPoint={clientX:o.clientX,clientY:o.clientY},n.startEventData=o,n.hScrollLocked=n.vScrollLocked=!1,n.tStampStart=Date.now(),n.timeOutTapHold=setTimeout(function(){n.tapHoldEvent(s)},n.tapHoldThreshold),F.add(n.element,ne.touchMoveEvent,n.moveEvent,n),F.add(n.element,ne.touchEndEvent,n.endEvent,n),F.add(n.element,ne.touchCancelEvent,n.cancelEvent,n)}},n.moveEvent=function(s){var o=n.updateChangeTouches(s);n.movedPoint=o,n.isTouchMoved=!(o.clientX===n.startPoint.clientX&&o.clientY===n.startPoint.clientY);var a={};if(n.isTouchMoved){clearTimeout(n.timeOutTapHold),n.calcScrollPoints(s);var l={startEvents:n.startEventData,originalEvent:s,startX:n.startPoint.clientX,startY:n.startPoint.clientY,distanceX:n.distanceX,distanceY:n.distanceY,scrollDirection:n.scrollDirection,velocity:n.getVelocity(o)};a=ie(a,{},l),n.trigger("scroll",a),n.lastMovedPoint={clientX:o.clientX,clientY:o.clientY}}},n.cancelEvent=function(s){clearTimeout(n.timeOutTapHold),clearTimeout(n.timeOutTap),n.tapCount=0,n.swipeFn(s),F.remove(n.element,ne.touchCancelEvent,n.cancelEvent)},n.endEvent=function(s){n.swipeFn(s),n.isTouchMoved||typeof n.tap=="function"&&(n.trigger("tap",{originalEvent:s,tapCount:++n.tapCount}),n.timeOutTap=setTimeout(function(){n.tapCount=0},n.tapThreshold)),n.modeclear()},n.swipeFn=function(s){clearTimeout(n.timeOutTapHold),clearTimeout(n.timeOutTap);var o=n.updateChangeTouches(s),a=o.clientX-n.startPoint.clientX,l=o.clientY-n.startPoint.clientY;a=Math.floor(a<0?-1*a:a),l=Math.floor(l<0?-1*l:a),n.isTouchMoved=a>1||l>1;var h=/Firefox/.test(ne.userAgent);h&&o.clientX===0&&o.clientY===0&&s.type==="mouseup"&&(n.isTouchMoved=!1),n.endPoint=o,n.calcPoints(s);var u={originalEvent:s,startEvents:n.startEventData,startX:n.startPoint.clientX,startY:n.startPoint.clientY,distanceX:n.distanceX,distanceY:n.distanceY,swipeDirection:n.movedDirection,velocity:n.getVelocity(o)};if(n.isTouchMoved){var c=n.swipeSettings.swipeThresholdDistance,d=ie(void 0,n.defaultArgs,u),f=!1,g=n.element,m=n.isScrollable(g),y=Q$.test(n.movedDirection);(c<n.distanceX&&!y||c<n.distanceY&&y)&&(m?f=n.checkSwipe(g,y):f=!0),f&&n.trigger("swipe",d)}n.modeclear()},n.modeclear=function(){n.modeClear=setTimeout(function(){n.touchAction=!0},typeof n.tap!="function"?0:20),n.lastTapTime=new Date().getTime(),F.remove(n.element,ne.touchMoveEvent,n.moveEvent),F.remove(n.element,ne.touchEndEvent,n.endEvent),F.remove(n.element,ne.touchCancelEvent,n.cancelEvent)},n.bind(),n}return e.prototype.onPropertyChanged=function(t,i){},e.prototype.bind=function(){this.wireEvents(),ne.isIE&&this.element.classList.add("e-block-touch")},e.prototype.destroy=function(){this.unwireEvents(),r.prototype.destroy.call(this)},e.prototype.wireEvents=function(){F.add(this.element,ne.touchStartEvent,this.startEvent,this)},e.prototype.unwireEvents=function(){F.remove(this.element,ne.touchStartEvent,this.startEvent)},e.prototype.getModuleName=function(){return"touch"},e.prototype.isScrollable=function(t){var i=getComputedStyle(t),n=i.overflow+i.overflowX+i.overflowY;return!!/(auto|scroll)/.test(n)},e.prototype.tapHoldEvent=function(t){this.tapCount=0,this.touchAction=!0,F.remove(this.element,ne.touchMoveEvent,this.moveEvent),F.remove(this.element,ne.touchEndEvent,this.endEvent);var i={originalEvent:t};this.trigger("tapHold",i),F.remove(this.element,ne.touchCancelEvent,this.cancelEvent)},e.prototype.calcPoints=function(t){var i=this.updateChangeTouches(t);this.defaultArgs={originalEvent:t},this.distanceX=Math.abs(Math.abs(i.clientX)-Math.abs(this.startPoint.clientX)),this.distanceY=Math.abs(Math.abs(i.clientY)-Math.abs(this.startPoint.clientY)),this.distanceX>this.distanceY?this.movedDirection=i.clientX>this.startPoint.clientX?"Right":"Left":this.movedDirection=i.clientY<this.startPoint.clientY?"Up":"Down"},e.prototype.calcScrollPoints=function(t){var i=this.updateChangeTouches(t);this.defaultArgs={originalEvent:t},this.distanceX=Math.abs(Math.abs(i.clientX)-Math.abs(this.lastMovedPoint.clientX)),this.distanceY=Math.abs(Math.abs(i.clientY)-Math.abs(this.lastMovedPoint.clientY)),(this.distanceX>this.distanceY||this.hScrollLocked===!0)&&this.vScrollLocked===!1?(this.scrollDirection=i.clientX>this.lastMovedPoint.clientX?"Right":"Left",this.hScrollLocked=!0):(this.scrollDirection=i.clientY<this.lastMovedPoint.clientY?"Up":"Down",this.vScrollLocked=!0)},e.prototype.getVelocity=function(t){var i=t.clientX,n=t.clientY,s=Date.now(),o=i-this.startPoint.clientX,a=n-this.startPoint.clientX,l=s-this.tStampStart;return Math.sqrt(o*o+a*a)/l},e.prototype.checkSwipe=function(t,i){var n=["scroll","offset"],s=i?["Height","Top"]:["Width","Left"];return t[n[0]+s[0]]<=t[n[1]+s[0]]?!0:t[n[0]+s[1]]===0||t[n[1]+s[0]]+t[n[0]+s[1]]>=t[n[0]+s[0]]},e.prototype.updateChangeTouches=function(t){var i=t.changedTouches&&t.changedTouches.length!==0?t.changedTouches[0]:t;return i},Fo([Q()],e.prototype,"tap",void 0),Fo([Q()],e.prototype,"tapHold",void 0),Fo([Q()],e.prototype,"swipe",void 0),Fo([Q()],e.prototype,"scroll",void 0),Fo([I(350)],e.prototype,"tapThreshold",void 0),Fo([I(750)],e.prototype,"tapHoldThreshold",void 0),Fo([gt({},V$)],e.prototype,"swipeSettings",void 0),e=Fo([tn],e),e}(su),Y$=new RegExp("\\n|\\r|\\s\\s+","g"),W$=new RegExp(/'|"/g),q$=new RegExp("if ?\\("),G$=new RegExp("else if ?\\("),Fx=new RegExp("else"),$$=new RegExp("for ?\\("),Bx=new RegExp("(/if|/for)"),K$=new RegExp("\\((.*)\\)",""),jI=new RegExp("^[0-9]+$","g"),J$=new RegExp(`[\\w"'.\\s+]+`,"g"),Z$=new RegExp('"(.*?)"',"g"),X$=new RegExp(`[\\w"'@#$.\\s-+]+`,"g"),Ux=new RegExp("\\${([^}]*)}","g"),eK=/^\..*/gm,tC=/\\/gi,tK=/\\\\/gi,iK=new RegExp(`[\\w"'@#$.\\s+]+`,"g"),nK=/\window\./gm;function rK(r,e,t){if(typeof r=="function")return r;var i="data",n=sK(r,i,e),s=`var valueRegEx = (/value=\\'([A-Za-z0-9 _]*)((.)([\\w)(!-;?-\\s]+)['])/g);
        var hrefRegex = (/(?:href)([\\s='"./]+)([\\w-./?=&\\\\#"]+)((.)([\\w)(!-;/?-\\s]+)['])/g);
        if(str.match(valueRegEx)){
            var check = str.match(valueRegEx);
            var str1 = str;
            for (var i=0; i < check.length; i++) {
                var check1 = str.match(valueRegEx)[i].split('value=')[1];
                var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '"') : check1;
                change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'"') : change;
                str1 = str1.replace(check1, change);
            }
            str = str.replace(str, str1);
        }
        else if (str.match(/(?:href='')/) === null) {
            if(str.match(hrefRegex)) {
                var check = str.match(hrefRegex);
                var str1 = str;
                for (var i=0; i < check.length; i++) {
                    var check1 = str.match(hrefRegex)[i].split('href=')[1];
                    if (check1) {
                        var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '"') : check1;
                        change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'"') : change;
                        str1 = str1.replace(check1, change);
                    }
                }
                str = str.replace(str, str1);
            }
        }
        `,o='var str="'+n+'";'+s+" return str;",a=new Function(i,o);return a.bind(e)}function sK(r,e,t,i){var n=0,s=[],o=r.match(/class="([^"]+|)\s{2}/g),a="";if(o&&o.forEach(function(c){a=c.replace(/\s\s+/g," "),r=r.replace(c,a)}),Ux.test(r)){for(var l=!1,h="",u=0;u<r.length;u++)r[u+""]==="$"&&r[u+1]==="{"?l=!0:r[u+""]==="}"&&(l=!1),h+=r[u+""]==='"'&&!l?'\\"':r[u+""];r=h}else r=r.replace(/\\?"/g,'\\"');return r.replace(Y$,"").replace(Z$,"'$1'").replace(Ux,function(c,d,f,g){var m=/@|#|\$/gm,y=d.match(K$);if(y){var v=y[1];if(G$.test(d))d='";} '+d.replace(y[1],v.replace(J$,function(A){return A=A.trim(),wu(A,!W$.test(A)&&s.indexOf(A)===-1,e,s)}))+`{ 
 str = str + "`;else if(q$.test(d))d='"; '+d.replace(y[1],v.replace(X$,function(A){return Vx(A,e,s)}))+`{ 
 str = str + "`;else if($$.test(d)){var M=y[1].split(" of ");d='"; '+d.replace(y[1],function(A){return s.push(M[0]),s.push(M[0]+"Index"),n=n+1,"var i"+n+"=0; i"+n+" < "+wu(M[1],!0,e,s)+".length; i"+n+"++"})+`{ 
 `+M[0]+"= "+wu(M[1],!0,e,s)+"[i"+n+`]; 
 var `+M[0]+"Index=i"+n+`; 
 str = str + "`}else{var S=d.split("("),b=t&&Object.prototype.hasOwnProperty.call(t,S[0])?"this.":"global";b=/\./.test(S[0])?"":b;var C=y[1].split(",");y[1].length!==0&&!/data/.test(C[0])&&!/window./.test(C[0])&&(y[1]=b==="global"?e+"."+y[1]:y[1]);var T=/@|\$|#/gm,k=/\]\./gm;if(nK.test(d)&&k.test(d)||T.test(d)){var N=/@|\$|#|\]\./gm;N.test(d)&&(d='"+ '+(b==="global"?"":b)+d.replace(y[1],v.replace(iK,function(A){return Vx(A,e,s)}))+'+ "')}else d='" + '+(b==="global"?"":b)+d.replace(v,wu(y[1].replace(/,( |)data.|,/gi,","+e+".").replace(/,( |)data.window/gi,",window"),b!=="global",e,s))+'+"'}}else Fx.test(d)?d='"; '+d.replace(Fx,`} else { 
 str = str + "`):d.match(Bx)?d=d.replace(Bx,`"; 
 } 
 str = str + "`):m.test(d)?(d.match(tC)&&(d=Hx(d)),d='"+'+iC(d,s.indexOf(d)===-1,e,s)+'"]+"'):d.match(tC)?(d=Hx(d),d='"+'+iC(d,s.indexOf(d)===-1,e,s)+'"]+"'):d=d!==""?'"+'+wu(d.replace(/,/gi,"+"+e+"."),s.indexOf(d)===-1,e,s)+'+"':"${}";return d})}function wu(r,e,t,i,n){return e&&!jI.test(r)&&i.indexOf(r.split(".")[0])===-1&&r!=="true"&&r!=="false"?t+"."+r:r}function oK(r,e,t,i){var n=/^\..*/gm;return e&&!jI.test(r)&&i.indexOf(r.split(".")[0])===-1&&!n.test(r)?t+"."+r:r}function iC(r,e,t,i){return e&&!jI.test(r)&&i.indexOf(r.split(".")[0])===-1?t+'["'+r:r}function Hx(r){var e="\\\\";return r.match(tK)?r:r.replace(tC,e)}function Vx(r,e,t,i){r=r.trim();var n=/\window\./gm;if(n.test(r))return r;var s=/'|"/gm,o=/@|\$|#/gm;return o.test(r)&&(r=iC(r,t.indexOf(r)===-1,e,t)+'"]'),eK.test(r)?oK(r,!s.test(r)&&t.indexOf(r)===-1,e,t):wu(r,!s.test(r)&&t.indexOf(r)===-1,e,t)}var aK=/^[\n\r.]+<tr|^<tr/,lK=/^[\n\r.]+<svg|^<path|^<g/,Qx={};function Xt(r,e,t){var i=PI.compile(r,e,t);return function(n,s,o,a,l,h,u,c){var d=i(n,s,o,u,c);if(typeof d=="string")if(lK.test(d)){var f=Be("svg",{innerHTML:d});return f.childNodes}else{var f=Be(aK.test(d)?"table":"div",{innerHTML:d});return f.childNodes}else return d}}function kr(r,e,t){var i=document.getElementById(r);if(i)for(var n=i.getElementsByClassName("blazor-inner-template"),s=0;s<n.length;s++){var o=" ";p(t)?o=n[parseInt(s.toString(),10)].getAttribute("data-templateId"):o=n[parseInt(t.toString(),10)].getAttribute("data-templateId");var a=document.getElementById(o);if(a)for(var l=a.childNodes.length,h=0;h<l;h++)p(t)?n[parseInt(s.toString(),10)].appendChild(a.childNodes[0]):(n[parseInt(t.toString(),10)].appendChild(a.childNodes[0]),s=n.length)}}function hK(r){PI.compile=r.compile}function uK(){return PI.compile}function _s(r,e){var t;return r.prototype.CSPTemplate=!0,p(e)?t=r:(t=r.bind(e),t.prototype=Object.create(r.prototype)),t}var cK=function(){function r(){}return r.prototype.compile=function(e,t,i){return t===void 0&&(t={}),rK(e,t)},r}(),PI={compile:new cK().compile},dK=["script","style","iframe[src]",'link[href*="javascript:"]','object[type="text/x-scriptlet"]','object[data^="data:text/html;base64"]','img[src^="data:text/html;base64"]','[src^="javascript:"]','[dynsrc^="javascript:"]','[lowsrc^="javascript:"]','[type^="application/x-shockwave-flash"]'],pK=[{attribute:"href",selector:'[href*="javascript:"]'},{attribute:"href",selector:"a[href]"},{attribute:"background",selector:'[background^="javascript:"]'},{attribute:"style",selector:'[style*="javascript:"]'},{attribute:"style",selector:'[style*="expression("]'},{attribute:"href",selector:'a[href^="data:text/html;base64"]'}],_x=["onchange","onclick","onmouseover","onmouseout","onkeydown","onload","onerror","onblur","onfocus","onbeforeload","onbeforeunload","onkeyup","onsubmit","onafterprint","onbeforeonload","onbeforeprint","oncanplay","oncanplaythrough","oncontentvisibilityautostatechange","oncontextmenu","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onformchange","onforminput","onhaschange","oninput","oninvalid","onkeypress","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmousedown","onmousemove","onmouseup","onmousewheel","onoffline","onoine","ononline","onpagehide","onpageshow","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreadystatechange","onredo","onresize","onscroll","onseeked","onseeking","onselect","onstalled","onstorage","onsuspend","ontimeupdate","onundo","onunload","onvolumechange","onwaiting","onmouseenter","onmouseleave","onstart","onpropertychange","oncopy","ontoggle","onpointerout","onpointermove","onpointerleave","onpointerenter","onpointerrawupdate","onpointerover","onbeforecopy","onbeforecut","onbeforeinput"],St=function(){function r(){}return r.beforeSanitize=function(){return{selectors:{tags:dK,attributes:pK}}},r.sanitize=function(e){if(p(e))return e;var t=this.beforeSanitize(),i=this.serializeValue(t,e);return i},r.serializeValue=function(e,t){this.removeAttrs=e.selectors.attributes,this.removeTags=e.selectors.tags,this.wrapElement=document.createElement("div"),this.wrapElement.innerHTML=t,this.removeXssTags(),this.removeJsEvents(),this.removeXssAttrs();var i=this.wrapElement.innerHTML;return this.removeElement(),this.wrapElement=null,i.replace(/&amp;/g,"&")},r.removeElement=function(){for(var e=this.wrapElement.children,t=0;t<e.length;t++)for(var i=e[parseInt(t.toString(),10)].attributes,n=0;n<i.length;n++)this.wrapElement.children[parseInt(t.toString(),10)].removeAttribute(i[parseInt(n.toString(),10)].localName)},r.removeXssTags=function(){var e=this.wrapElement.querySelectorAll(this.removeTags.join(","));if(e.length>0)e.forEach(function(t){bt(t)});else return},r.removeJsEvents=function(){var e=this.wrapElement.querySelectorAll("["+_x.join("],[")+"]");if(e.length>0)e.forEach(function(t){_x.forEach(function(i){t.hasAttribute(i)&&t.removeAttribute(i)})});else return},r.removeXssAttrs=function(){var e=this;this.removeAttrs.forEach(function(t,i){var n=e.wrapElement.querySelectorAll(t.selector);n.length>0&&(t.selector==="a[href]"?n.forEach(function(s){s.getAttribute(t.attribute).replace(/\t|\s|&/,"").indexOf("javascript:alert")!==-1&&s.removeAttribute(t.attribute)}):n.forEach(function(s){s.removeAttribute(t.attribute)}))})},r}(),yo,Ua,Lr,Cp,FI=!1;function BI(r,e){var t=!1,i={left:0,top:0},n=r;if(!r||!e)return i;for(p(e.offsetParent)&&e.style.position==="fixed"&&(t=!0);(e.offsetParent||t)&&r&&e.offsetParent!==r;)i.left+=r.offsetLeft,i.top+=r.offsetTop,r=r.offsetParent;for(r=n;(e.offsetParent||t)&&r&&e.offsetParent!==r;)i.left-=r.scrollLeft,i.top-=r.scrollTop,r=r.parentElement;return i}function er(r,e,t,i,n){if(Ua=void 0,Ua=n,FI=!!i,!r)return{left:0,top:0};e||(e="left"),t||(t="top"),Cp=r.ownerDocument,Lr=r;var s={left:0,top:0};return fK(e.toLowerCase(),t.toLowerCase(),s)}function Ao(r,e){e.left=r}function Eo(r,e){e.top=r}function fK(r,e,t){switch(yo=Lr.getBoundingClientRect(),e+r){case"topcenter":Ao(LM(),t),Eo(Ng(),t);break;case"topright":Ao(kM(),t),Eo(Ng(),t);break;case"centercenter":Ao(LM(),t),Eo(EM(),t);break;case"centerright":Ao(kM(),t),Eo(EM(),t);break;case"centerleft":Ao(Ag(),t),Eo(EM(),t);break;case"bottomcenter":Ao(LM(),t),Eo(AM(),t);break;case"bottomright":Ao(kM(),t),Eo(AM(),t);break;case"bottomleft":Ao(Ag(),t),Eo(AM(),t);break;default:case"topleft":Ao(Ag(),t),Eo(Ng(),t);break}return Lr=null,t}function rj(){return Cp.documentElement.scrollTop||Cp.body.scrollTop}function sj(){return Cp.documentElement.scrollLeft||Cp.body.scrollLeft}function AM(){return FI?yo.bottom:yo.bottom+rj()}function EM(){return Ng()+yo.height/2}function Ng(){return FI?yo.top:yo.top+rj()}function Ag(){return yo.left+sj()}function kM(){var r=Lr&&((Lr.classList.contains("e-date-wrapper")||Lr.classList.contains("e-datetime-wrapper"))&&Lr.classList.contains("e-rtl")||Lr.classList.contains("e-ddl")&&Lr.classList.contains("e-rtl")||Lr.classList.contains("e-date-range-wrapper"))?Ua?Ua.width:0:Ua&&yo.width>=Ua.width?Ua.width:0;return Lr&&Lr.classList.contains("e-rtl")&&Lr.classList.contains("e-multiselect")&&(r=Ua.width),yo.right+sj()-r}function LM(){return Ag()+yo.width/2}var Dl,Cr;function oj(r,e,t,i){if(e===void 0&&(e=null),t===void 0&&(t={X:!1,Y:!1}),!t.Y&&!t.X)return{left:0,top:0};var n=r.getBoundingClientRect();if(Cr=e,Dl=r.ownerDocument,i||(i=er(r,"left","top")),t.X){var s=Cr?dj():yj(),o=_I(),a=YI(),l=o-i.left,h=i.left+n.width-a;n.width>s?l>0&&h<=0?i.left=a-n.width:h>0&&l<=0?i.left=o:i.left=l>h?a-n.width:o:l>0?i.left+=l:h>0&&(i.left-=h)}if(t.Y){var u=Cr?pj():mj(),c=QI(),d=WI(),f=c-i.top,g=i.top+n.height-d;n.height>u?f>0&&g<=0?i.top=d-n.height:g>0&&f<=0?i.top=c:i.top=f>g?d-n.height:c:f>0?i.top+=f:g>0&&(i.top-=g)}return i}function UI(r,e,t,i){e===void 0&&(e=null);var n=er(r,"left","top");t&&(n.left=t),i&&(n.top=i);var s=[];Cr=e,Dl=r.ownerDocument;var o=r.getBoundingClientRect(),a=n.top,l=n.left,h=n.left+o.width,u=n.top+o.height,c=cj(a,u),d=lj(l,h);return c.topSide&&s.push("top"),d.rightSide&&s.push("right"),d.leftSide&&s.push("left"),c.bottomSide&&s.push("bottom"),s}function gK(r,e,t,i,n,s,o,a,l){if(o===void 0&&(o=null),a===void 0&&(a={X:!0,Y:!0}),!(!e||!r||!n||!s||!a.X&&!a.Y)){var h={TL:null,TR:null,BL:null,BR:null},u={TL:null,TR:null,BL:null,BR:null},c;if(window.getComputedStyle(r).display==="none"){var d=r.style.visibility;r.style.visibility="hidden",r.style.display="block",c=r.getBoundingClientRect(),r.style.removeProperty("display"),r.style.visibility=d}else c=r.getBoundingClientRect();var f={posX:n,posY:s,offsetX:t,offsetY:i,position:{left:0,top:0}};Cr=o,Dl=e.ownerDocument,yK(e,h,f,l,c),VI(u,f,c),a.X&&hj(e,u,h,f,c,!0),a.Y&&h.TL.top>-1&&uj(e,u,h,f,c,!0),mK(r,f,c)}}function mK(r,e,t){var i=0,n=0;if(r.offsetParent!=null&&(getComputedStyle(r.offsetParent).position==="absolute"||getComputedStyle(r.offsetParent).position==="relative")){var s=er(r.offsetParent,"left","top",!1,t);i=s.left,n=s.top}var o=1,a=1,l=aj(r);if(l){var h=getComputedStyle(l).transform;if(h!=="none"){var u=new DOMMatrix(h);o=u.a,a=u.d}var c=getComputedStyle(l).zoom;if(c!=="none"){var d=HI(document.body);o=d*o,a=d*a}}r.style.top=e.position.top/a+e.offsetY-n/a+"px",r.style.left=e.position.left/o+e.offsetX-i/o+"px"}function HI(r){var e=getComputedStyle(r).zoom;return parseFloat(e)||1}function aj(r){for(;r;){var e=window.getComputedStyle(r).transform,t=HI(document.body);if(e&&e!=="none"||t&&t!==1)return r;if(r===document.body)return null;r=r.offsetParent||r.parentElement}return null}function yK(r,e,t,i,n){t.position=er(r,t.posX,t.posY,i,n),e.TL=er(r,"left","top",i,n),e.TR=er(r,"right","top",i,n),e.BR=er(r,"left","bottom",i,n),e.BL=er(r,"right","bottom",i,n)}function VI(r,e,t){r.TL={top:e.position.top+e.offsetY,left:e.position.left+e.offsetX},r.TR={top:r.TL.top,left:r.TL.left+t.width},r.BL={top:r.TL.top+t.height,left:r.TL.left},r.BR={top:r.TL.top+t.height,left:r.TL.left+t.width}}function lj(r,e){var t=!1,i=!1;return r-iy()<_I()&&(t=!0),e>YI()&&(i=!0),{leftSide:t,rightSide:i}}function hj(r,e,t,i,n,s){var o=lj(e.TL.left,e.TR.left);t.TL.left-iy()<=_I()&&(o.leftSide=!1),t.TR.left>YI()&&(o.rightSide=!1),(o.leftSide&&!o.rightSide||!o.leftSide&&o.rightSide)&&(i.posX==="right"?i.posX="left":i.posX="right",i.offsetX=i.offsetX+n.width,i.offsetX=-1*i.offsetX,i.position=er(r,i.posX,i.posY,!1),VI(e,i,n),s&&hj(r,e,t,i,n,!1))}function uj(r,e,t,i,n,s){var o=cj(e.TL.top,e.BL.top);t.TL.top-ty()<=QI()&&(o.topSide=!1),t.BL.top>=WI()&&r.getBoundingClientRect().bottom<window.innerHeight&&(o.bottomSide=!1),(o.topSide&&!o.bottomSide||!o.topSide&&o.bottomSide)&&(i.posY==="top"?i.posY="bottom":i.posY="top",i.offsetY=i.offsetY+n.height,i.offsetY=-1*i.offsetY,i.position=er(r,i.posX,i.posY,!1,n),VI(e,i,n),s&&uj(r,e,t,i,n,!1))}function cj(r,e){var t=!1,i=!1;return r-ty()<QI()&&(t=!0),e>WI()&&(i=!0),{topSide:t,bottomSide:i}}function dj(){return Cr.getBoundingClientRect().width}function pj(){return Cr.getBoundingClientRect().height}function fj(){return Cr.getBoundingClientRect().left}function gj(){return Cr.getBoundingClientRect().top}function QI(){return Cr?gj():0}function _I(){return Cr?fj():0}function YI(){return Cr?iy()+fj()+dj():iy()+yj()}function WI(){return Cr?ty()+gj()+pj():ty()+mj()}function ty(){return Dl.documentElement.scrollTop||Dl.body.scrollTop}function iy(){return Dl.documentElement.scrollLeft||Dl.body.scrollLeft}function mj(){return window.innerHeight}function yj(){var r=window.innerWidth,e=document.documentElement.getBoundingClientRect(),t=p(document.documentElement)?0:e.width;return r-(r-t)}function vj(){Cr=null,Dl=null}var Mj=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Vi=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Sj=function(r){Mj(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Vi([I("left")],e.prototype,"X",void 0),Vi([I("top")],e.prototype,"Y",void 0),e}(Xe),nn={ROOT:"e-popup",RTL:"e-rtl",OPEN:"e-popup-open",CLOSE:"e-popup-close"},qI=function(r){Mj(e,r);function e(t,i){return r.call(this,i,t)||this}return e.prototype.onPropertyChanged=function(t,i){for(var n=0,s=Object.keys(t);n<s.length;n++){var o=s[n];switch(o){case"width":Ci(this.element,{width:mt(t.width)});break;case"height":Ci(this.element,{height:mt(t.height)});break;case"zIndex":Ci(this.element,{zIndex:t.zIndex});break;case"enableRtl":this.setEnableRtl();break;case"position":case"relateTo":this.refreshPosition();break;case"offsetX":{var a=t.offsetX-i.offsetX;this.element.style.left=(parseInt(this.element.style.left,10)+a).toString()+"px";break}case"offsetY":{var l=t.offsetY-i.offsetY;this.element.style.top=(parseInt(this.element.style.top,10)+l).toString()+"px";break}case"content":this.setContent();break;case"actionOnScroll":t.actionOnScroll!=="none"?this.wireScrollEvents():this.unwireScrollEvents();break}}},e.prototype.getModuleName=function(){return"popup"},e.prototype.resolveCollision=function(){this.checkCollision()},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.prototype.destroy=function(){this.element.classList.contains("e-popup-open")&&this.unwireEvents(),this.element.classList.remove(nn.ROOT,nn.RTL,nn.OPEN,nn.CLOSE),this.content=null,this.relateTo=null,vj(),r.prototype.destroy.call(this)},e.prototype.render=function(){this.element.classList.add(nn.ROOT);var t={};this.zIndex!==1e3&&(t.zIndex=this.zIndex),this.width!=="auto"&&(t.width=mt(this.width)),this.height!=="auto"&&(t.height=mt(this.height)),Ci(this.element,t),this.fixedParent=!1,this.setEnableRtl(),this.setContent()},e.prototype.wireEvents=function(){ne.isDevice&&F.add(window,"orientationchange",this.orientationOnChange,this),this.actionOnScroll!=="none"&&this.wireScrollEvents()},e.prototype.wireScrollEvents=function(){if(this.getRelateToElement())for(var t=0,i=this.getScrollableParent(this.getRelateToElement());t<i.length;t++){var n=i[t];F.add(n,"scroll",this.scrollRefresh,this)}},e.prototype.unwireEvents=function(){ne.isDevice&&F.remove(window,"orientationchange",this.orientationOnChange),this.actionOnScroll!=="none"&&this.unwireScrollEvents()},e.prototype.unwireScrollEvents=function(){if(this.getRelateToElement())for(var t=0,i=this.getScrollableParent(this.getRelateToElement());t<i.length;t++){var n=i[t];F.remove(n,"scroll",this.scrollRefresh)}},e.prototype.getRelateToElement=function(){var t=this.relateTo===""||p(this.relateTo)?document.body:this.relateTo;return this.setProperties({relateTo:t},!0),typeof this.relateTo=="string"?document.querySelector(this.relateTo):this.relateTo},e.prototype.scrollRefresh=function(t){if(this.actionOnScroll==="reposition"?!p(this.element)&&!(this.element.offsetParent===t.target||this.element.offsetParent&&this.element.offsetParent.tagName==="BODY"&&t.target.parentElement==null)&&this.refreshPosition():this.actionOnScroll==="hide"&&this.hide(),this.actionOnScroll!=="none"&&this.getRelateToElement()){var i=this.isElementOnViewport(this.getRelateToElement(),t.target);!i&&!this.targetInvisibleStatus?(this.trigger("targetExitViewport"),this.targetInvisibleStatus=!0):i&&(this.targetInvisibleStatus=!1)}},e.prototype.isElementOnViewport=function(t,i){for(var n=this.getScrollableParent(t),s=0;s<n.length;s++)if(!this.isElementVisible(t,n[s]))return!1;return!0},e.prototype.isElementVisible=function(t,i){var n=this.checkGetBoundingClientRect(t);if(!n.height||!n.width)return!1;if(p(this.checkGetBoundingClientRect(i))){var o=window,a={top:o.scrollY,left:o.scrollX,right:o.scrollX+o.outerWidth,bottom:o.scrollY+o.outerHeight},l=er(t),h={top:l.top,left:l.left,right:l.left+n.width,bottom:l.top+n.height},u={top:a.bottom-h.top,left:a.right-h.left,bottom:h.bottom-a.top,right:h.right-a.left};return u.top>0&&u.left>0&&u.right>0&&u.bottom>0}else{var s=i.getBoundingClientRect();return!(n.bottom<s.top)&&!(n.bottom>s.bottom)&&!(n.right>s.right)&&!(n.left<s.left)}},e.prototype.preRender=function(){},e.prototype.setEnableRtl=function(){this.reposition(),this.enableRtl?this.element.classList.add(nn.RTL):this.element.classList.remove(nn.RTL)},e.prototype.setContent=function(){if(!p(this.content))if(this.element.innerHTML="",typeof this.content=="string")this.element.textContent=this.content;else{var t=this.getRelateToElement(),i=this.content.props;(!t.classList.contains("e-dropdown-btn")||p(i))&&this.element.appendChild(this.content)}},e.prototype.orientationOnChange=function(){var t=this;setTimeout(function(){t.refreshPosition()},200)},e.prototype.refreshPosition=function(t,i){p(t)||this.checkFixedParent(t),this.reposition(),i||this.checkCollision()},e.prototype.reposition=function(){var t,i,n=this.getRelateToElement();if(typeof this.position.X=="number"&&typeof this.position.Y=="number")t={left:this.position.X,top:this.position.Y};else if(typeof this.position.X=="string"&&typeof this.position.Y=="number"||typeof this.position.X=="number"&&typeof this.position.Y=="string"){var s=void 0,o=this.element.style.display;this.element.style.display="block",this.element.classList.contains("e-dlg-modal")&&(s=this.element.parentElement.style.display,this.element.parentElement.style.display="block"),i=this.getAnchorPosition(n,this.element,this.position,this.offsetX,this.offsetY),typeof this.position.X=="string"?t={left:i.left,top:this.position.Y}:t={left:this.position.X,top:i.top},this.element.style.display=o,this.element.classList.contains("e-dlg-modal")&&(this.element.parentElement.style.display=s)}else if(n){var a=this.element.clientHeight,o=this.element.style.display;this.element.style.display="block",t=this.getAnchorPosition(n,this.element,this.position,this.offsetX,this.offsetY,a),this.element.style.display=o}else t={left:0,top:0};p(t)||(this.element.style.left=t.left+"px",this.element.style.top=t.top+"px")},e.prototype.checkGetBoundingClientRect=function(t){var i;try{return i=t.getBoundingClientRect(),i}catch{return null}},e.prototype.getAnchorPosition=function(t,i,n,s,o,a){a===void 0&&(a=0);var l=this.checkGetBoundingClientRect(i),h=this.checkGetBoundingClientRect(t);if(p(l)||p(h))return null;var u=t,c={left:0,top:0};switch(i.offsetParent&&i.offsetParent.tagName==="BODY"&&t.tagName==="BODY"?c=er(t):(i.classList.contains("e-dlg-modal")&&u.tagName!=="BODY"&&(i=i.parentElement),c=BI(u,i)),n.X){default:case"left":break;case"center":i.classList.contains("e-dlg-modal")&&u.tagName==="BODY"&&this.targetType==="container"?c.left+=window.innerWidth/2-l.width/2:this.targetType==="container"?c.left+=h.width/2-l.width/2:c.left+=h.width/2;break;case"right":if(i.classList.contains("e-dlg-modal")&&u.tagName==="BODY"&&this.targetType==="container")c.left+=window.innerWidth-l.width;else if(this.targetType==="container"){var d=1,f=aj(i);if(f){var g=getComputedStyle(f).transform;if(g!=="none"){var m=new DOMMatrix(g);d=m.a}var y=getComputedStyle(f).zoom;if(y!=="none"){var v=HI(document.body);d=v*d}}c.left+=(h.width-l.width)/d}else c.left+=h.width;break}switch(n.Y){default:case"top":break;case"center":i.classList.contains("e-dlg-modal")&&u.tagName==="BODY"&&this.targetType==="container"?c.top+=window.innerHeight/2-l.height/2:this.targetType==="container"?c.top+=h.height/2-l.height/2:c.top+=h.height/2;break;case"bottom":i.classList.contains("e-dlg-modal")&&u.tagName==="BODY"&&this.targetType==="container"?c.top+=window.innerHeight-l.height:this.targetType==="container"&&!i.classList.contains("e-dialog")?c.top+=h.height-l.height:this.targetType==="container"&&i.classList.contains("e-dialog")?c.top+=h.height-a:c.top+=h.height;break}return c.left+=s,c.top+=o,c},e.prototype.callFlip=function(t){var i=this.getRelateToElement();gK(this.element,i,this.offsetX,this.offsetY,this.position.X,this.position.Y,this.viewPortElement,t,this.fixedParent)},e.prototype.callFit=function(t){if(UI(this.element,this.viewPortElement).length!==0)if(p(this.viewPortElement)){var i=oj(this.element,this.viewPortElement,t);t.X&&(this.element.style.left=i.left+"px"),t.Y&&(this.element.style.top=i.top+"px")}else{var n=this.checkGetBoundingClientRect(this.element),s=this.checkGetBoundingClientRect(this.viewPortElement);if(p(n)||p(s))return null;t&&t.Y===!0&&(s.top>n.top?this.element.style.top="0px":s.bottom<n.bottom&&(this.element.style.top=parseInt(this.element.style.top,10)-(n.bottom-s.bottom)+"px")),t&&t.X===!0&&(s.right<n.right?this.element.style.left=parseInt(this.element.style.left,10)-(n.right-s.right)+"px":s.left>n.left&&(this.element.style.left=parseInt(this.element.style.left,10)+(s.left-n.left)+"px"))}},e.prototype.checkCollision=function(){var t=this.collision.X,i=this.collision.Y;t==="none"&&i==="none"||(t==="flip"&&i==="flip"?this.callFlip({X:!0,Y:!0}):t==="fit"&&i==="fit"?this.callFit({X:!0,Y:!0}):(t==="flip"?this.callFlip({X:!0,Y:!1}):i==="flip"&&this.callFlip({Y:!0,X:!1}),t==="fit"?this.callFit({X:!0,Y:!1}):i==="fit"&&this.callFit({X:!1,Y:!0})))},e.prototype.show=function(t,i){var n=this;if(this.wireEvents(),this.getRelateToElement(),this.zIndex===1e3||!p(i)){var s=p(i)?this.element:i;this.zIndex=Cj(s),Ci(this.element,{zIndex:this.zIndex})}t=!p(t)&&typeof t=="object"?t:this.showAnimation,(this.collision.X!=="none"||this.collision.Y!=="none")&&(ue([this.element],nn.CLOSE),Z([this.element],nn.OPEN),this.checkCollision(),ue([this.element],nn.OPEN),Z([this.element],nn.CLOSE)),p(t)?(ue([this.element],nn.CLOSE),Z([this.element],nn.OPEN),this.trigger("open")):(t.begin=function(){n.isDestroyed||(ue([n.element],nn.CLOSE),Z([n.element],nn.OPEN))},t.end=function(){n.isDestroyed||n.trigger("open")},new ro(t).animate(this.element))},e.prototype.hide=function(t){var i=this;t=!p(t)&&typeof t=="object"?t:this.hideAnimation,p(t)?(ue([this.element],nn.OPEN),Z([this.element],nn.CLOSE),this.trigger("close")):(t.end=function(){i.isDestroyed||(ue([i.element],nn.OPEN),Z([i.element],nn.CLOSE),i.trigger("close"))},new ro(t).animate(this.element)),this.unwireEvents()},e.prototype.getScrollableParent=function(t){return this.checkFixedParent(t),vK(t,this.fixedParent)},e.prototype.checkFixedParent=function(t){for(var i=t.parentElement;i&&i.tagName!=="HTML";){var n=getComputedStyle(i);(n.position==="fixed"||n.position==="sticky")&&!p(this.element)&&this.element.offsetParent&&this.element.offsetParent.tagName==="BODY"&&getComputedStyle(this.element.offsetParent).overflow!=="hidden"&&(this.element.style.top=window.scrollY>parseInt(this.element.style.top,10)?mt(window.scrollY-parseInt(this.element.style.top,10)):mt(parseInt(this.element.style.top,10)-window.scrollY),this.element.style.position="fixed",this.fixedParent=!0),i=i.parentElement,!p(this.element)&&p(this.element.offsetParent)&&n.position==="fixed"&&this.element.style.position==="fixed"&&(this.fixedParent=!0)}},Vi([I("auto")],e.prototype,"height",void 0),Vi([I("auto")],e.prototype,"width",void 0),Vi([I(null)],e.prototype,"content",void 0),Vi([I("container")],e.prototype,"targetType",void 0),Vi([I(null)],e.prototype,"viewPortElement",void 0),Vi([I({X:"none",Y:"none"})],e.prototype,"collision",void 0),Vi([I("")],e.prototype,"relateTo",void 0),Vi([gt({},Sj)],e.prototype,"position",void 0),Vi([I(0)],e.prototype,"offsetX",void 0),Vi([I(0)],e.prototype,"offsetY",void 0),Vi([I(1e3)],e.prototype,"zIndex",void 0),Vi([I(!1)],e.prototype,"enableRtl",void 0),Vi([I("reposition")],e.prototype,"actionOnScroll",void 0),Vi([I(null)],e.prototype,"showAnimation",void 0),Vi([I(null)],e.prototype,"hideAnimation",void 0),Vi([Q()],e.prototype,"open",void 0),Vi([Q()],e.prototype,"close",void 0),Vi([Q()],e.prototype,"targetExitViewport",void 0),e=Vi([tn],e),e}(rr);function vK(r,e){for(var t=getComputedStyle(r),i=[],n=/(auto|scroll)/,s=r.parentElement;s&&s.tagName!=="HTML";){var o=getComputedStyle(s);!(t.position==="absolute"&&o.position==="static")&&n.test(o.overflow+o.overflowY+o.overflowX)&&i.push(s),s=s.parentElement}return e||i.push(document),i}function Cj(r){for(var e=r.parentElement,t=[];e&&e.tagName!=="BODY";){var i=document.defaultView.getComputedStyle(e,null).getPropertyValue("z-index"),n=document.defaultView.getComputedStyle(e,null).getPropertyValue("position");i!=="auto"&&n!=="static"&&parseInt(i,10)<2147483647&&t.push(i),e=e.parentElement}for(var s=[],o=0;o<document.body.children.length;o++)if(!r.isEqualNode(document.body.children[o])){var i=document.defaultView.getComputedStyle(document.body.children[o],null).getPropertyValue("z-index"),n=document.defaultView.getComputedStyle(document.body.children[o],null).getPropertyValue("position");i!=="auto"&&n!=="static"&&parseInt(i,10)<2147483647&&s.push(i)}s.push("999");var a=[];if(!p(r.parentElement)&&r.parentElement.tagName!=="BODY"){for(var l=[].slice.call(r.parentElement.children),o=0;o<l.length;o++)if(!r.isEqualNode(l[o])){var i=document.defaultView.getComputedStyle(l[o],null).getPropertyValue("z-index"),n=document.defaultView.getComputedStyle(l[o],null).getPropertyValue("position");i!=="auto"&&n!=="static"&&parseInt(i,10)<2147483647&&a.push(i)}}var h=t.concat(s,a),u=Math.max.apply(Math,h)+1;return u>2147483647?2147483647:u}function Foe(r,e,t,i,n,s){var o=i;if(i.tagName===e){var a=H("ej2_instances",i);o=r("input",{attrs:{type:t}});for(var l=["change","cssClass","label","labelPosition","id"],h=0,u=i.attributes.length;h<u;h++)l.indexOf(i.attributes[h].nodeName)===-1&&o.setAttribute(i.attributes[h].nodeName,i.attributes[h].nodeValue);Et(i,{class:n}),i.appendChild(o),i.classList.add(s),i.classList.remove(s),Ze("ej2_instances",a,o),LI(i,"ej2_instances")}return o}function MK(r){for(var e,t=r.childNodes,i=0;i<t.length;i++)if(e=t[i],e.nodeType===3)return e;return null}function Kh(r,e,t){e===void 0&&(e=!1),t===void 0&&(t={});var i=r("div",{className:"e-checkbox-wrapper e-css"});if(t.cssClass&&Z([i],t.cssClass.split(" ")),t.enableRtl&&i.classList.add("e-rtl"),e){var n=r("span",{className:"e-ripple-container"});RI(n,{isCenterRipple:!0,duration:400}),i.appendChild(n)}var s=r("span",{className:"e-frame e-icons"});if(t.checked&&s.classList.add("e-check"),i.appendChild(s),t.label){var o=r("span",{className:"e-label"});t.disableHtmlEncode?o.textContent=t.label:o.innerHTML=t.label,i.appendChild(o)}return i}function Boe(r,e){if(e){var t=document.createEvent("MouseEvents");t.initEvent(r.type,!1,!0),e.dispatchEvent(t)}}function Uoe(r,e){r.element.getAttribute("ejs-for")&&e.appendChild(r.createElement("input",{attrs:{name:r.name||r.element.name,value:"false",type:"hidden"}}))}var SK=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ms=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Yx;(function(r){r.Left="Left",r.Right="Right",r.Top="Top",r.Bottom="Bottom"})(Yx||(Yx={}));var Gr={RTL:"e-rtl",BUTTON:"e-btn",PRIMARY:"e-primary",ICONBTN:"e-icon-btn"},uh=function(r){SK(e,r);function e(t,i){return r.call(this,t,i)||this}return e.prototype.preRender=function(){},e.prototype.render=function(){this.initialize(),this.removeRippleEffect=RI(this.element,{selector:"."+Gr.BUTTON}),this.renderComplete()},e.prototype.initialize=function(){this.cssClass&&Z([this.element],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.isPrimary&&this.element.classList.add(Gr.PRIMARY);{if(this.content){var t=this.enableHtmlSanitizer?St.sanitize(this.content):this.content;this.element.innerHTML=t}this.setIconCss()}this.enableRtl&&this.element.classList.add(Gr.RTL),this.disabled?this.controlStatus(this.disabled):this.wireEvents()},e.prototype.controlStatus=function(t){this.element.disabled=t},e.prototype.setIconCss=function(){if(this.iconCss){var t=this.createElement("span",{className:"e-btn-icon "+this.iconCss});this.element.textContent.trim()?(t.classList.add("e-icon-"+this.iconPosition.toLowerCase()),(this.iconPosition==="Top"||this.iconPosition==="Bottom")&&this.element.classList.add("e-"+this.iconPosition.toLowerCase()+"-icon-btn")):this.element.classList.add(Gr.ICONBTN);var i=this.element.childNodes[0];i&&(this.iconPosition==="Left"||this.iconPosition==="Top")?this.element.insertBefore(t,i):this.element.appendChild(t)}},e.prototype.wireEvents=function(){this.isToggle&&F.add(this.element,"click",this.btnClickHandler,this)},e.prototype.unWireEvents=function(){this.isToggle&&F.remove(this.element,"click",this.btnClickHandler)},e.prototype.btnClickHandler=function(){this.element.classList.contains("e-active")?this.element.classList.remove("e-active"):this.element.classList.add("e-active")},e.prototype.destroy=function(){var t=[Gr.PRIMARY,Gr.RTL,Gr.ICONBTN,"e-success","e-info","e-danger","e-warning","e-flat","e-outline","e-small","e-bigger","e-active","e-round","e-top-icon-btn","e-bottom-icon-btn"];this.cssClass&&(t=t.concat(this.cssClass.split(/\s+/).filter(function(n){return n.length>0}))),r.prototype.destroy.call(this),ue([this.element],t),this.element.getAttribute("class")||this.element.removeAttribute("class"),this.disabled&&this.element.removeAttribute("disabled"),this.content&&(this.element.textContent="");var i=this.element.querySelector("span.e-btn-icon");i&&bt(i),this.unWireEvents()},e.prototype.getModuleName=function(){return"btn"},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.Inject=function(){},e.prototype.onPropertyChanged=function(t,i){for(var n=this.element.querySelector("span.e-btn-icon"),s=0,o=Object.keys(t);s<o.length;s++){var a=o[s];switch(a){case"isPrimary":t.isPrimary?this.element.classList.add(Gr.PRIMARY):this.element.classList.remove(Gr.PRIMARY);break;case"disabled":this.controlStatus(t.disabled);break;case"iconCss":{n=this.element.querySelector("span.e-btn-icon"),n?t.iconCss?(n.className="e-btn-icon "+t.iconCss,this.element.textContent.trim()&&(this.iconPosition==="Left"?n.classList.add("e-icon-left"):n.classList.add("e-icon-right"))):bt(n):this.setIconCss();break}case"iconPosition":ue([this.element],["e-top-icon-btn","e-bottom-icon-btn"]),n=this.element.querySelector("span.e-btn-icon"),n&&bt(n),this.setIconCss();break;case"cssClass":i.cssClass&&ue([this.element],i.cssClass.split(/\s+/).filter(function(h){return h.length>0})),t.cssClass&&Z([this.element],t.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":t.enableRtl?this.element.classList.add(Gr.RTL):this.element.classList.remove(Gr.RTL);break;case"content":{var l=MK(this.element);l||this.element.classList.remove(Gr.ICONBTN),this.enableHtmlSanitizer&&(t.content=St.sanitize(t.content)),this.element.innerHTML=t.content,this.setIconCss();break}case"isToggle":t.isToggle?F.add(this.element,"click",this.btnClickHandler,this):(F.remove(this.element,"click",this.btnClickHandler),ue([this.element],["e-active"]));break}}},e.prototype.click=function(){this.element.click()},e.prototype.focusIn=function(){this.element.focus()},ms([I("Left")],e.prototype,"iconPosition",void 0),ms([I("")],e.prototype,"iconCss",void 0),ms([I(!1)],e.prototype,"disabled",void 0),ms([I(!1)],e.prototype,"isPrimary",void 0),ms([I("")],e.prototype,"cssClass",void 0),ms([I("")],e.prototype,"content",void 0),ms([I(!1)],e.prototype,"isToggle",void 0),ms([I()],e.prototype,"locale",void 0),ms([I(!0)],e.prototype,"enableHtmlSanitizer",void 0),ms([Q()],e.prototype,"created",void 0),e=ms([tn],e),e}(rr),zM=["north-west","north","north-east","west","east","south-west","south","south-east"],af="e-resize-handle",yl="e-focused-handle",CK="e-dlg-resizable",Wx=["e-restrict-left"],bj="e-resize-viewport",bK=["north","west","east","south"],Kt,Is,GI=0,$I=0,Ij=0,Dj=0,bp=0,Ip=0,Vu,Xo,KI,ea,kt,Dc=null,ny=null,ry=null,Bo,nC=0,sy=!0,qx=0,OM=!0;function IK(r){Dc=r.resizeBegin,ny=r.resizing,ry=r.resizeComplete,Kt=Gx(r.element),kt=Gx(r.boundary);for(var e=r.direction.split(" "),t=0;t<e.length;t++)if(bK.indexOf(e[t])>=0&&e[t])DK(e[t]);else if(e[t].trim()!==""){var i=Be("div",{className:"e-icons "+af+" e-"+e[t]});Kt.appendChild(i)}Vu=r.minHeight,KI=r.minWidth,ea=r.maxWidth,Xo=r.maxHeight,nC++,r.proxy&&r.proxy.element&&r.proxy.element.classList.contains("e-dialog")?$x(r.proxy):$x()}function DK(r){JI();var e=Be("span",{attrs:{unselectable:"on",contenteditable:"false"}});e.setAttribute("class","e-dialog-border-resize e-"+r),r==="south"&&(e.style.height="2px",e.style.width="100%",e.style.bottom="0px",e.style.left="0px"),r==="north"&&(e.style.height="2px",e.style.width="100%",e.style.top="0px",e.style.left="0px"),r==="east"&&(e.style.height="100%",e.style.width="2px",e.style.right="0px",e.style.top="0px"),r==="west"&&(e.style.height="100%",e.style.width="2px",e.style.left="0px",e.style.top="0px"),Kt.appendChild(e)}function Gx(r){var e;return p(r)||(typeof r=="string"?e=document.querySelector(r):e=r),e}function $x(r){for(var e=r||this,t=Kt.querySelectorAll("."+af),i=0;i<t.length;i++){Is=t[i],F.add(Is,"mousedown",Kx,e);var n=ne.info.name==="msie"?"pointerdown":"touchstart";F.add(Is,n,Jx,e)}var s=Kt.querySelectorAll(".e-dialog-border-resize");if(!p(s))for(var i=0;i<s.length;i++){Is=s[i],F.add(Is,"mousedown",Kx,e);var n=ne.info.name==="msie"?"pointerdown":"touchstart";F.add(Is,n,Jx,e)}}function Tj(r){return r.indexOf("mouse")>-1?"mouse":"touch"}function Kx(r){if(r.preventDefault(),Kt=r.target.parentElement,JI(),bp=r.pageX,Ip=r.pageY,r.target.classList.add(yl),!p(Dc)){var e=this;if(Dc(r,e)===!0)return}this.targetEle&&Kt&&Kt.querySelector("."+CK)&&(kt=this.target==="body"?null:this.targetEle,ea=this.targetEle.clientWidth,Xo=this.targetEle.clientHeight);var t=p(kt)?document:kt;F.add(t,"mousemove",Vd,this),F.add(document,"mouseup",oy,this);for(var i=0;i<Wx.length;i++)Kt.classList.contains(Wx[i])?sy=!1:sy=!0}function oy(r){var e=ne.info.name==="msie"?"pointermove":"touchmove",t=ne.info.name==="msie"?"pointerup":"touchend",i=p(kt)?document:kt,n=ne.info.name==="msie"?"pointerdown":"touchstart";if(F.remove(i,"mousemove",Vd),F.remove(i,e,Vd),F.remove(i,n,Vd),p(document.body.querySelector("."+yl))||document.body.querySelector("."+yl).classList.remove(yl),!p(ry)){var s=this;ry(r,s)}F.remove(document,"mouseup",oy),F.remove(document,t,oy)}function JI(){GI=parseFloat(getComputedStyle(Kt,null).getPropertyValue("width").replace("px","")),$I=parseFloat(getComputedStyle(Kt,null).getPropertyValue("height").replace("px","")),Ij=Kt.getBoundingClientRect().left,Dj=Kt.getBoundingClientRect().top}function Jx(r){Kt=r.target.parentElement,JI();var e=Kt.classList.contains("e-dialog");(r.target.classList.contains(af)||r.target.classList.contains("e-dialog-border-resize"))&&e&&r.target.classList.add(yl);var t=r.touches?r.changedTouches[0]:r;if(bp=t.pageX,Ip=t.pageY,!p(Dc)){var i=this;if(Dc(r,i)===!0)return}var n=ne.info.name==="msie"?"pointermove":"touchmove",s=ne.info.name==="msie"?"pointerup":"touchend",o=p(kt)?document:kt;F.add(o,n,Vd,this),F.add(document,s,oy,this)}function Vd(r){if(r.target.classList.contains(af)&&r.target.classList.contains(yl)?Is=r.target:p(document.body.querySelector("."+yl))||(Is=document.body.querySelector("."+yl)),!p(Is)){for(var e="",t=0;t<zM.length;t++)Is.classList.contains("e-"+zM[t])&&(e=zM[t]);if(!p(ny)){var i=this;ny(r,i)}switch(e){case"south":RM(r);break;case"north":jM(r);break;case"west":PM(r);break;case"east":FM(r);break;case"south-east":RM(r),FM(r);break;case"south-west":RM(r),PM(r);break;case"north-east":jM(r),FM(r);break;case"north-west":jM(r),PM(r);break}}}function Tl(r){return r.getBoundingClientRect()}function RM(r){var e=document.documentElement.clientHeight,t=!1,i=r.touches?r.changedTouches[0]:r,n=i.pageY,s=Tl(Kt),o;p(kt)||(o=Tl(kt)),p(kt)?p(kt)&&(e-n>=0||s.top<0)&&(t=!0):t=!0;var a=$I+(n-Ip);a=a>Vu?a:Vu;var l=0;p(kt)||(l=o.top);var h=p(kt)?0:kt.offsetHeight-kt.clientHeight,u=s.top-l-h/2;if(u=u<0?0:u,s.top>0&&u+a>Xo){if(t=!1,Kt.classList.contains(bj))return;Kt.style.height=Xo-parseInt(u.toString(),10)+"px";return}var c=0;if(t){s.top<0&&e+(s.height+s.top)>0&&(c=s.top,a+c<=30&&(a=s.height-(s.height+s.top)+30)),a+s.top>=Xo&&(Kt.style.height=s.height+(e-(s.height+s.top))+"px");var d=p(kt)?c:u;a>=Vu&&a+d<=Xo&&(Kt.style.height=a+"px")}}function jM(r){var e=!1,t,i=Tj(r.type)==="mouse"?r.pageY:r.touches[0].pageY,n=Tl(Kt),s=p(kt)?0:kt.offsetHeight-kt.clientHeight;p(kt)||(t=Tl(kt)),(!p(kt)&&n.top-t.top>0||p(kt)&&i>0||!p(kt)&&Math.floor(n.top-t.top+n.height+(t.bottom-n.bottom))-s<=Xo)&&(e=!0);var o=$I-(i-Ip);if(e&&o>=Vu&&o<=Xo){var a=0;p(kt)||(a=t.top);var l=Dj-a+(i-Ip);l=l>0?l:1,Kt.style.height=o+"px",Kt.style.top=l+"px"}}function PM(r){var e=document.documentElement.clientWidth,t=!1,i;p(kt)||(i=Tl(kt));var n=Tj(r.type)==="mouse"?r.pageX:r.touches[0].pageX,s=Tl(Kt),o=p(kt)?0:kt.offsetWidth-kt.clientWidth,a=p(kt)?0:i.left,l=p(kt)?0:i.width;p(Bo)&&(p(kt)?Bo=e:(Bo=s.left-a-o/2+s.width,Bo=Bo+(l-o-Bo))),(!p(kt)&&Math.floor(s.left-i.left+s.width+(i.right-s.right))-o<=ea||p(kt)&&n>=0)&&(t=!0);var h=GI-(n-bp);if(sy&&(h=h>Bo?Bo:h),t&&h>=KI&&h<=ea){var u=0;p(kt)||(u=i.left);var c=Ij-u+(n-bp);c=c>0?c:1,h!==qx&&OM&&(Kt.style.width=h+"px"),sy&&(Kt.style.left=c+"px",c===1?OM=!1:OM=!0)}qx=h}function FM(r){var e=document.documentElement.clientWidth,t=!1,i;p(kt)||(i=Tl(kt));var n=r.touches?r.changedTouches[0]:r,s=n.pageX,o=Tl(Kt);(!p(kt)&&(o.left-i.left+o.width<=ea||o.right-i.left>=o.width)||p(kt)&&e-s>0)&&(t=!0);var a=GI+(s-bp),l=0;if(p(kt)||(l=i.left),o.left-l+a>ea){if(t=!1,Kt.classList.contains(bj))return;Kt.style.width=ea-(o.left-l)+"px"}t&&a>=KI&&a<=ea&&(Kt.style.width=a+"px")}function TK(r){Vu=r}function wK(r){ea=r}function xK(r){Xo=r}function Zx(){for(var r=Kt.querySelectorAll("."+af),e=0;e<r.length;e++)bt(r[e]);var t=Kt.querySelectorAll(".e-dialog-border-resize");if(!p(t))for(var e=0;e<t.length;e++)bt(t[e])}function NK(){nC--,nC===0&&(Kt=null,Is=null,kt=null,Bo=null,Dc=null,ny=null,ry=null)}var ZI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),At=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},AK=function(r){ZI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return At([I(!0)],e.prototype,"isFlat",void 0),At([I()],e.prototype,"buttonModel",void 0),At([I("Button")],e.prototype,"type",void 0),At([Q()],e.prototype,"click",void 0),e}(Xe),EK=function(r){ZI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return At([I("Fade")],e.prototype,"effect",void 0),At([I(400)],e.prototype,"duration",void 0),At([I(0)],e.prototype,"delay",void 0),e}(Xe),Vf="e-dialog",BM="e-rtl",UM="e-dlg-header-content",Xx="e-dlg-header",Qf="e-footer-content",_f="e-dlg-modal",kK="e-dlg-content",e1="e-icon-dlg-close",LK="e-dlg-overlay",ys="e-dlg-target",zK="e-dlg-container",$r="e-scroll-disabled",OK="e-primary",RK="e-icons",jK="e-popup",t1="e-device",Yf="e-dlg-fullscreen",i1="e-dlg-closeicon-btn",PK="e-popup-close",n1="e-popup-open",r1="Information",s1="e-scroll-disabled",wj="e-alert-dialog",xj="e-confirm-dialog",HM="e-dlg-resizable",pu="e-restrict-left",o1="e-resize-viewport",FK="e-dlg-ref-element",VM="user action",BK="close icon",UK="escape",HK="overlayClick",VK="e-draggable",a1='input,select,textarea,button:enabled,a,[contenteditable="true"],[tabindex]',XI=function(r){ZI(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.needsID=!0,n}return e.prototype.render=function(){this.initialize(),this.initRender(),this.wireEvents(),this.width==="100%"&&(this.element.style.width=""),this.minHeight!==""&&(this.element.style.minHeight=mt(this.minHeight)),this.enableResize&&(this.setResize(),this.isModal&&(this.isModelResize=!0),this.animationSettings.effect==="None"&&this.getMinHeight()),this.renderComplete()},e.prototype.initializeValue=function(){this.dlgClosedBy=VM},e.prototype.preRender=function(){var t=this;this.initializeValue(),this.headerContent=null,this.allowMaxHeight=!0,this.preventVisibility=!0,this.clonedEle=this.element.cloneNode(!0),this.closeIconClickEventHandler=function(s){t.dlgClosedBy=BK,t.hide(s)},this.dlgOverlayClickEventHandler=function(s){t.dlgClosedBy=HK,s.preventFocus=!1,t.trigger("overlayClick",s,function(o){o.preventFocus||t.focusContent(),t.dlgClosedBy=VM})};var i={close:"Close"};if(this.l10n=new so("dialog",i,this.locale),this.checkPositionData(),p(this.target)){var n=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.target=document.body,this.isProtectedOnChange=n}},e.prototype.updatePersistData=function(){this.enablePersistence&&this.setProperties({width:parseFloat(this.element.style.width),height:parseFloat(this.element.style.height),position:{X:parseFloat(this.dragObj.element.style.left),Y:parseFloat(this.dragObj.element.style.top)}},!0)},e.prototype.isNumberValue=function(t){var i=/^[-+]?\d*\.?\d+$/.test(t);return i},e.prototype.checkPositionData=function(){if(!p(this.position)){if(!p(this.position.X)&&typeof this.position.X!="number"){var t=this.isNumberValue(this.position.X);if(t){var i=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.X=parseFloat(this.position.X),this.isProtectedOnChange=i}}if(!p(this.position.Y)&&typeof this.position.Y!="number"){var t=this.isNumberValue(this.position.Y);if(t){var i=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.Y=parseFloat(this.position.Y),this.isProtectedOnChange=i}}}},e.prototype.getEle=function(t,i){for(var n=void 0,s=0;s<t.length;s++)if(t[s].classList.contains(i)){n=t[s];break}return n},e.prototype.getMinHeight=function(){var t="0px",i="0px";p(this.element.querySelector("."+UM))||(t=getComputedStyle(this.headerContent).height);var n=this.getEle(this.element.children,Qf);p(n)||(i=getComputedStyle(n).height);var s=parseInt(t.slice(0,t.indexOf("p")),10),o=parseInt(i.slice(0,i.indexOf("p")),10);return TK(s+30+(isNaN(o)?0:o)),s+30+o},e.prototype.onResizeStart=function(t,i){if(i.trigger("resizeStart",t),!t.cancel&&this.isModelResize&&!p(this.dlgContainer)&&this.dlgContainer.classList.contains("e-dlg-"+this.position.X+"-"+this.position.Y)){this.setPopupPosition(),this.dlgContainer.classList.remove("e-dlg-"+this.position.X+"-"+this.position.Y);var n=this.getTargetContainer(this.target);if(n instanceof Element){var s=window.getComputedStyle(n);s.getPropertyValue("direction")==="rtl"?this.element.style.position="absolute":this.element.style.position="relative"}else this.element.style.position="relative";this.element.classList.contains(pu)&&this.element.classList.remove(pu),this.isModelResize=!1}return t.cancel},e.prototype.onResizing=function(t,i){i.trigger("resizing",t)},e.prototype.onResizeComplete=function(t,i){i.trigger("resizeStop",t),this.updatePersistData()},e.prototype.setResize=function(){if(this.enableResize){this.element.classList.add(HM);for(var t=getComputedStyle(this.element).minHeight,i=getComputedStyle(this.element).minWidth,n="",s=0;s<this.resizeHandles.length;s++)if(this.resizeHandles[s]==="All"){n="south north east west north-east north-west south-east south-west";break}else{var o="";switch(this.resizeHandles[s].toString()){case"SouthEast":o="south-east";break;case"SouthWest":o="south-west";break;case"NorthEast":o="north-east";break;case"NorthWest":o="north-west";break;default:o=this.resizeHandles[s].toString();break}n+=o.toLocaleLowerCase()+" "}this.enableRtl&&n.trim()==="south-east"?n="south-west":this.enableRtl&&n.trim()==="south-west"&&(n="south-east"),this.isModal&&this.enableRtl?this.element.classList.add(pu):this.isModal&&this.target===document.body&&this.element.classList.add(o1),IK({element:this.element,direction:n,minHeight:parseInt(t.slice(0,i.indexOf("p")),10),maxHeight:this.targetEle.clientHeight,minWidth:parseInt(i.slice(0,i.indexOf("p")),10),maxWidth:this.targetEle.clientWidth,boundary:this.target===document.body?null:this.targetEle,resizeBegin:this.onResizeStart.bind(this),resizeComplete:this.onResizeComplete.bind(this),resizing:this.onResizing.bind(this),proxy:this}),this.wireWindowResizeEvent()}else Zx(),this.unWireWindowResizeEvent(),this.isModal?this.element.classList.remove(pu):this.element.classList.remove(o1),this.element.classList.remove(HM)},e.prototype.getFocusElement=function(t){var i=t.querySelectorAll(a1);return{element:i[i.length-1]}},e.prototype.keyDown=function(t){var i=this;if(t.keyCode===9&&this.isModal){var n=void 0;if(p(this.btnObj)||(n=this.btnObj[this.btnObj.length-1]),p(this.btnObj)&&!p(this.ftrTemplateContent)&&(n=this.getFocusElement(this.ftrTemplateContent),p(this.btnObj)&&(!n||p(n.element)))){var s=this.element.querySelectorAll(a1);if(s.length>0){for(var o=[],a=0;a<s.length;a++)s[a].hasAttribute("tabindex")&&s[a].getAttribute("tabindex")==="-1"||o.push(s[a]);o.length>0&&document.activeElement===o[o.length-1]&&(t.preventDefault(),this.focusableElements(this.element).focus())}}p(this.btnObj)&&p(this.ftrTemplateContent)&&!p(this.contentEle)&&(n=this.getFocusElement(this.contentEle)),!p(n)&&document.activeElement===n.element&&!t.shiftKey&&(t.preventDefault(),this.focusableElements(this.element).focus()),document.activeElement===this.focusableElements(this.element)&&t.shiftKey&&(t.preventDefault(),p(n)||n.element.focus())}var l=document.activeElement,h=["input","textarea"].indexOf(l.tagName.toLowerCase())>-1,u=!1;if(h||(u=l.hasAttribute("contenteditable")&&l.getAttribute("contenteditable")==="true"),t.keyCode===27&&this.closeOnEscape){this.dlgClosedBy=UK;var c=document.querySelector(".e-popup-open:not(.e-dialog)");!p(c)&&!c.classList.contains("e-toolbar-pop")&&!c.classList.contains("e-slider-tooltip")||this.hide(t)}if(t.keyCode===13&&!t.ctrlKey&&l.tagName.toLowerCase()!=="textarea"&&h&&!p(this.primaryButtonEle)||t.keyCode===13&&t.ctrlKey&&(l.tagName.toLowerCase()==="textarea"||u)&&!p(this.primaryButtonEle)){var d,f=this.buttons.some(function(g,m){d=m;var y=g.buttonModel;return!p(y)&&y.isPrimary===!0});f&&typeof this.buttons[d].click=="function"&&!this.primaryButtonEle.disabled&&setTimeout(function(){i.buttons[d].click.call(i,t)})}},e.prototype.initialize=function(){p(this.target)||(this.targetEle=typeof this.target=="string"?document.querySelector(this.target):this.target),this.isBlazorServerRender()||Z([this.element],Vf),ne.isDevice&&Z([this.element],t1),this.isBlazorServerRender()||this.setCSSClass(),this.setMaxHeight()},e.prototype.initRender=function(){var t=this;if(this.initialRender=!0,this.isBlazorServerRender()||Et(this.element,{role:"dialog"}),this.zIndex===1e3?(this.setzIndex(this.element,!1),this.calculatezIndex=!0):this.calculatezIndex=!1,this.setTargetContent(),this.header!==""&&!p(this.header)&&this.setHeader(),this.renderCloseIcon(),this.setContent(),this.footerTemplate!==""&&!p(this.footerTemplate)?this.setFooterTemplate():!p(this.buttons[0])&&!p(this.buttons[0].buttonModel)&&this.setButton(),this.allowDragging&&!p(this.headerContent)&&this.setAllowDragging(),Et(this.element,{"aria-modal":this.isModal?"true":"false"}),this.isModal&&this.setIsModal(),this.element.classList.contains(wj)!==!0&&this.element.classList.contains(xj)!==!0&&!p(this.element.parentElement)){var i=this.isModal?this.dlgContainer.parentElement:this.element.parentElement;this.refElement=this.createElement("div",{className:FK}),i.insertBefore(this.refElement,this.isModal?this.dlgContainer:this.element)}if(p(this.targetEle)||(this.isModal?this.targetEle.appendChild(this.dlgContainer):this.targetEle.appendChild(this.element)),this.popupObj=new qI(this.element,{height:this.height,width:this.width,zIndex:this.zIndex,relateTo:this.target,actionOnScroll:"none",enableRtl:this.enableRtl,open:function(o){var a={container:t.isModal?t.dlgContainer:t.element,element:t.element,target:t.target,preventFocus:!1};t.enableResize&&t.resetResizeIcon(),t.trigger("open",a,function(l){l.preventFocus||t.focusContent()})},close:function(o){t.isModal&&Z([t.dlgOverlay],"e-fade"),t.unBindEvent(t.element),t.isModal&&(t.dlgContainer.style.display="none"),t.trigger("close",t.closeArgs);var a=document.activeElement;!p(a)&&!p(a.blur)&&a.blur(),!p(t.storeActiveElement)&&!p(t.storeActiveElement.focus)&&!t.closeArgs.preventFocus&&t.storeActiveElement.focus()}}),this.positionChange(),this.setEnableRTL(),this.isBlazorServerRender()||(Z([this.element],PK),this.isModal&&this.setOverlayZindex()),this.visible){if(this.show(),this.isModal){var n=this.getTargetContainer(this.target);if(n instanceof Element){var s=window.getComputedStyle(n);s.getPropertyValue("direction")==="rtl"&&this.setPopupPosition()}}}else this.isModal&&(this.dlgOverlay.style.display="none");this.initialRender=!1},e.prototype.getTargetContainer=function(t){var i=null;if(typeof t=="string")if(t.startsWith("#"))i=document.getElementById(t.substring(1));else if(t.startsWith(".")){var n=document.getElementsByClassName(t.substring(1));i=n.length>0?n[0]:null}else!(t instanceof HTMLElement)&&t!==document.body&&(i=document.querySelector(t));else t instanceof HTMLElement&&(i=t);return i},e.prototype.resetResizeIcon=function(){var t=this.getMinHeight();if(this.targetEle.offsetHeight<t){var i=this.enableRtl?"e-south-west":"e-south-east",n=this.element.querySelector("."+i);p(n)||(n.style.bottom="-"+t.toString()+"px")}},e.prototype.setOverlayZindex=function(t){var i;p(t)?i=parseInt(this.element.style.zIndex,10)?parseInt(this.element.style.zIndex,10):this.zIndex:i=t,this.dlgOverlay.style.zIndex=(i-1).toString(),this.dlgContainer.style.zIndex=i.toString()},e.prototype.positionChange=function(){this.isModal?!isNaN(parseFloat(this.position.X))&&!isNaN(parseFloat(this.position.Y))?this.setPopupPosition():!isNaN(parseFloat(this.position.X))&&isNaN(parseFloat(this.position.Y))||isNaN(parseFloat(this.position.X))&&!isNaN(parseFloat(this.position.Y))?this.setPopupPosition():(this.element.style.top="0px",this.element.style.left="0px",this.dlgContainer.classList.add("e-dlg-"+this.position.X+"-"+this.position.Y)):this.setPopupPosition()},e.prototype.setPopupPosition=function(){this.popupObj.setProperties({position:{X:this.position.X,Y:this.position.Y}})},e.prototype.setAllowDragging=function(){var t=this,i="."+UM;this.element.classList.contains(VK)||(this.dragObj=new tj(this.element,{clone:!1,isDragScroll:!0,abort:".e-dlg-closeicon-btn",handle:i,dragStart:function(n){t.trigger("dragStart",n,function(s){})},dragStop:function(n){if(t.isModal){t.IsDragStop=!0,p(t.position)||t.dlgContainer.classList.remove("e-dlg-"+t.position.X+"-"+t.position.Y);var s=t.getTargetContainer(t.target);if(s instanceof Element){var o=window.getComputedStyle(s);o.getPropertyValue("direction")==="rtl"?t.element.style.position="absolute":t.element.style.position="relative"}else t.element.style.position="relative"}t.trigger("dragStop",n),t.isModelResize=!1,t.element.classList.remove(pu),t.updatePersistData()},drag:function(n){t.trigger("drag",n)}}),p(this.targetEle)||(this.dragObj.dragArea=this.targetEle))},e.prototype.setButton=function(){if(!this.isBlazorServerRender()){this.buttonContent=[],this.btnObj=[];for(var t=0;t<this.buttons.length;t++)if(!p(this.buttons[t].buttonModel)){var i=p(this.buttons[t].type)?"button":this.buttons[t].type.toLowerCase(),n=this.createElement("button",{className:this.cssClass,attrs:{type:i,tabindex:"0"}});this.buttonContent.push(n.outerHTML)}this.setFooterTemplate()}for(var s,t=0,o=this.element.children;t<o.length;t++)o[t].classList.contains(Qf)&&(s=o[t].querySelectorAll("button"));for(var t=0;t<this.buttons.length;t++)p(this.buttons[t].buttonModel)||(this.isBlazorServerRender()||(this.btnObj[t]=new uh(this.buttons[t].buttonModel)),!p(this.ftrTemplateContent)&&s.length>0&&(typeof this.buttons[t].click=="function"&&F.add(s[t],"click",this.buttons[t].click,this),typeof this.buttons[t].click=="object"&&F.add(s[t],"click",this.buttonClickHandler.bind(this,t),this)),!this.isBlazorServerRender()&&!p(this.ftrTemplateContent)&&(this.btnObj[t].appendTo(this.ftrTemplateContent.children[t]),this.buttons[t].isFlat&&this.btnObj[t].element.classList.add("e-flat"),this.primaryButtonEle=this.element.getElementsByClassName("e-primary")[0]))},e.prototype.buttonClickHandler=function(t){this.trigger("buttons["+t+"].click",{})},e.prototype.setContent=function(){this.contentEle=this.createElement("div",{className:kK,id:this.element.id+"_dialog-content"}),this.headerEle?Et(this.element,{"aria-describedby":this.element.id+"_title "+this.element.id+"_dialog-content"}):Et(this.element,{"aria-describedby":this.element.id+"_dialog-content"}),this.innerContentElement?this.contentEle.appendChild(this.innerContentElement):(!p(this.content)&&this.content!==""||!this.initialRender)&&(typeof this.content=="string"?this.setTemplate(this.content,this.contentEle,"content"):this.content instanceof HTMLElement?this.contentEle.appendChild(this.content):this.setTemplate(this.content,this.contentEle,"content")),p(this.headerContent)?this.element.insertBefore(this.contentEle,this.element.children[0]):this.element.insertBefore(this.contentEle,this.element.children[1]),this.height==="auto"&&(!this.isBlazorServerRender()&&ne.isIE&&this.element.style.width===""&&!p(this.width)&&(this.element.style.width=mt(this.width)),this.setMaxHeight())},e.prototype.setTemplate=function(t,i,n){var s,o;i.classList.contains(Xx)?o=this.element.id+"header":i.classList.contains(Qf)?o=this.element.id+"footerTemplate":o=this.element.id+"content",p(t.outerHTML)?(typeof t=="string"||typeof t!="string"||$h())&&(typeof t=="string"&&(t=this.sanitizeHelper(t)),this.isVue||typeof t!="string"?s=Xt(t):i.innerHTML=t):i.appendChild(t);var a=[];if(!p(s)){for(var l=!0,h=0,u=s({},this,n,o,l);h<u.length;h++){var c=u[h];a.push(c)}Ct([].slice.call(a),i)}},e.prototype.sanitizeHelper=function(t){if(this.enableHtmlSanitizer){var i=St.beforeSanitize(),n={cancel:!1,helper:null};ie(i,i,n),this.trigger("beforeSanitizeHtml",i),i.cancel&&!p(i.helper)?t=i.helper(t):i.cancel||(t=St.serializeValue(i,t))}return t},e.prototype.setMaxHeight=function(){if(this.allowMaxHeight){var t=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=!p(this.target)&&this.targetEle.offsetHeight<window.innerHeight?this.targetEle.offsetHeight-20+"px":window.innerHeight-20+"px",this.element.style.display=t,ne.isIE&&this.height==="auto"&&!p(this.contentEle)&&this.element.offsetHeight<this.contentEle.offsetHeight&&(this.element.style.height="inherit")}},e.prototype.setEnableRTL=function(){this.isBlazorServerRender()||(this.enableRtl?Z([this.element],BM):ue([this.element],BM)),p(this.element.querySelector(".e-resize-handle"))||(Zx(),this.setResize())},e.prototype.setTargetContent=function(){var t=this;if(p(this.content)||this.content===""){var i=this.element.innerHTML.replace(/\s|<(\/?|\/?)(!--!--)>/g,"")!=="";(this.element.children.length>0||i)&&(this.innerContentElement=document.createDocumentFragment(),[].slice.call(this.element.childNodes).forEach(function(n){n.nodeType!==8&&t.innerContentElement.appendChild(n)}))}},e.prototype.setHeader=function(){this.headerEle?this.headerEle.innerHTML="":this.headerEle=this.createElement("div",{id:this.element.id+"_title",className:Xx}),this.createHeaderContent(),this.headerContent.appendChild(this.headerEle),this.setTemplate(this.header,this.headerEle,"header"),Et(this.element,{"aria-describedby":this.element.id+"_title"}),Et(this.element,{"aria-labelledby":this.element.id+"_dialog-header"}),this.element.insertBefore(this.headerContent,this.element.children[0]),this.allowDragging&&!p(this.headerContent)&&this.setAllowDragging()},e.prototype.setFooterTemplate=function(){this.ftrTemplateContent?this.ftrTemplateContent.innerHTML="":this.ftrTemplateContent=this.createElement("div",{className:Qf}),this.footerTemplate!==""&&!p(this.footerTemplate)?this.setTemplate(this.footerTemplate,this.ftrTemplateContent,"footerTemplate"):this.ftrTemplateContent.innerHTML=this.buttonContent.join(""),this.element.appendChild(this.ftrTemplateContent)},e.prototype.createHeaderContent=function(){p(this.headerContent)&&(this.headerContent=this.createElement("div",{id:this.element.id+"_dialog-header",className:UM}))},e.prototype.renderCloseIcon=function(){this.showCloseIcon&&(this.closeIcon=this.createElement("button",{className:i1,attrs:{type:"button"}}),this.closeIconBtnObj=new uh({cssClass:"e-flat",iconCss:e1+" "+RK}),this.closeIconTitle(),p(this.headerContent)?(this.createHeaderContent(),ts([this.closeIcon],this.headerContent),this.element.insertBefore(this.headerContent,this.element.children[0])):ts([this.closeIcon],this.headerContent),this.closeIconBtnObj.appendTo(this.closeIcon))},e.prototype.closeIconTitle=function(){this.l10n.setLocale(this.locale);var t=this.l10n.getConstant("close");this.closeIcon.setAttribute("title",t),this.closeIcon.setAttribute("aria-label",t)},e.prototype.setCSSClass=function(t){t&&(ue([this.element],t.split(" ")),this.isModal&&!p(this.dlgContainer)&&ue([this.dlgContainer],t.split(" "))),this.cssClass&&(Z([this.element],this.cssClass.split(" ")),this.isModal&&!p(this.dlgContainer)&&Z([this.dlgContainer],this.cssClass.split(" ")))},e.prototype.setIsModal=function(){this.dlgContainer=this.createElement("div",{className:zK}),this.setCSSClass(),this.element.classList.remove(n1),this.element.parentNode.insertBefore(this.dlgContainer,this.element),this.dlgContainer.appendChild(this.element),Z([this.element],_f),this.dlgOverlay=this.createElement("div",{className:LK}),this.dlgOverlay.style.zIndex=(this.zIndex-1).toString(),this.dlgContainer.appendChild(this.dlgOverlay)},e.prototype.getValidFocusNode=function(t){for(var i,n=0;n<t.length;n++){if(i=t[n],(i.clientHeight>0||i.tagName.toLowerCase()==="a"&&i.hasAttribute("href"))&&i.tabIndex>-1&&!i.disabled&&!this.disableElement(i,'[disabled],[aria-disabled="true"],[type="hidden"]'))return i;i=null}return i},e.prototype.focusableElements=function(t){if(!p(t)){var i='input,select,textarea,button,a,[contenteditable="true"],[tabindex]',n=t.querySelectorAll(i);return this.getValidFocusNode(n)}return null},e.prototype.getAutoFocusNode=function(t){var i=t.querySelector("."+i1),n="[autofocus]",s=t.querySelectorAll(n),o=this.getValidFocusNode(s);if(!p(o))i=o;else if(o=this.focusableElements(this.contentEle),p(o)){if(!p(this.primaryButtonEle))return this.element.querySelector("."+OK)}else return i=o;return i},e.prototype.disableElement=function(t,i){var n=t?t.matches:null;if(n){for(;t;t=t.parentNode)if(t instanceof Element&&n.call(t,i))return t}return null},e.prototype.focusContent=function(){var t=this.getAutoFocusNode(this.element),i=p(t)?this.element:t,n=ne.userAgent;(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0)&&this.element.focus(),i.focus(),this.unBindEvent(this.element),this.bindEvent(this.element)},e.prototype.bindEvent=function(t){F.add(t,"keydown",this.keyDown,this)},e.prototype.unBindEvent=function(t){F.remove(t,"keydown",this.keyDown)},e.prototype.updateSanitizeContent=function(){this.isBlazorServerRender()||(this.contentEle.innerHTML=this.sanitizeHelper(this.content))},e.prototype.isBlazorServerRender=function(){return $h()},e.prototype.getModuleName=function(){return"dialog"},e.prototype.onPropertyChanged=function(t,i){if(this.element.classList.contains(Vf))for(var n=0,s=Object.keys(t);n<s.length;n++){var o=s[n];switch(o){case"content":!p(this.content)&&this.content!==""?(this.isBlazorServerRender()&&(this.contentEle=this.element.querySelector(".e-dlg-content")),!p(this.contentEle)&&this.contentEle.getAttribute("role")!=="dialog"?(this.isBlazorServerRender()||(this.contentEle.innerHTML=""),typeof this.content=="function"?(this.clearTemplate(["content"]),bt(this.contentEle),this.contentEle=null,this.setContent()):typeof this.content=="string"?this.updateSanitizeContent():this.contentEle.appendChild(this.content),this.setMaxHeight()):this.setContent()):p(this.contentEle)||(bt(this.contentEle),this.contentEle=null);break;case"header":this.header===""||p(this.header)?this.headerEle&&(bt(this.headerEle),this.headerEle=null):this.setHeader();break;case"footerTemplate":if(this.footerTemplate===""||p(this.footerTemplate)){if(!this.ftrTemplateContent)return;bt(this.ftrTemplateContent),this.ftrTemplateContent=null,this.buttons=[{}]}else this.setFooterTemplate(),this.buttons=[{}];break;case"showCloseIcon":this.element.getElementsByClassName(e1).length>0?!this.showCloseIcon&&(this.header===""||p(this.header))?(bt(this.headerContent),this.headerContent=null):this.showCloseIcon||bt(this.closeIcon):(this.renderCloseIcon(),this.wireEvents());break;case"locale":this.showCloseIcon&&this.closeIconTitle();break;case"visible":this.visible?this.show():this.hide();break;case"isModal":this.updateIsModal();break;case"height":Ci(this.element,{height:mt(t.height)}),this.updatePersistData();break;case"width":Ci(this.element,{width:mt(t.width)}),this.updatePersistData();break;case"zIndex":this.popupObj.zIndex=this.zIndex,this.isModal&&this.setOverlayZindex(this.zIndex),this.element.style.zIndex!==this.zIndex.toString()&&(this.calculatezIndex=!1);break;case"cssClass":this.setCSSClass(i.cssClass);break;case"buttons":{this.unWireButtonEvents(),this.destroyButtons(),p(this.ftrTemplateContent)||(bt(this.ftrTemplateContent),this.ftrTemplateContent=null),this.footerTemplate="",this.setButton();break}case"allowDragging":this.allowDragging&&!p(this.headerContent)?this.setAllowDragging():this.dragObj.destroy();break;case"target":this.setTarget(t.target);break;case"position":if(this.checkPositionData(),this.isModal){var a=this.position.X,l=this.position.Y;p(i.position)||(p(i.position.X)||(a=i.position.X),p(i.position.Y)||(l=i.position.Y)),this.dlgContainer.classList.contains("e-dlg-"+a+"-"+l)&&this.dlgContainer.classList.remove("e-dlg-"+a+"-"+l)}this.positionChange(),this.updatePersistData();break;case"enableRtl":this.setEnableRTL();break;case"enableResize":this.setResize(),this.isModelResize=this.enableResize&&this.isModal,this.enableResize&&this.dialogOpen&&this.resetResizeIcon();break;case"minHeight":this.minHeight!==""&&(this.element.style.minHeight=mt(this.minHeight));break}}},e.prototype.setTarget=function(t){this.popupObj.relateTo=t,this.target=t,this.targetEle=typeof this.target=="string"?document.querySelector(this.target):this.target,this.dragObj&&(this.dragObj.dragArea=this.targetEle),this.setMaxHeight(),this.isModal&&this.updateIsModal(),this.enableResize&&this.setResize(),p(this.targetEle)||(this.isModal&&!p(this.dlgContainer)?this.targetEle.appendChild(this.dlgContainer):p(this.element)||this.targetEle.appendChild(this.element))},e.prototype.updateIsModal=function(){if(this.element.setAttribute("aria-modal",this.isModal?"true":"false"),this.isModal)p(this.dlgOverlay)&&(this.setIsModal(),this.element.style.top="0px",this.element.style.left="0px",p(this.targetEle)||this.targetEle.appendChild(this.dlgContainer));else{for(ue([this.element],_f),ue([document.body],[ys,$r]),bt(this.dlgOverlay);this.dlgContainer.firstChild;)this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild,this.dlgContainer);this.dlgContainer.parentElement.removeChild(this.dlgContainer)}this.visible&&this.show(),this.positionChange(),this.isModal&&this.dlgOverlay&&F.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)},e.prototype.setzIndex=function(t,i){var n=this.isProtectedOnChange;this.isProtectedOnChange=!0;var s=Cj(t);this.zIndex=s>this.zIndex?s:this.zIndex,this.isProtectedOnChange=n,i&&(this.popupObj.zIndex=this.zIndex)},e.prototype.windowResizeHandler=function(){wK(this.targetEle.clientWidth),xK(this.targetEle.clientHeight),this.setMaxHeight()},e.prototype.getPersistData=function(){return this.addOnPersist(["width","height","position"])},e.prototype.removeAllChildren=function(t){for(;t.children[0];)this.removeAllChildren(t.children[0]),t.removeChild(t.children[0])},e.prototype.destroy=function(){if(!this.isDestroyed){var t=[BM,_f,HM,pu,Yf,t1],i=["role","aria-modal","aria-labelledby","aria-describedby","aria-grabbed","tabindex","style"];ue([this.targetEle],[ys,$r]),!p(this.element)&&this.element.classList.contains(Yf)&&ue([document.body],[ys,$r]),this.isModal&&ue([p(this.targetEle)?document.body:this.targetEle],$r),this.unWireEvents(),this.unWireButtonEvents(),this.destroyButtons(),p(this.closeIconBtnObj)||this.closeIconBtnObj.destroy(),p(this.dragObj)||this.dragObj.destroy(),!p(this.popupObj.element)&&this.popupObj.element.classList.contains(jK)&&this.popupObj.destroy(),ue([this.element],t),!p(this.cssClass)&&this.cssClass!==""&&ue([this.element],this.cssClass.split(" ")),!p(this.refElement)&&!p(this.refElement.parentElement)&&(this.refElement.parentElement.insertBefore(this.isModal?this.dlgContainer:this.element,this.refElement),bt(this.refElement),this.refElement=void 0),this.isModal&&(bt(this.dlgOverlay),this.dlgContainer.parentNode.insertBefore(this.element,this.dlgContainer),bt(this.dlgContainer)),this.element.innerHTML=this.clonedEle.innerHTML;for(var n=0;n<i.length;n++)this.element.removeAttribute(i[n]);this.ftrTemplateContent=null,this.headerContent=null,!this.isReact&&!this.isVue&&!p(this.contentEle)&&this.removeAllChildren(this.contentEle),this.contentEle=null,this.enableResize&&NK(),r.prototype.destroy.call(this),this.isReact&&this.clearTemplate()}},e.prototype.wireWindowResizeEvent=function(){this.boundWindowResizeHandler=this.windowResizeHandler.bind(this),window.addEventListener("resize",this.boundWindowResizeHandler)},e.prototype.unWireWindowResizeEvent=function(){window.removeEventListener("resize",this.boundWindowResizeHandler),this.boundWindowResizeHandler=null},e.prototype.wireEvents=function(){this.showCloseIcon&&F.add(this.closeIcon,"click",this.closeIconClickEventHandler,this),this.isModal&&this.dlgOverlay&&F.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)},e.prototype.unWireEvents=function(){this.showCloseIcon&&F.remove(this.closeIcon,"click",this.closeIconClickEventHandler),this.isModal&&F.remove(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler)},e.prototype.refreshPosition=function(){this.popupObj.refreshPosition(),this.element.classList.contains(_f)&&this.positionChange()},e.prototype.getDimension=function(){var t=this.element.offsetWidth,i=this.element.offsetHeight;return{width:t,height:i}},e.prototype.show=function(t){var i=this;if(this.element.classList.contains(Vf)){if(!this.element.classList.contains(n1)||!p(t)){p(t)||this.fullScreen(t);var n={cancel:!1,element:this.element,container:this.isModal?this.dlgContainer:this.element,target:this.target,maxHeight:this.element.style.maxHeight};this.trigger("beforeOpen",n,function(s){if(!s.cancel){if(i.element.style.maxHeight!==n.maxHeight&&(i.allowMaxHeight=!1,i.element.style.maxHeight=n.maxHeight),i.enableResize&&i.boundWindowResizeHandler==null&&!i.initialRender&&i.wireWindowResizeEvent(),i.allowDragging&&!p(i.headerContent)&&i.refreshPosition(),i.storeActiveElement=document.activeElement,i.element.tabIndex=-1,i.isModal&&!p(i.dlgOverlay))if(i.dlgOverlay.style.display="block",i.dlgContainer.style.display="flex",ue([i.dlgOverlay],"e-fade"),p(i.targetEle))Z([document.body],[ys,$r]);else{i.targetEle===document.body?i.dlgContainer.style.position="fixed":i.dlgContainer.style.position="absolute",i.dlgOverlay.style.position="absolute";var o=i.getTargetContainer(i.target);if(o instanceof Element){var a=window.getComputedStyle(o);a.getPropertyValue("direction")==="rtl"?i.element.style.position="absolute":i.element.style.position="relative"}else i.element.style.position="relative";Z([i.targetEle],[ys,$r])}var l={name:i.animationSettings.effect==="None"&&ol==="Enable"?"ZoomIn":i.animationSettings.effect+"In",duration:i.animationSettings.duration,delay:i.animationSettings.delay},h=i.isModal?i.element.parentElement:i.element;if(i.calculatezIndex&&(i.setzIndex(h,!0),Ci(i.element,{zIndex:i.zIndex}),i.isModal&&i.setOverlayZindex(i.zIndex)),i.animationSettings.effect==="None"&&ol==="Enable"?i.popupObj.show(l):i.animationSettings.effect==="None"?i.popupObj.show():i.popupObj.show(l),i.isModal){var o=i.getTargetContainer(i.target);if(o instanceof Element){var a=window.getComputedStyle(o);a.getPropertyValue("direction")==="rtl"&&!i.IsDragStop&&i.setPopupPosition()}}i.dialogOpen=!0;var u=i.isProtectedOnChange;i.isProtectedOnChange=!0,i.visible=!0,i.preventVisibility=!0,i.isProtectedOnChange=u}})}this.isReact&&this.renderReactTemplates()}},e.prototype.hide=function(t){var i=this;if(this.element.classList.contains(Vf)&&this.preventVisibility){var n={cancel:!1,isInteracted:!!t,element:this.element,target:this.target,container:this.isModal?this.dlgContainer:this.element,event:t,preventFocus:!1,closedBy:this.dlgClosedBy};this.closeArgs=n,this.trigger("beforeClose",n,function(s){if(!s.cancel){i.enableResize&&i.unWireWindowResizeEvent();var o={name:i.animationSettings.effect==="None"&&ol==="Enable"?"ZoomOut":i.animationSettings.effect+"Out",duration:i.animationSettings.duration,delay:i.animationSettings.delay};i.animationSettings.effect==="None"&&ol==="Enable"||(i.animationSettings.effect==="None"?i.popupObj.hide():i.popupObj.hide(o)),setTimeout(function(){i.isModal&&!p(i.targetEle)&&i.targetEle.classList.contains(ys)&&i.targetEle.classList.contains($r)&&ue([i.targetEle],[ys,$r]),document.body.classList.contains(ys)&&document.body.classList.contains($r)&&ue([document.body],[ys,$r])},i.animationSettings.duration+i.animationSettings.delay),i.dialogOpen=!1;var a=i.isProtectedOnChange;i.isProtectedOnChange=!0,i.visible=!1,i.preventVisibility=!1,i.isProtectedOnChange=a}i.dlgClosedBy=VM})}},e.prototype.fullScreen=function(t){if(this.element.offsetTop,this.element.offsetLeft,t){this.isModal||(this.element.style.top=document.scrollingElement.scrollTop+"px"),Z([this.element],Yf);var i=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=p(this.target)?window.innerHeight+"px":this.targetEle.offsetHeight+"px",this.element.style.display=i,Z([document.body],[ys,$r]),this.allowDragging&&!p(this.dragObj)&&this.dragObj.destroy()}else ue([this.element],Yf),ue([document.body],[ys,$r]),this.allowDragging&&!p(this.headerContent)&&this.setAllowDragging();return t},e.prototype.getButtons=function(t){return p(t)?this.btnObj:this.btnObj[t]},e.prototype.unWireButtonEvents=function(){if(this.buttons.length>0&&this.footerTemplate===""&&this.ftrTemplateContent)for(var t=0;t<this.buttons.length;t++)this.buttons[t].click&&typeof this.buttons[t].click=="function"&&this.ftrTemplateContent.children[t]&&F.remove(this.ftrTemplateContent.children[t],"click",this.buttons[t].click)},e.prototype.destroyButtons=function(){if(!p(this.btnObj))for(var t=0;t<this.btnObj.length;t++)this.btnObj[t]&&!this.btnObj[t].isDestroyed&&this.btnObj[t].destroy()},At([I("")],e.prototype,"content",void 0),At([I(!0)],e.prototype,"enableHtmlSanitizer",void 0),At([I(!1)],e.prototype,"enablePersistence",void 0),At([I(!1)],e.prototype,"showCloseIcon",void 0),At([I(!1)],e.prototype,"isModal",void 0),At([I("")],e.prototype,"header",void 0),At([I(!0)],e.prototype,"visible",void 0),At([I(!1)],e.prototype,"enableResize",void 0),At([I(["South-East"])],e.prototype,"resizeHandles",void 0),At([I("auto")],e.prototype,"height",void 0),At([I("")],e.prototype,"minHeight",void 0),At([I("100%")],e.prototype,"width",void 0),At([I("")],e.prototype,"cssClass",void 0),At([I(1e3)],e.prototype,"zIndex",void 0),At([I(null)],e.prototype,"target",void 0),At([I("")],e.prototype,"footerTemplate",void 0),At([I(!1)],e.prototype,"allowDragging",void 0),At([Li([{}],AK)],e.prototype,"buttons",void 0),At([I(!0)],e.prototype,"closeOnEscape",void 0),At([gt({},EK)],e.prototype,"animationSettings",void 0),At([gt({X:"center",Y:"center"},Sj)],e.prototype,"position",void 0),At([Q()],e.prototype,"created",void 0),At([Q()],e.prototype,"open",void 0),At([Q()],e.prototype,"beforeSanitizeHtml",void 0),At([Q()],e.prototype,"beforeOpen",void 0),At([Q()],e.prototype,"close",void 0),At([Q()],e.prototype,"beforeClose",void 0),At([Q()],e.prototype,"dragStart",void 0),At([Q()],e.prototype,"dragStop",void 0),At([Q()],e.prototype,"drag",void 0),At([Q()],e.prototype,"overlayClick",void 0),At([Q()],e.prototype,"resizeStart",void 0),At([Q()],e.prototype,"resizing",void 0),At([Q()],e.prototype,"resizeStop",void 0),At([Q()],e.prototype,"destroyed",void 0),e=At([tn],e),e}(rr),l1;(function(r){function e(u){var c=Be("div",{className:wj});document.body.appendChild(c);var d,f=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}];return typeof u=="string"?d=i({content:u,position:{X:"center",Y:"top"},isModal:!0,header:r1,buttons:f},c):d=i(n(u),c),d.close=function(){u&&u.close&&u.close.apply(d),d.destroy(),d.element.classList.contains("e-dlg-modal")?(d.element.parentElement.remove(),d.target.classList.remove(s1)):d.element.remove()},d}r.alert=e;function t(u){var c=Be("div",{className:xj});document.body.appendChild(c);var d,f=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},{buttonModel:{content:"Cancel"},click:function(){this.hide()}}];return typeof u=="string"?d=i({position:{X:"center",Y:"top"},content:u,isModal:!0,header:r1,buttons:f},c):d=i(s(u),c),d.close=function(){u&&u.close&&u.close.apply(d),d.destroy(),d.element.classList.contains("e-dlg-modal")?(d.element.parentElement.remove(),d.target.classList.remove(s1)):d.element.remove()},d}r.confirm=t;function i(u,c){var d=new XI(u);return d.appendTo(c),d}function n(u){var c={};return c.buttons=[],c=o(c,u),c=a(c,u),c}function s(u){var c={};return c.buttons=[],c=o(c,u),c=l(c,u),c}function o(u,c){return u.header=p(c.title)?null:c.title,u.content=p(c.content)?"":c.content,u.isModal=p(c.isModal)?!0:c.isModal,u.showCloseIcon=p(c.showCloseIcon)?!1:c.showCloseIcon,u.allowDragging=p(c.isDraggable)?!1:c.isDraggable,u.closeOnEscape=p(c.closeOnEscape)?!1:c.closeOnEscape,u.position=p(c.position)?{X:"center",Y:"top"}:c.position,u.animationSettings=p(c.animationSettings)?{effect:"Fade",duration:400,delay:0}:c.animationSettings,u.cssClass=p(c.cssClass)?"":c.cssClass,u.zIndex=p(c.zIndex)?1e3:c.zIndex,u.open=p(c.open)?null:c.open,u.width=p(c.width)?"auto":c.width,u.height=p(c.height)?"auto":c.height,u}function a(u,c){var d=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}];return p(c.okButton)?u.buttons=d:u.buttons[0]=h(u.buttons[0],c.okButton,d[0]),u}function l(u,c){var d={buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},f={buttonModel:{content:"Cancel"},click:function(){this.hide()}};return p(c.okButton)?u.buttons[0]=d:u.buttons[0]=h(u.buttons[0],c.okButton,d),p(c.cancelButton)?u.buttons[1]=f:u.buttons[1]=h(u.buttons[1],c.cancelButton,f),u}function h(u,c,d){var f=d;return p(c.text)||(f.buttonModel.content=c.text),p(c.icon)||(f.buttonModel.iconCss=c.icon),p(c.cssClass)||(f.buttonModel.cssClass=c.cssClass),p(c.click)||(f.click=c.click),p(c.isFlat)||(f.isFlat=c.isFlat),f}})(l1||(l1={}));var Nj=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Jt=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},QK=1500,_K=500,h1=0,u1=8,YK=2,Us=2,QM="e-tooltip",c1="e-rtl",WK="e-bigger",d1="e-icons",p1="e-tooltip-close",_M="e-tooltip-wrap",f1="e-tip-content",fu="e-arrow-tip",g1="e-arrow-tip-outer",Wf="e-arrow-tip-inner",qc="e-tip-bottom",YM="e-tip-top",m1="e-tip-left",WM="e-tip-right",qM="e-popup",Gc="e-popup-open",GM="e-popup-close",qf="e-lib",qK="e-hidden",y1="e-tooltip-popup-container",GK=function(r){Nj(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Jt([I({effect:"FadeIn",duration:150,delay:0})],e.prototype,"open",void 0),Jt([I({effect:"FadeOut",duration:150,delay:0})],e.prototype,"close",void 0),e}(Xe),Aj=function(r){Nj(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.mouseMoveEvent=null,n.mouseMoveTarget=null,n.containerElement=null,n.isBodyContainer=!0,n}return e.prototype.initialize=function(){this.formatPosition(),Z([this.element],QM)},e.prototype.formatPosition=function(){var t,i;this.position&&(this.position.indexOf("Top")===0||this.position.indexOf("Bottom")===0?(t=this.position.split(/(?=[A-Z])/),this.tooltipPositionY=t[0],this.tooltipPositionX=t[1]):(i=this.position.split(/(?=[A-Z])/),this.tooltipPositionX=i[0],this.tooltipPositionY=i[1]))},e.prototype.renderArrow=function(){this.setTipClass(this.position);var t=this.createElement("div",{className:fu+" "+this.tipClass});t.appendChild(this.createElement("div",{className:g1+" "+this.tipClass})),t.appendChild(this.createElement("div",{className:Wf+" "+this.tipClass})),this.tooltipEle.appendChild(t)},e.prototype.setTipClass=function(t){t.indexOf("Right")===0?this.tipClass=m1:t.indexOf("Bottom")===0?this.tipClass=YM:t.indexOf("Left")===0?this.tipClass=WM:this.tipClass=qc},e.prototype.renderPopup=function(t){var i=this.mouseTrail?{top:0,left:0}:this.getTooltipPosition(t);this.tooltipEle.classList.remove(qf),this.popupObj=new qI(this.tooltipEle,{height:this.height,width:this.width,position:{X:i.left,Y:i.top},enableRtl:this.enableRtl,open:this.openPopupHandler.bind(this),close:this.closePopupHandler.bind(this)})},e.prototype.getScalingFactor=function(t){if(!t)return{x:1,y:1};var i={x:1,y:1},n=t.closest('[style*="transform: scale"]');if(n&&n!==this.tooltipEle&&n.contains(this.tooltipEle)){var s=window.getComputedStyle(n),o=s.getPropertyValue("transform"),a=o.match(/matrix\(([^)]+)\)/)[1].split(",").map(parseFloat);i.x=a[0],i.y=a[3]}return i},e.prototype.getTooltipPosition=function(t){this.tooltipEle.style.display="block";var i=this.element.closest('[style*="zoom"]');i&&(i.contains(this.tooltipEle)||(this.tooltipEle.style.zoom=getComputedStyle(i).zoom));var n=er(t,this.tooltipPositionX,this.tooltipPositionY,!this.isBodyContainer,this.isBodyContainer?null:this.containerElement.getBoundingClientRect()),s=this.getScalingFactor(t),o=this.calculateTooltipOffset(this.position,s.x,s.y),a=this.calculateElementPosition(n,o),l=a[0],h=a[1],u=this.collisionFlipFit(t,l,h);return u.left=u.left/s.x,u.top=u.top/s.y,this.tooltipEle.style.display="",u},e.prototype.windowResize=function(){this.reposition(this.findTarget())},e.prototype.reposition=function(t){if(this.popupObj&&t){var i=this.getTooltipPosition(t);this.popupObj.position={X:i.left,Y:i.top},this.popupObj.dataBind()}},e.prototype.openPopupHandler=function(){!this.mouseTrail&&this.needTemplateReposition()&&this.reposition(this.findTarget()),this.trigger("afterOpen",this.tooltipEventArgs),this.tooltipEventArgs=null},e.prototype.closePopupHandler=function(){this.isReact&&!(this.opensOn==="Click"||typeof this.content=="function")&&this.clearTemplate(["content"]),this.clear();var t={type:this.tooltipEventArgs.event?this.tooltipEventArgs.event.type:null,cancel:!1,target:this.tooltipEventArgs.target,event:this.tooltipEventArgs.event?this.tooltipEventArgs.event:null,element:this.tooltipEle,isInteracted:!p(this.tooltipEventArgs.event)};this.trigger("afterClose",t),t=null},e.prototype.calculateTooltipOffset=function(t,i,n){i===void 0&&(i=1),n===void 0&&(n=1);var s={top:0,left:0},o,a,l,h,u,c,d,f;if(i!==1||n!==1){var g=this.tooltipEle.getBoundingClientRect(),m=void 0;l=Math.round(g.width),h=Math.round(g.height),u=ii("."+fu,this.tooltipEle),u&&(m=u.getBoundingClientRect()),o=u?Math.round(m.width):0,a=u?Math.round(m.height):0,c=this.showTipPointer?h1:u1,d=a/2+Us+(h-this.tooltipEle.clientHeight*n),f=o/2+Us+(l-this.tooltipEle.clientWidth*i)}else l=this.tooltipEle.offsetWidth,h=this.tooltipEle.offsetHeight,u=ii("."+fu,this.tooltipEle),o=u?u.offsetWidth:0,a=u?u.offsetHeight:0,c=this.showTipPointer?h1:u1,d=a/2+Us+(this.tooltipEle.offsetHeight-this.tooltipEle.clientHeight),f=o/2+Us+(this.tooltipEle.offsetWidth-this.tooltipEle.clientWidth);switch(this.mouseTrail&&(c+=YK),t){case"RightTop":s.left+=o+c,s.top-=h-d;break;case"RightCenter":s.left+=o+c,s.top-=h/2;break;case"RightBottom":s.left+=o+c,s.top-=d;break;case"BottomRight":s.top+=a+c,s.left-=f;break;case"BottomCenter":s.top+=a+c,s.left-=l/2;break;case"BottomLeft":s.top+=a+c,s.left-=l-f;break;case"LeftBottom":s.left-=o+l+c,s.top-=d;break;case"LeftCenter":s.left-=o+l+c,s.top-=h/2;break;case"LeftTop":s.left-=o+l+c,s.top-=h-d;break;case"TopLeft":s.top-=h+a+c,s.left-=l-f;break;case"TopRight":s.top-=h+a+c,s.left-=f;break;default:s.top-=h+a+c,s.left-=l/2;break}return s.left+=this.offsetX,s.top+=this.offsetY,s},e.prototype.updateTipPosition=function(t){var i=ln("."+fu+",."+g1+",."+Wf,this.tooltipEle),n=[qc,YM,m1,WM];ue(i,n),this.setTipClass(t),Z(i,this.tipClass)},e.prototype.adjustArrow=function(t,i,n,s){var o=ii("."+fu,this.tooltipEle);if(!(this.showTipPointer===!1||o===null)){this.updateTipPosition(i);var a,l;this.tooltipEle.style.display="block";var h=this.tooltipEle.clientWidth,u=this.tooltipEle.clientHeight,c=ii("."+Wf,this.tooltipEle),d=o.offsetWidth,f=o.offsetHeight;if(this.tooltipEle.style.display="",this.tipClass===qc||this.tipClass===YM){if(this.tipClass===qc?(l="99.9%",c.style.top="-"+(f-2)+"px"):(l=-(f-1)+"px",c.style.top="-"+(f-6)+"px"),t){var g=n!=="Center"||h>t.offsetWidth||this.mouseTrail;g&&n==="Left"||!g&&this.tipPointerPosition==="End"?a=h-d-Us+"px":g&&n==="Right"||!g&&this.tipPointerPosition==="Start"?a=Us+"px":g&&(this.tipPointerPosition==="End"||this.tipPointerPosition==="Start")?a=this.tipPointerPosition==="End"?t.offsetWidth+(this.tooltipEle.offsetWidth-t.offsetWidth)/2-d/2-Us+"px":(this.tooltipEle.offsetWidth-t.offsetWidth)/2-d/2+Us+"px":a=h/2-d/2+"px"}}else{this.tipClass===WM?(a="99.9%",c.style.left="-"+(d-2)+"px"):(a=-(d-1)+"px",c.style.left=-d+(d-2)+"px");var g=s!=="Center"||u>t.offsetHeight||this.mouseTrail;g&&s==="Top"||!g&&this.tipPointerPosition==="End"?l=u-f-Us+"px":g&&s==="Bottom"||!g&&this.tipPointerPosition==="Start"?l=Us+"px":l=u/2-f/2+"px"}o.style.top=l,o.style.left=a}},e.prototype.renderContent=function(t){var i=this,n=ii("."+f1,this.tooltipEle);if(this.cssClass&&Z([this.tooltipEle],this.cssClass.split(" ")),t&&!p(t.getAttribute("title"))&&(t.setAttribute("data-content",t.getAttribute("title")),t.removeAttribute("title")),p(this.content))t&&!p(t.getAttribute("data-content"))&&(n.innerHTML=t.getAttribute("data-content"));else if(n.innerHTML="",this.content instanceof HTMLElement)n.appendChild(this.content);else if(typeof this.content=="string")if(this.isAngular?this.setProperties({content:St.sanitize(this.content)},!0):this.content=this.enableHtmlSanitizer?St.sanitize(this.content):this.content,this.enableHtmlParse){var s=Xt(this.content),o=s({},this,"content",this.element.id+"content",void 0,void 0,n,this.root);o&&Ct(o,n)}else n.textContent=this.content;else{var a=Xt(this.content),o=a({},this,"content",this.element.id+"content",void 0,void 0,n);o&&(this.isAngular&&this.animation.open.effect==="ZoomIn"&&setTimeout(function(){i.reposition(t)},1),Ct(o,n)),this.renderReactTemplates()}},e.prototype.renderCloseIcon=function(){if(!this.isSticky){var t=this.tooltipEle.querySelector("."+d1+"."+p1);t&&ot(t);return}var i=this.createElement("div",{className:d1+" "+p1,attrs:{role:"button","aria-label":"Press escape to close the Tooltip"}});this.tooltipEle.appendChild(i),F.add(i,ne.touchStartEvent,this.onStickyClose,this)},e.prototype.addDescribedBy=function(t,i){var n=(t.getAttribute("aria-describedby")||"").split(/\s+/);n.indexOf(i)<0&&n.push(i),Et(t,{"aria-describedby":n.join(" ").trim(),"data-tooltip-id":i})},e.prototype.removeDescribedBy=function(t){var i=t.getAttribute("data-tooltip-id"),n=(t.getAttribute("aria-describedby")||"").split(/\s+/),s=n.indexOf(i);s!==-1&&n.splice(s,1),t.removeAttribute("data-tooltip-id");var o=n.join(" ").trim();o?t.setAttribute("aria-describedby",o):t.removeAttribute("aria-describedby")},e.prototype.tapHoldHandler=function(t){clearTimeout(this.autoCloseTimer),this.targetHover(t.originalEvent)},e.prototype.touchEndHandler=function(){var t=this;if(!this.isSticky){var i=function(){t.close()};this.autoCloseTimer=setTimeout(i,QK)}},e.prototype.targetClick=function(t){var i;if(this.target?i=xe(t.target,this.target):i=this.element,!p(i)){var n=t;i.getAttribute("data-tooltip-id")===null?n.type==="mousedown"&&n.button===2||this.targetHover(t):this.isSticky||this.hideTooltip(this.animation.close,t,i)}},e.prototype.targetHover=function(t){var i;if(this.target?i=xe(t.target,this.target):i=this.element,!(p(i)||i.getAttribute("data-tooltip-id")!==null&&this.closeDelay===0)){!p(this.tooltipEle)&&this.tooltipEle.getAttribute("e-animation-id")&&(ro.stop(this.tooltipEle),this.clear());for(var n=[].slice.call(ln('[data-tooltip-id= "'+this.ctrlId+'_content"]',document)),s=0,o=n;s<o.length;s++){var a=o[s];this.restoreElement(a)}this.showTooltip(i,this.animation.open,t)}},e.prototype.mouseMoveBeforeOpen=function(t){this.mouseMoveEvent=t},e.prototype.mouseMoveBeforeRemove=function(){this.mouseMoveTarget&&F.remove(this.mouseMoveTarget,"mousemove touchstart",this.mouseMoveBeforeOpen)},e.prototype.showTooltip=function(t,i,n){var s=this;clearTimeout(this.showTimer),clearTimeout(this.hideTimer),this.openDelay&&this.mouseTrail&&(this.mouseMoveBeforeRemove(),this.mouseMoveTarget=t,F.add(this.mouseMoveTarget,"mousemove touchstart",this.mouseMoveBeforeOpen,this)),this.tooltipEventArgs={type:n?n.type:null,cancel:!1,target:t,event:n||null,element:this.tooltipEle,isInteracted:!p(n)};var o=function(a){s.beforeRenderCallback(a,t,n,i)};this.trigger("beforeRender",this.tooltipEventArgs,o.bind(this))},e.prototype.beforeRenderCallback=function(t,i,n,s){t.cancel?(this.isHidden=!0,this.clear(),this.mouseMoveBeforeRemove()):(this.isHidden=!1,p(this.tooltipEle)?(this.ctrlId=this.element.getAttribute("id")?Ic(this.element.getAttribute("id")):Ic("tooltip"),this.tooltipEle=this.createElement("div",{className:_M+" "+qM+" "+qf,attrs:{role:"tooltip","aria-hidden":"false",id:this.ctrlId+"_content"}}),this.tooltipEle.style.width=mt(this.width),this.tooltipEle.style.height=mt(this.height),this.tooltipEle.style.position="absolute",this.tooltipBeforeRender(i,this),this.tooltipAfterRender(i,n,s,this)):i&&(this.adjustArrow(i,this.position,this.tooltipPositionX,this.tooltipPositionY),this.addDescribedBy(i,this.ctrlId+"_content"),this.renderContent(i),ro.stop(this.tooltipEle),this.reposition(i),this.tooltipAfterRender(i,n,s,this)))},e.prototype.appendContainer=function(t){typeof this.container=="string"?this.container==="body"?this.containerElement=document.body:(this.isBodyContainer=!1,this.containerElement=ii(this.container,document)):this.container instanceof HTMLElement&&(this.containerElement=this.container,this.isBodyContainer=this.containerElement.tagName==="BODY"),this.isBodyContainer||Z([this.containerElement],y1),this.containerElement.appendChild(t.tooltipEle)},e.prototype.tooltipBeforeRender=function(t,i){t&&(ne.isDevice&&Z([i.tooltipEle],WK),i.width!=="auto"&&(i.tooltipEle.style.maxWidth=mt(i.width)),i.tooltipEle.appendChild(i.createElement("div",{className:f1})),this.appendContainer(i),ue([i.tooltipEle],qK),i.addDescribedBy(t,i.ctrlId+"_content"),i.renderContent(t),Z([i.tooltipEle],Gc),i.showTipPointer&&i.renderArrow(),i.renderCloseIcon(),i.renderPopup(t),i.adjustArrow(t,i.position,i.tooltipPositionX,i.tooltipPositionY),ro.stop(i.tooltipEle),i.reposition(t))},e.prototype.tooltipAfterRender=function(t,i,n,s){if(t){ue([s.tooltipEle],Gc),Z([s.tooltipEle],GM),s.tooltipEventArgs={type:i?i.type:null,cancel:!1,target:t,event:i||null,element:s.tooltipEle,isInteracted:!p(i)},s.needTemplateReposition()&&!s.mouseTrail&&(n.effect==="None"||n.effect==="FadeIn"||this.isReact&&typeof s.content!="string")&&(s.tooltipEle.style.display="none");var o=function(a){s.beforeOpenCallback(a,t,n,i)};s.trigger("beforeOpen",s.tooltipEventArgs,o.bind(s))}},e.prototype.beforeOpenCallback=function(t,i,n,s){var o=this;if(t.cancel)this.isHidden=!0,this.clear(),this.mouseMoveBeforeRemove(),this.restoreElement(i);else{var a={name:n.effect==="None"&&ol==="Enable"?"FadeIn":this.animation.open.effect,duration:n.duration,delay:n.delay,timingFunction:"easeOut"};if(n.effect==="None"&&(a=void 0),this.openDelay>0){var l=function(){o.mouseTrail&&F.add(i,"mousemove touchstart mouseenter",o.onMouseMove,o),o.popupObj&&(o.popupObj.show(a,i),o.mouseMoveEvent&&o.mouseTrail&&o.onMouseMove(o.mouseMoveEvent))};this.showTimer=setTimeout(l,this.openDelay)}else this.popupObj&&this.popupObj.show(a,i)}s&&this.wireMouseEvents(s,i)},e.prototype.needTemplateReposition=function(){var t=this;return!p(t.viewContainerRef)&&typeof t.viewContainerRef!="string"||this.isReact},e.prototype.checkCollision=function(t,i,n){var s={left:i,top:n,position:this.position,horizontal:this.tooltipPositionX,vertical:this.tooltipPositionY},o=UI(this.tooltipEle,this.checkCollideTarget(),i,n);return o.length>0&&(s.horizontal=o.indexOf("left")>=0?"Right":o.indexOf("right")>=0?"Left":this.tooltipPositionX,s.vertical=o.indexOf("top")>=0?"Bottom":o.indexOf("bottom")>=0?"Top":this.tooltipPositionY),s},e.prototype.calculateElementPosition=function(t,i){return[this.isBodyContainer?t.left+i.left:t.left-this.containerElement.getBoundingClientRect().left+i.left+window.pageXOffset+this.containerElement.scrollLeft,this.isBodyContainer?t.top+i.top:t.top-this.containerElement.getBoundingClientRect().top+i.top+window.pageYOffset+this.containerElement.scrollTop]},e.prototype.collisionFlipFit=function(t,i,n){var s=this.checkCollision(t,i,n),o=s.position;if(this.tooltipPositionY!==s.vertical&&(o=this.position.indexOf("Bottom")===0||this.position.indexOf("Top")===0?s.vertical+this.tooltipPositionX:this.tooltipPositionX+s.vertical),this.tooltipPositionX!==s.horizontal&&(o.indexOf("Left")===0&&(s.vertical=o==="LeftTop"||o==="LeftCenter"?"Top":"Bottom",o=s.vertical+"Left"),o.indexOf("Right")===0&&(s.vertical=o==="RightTop"||o==="RightCenter"?"Top":"Bottom",o=s.vertical+"Right"),s.horizontal=this.tooltipPositionX),this.tooltipEventArgs={type:null,cancel:!1,target:t,event:null,element:this.tooltipEle,collidedPosition:o},this.trigger("beforeCollision",this.tooltipEventArgs),this.tooltipEventArgs.cancel)o=this.position;else{var a=s.vertical,l=s.horizontal;if(s.position!==o){var h=er(t,l,a,!this.isBodyContainer,this.isBodyContainer?null:this.containerElement.getBoundingClientRect());this.adjustArrow(t,o,l,a);var u=this.getScalingFactor(t),c=this.calculateTooltipOffset(o,u.x,u.y);c.top-=this.getOffSetPosition("TopBottom",o,this.offsetY),c.left-=this.getOffSetPosition("RightLeft",o,this.offsetX),s.position=o;var d=this.calculateElementPosition(h,c);s.left=d[0],s.top=d[1]}else this.adjustArrow(t,o,l,a)}var f={left:s.left,top:s.top},g=this.isBodyContainer?oj(this.tooltipEle,this.checkCollideTarget(),{X:!0,Y:this.windowCollision},f):f;this.tooltipEle.style.display="block";var m=ii("."+fu,this.tooltipEle);if(this.showTipPointer&&m!=null&&(o.indexOf("Bottom")===0||o.indexOf("Top")===0)){var y=parseInt(m.style.left,10)-(g.left-s.left);y<0?y=0:y+m.offsetWidth>this.tooltipEle.clientWidth&&(y=this.tooltipEle.clientWidth-m.offsetWidth),m.style.left=y.toString()+"px"}return this.tooltipEle.style.display="",f.left=g.left,f.top=g.top,f},e.prototype.getOffSetPosition=function(t,i,n){return t.indexOf(this.position.split(/(?=[A-Z])/)[0])!==-1&&t.indexOf(i.split(/(?=[A-Z])/)[0])!==-1?2*n:0},e.prototype.checkCollideTarget=function(){return!this.windowCollision&&this.target?this.element:null},e.prototype.hideTooltip=function(t,i,n){var s=this;if(this.closeDelay>0){clearTimeout(this.hideTimer),clearTimeout(this.showTimer);var o=function(){s.closeDelay&&s.tooltipEle&&s.isTooltipOpen||s.tooltipHide(t,i,n)};this.hideTimer=setTimeout(o,this.closeDelay)}else this.tooltipHide(t,i,n)},e.prototype.tooltipHide=function(t,i,n){var s=this,o;i?o=this.target?n||i.target:this.element:o=ii('[data-tooltip-id= "'+this.ctrlId+'_content"]',document),this.tooltipEventArgs={type:i?i.type:null,cancel:!1,target:o,event:i||null,element:this.tooltipEle,isInteracted:!p(i)},this.trigger("beforeClose",this.tooltipEventArgs,function(a){a.cancel?s.isHidden=!1:(s.mouseMoveBeforeRemove(),s.popupHide(t,o,i))})},e.prototype.popupHide=function(t,i,n){i&&n&&this.restoreElement(i),this.isHidden=!0;var s={name:t.effect==="None"&&ol==="Enable"?"FadeOut":this.animation.close.effect,duration:t.duration,delay:t.delay,timingFunction:"easeIn"};t.effect==="None"&&(s=void 0),this.popupObj&&this.popupObj.hide(s)},e.prototype.restoreElement=function(t){this.unwireMouseEvents(t),p(t.getAttribute("data-content"))||(t.setAttribute("title",t.getAttribute("data-content")),t.removeAttribute("data-content")),this.removeDescribedBy(t)},e.prototype.clear=function(){var t=this.findTarget();t&&this.restoreElement(t),this.tooltipEle&&(ue([this.tooltipEle],GM),Z([this.tooltipEle],Gc)),this.isHidden&&(this.popupObj&&this.popupObj.destroy(),this.tooltipEle&&ot(this.tooltipEle),this.tooltipEle=null,this.popupObj=null)},e.prototype.tooltipHover=function(){this.tooltipEle&&(this.isTooltipOpen=!0)},e.prototype.tooltipMouseOut=function(t){this.isTooltipOpen=!1,this.hideTooltip(this.animation.close,t,this.findTarget())},e.prototype.onMouseOut=function(t){var i=t.relatedTarget;if(i&&!this.mouseTrail){var n=xe(i,"."+_M+"."+qf+"."+qM);n?F.add(n,"mouseleave",this.tooltipElementMouseOut,this):(this.hideTooltip(this.animation.close,t,this.findTarget()),this.closeDelay===0&&(this.animation.close.effect==="None"||this.isReact&&typeof this.content!="string")&&this.clear())}else this.hideTooltip(this.animation.close,t,this.findTarget()),this.clear();this.popupObj&&!this.popupObj.element.classList.contains(Gc)&&this.clear()},e.prototype.tooltipElementMouseOut=function(t){this.hideTooltip(this.animation.close,t,this.findTarget()),F.remove(this.element,"mouseleave",this.tooltipElementMouseOut),this.clear()},e.prototype.onStickyClose=function(){this.close()},e.prototype.onMouseMove=function(t){var i=0,n=0;if(t.type.indexOf("touch")>-1?(t.preventDefault(),i=t.touches[0].pageX,n=t.touches[0].pageY):(i=t.pageX,n=t.pageY),!p(this.tooltipEle)){ro.stop(this.tooltipEle),ue([this.tooltipEle],GM),Z([this.tooltipEle],Gc),this.adjustArrow(t.target,this.position,this.tooltipPositionX,this.tooltipPositionY);var s=this.getScalingFactor(t.target),o=this.calculateTooltipOffset(this.position,s.x,s.y),a=i+o.left+this.offsetX,l=n+o.top+this.offsetY,h=this.checkCollision(t.target,a,l);if(this.tooltipPositionX!==h.horizontal||this.tooltipPositionY!==h.vertical){var u=this.position.indexOf("Bottom")===0||this.position.indexOf("Top")===0?h.vertical+h.horizontal:h.horizontal+h.vertical;h.position=u,this.adjustArrow(t.target,h.position,h.horizontal,h.vertical);var c=this.calculateTooltipOffset(h.position,s.x,s.y);h.left=i+c.left-this.offsetX,h.top=n+c.top-this.offsetY}this.tooltipEle.style.left=h.left+"px",this.tooltipEle.style.top=h.top+"px"}},e.prototype.keyDown=function(t){this.tooltipEle&&t.keyCode===27&&this.close()},e.prototype.touchEnd=function(t){this.tooltipEle&&xe(t.target,"."+QM)===null&&!this.isSticky&&this.close()},e.prototype.scrollHandler=function(t){this.tooltipEle&&!this.isSticky&&!xe(t.target,"."+_M+"."+qf+"."+qM)&&!this.isSticky&&this.close()},e.prototype.render=function(){this.initialize(),this.wireEvents(this.opensOn),this.renderComplete()},e.prototype.preRender=function(){this.tipClass=qc,this.tooltipPositionX="Center",this.tooltipPositionY="Top",this.isHidden=!0},e.prototype.wireEvents=function(t){for(var i=this.getTriggerList(t),n=0,s=i;n<s.length;n++){var o=s[n];if(o==="Custom")return;o==="Focus"&&this.wireFocusEvents(),o==="Click"&&(ne.isIos7||ne.isIos)&&F.add(this.element,"mousedown",this.targetClick,this),o==="Click"&&!(ne.isIos7||ne.isIos)&&F.add(this.element,ne.touchStartEvent,this.targetClick,this),o==="Hover"&&(ne.isDevice?(this.touchModule=new _$(this.element,{tapHoldThreshold:_K,tapHold:this.tapHoldHandler.bind(this)}),F.add(this.element,ne.touchEndEvent,this.touchEndHandler,this)):F.add(this.element,"mouseover",this.targetHover,this))}this.windowResizeBound=this.windowResize.bind(this),this.keyDownBound=this.keyDown.bind(this),this.touchEndBound=this.touchEnd.bind(this),this.scrollWheelBound=this.scrollHandler.bind(this),document.addEventListener("wheel",this.scrollWheelBound),document.addEventListener("scroll",this.scrollWheelBound),document.addEventListener("touchend",this.touchEndBound),document.addEventListener("keydown",this.keyDownBound),window.addEventListener("resize",this.windowResizeBound)},e.prototype.getTriggerList=function(t){return t?(t==="Auto"&&(t=ne.isDevice?"Hover":"Hover Focus"),t.split(" ")):[]},e.prototype.wireFocusEvents=function(){if(p(this.target))F.add(this.element,"focusin",this.targetHover,this);else{var t=[].slice.call(ln(this.target,this.element));if(this.targetsList=t,!p(this.targetsList)&&this.targetsList.length>0)for(var i=0,n=t;i<n.length;i++){var s=n[i];F.add(s,"focus",this.targetHover,this)}else F.add(this.element,"focusin",this.targetHover,this)}},e.prototype.wireMouseEvents=function(t,i){this.tooltipEle&&(this.isSticky||(t.type==="focus"&&F.add(i,"blur",this.onMouseOut,this),t.type==="focusin"&&F.add(i,"focusout",this.onMouseOut,this),t.type==="mouseover"&&F.add(i,"mouseleave",this.onMouseOut,this),this.closeDelay&&(F.add(this.tooltipEle,"mouseenter",this.tooltipHover,this),F.add(this.tooltipEle,"mouseleave",this.tooltipMouseOut,this))),this.mouseTrail&&this.openDelay===0&&F.add(i,"mousemove touchstart mouseenter",this.onMouseMove,this))},e.prototype.unwireEvents=function(t){for(var i=this.getTriggerList(t),n=0,s=i;n<s.length;n++){var o=s[n];if(o==="Custom")return;o==="Focus"&&this.unwireFocusEvents(),o==="Click"&&F.remove(this.element,ne.touchStartEvent,this.targetClick),o==="Hover"&&(ne.isDevice?(this.touchModule&&this.touchModule.destroy(),F.remove(this.element,ne.touchEndEvent,this.touchEndHandler)):F.remove(this.element,"mouseover",this.targetHover))}document.removeEventListener("touchend",this.touchEndBound),this.touchEndBound=null,document.removeEventListener("wheel",this.scrollWheelBound),document.removeEventListener("scroll",this.scrollWheelBound),this.scrollWheelBound=null,window.removeEventListener("resize",this.windowResizeBound),this.windowResizeBound=null,document.removeEventListener("keydown",this.keyDownBound),this.keyDownBound=null},e.prototype.unwireFocusEvents=function(){if(p(this.target))F.remove(this.element,"focusin",this.targetHover);else{var t=[].slice.call(ln(this.target,this.element));if(!p(this.targetsList)&&this.targetsList.length>0)for(var i=0,n=t;i<n.length;i++){var s=n[i];F.remove(s,"focus",this.targetHover)}else F.remove(this.element,"focusin",this.targetHover)}},e.prototype.unwireMouseEvents=function(t){if(!this.isSticky){for(var i=this.getTriggerList(this.opensOn),n=0,s=i;n<s.length;n++){var o=s[n];o==="Focus"&&(F.remove(t,"blur",this.onMouseOut),F.remove(t,"focusout",this.onMouseOut)),o==="Hover"&&!ne.isDevice&&F.remove(t,"mouseleave",this.onMouseOut)}this.closeDelay&&(F.remove(t,"mouseenter",this.tooltipHover),F.remove(t,"mouseleave",this.tooltipMouseOut))}this.mouseTrail&&F.remove(t,"mousemove touchstart mouseenter",this.onMouseMove)},e.prototype.findTarget=function(){var t=ii('[data-tooltip-id= "'+this.ctrlId+'_content"]',document);return t},e.prototype.getModuleName=function(){return"tooltip"},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.prototype.onPropertyChanged=function(t,i){for(var n=this.findTarget(),s=0,o=Object.keys(t);s<o.length;s++){var a=o[s];switch(a){case"width":this.tooltipEle&&n&&(this.tooltipEle.style.width=this.tooltipEle.style.maxWidth=mt(t.width),this.reposition(n));break;case"height":this.tooltipEle&&n&&(this.tooltipEle.style.height=mt(t.height),this.reposition(n));break;case"content":this.tooltipEle&&this.renderContent();break;case"opensOn":this.unwireEvents(i.opensOn),this.wireEvents(t.opensOn);break;case"position":if(this.formatPosition(),this.tooltipEle&&n){var l=ii("."+Wf,this.tooltipEle);l&&(l.style.top=l.style.left=null),this.reposition(n)}break;case"tipPointerPosition":this.tooltipEle&&n&&this.reposition(n);break;case"offsetX":if(this.tooltipEle){var h=t.offsetX-i.offsetX;this.tooltipEle.style.left=(parseInt(this.tooltipEle.style.left,10)+h).toString()+"px"}break;case"offsetY":if(this.tooltipEle){var u=t.offsetY-i.offsetY;this.tooltipEle.style.top=(parseInt(this.tooltipEle.style.top,10)+u).toString()+"px"}break;case"cssClass":this.tooltipEle&&(i.cssClass&&ue([this.tooltipEle],i.cssClass.split(" ")),t.cssClass&&Z([this.tooltipEle],t.cssClass.split(" ")));break;case"enableRtl":this.tooltipEle&&(this.enableRtl?Z([this.tooltipEle],c1):ue([this.tooltipEle],c1));break;case"isSticky":this.tooltipEle&&n&&(this.renderCloseIcon(),this.reposition(n));break;case"container":p(this.containerElement)||ue([this.containerElement],y1),this.container=t.container,this.tooltipEle&&n&&(this.appendContainer(this),this.reposition(n))}}},e.prototype.open=function(t,i){p(i)&&(i=this.animation.open),p(t)&&(t=this.element),t.style.display!=="none"&&this.showTooltip(t,i)},e.prototype.close=function(t){t||(t=this.animation.close),this.hideTooltip(t)},e.prototype.refresh=function(t){if(this.tooltipEle&&this.renderContent(t),this.popupObj&&t&&this.reposition(t),!p(this.targetsList)&&!p(this.target)){var i=ln(this.target,this.element);i.length!==this.targetsList.length&&(this.unwireEvents(this.opensOn),this.wireEvents(this.opensOn))}},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.tooltipEle&&ot(this.tooltipEle),this.popupObj&&this.popupObj.destroy(),vj(),ue([this.element],QM),this.unwireEvents(this.opensOn),this.unwireMouseEvents(this.element),this.tooltipEle=null,this.popupObj=null;for(var t=ln('[data-tooltip-id= "'+this.ctrlId+'_content"]',this.element),i=0,n=t;i<n.length;i++){var s=n[i];this.restoreElement(s)}this.containerElement=null,this.tipClass=null,this.tooltipPositionX=null,this.tooltipPositionY=null,this.ctrlId=null,this.tooltipEventArgs=null,this.touchModule=null,this.mouseMoveEvent=null,this.mouseMoveTarget=null,this.containerElement=null,this.targetsList=null},Jt([I("auto")],e.prototype,"width",void 0),Jt([I("auto")],e.prototype,"height",void 0),Jt([I()],e.prototype,"content",void 0),Jt([I("body")],e.prototype,"container",void 0),Jt([I()],e.prototype,"target",void 0),Jt([I("TopCenter")],e.prototype,"position",void 0),Jt([I(0)],e.prototype,"offsetX",void 0),Jt([I(0)],e.prototype,"offsetY",void 0),Jt([I(!0)],e.prototype,"showTipPointer",void 0),Jt([I(!0)],e.prototype,"enableHtmlParse",void 0),Jt([I(!1)],e.prototype,"windowCollision",void 0),Jt([I("Auto")],e.prototype,"tipPointerPosition",void 0),Jt([I("Auto")],e.prototype,"opensOn",void 0),Jt([I(!1)],e.prototype,"mouseTrail",void 0),Jt([I(!1)],e.prototype,"isSticky",void 0),Jt([gt({},GK)],e.prototype,"animation",void 0),Jt([I(0)],e.prototype,"openDelay",void 0),Jt([I(0)],e.prototype,"closeDelay",void 0),Jt([I()],e.prototype,"cssClass",void 0),Jt([I(!0)],e.prototype,"enableHtmlSanitizer",void 0),Jt([I("")],e.prototype,"htmlAttributes",void 0),Jt([Q()],e.prototype,"beforeRender",void 0),Jt([Q()],e.prototype,"beforeOpen",void 0),Jt([Q()],e.prototype,"afterOpen",void 0),Jt([Q()],e.prototype,"beforeClose",void 0),Jt([Q()],e.prototype,"afterClose",void 0),Jt([Q()],e.prototype,"beforeCollision",void 0),Jt([Q()],e.prototype,"created",void 0),Jt([Q()],e.prototype,"destroyed",void 0),e=Jt([tn],e),e}(rr),Ji={},$K=30,KK=30,v1=30,JK=30,ZK=30,XK=30,eJ=36,tJ=36,$M="e-spin-show",Eg="e-spin-hide",M1="e-spin-material",S1="e-spin-material3",C1="e-spin-tailwind3",b1="e-spin-fabric",I1="e-spin-fluent",D1="e-spin-fluent2",T1="e-spin-tailwind",iJ="e-spin-bootstrap",w1="e-spin-bootstrap4",x1="e-spin-bootstrap5",N1="e-spin-high-contrast",rC="e-spinner-pane",eD="e-spinner-inner",Dv="e-path-circle",nJ="e-path-arc",rJ="e-spin-label",sC="e-spin-template",A1=null,sJ=null;function Jh(r,e){var t;if(r.target){var i,n=p(e)?Be:e,s=AJ(r.target,n);if(!p(r.cssClass)){var o=r.cssClass.split(" ").filter(function(u){return u.trim()!==""});(t=s.wrap.classList).add.apply(t,o)}if(!p(r.template)||!p(A1)){var a=p(r.template)?A1:r.template;s.wrap.classList.add(sC),TJ(s.wrap,a,sJ)}else{var l=p(r.type)?vJ(s.wrap):r.type,h=p(r.width)?void 0:r.width;i=wJ(h,l),MJ(l,s.wrap,i,n),p(r.label)||oJ(s.inner_wrap,r.label,n)}s.wrap.classList.add(Eg),s=null}}function oJ(r,e,t){var i=t("div",{});return i.classList.add(rJ),i.innerHTML=e,r.appendChild(i),i}function aJ(r,e,t){var i=Fs();Ji[""+i]={timeOut:0,type:"Material",radius:e},hf(r,i,t,M1),uf(e,r,"Material",M1)}function lJ(r,e,t){var i=Fs();Ji[""+i]={timeOut:0,type:"Tailwind3",radius:e},hf(r,i,t,C1),uf(e,r,"Tailwind3",C1)}function hJ(r,e,t){var i=Fs();Ji[""+i]={timeOut:0,type:"Material3",radius:e},hf(r,i,t,S1),uf(e,r,"Material3",S1)}function uJ(r,e,t){var i=Fs();Ji[""+i]={timeOut:0,type:"Bootstrap4",radius:e},hf(r,i,t,w1),uf(e,r,"Bootstrap4",w1)}function cJ(r,e,t){var i=Fs();Ji[""+i]={timeOut:0,type:"Bootstrap5",radius:e},hf(r,i,t,x1),uf(e,r,"Bootstrap5",x1)}function dJ(r,e,t){var i={},n=0;Ji[""+e].timeOut=0,i[""+e]=xJ(e,t,0,0);var s={uniqueID:e,container:r,globalInfo:i,timeOutVar:n};Ej(s)}function pJ(r,e,t){var i=Fs();Ji[""+i]={timeOut:0,type:"Fabric",radius:e},lf(r,i,b1),cf(e,r,b1)}function fJ(r,e,t){var i=Fs();Ji[""+i]={timeOut:0,type:"Fluent",radius:e},lf(r,i,I1),cf(e,r,I1)}function gJ(r,e,t){var i=Fs();Ji[""+i]={timeOut:0,type:"Fluent2",radius:e},lf(r,i,D1),cf(e,r,D1)}function mJ(r,e,t){var i=Fs();Ji[""+i]={timeOut:0,type:"Tailwind",radius:e},lf(r,i,T1),cf(e,r,T1)}function yJ(r,e,t){var i=Fs();Ji[""+i]={timeOut:0,type:"HighContrast",radius:e},lf(r,i,N1),cf(e,r,N1)}function vJ(r){var e=window.getComputedStyle(r,":after").getPropertyValue("content");return e.replace(/['"]+/g,"")}function MJ(r,e,t,i){var n=e.querySelector("."+eD),s=n.querySelector("svg");switch(p(s)||n.removeChild(s),r){case"Material":aJ(n,t,i);break;case"Material3":hJ(n,t,i);break;case"Fabric":pJ(n,t);break;case"Fluent":fJ(n,t);break;case"Fluent2":gJ(n,t);break;case"Bootstrap":SJ(n,t);break;case"HighContrast":yJ(n,t);break;case"Bootstrap4":uJ(n,t,i);break;case"Bootstrap5":cJ(n,t,i);break;case"Tailwind":case"Tailwind-dark":mJ(n,t);break;case"Tailwind3":lJ(n,t,i);break}}function SJ(r,e,t){var i=Fs();Ji[""+i]={timeOut:0,type:"Bootstrap",radius:e},CJ(r,i),bJ(r,e)}function CJ(r,e,t){var i=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=64,s=32,o=2;i.setAttribute("id",e),i.setAttribute("class",iJ),i.setAttribute("viewBox","0 0 "+n+" "+n),r.insertBefore(i,r.firstChild);for(var a=0;a<=7;a++){var l=document.createElementNS("http://www.w3.org/2000/svg","circle");l.setAttribute("class",Dv+"_"+a),l.setAttribute("r",o+""),l.setAttribute("transform","translate("+s+","+s+")"),i.appendChild(l)}}function bJ(r,e){var t=r.querySelector("svg.e-spin-bootstrap"),i=0,n=0,s=24;t.style.width=t.style.height=e+"px";for(var o=90,a=0;a<=7;a++){var l=oC(i,n,s,o),h=t.querySelector("."+Dv+"_"+a);h.setAttribute("cx",l.x+""),h.setAttribute("cy",l.y+""),o=o>=360?0:o,o=o+45}}function IJ(r,e){var t=[],i=r,n=e,s=!1,o=1;a(i);function a(l){t.push(l),(l!==n||o===1)&&(l<=i&&l>1&&!s?l=parseFloat((l-.2).toFixed(2)):l===1?(l=7,l=parseFloat((l+.2).toFixed(2)),s=!0):l<8&&s?(l=parseFloat((l+.2).toFixed(2)),l===8&&(s=!1)):l<=8&&!s&&(l=parseFloat((l-.2).toFixed(2))),++o,a(l))}return t}function DJ(r){for(var e=r.querySelector("svg.e-spin-bootstrap"),t=e.getAttribute("id"),i=1;i<=8;i++){var n=r.getElementsByClassName("e-path-circle_"+(i===8?0:i))[0];s(n,i,i,IJ(i,i),t)}function s(o,a,l,h,u){var c=0;d(a);function d(f){Ji[""+u].isAnimate&&(++c,o.setAttribute("r",f+""),c>=h.length&&(c=0),Ji[u].timeOut=setTimeout(d.bind(null,h[c]),18))}}}function TJ(r,e,t){p(t)||r.classList.add(t);var i=r.querySelector(".e-spinner-inner");i.innerHTML=e}function wJ(r,e){var t;switch(e){case"Material":t=$K;break;case"Material3":t=KK;break;case"Fabric":t=v1;break;case"Tailwind":case"Tailwind-dark":case"Tailwind3":t=v1;break;case"Fluent":t=JK;break;case"Fluent2":t=ZK;break;case"Bootstrap4":t=eJ;break;case"Bootstrap5":t=tJ;break;default:t=XK}return r=r?parseFloat(r+""):t,e==="Bootstrap"?r:r/2}function xJ(r,e,t,i){return{radius:e,count:t,previousId:i}}function NJ(){var r=new Uint32Array(1);return window.crypto.getRandomValues(r),r[0]/4294967296}function Fs(){for(var r="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=0;t<5;t++)r+=e.charAt(Math.floor(NJ()*e.length));return r}function lf(r,e,t,i){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("id",e),n.setAttribute("class",t);var s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("class",Dv);var o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("class",nJ),r.insertBefore(n,r.firstChild),n.appendChild(s),n.appendChild(o)}function hf(r,e,t,i){var n=document.createElementNS("http://www.w3.org/2000/svg","svg"),s=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("class",i),n.setAttribute("id",e),s.setAttribute("class",Dv),r.insertBefore(n,r.firstChild),n.appendChild(s)}function AJ(r,e){var t=e("div",{}),i=e("div",{});return t.classList.add(rC),i.classList.add(eD),i.setAttribute("aria-disabled","true"),r.appendChild(t),t.appendChild(i),{wrap:t,inner_wrap:i}}function Ej(r){var e=1,t=149,i=1333,n=75;EJ(e,t,zJ,i,r.globalInfo[r.uniqueID].count,n,r),r.globalInfo[r.uniqueID].count=++r.globalInfo[r.uniqueID].count%4}function EJ(r,e,t,i,n,s,o){var a=++o.globalInfo[o.uniqueID].previousId,l=new Date().getTime(),h=e-r,u=kJ(o.globalInfo[o.uniqueID].radius*2+""),c=kj(u),d=-90*(o.globalInfo[o.uniqueID].count||0);f(o);function f(m){var y=Math.max(0,Math.min(new Date().getTime()-l,i));g(t(y,r,h,i),m.container),a===m.globalInfo[m.uniqueID].previousId&&y<i?Ji[m.uniqueID].timeOut=setTimeout(f.bind(null,m),1):Ej(m)}function g(m,y){if(!p(y.querySelector("svg.e-spin-material"))||!p(y.querySelector("svg.e-spin-material3"))||!p(y.querySelector("svg.e-spin-tailwind3"))){var v=void 0;if(!p(y.querySelector("svg.e-spin-material"))&&!p(y.querySelector("svg.e-spin-material").querySelector("path.e-path-circle"))?v=y.querySelector("svg.e-spin-material"):!p(y.querySelector("svg.e-spin-material3"))&&!p(y.querySelector("svg.e-spin-material3").querySelector("path.e-path-circle"))?v=y.querySelector("svg.e-spin-material3"):!p(y.querySelector("svg.e-spin-tailwind3"))&&!p(y.querySelector("svg.e-spin-tailwind3").querySelector("path.e-path-circle"))&&(v=y.querySelector("svg.e-spin-tailwind3")),!p(v)){var M=v.querySelector("path.e-path-circle");M.setAttribute("stroke-dashoffset",Lj(u,c,m,s)+""),M.setAttribute("transform","rotate("+d+" "+u/2+" "+u/2+")")}}}}function uf(r,e,t,i){var n=r*2,s=e.querySelector("svg."+i),o=s.querySelector("path.e-path-circle"),a=kj(n),l=n/2+"px";s.setAttribute("viewBox","0 0 "+n+" "+n),s.style.width=s.style.height=n+"px",s.style.transformOrigin=l+" "+l+" "+l,o.setAttribute("d",LJ(n,a)),(t==="Material"||t==="Material3"||t==="Fluent2"||t==="Tailwind3")&&(o.setAttribute("stroke-width",a+""),o.setAttribute("stroke-dasharray",(n-a)*Math.PI*.75+""),o.setAttribute("stroke-dashoffset",Lj(n,a,1,75)+""))}function kJ(r){var e=parseFloat(r);return e}function LJ(r,e){var t=r/2,i=e/2;return"M"+t+","+i+"A"+(t-i)+","+(t-i)+" 0 1 1 "+i+","+t}function kj(r){return 10/100*r}function Lj(r,e,t,i){return(r-e)*Math.PI*(3*i/100-t/100)}function zJ(r,e,t,i){var n=(r/=i)*r,s=n*r;return e+t*(6*s*n+-15*n*n+10*s)}function cf(r,e,t){var i=r,n=r,s=r*2,o=315,a=45,l=e.querySelector("."+t),h=l.querySelector(".e-path-circle"),u=l.querySelector(".e-path-arc"),c=s/2+"px";h.setAttribute("d",RJ(i,n,r)),u.setAttribute("d",OJ(i,n,r,o,a)),l.setAttribute("viewBox","0 0 "+s+" "+s),l.style.transformOrigin=c+" "+c+" "+c,l.style.width=l.style.height=s+"px"}function oC(r,e,t,i){var n=(i-90)*Math.PI/180;return{x:r+t*Math.cos(n),y:e+t*Math.sin(n)}}function OJ(r,e,t,i,n){var s=oC(r,e,t,n),o=oC(r,e,t,i),a=["M",s.x,s.y,"A",t,t,0,0,0,o.x,o.y].join(" ");return a}function RJ(r,e,t){var i=["M",r,e,"m",-t,0,"a",t,t,0,1,0,t*2,0,"a",t,t,0,1,0,-t*2,0].join(" ");return i}function oo(r){zj(r,!1),r=null}function zj(r,e){var t;if(r)if(r.classList.contains(rC))t=r;else{var i=r.querySelectorAll("."+rC);if(ne.isIE){for(var n=0;n<i.length;n++)if(i[n].parentElement&&i[n].parentElement===r){t=i[n];break}}else t=Array.from(i).find(function(h){return h.parentElement===r})||null}if(r&&t){var s=t.querySelector("."+eD),o=e?!t.classList.contains(sC)&&!t.classList.contains(Eg):!t.classList.contains(sC)&&!t.classList.contains($M);if(o){var a=t.querySelector("svg");if(p(a))return;var l=a.getAttribute("id");switch(Ji[""+l].isAnimate=!e,Ji[""+l].type){case"Material":case"Material3":case"Tailwind3":e?clearTimeout(Ji[l].timeOut):dJ(s,l,Ji[l].radius);break;case"Bootstrap":e?clearTimeout(Ji[l].timeOut):DJ(s);break}}e?Ki(t,[Eg],[$M]):Ki(t,[$M],[Eg]),r=null}}function wl(r){zj(r,!0),r=null}var He=function(){function r(e){return this.subQuery=null,this.isChild=!1,this.distincts=[],this.queries=[],this.key="",this.fKey="",typeof e=="string"?this.fromTable=e:e&&e instanceof Array&&(this.lookups=e),this.expands=[],this.sortedColumns=[],this.groupedColumns=[],this.subQuery=null,this.isChild=!1,this.params=[],this.lazyLoad=[],this}return Object.defineProperty(r.prototype,"moduleName",{get:function(){return"query"},enumerable:!0,configurable:!0}),r.prototype.setKey=function(e){return this.key=e,this},r.prototype.using=function(e){return this.dataManager=e,this},r.prototype.execute=function(e,t,i,n){return e=e||this.dataManager,e?e.executeQuery(this,t,i,n):re.throwError('Query - execute() : dataManager needs to be is set using "using" function or should be passed as argument')},r.prototype.executeLocal=function(e){return e=e||this.dataManager,e?e.executeLocal(this):re.throwError('Query - executeLocal() : dataManager needs to be is set using "using" function or should be passed as argument')},r.prototype.clone=function(){var e=new r;return e.queries=this.queries.slice(0),e.key=this.key,e.isChild=this.isChild,e.dataManager=this.dataManager,e.fromTable=this.fromTable,e.params=this.params.slice(0),e.expands=this.expands.slice(0),e.sortedColumns=this.sortedColumns.slice(0),e.groupedColumns=this.groupedColumns.slice(0),e.subQuerySelector=this.subQuerySelector,e.subQuery=this.subQuery,e.fKey=this.fKey,e.isCountRequired=this.isCountRequired,e.distincts=this.distincts.slice(0),e.lazyLoad=this.lazyLoad.slice(0),e},r.prototype.from=function(e){return this.fromTable=e,this},r.prototype.addParams=function(e,t){return typeof t=="function"?this.params.push({key:e,fn:t}):this.params.push({key:e,value:t}),this},r.prototype.distinct=function(e){return typeof e=="string"?this.distincts=[].slice.call([e],0):this.distincts=e.slice(0),this},r.prototype.expand=function(e){return typeof e=="string"?this.expands=[].slice.call([e],0):this.expands=e.slice(0),this},r.prototype.where=function(e,t,i,n,s,o){t=t?t.toLowerCase():null;var a=null;return typeof e=="string"?a=new Tt(e,t,i,n,s,o):e instanceof Tt&&(a=e),this.queries.push({fn:"onWhere",e:a}),this},r.prototype.search=function(e,t,i,n,s){typeof t=="string"&&(t=[t]),(!i||i==="none")&&(i="contains");var o=re.fnOperators[i];return this.queries.push({fn:"onSearch",e:{fieldNames:t,operator:i,searchKey:e,ignoreCase:n,ignoreAccent:s,comparer:o}}),this},r.prototype.sortBy=function(e,t,i){return this.sortByForeignKey(e,t,i)},r.prototype.sortByForeignKey=function(e,t,i,n,s){var o=p(n)?"ascending":n,a,l;if(typeof e=="string"&&re.endsWith(e.toLowerCase()," desc")&&(e=e.replace(/ desc$/i,""),t="descending"),(!t||typeof t=="string")&&(o=t?t.toLowerCase():"ascending",t=re.fnSort(t)),i){a=r.filterQueries(this.queries,"onSortBy");for(var h=0;h<a.length;h++)if(l=a[h].e.fieldName,typeof l=="string"){if(l===e)return this}else if(l instanceof Array){for(var u=0;u<l.length;u++)if(l[u]===e||e.toLowerCase()===l[u]+" desc")return this}}return p(s)?this.queries.push({fn:"onSortBy",e:{fieldName:e,comparer:t,direction:o}}):this.queries.push({fn:"onSortBy",e:{fieldName:e,foreignKeyValue:s,comparer:t,direction:o}}),this},r.prototype.sortByDesc=function(e){return this.sortBy(e,"descending")},r.prototype.group=function(e,t,i){return this.sortBy(e,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:e,comparer:t||null,format:i||null}}),this},r.prototype.page=function(e,t){return this.queries.push({fn:"onPage",e:{pageIndex:e,pageSize:t}}),this},r.prototype.range=function(e,t){return this.queries.push({fn:"onRange",e:{start:e,end:t}}),this},r.prototype.take=function(e){return this.queries.push({fn:"onTake",e:{nos:e}}),this},r.prototype.skip=function(e){return this.queries.push({fn:"onSkip",e:{nos:e}}),this},r.prototype.select=function(e){return typeof e=="string"&&(e=[].slice.call([e],0)),this.queries.push({fn:"onSelect",e:{fieldNames:e}}),this},r.prototype.hierarchy=function(e,t){return this.subQuerySelector=t,this.subQuery=e,this},r.prototype.foreignKey=function(e){return this.fKey=e,this},r.prototype.requiresCount=function(){return this.isCountRequired=!0,this},r.prototype.aggregate=function(e,t){return this.queries.push({fn:"onAggregates",e:{field:t,type:e}}),this},r.filterQueries=function(e,t){return e.filter(function(i){return i.fn===t})},r.filterQueryLists=function(e,t){for(var i=e.filter(function(o){return t.indexOf(o.fn)!==-1}),n={},s=0;s<i.length;s++)n[i[s].fn]||(n[i[s].fn]=i[s].e);return n},r}(),Tt=function(){function r(e,t,i,n,s,o){return n===void 0&&(n=!1),this.ignoreAccent=!1,this.isComplex=!1,typeof e=="string"?(this.field=e,this.operator=t.toLowerCase(),this.value=i,this.matchCase=o,this.ignoreCase=n,this.ignoreAccent=s,this.isComplex=!1,this.comparer=re.fnOperators.processOperator(this.operator)):(e instanceof r&&i instanceof r||i instanceof Array)&&(this.isComplex=!0,this.condition=t.toLowerCase(),this.predicates=[e],this.matchCase=e.matchCase,this.ignoreCase=e.ignoreCase,this.ignoreAccent=e.ignoreAccent,i instanceof Array?[].push.apply(this.predicates,i):this.predicates.push(i)),this}return r.and=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.combinePredicates([].slice.call(e,0),"and")},r.prototype.and=function(e,t,i,n,s){return r.combine(this,e,t,i,"and",n,s)},r.or=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.combinePredicates([].slice.call(e,0),"or")},r.prototype.or=function(e,t,i,n,s){return r.combine(this,e,t,i,"or",n,s)},r.ornot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.combinePredicates([].slice.call(e,0),"or not")},r.prototype.ornot=function(e,t,i,n,s){return r.combine(this,e,t,i,"ornot",n,s)},r.andnot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.combinePredicates([].slice.call(e,0),"and not")},r.prototype.andnot=function(e,t,i,n,s){return r.combine(this,e,t,i,"andnot",n,s)},r.fromJson=function(e){if(e instanceof Array){for(var t=[],i=0,n=e.length;i<n;i++)t.push(this.fromJSONData(e[i]));return t}var s=e;return this.fromJSONData(s)},r.prototype.validate=function(e){var t=this.predicates?this.predicates:[],i,n;if(!this.isComplex&&this.comparer)return this.condition&&this.condition.indexOf("not")!==-1?(this.condition=this.condition.split("not")[0]===""?void 0:this.condition.split("not")[0],!this.comparer.call(this,re.getObject(this.field,e),this.value,this.ignoreCase,this.ignoreAccent)):this.comparer.call(this,re.getObject(this.field,e),this.value,this.ignoreCase,this.ignoreAccent);this.condition&&this.condition.indexOf("not")!==-1?n=this.condition.indexOf("and")!==-1:n=this.condition==="and";for(var s=0;s<t.length;s++)if(s>0&&this.condition&&this.condition.indexOf("not")!==-1&&(t[s].condition=t[s].condition?t[s].condition+"not":"not"),i=t[s].validate(e),n){if(!i)return!1}else if(i)return!0;return n},r.prototype.toJson=function(){var e,t;if(this.isComplex){e=[],t=this.predicates;for(var i=0;i<t.length;i++)e.push(t[i].toJson())}return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,ignoreAccent:this.ignoreAccent,condition:this.condition,predicates:e,matchCase:this.matchCase}},r.combinePredicates=function(e,t){if(e.length===1){if(!(e[0]instanceof Array))return e[0];e=e[0]}return new r(e[0],t,e.slice(1))},r.combine=function(e,t,i,n,s,o,a){return t instanceof r?r[s](e,t):typeof t=="string"?r[s](e,new r(t,i,n,o,a)):re.throwError("Predicate - "+s+" : invalid arguments")},r.fromJSONData=function(e){for(var t=e.predicates||[],i=t.length,n=[],s,o=0;o<i;o++)n.push(this.fromJSONData(t[o]));return e.isComplex?s=new r(n[0],e.condition,n.slice(1)):s=new r(e.field,e.operator,e.value,e.ignoreCase,e.ignoreAccent),s},r}(),E1={GroupGuid:"{271bbba0-1ee7}"},re=function(){function r(){}return r.getValue=function(e,t){return typeof e=="function"?e.call(t||{}):e},r.endsWith=function(e,t){return e.slice&&e.slice(-t.length)===t},r.notEndsWith=function(e,t){return e.slice&&e.slice(-t.length)!==t},r.startsWith=function(e,t){return e.slice(0,t.length)===t},r.notStartsWith=function(e,t){return e.slice(0,t.length)!==t},r.wildCard=function(e,t){var i,n;if(t.indexOf("[")!==-1&&(t=t.split("[").join("[[]")),t.indexOf("(")!==-1&&(t=t.split("(").join("[(]")),t.indexOf(")")!==-1&&(t=t.split(")").join("[)]")),t.indexOf("\\")!==-1&&(t=t.split("\\").join("[\\\\]")),t.indexOf("*")!==-1){t.charAt(0)!=="*"&&(t="^"+t),t.charAt(t.length-1)!=="*"&&(t=t+"$"),i=t.split("*");for(var s=0;s<i.length;s++)i[s].indexOf(".")===-1?i[s]=i[s]+".*":i[s]=i[s]+"*";t=i.join("")}(t.indexOf("%3f")!==-1||t.indexOf("?")!==-1)&&(n=t.indexOf("%3f")!==-1?t.split("%3f"):t.split("?"),t=n.join("."));var o=new RegExp(t,"g");return o.test(e)},r.like=function(e,t){return t.indexOf("%")!==-1?t.charAt(0)==="%"&&t.lastIndexOf("%")<2?(t=t.substring(1,t.length),r.startsWith(r.toLowerCase(e),r.toLowerCase(t))):t.charAt(t.length-1)==="%"&&t.indexOf("%")>t.length-3?(t=t.substring(0,t.length-1),r.endsWith(r.toLowerCase(e),r.toLowerCase(t))):(t.lastIndexOf("%")!==t.indexOf("%")&&t.lastIndexOf("%")>t.indexOf("%")+1&&(t=t.substring(t.indexOf("%")+1,t.lastIndexOf("%"))),e.indexOf(t)!==-1):!1},r.fnSort=function(e){return e=e?r.toLowerCase(e):"ascending",e==="ascending"?this.fnAscending:this.fnDescending},r.fnAscending=function(e,t){return p(e)&&p(t)?0:t==null?-1:typeof e=="string"?e.localeCompare(t):e==null?1:e-t},r.fnDescending=function(e,t){return p(e)&&p(t)?0:t==null?1:typeof e=="string"?e.localeCompare(t)*-1:e==null?-1:t-e},r.extractFields=function(e,t){for(var i={},n=0;n<t.length;n++)i=this.setValue(t[n],this.getObject(t[n],e),i);return i},r.select=function(e,t){for(var i=[],n=0;n<e.length;n++)i.push(this.extractFields(e[n],t));return i},r.group=function(e,t,i,n,s,o,a){n=n||1;var l=e,h="GroupGuid";if(l.GroupGuid===E1[h]){for(var u=function(S){if(p(s))l[S].items=c.group(l[S].items,t,i,l.level+1,null,o,a),l[S].count=l[S].items.length;else{var b=-1,C=s.filter(function(T){return T.key===l[S].key});b=s.indexOf(C[0]),l[S].items=c.group(l[S].items,t,i,l.level+1,s[b].items,o,a),l[S].count=s[b].count}},c=this,d=0;d<l.length;d++)u(d);return l.childLevels+=1,l}var f={},g=[];g.GroupGuid=E1[h],g.level=n,g.childLevels=0,g.records=l;for(var m=function(S){var b=y.getVal(l,S,t);if(p(o)||(b=o(b,t)),!f[b]&&(f[b]={key:b,count:0,items:[],aggregates:{},field:t},g.push(f[b]),!p(s))){var C=s.filter(function(T){return T.key===f[b].key});f[b].count=C[0].count}f[b].count=p(s)?f[b].count+=1:f[b].count,(!a||a&&i.length)&&f[b].items.push(l[S])},y=this,v=0;v<l.length;v++)m(v);if(i&&i.length)for(var M=function(S){for(var b={},C=void 0,T=i,k=0;k<i.length;k++)if(C=r.aggregates[i[k].type],p(s))C&&(b[T[k].field+" - "+T[k].type]=C(g[S].items,T[k].field));else{var N=s.filter(function(A){return A.key===g[S].key});C&&(b[T[k].field+" - "+T[k].type]=C(N[0].items,T[k].field))}g[S].aggregates=b},v=0;v<g.length;v++)M(v);if(a&&g.length&&i.length)for(var v=0;v<g.length;v++)g[v].items=[];return l.length&&g||l},r.buildHierarchy=function(e,t,i,n,s){var o,a={},l;for(n.result&&(n=n.result),n.GroupGuid&&this.throwError("DataManager: Do not have support Grouping in hierarchy"),o=0;o<n.length;o++){var h=this.getObject(e,n[o]);l=a[h]||(a[h]=[]),l.push(n[o])}for(o=0;o<i.length;o++){var h=this.getObject(s||e,i[o]);i[o][t]=a[h]}},r.getFieldList=function(e,t,i){if(i===void 0&&(i=""),t==null)return this.getFieldList(e,[],i);for(var n=e,s=Object.keys(e),o=0,a=s;o<a.length;o++){var l=a[o];typeof n[l]=="object"&&!(n[l]instanceof Array)?this.getFieldList(n[l],t,i+l+"."):t.push(i+l)}return t},r.getObject=function(e,t){if(!e)return t;if(t){if(e.indexOf(".")===-1)if(p(t[e])){var i=e.charAt(0).toLowerCase()+e.slice(1),n=e.charAt(0).toUpperCase()+e.slice(1);return p(t[i])?p(t[n])?null:t[n]:t[i]}else return t[e];for(var s=t,o=e.split("."),a=0;a<o.length&&s!=null;a++){if(s=s[o[a]],s===void 0){var l=o[a].charAt(0).toUpperCase()+o[a].slice(1);s=t[l]||t[l.charAt(0).toLowerCase()+l.slice(1)]||null}t=s}return s}},r.setValue=function(e,t,i){var n=e.toString().split("."),s=i||{},o=s,a,l=n.length,h;for(a=0;a<l;a++)h=n[a],a+1===l?o[h]=t===void 0?void 0:t:p(o[h])&&(o[h]={}),o=o[h];return s},r.sort=function(e,t,i){var n=this;return e.length<=1?e:e.slice().sort(function(s,o){return i(n.getVal([s],0,t),n.getVal([o],0,t),s,o)})},r.ignoreDiacritics=function(e){if(typeof e!="string")return e;var t=e.split(""),i=t.map(function(n){return n in r.diacritics?r.diacritics[n]:n});return i.join("")},r.ignoreDiacriticsForArrays=function(e){return Array.isArray(e)?e.map(function(t){return r.ignoreDiacritics(t)}):[]},r.merge=function(e,t,i,n){for(var s=[],o;e.length>0||t.length>0;)e.length>0&&t.length>0?n?o=n(this.getVal(e,0,i),this.getVal(t,0,i),e[0],t[0])<=0?e:t:o=e[0][i]<e[0][i]?e:t:o=e.length>0?e:t,s.push(o.shift());return s},r.getVal=function(e,t,i){return i?this.getObject(i,e[t]):e[t]},r.toLowerCase=function(e){return p(e)?"":typeof e=="string"?e.toLowerCase():e instanceof Date?e.toString().toLowerCase():e.toString()},r.callAdaptorFunction=function(e,t,i,n){if(t in e){var s=e[t](i,n);p(s)||(i=s)}return i},r.getAddParams=function(e,t,i){var n={};return r.callAdaptorFunction(e,"addParams",{dm:t,query:i,params:i?i.params:[],reqParams:n}),n},r.isPlainObject=function(e){return!!e&&e.constructor===Object},r.isCors=function(){var e=null,t="XMLHttpRequest";try{e=new window[t]}catch{}return!!e&&"withCredentials"in e},r.getGuid=function(e){var t="0123456789abcdef",i;return(e||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,function(n,s){if("crypto"in window&&"getRandomValues"in crypto){var o=new Uint8Array(1);window.crypto.getRandomValues(o),i=o[0]%16|0}return t[s===19?i&3|8:i]})},r.isNull=function(e){return e==null},r.getItemFromComparer=function(e,t,i){var n,s,o,a=0,l=typeof r.getVal(e,0,t)=="string";if(e.length)for(;p(n)&&a<e.length;)n=r.getVal(e,a,t),o=e[a++];for(;a<e.length;a++)s=r.getVal(e,a,t),!p(s)&&(l&&(n=+n,s=+s),i(n,s)>0&&(n=s,o=e[a]));return o},r.distinct=function(e,t,i){i=p(i)?!1:i;var n=[],s,o={};return e.forEach(function(a,l){s=typeof e[l]=="object"?r.getVal(e,l,t):e[l],s in o||(n.push(i?e[l]:s),o[s]=1)}),n},r.processData=function(e,t){var i=this.prepareQuery(e),n=new fe(t);e.requiresCounts&&i.requiresCount();var s=n.executeLocal(i),o={result:e.requiresCounts?s.result:s,count:s.count,aggregates:JSON.stringify(s.aggregates)};return e.requiresCounts?o:s},r.prepareQuery=function(e){var t=this,i=new He;if(e.select&&i.select(e.select),e.where){var n=r.parse.parseJson(e.where);n.filter(function(o){if(p(o.condition))i.where(o.field,o.operator,o.value,o.ignoreCase,o.ignoreAccent);else{var a=[];o.field?a.push(new Tt(o.field,o.operator,o.value,o.ignoreCase,o.ignoreAccent)):a=a.concat(t.getPredicate(o.predicates)),o.condition==="or"?i.where(Tt.or(a)):o.condition==="and"&&i.where(Tt.and(a))}})}if(e.search){var s=r.parse.parseJson(e.search);s.filter(function(o){return i.search(o.key,o.fields,o.operator,o.ignoreCase,o.ignoreAccent)})}return e.aggregates&&e.aggregates.filter(function(o){return i.aggregate(o.type,o.field)}),e.sorted&&e.sorted.filter(function(o){return i.sortBy(o.name,o.direction)}),e.skip&&i.skip(e.skip),e.take&&i.take(e.take),e.group&&e.group.filter(function(o){return i.group(o)}),i},r.getPredicate=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];if(n.field)t.push(new Tt(n.field,n.operator,n.value,n.ignoreCase,n.ignoreAccent));else{for(var s=[],o=this.getPredicate(n.predicates),a=0,l=Object.keys(o);a<l.length;a++){var h=l[a];s.push(o[h])}t.push(n.condition==="or"?Tt.or(s):Tt.and(s))}}return t},r.serverTimezoneOffset=null,r.timeZoneHandling=!0,r.throwError=function(e){try{throw new Error(e)}catch(t){throw t.message+`
`+t.stack}},r.aggregates={sum:function(e,t){for(var i=0,n,s=typeof r.getVal(e,0,t)!="number",o=0;o<e.length;o++)n=r.getVal(e,o,t),!isNaN(n)&&n!==null&&(s&&(n=+n),i+=n);return i},average:function(e,t){return r.aggregates.sum(e,t)/e.length},min:function(e,t){var i;return typeof t=="function"&&(i=t,t=null),r.getObject(t,r.getItemFromComparer(e,t,i||r.fnAscending))},max:function(e,t){var i;return typeof t=="function"&&(i=t,t=null),r.getObject(t,r.getItemFromComparer(e,t,i||r.fnDescending))},truecount:function(e,t){return new fe(e).executeLocal(new He().where(t,"equal",!0,!0)).length},falsecount:function(e,t){return new fe(e).executeLocal(new He().where(t,"equal",!1,!0)).length},count:function(e,t){return e.length}},r.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},r.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},r.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof",doesnotendwith:"not endswith",doesnotstartwith:"not startswith",doesnotcontain:"not substringof",wildcard:"wildcard",like:"like"},r.odv4UniOperator={"$=":"endswith","^=":"startswith","*=":"contains",endswith:"endswith",startswith:"startswith",contains:"contains",doesnotendwith:"not endswith",doesnotstartwith:"not startswith",doesnotcontain:"not contains",wildcard:"wildcard",like:"like"},r.diacritics={"":"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A","":"A","":"A","":"AA",:"AE",:"AE",:"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B",:"B",:"B",:"B",:"B","":"B",:"B",:"B","":"C",:"C",:"C",:"C",:"C",:"C",:"C",:"C",:"C","":"C","":"C","":"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D","":"D",:"DZ",:"DZ",:"Dz",:"Dz","":"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E","":"F",:"F",:"F",:"F","":"F","":"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G","":"G","":"G","":"G","":"H",:"H",:"H",:"H",:"H",:"H",:"H",:"H",:"H",:"H","":"H","":"H","":"H","":"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I","":"J",:"J",:"J","":"J","":"K",:"K",:"K",:"K",:"K",:"K",:"K",:"K","":"K","":"K","":"K","":"K","":"K","":"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L","":"L","":"L","":"L","":"L","":"L","":"L",:"LJ",:"Lj","":"M",:"M",:"M",:"M",:"M","":"M",:"M","":"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N","":"N",:"N","":"N","":"N",:"NJ",:"Nj","":"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O","":"O","":"O",:"OI","":"OO",:"OU","":"P",:"P",:"P",:"P",:"P","":"P","":"P","":"P","":"P","":"Q",:"Q","":"Q","":"Q","":"Q","":"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R","":"R","":"R","":"R","":"R","":"R","":"S",:"S","":"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S","":"S","":"S","":"S","":"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T","":"T","":"T","":"TZ","":"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U","":"U","":"V",:"V",:"V",:"V",:"V","":"V","":"V","":"VY","":"W",:"W",:"W",:"W",:"W",:"W",:"W",:"W","":"W","":"X",:"X",:"X",:"X","":"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y","":"Y","":"Y","":"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z","":"Z","":"Z","":"Z","":"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a","":"a",:"a","":"aa",:"ae",:"ae",:"ae","":"ao","":"au","":"av","":"av","":"ay","":"b",:"b",:"b",:"b",:"b",:"b",:"b",:"b","":"c",:"c",:"c",:"c",:"c",:"c",:"c",:"c",:"c","":"c","":"c","":"c","":"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d","":"d",:"dz",:"dz","":"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e","":"e",:"e",:"e","":"f",:"f",:"f",:"f","":"f","":"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g","":"g","":"g","":"g","":"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h","":"h","":"h",:"h",:"hv","":"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i","":"j",:"j",:"j",:"j","":"j","":"k",:"k",:"k",:"k",:"k",:"k",:"k",:"k","":"k","":"k","":"k","":"k","":"k","":"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l","":"l","":"l","":"l","":"l",:"lj","":"m",:"m",:"m",:"m",:"m",:"m",:"m","":"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n","":"n","":"n",:"nj","":"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o","":"o","":"o",:"o",:"oi",:"ou","":"oo","":"p",:"p",:"p",:"p",:"p","":"p","":"p","":"p","":"p","":"q",:"q","":"q","":"q","":"q","":"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r","":"r",:"r","":"r","":"r","":"r","":"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s","":"s","":"s","":"s",:"s","":"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t","":"t","":"t","":"tz","":"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u","":"v",:"v",:"v",:"v",:"v","":"v",:"v","":"vy","":"w",:"w",:"w",:"w",:"w",:"w",:"w",:"w",:"w","":"w","":"x",:"x",:"x",:"x","":"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y","":"y","":"y","":"z",:"z",:"z",:"z",:"z",:"z",:"z",:"z",:"z",:"z","":"z","":"z","":"z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r.fnOperators={equal:function(e,t,i,n){return n&&(e=r.ignoreDiacritics(e),t=r.ignoreDiacritics(t)),i?r.toLowerCase(e)===r.toLowerCase(t):e===t},notequal:function(e,t,i,n){return n&&(e=r.ignoreDiacritics(e),t=r.ignoreDiacritics(t)),!r.fnOperators.equal(e,t,i)},lessthan:function(e,t,i){return i?r.toLowerCase(e)<r.toLowerCase(t):(p(e)&&(e=void 0),e<t)},greaterthan:function(e,t,i){return i?r.toLowerCase(e)>r.toLowerCase(t):(p(e)&&(e=void 0),e>t)},lessthanorequal:function(e,t,i){return i?r.toLowerCase(e)<=r.toLowerCase(t):(p(e)&&(e=void 0),e<=t)},greaterthanorequal:function(e,t,i){return i?r.toLowerCase(e)>=r.toLowerCase(t):e>=t},contains:function(e,t,i,n){return t===""?!0:(n&&(e=r.ignoreDiacritics(e),t=r.ignoreDiacritics(t)),i?!p(e)&&!p(t)&&r.toLowerCase(e).indexOf(r.toLowerCase(t))!==-1:!p(e)&&!p(t)&&e.toString().indexOf(t)!==-1)},doesnotcontain:function(e,t,i,n){return t===""?!1:(n&&(e=r.ignoreDiacritics(e),t=r.ignoreDiacritics(t)),i?!p(e)&&!p(t)&&r.toLowerCase(e).indexOf(r.toLowerCase(t))===-1:!p(e)&&!p(t)&&e.toString().indexOf(t)===-1)},isnotnull:function(e){return e!=null},isnull:function(e){return e==null},startswith:function(e,t,i,n){return t===""?!0:(n&&(e=r.ignoreDiacritics(e),t=r.ignoreDiacritics(t)),i?e&&t&&r.startsWith(r.toLowerCase(e),r.toLowerCase(t)):e&&t&&r.startsWith(e,t))},doesnotstartwith:function(e,t,i,n){return t===""?!1:(n&&(e=r.ignoreDiacritics(e),t=r.ignoreDiacritics(t)),i?e&&t&&r.notStartsWith(r.toLowerCase(e),r.toLowerCase(t)):e&&t&&r.notStartsWith(e,t))},like:function(e,t,i,n){return n&&(e=r.ignoreDiacritics(e),t=r.ignoreDiacritics(t)),i?e&&t&&r.like(r.toLowerCase(e),r.toLowerCase(t)):e&&t&&r.like(e,t)},isempty:function(e){return e===void 0||e===""},isnotempty:function(e){return e!==void 0&&e!==""},wildcard:function(e,t,i,n){return n&&(e=r.ignoreDiacritics(e),t=r.ignoreDiacritics(t)),i?(e||typeof e=="boolean")&&t&&typeof e!="object"&&r.wildCard(r.toLowerCase(e),r.toLowerCase(t)):(e||typeof e=="boolean")&&t&&r.wildCard(e,t)},endswith:function(e,t,i,n){return t===""?!0:(n&&(e=r.ignoreDiacritics(e),t=r.ignoreDiacritics(t)),i?e&&t&&r.endsWith(r.toLowerCase(e),r.toLowerCase(t)):e&&t&&r.endsWith(e,t))},doesnotendwith:function(e,t,i,n){return t===""?!1:(n&&(e=r.ignoreDiacritics(e),t=r.ignoreDiacritics(t)),i?e&&t&&r.notEndsWith(r.toLowerCase(e),r.toLowerCase(t)):e&&t&&r.notEndsWith(e,t))},processSymbols:function(e){var t=r.operatorSymbols[e];if(t){var i=r.fnOperators[t];return i}return r.throwError("Query - Process Operator : Invalid operator")},processOperator:function(e){var t=r.fnOperators[e];return t||r.fnOperators.processSymbols(e)},in:function(e,t,i,n){return n&&(e=r.ignoreDiacritics(e),t=r.ignoreDiacriticsForArrays(t)),i?!p(e)&&t&&t.length>0&&t.map(function(s){return r.toLowerCase(s)}).indexOf(r.toLowerCase(e))>-1:e instanceof Date?!p(e)&&t&&t.length>0&&Array.isArray(t)&&t.some(function(s){return s instanceof Date&&s.getTime()===e.getTime()}):!p(e)&&t&&t.length>0&&t.indexOf(e)>-1},notin:function(e,t,i,n){return n&&(e=r.ignoreDiacritics(e),t=r.ignoreDiacriticsForArrays(t)),i?!p(e)&&t&&t.length>0&&t.map(function(s){return r.toLowerCase(s)}).indexOf(r.toLowerCase(e))===-1:e instanceof Date?!p(e)&&t&&t.length>0&&Array.isArray(t)&&t.every(function(s){return!(s instanceof Date)||s.getTime()!==e.getTime()}):!p(e)&&t&&t.length>0&&t.indexOf(e)===-1}},r.parse={parseJson:function(e){return typeof e=="string"&&(/^[\s]*\[|^[\s]*\{[^:]+:/.test(e)||e.indexOf('"')===-1)?e=JSON.parse(e,r.parse.jsonReviver):e instanceof Array?r.parse.iterateAndReviveArray(e):typeof e=="object"&&e!==null&&r.parse.iterateAndReviveJson(e),e},iterateAndReviveArray:function(e){for(var t=0;t<e.length;t++)typeof e[t]=="object"&&e[t]!==null?r.parse.iterateAndReviveJson(e[t]):typeof e[t]=="string"&&(!/^[\s]*\[|^[\s]*\{(.)+:|\"/g.test(e[t])||e[t].toString().indexOf('"')===-1)?e[t]=r.parse.jsonReviver("",e[t]):e[t]=r.parse.parseJson(e[t])},iterateAndReviveJson:function(e){for(var t,i=Object.keys(e),n=0,s=i;n<s.length;n++){var o=s[n];r.startsWith(o,"__")||(t=e[o],typeof t=="object"?t instanceof Array?r.parse.iterateAndReviveArray(t):t&&r.parse.iterateAndReviveJson(t):e[o]=r.parse.jsonReviver(e[o],t))}},jsonReviver:function(e,t){if(typeof t=="string"){var i=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(t),n=r.timeZoneHandling?r.serverTimezoneOffset:null;if(i)return r.dateParse.toTimeZone(new Date(parseInt(i[1],10)),n,!0);if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(t)){var s=t.indexOf("Z")>-1||t.indexOf("z")>-1,o=t.split(/[^0-9.]/);if(s){if(o[5].indexOf(".")>-1){var a=o[5].split(".");o[5]=a[0],o[6]=new Date(t).getUTCMilliseconds().toString()}else o[6]="00";t=r.dateParse.toTimeZone(new Date(parseInt(o[0],10),parseInt(o[1],10)-1,parseInt(o[2],10),parseInt(o[3],10),parseInt(o[4],10),parseInt(o[5]?o[5]:"00",10),parseInt(o[6],10)),r.serverTimezoneOffset,!1)}else{var l=new Date(parseInt(o[0],10),parseInt(o[1],10)-1,parseInt(o[2],10),parseInt(o[3],10),parseInt(o[4],10),parseInt(o[5]?o[5]:"00",10)),h=parseInt(o[6],10),u=parseInt(o[7],10);if(isNaN(h)&&isNaN(u))return l;t.indexOf("+")>-1?l.setHours(l.getHours()-h,l.getMinutes()-u):l.setHours(l.getHours()+h,l.getMinutes()+u),t=r.dateParse.toTimeZone(l,r.serverTimezoneOffset,!1)}r.serverTimezoneOffset==null&&(t=r.dateParse.addSelfOffset(t))}}return t},isJson:function(e){return typeof e[0]=="string"?e:r.parse.parseJson(e)},isGuid:function(e){var t=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i,i=t.exec(e);return i!=null},replacer:function(e,t){return r.isPlainObject(e)?r.parse.jsonReplacer(e,t):e instanceof Array?r.parse.arrayReplacer(e):e instanceof Date?r.parse.jsonReplacer({val:e},t).val:e},jsonReplacer:function(e,t){for(var i,n=Object.keys(e),s=0,o=n;s<o.length;s++){var a=o[s];if(i=e[a],i instanceof Date){var l=i;r.serverTimezoneOffset==null?e[a]=r.dateParse.toTimeZone(l,null).toJSON():(l=new Date(+l+r.serverTimezoneOffset*36e5),e[a]=r.dateParse.toTimeZone(r.dateParse.addSelfOffset(l),null).toJSON())}}return e},arrayReplacer:function(e){for(var t=0;t<e.length;t++)r.isPlainObject(e[t])?e[t]=r.parse.jsonReplacer(e[t]):e[t]instanceof Date&&(e[t]=r.parse.jsonReplacer({date:e[t]}).date);return e},jsonDateReplacer:function(e,t){if(e==="value"&&t){if(typeof t=="string"){var i=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(t);if(i)t=r.dateParse.toTimeZone(new Date(parseInt(i[1],10)),null,!0);else if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(t)){var n=t.split(/[^0-9]/);t=r.dateParse.toTimeZone(new Date(parseInt(n[0],10),parseInt(n[1],10)-1,parseInt(n[2],10),parseInt(n[3],10),parseInt(n[4],10),parseInt(n[5],10)),null,!0)}}if(t instanceof Date)return t=r.dateParse.addSelfOffset(t),r.serverTimezoneOffset===null?r.dateParse.toTimeZone(r.dateParse.addSelfOffset(t),null).toJSON():(t=r.dateParse.toTimeZone(t,t.getTimezoneOffset()/60-r.serverTimezoneOffset,!1),t.toJSON())}return t}},r.dateParse={addSelfOffset:function(e){return new Date(+e-e.getTimezoneOffset()*6e4)},toUTC:function(e){return new Date(+e+e.getTimezoneOffset()*6e4)},toTimeZone:function(e,t,i){if(t===null)return e;var n=i?r.dateParse.toUTC(e):e;return new Date(+n-t*36e5)},toLocalTime:function(e){var t=e,i=-t.getTimezoneOffset(),n=i>=0?"+":"-",s=function(a){var l=Math.floor(Math.abs(a));return(l<10?"0":"")+l},o=t.getFullYear()+"-"+s(t.getMonth()+1)+"-"+s(t.getDate())+"T"+s(t.getHours())+":"+s(t.getMinutes())+":"+s(t.getSeconds())+n+s(i/60)+":"+s(i%60);return o}},r}(),Co=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),jJ={GroupGuid:"{271bbba0-1ee7}"},Oj=function(){function r(e){this.options={from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates",expand:"expand"},this.type=r,this.dataSource=e,this.pvt={}}return r.prototype.processResponse=function(e,t,i,n){return e},r}(),ay=function(r){Co(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.processQuery=function(t,i){for(var n=t.dataSource.json.slice(0),s=n.length,o=!0,a,l,h={},u=0,c=[],d=[],f,g=0;g<i.lazyLoad.length;g++)u++,h[i.lazyLoad[g].key]=i.lazyLoad[g].value;var m={},y=!1;if(i.lazyLoad.length){for(var g=0;g<i.queries.length;g++)if(l=i.queries[g],l.fn==="onGroup"&&!p(l.e.format)){y=!0;break}}for(var g=0;g<i.queries.length;g++){if(l=i.queries[g],(l.fn==="onPage"||l.fn==="onGroup"||l.fn==="onSortBy"&&!y)&&i.lazyLoad.length){l.fn==="onGroup"&&c.push(l.e),l.fn==="onPage"&&(f=l.e),l.fn==="onSortBy"&&d.unshift(l.e);continue}a=this[l.fn].call(this,n,l.e,i),l.fn==="onAggregates"?m[l.e.field+" - "+l.e.type]=a:n=a!==void 0?a:n,(l.fn==="onPage"||l.fn==="onSkip"||l.fn==="onTake"||l.fn==="onRange")&&(o=!1),o&&(s=n.length)}if(u){var v={query:i,lazyLoad:h,result:n,group:c,page:f,sort:d},M=this.lazyLoadGroup(v);n=M.result,s=M.count}return i.isCountRequired&&(n={result:n,count:s,aggregates:m}),n},e.prototype.lazyLoadGroup=function(t){var i=0,n=this.getAggregate(t.query),s=t.result;if(p(t.lazyLoad.onDemandGroupInfo)){var u=t.group[0].fieldName;s=re.group(s,u,n,null,null,t.group[0].comparer,!0),i=s.length;var h=s;if(t.sort.length){var c=t.sort.length>1?t.sort.filter(function(f){return f.fieldName===u})[0]:t.sort[0];s=this.onSortBy(s,c,t.query,!0)}t.page&&(s=this.onPage(s,t.page,t.query)),this.formGroupResult(s,h)}else{for(var o=t.lazyLoad.onDemandGroupInfo,a=o.where.length-1;a>=0;a--)s=this.onWhere(s,o.where[a]);if(t.group.length!==o.level){var l=t.group[o.level].fieldName;s=re.group(s,l,n,null,null,t.group[o.level].comparer,!0),t.sort.length&&(s=this.onSortBy(s,t.sort[parseInt(o.level.toString(),10)],t.query,!0))}else for(var a=t.sort.length-1;a>=o.level;a--)s=this.onSortBy(s,t.sort[parseInt(a.toString(),10)],t.query,!1);i=s.length;var h=s;s=s.slice(o.skip),s=s.slice(0,o.take),t.group.length!==o.level&&this.formGroupResult(s,h)}return{result:s,count:i}},e.prototype.formGroupResult=function(t,i){if(t.length&&i.length){var n="GroupGuid",s="childLevels",o="level",a="records";t[n]=i[n],t[s]=i[s],t[o]=i[o],t[a]=i[a]}return t},e.prototype.getAggregate=function(t){var i=He.filterQueries(t.queries,"onAggregates"),n=[];if(i.length)for(var s=void 0,o=0;o<i.length;o++)s=i[o].e,n.push({type:s.type,field:re.getValue(s.field,t)});return n},e.prototype.batchRequest=function(t,i,n){var s,o=i.deletedRecords.length;for(s=0;s<i.addedRecords.length;s++)this.insert(t,i.addedRecords[s]);for(s=0;s<i.changedRecords.length;s++)this.update(t,n.key,i.changedRecords[s]);for(s=0;s<o;s++)this.remove(t,n.key,i.deletedRecords[s]);return i},e.prototype.onWhere=function(t,i){return!t||!t.length?t:t.filter(function(n){if(i)return i.validate(n)})},e.prototype.onAggregates=function(t,i){var n=re.aggregates[i.type];return!t||!n||t.length===0?null:n(t,i.field)},e.prototype.onSearch=function(t,i){return!t||!t.length?t:(i.fieldNames.length===0&&re.getFieldList(t[0],i.fieldNames),t.filter(function(n){for(var s=0;s<i.fieldNames.length;s++)if(i.comparer.call(n,re.getObject(i.fieldNames[s],n),i.searchKey,i.ignoreCase,i.ignoreAccent))return!0;return!1}))},e.prototype.onSortBy=function(t,i,n,s){if(!t||!t.length)return t;var o,a=re.getValue(i.fieldName,n);if(!a)return t.sort(i.comparer);if(a instanceof Array){a=a.slice(0);for(var l=a.length-1;l>=0;l--)a[l]&&(o=i.comparer,re.endsWith(a[l]," desc")&&(o=re.fnSort("descending"),a[l]=a[l].replace(" desc","")),t=re.sort(t,a[l],o));return t}return re.sort(t,s?"key":a,i.comparer)},e.prototype.onGroup=function(t,i,n){if(!t||!t.length)return t;var s=this.getAggregate(n);return re.group(t,re.getValue(i.fieldName,n),s,null,null,i.comparer)},e.prototype.onPage=function(t,i,n){var s=re.getValue(i.pageSize,n),o=(re.getValue(i.pageIndex,n)-1)*s,a=o+s;return!t||!t.length?t:t.slice(o,a)},e.prototype.onRange=function(t,i){return!t||!t.length?t:t.slice(re.getValue(i.start),re.getValue(i.end))},e.prototype.onTake=function(t,i){return!t||!t.length?t:t.slice(0,re.getValue(i.nos))},e.prototype.onSkip=function(t,i){return!t||!t.length?t:t.slice(re.getValue(i.nos))},e.prototype.onSelect=function(t,i){return!t||!t.length?t:re.select(t,re.getValue(i.fieldNames))},e.prototype.insert=function(t,i,n,s,o){return p(o)?t.dataSource.json.push(i):t.dataSource.json.splice(o,0,i)},e.prototype.remove=function(t,i,n,s){var o=t.dataSource.json,a;for(typeof n=="object"&&!(n instanceof Date)&&(n=re.getObject(i,n)),a=0;a<o.length&&re.getObject(i,o[a])!==n;a++);return a!==o.length?o.splice(a,1):null},e.prototype.update=function(t,i,n,s){var o=t.dataSource.json,a,l;for(p(i)||(l=H(i,n)),a=0;a<o.length&&!(!p(i)&&H(i,o[a])===l);a++);return a<o.length?ai(o[a],n):null},e}(Oj),hr=function(r){Co(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.processQuery=function(t,i,n){var s=this.getQueryRequest(i),o=He.filterQueryLists(i.queries,["onSelect","onPage","onSkip","onTake","onRange"]),a=i.params,l=t.dataSource.url,h,u,c=null,d=this.options,f={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};"onPage"in o?(h=o.onPage,u=re.getValue(h.pageIndex,i),c=re.getValue(h.pageSize,i),u=(u-1)*c):"onRange"in o&&(h=o.onRange,u=h.start,c=h.end-h.start);for(var g=0;g<s.sorts.length;g++)h=re.getValue(s.sorts[g].e.fieldName,i),p(s.sorts[g].e.foreignKeyValue)?f.sorts.push(re.callAdaptorFunction(this,"onEachSort",{name:h,direction:s.sorts[g].e.direction},i)):f.sorts.push(re.callAdaptorFunction(this,"onEachSort",{name:h,comparer:s.sorts[g].e.comparer,foreignKeyValue:s.sorts[g].e.foreignKeyValue,direction:s.sorts[g].e.direction},i));n&&(h=this.getFiltersFrom(n,i),h&&f.filters.push(re.callAdaptorFunction(this,"onEachWhere",h.toJson(),i)));for(var g=0;g<s.filters.length;g++){var m=re.callAdaptorFunction(this,"onEachWhere",s.filters[g].e.toJson(),i);this.getModuleName&&this.getModuleName()==="ODataV4Adaptor"&&!p(s.filters[g].e.key)&&s.filters.length>1&&(m="("+m+")"),f.filters.push(m);for(var y=typeof f.filters[g]=="object"?Object.keys(f.filters[g]):[],v=0,M=y;v<M.length;v++){var S=M[v];re.isNull(f[S])&&delete f[S]}}for(var g=0;g<s.searches.length;g++)h=s.searches[g].e,f.searches.push(re.callAdaptorFunction(this,"onEachSearch",{fields:h.fieldNames,operator:h.operator,key:h.searchKey,ignoreCase:h.ignoreCase,ignoreAccent:h.ignoreAccent},i));for(var g=0;g<s.groups.length;g++)f.groups.push(re.getValue(s.groups[g].e.fieldName,i));for(var g=0;g<s.aggregates.length;g++)h=s.aggregates[g].e,f.aggregates.push({type:h.type,field:re.getValue(h.field,i)});var b={};if(this.getRequestQuery(d,i,o,f,b),re.callAdaptorFunction(this,"addParams",{dm:t,query:i,params:a,reqParams:b}),i.lazyLoad.length)for(var g=0;g<i.lazyLoad.length;g++)b[i.lazyLoad[g].key]=i.lazyLoad[g].value;for(var C=Object.keys(b),T=0,k=C;T<k.length;T++){var S=k[T];(re.isNull(b[S])||b[S]===""||b[S].length===0)&&delete b[S]}!(d.skip in b&&d.take in b)&&c!==null&&(b[d.skip]=re.callAdaptorFunction(this,"onSkip",u,i),b[d.take]=re.callAdaptorFunction(this,"onTake",c,i));var N=this.pvt;return this.pvt={},this.options.requestType==="json"?{data:JSON.stringify(b,re.parse.jsonDateReplacer),url:l,pvtData:N,type:"POST",contentType:"application/json; charset=utf-8"}:(h=this.convertToQueryString(b,i,t),h=(t.dataSource.url.indexOf("?")!==-1?"&":"/")+h,{type:"GET",url:h.length?l.replace(/\/*$/,h):l,pvtData:N})},e.prototype.getRequestQuery=function(t,i,n,s,o){var a="param",l=o;l[t.from]=i.fromTable,t.apply&&i.distincts.length&&(l[t.apply]="onDistinct"in this?re.callAdaptorFunction(this,"onDistinct",i.distincts):""),!i.distincts.length&&t.expand&&(l[t.expand]="onExpand"in this&&"onSelect"in n?re.callAdaptorFunction(this,"onExpand",{selects:re.getValue(n.onSelect.fieldNames,i),expands:i.expands},i):i.expands),l[t.select]="onSelect"in n&&!i.distincts.length?re.callAdaptorFunction(this,"onSelect",re.getValue(n.onSelect.fieldNames,i),i):"",l[t.count]=i.isCountRequired?re.callAdaptorFunction(this,"onCount",i.isCountRequired,i):"",l[t.search]=s.searches.length?re.callAdaptorFunction(this,"onSearch",s.searches,i):"",l[t.skip]="onSkip"in n?re.callAdaptorFunction(this,"onSkip",re.getValue(n.onSkip.nos,i),i):"",l[t.take]="onTake"in n?re.callAdaptorFunction(this,"onTake",re.getValue(n.onTake.nos,i),i):"",l[t.where]=s.filters.length||s.searches.length?re.callAdaptorFunction(this,"onWhere",s.filters,i):"",l[t.sortBy]=s.sorts.length?re.callAdaptorFunction(this,"onSortBy",s.sorts,i):"",l[t.group]=s.groups.length?re.callAdaptorFunction(this,"onGroup",s.groups,i):"",l[t.aggregates]=s.aggregates.length?re.callAdaptorFunction(this,"onAggregates",s.aggregates,i):"",l[a]=[]},e.prototype.convertToQueryString=function(t,i,n){return""},e.prototype.processResponse=function(t,i,n,s,o,a){if(s&&s.headers.get("Content-Type")&&s.headers.get("Content-Type").indexOf("application/json")!==-1){var l=re.timeZoneHandling;i&&!i.timeZoneHandling&&(re.timeZoneHandling=!1),i.enableCache||(t=re.parse.parseJson(t)),re.timeZoneHandling=l}var h=o,u=h.pvtData||{},c=t?t.groupDs:[];if(s&&s.headers.get("Content-Type")&&s.headers.get("Content-Type").indexOf("xml")!==-1)return n.isCountRequired?{result:[],count:0}:[];var d=JSON.parse(h.data);if(d&&d.action==="batch"&&t&&t.addedRecords&&!p(a))return a.addedRecords=t.addedRecords,a;t&&t.d&&(t=t.d);var f={};t&&"count"in t&&(f.count=t.count),f.result=t&&t.result?t.result:t;var g=!1;if(Array.isArray(t.result)&&t.result.length){var m="key",y="value",v="level";if(p(t.result[0][m])||(f.result=this.formRemoteGroupedData(f.result,1,u.groups.length-1)),n&&n.lazyLoad.length&&u.groups.length){for(var M=0;M<n.lazyLoad.length;M++)if(n.lazyLoad[M][m]==="onDemandGroupInfo"){var S=n.lazyLoad[M][y][v];u.groups.length===S&&(g=!0)}}}return g||this.getAggregateResult(u,t,f,c,n),re.isNull(f.count)?f.result:{result:f.result,count:f.count,aggregates:f.aggregates}},e.prototype.formRemoteGroupedData=function(t,i,n){for(var s=0;s<t.length;s++)t[s].items.length&&Object.keys(t[s].items[0]).indexOf("key")>-1&&this.formRemoteGroupedData(t[s].items,i+1,n-1);var o="GroupGuid",a="childLevels",l="level",h="records";return t[o]=jJ[o],t[l]=i,t[a]=n,t[h]=t[0].items.length?this.getGroupedRecords(t,!p(t[0].items[h])):[],t},e.prototype.getGroupedRecords=function(t,i){for(var n=[],s="records",o=0;o<t.length;o++)if(i)n=n.concat(t[o].items[s]);else for(var a=0;a<t[o].items.length;a++)n.push(t[o].items[a]);return n},e.prototype.onGroup=function(t){return this.pvt.groups=t,t},e.prototype.onAggregates=function(t){this.pvt.aggregates=t},e.prototype.batchRequest=function(t,i,n,s,o){var a,l;return{type:"POST",url:t.dataSource.batchUrl||t.dataSource.crudUrl||t.dataSource.removeUrl||t.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(ie({},{changed:i.changedRecords,added:i.addedRecords,deleted:i.deletedRecords,action:"batch",table:n[a],key:n[l]},re.getAddParams(this,t,s)))}},e.prototype.beforeSend=function(t,i,n){},e.prototype.insert=function(t,i,n,s){return{url:t.dataSource.insertUrl||t.dataSource.crudUrl||t.dataSource.url,data:JSON.stringify(ie({},{value:i,table:n,action:"insert"},re.getAddParams(this,t,s)))}},e.prototype.remove=function(t,i,n,s,o){return{type:"POST",url:t.dataSource.removeUrl||t.dataSource.crudUrl||t.dataSource.url,data:JSON.stringify(ie({},{key:n,keyColumn:i,table:s,action:"remove"},re.getAddParams(this,t,o)))}},e.prototype.update=function(t,i,n,s,o){return{type:"POST",url:t.dataSource.updateUrl||t.dataSource.crudUrl||t.dataSource.url,data:JSON.stringify(ie({},{value:n,action:"update",keyColumn:i,key:re.getObject(i,n),table:s},re.getAddParams(this,t,o)))}},e.prototype.getFiltersFrom=function(t,i){var n=i.fKey,s,o=n,a=i.key,l=[];typeof t[0]!="object"&&(o=null);for(var h=0;h<t.length;h++)typeof t[0]=="object"?s=re.getObject(a||o,t[h]):s=t[h],l.push(new Tt(n,"equal",s));return Tt.or(l)},e.prototype.getAggregateResult=function(t,i,n,s,o){var a=i;if(i&&i.result&&(a=i.result),t&&t.aggregates&&t.aggregates.length){var l=t.aggregates,h=void 0,u=a,c={};i.aggregate&&(u=i.aggregate);for(var d=0;d<l.length;d++)h=re.aggregates[l[d].type],h&&(c[l[d].field+" - "+l[d].type]=h(u,l[d].field));n.aggregates=c}var f="key",g=Array.isArray(i.result)&&i.result.length&&!p(i.result[0][f]);if(t&&t.groups&&t.groups.length&&!g){for(var m=t.groups,d=0;d<m.length;d++){var y=null;p(s)||(s=re.group(s,m[d]));var v=He.filterQueries(o.queries,"onGroup")[d].e;a=re.group(a,m[d],t.aggregates,y,s,v.comparer)}n.result=a}return n},e.prototype.getQueryRequest=function(t){var i={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};return i.sorts=He.filterQueries(t.queries,"onSortBy"),i.groups=He.filterQueries(t.queries,"onGroup"),i.filters=He.filterQueries(t.queries,"onWhere"),i.searches=He.filterQueries(t.queries,"onSearch"),i.aggregates=He.filterQueries(t.queries,"onAggregates"),i},e.prototype.addParams=function(t){var i=t.reqParams;t.params.length&&(i.params={});for(var n=0,s=t.params;n<s.length;n++){var o=s[n];if(i[o.key])throw new Error("Query() - addParams: Custom Param is conflicting other request arguments");i[o.key]=o.value,o.fn&&(i[o.key]=o.fn.call(t.query,o.key,t.query,t.dm)),i.params[o.key]=i[o.key]}},e}(Oj),vl=function(r){Co(e,r);function e(t){var i=r.call(this)||this;return i.options=ie({},i.options,{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:`Content-Type: application/http
Content-Transfer-Encoding: binary `,batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PUT"}),ie(i.options,t||{}),i}return e.prototype.getModuleName=function(){return"ODataAdaptor"},e.prototype.onPredicate=function(t,i,n){var s="",o,a,l=t.value,h=typeof l,u=t.field?e.getField(t.field):null;if(l instanceof Date&&(l="datetime'"+re.parse.replacer(l)+"'"),h==="string"&&(l=l.replace(/'/g,"''"),t.ignoreCase&&(l=l.toLowerCase()),t.operator!=="like"&&(l=encodeURIComponent(l)),t.operator!=="wildcard"&&t.operator!=="like"&&(l="'"+l+"'"),n&&(u="cast("+u+", 'Edm.String')"),re.parse.isGuid(l)&&(a="guid"),t.ignoreCase&&(a||(u="tolower("+u+")"),l=l.toLowerCase())),t.operator==="isempty"||t.operator==="isnull"||t.operator==="isnotempty"||t.operator==="isnotnull"?(o=t.operator.indexOf("isnot")!==-1?re.odBiOperator.notequal:re.odBiOperator.equal,l=t.operator==="isnull"||t.operator==="isnotnull"?null:"''"):o=re.odBiOperator[t.operator],o)return s+=u,s+=o,a&&(s+=a),s+l;if(!p(this.getModuleName)&&this.getModuleName()==="ODataV4Adaptor"?o=re.odv4UniOperator[t.operator]:o=re.odUniOperator[t.operator],o==="like")l=l,l.indexOf("%")!==-1&&(l.charAt(0)==="%"&&l.lastIndexOf("%")<2?(l=l.substring(1,l.length),o=!p(this.getModuleName)&&this.getModuleName()==="ODataV4Adaptor"?re.odv4UniOperator.startswith:re.odUniOperator.startswith):l.charAt(l.length-1)==="%"&&l.indexOf("%")>l.length-3?(l=l.substring(0,l.length-1),o=!p(this.getModuleName)&&this.getModuleName()==="ODataV4Adaptor"?re.odv4UniOperator.endswith:re.odUniOperator.endswith):l.lastIndexOf("%")!==l.indexOf("%")&&l.lastIndexOf("%")>l.indexOf("%")+1?(l=l.substring(l.indexOf("%")+1,l.lastIndexOf("%")),o=!p(this.getModuleName)&&this.getModuleName()==="ODataV4Adaptor"?re.odv4UniOperator.contains:re.odUniOperator.contains):o=!p(this.getModuleName)&&this.getModuleName()==="ODataV4Adaptor"?re.odv4UniOperator.contains:re.odUniOperator.contains),l=encodeURIComponent(l),l="'"+l+"'";else if(o==="wildcard")if(l=l,l.indexOf("*")!==-1){var c=l.split("*"),d=void 0,f=0;if(l.indexOf("*")!==0&&c[0].indexOf("%3f")===-1&&c[0].indexOf("?")===-1&&(d=c[0],d="'"+d+"'",o=!p(this.getModuleName)&&this.getModuleName()==="ODataV4Adaptor"?re.odv4UniOperator.startswith:re.odUniOperator.startswith,s+=o+"(",s+=u+",",a&&(s+=a),s+=d+")",f++),l.lastIndexOf("*")!==l.length-1&&c[c.length-1].indexOf("%3f")===-1&&c[c.length-1].indexOf("?")===-1&&(d=c[c.length-1],d="'"+d+"'",o=!p(this.getModuleName)&&this.getModuleName()==="ODataV4Adaptor"?re.odv4UniOperator.endswith:re.odUniOperator.endswith,f>0&&(s+=" and "),s+=o+"(",s+=u+",",a&&(s+=a),s+=d+")",f++),c.length>2){for(var g=1;g<c.length-1;g++)if(c[g].indexOf("%3f")===-1&&c[g].indexOf("?")===-1){if(d=c[g],d="'"+d+"'",o=!p(this.getModuleName)&&this.getModuleName()==="ODataV4Adaptor"?re.odv4UniOperator.contains:re.odUniOperator.contains,f>0&&(s+=" and "),o==="substringof"||o==="not substringof"){var m=d;d=u,u=m}s+=o+"(",s+=u+",",a&&(s+=a),s+=d+")",f++}}f===0?(o=!p(this.getModuleName)&&this.getModuleName()==="ODataV4Adaptor"?re.odv4UniOperator.contains:re.odUniOperator.contains,(l.indexOf("?")!==-1||l.indexOf("%3f")!==-1)&&(l=l.indexOf("?")!==-1?l.split("?").join(""):l.split("%3f").join("")),l="'"+l+"'"):o="wildcard"}else o=!p(this.getModuleName)&&this.getModuleName()==="ODataV4Adaptor"?re.odv4UniOperator.contains:re.odUniOperator.contains,(l.indexOf("?")!==-1||l.indexOf("%3f")!==-1)&&(l=l.indexOf("?")!==-1?l.split("?").join(""):l.split("%3f").join("")),l="'"+l+"'";if(o==="substringof"||o==="not substringof"){var m=l;l=u,u=m}return o!=="wildcard"&&(s+=o+"(",s+=u+",",a&&(s+=a),s+=l+")"),s},e.prototype.addParams=function(t){r.prototype.addParams.call(this,t),delete t.reqParams.params},e.prototype.onComplexPredicate=function(t,i,n){for(var s=[],o=0;o<t.predicates.length;o++)s.push("("+this.onEachWhere(t.predicates[o],i,n)+")");return"("+s.join(" "+t.condition+" ")+")"},e.prototype.onEachWhere=function(t,i,n){return t.isComplex?this.onComplexPredicate(t,i,n):this.onPredicate(t,i,n)},e.prototype.onWhere=function(t){return this.pvt.search&&t.push(this.onEachWhere(this.pvt.search,null,!0)),t.join(" and ")},e.prototype.onEachSearch=function(t){t.fields&&t.fields.length===0&&re.throwError("Query() - Search : oData search requires list of field names to search");for(var i=this.pvt.search||[],n=0;n<t.fields.length;n++)i.push(new Tt(t.fields[n],t.operator,t.key,t.ignoreCase));this.pvt.search=i},e.prototype.onSearch=function(t){return this.pvt.search=Tt.or(this.pvt.search),""},e.prototype.onEachSort=function(t){var i=[];if(t.name instanceof Array)for(var n=0;n<t.name.length;n++)i.push(e.getField(t.name[n])+(t.direction==="descending"?" desc":""));else i.push(e.getField(t.name)+(t.direction==="descending"?" desc":""));return i.join(",")},e.prototype.onSortBy=function(t){return t.reverse().join(",")},e.prototype.onGroup=function(t){return this.pvt.groups=t,[]},e.prototype.onSelect=function(t){for(var i=0;i<t.length;i++)t[i]=e.getField(t[i]);return t.join(",")},e.prototype.onAggregates=function(t){return this.pvt.aggregates=t,""},e.prototype.onCount=function(t){return t===!0?"allpages":""},e.prototype.beforeSend=function(t,i,n){re.endsWith(n.url,this.options.batch)&&n.type.toLowerCase()==="post"?(i.headers.set("Accept",this.options.multipartAccept),i.headers.set("DataServiceVersion","2.0")):i.headers.set("Accept",this.options.accept),i.headers.set("DataServiceVersion","2.0"),i.headers.set("MaxDataServiceVersion","2.0")},e.prototype.processResponse=function(t,i,n,s,o,a){var l="odata.metadata";if(o&&o.type==="GET"&&!this.rootUrl&&t[l]){var h=t[l].split("/$metadata#");this.rootUrl=h[0],this.resourceTableName=h[1]}var u="pvtData";if(!p(t.d)){var c=n&&n.isCountRequired?t.d.results:t.d,d="__metadata";if(!p(c))for(var f=0;f<c.length;f++)p(c[f][d])||delete c[f][d]}var g=o&&o[u],m=this.processBatchResponse(t,n,s,o,a);if(m)return m;var y=s&&o.fetchRequest.headers.get("DataServiceVersion"),v=null,M=y&&parseInt(y,10)||2;if(n&&n.isCountRequired){var S="__count";(t[S]||t["odata.count"])&&(v=t[S]||t["odata.count"]),t.d&&(t=t.d),(t[S]||t["odata.count"])&&(v=t[S]||t["odata.count"])}M===3&&t.value&&(t=t.value),t.d&&(t=t.d),M<3&&t.results&&(t=t.results);var b={};return b.count=v,b.result=t,this.getAggregateResult(g,t,b,null,n),re.isNull(v)?b.result:{result:b.result,count:b.count,aggregates:b.aggregates}},e.prototype.convertToQueryString=function(t,i,n){var s=[],o="table",a=t[o]||"",l="$format";delete t[o],n.dataSource.requiresFormat&&(t[l]="json");for(var h=Object.keys(t),u=0,c=h;u<c.length;u++){var d=c[u];s.push(d+"="+t[d])}return s=s.join("&"),n.dataSource.url&&n.dataSource.url.indexOf("?")!==-1&&!a?s:s.length?a+"?"+s:a||""},e.prototype.localTimeReplacer=function(t,i){for(var n=0,s=p(i)?[]:Object.keys(i);n<s.length;n++){var o=s[n];i[o]instanceof Date&&(i[o]=re.dateParse.toLocalTime(i[o]))}return i},e.prototype.insert=function(t,i,n){return{url:(t.dataSource.insertUrl||t.dataSource.url).replace(/\/*$/,n?"/"+n:""),data:JSON.stringify(i,this.options.localTime?this.localTimeReplacer:null)}},e.prototype.remove=function(t,i,n,s){var o;return typeof n=="string"&&!re.parse.isGuid(n)?o="('"+n+"')":o="("+n+")",{type:"DELETE",url:(t.dataSource.removeUrl||t.dataSource.url).replace(/\/*$/,s?"/"+s:"")+o}},e.prototype.update=function(t,i,n,s,o,a){this.options.updateType==="PATCH"&&!p(a)&&(n=this.compareAndRemove(n,a,i));var l;return typeof n[i]=="string"&&!re.parse.isGuid(n[i])?l="('"+n[i]+"')":l="("+n[i]+")",{type:this.options.updateType,url:(t.dataSource.updateUrl||t.dataSource.url).replace(/\/*$/,s?"/"+s:"")+l,data:JSON.stringify(n,this.options.localTime?this.localTimeReplacer:null),accept:this.options.accept}},e.prototype.batchRequest=function(t,i,n,s,o){var a=n.guid=re.getGuid(this.options.batchPre),l=t.dataSource.batchUrl||this.rootUrl?(t.dataSource.batchUrl||this.rootUrl)+"/"+this.options.batch:(t.dataSource.batchUrl||t.dataSource.url).replace(/\/*$/,"/"+this.options.batch);n.url=this.resourceTableName?this.resourceTableName:n.url;var h={url:n.url,key:n.key,cid:1,cSet:re.getGuid(this.options.changeSet)},u="--"+a+`
`;return u+="Content-Type: multipart/mixed; boundary="+h.cSet.replace("--","")+`
`,this.pvt.changeSet=0,u+=this.generateInsertRequest(i.addedRecords,h,t),u+=this.generateUpdateRequest(i.changedRecords,h,t,o?o.changedRecords:[]),u+=this.generateDeleteRequest(i.deletedRecords,h,t),u+=h.cSet+`--
`,u+="--"+a+"--",{type:"POST",url:l,dataType:"json",contentType:"multipart/mixed; charset=UTF-8;boundary="+a,data:u}},e.prototype.generateDeleteRequest=function(t,i,n){if(!t)return"";var s="",o={method:"DELETE ",url:function(a,l,h){var u=re.getObject(h,a[l]);if(typeof u=="number"||re.parse.isGuid(u))return"("+u+")";if(u instanceof Date){var c=a[l][h];return"("+c.toJSON()+")"}else return"('"+u+"')"},data:function(a,l){return""}};return s=this.generateBodyContent(t,i,o,n),s+`
`},e.prototype.generateInsertRequest=function(t,i,n){if(!t)return"";var s="",o={method:"POST ",url:function(a,l,h){return""},data:function(a,l){return JSON.stringify(a[l])+`

`}};return s=this.generateBodyContent(t,i,o,n),s},e.prototype.generateUpdateRequest=function(t,i,n,s){var o=this;if(!t)return"";var a="";t.forEach(function(h){return h=o.compareAndRemove(h,s.filter(function(u){return re.getObject(i.key,u)===re.getObject(i.key,h)})[0],i.key)});var l={method:this.options.updateType+" ",url:function(h,u,c){if(typeof h[u][c]=="number"||re.parse.isGuid(h[u][c]))return"("+h[u][c]+")";if(h[u][c]instanceof Date){var d=h[u][c];return"("+d.toJSON()+")"}else return"('"+h[u][c]+"')"},data:function(h,u){return JSON.stringify(h[u])+`

`}};return a=this.generateBodyContent(t,i,l,n),a},e.getField=function(t){return t.replace(/\./g,"/")},e.prototype.generateBodyContent=function(t,i,n,s){for(var o="",a=0;a<t.length;a++)o+=`
`+i.cSet+`
`,o+=this.options.changeSetContent+`

`,o+=n.method,n.method==="POST "?o+=(s.dataSource.insertUrl||s.dataSource.crudUrl||i.url)+n.url(t,a,i.key)+` HTTP/1.1
`:n.method==="PUT "||n.method==="PATCH "?o+=(s.dataSource.updateUrl||s.dataSource.crudUrl||i.url)+n.url(t,a,i.key)+` HTTP/1.1
`:n.method==="DELETE "&&(o+=(s.dataSource.removeUrl||s.dataSource.crudUrl||i.url)+n.url(t,a,i.key)+` HTTP/1.1
`),o+="Accept: "+this.options.accept+`
`,o+="Content-Id: "+this.pvt.changeSet+++`
`,o+=this.options.batchChangeSetContentType+`
`,p(t[a]["@odata.etag"])?o+=`
`:(o+="If-Match: "+t[a]["@odata.etag"]+`

`,delete t[a]["@odata.etag"]),o+=n.data(t,a);return o},e.prototype.processBatchResponse=function(t,i,n,s,o){if(n&&n.headers.get("Content-Type")&&n.headers.get("Content-Type").indexOf("xml")!==-1)return i.isCountRequired?{result:[],count:0}:[];if(s&&this.options.batch&&re.endsWith(s.url,this.options.batch)&&s.type.toLowerCase()==="post"){var a=n.headers.get("Content-Type"),l=void 0,h=void 0,u=t+"";if(a=a.substring(a.indexOf("=batchresponse")+1),u=u.split(a),u.length<2)return{};u=u[1];var c=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(u);c&&u.replace(c[0],"");var d=c?c[1]:"";u=u.split(d);for(var f=u.length;f>-1;f--)!/\bContent-ID:/i.test(u[f])||!/\bHTTP.+201/.test(u[f])||(l=parseInt(/\bContent-ID: (\d+)/i.exec(u[f])[1],10),o.addedRecords[l]&&(h=re.parse.parseJson(/^\{.+\}/m.exec(u[f])[0]),ie({},o.addedRecords[l],this.processResponse(h))));return o}return null},e.prototype.compareAndRemove=function(t,i,n){var s=this;return p(i)||Object.keys(t).forEach(function(o){if(o!==n&&o!=="@odata.etag")if(re.isPlainObject(t[o])){s.compareAndRemove(t[o],i[o]);var a=Object.keys(t[o]).filter(function(l){return l!=="@odata.etag"});a.length===0&&delete t[o]}else(t[o]===i[o]||t[o]&&i[o]&&t[o].valueOf()===i[o].valueOf())&&delete t[o]}),t},e}(hr);(function(r){Co(e,r);function e(t){var i=r.call(this,t)||this;return i.options=ie({},i.options,{requestType:"get",accept:"application/json, text/javascript, */*; q=0.01",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$count",search:"$search",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:`Content-Type: application/http
Content-Transfer-Encoding: binary `,batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PATCH",localTime:!1,apply:"$apply"}),ie(i.options,t||{}),i}return e.prototype.getModuleName=function(){return"ODataV4Adaptor"},e.prototype.onCount=function(t){return t===!0?"true":""},e.prototype.onPredicate=function(t,i,n){var s="",o=t.value,a=o instanceof Date;if(i instanceof He)for(var l=this.getQueryRequest(i),h=0;h<l.filters.length;h++)l.filters[h].e.key===t.value&&(n=!0);return s=r.prototype.onPredicate.call(this,t,i,n),a&&(s=s.replace(/datetime'(.*)'$/,"$1")),re.parse.isGuid(o)&&(s=s.replace("guid","").replace(/'/g,"")),s},e.prototype.onEachSearch=function(t){var i=this.pvt.searches||[];i.push(t.key),this.pvt.searches=i},e.prototype.onSearch=function(t){return this.pvt.searches.join(" OR ")},e.prototype.onExpand=function(t){var i=this,n={},s={},o=t.expands.slice(),a=[],l=t.selects.filter(function(h){return h.indexOf(".")>-1});return l.forEach(function(h){var u=h.split(".");if(u[0]in n||(n[u[0]]=[]),u.length===2)n[u[0]].length&&Object.keys(n).indexOf(u[0])!==-1?n[u[0]][0].indexOf("$expand")!==-1&&n[u[0]][0].indexOf(";$select=")===-1?n[u[0]][0]=n[u[0]][0]+";$select="+u[1]:n[u[0]][0]=n[u[0]][0]+","+u[1]:n[u[0]].push("$select="+u[1]);else{for(var c="$select="+u[u.length-1],d="",f="",g=1;g<u.length-1;g++)d=d+"$expand="+u[g]+"(",f=f+")";var m=d+c+f;if(n[u[0]].length&&Object.keys(n).indexOf(u[0])!==-1&&i.expandQueryIndex(n[u[0]],!0)){var y=i.expandQueryIndex(n[u[0]]);n[u[0]][y]=n[u[0]][y]+m.replace("$expand=",",")}else n[u[0]].push(m)}}),Object.keys(n).forEach(function(h){o.indexOf(h)===-1&&o.push(h)}),o.forEach(function(h){s[h]=h in n?h+"("+n[h].join(";")+")":h}),Object.keys(s).forEach(function(h){return a.push(s[h])}),a.join(",")},e.prototype.expandQueryIndex=function(t,i){for(var n=0;n<t.length;n++)if(t[n].indexOf("$expand")!==-1)return i?!0:n;return i?!1:0},e.prototype.onDistinct=function(t){var i=t.map(function(n){return vl.getField(n)}).join(",");return"groupby(("+i+"))"},e.prototype.onSelect=function(t){return r.prototype.onSelect.call(this,t.filter(function(i){return i.indexOf(".")===-1}))},e.prototype.beforeSend=function(t,i,n){(n.type==="POST"||n.type==="PUT"||n.type==="PATCH")&&i.headers.set("Prefer","return=representation"),i.headers.set("Accept",this.options.accept)},e.prototype.processResponse=function(t,i,n,s,o,a){var l="@odata.context",h="@context";if(o&&o.type==="GET"&&!this.rootUrl&&(t[l]||t[h])){var u=t[l]?t[l].split("/$metadata#"):t[h].split("/$metadata#");this.rootUrl=u[0],this.resourceTableName=u[1]}var c="pvtData",d=o&&o[c],f=r.prototype.processBatchResponse.call(this,t,n,s,o,a);if(f)return f;var g=null,m="@odata.count",y="@count";n&&n.isCountRequired&&(m in t?g=t[m]:y in t&&(g=t[y])),t=p(t.value)?t:t.value;var v={};return v.count=g,v.result=t,this.getAggregateResult(d,t,v,null,n),re.isNull(g)?v.result:{result:v.result,count:g,aggregates:v.aggregates}},e})(vl);var k1=function(r){Co(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getModuleName=function(){return"WebApiAdaptor"},e.prototype.insert=function(t,i,n){return{type:"POST",url:t.dataSource.url,data:JSON.stringify(i)}},e.prototype.remove=function(t,i,n,s){return{type:"DELETE",url:t.dataSource.url+"/"+n,data:JSON.stringify(n)}},e.prototype.update=function(t,i,n,s){return{type:"PUT",url:t.dataSource.url,data:JSON.stringify(n)}},e.prototype.batchRequest=function(t,i,n){var s=this,o=n.guid=re.getGuid(this.options.batchPre),a=t.dataSource.url.replace(/\/*$/,"/"+this.options.batch);n.url=this.resourceTableName?this.resourceTableName:n.url;for(var l=[],h=function(g,m){i.addedRecords.forEach(function(y,v){var M={method:"POST ",url:function(S,b,C){return""},data:function(S,b){return JSON.stringify(S[b])+`

`}};l.push("--"+o),l.push("Content-Type: application/http; msgtype=request",""),l.push("POST /api/"+(t.dataSource.insertUrl||t.dataSource.crudUrl||n.url)+M.url(i.addedRecords,g,n.key)+" HTTP/1.1"),l.push("Content-Type: application/json; charset=utf-8"),l.push("Host: "+location.host),l.push("",y?JSON.stringify(y):"")})},u=0,c=i.addedRecords.length;u<c;u++)h(u);for(var d=function(g,m){i.changedRecords.forEach(function(y,v){var M={method:s.options.updateType+" ",url:function(S,b,C){return""},data:function(S,b){return JSON.stringify(S[b])+`

`}};l.push("--"+o),l.push("Content-Type: application/http; msgtype=request",""),l.push("PUT /api/"+(t.dataSource.updateUrl||t.dataSource.crudUrl||n.url)+M.url(i.changedRecords,g,n.key)+" HTTP/1.1"),l.push("Content-Type: application/json; charset=utf-8"),l.push("Host: "+location.host),l.push("",y?JSON.stringify(y):"")})},u=0,c=i.changedRecords.length;u<c;u++)d(u);for(var f=function(g,m){i.deletedRecords.forEach(function(y,v){var M={mtd:"DELETE ",url:function(S,b,C){var T=re.getObject(C,S[b]);if(typeof T=="number"||re.parse.isGuid(T))return"/"+T;if(T instanceof Date){var k=S[b][C];return"/"+k.toJSON()}else return"/'"+T+"'"},data:function(S,b){return""}};l.push("--"+o),l.push("Content-Type: application/http; msgtype=request",""),l.push("DELETE /api/"+(t.dataSource.removeUrl||t.dataSource.crudUrl||n.url)+M.url(i.deletedRecords,g,n.key)+" HTTP/1.1"),l.push("Content-Type: application/json; charset=utf-8"),l.push("Host: "+location.host),l.push("",y?JSON.stringify(y):"")})},u=0,c=i.deletedRecords.length;u<c;u++)f(u);return l.push("--"+o+"--",""),{type:"POST",url:a,contentType:"multipart/mixed; boundary="+o,data:l.join(`\r
`)}},e.prototype.beforeSend=function(t,i,n){i.headers.set("Accept","application/json, text/javascript, */*; q=0.01")},e.prototype.processResponse=function(t,i,n,s,o,a){var l="pvtData",h=o&&o[l],u=null,c={};if(o&&o.type.toLowerCase()!=="post"){var d=s&&o.fetchRequest.headers.get("DataServiceVersion"),f=d&&parseInt(d,10)||2;n&&n.isCountRequired&&(re.isNull(t.Count)||(u=t.Count)),f<3&&t.Items&&(t=t.Items),c.count=u,c.result=t,this.getAggregateResult(h,t,c,null,n)}return c.result=c.result||t,re.isNull(u)?c.result:{result:c.result,count:c.count,aggregates:c.aggregates}},e}(vl),L1=function(r){Co(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.processQuery=function(t,i,n){var s=new hr().processQuery(t,i,n),o="data",a=re.parse.parseJson(s[o]),l={},h="value";if(a.param)for(var u=0;u<a.param.length;u++){var c=a.param[u],d=Object.keys(c)[0];l[d]=c[d]}l[h]=a;var f="pvtData",g="url";return{data:JSON.stringify(l,re.parse.jsonDateReplacer),url:s[g],pvtData:s[f],type:"POST",contentType:"application/json; charset=utf-8"}},e}(hr),ly=function(r){Co(e,r);function e(){return r.call(this)||this}return e.prototype.getModuleName=function(){return"RemoteSaveAdaptor"},e.prototype.insert=function(t,i,n,s,o){return this.pvt.position=o,this.updateType="add",{url:t.dataSource.insertUrl||t.dataSource.crudUrl||t.dataSource.url,data:JSON.stringify(ie({},{value:i,table:n,action:"insert"},re.getAddParams(this,t,s)))}},e.prototype.remove=function(t,i,n,s,o){return r.prototype.remove.call(this,t,i,n),{type:"POST",url:t.dataSource.removeUrl||t.dataSource.crudUrl||t.dataSource.url,data:JSON.stringify(ie({},{key:n,keyColumn:i,table:s,action:"remove"},re.getAddParams(this,t,o)))}},e.prototype.update=function(t,i,n,s,o){return this.updateType="update",this.updateKey=i,{type:"POST",url:t.dataSource.updateUrl||t.dataSource.crudUrl||t.dataSource.url,data:JSON.stringify(ie({},{value:n,action:"update",keyColumn:i,key:n[i],table:s},re.getAddParams(this,t,o)))}},e.prototype.processResponse=function(t,i,n,s,o,a,l){var h,u=o?JSON.parse(o.data):t;if(t=u.action==="batch"?re.parse.parseJson(t):t,this.updateType==="add"&&r.prototype.insert.call(this,i,t,null,null,this.pvt.position),this.updateType==="update"&&r.prototype.update.call(this,i,this.updateKey,t),this.updateType=void 0,t.added)for(h=0;h<t.added.length;h++)r.prototype.insert.call(this,i,t.added[h]);if(t.changed)for(h=0;h<t.changed.length;h++)r.prototype.update.call(this,i,l.key,t.changed[h]);if(t.deleted)for(h=0;h<t.deleted.length;h++)r.prototype.remove.call(this,i,l.key,t.deleted[h]);return t},e.prototype.batchRequest=function(t,i,n,s,o){return{type:"POST",url:t.dataSource.batchUrl||t.dataSource.crudUrl||t.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(ie({},{changed:i.changedRecords,added:i.addedRecords,deleted:i.deletedRecords,action:"batch",table:n.url,key:n.key},re.getAddParams(this,t,s)))}},e.prototype.addParams=function(t){var i=new hr;i.addParams(t)},e.prototype.beforeSend=function(t,i,n){},e}(ay),PJ=function(r){Co(e,r);function e(t){var i=r.call(this)||this;return i.options=ie({},i.options,{getData:function(){},addRecord:function(){},updateRecord:function(){},deleteRecord:function(){},batchUpdate:function(){}}),ie(i.options,t||{}),i}return e.prototype.getModuleName=function(){return"CustomDataAdaptor"},e}(hr);(function(r){Co(e,r);function e(t){var i=r.call(this)||this;return i.opt=t,i.schema=i.opt.response,i.query=i.opt.query,i.getVariables=i.opt.getVariables?i.opt.getVariables:function(){},i.getQuery=function(){return i.query},i}return e.prototype.getModuleName=function(){return"GraphQLAdaptor"},e.prototype.processQuery=function(t,i){var n=r.prototype.processQuery.apply(this,arguments),s=JSON.parse(n.data),o=["skip","take","sorted","table","select","where","search","requiresCounts","aggregates","params"],a={},l="searchwhereparams";o.filter(function(c){a[c]=l.indexOf(c)>-1?JSON.stringify(s[c]):s[c]});var h=this.getVariables()||{};h.datamanager=a;var u=JSON.stringify({query:this.getQuery(),variables:h});return n.data=u,n},e.prototype.processResponse=function(t,i,n,s,o){var a=t,l,h,u=H(this.schema.result,a.data);this.schema.count&&(l=H(this.schema.count,a.data)),this.schema.aggregates&&(h=H(this.schema.aggregates,a.data),h=p(h)?h:re.parse.parseJson(h));var c=o.pvtData||{},d={result:u,aggregates:h},f=d;return c&&c.groups&&c.groups.length&&this.getAggregateResult(c,f,d,null,n),p(l)?d.result:{result:d.result,count:l,aggregates:h}},e.prototype.insert=function(){var t=r.prototype.insert.apply(this,arguments);return this.generateCrudData(t,"insert")},e.prototype.update=function(){var t=r.prototype.update.apply(this,arguments);return this.generateCrudData(t,"update")},e.prototype.remove=function(){var t=r.prototype.remove.apply(this,arguments);return this.generateCrudData(t,"remove")},e.prototype.batchRequest=function(t,i,n,s,o){var a=r.prototype.batchRequest.apply(this,arguments),l=JSON.parse(a.data);return l.key=n.key,a.data=JSON.stringify(l),this.generateCrudData(a,"batch")},e.prototype.generateCrudData=function(t,i){var n=JSON.parse(t.data);return t.data=JSON.stringify({query:this.opt.getMutation(i),variables:n}),t},e})(hr);var aC=function(r){Co(e,r);function e(t,i,n){var s=r.call(this)||this;s.isCrudAction=!1,s.isInsertAction=!1,p(t)||(s.cacheAdaptor=t),s.pageSize=n,s.guidId=re.getGuid("cacheAdaptor");var o={keys:[],results:[]};window.localStorage.setItem(s.guidId,JSON.stringify(o));var a=s.guidId;return p(i)||setInterval(function(){for(var l=re.parse.parseJson(window.localStorage.getItem(a)),h=[],u=0;u<l.results.length;u++){var c=+new Date,d=+new Date(l.results[u].timeStamp);l.results[u].timeStamp=c-d,c-d>i&&h.push(u)}for(var u=0;u<h.length;u++)l.results.splice(h[u],1),l.keys.splice(h[u],1);window.localStorage.removeItem(a),window.localStorage.setItem(a,JSON.stringify(l))},i),s}return e.prototype.generateKey=function(t,i){var n=this.getQueryRequest(i),s=He.filterQueryLists(i.queries,["onSelect","onPage","onSkip","onTake","onRange"]),o=t,a="onPage";a in s&&(o+=s[a].pageIndex),n.sorts.forEach(function(d){o+=d.e.direction+d.e.fieldName}),n.groups.forEach(function(d){o+=d.e.fieldName}),n.searches.forEach(function(d){o+=d.e.searchKey});for(var l=0;l<n.filters.length;l++){var h=n.filters[l];if(h.e.isComplex){var u=i.clone();u.queries=[];for(var c=0;c<h.e.predicates.length;c++)u.queries.push({fn:"onWhere",e:h.e.predicates[c],filter:i.queries.filter});o+=h.e.condition+this.generateKey(t,u)}else o+=h.e.field+h.e.operator+h.e.value}return o},e.prototype.processQuery=function(t,i,n){var s=this.generateKey(t.dataSource.url,i),o=re.parse.parseJson(window.localStorage.getItem(this.guidId)),a=o?o.results[o.keys.indexOf(s)]:null;return a!=null&&!this.isCrudAction&&!this.isInsertAction?a:(this.isCrudAction=null,this.isInsertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0)))},e.prototype.processResponse=function(t,i,n,s,o,a){if(this.isInsertAction||o&&this.cacheAdaptor.options.batch&&re.endsWith(o.url,this.cacheAdaptor.options.batch)&&o.type.toLowerCase()==="post")return this.cacheAdaptor.processResponse(t,i,n,s,o,a);t=this.cacheAdaptor.processResponse.apply(this.cacheAdaptor,[].slice.call(arguments,0));var l=n?this.generateKey(i.dataSource.url,n):i.dataSource.url,h={};h=re.parse.parseJson(window.localStorage.getItem(this.guidId));var u=h.keys.indexOf(l);for(u!==-1&&(h.results.splice(u,1),h.keys.splice(u,1)),h.results[h.keys.push(l)-1]={keys:l,result:t.result,timeStamp:new Date,count:t.count};h.results.length>this.pageSize;)h.results.splice(0,1),h.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(h)),t},e.prototype.beforeSend=function(t,i,n){!p(this.cacheAdaptor.options.batch)&&re.endsWith(n.url,this.cacheAdaptor.options.batch)&&n.type.toLowerCase()==="post"&&i.headers.set("Accept",this.cacheAdaptor.options.multipartAccept),t.dataSource.crossDomain||i.headers.set("Accept",this.cacheAdaptor.options.accept)},e.prototype.update=function(t,i,n,s){return this.isCrudAction=!0,this.cacheAdaptor.update(t,i,n,s)},e.prototype.insert=function(t,i,n){return this.isInsertAction=!0,this.cacheAdaptor.insert(t,i,n)},e.prototype.remove=function(t,i,n,s){return this.isCrudAction=!0,this.cacheAdaptor.remove(t,i,n,s)},e.prototype.batchRequest=function(t,i,n){return this.cacheAdaptor.batchRequest(t,i,n)},e}(hr),Gf=function(r,e,t,i){return new(t||(t=Promise))(function(n,s){function o(h){try{l(i.next(h))}catch(u){s(u)}}function a(h){try{l(i.throw(h))}catch(u){s(u)}}function l(h){h.done?n(h.value):new t(function(u){u(h.value)}).then(o,a)}l((i=i.apply(r,e||[])).next())})},$f=function(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,n,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(h){return function(u){return l([h,u])}}function l(h){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,n&&(s=h[0]&2?n.return:h[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,h[1])).done)return s;switch(n=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,n=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){t.label=h[1];break}if(h[0]===6&&t.label<s[1]){t.label=s[1],s=h;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(h);break}s[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(r,t)}catch(u){h=[6,u],n=0}finally{i=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},fe=function(){function r(e,t,i,n){var s=this;this.dateParse=!0,this.timeZoneHandling=!0,this.persistQuery={},this.isInitialLoad=!1,this.requests=[],this.isEnableCache=!1,this.isInitialLoad=!0,this.isEnableCache=!1,n&&n.applyPostRequestMiddlewares&&(this.applyPostRequestMiddlewares=n.applyPostRequestMiddlewares),n&&n.applyPreRequestMiddlewares&&(this.applyPreRequestMiddlewares=n.applyPreRequestMiddlewares),!e&&!this.dataSource&&(e=[]),i=i||e.adaptor,e&&e.timeZoneHandling===!1&&(this.timeZoneHandling=e.timeZoneHandling);var o;if(e instanceof Array?o={json:e,offline:!0}:typeof e=="object"?(e.json||(e.json=[]),e.enablePersistence||(e.enablePersistence=!1),e.id||(e.id=""),e.ignoreOnPersist||(e.ignoreOnPersist=[]),o={url:e.url,insertUrl:e.insertUrl,removeUrl:e.removeUrl,updateUrl:e.updateUrl,crudUrl:e.crudUrl,batchUrl:e.batchUrl,json:e.json,headers:e.headers,accept:e.accept,data:e.data,enableCache:e.enableCache,timeTillExpiration:e.timeTillExpiration,cachingPageSize:e.cachingPageSize,enableCaching:e.enableCaching,requestType:e.requestType,key:e.key,crossDomain:e.crossDomain,jsonp:e.jsonp,dataType:e.dataType,offline:e.offline!==void 0?e.offline:e.adaptor instanceof ly||e.adaptor instanceof PJ?!1:!e.url,requiresFormat:e.requiresFormat,enablePersistence:e.enablePersistence,id:e.id,ignoreOnPersist:e.ignoreOnPersist}):re.throwError("DataManager: Invalid arguments"),o.requiresFormat===void 0&&!re.isCors()&&(o.requiresFormat=p(o.crossDomain)?!0:o.crossDomain),o.dataType===void 0&&(o.dataType="json"),this.isEnableCache=o.enableCache,this.dataSource=o,this.defaultQuery=t,this.dataSource.enablePersistence&&this.dataSource.id&&window.addEventListener("unload",this.setPersistData.bind(this)),o.url&&o.offline&&!o.json.length?(this.isDataAvailable=!1,this.adaptor=i||new vl,this.dataSource.offline=!1,this.ready=this.executeQuery(t||new He),this.ready.then(function(l){s.dataSource.offline=!0,s.isDataAvailable=!0,o.json=l.result,s.adaptor=new ay})):this.adaptor=o.offline?new ay:new vl,!o.jsonp&&this.adaptor instanceof vl&&(o.jsonp="callback"),this.adaptor=i||this.adaptor,this.isEnableCache){this.guidId=re.getGuid("cacheAdaptor");var a={keys:[],results:[]};window.localStorage.setItem(this.guidId,JSON.stringify(a))}return o.enableCaching&&(this.adaptor=new aC(this.adaptor,o.timeTillExpiration,o.cachingPageSize)),this}return Object.defineProperty(r.prototype,"moduleName",{get:function(){return"datamanager"},enumerable:!0,configurable:!0}),r.prototype.getPersistedData=function(e){var t=localStorage.getItem(e||this.dataSource.id);return JSON.parse(t)},r.prototype.setPersistData=function(e,t,i){localStorage.setItem(t||this.dataSource.id,JSON.stringify(i||this.persistQuery))},r.prototype.setPersistQuery=function(e){var t=this,i=this.getPersistedData();if(this.isInitialLoad&&i&&Object.keys(i).length){this.persistQuery=i,this.persistQuery.queries=this.persistQuery.queries.filter(function(s){if(t.dataSource.ignoreOnPersist&&t.dataSource.ignoreOnPersist.length&&s.fn&&t.dataSource.ignoreOnPersist.some(function(l){return s.fn===l}))return!1;if(s.fn==="onWhere"){var o=s.e;if(o&&o.isComplex&&o.predicates instanceof Array){var a=o.predicates.map(function(l){if(l.predicates&&l.predicates instanceof Array){var h=l.predicates.map(function(y){var v=y.field,M=y.operator,S=y.value,b=y.ignoreCase,C=y.ignoreAccent,T=y.matchCase;return new Tt(v,M,S,b,C,T)});return l.condition==="and"?Tt.and(h):Tt.or(h)}else{var u=l.field,c=l.operator,d=l.value,f=l.ignoreCase,g=l.ignoreAccent,m=l.matchCase;return new Tt(u,c,d,f,g,m)}});s.e=new Tt(a[0],o.condition,a.slice(1))}}return!0});var n=ie(new He,this.persistQuery);return this.isInitialLoad=!1,n}else return this.persistQuery=e,this.isInitialLoad=!1,e},r.prototype.setDefaultQuery=function(e){return this.defaultQuery=e,this},r.prototype.executeLocal=function(e){!this.defaultQuery&&!(e instanceof He)&&re.throwError("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||re.throwError("DataManager - executeLocal() : Json data is required to execute"),this.dataSource.enablePersistence&&this.dataSource.id&&(e=this.setPersistQuery(e)),e=e||this.defaultQuery;var t=this.adaptor.processQuery(this,e);if(e.subQuery){var i=e.subQuery.fromTable,n=e.subQuery.lookups,s=e.isCountRequired?t.result:t;n&&n instanceof Array&&re.buildHierarchy(e.subQuery.fKey,i,s,n,e.subQuery.key);for(var o=0;o<s.length;o++)s[o][i]instanceof Array&&(s[o]=ie({},{},s[o]),s[o][i]=this.adaptor.processResponse(e.subQuery.using(new r(s[o][i].slice(0))).executeLocal(),this,e))}return this.adaptor.processResponse(t,this,e)},r.prototype.executeQuery=function(e,t,i,n){var s=this,o="makeRequest";this.dataSource.enablePersistence&&this.dataSource.id&&(e=this.setPersistQuery(e)),typeof e=="function"&&(n=i,i=t,t=e,e=null),e||(e=this.defaultQuery),e instanceof He||re.throwError("DataManager - executeQuery() : A query is required to execute");var a=new mi,l={query:e};if(!this.dataSource.offline&&this.dataSource.url!==void 0&&this.dataSource.url!==""||!p(this.adaptor[o])||this.isCustomDataAdaptor(this.adaptor)){var h=this.isEnableCache?this.processQuery(e):this.adaptor.processQuery(this,e);p(this.adaptor[o])?!p(h.url)||this.isCustomDataAdaptor(this.adaptor)?(this.requests=[],this.makeRequest(h,a,l,e)):(l=r.getDeferedArgs(e,h,l),a.resolve(l)):this.adaptor[o](h,a,l,e)}else r.nextTick(function(){var u=s.executeLocal(e);l=r.getDeferedArgs(e,u,l),a.resolve(l)});return(t||i)&&a.promise.then(t,i),n&&a.promise.then(n,n),a.promise},r.prototype.getQueryRequest=function(e){var t={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};return t.sorts=He.filterQueries(e.queries,"onSortBy"),t.groups=He.filterQueries(e.queries,"onGroup"),t.filters=He.filterQueries(e.queries,"onWhere"),t.searches=He.filterQueries(e.queries,"onSearch"),t.aggregates=He.filterQueries(e.queries,"onAggregates"),t},r.prototype.generateKey=function(e,t){var i=this.getQueryRequest(t),n=He.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),s=e,o="onPage";i.sorts.forEach(function(d){s+=d.e.direction+d.e.fieldName}),i.groups.forEach(function(d){s+=d.e.fieldName}),i.searches.forEach(function(d){s+=d.e.searchKey});for(var a=0;a<i.filters.length;a++){var l=i.filters[a];if(l.e.isComplex){var h=t.clone();h.queries=[];for(var u=0;u<l.e.predicates.length;u++)h.queries.push({fn:"onWhere",e:l.e.predicates[u],filter:t.queries.filter});s+=l.e.condition+this.generateKey(e,h)}else s+=l.e.field+l.e.operator+l.e.value}if(!p(this.previousCacheQuery)&&this.previousCacheQuery!==s){var c={keys:[],results:[]};window.localStorage.setItem(this.guidId,JSON.stringify(c))}return this.previousCacheQuery=s,o in n&&(s+=n[o].pageIndex),s},r.prototype.processQuery=function(e){var t=this.generateKey(this.dataSource.url,e),i=JSON.parse(window.localStorage.getItem(this.guidId)),n=i?i.results[i.keys.indexOf(t)]:null;return n!=null?re.parse.parseJson(n):this.adaptor.processQuery(this,e)},r.getDeferedArgs=function(e,t,i){return e.isCountRequired?(i.result=t.result,i.count=t.count,i.aggregates=t.aggregates):i.result=t,i},r.nextTick=function(e){(window.setImmediate||window.setTimeout)(e,0)},r.prototype.extendRequest=function(e,t,i){return ie({},{type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,processData:!1,onSuccess:t,onFailure:i},e)},r.prototype.makeRequest=function(e,t,i,n){var s=this,o=!!n.subQuerySelector,a=function(y){i.error=y,t.reject(i)},l=function(y,v,M,S,b,C,T){i.xhr=M,i.count=v?parseInt(v.toString(),10):0,i.result=y,i.request=S,i.aggregates=C,i.actual=b,i.virtualSelectRecords=T,t.resolve(i)},h=function(y,v){var M=new mi,S={parent:i};n.subQuery.isChild=!0;var b=s.adaptor.processQuery(s,n.subQuery,y?s.adaptor.processResponse(y):v),C=s.makeRequest(b,M,S,n.subQuery);return o||M.then(function(T){y&&(re.buildHierarchy(n.subQuery.fKey,n.subQuery.fromTable,y,T,n.subQuery.key),l(y,T.count,T.xhr))},a),C},u=function(y,v){if(s.isGraphQLAdaptor(s.adaptor)&&!p(y.errors))return a(y.errors);s.isCustomDataAdaptor(s.adaptor)&&(v=ie({},s.fetchReqOption,v)),v.contentType.indexOf("xml")===-1&&s.dateParse&&!s.isEnableCache&&(y=re.parse.parseJson(y));var M,S=s.afterReponseRequest(y);S.then(function(b){if(M=s.adaptor.processResponse(b,s,n,v.fetchRequest,v),s.isEnableCache){var C=n?s.generateKey(s.dataSource.url,n):s.dataSource.url,T={};T=JSON.parse(window.localStorage.getItem(s.guidId));var k=T.keys.indexOf(C);k!==-1&&(T.results.splice(k,1),T.keys.splice(k,1)),T.results[T.keys.push(C)-1]={keys:C,result:M.result,timeStamp:new Date,count:M.count},window.localStorage.setItem(s.guidId,JSON.stringify(T))}v.contentType.indexOf("xml")===-1&&s.dateParse&&s.isEnableCache&&(M=re.parse.parseJson(M));var N=0,A=null,E="virtualSelectRecords",x=b[E];if(n.isCountRequired&&(N=M.count,A=M.aggregates,M=M.result),!n.subQuery){l(M,N,v.fetchRequest,v.type,b,A,x);return}o||h(M,v)}).catch(function(b){return s.dataManagerFailure(b,t,i)})},c=this.extendRequest(e,u,a);if(this.isCustomDataAdaptor(this.adaptor)){this.fetchReqOption=c;var g=c;this.adaptor.options.getData({data:g.data,onSuccess:g.onSuccess,onFailure:g.onFailure})}else{var d=this.useMiddleware(c),f;d.then(function(y){f=new IM(c),f.beforeSend=function(){s.beforeSend(f.fetchRequest,f,y)},c=f.send(),c.catch(function(v){return!0}),s.requests.push(f)}).catch(function(y){return s.dataManagerFailure(y,t,i)})}if(o){var d=void 0,m=n.subQuerySelector.call(this,{query:n.subQuery,parent:n});m&&m.length?(d=Promise.all([c,h(null,m)]),d.then(function(){for(var v=[],M=0;M<arguments.length;M++)v[M]=arguments[M];var S=v[0],b=s.adaptor.processResponse(S[0],s,n,s.requests[0].fetchRequest,s.requests[0]),C=0;n.isCountRequired&&(C=b.count,b=b.result);var T=s.adaptor.processResponse(S[1],s,n.subQuery,s.requests[1].fetchRequest,s.requests[1]);C=0,n.subQuery.isCountRequired&&(C=T.count,T=T.result),re.buildHierarchy(n.subQuery.fKey,n.subQuery.fromTable,b,T,n.subQuery.key),o=!1,l(b,C,s.requests[0].fetchRequest)})):o=!1}return c},r.prototype.dataManagerFailure=function(e,t,i){i.error=e,t.reject(i)},r.prototype.afterReponseRequest=function(e){return Gf(this,void 0,void 0,function(){var t,i;return $f(this,function(n){switch(n.label){case 0:return[4,this.applyPostRequestMiddlewares(e)];case 1:return t=n.sent(),i=new mi,i.resolve(t),[2,i.promise]}})})},r.prototype.applyPostRequestMiddlewares=function(e){return Gf(this,void 0,void 0,function(){return $f(this,function(t){return[2,e]})})},r.prototype.useMiddleware=function(e){return Gf(this,void 0,void 0,function(){var t,i;return $f(this,function(n){switch(n.label){case 0:return[4,this.applyPreRequestMiddlewares(e)];case 1:return t=n.sent(),i=new mi,i.resolve(t),[2,i.promise]}})})},r.prototype.applyPreRequestMiddlewares=function(e){return Gf(this,void 0,void 0,function(){return $f(this,function(t){return[2,e]})})},r.prototype.beforeSend=function(e,t,i){this.adaptor.beforeSend(this,e,t);var n=[];this.dataSource.headers&&(n=n.concat(this.dataSource.headers));var s;i&&i.headers&&(n=n.concat(i.headers));for(var o=0;n&&o<n.length;o++){s=[];for(var a=Object.keys(n[o]),l=0,h=a;l<h.length;l++){var u=h[l];s.push(u),e.headers.set(u,n[o][u])}}},r.prototype.saveChanges=function(e,t,i,n,s){var o=this;i instanceof He&&(n=i,i=null);var a={url:i,key:t||this.dataSource.key},l=this.adaptor.batchRequest(this,e,a,n||new He,s),h="dofetchRequest";if(this.dataSource.offline)return l;if(p(this.adaptor[h])){if(this.isCustomDataAdaptor(this.adaptor))return this.dofetchRequest(l,this.adaptor.options.batchUpdate,e);var u=new mi,c=new IM(l);return c.beforeSend=function(){o.beforeSend(c.fetchRequest,c)},c.onSuccess=function(d,f){o.isGraphQLAdaptor(o.adaptor)&&(p(d.errors)||c.onFailure(JSON.stringify(d.errors))),u.resolve(o.adaptor.processResponse(d,o,null,f.fetchRequest,f,e,a))},c.onFailure=function(d){u.reject([{error:d}])},c.send().catch(function(d){return!0}),u.promise}else return this.adaptor[h](l)},r.prototype.insert=function(e,t,i,n){t instanceof He&&(i=t,t=null);var s=this.adaptor.insert(this,e,t,i,n),o="dofetchRequest";return this.dataSource.offline?s:p(this.adaptor[o])?this.dofetchRequest(s,this.adaptor.options.addRecord):this.adaptor[o](s)},r.prototype.remove=function(e,t,i,n){typeof t=="object"&&(t=re.getObject(e,t)),i instanceof He&&(n=i,i=null);var s=this.adaptor.remove(this,e,t,i,n),o="dofetchRequest";if(this.dataSource.offline)return s;if(p(this.adaptor[o])){var a=this.adaptor.options.deleteRecord;return this.dofetchRequest(s,a)}else return this.adaptor[o](s)},r.prototype.update=function(e,t,i,n,s){i instanceof He&&(n=i,i=null),this.isEnableCache&&(this.cacheQuery=this.generateKey(this.dataSource.url,n));var o=this.adaptor.update(this,e,t,i,n,s),a="dofetchRequest";if(this.dataSource.offline)return o;if(p(this.adaptor[a])){var l=this.adaptor.options.updateRecord;return this.dofetchRequest(o,l)}else return this.adaptor[a](o)},r.prototype.isCustomDataAdaptor=function(e){return this.adaptor.getModuleName&&this.adaptor.getModuleName()==="CustomDataAdaptor"},r.prototype.isGraphQLAdaptor=function(e){return this.adaptor.getModuleName&&this.adaptor.getModuleName()==="GraphQLAdaptor"},r.prototype.successFunc=function(e,t,i){if(this.isGraphQLAdaptor(this.adaptor)){var n=typeof e=="object"?e:JSON.parse(e);p(n.errors)||this.failureFunc(JSON.stringify(n.errors))}this.isCustomDataAdaptor(this.adaptor)&&(t=ie({},this.fetchReqOption,t));try{re.parse.parseJson(e)}catch{e=[]}if(this.isEnableCache){var s=JSON.parse(t.data);if(s.action==="insert"||s.action==="remove"){var o={keys:[],results:[]};window.localStorage.setItem(this.guidId,JSON.stringify(o))}else if(s.action==="update"){var a=JSON.parse(window.localStorage.getItem(this.guidId)),n=a?a.results[a.keys.indexOf(this.cacheQuery)]:null;if(n&&n.result){for(var l=n.result,h=0;h<l.length;h++)if(l[h][s.keyColumn]===s.key){l[h]=s.value,window.localStorage.setItem(this.guidId,JSON.stringify(a));break}}}}e=this.adaptor.processResponse(re.parse.parseJson(e),this,null,t.fetchRequest,t,i),this.fetchDeffered.resolve(e)},r.prototype.failureFunc=function(e){this.isEnableCache&&(this.cacheQuery=""),this.fetchDeffered.reject([{error:e}])},r.prototype.dofetchRequest=function(e,t,i){var n=this;if(e=ie({},{type:"POST",contentType:"application/json; charset=utf-8",processData:!1},e),this.fetchDeffered=new mi,this.isCustomDataAdaptor(this.adaptor))this.fetchReqOption=e,t.call(this,{data:e.data,onSuccess:this.successFunc.bind(this),onFailure:this.failureFunc.bind(this),changes:i});else{var s=this.useMiddleware(e),o;s.then(function(a){o=new IM(e),o.beforeSend=function(){n.beforeSend(o.fetchRequest,o,a)},o.onSuccess=n.successFunc.bind(n),o.onFailure=n.failureFunc.bind(n),e=o.send(),e.catch(function(l){return!0})}).catch(function(a){return n.dataManagerFailure(a,n.fetchDeffered,{})})}return this.fetchDeffered.promise},r.prototype.clearPersistence=function(){window.removeEventListener("unload",this.setPersistData.bind(this)),this.dataSource.enablePersistence=!1,this.persistQuery={},window.localStorage.setItem(this.dataSource.id,"[]")},r.prototype.clearCache=function(){this.isEnableCache&&window.localStorage.setItem(this.guidId,JSON.stringify({keys:[],results:[]}))},r}(),mi=function(){function r(){var e=this;this.promise=new Promise(function(t,i){e.resolve=t,e.reject=i}),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)}return r}();function FJ(r,e,t){for(var i=r;i&&!i.classList.contains(e);)i=i.parentElement;return i}function al(r){return p(r.startDate)&&p(r.endDate)&&p(r.duration)?null:!(p(r.startDate)||p(r.endDate)||p(r.duration))}function Dp(r){return!!(r.dataSource&&!(r.dataSource instanceof fe)&&"result"in r.dataSource)}function BJ(r){return p(r)||typeof r!="object"?!1:Object.keys(r).length===0}function ns(r){var e=r.getFullYear(),t=r.getMonth(),i=r.getDate(),n=r.getHours(),s=r.getMinutes(),o=r.getSeconds(),a=r.getMilliseconds();return Date.UTC(e,t,i,n,s,o,a)}function UJ(r,e,t,i){var n,s,o;{for(var n=[],s=0;s<r.length;s++){!p(i)&&i.timezone&&HJ(r[s],i);var o=r[parseInt(s.toString(),10)].taskData;n.push(o)}return n}}function HJ(r,e){if(r&&!p(r.ganttProperties)){var t=r.taskData,i=r.ganttProperties;t[e.taskFields.startDate]=e.dateValidationModule.remove(i.startDate,e.timezone),e.taskFields.endDate!==null&&(t[e.taskFields.endDate]=e.dateValidationModule.remove(i.endDate,e.timezone)),(e.taskFields.baselineStartDate||e.taskFields.baselineEndDate)&&(t[e.taskFields.baselineStartDate]=e.dateValidationModule.remove(i.baselineStartDate,e.timezone),t[e.taskFields.baselineEndDate]=e.dateValidationModule.remove(i.baselineEndDate,e.timezone)),e.editModule.processCustomDateColumns(r,t,e,"remove")}return null}function z1(r,e,t,i){for(var n=-1,s=0;s<t.length;s++)if(H(e,t[s])===H(e,r)&&p(i)||!p(i)&&H(e,t[s])===H(e,r)&&H(i,t[s])===H(i,r)){n=s;break}return n}var ki;(function(r){r[r.AsSoonAsPossible=0]="AsSoonAsPossible",r[r.AsLateAsPossible=1]="AsLateAsPossible",r[r.MustStartOn=2]="MustStartOn",r[r.MustFinishOn=3]="MustFinishOn",r[r.StartNoEarlierThan=4]="StartNoEarlierThan",r[r.StartNoLaterThan=5]="StartNoLaterThan",r[r.FinishNoEarlierThan=6]="FinishNoEarlierThan",r[r.FinishNoLaterThan=7]="FinishNoLaterThan"})(ki||(ki={}));var tD=function(){function r(e){this.fromSegments=!1,this.mondayTimeRangeLength=0,this.tuesdayTimeRangeLength=0,this.wednesdayTimeRangeLength=0,this.thursdayTimeRangeLength=0,this.fridayTimeRangeLength=0,this.saturdayTimeRangeLength=0,this.sundayTimeRangeLength=0,this.parent=e}return r.prototype.isValidateNonWorkDays=function(e){return!p(e)&&e.isAutoSchedule&&(!this.parent.includeWeekend||e.calendarContext.defaultHolidays.length>0)||p(e)&&(!this.parent.includeWeekend||this.parent.defaultCalendarContext.defaultHolidays.length>0)},r.prototype.checkStartDate=function(e,t,i,n,s,o){if(p(e))return null;var a=new Date(e.getTime()),l=this.parent.getCurrentDayStartTime(a),h=this.parent.getCurrentDayEndTime(a),u=new Date(e.getTime()),c=this.getSecondsInDecimal(u);if(i=p(i)?p(t)?!1:t.isMilestone:i,c<l&&(!i||n))this.setTime(l,u);else if(c<l&&i)this.setTime(l,u);else if(c===h&&(!t||!i)||c>h)u.setDate(u.getDate()+1),l=this.parent.getCurrentDayStartTime(u),this.setTime(l,u);else if(c>l&&c<h){var d=this.parent.workingTimeRanges;this.parent.weekWorkingTime.length>0&&(d=this.parent.getWorkingRange(u));for(var f=0;f<d.length;f++){var g=d[f];if(c>=g.to&&d[f+1]&&c<d[f+1].from){(c===g.to&&(!t||!i)||c!==g.to)&&this.setTime(d[f+1].from,u);break}}}var m;if(this.parent.autoCalculateDateScheduling&&!o&&!(this.parent.isLoad&&this.parent.treeGrid.loadChildOnDemand&&this.parent.taskFields.hasChildMapping)){do{m=new Date(u.getTime()),t&&!t.calendarContext&&(t.calendarContext=this.parent.defaultCalendarContext);var y=t?t.calendarContext:this.parent.defaultCalendarContext,v=y.defaultHolidays.length;if(this.isValidateNonWorkDays(t)){l=this.parent.getCurrentDayStartTime(m),t&&(s?h=this.parent.getCurrentDayEndTime(t.baselineEndDate?t.baselineEndDate:m):h=this.parent.getCurrentDayEndTime(t.endDate?t.isAutoSchedule?t.endDate:t.autoEndDate:m));var M=!i||n?l:h;if(!this.parent.includeWeekend&&!s){var S=new Date(u.getTime());u=this.getNextWorkingDay(u,y),M=this.parent.getCurrentDayStartTime(u),S.getTime()!==u.getTime()&&!i&&this.setTime(M,u)}if(!s)for(var b=0;b<v;b++){var C=this.getDateFromFormat(new Date(y.defaultHolidays[b])),T=new Date(C.getTime());C.setHours(0,0,0,0),T.setHours(23,59,59,59),u.getTime()>=C.getTime()&&u.getTime()<T.getTime()&&(u.setDate(u.getDate()+1),M=this.parent.getCurrentDayStartTime(u),this.setTime(M,u))}}}while(m.getTime()!==u.getTime());return new Date(u.getTime())}else return new Date(u.getTime())},r.prototype.getAdjustedStartDate=function(e,t){var i=new Date(e);i.setDate(i.getDate()+1);var n=this.parent.dateValidationModule.checkEndDate(i);return this.parent.dateValidationModule.getStartDate(n,t.duration,t.durationUnit,t)},r.prototype.getDateByConstraint=function(e,t,i){var n=e.ganttProperties?e.ganttProperties:e,s=new Date(n.constraintDate),o=this.parent.isLoad;if(p(i)&&(i=!0),i&&(!s||!t))return null;switch(this.parent.editModule&&this.parent.editModule.dialogModule&&this.parent.editModule.dialogModule.dialogConstraintDate?s=new Date(this.parent.editModule.dialogModule.dialogConstraintDate):s=this.parent.assignTimeToDate(s,this.parent.getCurrentDayStartTime(s)),n.constraintType){case ki.AsSoonAsPossible:if(o)return t;n.constraintDate=null;var a=null,l=this.parent.getRecordByID(n.taskId);return l&&l.parentItem&&(a=l.parentItem),n.predecessor&&n.predecessor.length>0?this.parent.assignTimeToDate(t,this.parent.getCurrentDayStartTime(t)):a?this.parent.getRecordByID(a.taskId).ganttProperties.startDate:this.parent.dateValidationModule.checkStartDate(new Date(this.parent.projectStartDate));case ki.AsLateAsPossible:if(o)return t;var a=this.parent.getRecordByID(n.taskId);if(a&&a.parentItem){var h=this.parent.dateValidationModule.checkEndDate(this.parent.getRecordByID(a.parentItem.taskId).ganttProperties.endDate),u=this.parent.dateValidationModule.getStartDate(h,n.duration,n.durationUnit,n);return u}else{var h=this.parent.dateValidationModule.checkEndDate(new Date(this.parent.projectEndDate)),u=this.parent.dateValidationModule.getStartDate(h,n.duration,n.durationUnit,n);return u}case ki.MustStartOn:{var c=s.getTime()!==n.startDate.getTime(),d=void 0;this.parent.editModule&&this.parent.editModule.dialogModule&&(d=this.parent.editModule.dialogModule.dialogConstraintValue);var f=p(d)||d===2||d===3;return c&&!o&&f&&(this.parent.constraintViolationType="MustStartOn"),d=null,o?this.parent.dateValidationModule.checkStartDate(new Date(s)):this.parent.assignTimeToDate(t,this.parent.getCurrentDayStartTime(t))}case ki.MustFinishOn:{var c=s.getTime()!==n.endDate.getTime();return c&&!o&&(this.parent.constraintViolationType="MustFinishOn"),this.getAdjustedStartDate(s,n)}case ki.StartNoEarlierThan:return s.getTime()<t.getTime()||!o?this.parent.assignTimeToDate(t,this.parent.getCurrentDayStartTime(t)):this.parent.dateValidationModule.checkStartDate(new Date(s));case ki.StartNoLaterThan:{var c=s.getTime()<t.getTime();if(c&&!o&&(this.parent.constraintViolationType="StartNoLaterThan"),!o){var g=this.parent.editModule&&this.parent.editModule.cellEditModule,m=this.parent.taskFields&&this.parent.taskFields.constraintDate;return g&&g.isCellEdit&&g.editedColumn&&c&&g.editedColumn.field===m||this.parent.editModule&&this.parent.editModule.dialogModule&&c&&this.parent.editModule.dialogModule.dialogConstraintDate?s:this.parent.assignTimeToDate(t,this.parent.getCurrentDayStartTime(t))}return o&&c?this.parent.dateValidationModule.checkStartDate(new Date(s)):t}case ki.FinishNoEarlierThan:{var y=this.getEndDate(t,n.duration,n.durationUnit,n,!1,!1);return y.getTime()<s.getTime()?this.getAdjustedStartDate(s,n):t}case ki.FinishNoLaterThan:{var y=this.getEndDate(t,n.duration,n.durationUnit,n,!1,!1),c=s.getTime()<y.getTime();return c&&!o&&(this.parent.constraintViolationType="FinishNoLaterThan"),o?c?this.getAdjustedStartDate(s,n):t:c?this.getAdjustedStartDate(s,n):this.parent.assignTimeToDate(t,this.parent.getCurrentDayEndTime(t))}default:return t}},r.prototype.checkEndDate=function(e,t,i,n,s){if(p(e))return null;var o,a;t&&!t.calendarContext&&(t.calendarContext=this.parent.defaultCalendarContext);var l=t?t.calendarContext:this.parent.defaultCalendarContext;if(this.parent.weekWorkingTime.length>0){var h=new Date(e.getTime());((l.exceptionsRanges.length===0||!this.parent.includeWeekend)&&t&&t.isAutoSchedule||this.parent.editModule&&this.parent.editModule.taskbarEditModule&&this.parent.editModule.taskbarEditModule.taskBarEditRecord&&!this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.isAutoSchedule)&&(h=this.getNextWorkingDay(h,l)),o=this.parent.getStartTime(h),a=this.parent.getEndTime(h)}else o=this.parent.defaultStartTime,a=this.parent.defaultEndTime;var u=new Date(e.getTime()),c=this.getSecondsInDecimal(u);if(c>a)this.setTime(a,u);else if(c<=o&&a!==86400&&!i){var d=this.parent.taskFields;this.parent.editModule&&this.parent.editModule.editedRecord&&!this.parent.editModule.editedRecord[d.startDate]&&this.parent.editModule.editedRecord[d.endDate]?u.setDate(u.getDate()):u.setDate(u.getDate()-1),a=this.parent.getCurrentDayEndTime(u),this.setTime(a,u)}else if(c>o&&c<a)for(var f=0;f<this.parent.workingTimeRanges.length;f++){var g=this.parent.workingTimeRanges[f];if(c>g.to&&this.parent.workingTimeRanges[f+1]&&c<=this.parent.workingTimeRanges[f+1].from){this.setTime(this.parent.workingTimeRanges[f].to,u);break}}var m;if(this.parent.autoCalculateDateScheduling&&!s&&!(this.parent.isLoad&&this.parent.treeGrid.loadChildOnDemand&&this.parent.taskFields.hasChildMapping)){do{m=new Date(u.getTime());var y=l.defaultHolidays.length;if(this.isValidateNonWorkDays(t)&&!n){if(!this.parent.includeWeekend){var v=new Date(u.getTime());u=this.getPreviousWorkingDay(u,l),a=this.parent.getCurrentDayEndTime(u),v.getTime()!==u.getTime()&&this.setTime(a,u)}for(var M=0;M<y;M++){var S=this.getDateFromFormat(new Date(l.defaultHolidays[M])),b=new Date(S.getTime()),C=new Date(u.getTime());C.setMinutes(u.getMilliseconds()-2),S.setHours(0,0,0,0),b.setHours(23,59,59,59),(u.getTime()>=S.getTime()&&u.getTime()<b.getTime()||C.getTime()>=S.getTime()&&C.getTime()<b.getTime())&&(u.setDate(u.getDate()-1),a=this.parent.getCurrentDayEndTime(u),u.getTime()===S.getTime()&&a===86400&&this.getSecondsInDecimal(u)===0||this.setTime(a,u))}}}while(m.getTime()!==u.getTime());return new Date(u.getTime())}else return!p(u)&&this.parent.defaultEndTime!==86400&&(a=this.parent.getCurrentDayEndTime(e),this.setTime(a,u)),new Date(u.getTime())},r.prototype.checkBaselineStartDate=function(e,t){if(p(e))return null;var i=this.parent.getCurrentDayStartTime(e),n=this.parent.getCurrentDayEndTime(t&&t.endDate?t.isAutoSchedule?t.endDate:t.autoEndDate:e),s=new Date(e.getTime()),o=this.getSecondsInDecimal(s);if(o<i)this.setTime(i,s);else if(o>n)s.setDate(s.getDate()+1),this.parent.weekWorkingTime.length>0?i=this.parent.getStartTime(s):i=this.parent.defaultStartTime,this.setTime(i,s);else if(o>i&&o<n)for(var a=0;a<this.parent.workingTimeRanges.length;a++){var l=this.parent.workingTimeRanges[a];if(o>l.to&&this.parent.workingTimeRanges[a+1]&&o<this.parent.workingTimeRanges[a+1].from){this.setTime(this.parent.workingTimeRanges[a+1].from,s);break}}return s},r.prototype.checkBaselineEndDate=function(e,t){if(p(e))return null;var i=this.parent.getCurrentDayEndTime(e),n=this.parent.getCurrentDayStartTime(t&&t.startDate?t.isAutoSchedule?t.startDate:t.autoStartDate:e),s=new Date(e.getTime()),o=this.getSecondsInDecimal(s);if(o>i)this.setTime(i,s);else if(o<n&&!p(t)&&!t.isMilestone)s.setDate(s.getDate()-1),i=this.parent.getCurrentDayEndTime(s),this.setTime(i,s);else if(o>n&&o<i)for(var a=0;a<this.parent.workingTimeRanges.length;a++){var l=this.parent.workingTimeRanges[a];if(o>l.to&&this.parent.workingTimeRanges[a+1]&&o<=this.parent.workingTimeRanges[a+1].from){this.setTime(this.parent.workingTimeRanges[a].to,s);break}}return t&&t.baselineStartDate&&s&&t.baselineStartDate.getTime()>s.getTime()&&s.setDate(s.getDate()+1),s},r.prototype.calculateStartDate=function(e,t){var i=e.ganttProperties,n=null;t?(!p(i.baselineEndDate)&&!p(i.baselineDuration)&&(n=this.getStartDate(i.baselineEndDate,i.baselineDuration,i.durationUnit,i,void 0,!0)),this.parent.setRecordValue("baselineStartDate",n,i,!0),this.parent.taskFields.baselineStartDate&&this.parent.dataOperation.updateMappingData(e,"baselineStartDate")):(!p(i.endDate)&&!p(i.duration)&&(n=this.getStartDate(i.endDate,i.duration,i.durationUnit,i)),this.parent.setRecordValue("startDate",n,i,!0),this.parent.taskFields.startDate&&this.parent.dataOperation.updateMappingData(e,"startDate"))},r.prototype.getFieldMappings=function(e){return{startdateField:e?"baselineStartDate":"startDate",enddateField:e?"baselineEndDate":"endDate",durationField:e?"baselineDuration":"duration"}},r.prototype.calculateEndDate=function(e,t){var i=e.ganttProperties,n=null,s,o,a=this.getFieldMappings(t),l=a.startdateField,h=a.enddateField,u=a.durationField;if(p(i[l]))n=e[this.parent.taskFields[h]],p(n)||(o=this.parent.getCurrentDayEndTime(n),this.setTime(o,n)),this.parent.setRecordValue(h,n,i,!0);else{if(!p(i[h])&&p(i[u])&&(this.compareDates(i[l],i[h])===1&&(this.parent.setRecordValue(l,new Date(i[h].getTime()),i,!0),s=this.parent.getCurrentDayStartTime(i.isAutoSchedule&&!t?i.autoStartDate:i[l]),o=this.parent.getCurrentDayEndTime(i.isAutoSchedule&&!t?i.autoEndDate:i[h]),this.setTime(s,i[l])),this.calculateDuration(e,t)),!p(i[u])){var c=!t&&!p(i.segments)&&i.segments.length>1?this.totalDuration(i.segments):i[u];n=this.getEndDate(i[l],c,i.durationUnit,i,!1,t,e)}this.parent.setRecordValue(h,n,i,!0)}this.parent.taskFields[h]&&this.parent.dataOperation.updateMappingData(e,h)},r.prototype.totalDuration=function(e){var t=0,i;p(this.parent.timelineSettings.bottomTier)||(i=this.parent.timelineSettings.bottomTier.unit);for(var n=0;n<e.length;n++){var s=e[n].offsetDuration;i==="Hour"?s=s/24:i==="Minutes"&&(s=s/(24*60)),t+=e[n].duration+s}return t=Math.ceil(t),t},r.prototype.calculateDuration=function(e,t){var i=e.ganttProperties,n=i.calendarContext,s;if(!t&&!p(i.segments)&&i.segments.length>0&&!p(this.parent.editModule.taskbarEditModule))s=this.parent.editModule.taskbarEditModule.sumOfDuration(i.segments);else if(!t&&!p(this.parent.taskFields.milestone)&&!p(i.startDate)&&!p(i.endDate)&&i.startDate.getTime()===i.endDate.getTime()&&e.taskData[this.parent.taskFields.milestone]===!1)s=1;else{var o=t?i.baselineStartDate:i.startDate,a=t?i.baselineEndDate:i.endDate,l=i.durationUnit,h=t?!1:i.isAutoSchedule,u=t?!1:i.isMilestone;s=this.getDuration(o,a,l,h,u,void 0,n)}var c=t?"baselineDuration":"duration";this.parent.setRecordValue(c,s,i,!0);var d=t?this.parent.columnByField[this.parent.columnMapping.baselineDuration]:this.parent.columnByField[this.parent.columnMapping.duration];if(!p(this.parent.editModule)&&!p(this.parent.editModule.cellEditModule)&&!this.parent.editModule.cellEditModule.isCellEdit&&!p(d)){if(!p(d.edit)&&!p(d.edit.read)){var f=this.parent.editModule.dialogModule.dialog;if(!p(f)){var g=t?f.querySelector("#"+this.parent.element.id+"BaselineDuration"):f.querySelector("#"+this.parent.element.id+"Duration");if(!p(g)){var m=g.ej2_instances[0];!p(m)&&m.value!==s.toString()&&(m.value=s.toString(),m.dataBind())}}}(this.parent.taskFields.duration||this.parent.taskFields.baselineDuration)&&(this.parent.dataOperation.updateMappingData(e,c),this.parent.taskFields.durationUnit&&this.parent.dataOperation.updateMappingData(e,"durationUnit"))}},r.prototype.getNonworkingTime=function(e,t,i,n,s,o,a){var l=this.parent;n=p(n)?!0:n;var h=!o&&!l.includeWeekend&&l.autoCalculateDateScheduling&&!(l.isLoad&&l.treeGrid.loadChildOnDemand&&l.taskFields.hasChildMapping)&&i,u=h&&!a?this.getWeekendCount(e,t,s):0,c=this.getNumberOfSeconds(e,t,n),d=i&&l.autoCalculateDateScheduling&&!(l.isLoad&&l.treeGrid.loadChildOnDemand&&l.taskFields.hasChildMapping)&&!o,f=d&&!a?this.getHolidaysCount(e,t,s):0,g=(c-u*86400-f*86400)/86400,m=this.getNonWorkingSecondsOnDate(e,t,i,o,s,a),y=l.weekWorkingTime.length>0?this.nonWorkingSeconds(e,t,i,g,s,!1,a):g*(86400-l.secondsPerDay);return y+u*86400+f*86400+m},r.prototype.nonWorkingSeconds=function(e,t,i,n,s,o,a){var l=e.getTime()>t.getTime()?new Date(t.getTime()):new Date(e.getTime()),h=e.getTime()>t.getTime()?new Date(e.getTime()):new Date(t.getTime()),u=0,c=0;if(o){var d=this.parent.getCurrentDayStartTime(l),f=this.parent.getCurrentDayEndTime(l);l.getHours()<f/3600&&l.getHours()>=d/3600||l.setDate(l.getDate()+1)}else l.setDate(l.getDate()+1),l.setHours(0,0,0,0),h.setHours(0,0,0,0);if(n>0||p(n))for(;o&&l.getTime()<=h.getTime()||!o&&l.getTime()<h.getTime();){if(i&&!a){if(this.isOnHolidayOrWeekEnd(l,!0,s))do l.setDate(l.getDate()+1);while(this.isOnHolidayOrWeekEnd(l,!0,s));(!this.parent.includeWeekend||s.exceptionsRanges.length===0)&&this.getNextWorkingDay(l,s)}if(l.getTime()<=h.getTime()){c++;var g=this.parent.getSecondsPerDay(l);if(o?u+=g:u+=86400-g,l.setDate(l.getDate()+1),i&&!a){if(this.isOnHolidayOrWeekEnd(l,!0,s))do l.setDate(l.getDate()+1);while(this.isOnHolidayOrWeekEnd(l,!0,s));(!this.parent.includeWeekend||s.exceptionsRanges.length===0)&&this.getNextWorkingDay(l,s)}}}else return 0;return o&&(u>0?u=u/c:u=this.parent.secondsPerDay),u},r.prototype.getDuration=function(e,t,i,n,s,o,a){if(o===void 0&&(o=!0),!e||!t)return null;var l=0,h=this.parent.getFormatedDate(e)===this.parent.getFormatedDate(t),u;if(this.parent.weekWorkingTime.length>0){var c=new Date(e);u=this.nonWorkingSeconds(e,t,n,void 0,a,!0);for(var d=0;c<=t;){var f=this.parent.getFormatedDate(c),g=this.parent.getSecondsPerDay(c),m=new Date(c),y=new Date(c);m.setHours(0,0,0,0),y.setHours(0,0,0,0),m.setSeconds(this.parent.getCurrentDayStartTime(c)),y.setSeconds(this.parent.getCurrentDayEndTime(c)),f===this.parent.getFormatedDate(e)&&m.setTime(e.getTime()),f===this.parent.getFormatedDate(t)&&y.setTime(t.getTime());var v=this.getTimeDifference(m,y,o)/1e3,M=this.getNonworkingTime(m,y,n,o,a);d+=Math.max(0,v-M)/g,c.setDate(c.getDate()+1)}s&&h||(l=this.calculateDurationValue(i,d,u))}else{u=this.parent.secondsPerDay;var S=this.getTimeDifference(e,t,o)/1e3,b=this.getNonworkingTime(e,t,n,o,a),C=S-b;s&&h||(l=this.calculateDurationValue(i,C/u,u))}return parseFloat(l.toString())},r.prototype.calculateDurationValue=function(e,t,i){return!e||e==="day"?t:e==="minute"?t*(i/60):t*(i/3600)},r.prototype.getDurationAsSeconds=function(e,t,i){var n=0,s;return this.parent.weekWorkingTime.length>0?s=this.parent.getSecondsPerDay(i):s=this.parent.secondsPerDay,!t||t.toLocaleLowerCase()==="day"?n=s*e:t.toLocaleLowerCase()==="hour"?n=e*3600:n=e*60,n},r.prototype.getEndDate=function(e,t,i,n,s,o,a){var l=new Date(e.getTime()),h;n.calendarContext||(n.calendarContext=this.parent.defaultCalendarContext),this.parent.weekWorkingTime.length>0&&(!i||i.toLocaleLowerCase()==="day")?h=this.calculateSecondDuration(t,l,h,e,!0,n.calendarContext):h=this.getDurationAsSeconds(t,i,e);var u=this.calculateEndDateFromDuration(e,h,n,s,n.calendarContext,o,!1);if(this.parent.autoCalculateDateScheduling&&this.parent.isLoad&&!p(a)&&p(a[this.parent.taskFields.endDate])&&!p(a[this.parent.taskFields.startDate])&&!a.hasChildRecords){var c=this.getDateFromFormat(a[this.parent.taskFields.startDate]);this.parent.dataOperation.resolveAndApplyWorkingTimes(c);var d=this.checkStartDate(c,n,s,this.parent.isLoad,!1,!0),f=this.getDurationAsSeconds(t,i,c),g=this.calculateEndDateFromDuration(d,f,n,s,n.calendarContext,!1,n.isAutoSchedule);(u.getTime()!==g.getTime()||c.getTime()!==d.getTime())&&this.parent.dataOperation.validatedGanttData.set(a.ganttProperties.taskId,a)}return u},r.prototype.calculateEndDateFromDuration=function(e,t,i,n,s,o,a){for(var l=new Date(e.getTime()),h=new Date(e.getTime()),u=t;u>0;){h.setSeconds(h.getSeconds()+u);var c=this.getNonworkingTime(l,h,i.isAutoSchedule,!0,s,o,a),d=u-c;u-=d,u>0&&(h=this.checkStartDate(h,i,n,void 0,o,a)),l=new Date(h.getTime())}return h},r.prototype.getStartDate=function(e,t,i,n,s,o){var a=new Date(e.getTime()),l=new Date(e.getTime()),h,u=new Date(a.getTime());n.calendarContext||(n.calendarContext=this.parent.defaultCalendarContext),this.parent.weekWorkingTime.length>0?h=this.calculateSecondDuration(t,u,h,a,!1,n.calendarContext):h=this.getDurationAsSeconds(t,i,a);for(var c=0,d=0;h>0;)l.setSeconds(l.getSeconds()-h),c=this.getNonworkingTime(l,a,n.isAutoSchedule,!0,n.calendarContext,o),d=h-c,h=h-d,h>0&&(a=this.checkEndDate(l,n,o)),a=new Date(l.getTime());if(s&&n.isMilestone){l.setDate(l.getDate()-1);var f=this.parent.getCurrentDayEndTime(n.endDate?n.isAutoSchedule?n.endDate:n.autoEndDate:l);this.parent.dateValidationModule.setTime(f,l),l=this.parent.dateValidationModule.checkStartDate(l,n,!0)}return l},r.prototype.calculateSecondDuration=function(e,t,i,n,s,o){if(e<1)i=this.parent.getSecondsPerDay(t)*e;else{i=0;var a=e,l=this.parent.getCurrentDayStartTime(t),h=this.parent.getCurrentDayEndTime(t);for(!(t.getHours()<h/3600&&t.getHours()>l/3600)&&this.fromSegments&&(s?t.setDate(t.getDate()+1):t.setDate(t.getDate()-1));a>0;){if(this.isOnHolidayOrWeekEnd(t,!0,o))do s?t.setDate(t.getDate()+1):t.setDate(t.getDate()-1);while(this.isOnHolidayOrWeekEnd(t,!0,o));(!this.parent.includeWeekend||o.exceptionsRanges.length===0)&&(t=s?this.getNextWorkingDay(t,o):this.getPreviousWorkingDay(t,o));var u=this.parent.getSecondsPerDay(t),c=0;if(this.getSecondsInDecimal(n)!==this.parent.getStartTime(n)&&!Number.isInteger(a)){var d=e.toString().split(".");c=parseFloat("."+d[1]),u=u*c,a=a-c}a<1&&(u=u*a),i=i+u,s?t.setDate(t.getDate()+1):t.setDate(t.getDate()-1),c||a--}}return i},r.prototype.getProjectStartDate=function(e,t){if(p(this.parent.cloneProjectStartDate))if(p(this.parent.projectStartDate)){if(p(t))return null;var n=this.parent.flatData,s=void 0;n.length>0?s=n[0].ganttProperties.startDate:(s=new Date,s.setHours(0,0,0,0));for(var o=1;o<n.length;o++){var a=n[o].ganttProperties.startDate;!p(a)&&this.compareDates(a,s)===-1&&(s=a)}this.parent.cloneProjectStartDate=this.checkStartDate(s,e)}else{var i=this.getDateFromFormat(this.parent.projectStartDate);this.parent.cloneProjectStartDate=this.checkStartDate(i)}else{typeof this.parent.cloneProjectStartDate=="string"&&(this.parent.cloneProjectStartDate=this.getDateFromFormat(this.parent.cloneProjectStartDate));var i=this.checkStartDate(this.parent.cloneProjectStartDate);return this.parent.cloneProjectStartDate=i,new Date(i.getTime())}return new Date(this.parent.cloneProjectStartDate.getTime())},r.prototype.getValidStartDate=function(e,t,i){var n=null,s=i?e.baselineStartDate:t?e.autoStartDate:e.startDate,o=i?e.baselineEndDate:t?e.autoEndDate:e.endDate,a=!e.isAutoSchedule&&e.autoDuration?e.autoDuration:e.duration;if(p(s))if(p(o)){if(!p(a)){var h=this.parent.getTaskByUniqueID(e.uniqueID);if(this.parent.allowUnscheduledTasks&&h&&h.parentItem&&p(s)&&p(o)){for(var u=this.parent.getParentTask(h.parentItem);u&&!u.ganttProperties.startDate;)u=this.parent.getParentTask(u.parentItem);n=!u||!u.ganttProperties.startDate?this.parent.cloneProjectStartDate:u.ganttProperties.startDate}else n=this.getProjectStartDate(e)}}else{n=new Date(o.getTime());var l=this.parent.getCurrentDayStartTime(n);this.setTime(l,n)}else n=new Date(s.getTime());return n},r.prototype.getValidEndDate=function(e,t,i){var n=null,s=i?e.baselineStartDate:t?e.autoStartDate:e.startDate,o=i?e.baselineEndDate:t?e.autoEndDate:e.endDate,a=t?e.autoDuration:e.duration;if(p(o))if(p(s)){if(!p(a)){var h=this.getValidStartDate(e);h&&(n=this.getEndDate(h,a,e.durationUnit,e,!1))}}else if(e.isMilestone)n=this.checkStartDate(s);else{n=new Date(s.getTime());var l=this.parent.getCurrentDayEndTime(o||n);this.setTime(l,n)}else n=new Date(o.getTime());return n},r.prototype.getWorkingTime=function(e,t,i,n,s,o,a,l){if(!p(t.from)&&!p(t.to)){i.setHours(0,0,0,0);var h=new Date(i.getTime());i.setTime(i.getTime()+t.from*36e5);var u=new Date(i.getTime());if(t.to===24){var c=864e5;h.setTime(h.getTime()+c)}else h.setTime(h.getTime()+t.to*36e5);var d=new Date(h.getTime()),f=d.getTime()-u.getTime(),g=this.getSecondsInDecimal(u),m=this.getSecondsInDecimal(d);m===0&&(m=86400),n+=f/1e3,s===0&&(this.parent.defaultStartTime=g,this.parent.weekWorkingTime.length>0&&this.assignStartTime(e,g)),(s===this[e.toLowerCase()+"TimeRangeLength"]-1||e==="")&&(this.parent.defaultEndTime=m,this.parent.weekWorkingTime.length>0&&this.assignEndTime(e,m)),s>0?e===""?(o.push(o[o.length-1]+g-a[s-1].to),a[s-1].to<g&&l.push({from:a[s-1].to,to:g,isWorking:!1,interval:g-a[s-1].to})):(this.parent[e.toLowerCase()+"NonWorkingHours"].push(this.parent[e.toLowerCase()+"NonWorkingHours"][this.parent[e.toLowerCase()+"NonWorkingHours"].length-1]+g-this.parent[e.toLowerCase()+"NonWorkingTimeRanges"][s-1].to),this.parent[e.toLowerCase()+"WorkingTimeRanges"][s-1].to<g&&this.parent[e.toLowerCase()+"NonWorkingTimeRanges"].push({from:this.parent[e.toLowerCase()+"WorkingTimeRanges"][s-1].to,to:g,isWorking:!1,interval:g-this.parent[e.toLowerCase()+"WorkingTimeRanges"][s-1].to})):e===""?(o.push(0),l.push({from:0,to:g,isWorking:!1,interval:g})):(this.parent[e.toLowerCase()+"NonWorkingHours"].push(0),this.parent[e.toLowerCase()+"NonWorkingTimeRanges"].push({from:0,to:g,isWorking:!1,interval:g})),e===""?(a.push({from:g,to:m}),l.push({from:g,to:m,isWorking:!0,interval:m-g})):(this.parent[e.toLowerCase()+"WorkingTimeRanges"].push({from:g,to:m}),this.parent[e.toLowerCase()+"NonWorkingTimeRanges"].push({from:g,to:m,isWorking:!0,interval:m-g}))}return n},r.prototype.assignStartTime=function(e,t){switch(e){case"Monday":this.parent.mondayDefaultStartTime=t;break;case"Tuesday":this.parent.tuesdayDefaultStartTime=t;break;case"Wednesday":this.parent.wednesdayDefaultStartTime=t;break;case"Thursday":this.parent.thursdayDefaultStartTime=t;break;case"Friday":this.parent.fridayDefaultStartTime=t;break;case"Saturday":this.parent.saturdayDefaultStartTime=t;break;case"Sunday":this.parent.sundayDefaultStartTime=t;break}},r.prototype.assignEndTime=function(e,t){switch(e){case"Monday":this.parent.mondayDefaultEndTime=t;break;case"Tuesday":this.parent.tuesdayDefaultEndTime=t;break;case"Wednesday":this.parent.wednesdayDefaultEndTime=t;break;case"Thursday":this.parent.thursdayDefaultEndTime=t;break;case"Friday":this.parent.fridayDefaultEndTime=t;break;case"Saturday":this.parent.saturdayDefaultEndTime=t;break;case"Sunday":this.parent.sundayDefaultEndTime=t;break}},r.prototype.calculateWeekWorkTime=function(e,t,i,n,s,o,a){for(var l=0,h=0;h<t.length;h++){var u=t[h];l=l+this.getWorkingTime(e,u,i,n,h,s,o,a)}return this.parent[e.toLowerCase()+"DefaultStartTime"]/3600!==24&&this.parent[e.toLowerCase()+"NonWorkingTimeRanges"].push({from:this.parent[e.toLowerCase()+"DefaultEndTime"],to:86400,isWorking:!1,interval:86400-this.parent[e.toLowerCase()+"DefaultEndTime"]}),l},r.prototype.getSecondsPerDay=function(){var e=0,t=new Date("10/11/2018");this.parent.nonWorkingHours=[];var i=this.parent.nonWorkingHours;this.parent.workingTimeRanges=[];var n=this.parent.workingTimeRanges;this.parent.nonWorkingTimeRanges=[];for(var s=this.parent.nonWorkingTimeRanges,o=this.parent.calendarModule.workingTime,a=0,l=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];a<l.length;a++){var h=l[a];this[h.toLowerCase()+"TimeRangeLength"]=o.length}if(this.parent.weekWorkingTime.length>0){for(var u=0;u<this.parent.weekWorkingTime.length;u++)this[this.parent.weekWorkingTime[u].dayOfWeek.toLowerCase()+"TimeRangeLength"]=this.parent.weekWorkingTime[u].timeRange.length;for(var c=this.parent.weekWorkingTime,d=0,f=c;d<f.length;d++){var g=f[d];if(g.timeRange&&g.timeRange.length>0){this.parent[g.dayOfWeek.toLowerCase()+"NonWorkingHours"]=[],this.parent[g.dayOfWeek.toLowerCase()+"NonWorkingTimeRanges"]=[],this.parent[g.dayOfWeek.toLowerCase()+"WorkingTimeRanges"]=[];var m=this.calculateWeekWorkTime(g.dayOfWeek,g.timeRange,t,e,i,n,s);this.parent[g.dayOfWeek.toLowerCase()+"Seconds"]=m}}for(var y=0,v=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];y<v.length;y++){var h=v[y],M=this.parent[h.toLowerCase()+"DefaultStartTime"];if(p(M)){var S=this.calculateWeekWorkTime(h,o,t,e,i,n,s);this.parent[h.toLowerCase()+"Seconds"]=S}}}for(var b=o.length,C=0,T=0;T<b;T++){var k=o[T];C=C+this.getWorkingTime("",k,t,e,T,i,n,s)}return this.parent.defaultEndTime/3600!==24&&s.push({from:this.parent.defaultEndTime,to:86400,isWorking:!1,interval:86400-this.parent.defaultEndTime}),e=C,e},r.prototype.getDurationValue=function(e){var t=null,i=null;if(typeof e=="string"){var n=e.match(/(\d*\.*\d+|.+$)/g);if(n&&n.length<=2){i=parseFloat(n[0].toString().trim());var s=n[1]?n[1].toString().trim().toLowerCase():null;H("minute",this.parent.durationUnitEditText).indexOf(s)!==-1?t="minute":H("hour",this.parent.durationUnitEditText).indexOf(s)!==-1?t="hour":H("day",this.parent.durationUnitEditText).indexOf(s)!==-1&&(t="day")}}else i=e,t=null;var o={duration:i,durationUnit:t};return o},r.prototype.getNextWorkingDay=function(e,t){if(t){var i=t.getExceptionForDate(e);if(i)return e}var n=e.getDay();return this.parent.nonWorkingDayIndex.indexOf(n)!==-1&&(e.setDate(e.getDate()+1),e=this.getNextWorkingDay(e,t)),e},r.prototype.getWeekendCount=function(e,t,i){var n=0,s=new Date(e.getTime()),o=new Date(t.getTime());for(s.setHours(0,0,0,0),s.setDate(s.getDate()+1),o.setHours(0,0,0,0);s.getTime()<o.getTime();)this.parent.nonWorkingDayIndex.indexOf(s.getDay())!==-1&&(i.getExceptionForDate(s)||(n+=1)),s.setDate(s.getDate()+1);return n},r.prototype.getNumberOfSeconds=function(e,t,i){var n=new Date(e.getTime()),s=new Date(t.getTime()),o=0;return n.setDate(n.getDate()+1),n.setHours(0,0,0,0),s.setHours(0,0,0,0),n.getTime()<s.getTime()&&(o=this.getTimeDifference(n,s,i)/1e3),o%86400!==0&&(o=o-o%86400+86400),o},r.prototype.getHolidaysCount=function(e,t,i){var n=0,s=i.defaultHolidays,o=new Date(e.getTime()),a=new Date(t.getTime());if(o.setDate(o.getDate()+1),o.setHours(0,0,0,0),a.setHours(0,0,0,0),o.getTime()<a.getTime())for(var l=0;l<s.length;l++){var h=this.getDateFromFormat(new Date(s[l]));o.getTime()<=h.getTime()&&a.getTime()>h.getTime()&&(i.getExceptionForDate(h)||(!this.parent.includeWeekend&&this.parent.nonWorkingDayIndex.indexOf(h.getDay())===-1||this.parent.includeWeekend)&&(n+=1))}return n},r.prototype.getHolidayDates=function(e){e==="holidays"?this.parent.calendarModule.holidays=this.parent.holidays:e==="calendarSettings"&&(this.parent.calendarModule.holidays=this.parent.calendarSettings.projectCalendar.holidays);for(var t=this.parent.calendarModule.holidays,i=[],n=0;n<t.length;n++){var s=this.getDateFromFormat(t[n].from),o=this.getDateFromFormat(t[n].to);if(!(p(s)&&p(o)))if(p(s)||p(o)){var a=s||o;a.setHours(0,0,0,0),i.indexOf(a.getTime())===-1&&i.push(a.getTime())}else for(;s<=o;)s.setHours(0,0,0,0),i.indexOf(s.getTime())===-1&&i.push(s.getTime()),s.setDate(s.getDate()+1)}return i},r.prototype.isOnHolidayOrWeekEnd=function(e,t,i){var n=this.parent;if(t=p(t)?n.includeWeekend:t,!n.autoCalculateDateScheduling&&!(n.isLoad&&n.treeGrid.loadChildOnDemand&&n.taskFields.hasChildMapping)&&(t=!0),i.getExceptionForDate(e))return!1;if(!t&&this.parent.nonWorkingDayIndex.indexOf(e.getDay())!==-1)return!0;var s=i.defaultHolidays;if(!s||s.length===0)return!1;for(var o=e.getTime(),a=0;a<s.length;a++){var l=this.getDateFromFormat(new Date(s[a])),h=l.setHours(0,0,0,0),u=l.setHours(23,59,59,999);if(o>=h&&o<=u)return!0}return!1},r.prototype.getNonWorkingSecondsOnDate=function(e,t,i,n,s,o){var a=this.getSecondsInDecimal(e),l=this.getSecondsInDecimal(t),h=-1,u=-1,c=0,d=i&&this.parent.autoCalculateDateScheduling&&!(this.parent.isLoad&&this.parent.treeGrid.loadChildOnDemand&&this.parent.taskFields.hasChildMapping)&&!n?this.isOnHolidayOrWeekEnd(e,null,s):!1,f=i&&this.parent.autoCalculateDateScheduling&&!(this.parent.isLoad&&this.parent.treeGrid.loadChildOnDemand&&this.parent.taskFields.hasChildMapping)&&!n?this.isOnHolidayOrWeekEnd(t,null,s):!1,g,m;if(this.parent.weekWorkingTime.length>0){g=this.parent.getNonWorkingRange(e);for(var y=0;y<g.length;y++){var v=g[y];a>=v.from&&a<=v.to&&(h=y)}m=this.parent.getNonWorkingRange(t);for(var y=0;y<m.length;y++){var v=m[y];l>=v.from&&l<=v.to&&(u=y)}}else{g=this.parent.nonWorkingTimeRanges,m=this.parent.nonWorkingTimeRanges;for(var y=0;y<g.length;y++){var v=g[y];a>=v.from&&a<=v.to&&(h=y),l>=v.from&&l<=v.to&&(u=y)}}if(e.getDate()!==t.getDate()||e.getMonth()!==t.getMonth()||e.getFullYear()!==t.getFullYear()){if(!d||o)for(var y=h;y<g.length;y++)!p(g[y])&&!g[y].isWorking&&(y===h?c+=g[y].to-a:c+=g[y].interval);else c+=86400-a;if(!f||o)for(var y=0;y<=u;y++)m[y].isWorking||(y===u?c+=l-m[y].from:c+=m[y].interval);else c+=l}else if(h!==u)if(!f||o)for(var y=h;y<=u;y++)!p(g[y])&&!g[y].isWorking&&(y===h?c+=g[y].to-a:y===u?c+=l-g[y].from:c+=g[y].interval);else c+=l-a;else if(!f||o){var M=g[h];M.isWorking||(c=l-a)}else c+=l-a;return c},r.prototype.getPreviousWorkingDay=function(e,t){if(t){var i=t.getExceptionForDate(e);if(i)return e}var n=e.getDay(),s=n===0?6:n-1,o=this.parent.getCurrentDayEndTime(e);return(this.parent.nonWorkingDayIndex.indexOf(n)!==-1||this.parent.nonWorkingDayIndex.indexOf(s)!==-1&&o!==86400&&this.getSecondsInDecimal(e)===0)&&(e.setDate(e.getDate()-1),this.parent.nonWorkingDayIndex.indexOf(e.getDay())!==-1&&(e=this.getPreviousWorkingDay(e,t))),e},r.prototype.getNonWorkingDayIndex=function(){var e=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],t=e.length;this.parent.workWeek.length===0&&(this.parent.workWeek=["Monday","Tuesday","Wednesday","Thursday","Friday"]);for(var i=this.parent.workWeek.slice(),n=i.length,s=0;s<n;s++)i[s]=i[s].toLowerCase();this.parent.nonWorkingDayIndex=[];for(var s=0;s<t;s++)i.indexOf(e[s])===-1&&this.parent.nonWorkingDayIndex.push(s)},r.prototype.setTime=function(e,t){var i=e/3600;i=parseInt(i,10);var n=(e-i*3600)/60;n=parseInt(n,10);var s=e-i*3600-n*60;t.setHours(i,n,s)},r.prototype.getTimeDifference=function(e,t,i){var n=new Date(e.getTime()),s=new Date(t.getTime());return i&&this.updateDateWithTimeZone(n,s),s.getTime()-n.getTime()},r.prototype.updateDateWithTimeZone=function(e,t){var i=e.getTimezoneOffset(),n=t.getTimezoneOffset(),s,o;if(i!==n){var a=new Date(new Date().getFullYear(),0,1).getTimezoneOffset();if(a!==i?(o=e,s=i):a!==n&&(o=t,s=n),a<0){var l=a-s;o.setTime(o.getTime()+l*60*1e3)}else if(a>=0){var l=s-a;o.setTime(o.getTime()-l*60*1e3)}}},r.prototype.getSecondsInDecimal=function(e){return e.getHours()*60*60+e.getMinutes()*60+e.getSeconds()+e.getMilliseconds()/1e3},r.prototype.offset=function(e,t){var i=e.getTimezoneOffset();try{var n=new Date(e.toLocaleString("en-US",{timeZone:t}));return isNaN(n.getTime())?0:(e.getTime()-n.getTime())/6e4+i}catch{return 0}},r.prototype.remove=function(e,t){return p(e)||(e=this.reverse(e,t,e.getTimezoneOffset())),e},r.prototype.reverse=function(e,t,i){typeof t=="string"&&(t=this.offset(e,t)),typeof i=="string"&&(i=this.offset(e,i));var n=e.getTimezoneOffset();e=new Date(e.getTime()+(t-i)*6e4);var s=e.getTimezoneOffset();return new Date(e.getTime()+(s-n)*6e4)},r.prototype.convert=function(e,t){var i=e.getTimezoneOffset(),n=this.offset(e,t);typeof i=="string"&&(i=this.offset(e,i)),typeof n=="string"&&(n=this.offset(e,n));var s=e.getTimezoneOffset();e=new Date(e.getTime()+(i-n)*6e4);var o=e.getTimezoneOffset();return new Date(e.getTime()+(o-s)*6e4)},r.prototype.getDateFromFormat=function(e,t){var i;if(p(e))return null;if(e instanceof Date)i=new Date(e.getTime());else{var n=this.parent.globalize.parseDate(e,{format:this.parent.getDateFormat(),type:"dateTime"});i=p(n)&&!isNaN(new Date(e).getTime())?new Date(e):n}var s=!this.parent.isOnAdded;if(!p(this.parent.timezone)&&t&&(s&&this.parent.timezone||this.parent.isLoad)){var o=this.convert(i,this.parent.timezone);return o}else return i},r.prototype.compareDates=function(e,t){return!p(e)&&!p(t)?e.getTime()>t.getTime()?1:e.getTime()<t.getTime()?-1:0:!p(e)&&p(t)?1:p(e)&&!p(t)?-1:null},r.prototype.getDurationString=function(e,t){var i="";if(!p(e)&&(i+=parseFloat(e.toFixed(2))+" ",!p(t))){var n=e!==1;t==="day"?i+=n?this.parent.localeObj.getConstant("days"):this.parent.localeObj.getConstant("day"):t==="hour"?i+=n?this.parent.localeObj.getConstant("hours"):this.parent.localeObj.getConstant("hour"):t==="minute"&&(i+=n?this.parent.localeObj.getConstant("minutes"):this.parent.localeObj.getConstant("minute"))}return i},r.prototype.getWorkString=function(e,t){var i="";if(!p(e)&&(i+=parseFloat(e).toFixed(2)+" ",!p(t))){var n=e!==1;t==="day"?i+=n?this.parent.localeObj.getConstant("days"):this.parent.localeObj.getConstant("day"):t==="hour"?i+=n?this.parent.localeObj.getConstant("hours"):this.parent.localeObj.getConstant("hour"):t==="minute"&&(i+=n?this.parent.localeObj.getConstant("minutes"):this.parent.localeObj.getConstant("minute"))}return i},r.prototype.calculateProjectDatesForValidatedTasks=function(e){var t=this,i=typeof this.parent.projectStartDate=="string"?new Date(this.parent.projectStartDate):this.parent.projectStartDate,n=typeof this.parent.projectEndDate=="string"?new Date(this.parent.projectEndDate):this.parent.projectEndDate,s=null,o=null,a=H("dataOperation.dataArray",this.parent);if((!i||!n)&&a&&a.length===0)s=this.getDateFromFormat(new Date),o=this.getDateFromFormat(new Date(s.getTime()));else if(a.length>0){var l=a.slice().sort(function(u,c){return new Date(u[t.parent.taskFields.startDate]).getTime()-new Date(c[t.parent.taskFields.startDate]).getTime()}),h=a.slice().sort(function(u,c){return new Date(c[t.parent.taskFields.endDate]).getTime()-new Date(u[t.parent.taskFields.endDate]).getTime()});s=l[0][this.parent.taskFields.startDate],o=h[h.length-1][this.parent.taskFields.endDate]}this.parent.cloneProjectStartDate=i?new Date(i.getTime()):typeof s=="string"?new Date(s):s,this.parent.cloneProjectEndDate=n?new Date(n.getTime()):typeof o=="string"?new Date(o):o},r.prototype.calculateProjectDates=function(e){var t=this;if(this.parent.isLoad&&this.parent.enablePersistence&&this.parent.cloneProjectStartDate&&this.parent.cloneProjectEndDate){this.parent.cloneProjectStartDate=this.getDateFromFormat(this.parent.cloneProjectStartDate),this.parent.cloneProjectEndDate=this.getDateFromFormat(this.parent.cloneProjectEndDate);return}var i=typeof this.parent.projectStartDate=="string"?new Date(this.parent.projectStartDate):this.parent.projectStartDate,n=typeof this.parent.projectEndDate=="string"?new Date(this.parent.projectEndDate):this.parent.projectEndDate,s=this.parent.timelineModule.isZooming&&this.parent.cloneProjectStartDate?this.getDateFromFormat(this.parent.cloneProjectStartDate):this.getDateFromFormat(i),o=this.parent.timelineModule.isZooming&&this.parent.cloneProjectEndDate?this.getDateFromFormat(this.parent.cloneProjectEndDate):this.getDateFromFormat(n),a=null,l=null,h=this.parent.flatData,u=this.parent.currentViewData,c=[],d=function(v){p(v)||c.push(v)},f=function(v){v.length>0&&(v.sort(function(M,S){return M.getTime()-S.getTime()}),a=new Date(v[0].getTime()),l=v.length>1?new Date(v[v.length-1].getTime()):null)};if((!s||!o)&&h.length>0||e||this.parent.timelineModule.isZoomToFit){var g=void 0;if(u.length>0&&this.parent.timelineModule.isZoomToFit&&this.parent.treeGrid.filterModule&&this.parent.treeGrid.filterModule.filteredResult.length>0?g=u:g=h,g.forEach(function(v){c=[];var M=v.ganttProperties,S,b;p(M.startDate)&&p(M.endDate)?(S=null,b=null):(S=t.getValidStartDate(M),b=t.getValidEndDate(M)),d(a),d(l),d(S),d(b),t.parent.renderBaseline&&!t.parent.timelineModule.isZoomToFit&&(d(M.baselineStartDate),d(M.baselineEndDate)),M.indicators&&M.indicators.length>0&&!t.parent.timelineModule.isZoomToFit&&M.indicators.forEach(function(C){d(t.getDateFromFormat(C.date))}),f(c)}),c=[],d(a),d(l),this.parent.eventMarkers.length>0&&!this.parent.timelineModule.isZoomToFit){var m=this.parent.eventMarkers;m.forEach(function(v,M){d(t.getDateFromFormat(v.day))})}if(this.parent.defaultCalendarContext.defaultHolidays.length>0&&!this.parent.timelineModule.isZoomToFit){var y=this.parent.defaultCalendarContext.defaultHolidays;y.forEach(function(v,M){d(new Date(v))})}f(c),(!a||!l)&&(a?a=p(a)?this.getDateFromFormat(new Date):a:(a=p(a)?this.getDateFromFormat(new Date):a,a.setHours(0,0,0,0)),l=this.getDateFromFormat(new Date(a.getTime())),l.setDate(l.getDate()+20))}else(!s||!o)&&h.length===0&&(a=this.getDateFromFormat(new Date),l=this.getDateFromFormat(new Date(a.getTime())));e?(Ze("minStartDate",a,e),Ze("maxEndDate",l,e)):(this.prevProjectStartDate=this.parent.cloneProjectStartDate,this.parent.cloneProjectStartDate=a?this.parent.timelineModule.isZoomToFit||p(s)?a:new Date(s.getTime()):new Date(s.getTime()),this.parent.cloneProjectEndDate=l?this.parent.timelineModule.isZoomToFit||p(o)?l:new Date(o.getTime()):new Date(o.getTime())),this.parent.isProjectDateUpdated=!0},r.prototype.splitTasksDuration=function(e){var t=0,i=e[0].startDate,n=e[e.length-1].endDate;return this.parent.timelineModule.bottomTier==="Hour"?t+=Math.ceil(this.getTimeDifference(i,n)/(1e3*60*60)):this.parent.timelineModule.bottomTier==="Minutes"?t+=Math.ceil(this.getTimeDifference(i,n)/(1e3*60)):t+=Math.ceil(this.getTimeDifference(i,n)/(1e3*60*60*24)),t},r}(),kg=function(){function r(e,t){this.defaultHolidays=[],this.exceptionsRanges=[],this.parent=e,this.calendar=t,this.initialize()}return r.prototype.initialize=function(){this.buildDefaultHolidays(),this.buildExceptionsCollection()},r.prototype.buildDefaultHolidays=function(){for(var e=this.calendar.propName==="projectCalendar"?this.parent.calendarModule.holidays:this.calendar.holidays,t=this.calendar.exceptions,i=0;i<e.length;i++)for(var n=e[i],s=n.from?new Date(n.from):new Date(n.to),o=n.to?new Date(n.to):new Date(n.from),a=new Date(s);a<=o;a.setDate(a.getDate()+1)){for(var l=new Date(a).setHours(0,0,0,0),h=!1,u=0;u<t.length;u++){var c=new Date(t[u].from).setHours(0,0,0,0);if(c===l){h=!0;break}}h||this.defaultHolidays.push(l)}},r.prototype.buildExceptionsCollection=function(){for(var e=this.calendar.exceptions,t=0;t<e.length;t++){var i=e[t],n=new Date(i.from),s=new Date(i.to),o="exception_"+t;this.exceptionsRanges.push({id:o,from:n,to:s})}},r.prototype.getExceptionForDate=function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0);for(var i=0,n=this.exceptionsRanges;i<n.length;i++){var s=n[i],o=new Date(s.from),a=new Date(s.to);if(o.setHours(0,0,0,0),a.setHours(0,0,0,0),t>=o&&t<=a)return!0}return!1},r}(),VJ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),lC=function(){return lC=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},lC.apply(this,arguments)},QJ=function(r){VJ(e,r);function e(t){var i=r.call(this,t)||this;return i.customSegmentProperties=[],i.processedParentItems=new Set,i.isBaseline=!1,i.uid=0,i.isTaskIDInteger=!0,i.cache={},i.offsetUpdateParentList=[],i.validatedGanttData=new Map,i.recordIndex=0,i.taskIds={},i.hierarchyData=[],i.addEventListener(),i}return e.prototype.addEventListener=function(){this.parent.on("beforeDataManipulate",this.checkDataBinding.bind(this))},e.prototype.checkDataBinding=function(t){var i=this;if(t&&(this.parent.flatData=[],this.parent.currentViewData=[],this.parent.updatedRecords=[],this.dataArray=[],this.taskIds={},this.parent.ids=[],this.recordIndex=0,this.hierarchyData=[],this.parent.predecessorsCollection=[],this.parent.treeGrid.parentData=[],this.parent.taskIds=[]),p(this.parent.dataSource))this.parent.dataSource=[],this.parent.processTimeline(),this.parent.renderGantt(t);else if(this.parent.dataSource instanceof fe)this.initDataSource(t);else{if(this.parent.dataSource instanceof Object&&Dp(this.parent)){var n=H("result",this.parent.dataSource);this.dataArray=n}else this.dataArray=this.parent.dataSource;this.processTimeline(),this.cloneDataSource(),this.parent.renderGantt(t),this.parent.flatData.map(function(s){i.parent.chartRowsModule.updateSegment(s.ganttProperties.segments,s.ganttProperties.taskId)})}this.parent.flatData.map(function(s){i.parent.chartRowsModule.updateSegment(s.ganttProperties.segments,s.ganttProperties.taskId)})},e.prototype.processTimeline=function(){this.parent.processTimeline(),this.parent.enableValidation||(this.parent.dataOperation.calculateProjectDatesForValidatedTasks(),this.parent.timelineModule.validateTimelineProp())},e.prototype.initDataSource=function(t){var i=this,n=this.parent.query instanceof He?this.parent.query:new He;n.requiresCount();var s=this.parent.dataSource;this.parent.loadChildOnDemand&&this.parent.taskFields.hasChildMapping?(this.processTimeline(),this.parent.renderGantt(t)):s.executeQuery(n).then(function(o){i.dataArray=o.result,i.processTimeline(),(!i.parent.loadChildOnDemand||i.parent.loadChildOnDemand&&!i.parent.taskFields.hasChildMapping)&&i.cloneDataSource(),i.parent.renderGantt(t)}).catch(function(o){i.parent.processTimeline(),i.parent.renderGantt(t),i.parent.trigger("actionFailure",{error:o})})},e.prototype.constructDataSource=function(t){for(var i=new fe(t).executeLocal(new He().group(this.parent.taskFields.parentID)),n=[],s,o=0;o<i.length;o++){var a=i[o];if(!p(a.key)){var l=a.key.toString();if(s=this.taskIds[l]!==void 0?this.taskIds[l]:-1,s>-1&&!p(a.key)){t[s][this.parent.taskFields.child]=a.items;continue}}(s!==-1||this.parent.loadChildOnDemand&&this.parent.taskFields.hasChildMapping)&&n.push.apply(n,a.items)}this.hierarchyData=this.dataReorder(t,n)},e.prototype.cloneDataSource=function(){var t=this.parent.taskFields.id,i=this.parent.taskFields.parentID,n=[];if(!p(t)&&!p(i)){var s=[],o=void 0;this.parent.loadChildOnDemand&&this.parent.taskFields.hasChildMapping&&!this.parent.enableVirtualization&&(o=JSON.parse(JSON.stringify(this.dataArray)));for(var a=0;a<this.dataArray.length;a++){var l=this.dataArray[a];if(l.parentItem&&delete l.parentItem,s.push(ie({},{},l,!0)),!p(l[t])){var h=l[t].toString();this.taskIds[h]=a}}this.parent.taskFields.child||this.parent.setProperties({taskFields:{child:"Children"}},!0),p(o)?this.constructDataSource(s):(this.constructDataSource(this.dataArray),this.dataArray=o),n=this.hierarchyData}else n=this.dataArray;if(this.parent.taskFields.segmentId&&(this.segmentCollection=new fe(this.parent.segmentData).executeLocal(new He().group(this.parent.taskFields.segmentId)),this.parent.taskFields.segments||(this.parent.taskFields.segments="Segments")),this.parent.viewType!=="ProjectView"){var u=ie([],[],this.parent.resources,!0),c=[];if(this.constructResourceViewDataSource(u,n,c),c.length>0){var d={},f=this.parent.resourceFields.name||"resourceName";d[this.parent.resourceFields.id]=0,d[f]=this.parent.localeObj.getConstant("unassignedTask"),d[this.parent.taskFields.child]=c,u.push(d)}n=u}this.prepareDataSource(n)},e.prototype.constructResourceViewDataSource=function(t,i,n){for(var s=function(l){var h=i[l],u=o.parent.taskFields.child!==null?o.parent.taskFields.child:o.parent.taskFields.child="Children",c=h&&h[o.parent.taskFields.resourceInfo],d=o.parent.resourceFields.id;if((!h[u]||h[u].length===0)&&c&&c.length)if(typeof c=="string"){o.isResourceString=!0;for(var f=c,g=0;g<t.length;g++)if(t[g][d].toString()===f.toString()){t[g][u]?t[g][u].push(h):t[g][u]=[h];break}}else c.forEach(function(m){for(var y=typeof m=="object"?m[d]:m,v=0;v<t.length;v++)if(t[v][d].toString()===y.toString()){t[v][u]?t[v][u].push(h):t[v][u]=[h];break}});else(!h[u]||h[u]&&h[u].length===0)&&n.push(h);h[o.parent.taskFields.child]&&h[o.parent.taskFields.child].length&&o.constructResourceViewDataSource(t,h[o.parent.taskFields.child],n)},o=this,a=0;a<i.length;a++)s(a)},e.prototype.prepareDataSource=function(t){this.prepareRecordCollection(t,0),this.parent.initialLoadData=ie({},{},this.parent.flatData,!0),(!this.parent.autoCalculateDateScheduling||this.parent.isLoad&&this.parent.treeGrid.loadChildOnDemand&&this.parent.taskFields.hasChildMapping)&&(this.parent.dataMap=this.parent.flatData.reduce(function(i,n){return i.set(n.uniqueID,n),i},new Map)),this.parent.viewType==="ResourceView"&&this.calculateSharedTaskUniqueIds(),this.parent.taskFields.dependency&&this.parent.predecessorModule&&this.parent.predecessorModule.ensurePredecessorCollection()},e.prototype.calculateSharedTaskUniqueIds=function(){for(var t=function(s){var o=[];if(o[0]=i.parent.getTaskIds()[s][0],o[1]=i.parent.getTaskIds()[s].slice(1),o[0]!=="R"){var a=[],l=[];i.parent.flatData.filter(function(u){u.ganttProperties.taskId.toString()===o[1]&&u.level!==0&&(l.push(u.ganttProperties.rowUniqueID),a.push(u))});for(var h=0;h<a.length;h++)a[h].ganttProperties.sharedTaskUniqueIds=l}},i=this,n=0;n<this.parent.getTaskIds().length;n++)t(n)},e.prototype.appendGanttRecord=function(t){this.parent.flatData.push(t)},e.prototype.prepareRecordCollection=function(t,i,n){var s=this;if(Array.isArray(t)){var o=this.parent.taskFields,a=o.hasChildMapping,l=o.segmentId,h=o.constraintDate,u=o.constraintType,c=this.parent.enableValidation;this.parent.autoCalculateDateScheduling;var d=this.parent.isLoad,f=this.parent.treeGrid.loadChildOnDemand,g=this.parent.viewType,m=this.parent.allowParentDependency,y=this.parent.dataSource instanceof Object&&Dp(this.parent)&&!p(o.child);t.forEach(function(v){if(l&&s.segmentCollection){var M=s.segmentCollection.find(function(k){return k.key===v[o.id]});M&&M.items&&M.items.length&&(v[o.segments]=M.items)}a&&v.parentUniqueID&&(n=s.parent.getTaskByUniqueID(v.parentUniqueID)),h&&u&&!v.constraintDate&&!v[u]&&(v[u]=0,v[h]=v[o.startDate]||v[o.endDate]);var S=s.createRecord(v,i,n,!0,y);(!c||d&&f&&a)&&s.updateTaskLeftWidth(S),S.index=s.recordIndex++,s.parent.ids[S.index]=S.ganttProperties.rowUniqueID,s.appendGanttRecord(S),s.parent.setTaskIds(S);var b=v[o.child]||v.taskData&&v.taskData[o.child];if(g==="ResourceView"&&(!b||b.length===0)&&!S.parentItem&&S.level===0){var C=S.ganttProperties,T=S;s.parent.setRecordValue(C.isAutoSchedule?"startDate":"autoStartDate",null,C,!0),s.parent.setRecordValue(C.isAutoSchedule?"endDate":"autoEndDate",null,C,!0),s.parent.setRecordValue("isMilestone",!1,C,!0),C.isAutoSchedule&&s.calculateDuration(T),s.updateWorkWithDuration(T),s.parent.setRecordValue("work",C.work,C,!0),s.parent.setRecordValue("taskType","FixedDuration",C,!0),o.type&&s.updateMappingData(T,"type"),s.parent.setRecordValue("progress",0,C,!0),s.parent.setRecordValue("totalProgress",0,C,!0),s.parent.setRecordValue("totalDuration",0,C,!0),C.isAutoSchedule||(s.parent.setRecordValue("autoDuration",s.calculateAutoDuration(C),C,!0),s.updateAutoWidthLeft(T)),m||s.resetDependency(T),s.updateWidthLeft(T),s.updateTaskData(T)}a&&(n=null),b&&b.length>0&&s.prepareRecordCollection(b,S.level+1,S)})}},e.prototype.addCustomFieldValue=function(t,i,n){var s=this.parent.ganttColumns,o=s.length;if(o)for(var a=0;a<o;a++){var l=s[a],h=i[l.field];h===void 0&&(n?i[l.field]=t[l.field]!==void 0?t[l.field]:null:this.parent.setRecordValue(l.field,t[l.field],i))}var u=this.parent.taskFields.calendarId;if(u){var c=t[u];c!==void 0&&(n?i[u]=c:this.parent.setRecordValue(u,c,i))}},e.prototype.getGanttUid=function(t){return""+t+this.uid++},e.prototype.processCustomColumns=function(t){var i=this;!this.parent.customColumns||this.parent.customColumns.length===0||this.parent.customColumns.forEach(function(n){var s=i.parent.getColumnByField(n,i.parent.ganttColumns);if(s&&s.type==="date"||s.type==="datetime"){var o=t[n];if(o==null)return;var a=typeof o=="string"&&i.isValidDateString(o),l=o instanceof Date&&!isNaN(o.getTime());if(a||l){var h=a?new Date(o):o;t[n]=i.getDateFromFormat(h,!0)}}})},e.prototype.isValidDateString=function(t){var i=t.trim();return!i||/^\d+$/.test(i)?!1:!isNaN(Date.parse(i))},e.prototype.createRecord=function(t,i,n,s,o){var a=this.parent.taskFields,l=this.parent.resourceFields,h=t[a.progress],u=null,c=null,d=t[a.notes];h=h&&parseFloat(h.toString())?parseFloat(h.toString()):0,h=100<h?100:h;var f=t[a.dependency],g=this.getDateFromFormat(t[a.baselineStartDate],!0),m=this.getDateFromFormat(t[a.baselineEndDate],!0);this.processCustomColumns(t);var y,v;this.parent.loadChildOnDemand&&a.hasChildMapping&&!this.parent.enableVirtualization?(y=t,v=JSON.parse(JSON.stringify(t))):y={};var M={},S=this.parent.taskMode==="Auto"?!0:this.parent.taskMode==="Manual"?!1:t[a.manual]!==!0;if(this.parent.setRecordValue("ganttProperties",M,y),t.ganttProperties&&t.ganttProperties.predecessor&&t.ganttProperties.predecessor.length>0&&this.parent.undoRedoModule&&this.parent.undoRedoModule.isUndoRedoPerformed&&this.parent.setRecordValue("predecessor",t.ganttProperties.predecessor,M,!0),p(t[a.id]))p(t[l.id])||(u=t[l.id],p(t[l.name])&&t.resourceName==="Unassigned Task"?c=t.resourceName:c=t[l.name],this.addTaskData(y,t,!1));else{u=t[a.id],typeof u!="number"&&!/^-?\d+$/.test(u)&&(this.isTaskIDInteger=!1),c=t[a.name];var b=!!(this.parent.loadChildOnDemand&&a.hasChildMapping&&t.taskData);b?y.taskData=t.taskData:t.taskData&&t.ganttProperties?this.addTaskData(y,t.taskData,s):this.addTaskData(y,t,s)}if(this.parent.setRecordValue("taskId",u,M,!0),this.parent.setRecordValue("taskName",c,M,!0),a.calendarId){(t[a.child]||a.parentID&&t.Children)&&t[a.calendarId]&&(t[a.calendarId]=void 0);var C=t[a.calendarId];this.parent.setRecordValue("calendarId",C,M,!0),C&&(S||(C=void 0));var T=this.parent.calendarModule.getCalendarById(C),k=new kg(this.parent,T);this.parent.setRecordValue("calendarContext",k,M,!0)}else{var T=this.parent.calendarSettings.projectCalendar,k=new kg(this.parent,T);this.parent.setRecordValue("calendarContext",k,M,!0)}this.parent&&a.parentID&&this.parent.setRecordValue("parentId",t[a.parentID],M,!0),this.addCustomFieldValue(t,y,s),this.parent.setRecordValue("isAutoSchedule",S,M,!0),!this.parent.undoRedoModule||this.parent.undoRedoModule&&!this.parent.undoRedoModule.isUndoRedoPerformed?this.parent.setRecordValue("resourceInfo",this.setResourceInfo(t),M,!0):t.ganttProperties&&this.parent.setRecordValue("resourceInfo",t.ganttProperties.resourceInfo,M,!0),this.parent.setRecordValue("isMilestone",!1,M,!0),this.parent.setRecordValue("indicators",t[a.indicators],M,!0),this.updateResourceName(y),!p(t[a.child])&&t[a.child].length>0||t.taskData&&t.taskData[a.child]&&t.taskData[a.child].length>0?(this.parent.setRecordValue("hasChildRecords",!0,y),this.parent.setRecordValue("isMilestone",!1,M,!0),this.parent.allowParentDependency||this.resetDependency(y)):this.parent.loadChildOnDemand&&a.hasChildMapping&&y.taskData[a.hasChildMapping]?this.parent.setRecordValue("hasChildRecords",!0,y):this.parent.setRecordValue("hasChildRecords",!1,y);var N=t[a.constraintType];if(y.hasChildRecords?N&&N!==0&&N!==4&&N!==7&&(t[a.constraintType]=0):N&&(N<0||N>7)&&(t[a.constraintType]=0),this.parent.setRecordValue("constraintType",t[a.constraintType],M,!0),this.parent.setRecordValue("constraintDate",t[a.constraintDate],M,!0),s||(this.parent.setRecordValue("baselineStartDate",this.checkBaselineStartDate(g,M),M,!0),t[a.baselineEndDate]?this.parent.setRecordValue("baselineEndDate",t[a.baselineEndDate],M,!0):this.parent.setRecordValue("baselineEndDate",this.checkBaselineEndDate(m,M),M,!0)),this.calculateScheduledValues(y,t,s),this.calculateScheduledValuesforBaseline(y,t,s),this.parent.setRecordValue("progress",h,M,!0),this.parent.setRecordValue("totalProgress",h,M,!0),t.ganttProperties&&t.ganttProperties.predecessorsName&&this.parent.undoRedoModule&&this.parent.undoRedoModule.isUndoRedoPerformed?this.parent.setRecordValue("predecessorsName",t.ganttProperties.predecessorsName,M,!0):this.parent.setRecordValue("predecessorsName",f,M,!0),this.parent.setRecordValue("notes",d,M,!0),this.parent.setRecordValue("cssClass",t[a.cssClass],M,!0),this.parent.setRecordValue("parentItem",this.getCloneParent(n),y),this.parent.loadChildOnDemand&&a.hasChildMapping&&this.parent.currentViewData.length>0){var A=this.taskIds[t[a.id].toString()];this.parent.setRecordValue("parentItem",y.parentItem,this.parent.currentViewData[A])}var E=y.parentItem?y.parentItem.uniqueID:null;if(this.parent.setRecordValue("parentUniqueID",E,y),this.parent.viewType==="ResourceView"&&!p(a.parentID)&&!p(y.parentItem)&&this.parent.setRecordValue("parentId",y.parentItem.taskId,M,!0),this.parent.setRecordValue("level",i,y),t.ganttProperties&&this.parent.undoRedoModule&&this.parent.undoRedoModule.isUndoRedoPerformed?this.parent.setRecordValue("uniqueID",t.uniqueID,y):this.parent.loadChildOnDemand&&a.hasChildMapping&&t.uniqueID?this.parent.setRecordValue("uniqueID",t.uniqueID,y):this.parent.setRecordValue("uniqueID",this.getGanttUid(this.parent.element.id+"_data_"),y),this.parent.setRecordValue("uniqueID",y.uniqueID,M,!0),this.parent.setRecordValue("childRecords",[],y),o&&this.parent.setRecordValue(a.child,[],y),y.hasChildRecords&&(this.parent.setRecordValue("autoStartDate",y.ganttProperties.startDate,M),this.parent.setRecordValue("autoEndDate",y.ganttProperties.endDate,M),this.parent.setRecordValue("autoDuration",y.ganttProperties.duration,M)),this.parent.setRecordValue("expanded",!(y.hasChildRecords&&this.parent.collapseAllParentTasks),y),p(v)?this.updateExpandStateMappingValue(y,t):this.updateExpandStateMappingValue(y,v),s||(this.parent.setRecordValue("width",this.calculateWidth(y),M,!0),this.parent.setRecordValue("left",this.calculateLeft(M,y),M,!0),this.parent.setRecordValue("progressWidth",this.getProgressWidth(M.width,h),M,!0),M.baselineEndDate&&M.baselineStartDate&&(this.parent.setRecordValue("baselineLeft",this.calculateBaselineLeft(M),M,!0),this.parent.setRecordValue("baselineWidth",this.calculateBaselineWidth(M),M,!0))),p(a.work)&&this.updateWorkWithDuration(y),p(a.manual)||this.parent.dataOperation.updateMappingData(y,"manual"),this.updateTaskData(y),f&&this.parent.predecessorsCollection.push(y),p(n)||(n.childRecords.push(y),o&&n[this.parent.taskFields.child].push(y.taskData)),this.parent.viewType==="ProjectView")this.parent.setRecordValue("rowUniqueID",M.taskId.toString(),M,!0);else{var x=y.uniqueID.replace(this.parent.element.id+"_data_","");this.parent.setRecordValue("rowUniqueID",x,y),this.parent.setRecordValue("rowUniqueID",x,M,!0),this.parent.setRecordValue("sharedTaskUniqueIds",[],M,!0)}return this.parent.allowUnscheduledTasks&&y.ganttProperties.startDate&&(y.ganttProperties.endDate||y.ganttProperties.duration)&&(this.parent.taskFields.segments&&(this.parent.setRecordValue("segments",this.setSegmentsInfo(y,!0),M,!0),this.parent.dataOperation.updateMappingData(y,"segments")),s||this.updateWidthLeft(y)),this.parent.chartRowsModule.updateSegment(y.ganttProperties.segments,y.ganttProperties.taskId),y},e.prototype.getValidatedTaskData=function(){for(var t=this.parent.taskFields,i=[],n=Array.from(this.validatedGanttData.values()),s=0,o=n;s<o.length;s++){var a=o[s];if(a.taskData){var l=lC({},a.taskData),h=a.ganttProperties;l[t.startDate]&&(l[t.startDate]=h.startDate),l[t.endDate]&&(l[t.endDate]=h.endDate),l[t.duration]&&(l[t.duration]=h.duration),l[t.work]&&(l[t.work]=h.work),l[t.progress]&&(l[t.progress]=h.progress),l[t.constraintType]&&(l[t.constraintType]=h.constraintType),l[t.constraintDate]&&(l[t.constraintDate]=h.constraintDate),l[t.segments]&&(l[t.segments]=a[t.segments]),l[t.baselineStartDate]&&(l[t.baselineStartDate]=h.baselineStartDate),l[t.baselineEndDate]&&(l[t.baselineEndDate]=h.baselineEndDate),i.push(l)}}return i},e.prototype.sortSegmentsData=function(t,i,n){var s=this;return i?t.sort(function(o,a){var l=s.parent.taskFields.startDate;return s.getDateFromFormat(o[l]).getTime()-s.getDateFromFormat(a[l]).getTime()}):t.sort(function(o,a){return o.startDate.getTime()-a.startDate.getTime()}),t},e.prototype.setSegmentsInfo=function(t,i){var n=this,s=this.parent.taskFields,o=[],a,l=0,h=0,u=0,c=[this.parent.taskFields.duration,this.parent.taskFields.endDate,this.parent.taskFields.startDate,this.parent.taskFields.id],d=[],f=t.ganttProperties.calendarContext;if(!p(this.parent.taskFields.segments)&&(a=i?t.taskData[this.parent.taskFields.segments]:t.ganttProperties.segments,i||t.taskData[this.parent.taskFields.segments]&&t.taskData[this.parent.taskFields.segments].length>0&&t.taskData[this.parent.taskFields.segments].forEach(function(N){var A={};for(var E in N)c.indexOf(E)!==-1?N[E]:A[E]=N[E];n.customSegmentProperties.push(A)}),!p(a)&&a.length>1)){this.sortSegmentsData(a,i,t.ganttProperties);for(var g=0;g<a.length;g++){var m=a[g],y=i?m[s.startDate]:m.startDate,v=i?m[s.endDate]:m.endDate,M=i?m[s.duration]:m.duration;if(y=this.getDateFromFormat(y),y=this.checkStartDate(y,t.ganttProperties,!1),p(M)){if(v=this.getDateFromFormat(v),v&&(p(M)||String(M)==="")){var S=void 0;this.parent.weekWorkingTime.length>0?S=this.parent.getEndTime(v):S=this.parent.defaultEndTime,v.getHours()===0&&S!==86400&&this.setTime(S,v)}if(v=this.checkEndDate(v,t.ganttProperties,!1),M=this.getDuration(y,v,t.ganttProperties.durationUnit,t.ganttProperties.isAutoSchedule,t.ganttProperties.isMilestone,void 0,f),p(o[g-1])||(u+=this.getDuration(o[g-1].endDate,y,t.ganttProperties.durationUnit,t.ganttProperties.isAutoSchedule,t.ganttProperties.isMilestone,void 0,f),u=u<1?1:u),s.duration){if(h=t.ganttProperties.duration-l-u,h<=0)continue;M=g===a.length-1||h>0&&M>h?h:M,v=this.getEndDate(y,M,t.ganttProperties.durationUnit,t.ganttProperties,!1)}else if(!s.duration&&s.endDate&&v&&(M=this.getDuration(y,v,t.ganttProperties.durationUnit,t.ganttProperties.isAutoSchedule,t.ganttProperties.isMilestone,void 0,f),o.length>0&&v.getTime()<y.getTime()&&v.getTime()<=t.ganttProperties.endDate.getTime())){o[g-1].duration=this.getDuration(o[g-1].startDate,t.ganttProperties.endDate,t.ganttProperties.durationUnit,t.ganttProperties.isAutoSchedule,t.ganttProperties.isMilestone,void 0,f);continue}}else if(v=this.getEndDate(y,M,t.ganttProperties.durationUnit,t.ganttProperties,!1),s.duration){if(h=t.ganttProperties.duration-l,h<=0)continue;M=g===a.length-1||h>0&&M>h?h:M,v=this.getEndDate(y,M,t.ganttProperties.durationUnit,t.ganttProperties,!1)}else if(!s.duration&&s.endDate&&v&&(v=!p(t.ganttProperties.endDate)&&v.getTime()>=t.ganttProperties.endDate.getTime()&&g===a.length-1?t.ganttProperties.endDate:v,M=this.getDuration(y,v,t.ganttProperties.durationUnit,t.ganttProperties.isAutoSchedule,t.ganttProperties.isMilestone,void 0,f),o.length>0&&v.getTime()<y.getTime()&&v.getTime()<=t.ganttProperties.endDate.getTime())){o[g-1].duration=this.getDuration(o[g-1].startDate,t.ganttProperties.endDate,t.ganttProperties.durationUnit,t.ganttProperties.isAutoSchedule,t.ganttProperties.isMilestone,void 0,f);continue}if(m={},!(y&&v)||!(y&&!p(M)))break;if(l+=Number(M),m.startDate=y,m.endDate=v,m.duration=Number(M),m.width=0,m.left=0,m.segmentIndex=g,o.push(m),p(o[g-1]))m.offsetDuration=0;else{var b=void 0;p(this.parent.timelineSettings.bottomTier)?b=t.ganttProperties.durationUnit:this.parent.timelineSettings.bottomTier.unit==="Minutes"?b="minute":this.parent.timelineSettings.bottomTier.unit==="Hour"?b="hour":b=t.ganttProperties.durationUnit;var C=this.getDuration(o[g-1].endDate,o[g].startDate,b,t.ganttProperties.isAutoSchedule,t.ganttProperties.isMilestone,void 0,f);if(m.offsetDuration=C,C<1){if(this.parent.weekWorkingTime.length===0)m.startDate=this.getEndDate(o[g-1].endDate,1,t.ganttProperties.durationUnit,t.ganttProperties,!1);else{var T=new Date(o[g-1].endDate.getTime());if(m.startDate=new Date(T.setHours(T.getHours()+24)),this.isOnHolidayOrWeekEnd(m.startDate,!0,f))do m.startDate.setDate(m.startDate.getDate()+1);while(this.isOnHolidayOrWeekEnd(m.startDate,!0,f));(!this.parent.includeWeekend||f.exceptionsRanges.length===0)&&(m.startDate=this.getNextWorkingDay(m.startDate,f));var S=this.parent.getEndTime(o[g-1].endDate);this.getSecondsInDecimal(o[g-1].endDate)===S&&this.setTime(this.parent.getEndTime(m.startDate),m.startDate)}m.startDate=this.checkStartDate(m.startDate,t.ganttProperties,!1),m.endDate=this.getEndDate(m.startDate,m.duration,t.ganttProperties.durationUnit,t.ganttProperties,!1),m.endDate=!s.duration&&s.endDate&&m.endDate>t.ganttProperties.endDate?t.ganttProperties.endDate:m.endDate,m.offsetDuration=1}}var k=t[this.parent.taskFields.segments]?t[this.parent.taskFields.segments]:a;d.push(this.setSegmentTaskData(m,k[g]))}this.parent.setRecordValue("duration",l,t.ganttProperties,!0),p(o[o.length-1])||this.parent.setRecordValue("endDate",o[o.length-1].endDate,t.ganttProperties,!0),!p(s.endDate)&&!p(o[o.length-1])&&this.parent.setRecordValue(this.parent.taskFields.endDate,o[o.length-1].endDate,t,!0),!i&&d&&d.length>0&&d.forEach(function(N,A){var E=Object.assign({},N,n.customSegmentProperties[A]);d[A]=E}),this.parent.setRecordValue("taskData."+this.parent.taskFields.segments,d,t)}return o.length>1?(this.parent.setRecordValue("segments",o,t.ganttProperties,!0),this.parent.setRecordValue(this.parent.taskFields.segments,t.taskData[this.parent.taskFields.segments],t,!0)):o=null,o},e.prototype.setSegmentTaskData=function(t,i){var n=this.parent.taskFields,s=ie({},{},i,!0);return p(n.startDate)||(s[this.parent.taskFields.startDate]=t.startDate),p(n.endDate)||(s[this.parent.taskFields.endDate]=t.endDate),p(n.duration)||(s[this.parent.taskFields.duration]=Number(t.duration)),s},e.prototype.fetchResources=function(t){return this.parent.editModule&&this.parent.editModule.dialogModule&&(this.parent.editModule.dialogModule.isFromAddDialog||this.parent.editModule.dialogModule.isFromEditDialog)?this.parent.editModule.dialogModule.ganttResources:t.ganttProperties.resourceInfo},e.prototype.updateWorkWithDuration=function(t){if(!(this.parent.triggeredColumnName===this.parent.taskFields.work&&t.ganttProperties.duration!==0&&(p(t.ganttProperties.resourceInfo)||t.ganttProperties.resourceInfo.length!==0)&&!t.hasChildRecords)){var i=this.fetchResources(t),n=0,s;if(!p(i)&&i.length>0&&!t.hasChildRecords){var o=i.length,a=void 0,l=void 0,h=void 0;this.parent.weekWorkingTime.length>0?h=this.parent.getSecondsPerDay(t.ganttProperties.startDate?t.ganttProperties.startDate:t.ganttProperties.endDate):h=this.parent.secondsPerDay;var u=h/3600,c=this.getDurationInDay(t.ganttProperties.duration,t.ganttProperties.durationUnit);for(a=0;a<o;a++)l=i[a][this.parent.resourceFields.unit],l>0&&(s=u*l/100,n+=s*c);t.ganttProperties.workUnit==="minute"&&(n=n*60),t.ganttProperties.workUnit==="day"&&(n=n/u),n%1!==0&&(n=parseFloat(n.toFixed(2)))}else!t.hasChildRecords&&!p(t.ganttProperties.work)&&!p(t.ganttProperties.duration)&&t.ganttProperties.duration>0&&(n=t.ganttProperties.work);if(t.childRecords&&t.childRecords.length>0&&this.parent.isOnEdit){for(var d=0,f=0;f<t.childRecords.length;f++)d+=t.childRecords[f].ganttProperties.work;n+=d}t.ganttProperties.taskType==="FixedUnit"&&s===0&&(n=0,this.parent.setRecordValue("duration",0,t.ganttProperties,!0),p(this.parent.taskFields.duration)||this.parent.setRecordValue(this.parent.taskFields.duration,0,t,!0)),this.parent.setRecordValue("work",n,t.ganttProperties,!0),this.parent.autoCalculateDateScheduling&&this.parent.isLoad&&!p(t[this.parent.taskFields.work])&&n!==t[this.parent.taskFields.work]&&this.parent.taskType==="FixedDuration"&&this.validatedGanttData.set(t.ganttProperties.taskId,t),!p(this.parent.taskFields.work)&&!this.parent.isLoad&&this.parent.dataOperation.updateMappingData(t,"work")}},e.prototype.getCloneParent=function(t){if(p(t))return null;var i={};return i.uniqueID=t.uniqueID,i.expanded=t.expanded,i.level=t.level,i.index=t.index,i.taskId=t.ganttProperties.rowUniqueID,i},e.prototype.reUpdateResources=function(){if(this.parent.flatData.length>0)for(var t=void 0,i=void 0,n=void 0,s=0;s<this.parent.flatData.length;s++)t=this.parent.flatData[s].taskData,i=this.parent.flatData[s].ganttProperties,n=this.parent.flatData[s],this.parent.setRecordValue("resourceInfo",this.setResourceInfo(t),i,!0),this.updateResourceName(n)},e.prototype.addTaskData=function(t,i,n){var s=this,o=this.parent.taskFields,a=this.parent.dataSource;if(n)if(o.parentID||a instanceof fe&&a.dataSource.json&&a.dataSource.offline)if(o.parentID){var l=i[o.id],h=this.taskIds[l.toString()],u=h>-1?this.dataArray[h]:{};if(!p(this.parent.taskFields.segmentId)){var c=this.segmentCollection.filter(function(d){return d.key===u[s.parent.taskFields.id]});c.length>0&&(u[this.parent.taskFields.segments]=c[0].items)}this.parent.setRecordValue("taskData",u,t)}else this.parent.setRecordValue("taskData",i,t);else this.parent.setRecordValue("taskData",i,t);else this.parent.setRecordValue("taskData",i,t)},e.prototype.updateExpandStateMappingValue=function(t,i){var n=this.parent.taskFields.expandState,s=i[n],o;n&&t.hasChildRecords&&(p(s)?p(s)&&!this.parent.collapseAllParentTasks?o=!0:p(s)&&this.parent.collapseAllParentTasks&&(o=!1):(o=s.toString()==="true",this.parent.loadChildOnDemand&&this.parent.taskFields.hasChildMapping&&!this.parent.enableVirtualization&&i.expanded&&(o=!0)),this.parent.setRecordValue("taskData."+n,o,t),this.parent.setRecordValue(n,o,t),this.parent.setRecordValue("expanded",o,t))},e.prototype.setValidatedDates=function(t,i){var n=t.ganttProperties,s=this.parent.taskFields,o=i[s.duration],a=this.getDateFromFormat(i[s.startDate],!0),l=this.getDateFromFormat(i[s.endDate],!0);o=p(o)||o===""?null:o,this.parent.setRecordValue("startDate",new Date(a.getTime()),n,!0),!p(o)&&o!==""?this.updateDurationValue(o,n):this.calculateDuration(t),this.parent.setRecordValue("endDate",new Date(l.getTime()),n,!0)},e.prototype.calculateScheduledValues=function(t,i,n){var s=this.parent.taskFields,o=t.ganttProperties,a=i[s.duration];a=p(a)||a===""?null:a;var l,h;o.startDate&&o.endDate?(l=this.getDateFromFormat(o.startDate,!0),h=this.getDateFromFormat(o.endDate,!0)):(l=this.getDateFromFormat(i[s.startDate],!0),h=this.getDateFromFormat(i[s.endDate],!0));var u=s.segments?i[s.segments]||t.taskData[s.segments]:null,c=s.milestone?!!i[s.milestone]:!1,d=i[s.durationUnit]?i[s.durationUnit]:"";n?o.durationUnit=this.validateDurationUnitMapping(d):this.parent.setRecordValue("durationUnit",this.validateDurationUnitMapping(d),o,!0);var f=p(i[s.work])?0:parseFloat(i[s.work]);n?o.workUnit=this.validateWorkUnitMapping(this.parent.workUnit):this.parent.setRecordValue("workUnit",this.validateWorkUnitMapping(this.parent.workUnit),o,!0);var g=i[s.type]?i[s.type]:"",m=this.validateTaskTypeMapping(g);n?o.taskType=m:this.parent.setRecordValue("taskType",m,o,!0);var y=i[this.parent.resourceFields.name]===this.parent.localeObj.getConstant("unassignedTask");if(y&&(n?o.taskType="FixedDuration":this.parent.setRecordValue("taskType","FixedDuration",o,!0)),n&&!this.parent.enableValidation&&l&&h)this.setValidatedDates(t,i);else{if(!h&&!l&&(p(a)||a==="")){if(this.parent.allowUnscheduledTasks)return;n?(o.duration=1,o.startDate=this.getProjectStartDate(o,n)):(this.parent.setRecordValue("duration",1,o,!0),this.parent.setRecordValue("startDate",this.getProjectStartDate(o,n),o,!0)),this.calculateEndDate(t)}else if(l)this.calculateDateFromStartDate(l,h,a,t,n);else if(h)this.calculateDateFromEndDate(h,a,t);else if(!p(a)&&a!==""){this.updateDurationValue(a,o);var v=this.parent.allowUnscheduledTasks?null:this.getProjectStartDate(o,n);n?(o.startDate=v,this.parent.allowUnscheduledTasks?o.endDate=null:this.calculateEndDate(t)):(this.parent.setRecordValue("startDate",v,o,!0),this.parent.allowUnscheduledTasks?this.parent.setRecordValue("endDate",null,o,!0):this.calculateEndDate(t))}if(this.parent.taskFields.constraintDate&&this.parent.taskFields.constraintType&&!t[this.parent.taskFields.dependency]){var M=this.getDateByConstraint(o,o.startDate);if(n){var S=o.startDate;o.startDate=M,this.calculateEndDate(t);var b=o.constraintType,C=this.parent.predecessorModule.getConstraintDate(b,o.startDate,o.endDate,o.constraintDate);o.constraintDate=C,this.parent.autoCalculateDateScheduling&&S.getTime()!==M.getTime()&&this.validatedGanttData.set(t.ganttProperties.taskId,t)}else{this.parent.setRecordValue("startDate",M,o,!0),this.calculateEndDate(t);var b=o.constraintType,C=this.parent.predecessorModule.getConstraintDate(b,o.startDate,o.endDate,o.constraintDate);this.parent.setRecordValue("constraintDate",C,o,!0)}}}if((!this.parent.autoCalculateDateScheduling||this.parent.isLoad&&this.parent.treeGrid.loadChildOnDemand&&this.parent.taskFields.hasChildMapping)&&(!p(t.ganttProperties.startDate)&&!p(this.parent.taskFields.startDate)&&(t[this.parent.taskFields.startDate]=t.ganttProperties.startDate,t.taskData[this.parent.taskFields.startDate]=t.ganttProperties.startDate),!p(t.ganttProperties.endDate)&&!p(this.parent.taskFields.endDate)&&(t[this.parent.taskFields.endDate]=t.ganttProperties.endDate,t.taskData[this.parent.taskFields.endDate]=t.ganttProperties.endDate)),p(s.work))s.type&&o.taskType&&this.parent.dataOperation.updateMappingData(t,"type");else{var T=this.parent.taskFields.durationUnit&&i[s.durationUnit]?i[s.durationUnit]:this.parent.durationUnit;if(n?o.durationUnit=this.validateDurationUnitMapping(T):o.durationUnit=this.validateDurationUnitMapping(T),isNaN(f)||p(f))n?(o.work=0,o.duration=0,o.isMilestone=!0,!p(this.parent.taskFields)&&!p(this.parent.taskFields.milestone)&&(t[this.parent.taskFields.milestone]=!0),o.endDate=o.startDate):(this.parent.setRecordValue("work",0,o,!0),this.parent.setRecordValue("duration",0,o,!0),this.parent.setRecordValue("isMilestone",!0,o,!0),!p(this.parent.taskFields)&&!p(this.parent.taskFields.milestone)&&this.parent.setRecordValue(this.parent.taskFields.milestone,!0,t,!0),this.parent.setRecordValue("endDate",o.startDate,o,!0));else{if(n?o.work=f:this.parent.setRecordValue("work",f,o,!0),!this.parent.undoRedoModule||this.parent.undoRedoModule&&!this.parent.undoRedoModule.isUndoRedoPerformed)switch(m){case"FixedDuration":(!p(t[this.parent.taskFields.resourceInfo])&&!p(t.ganttProperties.resourceInfo)&&t.ganttProperties.resourceInfo.length!==0||o.duration===0)&&this.updateWorkWithDuration(t);break;case"FixedWork":(!p(t[this.parent.taskFields.resourceInfo])&&!p(t.ganttProperties.resourceInfo)&&t.ganttProperties.resourceInfo.length!==0||o.work===0)&&this.updateDurationWithWork(t);break;case"FixedUnit":t.hasChildRecords||this.updateDurationWithWork(t);break}p(s.type)||this.parent.dataOperation.updateMappingData(t,"type"),o.duration===0?n?(o.isMilestone=!0,!p(this.parent.taskFields)&&!p(this.parent.taskFields.milestone)&&(t[this.parent.taskFields.milestone]=!0),o.endDate=o.startDate):(this.parent.setRecordValue("isMilestone",!0,o,!0),!p(this.parent.taskFields)&&!p(this.parent.taskFields.milestone)&&this.parent.setRecordValue(this.parent.taskFields.milestone,!0,t,!0),this.parent.setRecordValue("endDate",o.startDate,o,!0)):!p(o.startDate)&&!p(o.duration)&&(n?(o.isMilestone=!1,!p(this.parent.taskFields)&&!p(this.parent.taskFields.milestone)&&(t[this.parent.taskFields.milestone]=!1),this.calculateEndDate(t)):(this.parent.setRecordValue("isMilestone",!1,o,!0),!p(this.parent.taskFields)&&!p(this.parent.taskFields.milestone)&&this.parent.setRecordValue(this.parent.taskFields.milestone,!1,t,!0),this.calculateEndDate(t)))}this.parent.dataOperation.updateMappingData(t,"work")}p(u)||(n?o.segments=this.setSegmentsInfo(t,!0):this.parent.setRecordValue("segments",this.setSegmentsInfo(t,!0),o,!0)),o.duration===0&&(n?(o.isMilestone=!0,!p(this.parent.taskFields)&&!p(this.parent.taskFields.milestone)&&(t[this.parent.taskFields.milestone]=!0),o.endDate=o.startDate):(this.parent.setRecordValue("isMilestone",!0,o,!0),!p(this.parent.taskFields)&&!p(this.parent.taskFields.milestone)&&this.parent.setRecordValue(this.parent.taskFields.milestone,!0,t,!0),this.parent.setRecordValue("endDate",o.startDate,o,!0))),!p(c)&&c&&(n?(o.duration=0,o.isMilestone=!0,!p(this.parent.taskFields)&&!p(this.parent.taskFields.milestone)&&(t[this.parent.taskFields.milestone]=!0),o.endDate=o.startDate):(this.parent.setRecordValue("duration",0,o,!0),this.parent.setRecordValue("isMilestone",!0,o,!0),!p(this.parent.taskFields)&&!p(this.parent.taskFields.milestone)&&this.parent.setRecordValue(this.parent.taskFields.milestone,!0,t,!0),this.parent.setRecordValue("endDate",o.startDate,o,!0)))},e.prototype.calculateScheduledValuesforBaseline=function(t,i,n){var s=this.parent.taskFields,o=t.ganttProperties,a=i[s.baselineDuration];a=p(a)||a===""?null:a;var l=this.getDateFromFormat(i[s.baselineStartDate],!0),h=this.getDateFromFormat(i[s.baselineEndDate],!0);if(l)this.calculateDateFromStartDateforBaseline(l,h,a,t,n);else if(h)this.calculateDateFromEndDateforBaseline(h,a,t,!0);else if(!p(a)&&a!==""){this.updateDurationValue(a,o,!0);var u=this.getProjectStartDate(o,n);this.parent.setRecordValue("baselineStartDate",u,o,!0),this.calculateEndDate(t,!0)}},e.prototype.calculateDateFromStartDateforBaseline=function(t,i,n,s,o){var a=s.ganttProperties,l=parseInt(n,10)===0||t&&i&&new Date(t.getTime())===new Date(i.getTime())?!0:null;if(this.parent.setRecordValue("baselineStartDate",this.checkStartDate(t,a,l,o,!0),a,!0),!i&&(p(n)||n===""))this.parent.setRecordValue("baselineDuration",1,a,!0),this.calculateEndDate(s,!0);else if(!p(n)&&!i)this.updateDurationValue(n,a,!0),this.calculateEndDate(s,!0);else if(!p(i)&&(p(n)||n==="")){var h=void 0;this.parent.weekWorkingTime.length>0&&i?h=this.parent.getEndTime(i):h=this.parent.defaultEndTime,i&&i.getHours()===0&&h!==86400&&this.setTime(h,i),(a.baselineStartDate&&i&&a.baselineStartDate.getTime()>i.getTime()||!p(a.baselineStartDate)&&!p(a.startDate)&&a.baselineStartDate.getTime()===a.startDate.getTime()&&!p(i)&&!p(a.endDate)&&i.toLocaleDateString()===a.endDate.toLocaleDateString()&&a.isMilestone)&&(i=a.baselineStartDate),this.parent.setRecordValue("baselineEndDate",this.checkBaselineEndDate(i,a),a,!0),this.compareDates(a.baselineStartDate,a.baselineEndDate)===1?(this.parent.setRecordValue("baselineEndDate",a.baselineStartDate,a,!0),this.parent.setRecordValue("baselineDuration",0,a,!0)):this.calculateDuration(s,!0)}else this.updateDurationValue(n,a,!0),this.parent.autoCalculateDateScheduling&&!(this.parent.isLoad&&this.parent.treeGrid.loadChildOnDemand&&this.parent.taskFields.hasChildMapping)?this.calculateEndDate(s,!0):this.parent.setRecordValue("baselineEndDate",i,a,!0)},e.prototype.calculateDateFromEndDateforBaseline=function(t,i,n,s){var o=n.ganttProperties,a;this.parent.weekWorkingTime.length>0?a=this.parent.getEndTime(t):a=this.parent.defaultEndTime,t.getHours()===0&&a!==86400&&this.setTime(a,t);var l=parseInt(i,10)===0?!0:null;this.parent.setRecordValue("baselineEndDate",this.checkEndDate(t,n.ganttProperties,l,!0),o,!0),p(i)||i===""?(this.parent.setRecordValue("baselineDuration",1,o,!0),this.parent.setRecordValue("baselineStartDate",this.getStartDate(o.baselineEndDate,o.duration,o.durationUnit,o),o,!0)):!p(i)&&i!==""&&(this.updateDurationValue(i,o,s),this.parent.setRecordValue("baselineStartDate",this.getStartDate(o.endDate,o.duration,o.durationUnit,o,!0),o,!0))},e.prototype.updateDurationWithWork=function(t){var i=t.ganttProperties,n=this.fetchResources(t);if(!p(n)&&n.length>0){var s=p(n)?0:n.length,o=0,a=void 0;this.parent.weekWorkingTime.length>0?a=this.parent.getSecondsPerDay(t.ganttProperties.startDate?t.ganttProperties.startDate:t.ganttProperties.endDate):a=this.parent.secondsPerDay;var l=a/3600,h=0,u=void 0,c=void 0;for(c=0;c<s;c++)u=n[c][this.parent.resourceFields.unit],o+=u>0?l*u/100:t.ganttProperties.taskType!=="FixedUnit"&&i.taskType!=="FixedWork"&&i.duration!==0?l:0;var d=this.getWorkInHour(i.work,i.workUnit);s>0&&o>0&&(h+=d/o),i.taskType==="FixedUnit"&&o===0&&(this.parent.setRecordValue("work",0,i,!0),this.parent.setRecordValue(this.parent.taskFields.work,0,t,!0)),i.durationUnit==="minute"&&(h=h*l*60),i.durationUnit==="hour"&&(h=h*l),h%1!==0&&(h=parseFloat(h.toFixed(2))),p(i.duration)||this.parent.setRecordValue("duration",h,i,!0),this.parent.autoCalculateDateScheduling&&this.parent.isLoad&&!p(t[this.parent.taskFields.duration])&&h!==t[this.parent.taskFields.duration]&&(this.parent.taskType==="FixedWork"||this.parent.taskType==="FixedUnit")&&this.validatedGanttData.set(t.ganttProperties.taskId,t),this.parent.dataOperation.updateMappingData(t,"duration")}},e.prototype.updateUnitWithWork=function(t){var i=t.ganttProperties,n=this.fetchResources(t),s=p(n)?0:n.length,o;this.parent.weekWorkingTime.length>0?o=this.parent.getSecondsPerDay(t.ganttProperties.startDate?t.ganttProperties.startDate:t.ganttProperties.endDate):o=this.parent.secondsPerDay;var a=o/3600;if(s!==0){var l=this.getDurationInDay(t.ganttProperties.duration,t.ganttProperties.durationUnit),h=this.getWorkInHour(i.work,i.workUnit),u=l>0?h/(l*a)*100:0,c=u===0?0:u>0?u/s:100;c%1!==0&&(c=parseFloat(c.toFixed(2)));for(var d=0;d<s;d++)n[d][this.parent.resourceFields.unit]=c,!this.parent.isLoad&&!p(this.parent.editModule)&&!p(this.parent.editModule.dialogModule)&&!this.parent.editModule.dialogModule.isEdit&&!p(this.parent.editModule.cellEditModule)&&!this.parent.editModule.cellEditModule.isCellEdit&&i.resourceInfo&&(i.resourceInfo[d][this.parent.resourceFields.unit]=c),this.parent.editModule&&this.parent.editModule.dialogModule&&!p(this.parent.editModule.dialogModule.ganttResources[d])&&(this.parent.editModule.dialogModule.ganttResources[d][this.parent.resourceFields.unit]=c);this.updateResourceName(t)}},e.prototype.resolveAndApplyWorkingTimes=function(t,i){var n={},s=this.parent.weekWorkingTime.length>0;if(t){var o=s?this.parent.getStartTime(t):this.parent.defaultStartTime;n.startTime=o,t.getHours()===0&&this.setTime(o,t)}if(i){var a=s?this.parent.getEndTime(i):this.parent.defaultEndTime;n.endTime=a,i.getHours()===0&&a!==86400&&this.setTime(a,i)}return n},e.prototype.calculateDateFromEndDate=function(t,i,n){var s=n.ganttProperties;this.resolveAndApplyWorkingTimes(null,t);var o=parseInt(i,10)===0?!0:null,a=new Date(t.getTime()),l=this.checkEndDate(t,n.ganttProperties,o);this.parent.autoCalculateDateScheduling&&this.parent.isLoad&&a.getTime()!==l.getTime()&&p(i)&&!n.hasChildRecords&&this.validatedGanttData.set(n.ganttProperties.taskId,n),this.parent.setRecordValue("endDate",l,s,!0),p(i)||i===""?this.parent.allowUnscheduledTasks?(this.parent.setRecordValue("startDate",null,s,!0),this.parent.setRecordValue("duration",null,s,!0)):(this.parent.setRecordValue("duration",1,s,!0),this.parent.setRecordValue("startDate",this.getStartDate(s.endDate,s.duration,s.durationUnit,s),s,!0)):!p(i)&&i!==""&&(this.updateDurationValue(i,s),this.parent.setRecordValue("startDate",this.getStartDate(s.endDate,s.duration,s.durationUnit,s),s,!0))},e.prototype.calculateDateFromStartDate=function(t,i,n,s,o){var a=s.ganttProperties,l=parseInt(n,10)===0||t&&i&&new Date(t.getTime())===new Date(i.getTime())?!0:null,h=this.checkStartDate(t,a,l,o),u,c=new Date(t.getTime());if(c.getHours()===0&&this.resolveAndApplyWorkingTimes(c),this.parent.setRecordValue("startDate",this.checkStartDate(t,a,l,o),a,!0),!i&&(p(n)||n===""))this.parent.allowUnscheduledTasks?(this.parent.setRecordValue("endDate",null,a,!0),this.parent.setRecordValue("duration",null,a,!0)):(this.parent.setRecordValue("duration",1,a,!0),this.calculateEndDate(s)),this.parent.autoCalculateDateScheduling&&this.parent.isLoad&&p(i)&&p(n)&&!s.hasChildRecords&&c.getTime()!==h.getTime()&&this.validatedGanttData.set(s.ganttProperties.taskId,s);else if(!p(n)&&!i)this.updateDurationValue(n,a),this.calculateEndDate(s);else if(i&&(p(n)||n==="")){if(this.resolveAndApplyWorkingTimes(null,i),u=this.checkEndDate(i,s.ganttProperties),this.parent.autoCalculateDateScheduling&&this.parent.isLoad&&!p(t&&i)&&p(n)&&!s.hasChildRecords){var d=new Date(i.getTime());(d.getTime()!==u.getTime()||c.getTime()!==h.getTime())&&this.validatedGanttData.set(s.ganttProperties.taskId,s)}this.parent.setRecordValue("endDate",u,a,!0),this.compareDates(a.startDate,a.endDate)===1?(this.parent.setRecordValue("endDate",a.startDate,a,!0),this.parent.setRecordValue("isMilestone",!0,a,!0),this.parent.setRecordValue("duration",0,a,!0)):this.calculateDuration(s)}else{if(this.updateDurationValue(n,a),this.parent.autoCalculateDateScheduling&&this.parent.isLoad&&!p(t&&i&&n)&&!s.hasChildRecords){var f=new Date(t.getTime()),g=new Date(i.getTime()),m=this.parent.dataOperation.getDurationAsSeconds(a.duration,a.durationUnit,t),y=this.parent.dataOperation.calculateEndDateFromDuration(f,m,a,l,a.calendarContext,!1,a.isAutoSchedule);this.resolveAndApplyWorkingTimes(f,g);var v=this.parent.dataOperation.getEndDate(f,a.duration,a.durationUnit,a,!1);(v.getTime()!==y.getTime()||h.getTime()!==f.getTime()||v.getTime()!==g.getTime())&&this.validatedGanttData.set(s.ganttProperties.taskId,s)}this.parent.autoCalculateDateScheduling&&!(this.parent.isLoad&&this.parent.treeGrid.loadChildOnDemand&&this.parent.taskFields.hasChildMapping)?this.calculateEndDate(s):(this.setTime(this.parent.getCurrentDayEndTime(i),i),this.parent.setRecordValue("endDate",i,a,!0))}this.parent.isTreeGridRendered&&s&&this.updateTaskData(s)},e.prototype.getProgressWidth=function(t,i){return t*i/100},e.prototype.calculateWidth=function(t,i){var n=t.ganttProperties,s=i?n.autoStartDate:n.startDate,o=i?n.autoEndDate:n.endDate,a=3;if(p(s)&&p(o)){s=this.getValidStartDate(n,i),o=this.getValidEndDate(n,i);var l=this.getDuration(s,o,n.durationUnit,!1,n.isMilestone,!0,void 0);this.parent.autoCalculateDateScheduling&&this.parent.isLoad&&!p(n.duration)&&n.duration!==l&&this.validatedGanttData.set(t.ganttProperties.taskId,t)}return p(s)||p(o)?a:n.isMilestone&&(!t.hasChildRecords||n.isAutoSchedule)?0:this.getTaskWidth(s,o,n)},e.prototype.getTaskbarHeight=function(){var t=this.parent.rowHeight,i=this.parent.taskbarHeight;return i<t?i:t},e.prototype.calculateLeft=function(t,i,n){var s=null,o=-300,a=n?t.autoStartDate:t.startDate,l=n?t.autoEndDate:t.endDate,h=n?t.autoDuration:t.duration,u=t.isMilestone;if(i&&this.parent.allowUnscheduledTasks&&p(a)&&p(l)&&!p(h)&&!i.hasChildRecords&&i.parentItem&&(this.parent.taskMode==="Manual"||this.parent.taskMode==="Custom"&&i[this.parent.taskFields.manual])){var c=this.parent.getParentTask(i.parentItem);c.ganttProperties.startDate&&(a=c.ganttProperties.startDate)}return a?s=new Date(a.getTime()):l?(s=new Date(l.getTime()),u=!(p(a)&&this.parent.allowUnscheduledTasks)):s=this.getValidStartDate(t),p(s)||(o=this.getTaskLeft(s,u,t.calendarContext)),o},e.prototype.calculateAutoLeft=function(t){return this.getTaskLeft(t.autoStartDate,t.isMilestone,t.calendarContext)},e.prototype.calculateAutoDuration=function(t){return this.getDuration(t.autoStartDate,t.autoEndDate,t.durationUnit,!1,t.isMilestone,void 0,t.calendarContext)},e.prototype.calculateAutoWidth=function(t){return this.getTaskWidth(t.autoStartDate,t.autoEndDate)},e.prototype.calculateBaselineLeft=function(t){var i=this.getDateFromFormat(t.baselineStartDate),n=this.getDateFromFormat(t.baselineEndDate);return i&&n?(i.getTime()>n.getTime()&&(n=i),this.getTaskLeft(i,t.isMilestone,t.calendarContext)):0},e.prototype.calculateBaselineWidth=function(t){var i=this.getDateFromFormat(t.baselineStartDate),n=this.getDateFromFormat(t.baselineEndDate);return i&&n&&i.getTime()!==n.getTime()?(this.isBaseline=!0,i.getTime()>n.getTime()&&(t.baselineEndDate=i,n=i),this.getTaskWidth(i,n)):0},e.prototype.getTaskWidth=function(t,i,n){var s=new Date(t.getTime()),o=new Date(i.getTime()),a=this.parent.timelineModule.customTimelineSettings.bottomTier.unit!=="None"?this.parent.timelineModule.customTimelineSettings.bottomTier.unit:this.parent.timelineModule.customTimelineSettings.topTier.unit;this.parent.timelineModule.customTimelineSettings;var l=!1,h=new Date(t.getTime()),u=0,c=n?n.calendarContext:this.parent.defaultCalendarContext;if(!p(n)&&n.durationUnit==="hour"&&(h=new Date(h.getTime()+n.duration*60*60*1e3)),(!p(n)&&n.durationUnit==="minute"||!p(n)&&n.durationUnit==="day"&&n.duration<1)&&(h=new Date(h.getTime()+n.duration*60*1e3)),this.isBaseline&&a==="Day"){var d=this.getDuration(s,o,"day",!0,!1,void 0,c);if(this.isBaseline=!1,d>0&&d<1)return d*this.parent.perDayWidth}var f=this.parent.calendarModule.workingTime;if(this.parent.weekWorkingTime.length>0)for(var g=new Date(t.getTime()),m=t.getDate();m<=i.getDate();m++){var y=g.getDay(),v=void 0,M=this.parent.weekWorkingTime;switch(y){case 0:v="Sunday";break;case 1:v="Monday";break;case 2:v="Tuesday";break;case 3:v="Wednesday";break;case 4:v="Thursday";break;case 5:v="Friday";break;case 6:v="Saturday";break;default:v=""}for(var S=!0,b=0;b<M.length;b++)if(M[b][v]&&M[b][v].length>0){S=!1;for(var C=0;C<M[b][v].length;C++)u=u+M[b][v][C].to-M[b][v][C].from}if(S)for(var T=0;T<f.length;T++)u=u+f[T].to-f[T].from;g=new Date(g.setDate(g.getDate()+1)),(!this.parent.includeWeekend||c.exceptionsRanges.length===0)&&(g=this.parent.dataOperation.getNextWorkingDay(g,c))}else for(var b=0;b<f.length;b++)u=u+f[b].to-f[b].from;var k=h.getTime()-s.getTime(),N,A;if(!p(n)&&n.durationUnit==="minute"&&n.duration<u*60||!p(n)&&n.durationUnit==="day"&&!p(n.duration)&&/^\d+\.\d+$/.test(n.duration.toString())){if(a==="Day"?(this.parent.weekWorkingTime.length>0?(N=this.parent.getStartTime(s),A=this.parent.getEndTime(o)):(N=this.parent.defaultStartTime,A=this.parent.defaultEndTime),(Math.floor(k/(1e3*60*60)%24)>=u||k===0)&&(l=!0),this.getSecondsInDecimal(s)===N&&l&&s.setHours(0,0,0,0),this.getSecondsInDecimal(o)===A&&l&&o.setHours(24),this.getSecondsInDecimal(o)===N&&o.setHours(0,0,0,0)):l=!0,s.getTime()===o.getTime())return this.parent.perDayWidth;if(l)if(this.parent.taskFields.duration&&n.durationUnit==="day"&&/^\d+\.\d+$/.test(n.duration.toString())&&this.parent.timelineModule.bottomTier==="Day"&&p(n.segments)){var E=c.defaultHolidays&&c.defaultHolidays.length>0?this.getHolidaysCount(s,o,c):0,x=!this.parent.includeWeekend||c.exceptionsRanges.length===0?this.getWeekendCount(s,o,c):0;return this.hasDSTTransition(s.getFullYear())?this.getTimeDifference(s,o,!0)/(1e3*60*60*24)*this.parent.perDayWidth:this.parent.timelineSettings.showWeekend?(E+x+n.duration)*this.parent.perDayWidth:(E+n.duration)*this.parent.perDayWidth}else return this.getTimeDifference(s,o,!0)/(1e3*60*60*24)*this.parent.perDayWidth;else{var D=!1,z=function(W,J,K,le){var me=new Date(W),pe=new Date(J);if(isNaN(me.getTime())||isNaN(pe.getTime())||K<=0||le<=0)return!1;var P=new Date(me),ve=K*le,X=Math.floor(ve/le),De=ve%le;return P.setDate(P.getDate()+X),P.setHours(P.getHours()+De),P.getTime()!==pe.getTime()&&Math.abs((P.getTime()-pe.getTime())/(1e3*60*60*24))>1};return D=z(s,o,n.duration,u),n.durationUnit==="day"&&n.duration<1&&!D?n.duration*this.parent.perDayWidth:this.hasDSTTransition(s.getFullYear())||s.getTimezoneOffset()===-180?this.getTimeDifference(s,o,!0)/(1e3*60*60*24)*this.parent.perDayWidth:this.getTimeDifference(s,o)/(1e3*60*60*u)*this.parent.perDayWidth}}else{if(a==="Day"&&(this.parent.weekWorkingTime.length>0?(N=this.parent.getStartTime(s),A=this.parent.getEndTime(o)):(N=this.parent.defaultStartTime,A=this.parent.defaultEndTime),this.getSecondsInDecimal(s)===N&&s.setHours(0,0,0,0),this.getSecondsInDecimal(o)===A&&(o.setHours(24),o.setHours(0,0,0,0)),this.getSecondsInDecimal(o)===N&&o.setHours(0,0,0,0)),s.getTime()===o.getTime())return this.parent.perDayWidth;if(this.hasDSTTransition(s.getFullYear())){var w=0,O=0;this.parent.timelineSettings.showWeekend||(w=this.parent.timelineModule.calculateNonWorkingDaysBetweenDates(s,o),w>0&&(O=w*(1e3*60*60*24)));var L=(ns(o)-ns(s)-O)/6e4*(this.parent.perDayWidth/24)/60;return L}else{var j=this.getTimeDifference(s,o)/864e5;if(this.parent.timelineSettings.showWeekend)return j*this.parent.perDayWidth;var B=new Date(s.getTime()),V=this.parent.timelineModule.calculateNonWorkingDaysBetweenDates(B,o),ee=j-V;return ee*this.parent.perDayWidth}}},e.prototype.getDSTTransitions=function(t,i){function n(l,h){var u=new Date(Date.UTC(l,h+1,0)),c=new Date(Date.UTC(l,h,u.getUTCDate()-u.getUTCDay()));return c}function s(l,h){var u=new Intl.DateTimeFormat("en-US",{timeZone:h,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),c=u.format(l),d=c.match(/\d+/g).map(Number),f=d[0],g=d[1],m=d[2],y=d[3],v=d[4],M=d[5];return new Date(m,f-1,g,y,v,M)}var o=n(t,2),a=n(t,9);return{dstStart:s(o,i),dstEnd:s(a,i)}},e.prototype.hasDSTTransition=function(t){if(t in this.cache)return this.cache[t];for(var i=0,n=11,s=new Date(t,i,1).getTimezoneOffset();i<=n;){var o=Math.floor((i+n)/2),a=new Date(t,o,1).getTimezoneOffset();if(a!==s)return this.cache[t]=!0,!0;a>s?n=o-1:i=o+1}return this.cache[t]=!1,!1},e.prototype.getTaskLeft=function(t,i,n,s){var o=!1,a=new Date(t.getTime()),l=this.parent.timelineModule.customTimelineSettings.bottomTier.unit!=="None"?this.parent.timelineModule.customTimelineSettings.bottomTier.unit:this.parent.timelineModule.customTimelineSettings.topTier.unit;if(l==="Day"){var h=void 0,u=void 0;this.parent.weekWorkingTime.length>0?(h=this.parent.getStartTime(a),u=this.parent.getEndTime(a)):(h=this.parent.defaultStartTime,u=this.parent.defaultEndTime),this.getSecondsInDecimal(a)===h?a.setHours(0,0,0,0):i&&this.getSecondsInDecimal(a)===u?(a.setHours(24),o=!0):this.getSecondsInDecimal(a)===u&&this.parent.allowUnscheduledTasks&&(a.setHours(22),o=!0)}var c;this.parent.enableTimelineVirtualization&&(this.parent.isLoad||s)&&!this.parent.timelineModule.performedTimeSpanAction&&(c=this.parent.enableTimelineVirtualization&&this.parent.ganttChartModule.scrollObject.element.scrollLeft!==0?this.parent.ganttChartModule.scrollObject.getTimelineLeft():null);var d=p(c)?this.parent.timelineModule.timelineStartDate?new Date(this.parent.timelineModule.timelineStartDate):null:new Date(this.parent.timelineModule.dateByLeftValue(c).toString());if(d){var f=void 0;if(this.hasDSTTransition(t.getFullYear()),this.hasDSTTransition(a.getFullYear()))return this.parent.timelineSettings.showWeekend?f=(ns(a)-ns(d))/6e4*(this.parent.perDayWidth/24)/60:f=this.calculateLeftValue(d,a),f;var g=void 0;if(this.parent.timelineModule.bottomTier==="Day"&&this.getSecondsInDecimal(a)!==this.parent.defaultStartTime&&this.getSecondsInDecimal(a)!==0&&!o&&!this.parent.isFromEventMarker){var m=new Date(t.getTime()),y=new Date(m.setHours(0,0,0,0)),v=this.getDuration(y,t,"day",!0,!1,void 0,n);g=v*this.parent.perDayWidth,a.setHours(0,0,0,0),this.parent.timelineSettings.showWeekend?f=(a.getTime()-d.getTime())/(1e3*60*60*24)*this.parent.perDayWidth:f=this.calculateLeftValue(d,a),this.getSecondsInDecimal(t)!==this.parent.defaultStartTime&&this.parent.timelineModule.bottomTier==="Day"&&(f+=g)}else this.parent.timelineSettings.showWeekend?f=(a.getTime()-d.getTime())/(1e3*60*60*24)*this.parent.perDayWidth:f=this.calculateLeftValue(d,a);return f}else return 0},e.prototype.calculateLeftValue=function(t,i){var n=new Date(this.parent.timelineModule.timelineStartDate.getTime());i.setHours(0,0,0,0);var s=this.parent.timelineModule.calculateNonWorkingDaysBetweenDates(n,i),o;this.hasDSTTransition(i.getFullYear())?o=ns(i)-ns(t):o=i.getTime()-t.getTime();var a=s*24*60*60*1e3,l=o-a,h=l/(1e3*60*60*24)*this.parent.perDayWidth;return h},e.prototype.getSplitTaskWidth=function(t,i,n){var s=new Date(t.getTime()),o=new Date(this.getEndDate(s,i,n.ganttProperties.durationUnit,n.ganttProperties,!1).getTime()),a=this.parent.timelineModule.bottomTier!=="None"?this.parent.timelineModule.bottomTier:this.parent.timelineModule.topTier;if(a==="Day"){var l=void 0,h=void 0;this.parent.weekWorkingTime.length>0?(l=this.parent.getStartTime(s),h=this.parent.getEndTime(o)):(l=this.parent.defaultStartTime,h=this.parent.defaultEndTime),this.getSecondsInDecimal(s)===l&&s.setHours(0,0,0,0),this.getSecondsInDecimal(o)===h&&o.setHours(24),this.getSecondsInDecimal(o)===l&&o.setHours(0,0,0,0)}if(this.parent.timelineSettings.showWeekend)return this.getTimeDifference(s,o)/(1e3*60*60*24)*this.parent.perDayWidth;var u=new Date(s.getTime()),c=this.parent.timelineModule.calculateNonWorkingDaysBetweenDates(u,o),d=o.getTime()-s.getTime(),f=c*24*60*60*1e3,g=d-f;return g/(1e3*60*60*24)*this.parent.perDayWidth},e.prototype.getSplitTaskLeft=function(t,i){var n=new Date(t.getTime()),s=this.parent.timelineModule.bottomTier!=="None"?this.parent.timelineModule.bottomTier:this.parent.timelineModule.topTier;if(s==="Day"){var o=void 0,a=void 0;this.parent.weekWorkingTime.length>0?(o=this.parent.getStartTime(n),a=this.parent.getStartTime(i)):a=o=this.parent.defaultStartTime,this.getSecondsInDecimal(n)===o&&n.setHours(0,0,0,0),this.getSecondsInDecimal(i)===a&&i.setHours(0,0,0,0)}if(i){var l=0,h=0;if(!this.parent.timelineSettings.showWeekend){var u=new Date(i.getTime()),c=new Date(n.getTime());l=this.parent.timelineModule.calculateNonWorkingDaysBetweenDates(u,c),l>0&&(h=l*(1e3*60*60*24))}return(n.getTime()-i.getTime()-h)/(1e3*60*60*24)*this.parent.perDayWidth}else return 0},e.prototype.updateMappingData=function(t,i){var n=this.parent.columnMapping,s=t.ganttProperties;if(!(p(n[i])&&i!=="taskType"&&i!=="segments")&&i!=="predecessorName")if(i==="resourceInfo"){var o=s.resourceInfo,a=this.parent.resourceFields,l=[],h=[];if(!p(o))for(var u=0;u<o.length;u++){l.push(o[u][a.id]);var c=o[u][a.name],d=o[u][a.unit];d!==100&&(c+="["+d+"%]"),c&&h.push(c)}this.parent.setRecordValue("resourceNames",h.join(","),s,!0),this.isResourceString?(t.taskData[this.parent.taskFields.resourceInfo]&&t.taskData[this.parent.taskFields.resourceInfo][0]&&(t.taskData[this.parent.taskFields.resourceInfo]=t.taskData[this.parent.taskFields.resourceInfo][0][a.name]),this.updateTaskDataResource(t)):this.updateTaskDataResource(t),this.parent.setRecordValue(n[i],h.join(","),t)}else i==="startDate"||i==="endDate"?this.setRecordDate(t,s[i],n[i]):i==="duration"?this.setRecordDuration(t,n[i]):i==="baselineStartDate"||i==="baselineEndDate"?this.setRecordDate(t,s[i],n[i]):i==="baselineDuration"?this.setRecordDuration(t,n[i],!0):i==="work"?(this.parent.setRecordValue("taskData."+n[i],s.work,t),this.parent.setRecordValue(n[i],s[i],t)):i==="type"?(this.parent.setRecordValue("taskData."+n[i],s.taskType,t),this.parent.setRecordValue(n[i],s.taskType,t)):i==="manual"?(this.parent.setRecordValue("taskData."+n[i],!s.isAutoSchedule,t),this.parent.setRecordValue(n[i],!s.isAutoSchedule,t)):i==="segments"?this.parent.setRecordValue("taskData."+this.parent.taskFields.segments,this.segmentTaskData(t),t):(this.parent.setRecordValue("taskData."+n[i],s[i],t),this.parent.setRecordValue(n[i],s[i],t))},e.prototype.segmentTaskData=function(t){var i=this,n=t.ganttProperties.segments,s=this.parent.taskFields;if(p(n))return null;for(var o=ie([],[],t.taskData[s.segments],!0),a=0;a<n.length;a++)(this.parent.isEdit||this.parent.editModule&&this.parent.editModule.dialogModule&&H("isEdit",this.parent.editModule.dialogModule)||this.parent.contextMenuModule&&H("isEdit",this.parent.contextMenuModule))&&(o[a]={}),p(s.startDate)||(o[a][this.parent.taskFields.startDate]=n[a].startDate),p(s.endDate)||(o[a][this.parent.taskFields.endDate]=n[a].endDate),p(s.duration)||(o[a][this.parent.taskFields.duration]=Number(n[a].duration));return this.customSegmentProperties.length>0&&o&&o.length>0&&o.forEach(function(l,h){var u=Object.assign({},l,i.customSegmentProperties[h]);o[h]=u}),o},e.prototype.updateTaskDataResource=function(t){var i=t.ganttProperties.resourceInfo,n=t.taskData[this.parent.taskFields.resourceInfo];typeof n=="string"&&(n=[parseInt(t.taskData[this.parent.taskFields.resourceInfo],10)]);var s=this.parent.resourceFields;if(p(n))t.taskData[this.parent.taskFields.resourceInfo]=i;else if(i&&i.length){for(var o=0;o<i.length;o++){var a=!1;if(typeof n=="string"){if(typeof n=="string"&&n===i[o][s.name]){n=i[o][s.name],a=!0;break}}else for(var l=0;l<n.length;l++)if(typeof n[l]=="number"||typeof n[l]=="string"){if(parseInt(n[l],10)===parseInt(i[o][s.id],10)){n[l]=i[o],a=!0;break}}else if(n[l][s.id]===i[o][s.id]&&typeof n[l]!="number"){n[l]=ie({},n[l],i[o],!0),a=!0;break}a||(typeof n=="string"?n=i[o][s.name]:n.push(i[o]))}var h=[];if(!p(n))if(typeof n!="string"){for(var u=function(d){i.filter(function(f){f[s.id]===n[d][s.id]&&h.indexOf(n[d])===-1&&h.push(n[d])})},c=0;c<n.length;c++)u(c);this.parent.setRecordValue("taskData."+this.parent.taskFields.resourceInfo,h,t)}else this.parent.setRecordValue("taskData."+this.parent.taskFields.resourceInfo,n,t)}else this.parent.setRecordValue("taskData."+this.parent.taskFields.resourceInfo,[],t)},e.prototype.setRecordDate=function(t,i,n){var s=typeof i=="string"?new Date(i):i;p(i)||(i=new Date(s.getTime())),this.parent.setRecordValue(n,i,t),p(i)||(i=new Date(s.getTime())),!this.parent.isLoad&&!this.parent.isDynamicData&&this.parent.setRecordValue("taskData."+n,i,t),this.parent.isDynamicData=!1},e.prototype.getDurationInDay=function(t,i){return i==="day"?t:i==="hour"?t/(this.parent.secondsPerDay/3600):t/(this.parent.secondsPerDay/60)},e.prototype.setRecordDuration=function(t,i,n){var s=n?t.ganttProperties.baselineDuration:t.ganttProperties.duration,o=t.ganttProperties.durationUnit;if(p(s))this.parent.setRecordValue(i,s,t),this.parent.setRecordValue("taskData."+i,s,t);else{this.parent.setRecordValue(i,s,t);var a=H(i,t.taskData);isNaN(a)&&p(this.parent.taskFields.durationUnit)&&!p(a)?this.parent.setRecordValue("taskData."+i,this.getDurationString(s,o),t):(!p(a)||!this.parent.isLoad)&&(typeof a=="string"?this.parent.setRecordValue("taskData."+i,s.toString(),t):this.parent.setRecordValue("taskData."+i,s,t))}this.parent.taskFields.durationUnit&&(t.taskData[this.parent.taskFields.durationUnit]=t.ganttProperties.durationUnit)},e.prototype.setDataSource=function(t){var i,n=[];Array.isArray(t)&&(i=t);for(var s=i.length,o=0;o<s;o++){var a=t[o];n.push(a),p(t[o][this.parent.taskFields.child])||this.setDataSource(t[o][this.parent.taskFields.child])}return n},e.prototype.setStartDate=function(t){var i=this,n=[];!p(this.parent.taskFields.parentID)&&!p(this.parent.taskFields.id)?n=this.setDataSource(this.parent.dataSource):n=this.parent.dataSource,n.map(function(s){t.ganttProperties.taskId===s[i.parent.taskFields.id]&&(p(i.parent.taskFields.startDate)||(t[i.parent.taskFields.startDate]=s[i.parent.taskFields.startDate]),p(i.parent.taskFields.endDate)||(t[i.parent.taskFields.endDate]=s[i.parent.taskFields.endDate]))})},e.prototype.getWorkInHour=function(t,i){return i==="day"?t*(this.parent.secondsPerDay/3600):i==="minute"?t/60:t},e.prototype.updateTaskData=function(t){var i=this.parent.taskFields,n=t.ganttProperties;if(!p(t.taskData)){var s=t.taskData;if(i.id&&(this.parent.setRecordValue("taskData."+i.id,n.taskId,t),this.parent.setRecordValue(i.id,n.taskId,t)),i.name&&(this.parent.isLoad||this.parent.setRecordValue("taskData."+i.name,n.taskName,t),this.parent.setRecordValue(i.name,n.taskName,t)),i.startDate?this.setRecordDate(t,n.startDate,i.startDate):this.setRecordDate(t,n.startDate,"StartDate"),i.endDate?this.setRecordDate(t,n.endDate,i.endDate):this.setRecordDate(t,n.endDate,"EndDate"),i.duration&&(p(i.milestone)||!p(i.milestone)&&!t.taskData[i.milestone])&&this.setRecordDuration(t,i.duration),i.durationUnit&&(s[i.durationUnit]=n.durationUnit),i.progress&&(this.parent.isLoad||this.parent.setRecordValue("taskData."+i.progress,n.progress,t),this.parent.setRecordValue(i.progress,n.progress,t)),i.baselineStartDate&&this.setRecordDate(t,n.baselineStartDate,i.baselineStartDate),i.baselineEndDate&&this.setRecordDate(t,n.baselineEndDate,i.baselineEndDate),i.baselineDuration&&this.setRecordDuration(t,i.baselineDuration,!0),i.notes&&(this.parent.isLoad||this.parent.setRecordValue("taskData."+i.notes,n.notes,t),this.parent.setRecordValue(i.notes,n.notes,t)),i.cssClass&&(this.parent.isLoad||this.parent.setRecordValue("taskData."+i.cssClass,n.cssClass,t),this.parent.setRecordValue(i.cssClass,n.cssClass,t)),i.indicators&&(this.parent.isLoad||this.parent.setRecordValue("taskData."+i.indicators,n.indicators,t),this.parent.setRecordValue(i.indicators,n.indicators,t)),i.parentID){var o=this.parent.viewType==="ProjectView"?n.parentId:s[i.parentID];this.parent.setRecordValue("taskData."+i.parentID,o,t),this.parent.setRecordValue(i.parentID,n.parentId,t)}i.work&&(this.parent.isLoad||this.parent.setRecordValue("taskData."+i.work,n.work,t),this.parent.setRecordValue(i.work,n.work,t)),i.type&&(this.parent.setRecordValue("taskData."+i.type,n.taskType,t),this.parent.setRecordValue(i.type,n.taskType,t)),i.constraintDate&&this.setRecordDate(t,n.constraintDate,i.constraintDate),i.constraintType&&(this.parent.isLoad||this.parent.setRecordValue("taskData."+i.constraintType,n.constraintType,t),this.parent.setRecordValue(i.constraintType,n.constraintType,t))}},e.prototype.setResourceInfo=function(t){var i=null;if(p(t[this.parent.taskFields.resourceInfo]))return i;this.parent.isLoad?i=t[this.parent.taskFields.resourceInfo]:i=t.taskData&&this.parent.taskFields.resourceInfo in t.taskData?t.taskData[this.parent.taskFields.resourceInfo]:t[this.parent.taskFields.resourceInfo];var n;!p(this.parent.editModule)&&!p(this.parent.editModule.dialogModule)&&this.parent.editModule.dialogModule.isAddNewResource?n=this.parent.editModule.dialogModule.ganttResources:n=this.parent.resources;var s=this.parent.resourceFields.id,o=this.parent.resourceFields.unit,a=this.parent.resourceFields.group,l=[];if(typeof i=="string"&&i!==""){var h=[],u=t[this.parent.taskFields.resourceInfo].split(",");if(u){n.forEach(function(g){u.includes(g[s].toString())&&h.push(g)});var c=ie({},h[0]);l.push(c),!p(o)&&!p(i[o])&&(c[o]=i[o]),!p(a)&&!p(i[a])&&(c[a]=i[a])}}else for(var d=function(g){var m=n.filter(function(v){return typeof i[g]=="object"&&i[g][s]===v[s]?!0:i[g]===v[s]}),y=ie({},m[0]);l.push(y),!p(o)&&!p(i[g][o])&&(y[o]=i[g][o]),!p(a)&&!p(i[g][a])&&(y[a]=i[g][a])},f=0;f<i.length;f++)d(f);return this.updateResourceUnit(l),l},e.prototype.updateResourceUnit=function(t){var i=this.parent.resourceFields.unit;if(!p(i)){var n=t.length,s=void 0;for(s=0;s<n;s++)p(t[s][i])&&(t[s][i]=100)}},e.prototype.updateResourceName=function(t){var i=t.ganttProperties.resourceInfo,n=[],s=this.parent.taskFields;if(i&&i.length>0){var o=i.length;if(typeof t.taskData[this.parent.taskFields.resourceInfo]=="string"){var a=i[0][this.parent.resourceFields.name],l=a;this.parent.setRecordValue("resourceNames",l,t.ganttProperties,!0),this.parent.setRecordValue(this.parent.taskFields.resourceInfo,l,t,!0),this.updateTaskDataResource(t)}else{var a=ie([],[],t.taskData[this.parent.taskFields.resourceInfo],!0);this.parent.setRecordValue("taskData."+this.parent.taskFields.resourceInfo,[],t);for(var h=0;h<o;h++){var u=i[h],c=u[this.parent.resourceFields.name],d=u[this.parent.resourceFields.unit];if(d!==100&&(c+="["+d+"%]"),p(c)||n.push(c),t.taskData){var f=s.resourceInfo;a[h]&&typeof(a[parseInt(h.toString(),10)]==="object")?t.taskData[f].push(a[h]):t.taskData[f].push(u[this.parent.resourceFields.id])}}this.parent.setRecordValue("resourceNames",n.join(","),t.ganttProperties,!0),this.parent.setRecordValue(this.parent.taskFields.resourceInfo,n.join(","),t,!0),this.updateTaskDataResource(t)}}},e.prototype.dataReorder=function(t,i){if(t.length===0||i.length===0)return[];for(var n=[],s=new Set(i),o=0;o<t.length&&s.size>0;){var a=t[o];s.has(a)?(n.push(a),s.delete(a),t.splice(o,1)):o++}return n},e.prototype.validateDurationUnitMapping=function(t){var i=t;return i==="minute"||i==="minutes"||i==="m"||i==="min"?i="minute":i==="hour"||i==="hours"||i==="h"||i==="hr"?i="hour":i==="day"||i==="days"||i==="d"?i="day":p(this.parent.durationUnit)||(i=this.parent.durationUnit.toLocaleLowerCase()),i},e.prototype.validateTaskTypeMapping=function(t){var i=t;return i==="FixedDuration"?i="FixedDuration":i==="FixedUnit"?i="FixedUnit":i==="FixedWork"?i="FixedWork":i=this.parent.taskType,i},e.prototype.validateWorkUnitMapping=function(t){var i=t;return i==="minute"?i="minute":i==="hour"?i="hour":i==="day"?i="day":i=this.parent.workUnit.toLocaleLowerCase(),i},e.prototype.updateDurationValue=function(t,i,n){var s=this.getDurationValue(t);n&&!isNaN(H("duration",s))?this.parent.setRecordValue("baselineDuration",H("duration",s),i,!0):isNaN(H("duration",s))||this.parent.setRecordValue("duration",H("duration",s),i,!0),p(H("durationUnit",s))||this.parent.setRecordValue("durationUnit",H("durationUnit",s),i,!0)},e.prototype.reUpdateGanttData=function(){if(this.parent.flatData.length>0){var t=void 0,i=void 0;this.parent.secondsPerDay=this.getSecondsPerDay();for(var n=0;n<this.parent.flatData.length;n++){t=this.parent.flatData[n].taskData,i=this.parent.flatData[n],p(this.parent.taskFields.duration)||this.setRecordDuration(i,this.parent.taskFields.duration);var s=this.parent.calendarModule.getCalendarById(i.ganttProperties.calendarId),o=new kg(this.parent,s);this.parent.setRecordValue("calendarContext",o,i.ganttProperties,!0),this.parent.isLoad&&this.setStartDate(i),this.calculateScheduledValues(i,t,!1)}this.updateGanttData()}},e.prototype._isInStartDateRange=function(t,i,n){var s=!1;return t.getTime()>=i.getTime()&&t.getTime()<n.getTime()&&(s=!0),s},e.prototype._isInEndDateRange=function(t,i,n){var s=!1;return t.getTime()>i.getTime()&&t.getTime()<=n.getTime()&&(s=!0),s},e.prototype.updateOverlappingValues=function(t){var i=this,n=t.childRecords,s,o=[];if(n.length<=1){t.ganttProperties.workTimelineRanges=[];return}n=this.setSortedChildTasks(t),this.updateOverlappingIndex(n);for(var a=function(u){s=n[u];var c=(s.ganttProperties.segments||[{startDate:s.ganttProperties.startDate,endDate:s.ganttProperties.endDate}]).map(function(f){var g=f.startDate,m=f.endDate;return{startDate:new Date(g),endDate:new Date(m)}}),d=[];c.forEach(function(f){for(var g=new Date(f.startDate.getTime()),m=new Date(f.endDate.getTime()),y=0;y<u;y++){var v=n[y],M=(v.ganttProperties.segments||[{startDate:v.ganttProperties.startDate,endDate:v.ganttProperties.endDate}]).map(function(S){var b=S.startDate,C=S.endDate;return{startDate:new Date(b),endDate:new Date(C)}});M.forEach(function(S){var b=S.startDate,C=S.endDate,T={};g&&m&&C&&(i._isInStartDateRange(g,b,C)||i._isInEndDateRange(m,b,C)||b.getTime()>=g.getTime()&&C.getTime()<=m.getTime())&&(b.getTime()>g.getTime()&&b.getTime()<m.getTime()&&C.getTime()>g.getTime()&&C.getTime()>=m.getTime()||g.getTime()===b.getTime()&&m.getTime()<=C.getTime()?(T.from=b,T.to=m):g.getTime()===b.getTime()&&m.getTime()>C.getTime()?(T.from=b,T.to=C):g.getTime()>b.getTime()&&m.getTime()>=C.getTime()?(T.from=g,T.to=C):g.getTime()>b.getTime()&&m.getTime()<C.getTime()?(T.from=g,T.to=m):b.getTime()>=g.getTime()&&C.getTime()<=m.getTime()&&(T.from=b,T.to=C),T.from&&T.to&&d.push(T))})}}),o.push.apply(o,l.mergeRangeCollections(d))},l=this,h=1;h<n.length;h++)a(h);this.parent.setRecordValue("workTimelineRanges",this.mergeRangeCollections(o,!0),t.ganttProperties,!0),this.calculateRangeLeftWidth(t.ganttProperties.workTimelineRanges,t.ganttProperties.calendarContext)},e.prototype.updateOverlappingIndex=function(t){for(var i=0;i<t.length;i++)t[i].ganttProperties.eOverlapIndex=i},e.prototype.calculateRangeLeftWidth=function(t,i){for(var n=0;n<t.length;n++)t[n].left=this.getTaskLeft(t[n].from,!1,i),t[n].width=this.getTaskWidth(t[n].from,t[n].to)},e.prototype.mergeRangeCollections=function(t,i){for(var n=[],s={},o={},a,l,h,u,c=new fe(t).executeLocal(new He().sortBy(this.parent.taskFields.startDate,"Ascending")),d=0;d<c.length;d++){if(n.length===0&&d===0){n.push(c[d]);continue}s=n[n.length-1],a=s.from,l=s.to,o=c[d],h=o.from,u=o.to,!(a.getTime()===h.getTime()&&l.getTime()>=u.getTime()||a.getTime()<h.getTime()&&l.getTime()>=u.getTime())&&(a.getTime()<=h.getTime()&&l.getTime()>=h.getTime()&&l.getTime()<u.getTime()||l.getTime()<h.getTime()&&this.checkStartDate(l).getTime()===h.getTime()?s.to=u:l.getTime()<h.getTime()&&this.checkStartDate(l).getTime()!==h.getTime()&&n.push(c[d]))}return i&&(n=this.splitRangeCollection(n)),n},e.prototype.setSortedChildTasks=function(t){var i=[];return i=new fe(t.childRecords).executeLocal(new He().sortBy(this.parent.taskFields.startDate,"Ascending")),i},e.prototype.splitRangeCollection=function(t,i,n){var s=[],o;return this.parent.timelineModule.isSingleTier?o=this.parent.timelineModule.bottomTier!=="None"?this.parent.timelineModule.bottomTier:this.parent.timelineModule.topTier:o=this.parent.timelineModule.bottomTier,o==="Week"||o==="Month"||o==="Year"?s=t:o==="Day"?s=this.getRangeWithWeek(t,i,n):this.parent.workingTimeRanges[0].from===0&&this.parent.workingTimeRanges[0].to===86400?s=this.getRangeWithWeek(t,i,n):s=this.getRangeWithDay(t,i,n),s},e.prototype.getRangeWithDay=function(t,i,n){for(var s=[],o=0;o<t.length;o++)s.push.apply(s,this.splitRangeForDayMode(t[parseInt(o.toString(),10)],i,n));return s},e.prototype.splitRangeForDayMode=function(t,i,n){var s=i||"from",o=n||"to",a=new Date(t[s]),l=new Date(t[o]),h=[],u={};if(a.getTime()<l.getTime())do{for(var c=new Date(a.getTime()),d=new Date(a.getTime()),f=0,g=this.parent.dataOperation.getSecondsInDecimal(a),m=-1,y=0;y<this.parent.workingTimeRanges.length;y++){var v=this.parent.workingTimeRanges[y];if(g>=v.from&&g<=v.to){m=y;break}}m!==-1&&(f=Math.round(this.parent.workingTimeRanges[m].to-g),d.setSeconds(d.getSeconds()+f));var M="task";d.getTime()<l.getTime()?(u={},t.task&&(u[M]=ie([],t.task)),u[s]=c,u[o]=d,u.isSplit=!0,h.push(u)):(u={},t.task&&(u[M]=ie([],t.task)),u[s]=c,u[o]=l,u.isSplit=!0,h.push(u)),a=this.checkStartDate(d)}while(a.getTime()<l.getTime());else h.push(t);return h},e.prototype.getRangeWithWeek=function(t,i,n){for(var s=[],o=0;o<t.length;o++)s.push.apply(s,this.splitRangeForWeekMode(t[o],i,n));return s},e.prototype.splitRangeForWeekMode=function(t,i,n){var s=i||"from",o=n||"to",a=new Date(t[s]),l=new Date(t[s]),h=new Date(t[o]),u=!1,c=[],d={};if(l.setDate(l.getDate()+1),l.getTime()<h.getTime()){do if(this.parent.dataOperation.isOnHolidayOrWeekEnd(l,null,this.parent.defaultCalendarContext)){var f=new Date(l.getTime());f.setDate(l.getDate()-1);var g=void 0;this.parent.weekWorkingTime.length>0?g=this.parent.getEndTime(f):g=this.parent.defaultEndTime,this.setTime(g,f),d={},d[s]=a,d.isSplit=!0,d[o]=new Date(f),t.task&&(d.task=ie([],t.task,!0));var m=!this.parent.dataOperation.isOnHolidayOrWeekEnd(a,null,this.parent.defaultCalendarContext),y=!this.parent.dataOperation.isOnHolidayOrWeekEnd(f,null,this.parent.defaultCalendarContext),v=a.getTime()!==f.getTime();m&&y&&v&&c.push(d),f.setDate(f.getDate()+1),a=this.checkStartDate(f),l=new Date(a.getTime()),u=!0}else l.setDate(l.getDate()+1);while(l.getTime()<h.getTime());u?a.getTime()!==h.getTime()&&(d={},t.task&&(d.task=ie([],t.task,!0)),d[s]=a,d[o]=h,d.isSplit=!0,c.push(d)):c.push(t)}else c.push(t);return c},e.prototype.updateGanttData=function(){var t=this;this.systemTimeZone=Intl.DateTimeFormat().resolvedOptions().timeZone;var i=this.parent.flatData;if(i.length){for(var n=new Map,s=0,o=i.length;s<o;s++){var a=i[s];n.set(a.uniqueID,a),this.updateTaskLeftWidth(a,n)}(this.parent.isLoad||this.parent.isFromOnPropertyChange)&&this.offsetUpdateParentList&&this.offsetUpdateParentList.forEach(function(l){t.parent.predecessorModule.calculateOffset(l)})}},e.prototype.shouldProcessUpdateWidth=function(){return!this.parent.autoCalculateDateScheduling||this.parent.isLoad&&this.parent.treeGrid.loadChildOnDemand&&!!this.parent.taskFields.hasChildMapping},e.prototype.updateTaskLeftWidth=function(t,i){i===void 0&&(i=null);var n=t.ganttProperties;(!t.hasChildRecords||this.shouldProcessUpdateWidth())&&this.updateWidthLeft(t),this.parent.setRecordValue("baselineLeft",this.calculateBaselineLeft(n),n,!0),this.parent.setRecordValue("baselineWidth",this.calculateBaselineWidth(n),n,!0);var s=t.parentItem?i!=null?i.get(t.parentItem.uniqueID):this.parent.getParentTask(t.parentItem):null,o=s&&s.childRecords.slice(-1)[0]===t;if(s){var a=s.uniqueID;o&&!t.hasChildRecords&&this.parent.enableValidation?((this.parent.autoCalculateDateScheduling&&!(this.parent.isLoad&&this.parent.treeGrid.loadChildOnDemand&&this.parent.taskFields.hasChildMapping)||this.parent.viewType==="ResourceView")&&(this.processedParentItems.has(a)||(this.updateParentItems(s,!0,i),this.processedParentItems.add(a))),this.shouldProcessUpdateWidth()&&this.updateWidthLeft(s)):s&&!this.parent.enableValidation&&this.updateWidthLeft(s)}},e.prototype.reUpdateGanttDataPosition=function(){var t;this.parent.pdfExportModule&&this.parent.pdfExportModule.isPdfExport&&this.parent.pdfExportModule.helper.exportProps&&this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings&&this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth?t=this.parent.pdfExportModule.helper.beforeSinglePageExport.cloneFlatData:t=this.parent.flatData;for(var i=t.length,n=0;n<i;n++){var s=t[n],o=s.ganttProperties,a=JSON.stringify(this.parent.removeCalendarContext(o));this.updateWidthLeft(s),this.parent.taskMode!=="Auto"&&s.hasChildRecords&&this.updateAutoWidthLeft(s),this.parent.setRecordValue("baselineLeft",this.calculateBaselineLeft(o),o,!0),this.parent.setRecordValue("baselineWidth",this.calculateBaselineWidth(o),o,!0),a!==JSON.stringify(this.parent.removeCalendarContext(o))&&this.parent.dataOperation.updateTaskData(s)}},e.prototype.updateWidthLeft=function(t){var i=t.ganttProperties,n=0,s=0;if(!p(i.segments)&&i.segments.length>0){for(var o=i.segments,a=0;a<o.length;a++){var l=o[a];if(a===0&&!p(i.startDate)&&!p(l.startDate)&&!p(l.startDate.getTime())&&l.startDate.getTime()!==i.startDate.getTime()){l.startDate=i.startDate;var h=this.parent.dataOperation.getEndDate(l.startDate,l.duration,i.durationUnit,i,!1);l.endDate=this.parent.dataOperation.checkEndDate(h,i,!1),this.parent.chartRowsModule.incrementSegments(o,0,t)}if(l.width=this.getSplitTaskWidth(l.startDate,l.duration,t),n=n+l.width,l.showProgress=!1,l.progressWidth=-1,a!==0){var u=new Date(i.startDate.getTime());l.left=this.getSplitTaskLeft(l.startDate,u)}}for(var c=this.parent.dataOperation.getProgressWidth(n,i.progress),d=!0,a=0;a<o.length;a++)d&&(c<=o[a].width?(o[a].progressWidth=c,o[a].showProgress=!0,d=!1):(o[a].progressWidth=o[a].width,c=c-o[a].progressWidth),o[a].showProgress&&(s=s+o[a].left+o[a].progressWidth));this.parent.setRecordValue("segments",i.segments,i,!0),this.parent.dataOperation.updateMappingData(t,"segments")}this.parent.setRecordValue("width",this.parent.dataOperation.calculateWidth(t),i,!0),this.parent.setRecordValue("left",this.parent.dataOperation.calculateLeft(i,t),i,!0),!p(i.segments)&&i.segments.length>0?this.parent.setRecordValue("progressWidth",s,i,!0):this.parent.setRecordValue("progressWidth",this.parent.dataOperation.getProgressWidth(i.isAutoSchedule||!t.hasChildRecords?i.width:i.autoWidth,i.progress),i,!0)},e.prototype.updateAutoWidthLeft=function(t){var i=t.ganttProperties;this.parent.setRecordValue("autoWidth",this.calculateWidth(t,!0),i,!0),this.parent.setRecordValue("autoLeft",this.calculateLeft(i,t,!0),i,!0),this.parent.setRecordValue("progressWidth",this.parent.dataOperation.getProgressWidth(i.isAutoSchedule||!t.hasChildRecords?i.width:i.autoWidth,i.progress),i,!0)},e.prototype.getParentProgress=function(t){var i=0,n={},s;switch(this.parent.weekWorkingTime.length>0?s=this.parent.getSecondsPerDay(t.ganttProperties.startDate?t.ganttProperties.startDate:t.ganttProperties.endDate):s=this.parent.secondsPerDay,t.ganttProperties.durationUnit){case"hour":i=t.ganttProperties.duration/(s/3600);break;case"minute":i=t.ganttProperties.duration/(s/60);break;default:i=t.ganttProperties.duration}return t.hasChildRecords?(Ze("totalProgress",t.ganttProperties.totalProgress,n),Ze("totalDuration",t.ganttProperties.totalDuration?t.ganttProperties.totalDuration:0,n)):(Ze("totalProgress",t.ganttProperties.progress*i,n),Ze("totalDuration",i,n)),n},e.prototype.resetDependency=function(t){var i=this.parent.taskFields.dependency;if(!p(i)){var n=t.ganttProperties;this.parent.setRecordValue("predecessor",[],n,!0),this.parent.setRecordValue("predecessorsName",null,n,!0),this.parent.setRecordValue("taskData."+i,null,t),this.parent.setRecordValue(i,null,t)}},e.prototype.isUnscheduledTask=function(t,i){for(var n=["startDate","endDate","duration"],s=0,o=null,a=0,l=n;a<l.length;a++){var h=l[a];t&&t[h]&&(s++,o=h)}return s===1||s===0&&!p(i)&&i.hasChildRecords?[!0,o]:[!1,null]},e.prototype.isFromManual=function(t){return!!(this.parent.allowUnscheduledTasks&&this.parent.editModule&&this.parent.oldRecords&&this.parent.oldRecords.length>0&&p(t.ganttProperties.startDate)&&p(t.ganttProperties.endDate)&&!p(t.ganttProperties.duration)&&!t.hasChildRecords&&t.parentItem&&(this.parent.taskMode==="Manual"||this.parent.taskMode==="Custom"&&t[this.parent.taskFields.manual]))},e.prototype.updateParentItems=function(t,i,n){var s=this;n===void 0&&(n=null);var o=i?t:this.parent.getParentTask(t,n);o=o||t;var a=!1,l=p(o)?null:o.ganttProperties;this.processedParentItems&&this.processedParentItems.add(o.uniqueID);var h=this.isUnscheduledTask(l,o),u=h[0];if(h[1],this.parent.autoCalculateDateScheduling&&!(this.parent.isLoad&&this.parent.treeGrid.loadChildOnDemand&&this.parent.taskFields.hasChildMapping)||this.parent.viewType==="ResourceView"){if(o&&o.childRecords&&o.childRecords.length>0){var c=l.isAutoSchedule?l.startDate:l.autoStartDate,d=l.isAutoSchedule?l.endDate:l.autoEndDate,f=o.childRecords,g=f.length,m=0,y=null,v=null,M=0,S=0,b=0,C,T=0,k=0;f.some(function(K){var le=s.isUnscheduledTask(K.ganttProperties),me=le[0],pe=le[1];return me&&pe==="duration"?++k:me||++T,T>0&&k>0});for(var N=T>0&&k>0?!0:void 0,A=function(K){if(C=E.parent.loadChildOnDemand&&E.parent.taskFields.hasChildMapping?E.parent.currentViewData.filter(function(ze){return ze.ganttProperties.taskId===f[K][s.parent.taskFields.id]})[0]:f[K],E.parent.isOnDelete&&C.isDelete)return g===1&&E.parent.viewType==="ProjectView"&&(a=!0),"continue";var le=void 0,me=void 0,pe=E.isUnscheduledTask(C.ganttProperties),P=pe[0],ve=pe[1],X=void 0;if(E.isFromManual(C)){var De=E.parent.oldRecords.filter(function(ze){return ze.ganttProperties.uniqueID===C.ganttProperties.uniqueID})[0];De&&(X=E.parent.getParentTask(De.parentItem,n))}var Fe=X||C,Re=X?X.ganttProperties:l;if(le=P&&ve!=="startDate"&&ve!=="endDate"&&!u?l.startDate:E.getValidStartDate(Fe.ganttProperties),o.hasChildRecords&&!Re.isAutoSchedule&&!p(Fe.ganttProperties.autoStartDate)&&(le=Fe.ganttProperties.autoStartDate),me=P&&ve!=="startDate"&&ve!=="endDate"&&!u?E.getEndDate(l.startDate,Fe.ganttProperties.duration,Fe.ganttProperties.durationUnit,Fe.ganttProperties,!1):E.getValidEndDate(Fe.ganttProperties),o.hasChildRecords&&!Re.isAutoSchedule&&!p(Fe.ganttProperties.autoEndDate)&&(me=Fe.ganttProperties.autoEndDate),P&&!(ve==="startDate"||ve==="endDate")){var U=E.getDateFromFormat(me),Y=E.getDateFromFormat(le);U>v&&(v=U),Y<y&&(y=Y)}var ae=N&&!P||p(N);if(p(y)&&ae&&(y=E.getDateFromFormat(le)),p(v)&&ae&&(v=E.getDateFromFormat(me)),!p(me)&&v&&E.compareDates(me,v)===1&&(v=E.getDateFromFormat(me)),!p(le)&&y&&E.compareDates(le,y)===-1&&(y=E.getDateFromFormat(le)),!C.ganttProperties.isMilestone&&al(C.ganttProperties)){var we=E.getParentProgress(C);S+=H("totalProgress",we),m+=H("totalDuration",we),C[E.parent.taskFields.duration]<1&&(m=Number(m.toFixed(4)))}else M++;var se=C.ganttProperties.work;if(typeof se=="string"){var Me=parseFloat(se);isNaN(Me)||(b+=Me)}else typeof se=="number"&&(b+=se)},E=this,x=0;x<g;x++)A(x);if(!a){var D=this.parent.isOnDelete&&C.isDelete?g-M-1:g-M,z=D>0&&m>0?Number((S/m).toFixed(2)):0,w=o.ganttProperties,O=!!(D===0&&y&&v&&y.getTime()===v.getTime());if(this.compareDates(c,y)!==0&&(this.parent.setRecordValue(l.isAutoSchedule?"startDate":"autoStartDate",y,o.ganttProperties,!0),(p(l.autoDuration)?l.duration===0:l.autoDuration===0)&&o.isManual&&O&&o.hasChildRecords&&o.ganttProperties.isAutoSchedule&&this.parent.editModule.taskbarEditModule.taskbarEditedArgs.action!=="TaskbarEditing"&&this.parent.setRecordValue("startDate",y,o.ganttProperties,!0)),this.compareDates(d,v)!==0&&(this.parent.setRecordValue(l.isAutoSchedule?"endDate":"autoEndDate",v,o.ganttProperties,!0),(p(l.autoDuration)?l.duration===0:l.autoDuration===0)&&o.isManual&&O&&o.hasChildRecords&&o.ganttProperties.isAutoSchedule&&this.parent.editModule.taskbarEditModule.taskbarEditedArgs.action!=="TaskbarEditing"&&this.parent.setRecordValue("endDate",v,o.ganttProperties,!0)),o.hasChildRecords&&this.parent.editedRecords.indexOf(o)===-1&&!this.parent.allowTaskbarOverlap&&this.parent.enableMultiTaskbar&&this.parent.editedRecords.push(o),this.parent.setRecordValue("isMilestone",O,w,!0),p(this.parent.taskFields.milestone)||(this.updateMappingData(o,"milestone"),this.parent.setRecordValue(this.parent.taskFields.milestone,O,o,!0),this.parent.setRecordValue("taskData."+this.parent.taskFields.milestone,O,o,!0)),w.isAutoSchedule&&(this.isFromManual(C)?(o.childRecords.length===1&&(o.ganttProperties.duration=C.ganttProperties.duration),this.calculateEndDate(o)):this.calculateDuration(o)),this.parent.autoCalculateDateScheduling&&o&&o.hasChildRecords&&this.parent.isLoad&&this.parent.viewType!=="ResourceView"){var L=o[this.parent.taskFields.startDate],j=o[this.parent.taskFields.endDate];this.resolveAndApplyWorkingTimes(L,j),(L&&o.ganttProperties.startDate&&L.getTime()!==o.ganttProperties.startDate.getTime()||j&&o.ganttProperties.endDate&&j.getTime()!==o.ganttProperties.endDate.getTime())&&this.validatedGanttData.set(o.ganttProperties.taskId,o)}this.updateWorkWithDuration(o);var B=w.work;B=this.parent.isOnEdit?B:B+b,this.parent.setRecordValue("work",B,w,!0),this.parent.setRecordValue("taskType","FixedDuration",w,!0),p(this.parent.taskFields.type)||this.updateMappingData(o,"type"),this.parent.setRecordValue("progress",Math.floor(z),w,!0),this.parent.setRecordValue("totalProgress",S,w,!0),this.parent.setRecordValue("totalDuration",m,w,!0),this.parent.setRecordValue("autoDuration",w.duration,w,!0),w.isAutoSchedule||(this.parent.setRecordValue("autoDuration",this.calculateAutoDuration(w),w,!0),this.updateAutoWidthLeft(o)),this.parent.allowParentDependency||this.resetDependency(o),this.updateWidthLeft(o),this.updateTaskData(o)}}}else this.parent.setRecordValue("endDate",o.taskData[this.parent.taskFields.endDate],o.ganttProperties,!0);if(a&&o.childRecords.length===1&&o.ganttProperties.duration===0&&(this.parent.setRecordValue("isMilestone",!0,o.ganttProperties,!0),this.updateWidthLeft(o),this.updateTaskData(o)),this.parent.allowParentDependency&&o.ganttProperties.predecessor&&o.ganttProperties.predecessor.length>=1){var V=o.ganttProperties.predecessor,ee=this.parent.viewType==="ResourceView"?o.ganttProperties.taskId.toString():o.ganttProperties.rowUniqueID.toString(),W=V.filter(function(K){return K.to===ee?K:null});W.length>0&&this.offsetUpdateParentList.push(o)}var J=p(o)?null:this.parent.getParentTask(o.parentItem,n);J&&(this.parent.autoCalculateDateScheduling&&!(this.parent.isLoad&&this.parent.treeGrid.loadChildOnDemand&&this.parent.taskFields.hasChildMapping)||this.parent.viewType==="ResourceView")&&this.updateParentItems(J,!0,n),a=!1},e}(tD),O1="e-gantt",_J="e-gantt-chart-pane",YJ="e-gantt-tree-grid-pane",WJ="e-gantt-splitter",qJ="e-gantt-chart",hy="e-gantt-single-timeline",Rj="e-chart-root-container",GJ="e-chart-scroll-container",Lg="e-chart-rows-container",$J="e-content",R1="e-device",KJ="e-task-table",JJ="e-zero-spacing",th="e-timeline-header-container",ih="e-timeline-header-table-container",j1="e-timeline-header-table-body",ZJ="e-timeline-top-header-cell",XJ="e-header-cell-label",eZ="e-weekend-header-cell",tZ="e-timeline-single-header-cell",iZ="e-virtualtable",nZ="e-virtualtrack",qn="e-left-label-container",rZ="e-left-label-container e-left-label-temp-container",P1="e-left-label-inner-div",Gn="e-right-label-container",sZ="e-right-label-container e-right-label-temp-container",F1="e-right-label-inner-div",is="e-taskbar-main-container",oZ="e-gantt-parent-taskbar-inner-div",aZ="e-gantt-parent-progressbar-inner-div",Hs="e-task-label",B1="e-gantt-child-taskbar-inner-div",$c="e-gantt-child-progressbar-inner-div",lZ="e-gantt-child-critical-taskbar-inner-div",hZ="e-gantt-child-critical-progressbar-inner-div",uZ="e-critical-milestone",Cn="e-baseline-bar",U1="e-baseline-gantt-milestone-container",hC="e-chart-row-cell",jj="e-chart-row",cZ="e-row-expand",dZ="e-row-collapse",H1="e-taskbar-left-resizer",V1="e-taskbar-right-resizer",Q1="e-child-progress-resizer",_1="e-progressbar-handler",Y1="e-progressbar-handler-element",W1="e-progressbar-handler-after",Kf="e-icon",q1="e-gantt-milestone",pZ="e-gantt-parent-milestone",Vs="e-gantt-child-taskbar",Kc="e-gantt-child-progressbar",fZ="e-manualparent-main-container",KM="e-gantt-manualparenttaskbar",gZ="e-gantt-manualparent-milestone",Jf="e-gantt-child-manualtaskbar",mZ="e-gantt-child-manualprogressbar",yZ="e-gantt-unscheduled-manualtask",G1="e-gantt-parent-taskbar",$1="e-gantt-parent-progressbar",K1="e-gantt-unscheduled-task",vZ="e-indicator-span",Pi="e-label",Ul="e-template-padding",J1="e-gantt-unscheduled-taskbar-left",Z1="e-gantt-unscheduled-taskbar-right",MZ="e-gantt-unscheduled-taskbar",SZ="e-gantt-dependency-view-container",CZ="e-connector-line-container",bZ="e-connector-line",IZ="e-critical-line",DZ="e-critical-line-arrow",TZ="e-connector-line-arrow",wZ="e-connectorpoint-left",xZ="e-connectorpoint-right",NZ="e-right-connectorpoint-outer-div",AZ="e-left-connectorpoint-outer-div",EZ="e-gantt-tooltip",uC="e-rangecontainer",X1="e-rg-rangdiv",kZ=function(){function r(e){this.previousCount=-1,this.isSetScrollLeft=!1,this.previousScroll={top:0,left:0},this.parent=e,this.element=this.parent.ganttChartModule.scrollElement,this.addEventListeners()}return r.prototype.addEventListeners=function(){this.parent.on("grid-scroll",this.gridScrollHandler,this),F.add(this.element,"scroll",this.onScroll,this),this.parent.treeGrid.grid.on("showGanttShimmer",this.updateShimmer,this),this.parent.treeGrid.grid.on("removeGanttShimmer",this.removeShimmer,this),this.parent.treeGrid.grid.on("virtualTransform",this.transformChange,this)},r.prototype.removeEventListeners=function(){F.remove(this.element,"scroll",this.onScroll),this.parent.off("grid-scroll",this.gridScrollHandler),this.parent.treeGrid.grid.off("showGanttShimmer",this.updateShimmer),this.parent.treeGrid.grid.off("removeGanttShimmer",this.removeShimmer),this.parent.treeGrid.grid.off("virtualTransform",this.transformChange)},r.prototype.gridScrollHandler=function(e){this.element.scrollTop=H("top",e),this.isFromTreeGrid=!0},r.prototype.updateContent=function(){var e=this.parent.element,t=Math.round(this.element.scrollLeft/e.offsetWidth);(this.previousCount!==t||this.parent.timelineModule.performedTimeSpanAction||this.parent.timelineModule.isZoomingAction)&&(this.parent.timelineModule.isZoomingAction=!1,this.deleteTableElements(),this.parent.timelineModule.createTimelineSeries(),(this.parent.gridLines==="Vertical"||this.parent.gridLines==="Both")&&this.parent.renderChartVerticalLines(),this.parent.dayMarkersModule&&this.parent.dayMarkersModule.eventMarkerRender.renderEventMarkers(),this.parent.timelineModule.performedTimeSpanAction=!1,this.parent.dayMarkersModule&&(this.parent.dayMarkersModule.nonworkingDayRender.renderWeekends(),this.parent.dayMarkersModule.nonworkingDayRender.renderHolidays()),this.updateChartElementStyles(),this.previousCount=t,this.isSetScrollLeft&&(this.parent.ganttChartModule.chartTimelineContainer.scrollLeft=this.element.scrollLeft))},r.prototype.getTimelineLeft=function(){var e,t=this.parent.element,i=this.parent.timelineModule.wholeTimelineWidth>t.offsetWidth*3?this.parent.timelineModule.wholeTimelineWidth-t.offsetWidth*3:0;if(this.element.scrollLeft===(this.parent.enableRtl?-i:i))e=this.element.scrollLeft;else{var n=this.parent.enableRtl?-this.element.scrollLeft:this.element.scrollLeft;e=n>t.offsetWidth?n-t.offsetWidth:0}return e>=i&&(e=i),e<=t.offsetWidth&&this.isBackwardScrolled&&(e=0),(this.parent.timelineModule.isZoomToFit||this.parent.timelineModule.isZooming)&&(e=0),e},r.prototype.deleteTableElements=function(){var e=this.parent.element.getElementsByClassName("e-timeline-header-table-container");do e[0].remove();while(e.length>0);this.parent.element.querySelector("#ganttContainerline-container")&&(this.parent.element.querySelector("#ganttContainerline-container").innerHTML=""),this.parent.element.querySelector(".e-nonworking-day-container")&&(this.parent.element.querySelector(".e-nonworking-day-container").outerHTML=null)},r.prototype.updateChartElementStyles=function(){var e=this.getTimelineLeft();if(this.parent.enableTimelineVirtualization){var t=this.parent.connectorLineModule.dependencyViewContainer,i=this.parent.chartRowsModule.taskTable;this.parent.enableRtl?(t.style.left=e+"px",i.style.right=-e+"px"):(t.style.left=-e+"px",i.style.left=-e+"px"),i.style.width=this.parent.timelineModule.wholeTimelineWidth+"px"}},r.prototype.updateTopPosition=function(){var e=this.parent.treeGrid.element.querySelector(".e-content"),t=e.scrollTop,i;if(this.parent.virtualScrollModule&&this.parent.enableVirtualization){var n=this.parent.virtualScrollModule.getTopPosition();i=t-n}else i=t;if(!p(this.parent.dayMarkersModule)){var s=H("nonworkingDayRender.holidayContainer",this.parent.dayMarkersModule),o=H("nonworkingDayRender.weekendContainer",this.parent.dayMarkersModule),a=H("eventMarkerRender.eventMarkersContainer",this.parent.dayMarkersModule);s&&(s.style.top=mt(i)),o&&(o.style.top=mt(i)),a&&(a.style.top=mt(i))}this.parent.chartVerticalLineContainer&&(this.parent.chartVerticalLineContainer.style.top=mt(i))},r.prototype.removeShimmer=function(){var e=this.parent;setTimeout(function(){if(e.hideMaskRow(),!e.allowTaskbarOverlap&&e.showOverAllocation){for(var t=0;t<e.currentViewData.length;t++){var i=e.chartRowsModule.ganttChartTableBody.childNodes[t];i.style.display!=="none"&&e.currentViewData[t].hasChildRecords&&!e.currentViewData[t].expanded&&(e.ganttChartModule.isExpandAll||e.ganttChartModule.isCollapseAll?e.treeGrid.getRowByIndex(t).style.height=i.style.height:e.treeGrid.getRows()[t].style.height=i.style.height)}e.contentHeight=e.enableRtl?e.element.getElementsByClassName("e-content")[2].children[0].offsetHeight:e.element.getElementsByClassName("e-content")[0].children[0].offsetHeight,e.element.getElementsByClassName("e-chart-rows-container")[0].style.height=e.contentHeight+"px"}},0)},r.prototype.transformChange=function(){this.parent.ganttChartModule.virtualRender.adjustTable(),this.parent.ganttChartModule.scrollObject.updateTopPosition()},r.prototype.updateShimmer=function(){var e=this.parent;setTimeout(function(){e.showMaskRow()},0)},r.prototype.updateSpinner=function(){var e=this.parent;this.parent.showSpinner(),window.clearTimeout(this.isScrolling),this.isScrolling=setTimeout(function(){e.hideSpinner()},200)},r.prototype.onScroll=function(){var e=this,t={};this.element.scrollTop!==this.previousScroll.top&&(this.isFromTreeGrid?this.isFromTreeGrid=!1:this.parent.notify("chartScroll",{top:this.element.scrollTop}),t.previousScrollTop=this.previousScroll.top,this.previousScroll.top=this.element.scrollTop,t.scrollTop=this.element.scrollTop,t.scrollDirection="Vertical",t.action="VerticalScroll",this.updateTopPosition()),this.element.scrollLeft!==this.previousScroll.left&&(this.isBackwardScrolled=this.element.scrollLeft<this.previousScroll.left&&!this.parent.enableRtl,this.parent.ganttChartModule.chartTimelineContainer.scrollLeft=this.element.scrollLeft,t.previousScrollLeft=this.previousScroll.left,this.previousScroll.left=this.element.scrollLeft,t.scrollLeft=this.element.scrollLeft,t.scrollDirection="Horizontal",t.action="HorizontalScroll",this.parent.enableTimelineVirtualization&&this.parent.timelineModule.wholeTimelineWidth>this.parent.element.offsetWidth*3?(this.isSetScrollLeft=!0,this.parent.timelineModule.totalTimelineWidth>this.parent.element.offsetWidth*3&&this.updateContent(),this.parent.ganttChartModule.updateWidthAndHeight(),this.parent.element.getElementsByClassName("e-weekend-container")[0]&&(this.parent.element.getElementsByClassName("e-weekend-container")[0].style.height="100%"),this.parent.element.getElementsByClassName("e-holiday-container")[0]&&(this.parent.element.getElementsByClassName("e-holiday-container")[0].style.height="100%")):this.parent.enableTimelineVirtualization&&this.parent.timelineModule.wholeTimelineWidth<this.parent.element.offsetWidth*3&&this.parent.connectorLineModule.svgObject.setAttribute("width","100%")),this.parent.timelineModule.performedTimeSpanAction=!1,!p(t.scrollDirection)&&(this.parent.enableVirtualization===!0||this.parent.enableTimelineVirtualization===!0)&&(this.parent.isToolBarClick||p(this.parent.isToolBarClick))&&(this.parent.isVirtualScroll=!0,(this.parent.showIndicator||p(this.parent.showIndicator))&&(!this.parent.enableVirtualMaskRow&&this.parent.enableVirtualization&&this.parent.loadingIndicator.indicatorType==="Spinner"?this.updateSpinner():this.parent.enableTimelineVirtualization&&!this.parent.isRowSelected&&Math.abs(this.element.scrollLeft-t.previousScrollLeft)>1e3&&(!this.parent.enableVirtualMaskRow&&this.parent.loadingIndicator.indicatorType==="Spinner"?this.updateSpinner():(this.parent.showMaskRow(),setTimeout(function(){e.removeShimmer()},0))),this.parent.isRowSelected=!1)),this.isSetScrollLeft=!1,this.parent.isToolBarClick=!0,t.requestType="scroll",this.parent.trigger("actionComplete",t),this.parent.isVirtualScroll=!1},r.prototype.setHeight=function(e){this.element.style.height=mt(e)},r.prototype.setWidth=function(e){this.element.style.width=mt(e)},r.prototype.setScrollTop=function(e){this.element.scrollTop=e,this.parent.treeGrid.element.querySelector(".e-content").scrollTop=e},r.prototype.setScrollLeft=function(e,t){e=t===-1&&this.parent.enableRtl?-e:e,this.isSetScrollLeft=!0,this.element.scrollLeft=e,this.parent.ganttChartModule.chartTimelineContainer.scrollLeft=this.element.scrollLeft,this.parent.enableTimelineVirtualization||(this.previousScroll.left=this.element.scrollLeft)},r.prototype.destroy=function(){this.removeEventListeners()},r}(),df=function(){function r(e){this.intl=new of,p(e)||(this.intl.culture=e)}return r.prototype.getFormatFunction=function(e){return!p(e)&&(e.type==="dateTime"||e.type==="datetime"||e.type==="date"||e.type==="time")?this.intl.getDateFormat(e):this.intl.getNumberFormat(e)},r.prototype.getParserFunction=function(e){return e.type?this.intl.getDateParser(e):this.intl.getNumberParser(e)},r.prototype.fromView=function(e,t,i){return(i==="date"||i==="datetime"||i==="number")&&!p(t)&&!p(e)?t(e):e},r.prototype.toView=function(e,t){var i=e;return!p(t)&&!p(e)&&(i=t(e)),i},r.prototype.setCulture=function(e){p(e)||N$(e)},r}(),Pj=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),zg=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Gi=function(){function r(e,t){var i=this;this.disableHtmlEncode=!0,this.enableRowSpan=!0,this.enableColumnSpan=!0,this.allowSorting=!0,this.allowResizing=!0,this.allowFiltering=!0,this.allowGrouping=!0,this.allowReordering=!0,this.showColumnMenu=!0,this.enableGroupByFormat=!1,this.allowEditing=!0,this.filter={},this.showInColumnChooser=!0,this.edit={},this.allowSearching=!0,this.autoFit=!1,this.sortDirection="Descending",this.getEditTemplate=function(){return i.editTemplateFn},this.getFilterTemplate=function(){return i.filterTemplateFn},this.templateOptions={enableAriaLabel:!0},ai(this,e),this.parent=t,this.type==="none"?this.type=null:this.type&&(this.type=typeof this.type=="string"?this.type.toLowerCase():void 0),this.editType&&(this.editType=this.editType.toLowerCase()),p(this.uid)&&(this.uid=hs("grid-column"));var n=new df;if(e.format&&(e.format.skeleton||e.format.format&&typeof e.format.format=="string")&&(this.setFormatter(n.getFormatFunction(ie({},e.format))),this.setParser(n.getParserFunction(e.format))),this.toJSON=function(){for(var o={},a=["filter","dataSource","headerText","template","headerTemplate","edit","editTemplate","filterTemplate","commandsTemplate","parent"],l=Object.keys(i),h=0;h<l.length;h++)if(l[parseInt(h.toString(),10)]==="columns"){o[l[parseInt(h.toString(),10)]]=[];for(var u=0;u<i[l[parseInt(h.toString(),10)]].length;u++)o[l[parseInt(h.toString(),10)]].push(i[l[parseInt(h.toString(),10)]][parseInt(u.toString(),10)].toJSON())}else a.indexOf(l[parseInt(h.toString(),10)])<0&&(o[l[parseInt(h.toString(),10)]]=i[l[parseInt(h.toString(),10)]]);return o},this.field||(this.allowFiltering=!1,this.allowGrouping=!1,this.allowSorting=!1,this.enableColumnSpan=!1,this.enableRowSpan=!1,this.columns&&(this.allowResizing=this.columns.some(function(o){return o.allowResizing}))),this.commands&&!this.textAlign&&(this.textAlign="Right"),(this.template||this.commandsTemplate)&&(this.templateFn=Si(this.template||this.commandsTemplate)),this.headerTemplate&&(this.headerTemplateFn=Si(this.headerTemplate)),!p(this.filter)&&this.filter.itemTemplate&&(this.fltrTemplateFn=Si(this.filter.itemTemplate)),this.editTemplate&&(this.editTemplateFn=Si(this.editTemplate)),this.filterTemplate&&(this.filterTemplateFn=Si(this.filterTemplate)),this.isForeignColumn()&&(p(this.editType)||this.editType==="dropdownedit"||this.editType==="defaultedit")&&(this.editType="dropdownedit",this.edit.params&&this.edit.params.dataSource&&(this.edit.params.ddEditedData=!0),this.edit.params=ie({dataSource:this.dataSource,query:new He,fields:{value:this.foreignKeyField||this.field,text:this.foreignKeyValue}},this.edit.params)),this.sortComparer){var s=this.sortComparer;this.sortComparer=function(o,a,l,h){if(typeof s=="string"&&(s=It(s,window)),i.sortDirection==="Descending"){var u=o;o=a,a=u;var c=l;l=h,h=c}return s(o,a,l,h)}}!this.sortComparer&&this.isForeignColumn()&&(this.sortComparer=function(o,a){return o=It(i.foreignKeyValue,Zh(i,{},o)[0]),a=It(i.foreignKeyValue,Zh(i,{},a)[0]),i.sortDirection==="Descending"?re.fnDescending(o,a):re.fnAscending(o,a)})}return r.prototype.getSortDirection=function(){return this.sortDirection},r.prototype.setSortDirection=function(e){this.sortDirection=e},r.prototype.getFreezeTableName=function(){return this.freezeTable},r.prototype.setProperties=function(e){for(var t=Object.keys(e),i=function(o){if(t[parseInt(o.toString(),10)]==="columns")for(var a=e[t[parseInt(o.toString(),10)]],l=function(u){n.columns.find(function(c){return c.field===a[parseInt(u.toString(),10)].field}).setProperties(a[parseInt(u.toString(),10)])},h=0;h<a.length;h++)l(h);else n[t[parseInt(o.toString(),10)]]=e[t[parseInt(o.toString(),10)]];n.parent&&n.parent.isReact&&(t[parseInt(o.toString(),10)]==="template"?(n.templateFn=Si(e[t[parseInt(o.toString(),10)]]),n.parent.refreshReactColumnTemplateByUid(n.uid,!0)):t[parseInt(o.toString(),10)]==="headerTemplate"?(n.headerTemplateFn=Si(e[t[parseInt(o.toString(),10)]]),n.parent.refreshReactHeaderTemplateByUid(n.uid)):t[parseInt(o.toString(),10)]==="editTemplate"?n.editTemplateFn=Si(e[t[parseInt(o.toString(),10)]]):t[parseInt(o.toString(),10)]==="filterTemplate"?n.filterTemplateFn=Si(e[t[parseInt(o.toString(),10)]]):t[parseInt(o.toString(),10)]==="commandsTemplate"&&(n.templateFn=Si(e[t[parseInt(o.toString(),10)]])))},n=this,s=0;s<t.length;s++)i(s)},r.prototype.isForeignColumn=function(){return!!(this.dataSource&&this.foreignKeyValue)},r.prototype.getFormatter=function(){return this.formatFn},r.prototype.setFormatter=function(e){this.formatFn=e},r.prototype.getParser=function(){return this.parserFn},r.prototype.setParser=function(e){this.parserFn=e},r.prototype.getColumnTemplate=function(){return this.templateFn},r.prototype.getHeaderTemplate=function(){return this.headerTemplateFn},r.prototype.getFilterItemTemplate=function(){return this.fltrTemplateFn},r.prototype.getDomSetter=function(){return this.disableHtmlEncode?"textContent":"innerHTML"},r}();(function(){function r(){}return zg([I()],r.prototype,"title",void 0),zg([I()],r.prototype,"type",void 0),zg([I()],r.prototype,"buttonOption",void 0),r})();var LZ=function(r){Pj(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return zg([I(null)],e.prototype,"columns",void 0),e}(Gi);(function(r){Pj(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e})(LZ);var cC="load",uy="rowDataBound",dC="queryCellInfo",pC="headerCellInfo",vo="actionBegin",ls="actionComplete",zZ="actionFailure",Ml="dataBound",JM="rowSelecting",ZM="rowSelected",XM="rowDeselecting",e0="rowDeselected",Jc="cellSelecting",Zf="cellSelected",eN="cellDeselecting",tN="cellDeselected",t0="columnSelecting",i0="columnSelected",OZ="columnDeselecting",RZ="columnDeselected",jZ="columnDragStart",PZ="columnDrag",FZ="columnDrop",iN="beforePrint",nN="printComplete",BZ="detailDataBound",UZ="batchAdd",Fj="batchCancel",HZ="batchDelete",VZ="recordDoubleClick",QZ="recordClick",_Z="beforeDataBound",rN="beforeOpenAdaptiveDialog",sN="resizeStop",YZ="checkBoxChange",WZ="beforeCopy",qZ="beforePaste",GZ="beforeAutoFill",n0="filterchoicerequest",$Z="filterAfterOpen",KZ="filterBeforeOpen",JZ="filterSearchBegin",cy="initial-load",iD="initial-end",Tp="data-ready",$i="content-ready",fn="ui-update",Mo="on-empty",zr="inbound-model-changed",Qu="model-changed",Bj="colgroup-refresh",oa="header-refreshed",oN="searching-complete",ZZ="grouping-complete",aN="group-aggregates",fC="refresh-footer-rendered",XZ="refresh-aggregate-cell",eX="rowselected",tX="cellselected",gC="destroy-autofill-elements",mC="beforecellfocused",yC="cellfocused",_u="key-pressed",xl="click",js="destroy",nD="column-visible-changed",lN="scroll",Uj="column-width-changed",Hj="column-position-changed",hN="rows-added",vC="rows-removed",iX="column-drag-stop",nX="header-drop",MC="datasource-modified",rX="refresh-complete",sX="dblclick",oX="toolbar-refresh",aX="bulk-save",wp="auto-col",SC="tooltip-destroy",CC="update-data",lX="prevent-batch",hX="crud-Action",uN="add-delete-Action",uX="double-tap",Og="freezerender",cX="filterDialogCreated",dX="filter-menu-close",pX="initForeignKeyColumn",cN="getForeignKeyData",Rg="generateQuery",Vj="showEmptyGrid",Qj="foreignKeyData",bC="dataStateChange",dN="dataSourceChanged",fX="rtl-updated",_j="beforeFragAppend",pN="textWrapRefresh",fN="recordAdded",IC="cancel-Begin",gX="editNextValCell",gN="hierarchyprint",mX="expandchildgrid",yX="printGrid-Init",vX="row-position-changed",Yj="partial-refresh",MX="select-virtual-Row",DC="columns-prepared",SX="cbox-filter-begin",mN="cbox-filter-complete",yN="filter-Prevent",CX="filter-cbox-value",bX="restore-Focus",Wj="detail-indentcell-info",IX="virtaul-cell-focus",DX="virtual-scroll-edit",TX="edit-reset",wX="get-virtual-data",xX="refresh-infinite-mode-blocks",NX="reset-infinite-blocks",AX="infinite-scroll-handler",EX="infinite-page-query",kX="infinite-show-hide",LX="append-infinite-content",zX="remove-infinite-rows",OX="set-infinite-cache",vN="infinite-edit-handler",RX="close-filter-dialog",jX="reset-columns",PX="group-cache",FX="lazy-load-scroll-handler",MN="group-collapse",BX="beforeCheckboxRenderer",r0="refreshResizeHandlers",UX="set-freeze-selection",TC="before-refresh-on-data-change",HX="immutable-batch-cancel",VX="check-scroll-reset",QX="prevent-frozen-scroll-refresh",_X="refresh-infinite-current-view-data",qj="filter-dialog-close",wC="refresh-cutsom-filter-ok-button",YX="refresh-cutsom-filter-clear-button",WX="render-responsive-cmenu",qX="filter-cmenu-select",GX="custom-filter-close",$X="set-fullscreen-dialog",Gj="refresh-Expand-and-Collapse",KX="row-mode-change",jg="enter-key-handler",JX="set-virtual-page-query",ZX="close-edit",XX="reset-virtual-focus",eee="before-checkbox-renderer-query",tee="destroy-child-grid",iee="sticky-scroll-complete",SN="refresh-infinite-persist-selection",nee="after-filter-column-menu-close",ree="beforeCheckboxfilterRenderer",see="commandColumnDestroy",oee="cancelcnfrmDlg",dy="refresh-Frozen-Position",aee="refresh-Resize-Position",xC="refresh-Split-Frozen-Column",Xf="render-Responsive-Change-Action",s0="render-Responsive-Column-Chooser-Div",Yu="show-Add-New-Row-Focus",lee="last-rowcell-border-updated",$j="destroy-edit-form",hee="detach-detail-template",uee="beforeSetPartialRecords",We;(function(r){r[r.Data=0]="Data",r[r.Header=1]="Header",r[r.Summary=2]="Summary",r[r.GroupSummary=3]="GroupSummary",r[r.CaptionSummary=4]="CaptionSummary",r[r.Filter=5]="Filter",r[r.Indent=6]="Indent",r[r.GroupCaption=7]="GroupCaption",r[r.GroupCaptionEmpty=8]="GroupCaptionEmpty",r[r.Expand=9]="Expand",r[r.HeaderIndent=10]="HeaderIndent",r[r.StackedHeader=11]="StackedHeader",r[r.DetailHeader=12]="DetailHeader",r[r.DetailExpand=13]="DetailExpand",r[r.CommandColumn=14]="CommandColumn",r[r.DetailFooterIntent=15]="DetailFooterIntent",r[r.RowDragIcon=16]="RowDragIcon",r[r.RowDragHIcon=17]="RowDragHIcon"})(We||(We={}));var jr;(function(r){r[r.Header=0]="Header",r[r.Content=1]="Content",r[r.Summary=2]="Summary"})(jr||(jr={}));var CN;(function(r){r[r.Add=0]="Add",r[r.Edit=1]="Edit",r[r.Update=2]="Update",r[r.Delete=3]="Delete",r[r.Cancel=4]="Cancel",r[r.Print=5]="Print",r[r.Search=6]="Search",r[r.ColumnChooser=7]="ColumnChooser",r[r.PdfExport=8]="PdfExport",r[r.ExcelExport=9]="ExcelExport",r[r.CsvExport=10]="CsvExport",r[r.WordExport=11]="WordExport"})(CN||(CN={}));var ft;(function(r){r[r.isEdit=0]="isEdit",r[r.isAdd=1]="isAdd",r[r.isSort=2]="isSort",r[r.isFilter=3]="isFilter",r[r.isColMenu=4]="isColMenu",r[r.isColumnChooser=5]="isColumnChooser"})(ft||(ft={}));var bN;(function(r){r[r.isInitial=0]="isInitial",r[r.isSearch=1]="isSearch"})(bN||(bN={}));var cee=function(){function r(e,t){this.dataState={isPending:!1,resolver:null,group:[]},this.foreignKeyDataState={isPending:!1,resolver:null},this.parent=e,this.serviceLocator=t,this.initDataManager(),!(this.parent.isDestroyed||this.getModuleName()==="foreignKey")&&(this.parent.on(hN,this.addRows,this),this.parent.on(vX,this.reorderRows,this),this.parent.on(vC,this.removeRows,this),this.parent.on(MC,this.initDataManager,this),this.parent.on(js,this.destroy,this),this.parent.on(CC,this.crudActions,this),this.parent.on(uN,this.getData,this),this.parent.on(wp,this.refreshFilteredCols,this),this.parent.on(DC,this.refreshFilteredCols,this))}return r.prototype.reorderRows=function(e){this.parent.isRemote()?this.parent.getCurrentViewRecords().splice(e.toIndex,0,this.parent.getCurrentViewRecords().splice(e.fromIndex,1)[0]):this.dataManager.dataSource.json.splice(e.toIndex,0,this.dataManager.dataSource.json.splice(e.fromIndex,1)[0])},r.prototype.getModuleName=function(){return"data"},r.prototype.initDataManager=function(){var e=this.parent;this.dataManager=e.dataSource instanceof fe?e.dataSource:p(e.dataSource)?new fe:new fe(e.dataSource),e.isAngular&&!(e.query instanceof He)?e.setProperties({query:new He},!0):(this.isQueryInvokedFromData=!0,e.query instanceof He||(e.query=new He))},r.prototype.generateQuery=function(e,t){var i=this.parent,n=p(i.getQuery())?new He:i.getQuery().clone();if(this.parent.columnQueryMode==="ExcludeHidden")n.select(this.parent.getColumns().filter(function(l){return!(l.isPrimaryKey!==!0&&l.visible===!1||l.field===void 0)}).map(function(l){return l.field}));else if(this.parent.columnQueryMode==="Schema"){for(var s=[],o=this.parent.columns,a=0;a<o.length;a++)s.push(o[parseInt(a.toString(),10)].field);n.select(s)}return this.filterQuery(n),this.searchQuery(n),this.aggregateQuery(n),this.sortQuery(n),uo(this.parent)?this.virtualGroupPageQuery(n):this.pageQuery(n,e),(p(t)||!t)&&this.groupQuery(n),n},r.prototype.pinnedDataQuery=function(e){return this.filterQuery(e),this.searchQuery(e),this.sortQuery(e),e},r.prototype.aggregateQuery=function(e){for(var t=this.parent.aggregates,i=0;i<t.length;i++)for(var n=t[parseInt(i.toString(),10)],s=0;s<n.columns.length;s++)for(var o=n.columns[parseInt(s.toString(),10)],a=o.type instanceof Array?o.type:[o.type],l=0;l<a.length;l++)e.aggregate(a[parseInt(l.toString(),10)].toLowerCase(),o.field);return e},r.prototype.virtualGroupPageQuery=function(e){var t="fn";if(e.queries.length)for(var i=0;i<e.queries.length;i++)e.queries[parseInt(i.toString(),10)][""+t]==="onPage"&&e.queries.splice(i,1);return e},r.prototype.pageQuery=function(e,t){var i=this.parent;if(t)return e;var n="fn",s={query:e,skipPage:!1};if(i.notify(JX,s),s.skipPage)return e;if((i.allowPaging||i.enableVirtualization||i.enableInfiniteScrolling)&&t!==!0){if(i.pageSettings.currentPage=Math.max(1,i.pageSettings.currentPage),i.pageSettings.pageCount<=0&&(i.pageSettings.pageCount=8),i.pageSettings.pageSize<=0&&(i.pageSettings.pageSize=12),e.queries.length)for(var o=0;o<e.queries.length;o++)e.queries[parseInt(o.toString(),10)][""+n]==="onPage"&&e.queries.splice(o,1);!p(i.infiniteScrollModule)&&i.enableInfiniteScrolling?this.parent.notify(EX,e):e.page(i.pageSettings.currentPage,i.allowPaging&&i.pagerModule&&i.pagerModule.pagerObj.isAllPage&&!i.isManualRefresh&&!this.dataManager.dataSource.offline&&!(this.dataManager.adaptor instanceof ly)?null:i.pageSettings.pageSize)}return e},r.prototype.groupQuery=function(e){var t=this.parent;if(t.allowGrouping&&t.groupSettings.columns.length){this.parent.groupSettings.enableLazyLoading&&e.lazyLoad.push({key:"isLazyLoad",value:this.parent.groupSettings.enableLazyLoading});for(var i=t.groupSettings.columns,n=0,s=i.length;n<s;n++){var o=this.getColumnByField(i[parseInt(n.toString(),10)]);o||this.parent.log("initial_action",{moduleName:"group",columnName:i[parseInt(n.toString(),10)]});var a=o.enableGroupByFormat,l=o.format;a?e.group(i[parseInt(n.toString(),10)],this.formatGroupColumn.bind(this),l):e.group(i[parseInt(n.toString(),10)],null)}}return e},r.prototype.sortQuery=function(e){var t=this.parent;if((t.allowSorting||t.allowGrouping)&&t.sortSettings.columns.length){for(var i=t.sortSettings.columns,n=[],s=i.length-1;s>-1;s--){var o=this.getColumnByField(i[parseInt(s.toString(),10)].field);if(o)o.setSortDirection(i[parseInt(s.toString(),10)].direction);else return this.parent.log("initial_action",{moduleName:"sort",columnName:i[parseInt(s.toString(),10)].field}),e;var a=i[parseInt(s.toString(),10)].direction;o.sortComparer&&(a=o.sortComparer.bind(o)),t.groupSettings.columns.indexOf(i[parseInt(s.toString(),10)].field)===-1?o.isForeignColumn()||o.sortComparer?e.sortByForeignKey(o.field,a,void 0,i[parseInt(s.toString(),10)].direction.toLowerCase(),o.foreignKeyValue):e.sortBy(o.field,a):n.push({direction:a,field:o.field})}for(var s=0,l=n.length;s<l;s++)if(typeof n[parseInt(s.toString(),10)].direction=="string")e.sortBy(n[parseInt(s.toString(),10)].field,n[parseInt(s.toString(),10)].direction);else{var o=this.getColumnByField(n[parseInt(s.toString(),10)].field);e.sortByForeignKey(n[parseInt(s.toString(),10)].field,n[parseInt(s.toString(),10)].direction,void 0,o.getSortDirection().toLowerCase(),o.foreignKeyValue)}}return e},r.prototype.searchQuery=function(e,t,i){var n=this.parent.searchSettings,s=!p(n.fields)&&n.fields.length?n.fields:this.getSearchColumnFieldNames(),o=[],a=!1;if(!p(this.parent.searchSettings.key)&&this.parent.searchSettings.key.length){a=this.parent.getForeignKeyColumns().some(function(d){return s.indexOf(d.field)>-1});var l=i?t.dataSource.adaptor:this.dataManager.adaptor;if(a||l.getModuleName&&l.getModuleName()==="ODataV4Adaptor"){s=i?[t.foreignKeyValue]:s;for(var h=0;h<s.length;h++){var u=i?t:this.getColumnByField(s[parseInt(h.toString(),10)]);u.isForeignColumn()&&!i?o=this.fGeneratePredicate(u,o):o.push(new Tt(s[parseInt(h.toString(),10)],n.operator,n.key,n.ignoreCase,n.ignoreAccent))}var c=Tt.or(o);c.key=n.key,e.where(c)}else e.search(n.key,s,n.operator,n.ignoreCase,n.ignoreAccent)}return e},r.prototype.filterQuery=function(e,t,i){var n=this.parent,s=[],o=this.parent.getForeignKeyColumns(),a;if(n.allowFiltering&&n.filterSettings.columns.length){for(var l=t||n.filterSettings.columns,h={},u=0,c=n.getColumns();u<c.length;u++){var d=c[u];h[d.field]=d.filter.type?d.filter.type:n.filterSettings.type}for(var f=[],g=[],m=0,y=l;m<y.length;m++){var d=y[m],v=d.isForeignKey?n.getColumnByUid(d.uid):n.getColumnByField(d.field);p(d.type)&&v&&(v.type==="date"||v.type==="datetime"||v.type==="dateonly")&&(d.type=d.isForeignKey?n.getColumnByUid(d.uid).type:n.getColumnByField(d.field).type),d.isForeignKey?f.push(d):g.push(d)}if(g.length){for(var M=0,S=g.length;M<S;M++)g[parseInt(M.toString(),10)].uid=g[parseInt(M.toString(),10)].uid||this.parent.grabColumnByFieldFromAllCols(g[parseInt(M.toString(),10)].field,g[parseInt(M.toString(),10)].isForeignKey).uid;for(var b=EN.getPredicate(g),C=0,T=Object.keys(b);C<T.length;C++){var k=T[C];s.push(b[""+k])}}if(f.length)for(var N=0,A=f;N<A.length;N++){var d=A[N];d.uid=d.uid||this.parent.grabColumnByFieldFromAllCols(d.field,d.isForeignKey).uid;var E=this.parent.grabColumnByUidFromAllCols(d.uid);if(E||this.parent.log("initial_action",{moduleName:"filter",columnName:d.field}),E.isForeignColumn()&&oD(d.field,o)&&!i)E.columnData.length||(a=!0),s=this.fGeneratePredicate(E,s);else for(var b=EN.getPredicate(l),x=0,D=Object.keys(b);x<D.length;x++){var k=D[x];s.push(b[""+k])}}s.length&&!a?e.where(Tt.and(s)):this.parent.notify(Vj,{})}return e},r.prototype.fGeneratePredicate=function(e,t){var i={};return e&&(this.parent.notify(Rg,{predicate:i,column:e}),i.predicate.predicates.length&&t.push(i.predicate)),t},r.prototype.getData=function(e,t){var i=this;e===void 0&&(e={requestType:""});var n=this.getKey(e.foreignKeyData&&Object.keys(e.foreignKeyData).length?e.foreignKeyData:this.parent.getPrimaryKeyFieldNames());if(this.parent.log("datasource_syntax_mismatch",{dataState:this.parent}),this.parent.dataSource&&"result"in this.parent.dataSource){var s=this.eventPromise(e,t,n);return s.promise}else{var o=void 0;switch(e.requestType){case"delete":t=t||this.generateQuery();var a=Object.keys(e.data).length;if(a===1)o=this.dataManager.remove(n,e.data[0],t.fromTable,t);else{var l={addedRecords:[],deletedRecords:[],changedRecords:[]};l.deletedRecords=e.data,o=this.dataManager.saveChanges(l,n,t.fromTable,t.requiresCount())}break;case"save":t=t||this.generateQuery(),e.index=p(e.index)?0:e.index,o=this.dataManager.insert(e.data,t.fromTable,t,e.index);break}var h="promise";return e[""+h]=o,o&&!Array.isArray(o)&&!o.hasOwnProperty("deletedRecords")?o.then(function(){return i.insert(t,e)}):this.insert(t,e)}},r.prototype.insert=function(e,t){return t.requestType==="save"&&(t.query=e,this.parent.notify(fN,t)),this.executeQuery(e)},r.prototype.executeQuery=function(e){var t=this;if(this.dataManager.ready){var i=new mi,n=this.dataManager.ready;return n.then(function(){t.dataManager.executeQuery(e).then(function(s){i.resolve(s)})}).catch(function(s){i.reject(s)}),i.promise}else return this.dataManager.executeQuery(e)},r.prototype.formatGroupColumn=function(e,t){var i=this.serviceLocator,n=this.getColumnByField(t),s=e;n.type||(n.type=s.getDay?s.getHours()>0||s.getMinutes()>0||s.getSeconds()>0||s.getMilliseconds()>0?"datetime":"date":typeof e),p(n.getFormatter())&&zC(i,n);var o=df.prototype.toView(e,n.getFormatter());return o},r.prototype.crudActions=function(e){var t=this.generateQuery(),i=null,n="promise",s=this.getKey(e.foreignKeyData&&Object.keys(e.foreignKeyData).length?e.foreignKeyData:this.parent.getPrimaryKeyFieldNames());switch(this.parent.dataSource&&"result"in this.parent.dataSource&&this.eventPromise(e,t,s),e.requestType){case"save":i=this.dataManager.update(s,e.data,t.fromTable,t,e.previousData);break}e[""+n]=i||e[""+n],this.parent.notify(hX,e)},r.prototype.saveChanges=function(e,t,i,n){if(n===void 0&&(n=this.generateQuery()),n.requiresCount(),"result"in this.parent.dataSource){var s=new mi,o={requestType:"batchsave",changes:e,key:t,query:n,endEdit:s.resolve};return this.setState({isPending:!0,resolver:s.resolve}),this.parent.trigger(dN,o),s.promise}else{var a=this.dataManager.saveChanges(e,t,n.fromTable,n,i);return a}},r.prototype.getKey=function(e){if(e&&e.length)return e[0]},r.prototype.isRemote=function(){return this.dataManager.dataSource.offline!==!0&&this.dataManager.dataSource.url!==void 0&&this.dataManager.dataSource.url!==""},r.prototype.clearCache=function(){this.isRemote()&&this.parent.dataSource.clearCache()},r.prototype.addRows=function(e){for(var t=e.records.length;t>0;t--)this.parent.dataSource instanceof fe&&this.dataManager.dataSource.offline?this.dataManager.dataSource.json.splice(e.toIndex,0,e.records[t-1]):!this.parent.getDataModule().isRemote()&&!p(this.parent.dataSource)&&!this.parent.dataSource.result&&this.parent.dataSource.splice(e.toIndex,0,e.records[t-1])},r.prototype.removeRows=function(e){var t=this.dataManager.dataSource.json;this.parent.dataSource instanceof fe&&this.dataManager.dataSource.offline?this.dataManager.dataSource.json=t.filter(function(i){return e.records.indexOf(i)===-1}):!this.parent.getDataModule().isRemote()&&!p(this.parent.dataSource)&&!this.parent.dataSource.result&&(this.parent.dataSource=t.filter(function(i){return e.records.indexOf(i)===-1}))},r.prototype.getColumnByField=function(e){var t;return this.parent.columnModel.some(function(i){return t=i,i.field===e})&&t},r.prototype.destroy=function(){this.parent.isDestroyed||(this.parent.off(hN,this.addRows),this.parent.off(vC,this.removeRows),this.parent.off(MC,this.initDataManager),this.parent.off(js,this.destroy),this.parent.off(CC,this.crudActions),this.parent.off(uN,this.getData),this.parent.off(wp,this.refreshFilteredCols),this.parent.off(DC,this.refreshFilteredCols))},r.prototype.getState=function(){return this.dataState},r.prototype.setState=function(e){return this.dataState=e},r.prototype.getForeignKeyDataState=function(){return this.foreignKeyDataState},r.prototype.setForeignKeyDataState=function(e){this.foreignKeyDataState=e},r.prototype.getStateEventArgument=function(e){var t=new hr,i=new fe({url:"",adaptor:new hr}),n=t.processQuery(i,e),s=JSON.parse(n.data);return ie(s,n.pvtData)},r.prototype.eventPromise=function(e,t,i){var n=this,s=e,o=this.getStateEventArgument(t),a=new mi,l=new mi;if((e.requestType!==void 0||this.parent.groupSettings.disablePageWiseAggregates&&t.queries.some(function(c){return c.fn==="onGroup"}))&&this.dataState.isDataChanged!==!1)if(o.action=e,e.requestType==="save"||e.requestType==="delete"||e.requestType==="batchsave"){var h=e;h.key=i;var u="promise";h[""+u]=l.promise,h.state=o,this.setState({isPending:!0,resolver:l.resolve}),s.endEdit=l.resolve,s.cancelEdit=l.reject,this.parent.trigger(dN,h),l.promise.then(function(){n.setState({isPending:!0,resolver:a.resolve,group:o.group,aggregates:o.aggregates}),h.requestType==="save"&&n.parent.notify(fN,h),n.parent.trigger(bC,o)}).catch(function(){})}else this.setState({isPending:!0,resolver:a.resolve,group:o.group,aggregates:o.aggregates}),this.parent.trigger(bC,o);else this.setState({}),a.resolve(this.parent.dataSource);return a},r.prototype.getSearchColumnFieldNames=function(){for(var e=[],t=this.parent.getColumns(),i=0,n=t;i<n.length;i++){var s=n[i];s.allowSearching&&!p(s.field)&&e.push(s.field)}return e},r.prototype.refreshFilteredCols=function(){this.parent.allowFiltering&&this.parent.filterSettings.columns.length&&kte(this.parent,this.parent.filterSettings.columns)},r}(),Pc=function(){function r(e,t){ai(this,e),this.parent=t}return r.prototype.clone=function(){var e=new r({});return ai(e,this),e.cells=this.cells.map(function(t){return t.clone()}),e},r.prototype.setRowValue=function(e){if(this.parent){var t=this.data[this.parent.getPrimaryKeyFieldNames()[0]];this.parent.setRowData(t,e)}},r.prototype.setCellValue=function(e,t){if(this.parent){var i=this.data[""+e].toString()!==t.toString();if(i){var n=this.parent.getPrimaryKeyFieldNames()[0],s=this.data[""+n];this.parent.setCellValue(s,e,t),this.makechanges(n,this.data)}else return}},r.prototype.makechanges=function(e,t){if(this.parent){var i=this.parent,n=i.getDataModule().dataManager;n.update(e,t)}},r}(),xp=function(){function r(e){this.isSpanned=!1,this.isRowSpanned=!1,ai(this,e)}return r.prototype.clone=function(){var e=new r({});return ai(e,this),e},r}(),NC=function(){function r(e,t){this.serviceLocator=e,this.parent=t}return r.prototype.render=function(e,t,i,n){var s=this.serviceLocator.getService("cellRendererFactory"),o=s.getCellRenderer(t.cells[parseInt(i.toString(),10)].cellType||We.Data),a=t.cells[parseInt(i.toString(),10)].cellSpan?t.cells[parseInt(i.toString(),10)].cellSpan:e.colSpan?e.colSpan+i<=t.cells.length?e.colSpan:t.cells.length-i:1,l=e.rowSpan,h=0,u;if(t.index>this.parent.pinnedTopRecords.length){var c=t.index-this.parent.pinnedTopRecords.length,d=this.parent.getRowsObject().filter(function(M){return M.isDataRow}),f=this.parent.groupSettings.columns.length>0&&!d[parseInt(c.toString(),10)-1].isDataRow?d[parseInt(c.toString(),10)].cells:d[parseInt(c.toString(),10)-1].cells,g=t.cells[parseInt(i.toString(),10)],m="uid";u=f.filter(function(M){return M.column.uid===g.column[""+m]})[0]}for(var y=u&&u.colSpanRange>1&&u.rowSpanRange>1?u.colSpanRange:a,v=i+1;v<i+y&&v<t.cells.length;v++)t.cells[parseInt(v.toString(),10)].visible===!1?h++:t.cells[parseInt(v.toString(),10)].isSpanned=!0;if(h>0){for(var v=i+a;v<i+a+h&&v<t.cells.length;v++)t.cells[parseInt(v.toString(),10)].isSpanned=!0;i+a+h>=t.cells.length&&(a-=i+a+h-t.cells.length)}if(t.cells[parseInt(i.toString(),10)].cellSpan){t.data[e.column.field]=t.cells[parseInt(i.toString(),10)].spanText;var c=t.index-this.parent.pinnedTopRecords.length;n=o.render(t.cells[parseInt(i.toString(),10)],t.data,{index:p(c)?"":c.toString()})}return a>1&&Et(n,{colSpan:a.toString(),"aria-colSpan":a.toString()}),l>1&&(Et(n,{rowspan:l.toString(),"aria-rowspan":l.toString()}),t.cells[parseInt(i.toString(),10)].isRowSpanned=!0,t.cells[parseInt(i.toString(),10)].rowSpanRange=Number(l),a>1&&(t.cells[parseInt(i.toString(),10)].colSpanRange=Number(a))),t.index>this.parent.pinnedTopRecords.length&&u.rowSpanRange>1&&(t.cells[parseInt(i.toString(),10)].isSpanned=!0,t.cells[parseInt(i.toString(),10)].rowSpanRange=Number(u.rowSpanRange-1),t.cells[parseInt(i.toString(),10)].colSpanRange=u.rowSpanRange>0?u.colSpanRange:1),this.parent.enableColumnVirtualization&&!t.cells[parseInt(i.toString(),10)].cellSpan&&!this.containsKey(e.column.field,e.data[e.column.field])&&this.backupMergeCells(e.column.field,e.data[e.column.field],e.colSpan),n},r.prototype.backupMergeCells=function(e,t,i){this.setMergeCells(this.generteKey(e,t),i)},r.prototype.generteKey=function(e,t){return e+"__"+t.toString()},r.prototype.splitKey=function(e){return e.split("__")},r.prototype.containsKey=function(e,t){return this.getMergeCells().hasOwnProperty(this.generteKey(e,t))},r.prototype.getMergeCells=function(){return this.parent.mergeCells},r.prototype.setMergeCells=function(e,t){this.parent.mergeCells[""+e]=t},r.prototype.updateVirtualCells=function(e){for(var t=this.getMergeCells(),i=0,n=Object.keys(t);i<n.length;i++){var s=n[i],o=t[""+s],a=this.splitKey(s),l=this.getIndexFromAllColumns(a[0]),h=this.parent.getColumnIndexesInView(),u=o-(h[0]-l);if(l<h[0]&&u>1)for(var c=0,d=e;c<d.length;c++){var f=d[c];if(f.data[a[0]].toString()===a[1].toString()){f.cells[0].cellSpan=u,f.cells[0].spanText=a[1];break}}}return e},r.prototype.getIndexFromAllColumns=function(e){var t=ao(this.parent.getVisibleColumns(),function(i,n){if(i.field===e)return n})[0];return t},r}(),Gt="e-rowcell",ds="e-gridheader",aa="e-gridcontent",Pg="e-gridfooter",Tn="e-headercontent",eg="e-movablecontent",AC="e-movableheader",En="e-content",ta="e-table",jn="e-row",Wu="e-gridchkbox",Qd="e-editedrow",qu="e-addedrow",dee="changedRecords",py="addedRecords",Kj="deletedRecords",vs="Left-Right",pee="frozen-right",Qi="aria-colindex",Ti="aria-rowindex",$t="tbody",ss="colgroup",IN="initialFrozenColumnIndex",Np=function(){function r(e,t,i){this.isSpan=!1,this.cellType=t,this.serviceLocator=e,this.parent=i,this.element=this.parent.createElement("tr",{attrs:{role:"row"}})}return r.prototype.render=function(e,t,i,n,s){return this.refreshRow(e,t,i,n,s)},r.prototype.refresh=function(e,t,i,n,s){var o=this;i&&(e.data=aD({},e.changes),this.refreshMergeCells(e));var a=this.parent.element.querySelector("[data-uid="+e.uid+"]"),l=this.refreshRow(e,t,n,s,null,i);a.classList.contains("e-grid-pin-row")&&l.classList.add("e-grid-pin-row"),i&&_d(l);var h=[].slice.call(l.cells),u=[].slice.call(a.querySelectorAll(".e-templatecell"));if(this.parent.isReact&&u.length)for(var c=function(b){if(b.template)return setTimeout(function(){o.parent.refreshReactColumnTemplateByUid(b.uid,!0)},0),"break"},d=0,f=t;d<f.length;d++){var g=f[d],m=c(g);if(m==="break")break}var y=[].slice.call(l.attributes);y.map(function(b){a.setAttribute(b.name,b.value)}),a.innerHTML="";for(var v=0,M=h;v<M.length;v++){var S=M[v];a.appendChild(S)}},r.prototype.refreshRow=function(e,t,i,n,s,o){var a=p(s)?this.element.cloneNode():s,l={data:e.data},h={data:e.data},u=this.parent.getColumns().filter(function(P){return P.type==="checkbox"&&P.field})[0],c=!1,d=this.parent.isFrozenGrid(),f=!0;u&&(c=It(u.field,l.data));var g=this.parent.getSelectedRowIndexes();e.isDataRow&&(e.isSelected=g.indexOf(e.index)>-1||c);var m=this.parent.currentViewData;e.isDataRow&&this.parent.isCheckBoxSelection&&this.parent.checkAllRows==="Check"&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&(e.isSelected=!0,g.indexOf(e.index)===-1&&g.push(e.index)),this.buildAttributeFromRow(a,e),Et(a,ie({},i,{})),eo(a,e.attributes);for(var y=this.serviceLocator.getService("cellRendererFactory"),v=function(P,ve){var X=e.cells[parseInt(P.toString(),10)];X.isSelected=e.isSelected,X.isColumnSelected=X.column.isSelected;var De=y.getCellRenderer(e.cells[parseInt(P.toString(),10)].cellType||We.Data),Fe={"data-index":p(e.index)?"":e.index.toString()};e.isExpand&&e.cells[parseInt(P.toString(),10)].cellType===We.DetailExpand&&(Fe.class=M.parent.isPrinting?"e-detailrowcollapse":"e-detailrowexpand");var Re=!M.parent.enableRtl&&f&&(M.parent.gridLines==="Vertical"||M.parent.gridLines==="Both"),U=De.render(e.cells[parseInt(P.toString(),10)],e.data,Fe,e.isExpand,o);if(e.cells[parseInt(P.toString(),10)].cellType!==We.Filter){if(e.cells[parseInt(P.toString(),10)].cellType===We.Data||e.cells[parseInt(P.toString(),10)].cellType===We.CommandColumn){X.visible&&Re&&(M.parent.groupSettings&&M.parent.groupSettings.columns.length?U.classList.add("e-grid-group-first-cell"):M.parent.renderModule&&M.parent.renderModule.isFirstColumnHidden&&!(M.parent.allowRowDragAndDrop||M.parent.childGrid||M.parent.detailTemplate)&&U.classList.add("e-first-visible-cell"),f=!1);var Y=M.parent.parentDetails&&M.parent.parentDetails.parentInstObj&&M.parent.parentDetails.parentInstObj.isReact,ae=M.parent.printGridParent&&M.parent.printGridParent.isReact;if((M.parent.isReact&&M.parent.requireTemplateRef||Y&&M.parent.parentDetails.parentInstObj.requireTemplateRef||ae&&M.parent.printGridParent.requireTemplateRef)&&X.isTemplate){var we=M;we.parent.renderTemplates(function(){if(typeof X.column.template!="string"){var xv=U.getAttribute("aria-label");U.setAttribute("aria-label",U.innerText+xv)}we.parent.trigger(dC,ie(h,{cell:U,column:X.column,colSpan:1,rowSpan:1,foreignKeyData:e.cells[parseInt(P.toString(),10)].foreignKeyData,requestType:we.parent.requestTypeAction}))})}else M.parent.trigger(dC,ie(h,{cell:U,column:X.column,colSpan:1,rowSpan:1,foreignKeyData:e.cells[parseInt(P.toString(),10)].foreignKeyData,requestType:M.parent.requestTypeAction}));var se=M.parent.enableVirtualization||M.parent.enableColumnVirtualization||M.parent.enableInfiniteScrolling||M.parent.allowGrouping&&M.parent.groupSettings.columns.length&&M.parent.groupSettings.enableLazyLoading||e.index<M.parent.pinnedTopRecords.length;if(!se){var Me="field",ze=["date","datetime","dateonly"];if(e.isDataRow&&M.parent.enableColumnSpan&&X.column.enableColumnSpan&&!X.isSpanned&&X.visible&&!X.isTemplate&&e.data[X.column[""+Me]]!==""&&!X.isForeignKey){var Te=1,Le=De.getValue(X.column[""+Me],e.data,X.column);ze.indexOf(X.column.type)!==-1&&!p(Le)&&Le instanceof Date&&(Le=Le.getTime());for(var Ne=P;Ne<e.cells.length-1;Ne++){var qe=e.cells[parseInt(Ne.toString(),10)+1],je=De.getValue(qe.column[""+Me],e.data,qe.column);if(ze.indexOf(qe.column.type)!==-1&&!p(je)&&je instanceof Date&&(je=je.getTime()),Le===je&&qe.visible&&qe.column.enableColumnSpan&&!qe.isForeignKey)Te++;else break}h.colSpan=Te}if(e.isDataRow&&M.parent.enableRowSpan&&X.column.enableRowSpan&&!X.isSpanned&&!X.isTemplate&&X.visible&&e.data[X.column[""+Me]]!==""&&!X.isForeignKey){var Qe=e.index-M.parent.pinnedTopRecords.length,at=M.parent.groupSettings.columns.length?e.groupDataIndex:Qe;e.isDataRow&&M.parent.groupSettings.columns.length&&!p(e.parentUid)&&(m=M.parent.getRowObjectFromUID(e.parentUid).data.items);var dt=1,Le=De.getValue(X.column[""+Me],e.data,X.column);ze.indexOf(X.column.type)!==-1&&!p(Le)&&Le instanceof Date&&(Le=Le.getTime());for(var Ne=at+1;Ne<m.length;Ne++){var R=De.getValue(X.column[""+Me],m[parseInt(Ne.toString(),10)],X.column);if(ze.indexOf(X.column.type)!==-1&&!p(R)&&R instanceof Date&&(R=R.getTime()),Le===R)dt++;else break}h.rowSpan=dt}}var _=!1;if(e.index>M.parent.pinnedTopRecords.length&&(M.isSpan||M.parent.isSpan&&o)){var Qe=e.index-M.parent.pinnedTopRecords.length,de=M.parent.getRowsObject().filter(function(Nv){return Nv.isDataRow}),Ie=M.parent.groupSettings.columns.length>0&&!de[Qe-1].isDataRow?de[parseInt(Qe.toString(),10)].cells:de[parseInt(Qe.toString(),10)-1].cells,Ee="uid",Ae=Ie.filter(function(Nv){return Nv.column.uid===e.cells[parseInt(P.toString(),10)].column[""+Ee]})[0];_=Ae.isRowSpanned?Ae.isRowSpanned:Ae.rowSpanRange>1}if((h.rowSpan>1||h.colSpan>1)&&e.index>=M.parent.pinnedTopRecords.length){var Qe=e.index-M.parent.pinnedTopRecords.length;if(M.resetrowSpanvalue(M.parent.frozenRows>Qe?M.parent.frozenRows:m.length,h,Qe),h.column.visible===!1)h.colSpan=1;else if(d){var ht=M.parent.getColumns(),vi=M.parent.getFrozenRightColumnsCount(),wt=M.parent.getFrozenLeftCount(),Yt=ht.length-vi,ge=h.column.index;if(wt>ge&&wt<ge+h.colSpan){var ke=ge+h.colSpan-wt;h.colSpan=h.colSpan-ke}else if(Yt<=ge&&ht.length<ge+h.colSpan){var ke=ge+h.colSpan-ht.length;h.colSpan=h.colSpan-ke}else if(h.column.freeze==="Fixed"){for(var ke=1,ut=ge,Ne=ut+1;Ne<ut+h.colSpan&&ht[parseInt(Ne.toString(),10)].freeze==="Fixed";Ne++)ke++;h.colSpan=ke}else if(Yt>ge&&Yt<ge+h.colSpan){var ke=ge+h.colSpan-Yt;h.colSpan=h.colSpan-ke}}}if((h.colSpan>1||e.cells[parseInt(P.toString(),10)].cellSpan>1||h.rowSpan>1||_)&&e.index>=M.parent.pinnedTopRecords.length){M.parent.isSpan=!0,M.isSpan=!0;var Ii=new NC(M.serviceLocator,M.parent);U=Ii.render(h,e,P,U),d&&Bte(M.parent,h.column,U,h.colSpan)}}if((X.cellType===We.Header||X.cellType===We.StackedHeader)&&Re&&(X.visible||X.cellType===We.StackedHeader)){var Ri=M.parent.getVisibleColumns(),Me="field",pt="type";(X.column[""+pt]&&X.column[""+pt]==="checkbox"||X.cellType===We.Header&&X.column[""+Me]&&Ri.length&&Ri[0].field===X.column[""+Me]||X.cellType===We.StackedHeader)&&(M.parent.groupSettings&&M.parent.groupSettings.columns.length?U.classList.add("e-grid-group-first-cell"):M.parent.renderModule&&M.parent.renderModule.isFirstColumnHidden&&!(M.parent.allowRowDragAndDrop||M.parent.childGrid||M.parent.detailTemplate)&&U.classList.add("e-first-visible-cell")),f=!1}if(X.cellType===We.Header&&(e.cells[parseInt(P.toString(),10)].colSpan>1||e.cells[parseInt(P.toString(),10)].rowSpan>1)){var Ii=new NC(M.serviceLocator,M.parent);U=Ii.render(e.cells[parseInt(P.toString(),10)],e,P,U)}if(M.isSpan){var de=M.parent.getRowsObject(),_r=M.parent.enableRtl,Qe=e.index-M.parent.pinnedTopRecords.length;if(de[e.index-1]&&de[Qe-1].isDataRow){var Ie=de[Qe-1].cells,Ae=Ie[P-1],Yr=Ie[parseInt(P.toString(),10)],bo=Ie[P+1],xr=Ie[parseInt(P.toString(),10)].column.freeze;Ae&&(Ae.isRowSpanned||Ae.rowSpanRange>1)&&Ae.visible&&(!_r&&(!Yr.isRowSpanned||Ae.rowSpanRange>Yr.rowSpanRange)&&U.classList.add("e-rowcell-firstchild"),d&&(Ae.column.freeze==="Fixed"&&xr==="Fixed"?U.classList.add(_r?"e-removefreezerightborder":"e-removefreezeleftborder"):!_r&&P===1&&xr==="Left"&&U.classList.add("e-addfreezefirstchildborder"))),bo&&(bo.isRowSpanned||bo.rowSpanRange>1)&&bo.visible&&(_r&&(!Yr.isRowSpanned||bo.rowSpanRange>Yr.rowSpanRange)&&U.classList.add("e-rowcell-lastchild"),d&&bo.column.freeze==="Fixed"&&xr==="Fixed"&&h.colSpan<2&&U.classList.add(_r?"e-removefreezeleftborder":"e-removefreezerightborder"))}}h.rowSpan>1&&m.length-(e.index-M.parent.pinnedTopRecords.length)===h.rowSpan&&U.classList.add("e-row-span-lastrowcell"),e.cells[parseInt(P.toString(),10)].isSpanned||a.appendChild(U)}else X.visible&&Re&&(M.parent.groupSettings&&M.parent.groupSettings.columns.length?U.classList.add("e-grid-group-first-cell"):M.parent.renderModule&&M.parent.renderModule.isFirstColumnHidden&&!(M.parent.allowRowDragAndDrop||M.parent.childGrid||M.parent.detailTemplate)&&U.classList.add("e-first-visible-cell"),f=!1)},M=this,S=0,b=e.cells.length;S<b;S++)v(S);var C=0;if(this.parent.groupSettings.columns.length&&this.parent.getFrozenLeftColumnsCount()){if(a.classList.contains("e-groupcaptionrow")){var T=[].slice.call(a.querySelectorAll(".e-leftfreeze,.e-unfreeze,.e-rightfreeze,.e-fixedfreeze,.e-freezerightborder,.e-freezeleftborder"));if(T.length&&ue(T,["e-leftfreeze","e-unfreeze","e-rightfreeze","e-fixedfreeze","e-freezerightborder","e-freezeleftborder"]),a.querySelector(".e-summarycell"))Lte(a,this.parent);else{for(var k=0;k<a.childNodes.length;k++){var N=a.childNodes[parseInt(k.toString(),10)];if(N.classList.add("e-leftfreeze"),Bn(N,k*30,this.parent.enableRtl,"Left"),N.classList.contains("e-groupcaption")){var A=parseInt(N.getAttribute("colspan"),10),E=pP(this.parent,k);N.setAttribute("colspan",E.toString()),C=A-E}}if(C){var N=this.parent.createElement("TD",{className:"e-groupcaption",attrs:{colspan:C.toString(),id:this.parent.element.id+"captioncell",tabindex:"-1"}});a.appendChild(N)}}}if((a.querySelectorAll(".e-leftfreeze").length||a.classList.contains("e-columnheader"))&&(a.querySelectorAll(".e-indentcell").length||a.querySelectorAll(".e-grouptopleftcell").length))for(var N=a.querySelectorAll(".e-indentcell, .e-grouptopleftcell"),S=0;S<N.length;S++)N[parseInt(S.toString(),10)].classList.add("e-leftfreeze"),Bn(N[parseInt(S.toString(),10)],S*30,this.parent.enableRtl,"Left")}var x={row:a,rowHeight:this.parent.rowHeight};if(e.isDataRow){var D=ie(l,x);D.isSelectable=!0;var z=this.parent.getPrimaryKeyFieldNames()[0],w=e.data[""+z];this.parent.renderModule&&Object.keys(this.parent.renderModule.nonselectableDataKey).length&&this.parent.renderModule.nonselectableDataKey[""+w]===!1&&(D.isSelectable=!1);var O=this.parent.parentDetails&&this.parent.parentDetails.parentInstObj&&this.parent.parentDetails.parentInstObj.isReact,L=D.row.querySelectorAll(".e-templatecell");if((this.parent.isReact&&this.parent.requireTemplateRef||O&&this.parent.parentDetails.parentInstObj.requireTemplateRef)&&L.length){var j=this;j.parent.renderTemplates(function(){j.parent.trigger(uy,D),D.isSelectable||(e.isSelectable=D.isSelectable,j.disableRowSelection(j,e,x,D))})}else this.parent.trigger(uy,D);e.isSelectable=D.isSelectable;var B=this.parent.isRowDragable();if(this.parent.allowPaging&&this.parent.selectionSettings.persistSelection){var V=e.data?e.data[""+z]:null,ee=D.isSelectable?this.parent.partialSelectedRecords:this.parent.disableSelectedRecords;ee.some(function(P){return P[""+z]===V})||ee.push(e.data)}if(D.isSelectable||this.disableRowSelection(this,e,x,D),this.parent.childGrid||B||this.parent.detailTemplate){var N=a.querySelectorAll(".e-rowcell:not(.e-hide)")[0];N&&N.classList.add("e-detailrowvisible")}}this.parent.enableVirtualization&&(l.rowHeight=this.parent.rowHeight),l.rowHeight?a.style.height=l.rowHeight+"px":this.parent.rowHeight&&(a.querySelector(".e-headercell")||a.querySelector(".e-groupcaption"))&&(a.style.height=this.parent.rowHeight+"px"),e.cssClass&&a.classList.add(e.cssClass),e.lazyLoadCssClass&&a.classList.add(e.lazyLoadCssClass),this.parent.rowRenderingMode==="Vertical"&&this.parent.allowTextWrap&&(this.parent.textWrapSettings.wrapMode==="Header"||this.parent.textWrapSettings.wrapMode==="Both")&&a.classList.add("e-verticalwrap");var W=this.parent.enableColumnVirtualization;if(!W&&this.parent.aggregates.length&&this.parent.element.scrollHeight>this.parent.height)for(var S=0;S<this.parent.aggregates.length;S++){var J="properties",K="columns";if(this.parent.aggregates[parseInt(S.toString(),10)][""+J][""+K][0].footerTemplate){var le=[].slice.call(a.getElementsByClassName("e-summarycell"));if(le.length){var me=le[le.length-1];Z([me],["e-lastsummarycell"]);var pe=le[0];Z([pe],["e-firstsummarycell"])}}}return a},r.prototype.resetrowSpanvalue=function(e,t,i){if(e>i&&e<i+t.rowSpan){var n=i+t.rowSpan-e;t.rowSpan=t.rowSpan-n}},r.prototype.disableRowSelection=function(e,t,i,n){var s=this.parent.getSelectedRowIndexes();this.parent.selectionModule.isPartialSelection=!0,t.isSelected=!1;var o=s.indexOf(t.index);o>-1&&s.splice(o,1);for(var a=i.row.querySelectorAll(".e-rowcell.e-gridchkbox"),l=n.row.querySelector(".e-rowdragdrop"),h=e.parent.groupSettings.columns.length+(l||e.parent.isDetail()?1:0),u=0;u<a.length;u++)a[parseInt(u.toString(),10)].firstElementChild.classList.add("e-checkbox-disabled"),a[parseInt(u.toString(),10)].querySelector(".e-frame").classList.remove("e-check");if(t.cells.length)for(var u=h;u<t.cells.length;u++){var c=n.row.querySelector('.e-rowcell[aria-colindex="'+(t.cells[parseInt(u.toString(),10)].index+1)+'"]');c&&ue([c],["e-selectionbackground","e-active"])}l&&ue([l],["e-selectionbackground","e-active"])},r.prototype.refreshMergeCells=function(e){for(var t=0,i=e.cells;t<i.length;t++){var n=i[t];n.isSpanned=!1}return e},r.prototype.buildAttributeFromRow=function(e,t){var i={},n={dataUID:"data-uid",ariaSelected:"aria-selected"},s=[];t.isDataRow&&s.push(jn),t.isAltRow&&s.push("e-altrow"),t.isCaptionRow&&s.push("e-groupcaptionrow"),t.isAggregateRow&&t.parentUid&&s.push("e-groupfooterrow"),p(t.index)||(i[Ti]=t.index+1),t.rowSpan&&(i.rowSpan=t.rowSpan),t.uid&&(i[n.dataUID]=t.uid),t.isSelected&&(i[n.ariaSelected]=!0),t.visible===!1&&s.push("e-hide"),i.class=s,eo(e,i)},r}(),Tv=function(){function r(e){this.parent=e}return r.prototype.generateRows=function(e,t){var i=[],n=this.parent.enableVirtualization&&t?t.startIndex:0;n=this.parent.enableInfiniteScrolling&&t?this.getInfiniteIndex(t):n,this.parent.enableImmutableMode&&t&&t.startIndex&&(n=t.startIndex),!this.parent.enableVirtualization&&this.parent.pinnedTopRowModels.length&&t&&t.requestType!=="infiniteScroll"&&(n=this.parent.pinnedTopRowModels.length);for(var s=0,o=Object.keys(e).length;s<o;s++,n++)i[parseInt(s.toString(),10)]=this.generateRow(e[parseInt(s.toString(),10)],n);return i},r.prototype.generatePinnedTopRows=function(e){for(var t=[],i=0,n=0,s=Object.keys(e).length;n<s;n++,i++){t[parseInt(n.toString(),10)]=this.generateRow(e[parseInt(n.toString(),10)],i);for(var o=0;o<this.parent.groupSettings.columns.length;o++)this.parent.enableColumnVirtualization||t[parseInt(n.toString(),10)].cells.unshift(this.generateCell({},null,We.HeaderIndent))}return t},r.prototype.ensurePinnedColumns=function(){var e=[];return(this.parent.detailTemplate||this.parent.childGrid)&&e.push(this.generateCell({},null,We.HeaderIndent)),this.parent.isRowDragable()&&e.push(this.generateCell({},null,We.HeaderIndent)),e},r.prototype.ensureColumns=function(){var e=[];if(this.parent.detailTemplate||this.parent.childGrid){var t={};this.parent.notify(Wj,t),e.push(this.generateCell(t,null,We.DetailExpand))}return this.parent.isRowDragable()&&e.push(this.generateCell({},null,We.RowDragIcon)),e},r.prototype.generateRow=function(e,t,i,n,s,o,a,l){var h={};h.foreignKeyData={},h.uid=hs("grid-row"),h.data=e,h.index=t,h.indent=n,h.tIndex=o,h.isDataRow=!0,h.parentGid=s,h.parentUid=a,this.parent.allowGrouping&&this.parent.groupSettings.columns.length&&(h.groupDataIndex=l),this.parent.isPrinting&&(this.parent.hierarchyPrintMode==="All"?h.isExpand=!0:this.parent.hierarchyPrintMode==="Expanded"&&this.parent.expandedRows&&this.parent.expandedRows[parseInt(t.toString(),10)]&&(h.isExpand=this.parent.expandedRows[parseInt(t.toString(),10)].isExpand)),h.cssClass=i,h.isAltRow=this.parent.enableAltRow?t%2!==0:!1,h.isAltRow=this.parent.enableAltRow?t%2!==0:!1,h.isSelected=this.parent.getSelectedRowIndexes().indexOf(t)>-1,this.refreshForeignKeyRow(h);var u=this.ensureColumns();this.parent.pinnedTopRecords.length&&t<this.parent.pinnedTopRecords.length&&(u=this.ensurePinnedColumns());var c=new Pc(h,this.parent);return c.cells=this.parent.getFrozenMode()==="Right"?this.generateCells(h).concat(u):u.concat(this.generateCells(h)),c},r.prototype.refreshForeignKeyRow=function(e){for(var t=this.parent.getForeignKeyColumns(),i=0;i<t.length;i++)Ze(t[parseInt(i.toString(),10)].field,Zh(t[parseInt(i.toString(),10)],e.data),e.foreignKeyData)},r.prototype.generateCells=function(e){for(var t=this.parent.getColumns(),i=[],n=0;n<t.length;n++)i.push(this.generateCell(t[parseInt(n.toString(),10)],e.uid,p(t[parseInt(n.toString(),10)].commands)?void 0:We.CommandColumn,null,n,e.foreignKeyData));return i},r.prototype.generateCell=function(e,t,i,n,s,o){var a={visible:e.visible,isDataCell:!p(e.field||e.template),isTemplate:!p(e.template),rowID:t,column:e,cellType:p(i)?We.Data:i,colSpan:n,commands:e.commands,isForeignKey:e.isForeignColumn&&e.isForeignColumn(),foreignKeyData:e.isForeignColumn&&e.isForeignColumn()&&H(e.field,o)};return(a.isDataCell||a.column.type==="checkbox"||a.commands)&&(a.index=s),new xp(a)},r.prototype.refreshRows=function(e){for(var t=0;t<e.length;t++)this.refreshForeignKeyRow(e[parseInt(t.toString(),10)]),e[parseInt(t.toString(),10)].cells=this.generateCells(e[parseInt(t.toString(),10)]);return e},r.prototype.getInfiniteIndex=function(e){return e.requestType==="infiniteScroll"||e.requestType==="delete"||e.action==="add"?p(e.startIndex)?e.index:e.startIndex:0},r}(),Jj=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Zj=function(){function r(e){this.parent=e}return r.prototype.getData=function(){for(var e=this,t=[],i=this.parent.aggregates.slice(),n=0;n<i.length;n++){var s=i[parseInt(n.toString(),10)].columns.filter(function(o){return!(o.footerTemplate||o.groupFooterTemplate||o.groupCaptionTemplate)||e.columnSelector(o)});s.length&&t.push({columns:s})}return t},r.prototype.columnSelector=function(e){return e.footerTemplate!==void 0},r.prototype.getColumns=function(e){var t=[];if((this.parent.detailTemplate||!p(this.parent.childGrid))&&t.push(new Gi({})),this.parent.allowGrouping)for(var i=0;i<this.parent.groupSettings.columns.length;i++)t.push(new Gi({}));return this.parent.isRowDragable()&&!e&&t.push(new Gi({})),t.push.apply(t,this.parent.getColumns()),t},r.prototype.generateRows=function(e,t,i,n,s){if(e.length===0&&(t===void 0||!(t.count||t.loadSummaryOnEmpty)))return[];for(var o=this.buildSummaryData(e,t),a=[],l=this.getData(),h=0;h<l.length;h++)a.push(this.getGeneratedRow(l[parseInt(h.toString(),10)],o[parseInt(h.toString(),10)],t?t.level:void 0,i,n,t?t.parentUid:void 0,s));return a},r.prototype.getGeneratedRow=function(e,t,i,n,s,o,a){var l=[],h=this.getIndentByLevel(),u=!p(this.parent.childGrid),c=this.parent.getIndentCount();this.parent.groupSettings.columns.length&&this.parent.allowRowDragAndDrop?h.push("e-indentcelltop"):this.parent.isRowDragable()&&!n&&(h=["e-indentcelltop"]);for(var d=a||this.getColumns(n),f=0;f<d.length;f++)l.push(this.getGeneratedCell(d[parseInt(f.toString(),10)],e,f>=c?this.getCellType():f===0&&(this.parent.childGrid||this.parent.detailTemplate)?We.DetailFooterIntent:We.Indent,h[parseInt(f.toString(),10)],u));var g=new Pc({data:t,attributes:{class:"e-summaryrow"}});return g.cells=l,g.uid=hs("grid-row"),g.parentUid=o,g.isAggregateRow=!0,g.visible=l.some(function(m){return m.isDataCell&&m.visible}),g},r.prototype.getGeneratedCell=function(e,t,i,n,s){var o=t.columns.filter(function(u){return u.columnName===e.field})[0],a={"data-mappinguid":e.uid,"data-index":e.index};if(e.textAlign){var l={right:"e-rightalign",left:"e-leftalign",center:"e-centeralign",justify:"e-justifyalign"};l[e.textAlign.toLowerCase()]&&(a.class=l[e.textAlign.toLowerCase()])}n&&(a.class=n),p(n)&&s&&(a.class="e-detailindentcelltop");var h={visible:e.visible,isDataCell:!p(o),isTemplate:o&&!p(o.footerTemplate||o.groupFooterTemplate||o.groupCaptionTemplate),column:o||{},attributes:a,cellType:i};return h.column.headerText=e.headerText,new xp(h)},r.prototype.buildSummaryData=function(e,t){for(var i=[],n=this.getData(),s={},o=0;o<n.length;o++){s={};for(var a=n[parseInt(o.toString(),10)].columns,l=0;l<a.length;l++)s=this.setTemplate(a[parseInt(l.toString(),10)],t&&t.aggregates?t:e,s);i.push(s)}return i},r.prototype.getIndentByLevel=function(){return this.parent.groupSettings.columns.map(function(){return"e-indentcelltop"})},r.prototype.setTemplate=function(e,t,i){var n=e.type,s={},o=e.getFormatter()||function(){return function(f){return f}}(),a=t;n instanceof Array||(n=[e.type]);for(var l=0;l<n.length;l++){var h=e.field+" - "+n[parseInt(l.toString(),10)].toLowerCase(),u=e.columnName,c=!!(this.parent.groupSettings.disablePageWiseAggregates&&this.parent.groupSettings.columns.length&&a.items),d=(n[parseInt(l.toString(),10)]!=="Custom"||c)&&a.aggregates&&h in a.aggregates?a.aggregates[""+h]:Ite(n[parseInt(l.toString(),10)],a.aggregates?a:t,e,this.parent);i[""+u]=i[""+u]||{},i[""+u][""+h]=d,i[""+u][n[parseInt(l.toString(),10)]]=p(d)?" ":o(d),a.field&&(i[""+u].field=a.field,i[""+u].key=a.key)}return s.format=e.getFormatter(),e.setTemplate(s),i},r.prototype.getCellType=function(){return We.Summary},r}(),fee=function(r){Jj(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.columnSelector=function(t){return t.groupFooterTemplate!==void 0},e.prototype.getIndentByLevel=function(t){return t===void 0&&(t=this.parent.groupSettings.columns.length),this.parent.allowRowDragAndDrop&&this.parent.groupSettings.columns.length&&(t-=1),this.parent.groupSettings.columns.map(function(i,n){return n<=t-1?"":"e-indentcelltop"})},e.prototype.getCellType=function(){return We.GroupSummary},e}(Zj),gee=function(r){Jj(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.columnSelector=function(t){return t.groupCaptionTemplate!==void 0},e.prototype.getData=function(){var t={columns:[]};return[r.prototype.getData.call(this).reduce(function(i,n){return i.columns=i.columns.concat(n.columns),i},t)]},e.prototype.isEmpty=function(){return(this.getData()[0].columns||[]).length===0},e.prototype.getCellType=function(){return We.CaptionSummary},e}(Zj),mee=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),yee=function(r){mee(e,r);function e(t){var i=r.call(this,t)||this;return i.rows=[],i.index=0,i.infiniteChildCount=0,i.renderInfiniteAgg=!0,i.parent=t,i.summaryModelGen=new fee(t),i.captionModelGen=new gee(t),i}return e.prototype.generateRows=function(t,i){if(this.parent.groupSettings.columns.length===0)return r.prototype.generateRows.call(this,t,i);this.isInfiniteScroll=i.requestType==="infiniteScroll",this.rows=[],this.index=this.parent.enableVirtualization||this.isInfiniteScroll?i.startIndex:this.parent.pinnedTopRowModels.length;for(var n=0,s=t.length;n<s;n++)this.infiniteChildCount=0,this.renderInfiniteAgg=!0,this.getGroupedRecords(0,t[parseInt(n.toString(),10)],t.level,n,void 0,this.rows.length);return this.index=0,this.parent.isCollapseStateEnabled()&&this.ensureRowVisibility(),this.rows},e.prototype.getGroupedRecords=function(t,i,n,s,o,a,l){var h,u=n;if(p(i.items))if(p(i.GroupGuid))this.rows=this.rows.concat(this.generateDataRows(i,t,s,this.rows.length,l));else for(var c=0,d=i.length;c<d;c++)this.getGroupedRecords(t,i[parseInt(c.toString(),10)],i.level,s,t,this.rows.length,l);else{var f=void 0,g=this.generateCaptionRow(i,t,s,o,a,l);if(this.isInfiniteScroll&&(f=this.getPreCaption(t,g.data.key)),f?g.uid=f.uid:this.rows=this.rows.concat(g),i.items&&i.items.length&&this.getGroupedRecords(t+1,i.items,i.items.level,s,t+1,this.rows.length,g.uid),this.parent.aggregates.length&&this.isRenderAggregate(g)){var m=this.rows.length;(h=this.rows).push.apply(h,this.summaryModelGen.generateRows(i,{level:u,parentUid:g.uid}));for(var y=m-1;y>=0;y--)if(this.rows[parseInt(y.toString(),10)].isCaptionRow)this.rows[parseInt(y.toString(),10)].aggregatesCount=this.rows.length-m;else if(!this.rows[parseInt(y.toString(),10)].isCaptionRow&&!this.rows[parseInt(y.toString(),10)].isDataRow)break}f&&this.setInfiniteRowVisibility(f)}},e.prototype.isRenderAggregate=function(t){return this.parent.enableInfiniteScrolling?this.renderInfiniteAgg?(this.getPreCaption(t.indent,t.data.key),this.renderInfiniteAgg=t.data.count===this.infiniteChildCount,this.renderInfiniteAgg):!1:!this.parent.enableInfiniteScrolling},e.prototype.getPreCaption=function(t,i){var n=this.parent.getRowsObject().concat(this.rows),s;this.infiniteChildCount=0;for(var o=n.length;o--;){if(n[parseInt(o.toString(),10)].isCaptionRow&&n[parseInt(o.toString(),10)].indent===t){var a=n[parseInt(o.toString(),10)].data.key;(a&&a.toString()===i.toString()&&a instanceof Date||a===i)&&(s=n[parseInt(o.toString(),10)])}if(n[parseInt(o.toString(),10)].indent===t||n[parseInt(o.toString(),10)].indent<t)break;n[parseInt(o.toString(),10)].indent===t+1&&this.infiniteChildCount++}return s},e.prototype.getCaptionRowCells=function(t,i,n){var s=[],o=[],a=this.parent.getColumnByField(t),l=this.parent.getColumnIndexesInView();this.parent.enableColumnVirtualization&&(a=this.parent.columns.filter(function(S){return S.field===t})[0]);var h=this.parent.groupSettings.columns.length,u=this.parent;if(!this.parent.enableColumnVirtualization||l.indexOf(i)!==-1){for(var c=0;c<i;c++)s.push(this.generateIndentCell());s.push(this.generateCell({},null,We.Expand))}if(i=this.parent.enableColumnVirtualization?1:this.parent.getVisibleColumns().length+h+(u.detailTemplate||u.childGrid?1:0)-i+(this.parent.getVisibleColumns().length?-1:0),this.parent.aggregates.length&&!this.captionModelGen.isEmpty()){var d=this.captionModelGen.generateRows(n)[0];ie(n,d.data);var f=0;d.cells.some(function(S,b){return f=b,S.visible&&S.isDataCell}),o=d.cells.slice(f).filter(function(S){return S.visible}),d.visible&&o[0].column.field===this.parent.getVisibleColumns()[0].field&&(o=o.slice(1)),this.parent.getVisibleColumns().length===1&&(o=[]),i=i-o.length}for(var g=this.parent.enableColumnVirtualization?this.parent.getColumns():[a],m=!0,y=0;y<g.length;y++){var v=m&&l.indexOf(i)!==-1;v&&(m=!1);var M=!this.parent.enableColumnVirtualization||v?We.GroupCaption:We.GroupCaptionEmpty;i=this.parent.enableColumnVirtualization&&M===We.GroupCaption?i+h:i,u.isRowDragable()&&i++,s.push(this.generateCell(a,null,M,i))}return s.push.apply(s,o),s},e.prototype.generateCaptionRow=function(t,i,n,s,o,a){var l={},h="records",u=this.parent.getColumnByField(t.field);l.data=ie({},t),u&&(l.data.field=t.field),l.isDataRow=!1,l.isExpand=!this.parent.groupSettings.enableLazyLoading&&!this.parent.isCollapseStateEnabled(),l.parentGid=n,l.childGid=s,l.tIndex=o,l.isCaptionRow=!0,l.parentUid=a,l.gSummary=p(t.items[""+h])?t.items.length:t.items[""+h].length,l.uid=hs("grid-row");var c=new Pc(l);return c.indent=i,this.getForeignKeyData(c),c.cells=this.getCaptionRowCells(t.field,i,c.data),c},e.prototype.getForeignKeyData=function(t){var i=t.data,n=this.parent.getColumnByField(i.field);if(n&&n.isForeignColumn&&n.isForeignColumn()){var s=p(i.key)?"":n.valueAccessor(n.foreignKeyValue,Zh(n,{},i.key)[0],n);Ze("foreignKey",s,t.data)}},e.prototype.generateDataRows=function(t,i,n,s,o){for(var a=[],l=this.parent.getColumnIndexesInView(),h=0,u=t.length;h<u;h++,s++){a[parseInt(h.toString(),10)]=this.generateRow(t[parseInt(h.toString(),10)],this.index,h?void 0:"e-firstchildrow",i,n,s,o,h);for(var c=0;c<i;c++)this.parent.enableColumnVirtualization&&l.indexOf(i)===-1||a[parseInt(h.toString(),10)].cells.unshift(this.generateIndentCell());this.index++}return a},e.prototype.generateIndentCell=function(){return this.generateCell({},null,We.Indent)},e.prototype.refreshRows=function(t){for(var i=this.parent.getColumnIndexesInView(),n=0;n<t.length;n++)if(t[parseInt(n.toString(),10)].isDataRow){t[parseInt(n.toString(),10)].cells=this.generateCells(t[parseInt(n.toString(),10)]);for(var s=0;s<t[parseInt(n.toString(),10)].indent;s++)this.parent.enableColumnVirtualization&&i.indexOf(t[parseInt(n.toString(),10)].indent)===-1||t[parseInt(n.toString(),10)].cells.unshift(this.generateIndentCell())}else{var o=this.generateCaptionRow(t[parseInt(n.toString(),10)].data,t[parseInt(n.toString(),10)].indent);t[parseInt(n.toString(),10)].cells=o.cells}return t},e.prototype.setInfiniteRowVisibility=function(t){if(!t.isExpand||t.visible===!1)for(var i=0,n=this.rows;i<n.length;i++){var s=n[i];s.parentUid===t.uid&&(s.visible=!1,s.isCaptionRow&&this.setInfiniteRowVisibility(s))}},e.prototype.ensureRowVisibility=function(){for(var t=0;t<this.rows.length;t++){var i=this.rows[parseInt(t.toString(),10)];if(i.isCaptionRow)for(var n=t+1;n<this.rows.length;n++){var s=this.rows[parseInt(n.toString(),10)];i.uid===s.parentUid&&(this.rows[parseInt(n.toString(),10)].visible=i.isExpand)}}},e}(Tv),vee=function(){function r(e,t){var i=this;this.rows=[],this.freezeRows=[],this.movableRows=[],this.freezeRowElements=[],this.currentInfo={},this.prevCurrentView=[],this.isLoaded=!0,this.drop=function(n){i.parent.notify(FZ,{target:n.target,droppedElement:n.droppedElement}),ot(n.droppedElement)},this.infiniteCache={},this.visibleRows=[],this.visibleFrozenRows=[],this.rightFreezeRows=[],this.isAddRows=!1,this.isInfiniteFreeze=!1,this.useGroupCache=!1,this.tempFreezeRows=[],this.rafCallback=function(n){var s=n;return function(){if(i.ariaService.setBusy(i.getPanel().querySelector("."+En),!1),!i.parent.isDestroyed){var o=i.rows.slice(0);if(i.parent.enableInfiniteScrolling){if(i.parent.groupSettings.enableLazyLoading)for(var a=0;a<i.visibleRows.length;a++)i.setRowsInLazyGroup(i.visibleRows[parseInt(a.toString(),10)],a);o=i.parent.getRowsObject();var l=s.prevPage;if(i.parent.infiniteScrollSettings.enableCache&&l){var h=i.parent.infiniteScrollSettings.maxBlocks;o=[];for(var u=parseInt(i.rowElements[0].getAttribute("aria-rowindex"),10),c=Math.ceil(u/i.parent.pageSettings.pageSize),a=0,d=c;a<h;a++,d++)i.infiniteCache[parseInt(d.toString(),10)]&&(o=o.concat(i.infiniteCache[parseInt(d.toString(),10)]))}}if(i.parent.notify($i,{rows:o,args:s}),i.parent.editSettings.showAddNewRow&&i.parent.addNewRowFocus&&(i.parent.notify(Yu,{}),i.parent.addNewRowFocus=!1),i.parent.autoFit&&i.parent.preventAdjustColumns(),i.parent.isInitialLoad||i.parent.focusModule.setFirstFocusableTabIndex(),i.isLoaded){i.parent.isManualRefresh=!1,i.parent.enableInfiniteScrolling&&i.parent.groupSettings.enableLazyLoading&&n.requestType==="sorting"&&(i.parent.infiniteScrollModule.groupCaptionAction=void 0);var f=i.parent.parentDetails&&i.parent.parentDetails.parentInstObj&&i.parent.parentDetails.parentInstObj.isReact;if((i.parent.isReact||f)&&i.parent.element.querySelectorAll(".e-templatecell").length){var g=i;g.parent.renderTemplates(function(){g.parent.trigger(Ml,{},function(){g.parent.allowTextWrap&&g.parent.notify(Og,{case:"textwrap"})})})}else i.parent.trigger(Ml,{},function(){i.parent.allowTextWrap&&i.parent.notify(Og,{case:"textwrap"})});i.parent.allowTextWrap&&i.parent.height==="auto"&&(i.parent.getContentTable().scrollHeight>i.parent.getContent().clientHeight?i.parent.scrollModule.setPadding():i.parent.scrollModule.removePadding())}if(s){var m=(s.requestType||"").toLowerCase()+"-complete";i.parent.notify(m,s),n.requestType==="batchsave"&&(n.cancel=!1,i.parent.trigger(ls,n))}i.isLoaded&&i.parent.hideSpinner()}}},this.parent=e,this.serviceLocator=t,this.widthService=t.getService("widthService"),this.ariaService=this.serviceLocator.getService("ariaService"),this.parent.enableDeepCompare=this.parent.getDataModule().isRemote(),this.generator=this.getModelGenerator(),!this.parent.isDestroyed&&(!this.parent.enableColumnVirtualization&&!this.parent.enableVirtualization&&!this.parent.groupSettings.enableLazyLoading&&this.parent.on(nD,this.setVisible,this),this.parent.on(Bj,this.colGroupRefresh,this),this.parent.on(fn,this.enableAfterRender,this),this.parent.on(xX,this.refreshContentRows,this),this.parent.on(mC,this.beforeCellFocused,this),this.parent.on(js,this.droppableDestroy,this))}return r.prototype.beforeCellFocused=function(e){e.byKey&&(e.keyArgs.action==="upArrow"||e.keyArgs.action==="downArrow")?this.pressedKey=e.keyArgs.action:this.pressedKey=void 0},r.prototype.renderPanel=function(){var e=this.parent,t=this.parent.element.querySelector("."+aa);if(t){this.ariaService.setOptions(this.parent.element.querySelector("."+En),{busy:!1}),this.setPanel(t);return}t=this.parent.createElement("div",{className:aa});var i=this.parent.createElement("div",{className:En});this.ariaService.setOptions(i,{busy:!1}),this.parent.enableColumnVirtualization&&this.parent.isFrozenGrid()&&(this.renderHorizontalScrollbar(t),i.classList.add("e-virtual-content")),t.appendChild(i),this.setPanel(t),e.element.appendChild(t)},r.prototype.renderHorizontalScrollbar=function(e){var t=this.parent.createElement("div",{className:"e-movablescrollbar"}),i=this.parent.createElement("div",{className:"e-movablechild"}),n=Rr().toString();this.setScrollbarHeight(i,n),this.setScrollbarHeight(t,n),t.appendChild(i),e.appendChild(t)},r.prototype.setScrollbarHeight=function(e,t){e.style.minHeight=t+"px",e.style.maxHeight=t+"px"},r.prototype.renderTable=function(){var e=this.getPanel(),t=e.querySelector(".e-virtualtable"),i=e.querySelector(".e-virtualtrack");this.parent.enableVirtualization&&!p(t)&&!p(i)&&(ot(t),ot(i)),e.appendChild(this.createContentTable("_content_table")),this.setTable(e.querySelector("."+ta)),this.parent.selectionSettings.type==="Multiple"&&this.ariaService.setOptions(this.parent.element,{multiselectable:!0}),this.initializeContentDrop(),this.parent.frozenRows&&this.parent.getHeaderContent().classList.add("e-frozenhdr")},r.prototype.createContentTable=function(e){var t=this.getPanel().firstElementChild;this.getTable()&&ot(this.getTable());var i=t.querySelector("."+ta)?t.querySelector("."+ta):this.parent.createElement("table",{className:ta,attrs:{role:"presentation",id:this.parent.element.id+e}});return i.style.cssText="border-collapse: separate; border-spacing: .25px;",this.setColGroup(this.parent.getHeaderTable().querySelector(ss).cloneNode(!0)),i.appendChild(this.getColGroup()),i.appendChild(this.parent.createElement($t,{attrs:{role:"rowgroup"}})),t.appendChild(i),t},r.prototype.refreshContentRows=function(e){var t=this;e===void 0&&(e={});var i=this.parent;if(i.currentViewData.length!==0){i.editSettings&&i.editModule&&i.editSettings.mode==="Batch"&&i.editModule.formObj&&i.editSettings.showConfirmDialog===!1&&i.editModule.destroyForm();var n=this.currentMovableRows||i.currentViewData,s=i.isReact&&!p(i.rowTemplate),o=this.parent.printGridParent&&this.parent.printGridParent.isReact,a=s||o?i.createElement($t,{attrs:{role:"rowgroup"}}):document.createDocumentFragment();this.initialPageRecords||(this.initialPageRecords=ie([],n));var l=s?i.createElement($t,{attrs:{role:"rowgroup"}}):document.createDocumentFragment(),h,u;(i.isReact||o)&&i.rowTemplate&&(h=a,u=l);var c=i.getColumns(),d,f,g,m=new Np(this.serviceLocator,null,this.parent),y=this.parent.enableInfiniteScrolling&&e.requestType==="infiniteScroll",v=this.isInfiniteColumnvirtualization()&&e.requestType!=="virtualscroll",M=!!(i.enableInfiniteScrolling&&(i.childGrid||i.detailTemplate)),S=M&&(e.action==="add"&&e.requestType==="save"||e.requestType==="delete");S&&(e.startIndex=0,i.notify(hee,{})),y&&(i.childGrid||i.detailTemplate)&&!i.infiniteScrollSettings.enableCache||(M&&(this.parent.infiniteScrollModule.infiniteDetailDestroy=!0),i.notify(tee,y&&(i.childGrid||i.detailTemplate)&&i.infiniteScrollSettings.enableCache?e:{})),this.rowElements=[],this.rows=[],this.tempFreezeRows=[];var b,C=!!(this.parent.frozenRows&&this.parent.groupSettings.columns.length);uo(i)&&["sorting","filtering","searching","grouping","ungrouping","reorder","save","delete","refresh-aggregate-on-save"].some(function(se){return e.requestType===se})&&this.emptyVcRows();var T;if(T=this.checkCache(T,e),i.isRowPinned){var k=new He,N=this.parent.getDataModule(),A=N.pinnedData.executeLocal(N.pinnedDataQuery(k));i.pinnedTopRowModels=this.generator.generatePinnedTopRows(A)}!this.isAddRows&&!this.useGroupCache&&(T=this.generator.generateRows(n,e)),this.setGroupCache(T,e),this.parent.notify(OX,{isInfiniteScroll:y,modelData:T,args:e});var E=this.parent.registeredTemplate;if(!(e.requestType==="infiniteScroll"&&!this.parent.infiniteScrollSettings.enableCache)&&E&&E.template&&!e.isFrozen){for(var x=[],D=0;D<E.template.length;D++)for(var z=0;z<E.template[parseInt(D.toString(),10)].rootNodes.length;z++)p(E.template[parseInt(D.toString(),10)].rootNodes[parseInt(z.toString(),10)].parentNode)&&x.push(E.template[parseInt(D.toString(),10)]);this.parent.destroyTemplate(["template"],x)}if((this.parent.isReact||this.parent.isVue)&&!(e.requestType==="infiniteScroll"&&!this.parent.infiniteScrollSettings.enableCache)&&!e.isFrozen){var w=[this.parent.isVue?"template":"columnTemplate","rowTemplate","detailTemplate","captionTemplate","commandsTemplate","groupFooterTemplate","groupCaptionTemplate"];e.requestType==="infiniteScroll"&&this.parent.infiniteScrollSettings.enableCache&&(w=[this.parent.isVue?"template":"columnTemplate","commandsTemplate"]),Ap(this.parent,w)}for(var D=0;D<i.pinnedTopRowModels.length;D++){var O=m.render(i.pinnedTopRowModels[parseInt(D.toString(),10)],c);_d(O),O.classList.add("e-grid-pin-row");var L=[].slice.call(O.getElementsByClassName("e-grouptopleftcell"));L.length&&L[L.length-1].classList.add("e-lastgrouptopleftcell"),l.appendChild(O)}if(this.parent.enableColumnVirtualization){var j=new NC(this.serviceLocator,this.parent);j.updateVirtualCells(T)}this.tbody=this.getTable().querySelector($t);var B=0,V=!0;if(uo(i)&&i.vcRows.length){var ee="top",W=p(e.virtualInfo.offsets)?p(e.scrollTop)?0:e.scrollTop[""+ee]:e.virtualInfo.offsets.top;if(W!==0){for(var J=i.vGroupOffsets,K=i.pageSettings.pageSize/2,le=Object.keys(J).map(function(se){return J[""+se]}),me=0;me<le.length;me++)if(W<le[parseInt(me.toString(),10)])if(!p(e.virtualInfo)&&e.virtualInfo.direction==="up"){B=me>0?(me-1)*K:me*K;break}else{B=me*K,(this.parent.contentModule.isEndBlock(me)||this.parent.contentModule.isEndBlock(me+1))&&(e.virtualInfo.blockIndexes=[me,me+1]);break}Math.round(W+this.contentPanel.firstElementChild.offsetHeight)>=this.contentPanel.firstElementChild.scrollHeight&&!e.rowObject&&(V=!1)}}var pe=i.frozenRows&&this.parent.enableVirtualization&&e.requestType==="reorder";if(i.frozenRows&&e.requestType==="virtualscroll"&&e.virtualInfo.sentinelInfo.axis==="X"||pe){var P=e.virtualInfo.blockIndexes,ve=e.virtualInfo.page;e.virtualInfo.blockIndexes=[1,2],pe&&(e.virtualInfo.page=1);var X=pe?this.initialPageRecords:n,De=this.vgenerator.generateRows(X,e);De.splice(this.parent.frozenRows);for(var D=0;D<this.parent.frozenRows;D++)d=m.render(De[parseInt(D.toString(),10)],c),_d(d),l.appendChild(d);e.virtualInfo.blockIndexes=P,e.virtualInfo.page=ve,pe&&e.virtualInfo.page===1&&T.splice(0,this.parent.frozenRows)}this.virtualFrozenHdrRefresh(l,T,m,e,n,c),this.parent.groupSettings.enableLazyLoading&&!this.useGroupCache&&this.parent.groupSettings.columns.length&&((this.parent.enableVirtualization?this.parent.lazyLoadRender:this.parent.contentModule).refRowsObj[this.parent.pageSettings.currentPage]=[]),(this.parent.enableInfiniteScrolling&&this.parent.groupSettings.enableLazyLoading&&e.requestType==="delete"||S)&&(this.visibleRows=[]);for(var Fe=function(se,Me){if(Re.rows.push(T[parseInt(se.toString(),10)]),Re.parent.groupSettings.enableLazyLoading&&!Re.useGroupCache&&Re.parent.groupSettings.columns.length&&((Re.parent.enableVirtualization?Re.parent.lazyLoadRender:Re.parent.contentModule).refRowsObj[Re.parent.pageSettings.currentPage].push(T[parseInt(se.toString(),10)]),Re.setRowsInLazyGroup(T[parseInt(se.toString(),10)],se),p(T[parseInt(se.toString(),10)].indent)))return"continue";if(Re.setInfiniteVisibleRows(e,T[parseInt(se.toString(),10)]),uo(i)&&e.virtualInfo&&e.virtualInfo.blockIndexes&&Re.rowElements.length>=e.virtualInfo.blockIndexes.length*Re.parent.contentModule.getBlockSize()&&V)return Re.parent.currentViewData.records=Re.rows.map(function(Ie){return Ie.data}),"break";if(i.rowTemplate){var qe=i.element.id+"rowTemplate",je=void 0;if(i.isReact||o){var Qe=i.frozenRows&&se<i.frozenRows,at=ie({index:se},n[parseInt(se.toString(),10)]);if(i.getRowTemplate()(at,i,"rowTemplate",qe,null,null,Qe?l:a),i.requireTemplateRef){var dt=Re;return dt.parent.renderTemplates(function(){i.frozenRows&&se<i.frozenRows?d=u.childNodes[parseInt(se.toString(),10)]:g=h.childNodes[parseInt(se.toString(),10)];var Ie={data:T[parseInt(se.toString(),10)].data,row:g||d};dt.parent.trigger(uy,Ie),(T[parseInt(se.toString(),10)].isDataRow||dt.parent.enableVirtualization&&dt.parent.groupSettings.enableLazyLoading)&&dt.rowElements.push(Ie.row),dt.ariaService.setOptions(dt.parent.element,{colcount:i.getColumns().length.toString()}),se===T.length-1&&(h=null,u=null)}),"continue"}}else je=i.getRowTemplate()(ie({index:se},n[parseInt(se.toString(),10)]),i,"rowTemplate",qe,void 0,void 0,void 0,Re.parent.root);if(!i.isReact&&je[0].tagName==="TBODY"){for(var R=0;R<je.length;R++){var _=je[parseInt(R.toString(),10)].nodeName.toLowerCase()==="tr";(_||je[parseInt(R.toString(),10)].querySelectorAll&&je[parseInt(R.toString(),10)].querySelectorAll("tr").length)&&(d=_?je[parseInt(R.toString(),10)]:je[parseInt(R.toString(),10)].querySelector("tr"))}i.frozenRows&&se<i.frozenRows?l.appendChild(d):a.appendChild(d)}else i.frozenRows&&se<i.frozenRows?d=i.isReact?l.lastElementChild:tr(l,je):(i.isReact||(d=tr(a,je)),g=i.isReact?a.lastElementChild:d.lastElementChild);var de={data:T[parseInt(se.toString(),10)].data,row:g||d};Re.parent.trigger(uy,de)}else{d=m.render(T[parseInt(se.toString(),10)],c),_d(d);var ze=Re.ensureFrozenHeaderRender(e);if(i.frozenRows&&(se<i.frozenRows||C)&&!y&&e.requestType!=="virtualscroll"&&ze&&Re.ensureVirtualFrozenHeaderRender(e))l.appendChild(d);else{var Te=i.getPrimaryKeyFieldNames()[0],Le=T[parseInt(se.toString(),10)].data;!p(Te)&&!p(Le)&&i.pinnedTopRowKeys[Le[""+Te]]&&d.classList.add("e-grid-pin-row"),a.appendChild(d)}var Ne=parseInt(d.getAttribute("aria-rowindex"),10)-1;Ne+1===i.frozenRows&&(C=!1),T[parseInt(se.toString(),10)].isExpand&&i.notify(mX,d.cells[i.groupSettings.columns.length])}(T[parseInt(se.toString(),10)].isDataRow||Re.parent.enableVirtualization&&Re.parent.groupSettings.enableLazyLoading)&&(!p(i.rowTemplate)&&(i.isAngular||i.isVue3||i.isVue)?Re.rowElements.push(g||d):Re.rowElements.push(d)),Re.ariaService.setOptions(Re.parent.element,{colcount:i.getColumns().length.toString()})},Re=this,D=B,U=T.length;D<U;D++){var Y=Fe(D);if(Y==="break")break}var ae=i.parentDetails&&i.parentDetails.parentInstObj&&i.parentDetails.parentInstObj.isReact;if((i.isReact||ae)&&!i.requireTemplateRef&&i.renderTemplates(),this.parent.enableInfiniteScrolling&&this.parent.groupSettings.enableLazyLoading&&(this.parent.contentModule.refRowsObj[this.parent.pageSettings.currentPage]=this.parent.contentModule.groupCache[this.parent.pageSettings.currentPage]),this.parent.groupSettings.enableLazyLoading&&!this.useGroupCache&&this.parent.groupSettings.columns.length&&this.parent.notify(Gj,{rows:(this.parent.enableVirtualization?this.parent.lazyLoadRender:this.parent.contentModule).refRowsObj[this.parent.pageSettings.currentPage]}),i.removeMaskRow(),this.parent.notify("removeGanttShimmer",{requestType:"hideShimmer"}),(i.frozenRows||i.isRowPinned)&&e.requestType!=="virtualscroll"&&!y&&this.ensureVirtualFrozenHeaderRender(e)||e.requestType==="virtualscroll"&&e.virtualInfo.sentinelInfo&&e.virtualInfo.sentinelInfo.axis==="X"||(e.requestType==="virtualscroll"||y||e.requestType==="delete")&&i.isRowPinned){if(f=i.getHeaderTable().querySelector($t),s){var we=f.parentElement;ot(f),we.appendChild(l)}else f.innerHTML="",f.appendChild(l);i.isInitialLoad||i.scrollModule.setHeight()}e.rows=this.rows.slice(0),hP(function(){if(t.parent.notify(_j,e),!t.parent.enableVirtualization&&(!t.parent.enableColumnVirtualization||v)&&!y&&(i.isReact||(t.tbody.innerHTML=""),p(t.tbody.parentElement)?ot(i.getContentTable().querySelector($t)):ot(t.tbody),t.tbody=t.parent.createElement($t,{attrs:{role:"rowgroup"}})),i.rowTemplate&&(i.element.id+"",void 0),!p(t.parent.infiniteScrollModule)&&(t.parent.enableInfiniteScrolling&&!t.isInfiniteColumnvirtualization()||v)){if(t.isAddRows=!1,t.parent.notify(zX,{args:e}),t.parent.notify(LX,{tbody:t.tbody,frag:a,args:e,rows:t.rows,rowElements:t.rowElements,visibleRows:t.visibleRows,tableName:b}),t.isInfiniteColumnvirtualization()&&t.parent.isFrozenGrid()){var se=t.parent.getContent().querySelector(".e-virtualtable"),Me=OC(se);t.parent.contentModule.resetStickyLeftPos(Me.width),t.widthService.refreshFrozenScrollbar()}}else t.useGroupCache=!1,t.appendContent(t.tbody,a,e);if(t.parent.editSettings.showAddNewRow&&(t.parent.enableVirtualization||t.parent.enableInfiniteScrolling)){var ze=t.parent.element.querySelector(".e-addrow-removed");ze&&ot(ze)}var Te=!t.parent.element.querySelector("."+qu);t.parent.editSettings.showAddNewRow&&t.parent.editSettings.mode==="Normal"&&(Te&&((t.parent.enableVirtualization||t.parent.enableInfiniteScrolling)&&(t.parent.isAddNewRow=!0),t.parent.isEdit=!1,t.parent.addRecord()),(Te||(t.parent.enableVirtualization||t.parent.enableInfiniteScrolling)&&["sorting","filtering","searching","grouping","ungrouping","reorder"].some(function(Le){return e.requestType===Le}))&&t.parent.notify(Yu,{})),t.parent.getContent()&&lD(t.parent)>0&&t.parent.scrollModule.updateFrozenShadow(),a=null},this.rafCallback(ie({},e)))}},r.prototype.isInfiniteColumnvirtualization=function(){return this.parent.enableColumnVirtualization&&this.parent.enableInfiniteScrolling},r.prototype.enableCacheOnInfiniteColumnVirtual=function(){return this.isInfiniteColumnvirtualization()&&this.parent.infiniteScrollSettings.enableCache},r.prototype.emptyVcRows=function(){this.parent.vcRows=[],this.parent.vRows=[]},r.prototype.appendContent=function(e,t,i,n){var s=this.parent.isReact&&!p(this.parent.rowTemplate);if(s?this.getTable().appendChild(t):(e.appendChild(t),this.getTable().appendChild(e)),this.parent.rowRenderingMode==="Vertical"&&this.parent.allowTextWrap&&(this.parent.textWrapSettings.wrapMode==="Header"||this.parent.textWrapSettings.wrapMode==="Both"))for(var o=e.querySelectorAll("td"),a=0;a<o.length;a++){var l=parseFloat(document.defaultView.getComputedStyle(o[parseInt(a.toString(),10)],"::before").getPropertyValue("height")),h=o[parseInt(a.toString(),10)].offsetHeight;l>h&&(o[parseInt(a.toString(),10)].style.height=l+"px",o[parseInt(a.toString(),10)].style.boxSizing="content-box")}this.parent.getVisibleFrozenLeftCount()&&this.parent.enableColumnVirtualization&&this.widthService.refreshFrozenScrollbar()},r.prototype.setRowsInLazyGroup=function(e,t){this.parent.groupSettings.enableLazyLoading&&!this.useGroupCache&&this.parent.groupSettings.columns.length&&(this.parent.enableVirtualization?this.parent.lazyLoadRender:this.parent.contentModule).maintainRows(e,t)},r.prototype.setGroupCache=function(e,t){!this.useGroupCache&&this.parent.groupSettings.enableLazyLoading&&this.parent.notify(PX,{args:t,data:e})},r.prototype.ensureFrozenHeaderRender=function(e){return!(this.parent.enableVirtualization&&(e.requestType==="reorder"||e.requestType==="refresh")||this.parent.infiniteScrollSettings.enableCache&&this.parent.frozenRows&&this.parent.infiniteScrollModule.requestType==="delete"&&this.parent.pageSettings.currentPage!==1)},r.prototype.ensureVirtualFrozenHeaderRender=function(e){return!(this.parent.enableVirtualization&&e.requestType==="delete")},r.prototype.checkCache=function(e,t){if(this.parent.infiniteScrollSettings.enableCache&&t.requestType==="infiniteScroll"){if(this.isAddRows=!p(this.infiniteCache[this.parent.pageSettings.currentPage]),this.isAddRows){var i=this.infiniteCache[this.parent.pageSettings.currentPage];e=this.parent.pageSettings.currentPage===1?i.slice(this.parent.frozenRows):i}return e}return this.parent.groupSettings.enableLazyLoading&&this.parent.groupSettings.columns.length&&(t.requestType==="paging"||t.requestType==="columnstate"||t.requestType==="reorder"||t.requestType==="virtualscroll")&&(this.parent.enableVirtualization?this.parent.lazyLoadRender:this.parent.contentModule).getGroupCache()[this.parent.pageSettings.currentPage]?(this.parent.enableVirtualization||(this.useGroupCache=!0),this.parent.enableVirtualization?this.parent.getRowsObject():this.parent.contentModule.initialGroupRows(t.requestType==="reorder")):null},r.prototype.setInfiniteVisibleRows=function(e,t){this.parent.enableInfiniteScrolling&&!this.parent.infiniteScrollSettings.enableCache&&!(this.isInfiniteColumnvirtualization()&&e.requestType==="virtualscroll")&&this.visibleRows.push(t)},r.prototype.getCurrentBlockInfiniteRecords=function(){var e=[];if(this.parent.infiniteScrollSettings.enableCache){if(!Object.keys(this.infiniteCache).length)return[];var t=this.parent.getRows(),i=parseInt(t[this.parent.frozenRows].getAttribute(Ti),10)-1,n=Math.ceil((i+1)/this.parent.pageSettings.pageSize);i=parseInt(t[t.length-1].getAttribute(Ti),10)-1;for(var s=Math.ceil((i+(t.length?1:0))/this.parent.pageSettings.pageSize),o=n;o<=s;o++)e=e.length?e.concat(this.infiniteCache[parseInt(o.toString(),10)]):this.infiniteCache[parseInt(o.toString(),10)];this.parent.frozenRows&&this.parent.pageSettings.currentPage>1&&(e=this.infiniteCache[1].slice(0,this.parent.frozenRows).concat(e))}return e},r.prototype.getReorderedRows=function(e){return this.parent.contentModule.getReorderedFrozenRows(e)},r.prototype.virtualFrozenHdrRefresh=function(e,t,i,n,s,o){if(this.parent.frozenRows&&this.parent.enableVirtualization&&(n.requestType==="reorder"||n.requestType==="refresh")){for(var a=void 0,l=this.getReorderedRows(n),h=0;h<l.length;h++)a=i.render(l[parseInt(h.toString(),10)],o),e.appendChild(a);n.virtualInfo.page===1&&t.splice(0,this.parent.frozenRows)}},r.prototype.getInfiniteRows=function(){var e=[];if(this.parent.enableInfiniteScrolling)if(this.parent.infiniteScrollSettings.enableCache)for(var t=Object.keys(this.infiniteCache),i=0;i<t.length;i++)e=e.concat(this.infiniteCache[t[parseInt(i.toString(),10)]]);else e=this.visibleRows;return e},r.prototype.getInfiniteMovableRows=function(){var e=this.getCurrentBlockInfiniteRecords(),t=this.parent.enableInfiniteScrolling?e.length?e:this.visibleRows:[];return t},r.prototype.getPanel=function(){return this.contentPanel},r.prototype.setPanel=function(e){this.contentPanel=e},r.prototype.getTable=function(){return this.contentTable},r.prototype.setTable=function(e){this.contentTable=e},r.prototype.getRows=function(){var e=this.getInfiniteRows();return e.length?e:this.rows},r.prototype.getRowElements=function(){return this.rowElements},r.prototype.setRowElements=function(e){this.rowElements=e},r.prototype.getColGroup=function(){return this.colgroup},r.prototype.setColGroup=function(e){return p(e)||(e.id="content-"+e.id),this.colgroup=e},r.prototype.setVisible=function(e){var t=this.parent,i=this.getRows(),n;i.some(function(y){return y.isDataRow&&(n=y),y.isDataRow});var s=!0;!t.groupSettings.columns.length&&n&&(s=!1);for(var o=t.getDataRows(),a={},l=this.infiniteRowVisibility(),h=l||this.rows.filter(function(y){return!y.isDetailRow}),u=0,c=e.length;u<c;u++){var d=e[parseInt(u.toString(),10)],f=this.parent.getNormalizedColumnIndex(d.uid),g=this.parent.getColumnIndexByUid(d.uid),m=d.visible===!0?"":"none";f!==-1&&n&&f<n.cells.length&&Ci(this.getColGroup().childNodes[parseInt(f.toString(),10)],{display:m}),s||this.setDisplayNone(o,g,m,h),!this.parent.invokedFromMedia&&d.hideAtMedia&&this.parent.updateMediaColumns(d),this.parent.invokedFromMedia=!1}(t.gridLines==="Both"||t.gridLines==="Vertical")&&(s=!0),s?this.refreshContentRows({requestType:"refresh"}):(this.parent.notify(Yj,{rows:h,args:a}),this.parent.editSettings.showAddNewRow&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&this.parent.notify(Yu,{}))},r.prototype.setDisplayNone=function(e,t,i,n){Vte(e,t,i,n,this.parent,this.parent.isRowDragable()),this.parent.notify(kX,{visible:i,index:t,isFreeze:this.isInfiniteFreeze})},r.prototype.infiniteRowVisibility=function(e){var t;return this.parent.enableInfiniteScrolling&&(this.isInfiniteFreeze=e,this.parent.infiniteScrollSettings.enableCache?t=this.getCurrentBlockInfiniteRecords():t=e?this.visibleFrozenRows:this.visibleRows),t},r.prototype.colGroupRefresh=function(){if(this.getColGroup()){var e=this.getHeaderColGroup();this.getTable().replaceChild(e,this.getColGroup()),this.setColGroup(e)}},r.prototype.getHeaderColGroup=function(){return this.parent.element.querySelector("."+ds).querySelector(ss+":not(.e-masked-colgroup)").cloneNode(!0)},r.prototype.initializeContentDrop=function(){var e=this.parent;this.droppable=new ij(e.element,{accept:".e-dragclone",drop:this.drop})},r.prototype.droppableDestroy=function(){this.droppable&&!this.droppable.isDestroyed&&this.droppable.destroy()},r.prototype.canSkip=function(e,t,i){return p(t)||p(e.visible)||t.cells[parseInt(i.toString(),10)].visible===e.visible},r.prototype.getModelGenerator=function(){return this.generator=this.parent.allowGrouping?new yee(this.parent):new Tv(this.parent)},r.prototype.renderEmpty=function(e){this.getTable().appendChild(e),(this.parent.frozenRows||this.parent.pinnedTopRowModels.length)&&(this.parent.getHeaderContent().querySelector($t).innerHTML="")},r.prototype.setSelection=function(e,t,i){this.parent.notify(UX,{uid:e,set:t,clearAll:i});for(var n=this.getRows().filter(function(l){return i||e===l.uid}),s=0;s<n.length;s++){n[parseInt(s.toString(),10)].isSelected=t;for(var o=n[parseInt(s.toString(),10)].cells,a=0;a<o.length;a++)o[parseInt(a.toString(),10)].isSelected=t}},r.prototype.getRowByIndex=function(e){return e=this.getInfiniteRowIndex(e),p(e)?void 0:this.parent.getDataRows()[parseInt(e.toString(),10)]},r.prototype.getInfiniteRowIndex=function(e){if(this.parent.infiniteScrollSettings.enableCache&&!p(e)){var t=this.parent.frozenRows,i=t>e?0:t,n=parseInt(this.parent.getRows()[parseInt(i.toString(),10)].getAttribute(Ti),10)-1;e=t>e?e:e-n+t}return e},r.prototype.getVirtualRowIndex=function(e){return e},r.prototype.enableAfterRender=function(e){e.module==="group"&&e.enable&&(this.generator=this.getModelGenerator())},r.prototype.setRowObjects=function(e){this.rows=e},r.prototype.immutableModeRendering=function(e){var t=this;e===void 0&&(e={});var i=this.parent;i.hideSpinner();var n=i.getPrimaryKeyFieldNames()[0],s={},o={},a=[],l={},h=i.getRowsObject().slice(),u=this.getBatchEditedRecords(n,h),c={},d=Object.keys(u).length!==0;if(i.getContent().querySelector(".e-emptyrow")||e.requestType==="reorder"||this.parent.groupSettings.columns.length)this.refreshContentRows(e);else{if(i.currentViewData.length===0)return;var f={},g=i.createElement($t,{attrs:{role:"rowgroup"}}),m=i.currentViewData,y=[].slice.call(this.getTable().querySelector($t).children);if(this.prevCurrentView.length){var v=this.prevCurrentView.length,M=m.length;if(v===M)for(var S=0;S<M;S++){if(this.parent.editSettings.mode==="Batch"&&y[parseInt(S.toString(),10)].classList.contains("e-insertedrow")){y.splice(S,1),--S;continue}o[m[parseInt(S.toString(),10)][""+n]]=s[this.prevCurrentView[parseInt(S.toString(),10)][""+n]]=S,c[parseInt(S.toString(),10)]=m[parseInt(S.toString(),10)][""+n],f[h[parseInt(S.toString(),10)].uid]=y[parseInt(S.toString(),10)],l[parseInt(S.toString(),10)]=this.prevCurrentView[parseInt(S.toString(),10)][""+n]}else{for(var S=0;S<M;S++)o[m[parseInt(S.toString(),10)][""+n]]=S,c[parseInt(S.toString(),10)]=m[parseInt(S.toString(),10)][""+n];for(var S=0;S<v;S++){if(this.parent.editSettings.mode==="Batch"&&y[parseInt(S.toString(),10)].classList.contains("e-insertedrow")){y.splice(S,1),--S;continue}f[h[parseInt(S.toString(),10)].uid]=y[parseInt(S.toString(),10)],s[this.prevCurrentView[parseInt(S.toString(),10)][""+n]]=S,l[parseInt(S.toString(),10)]=this.prevCurrentView[parseInt(S.toString(),10)][""+n]}}}for(var S=0;S<m.length;S++){var b=s[m[parseInt(S.toString(),10)][""+n]];if(p(b)){var k=new Np(this.serviceLocator,null,i),N={startIndex:S},A=this.generator.generateRows([m[parseInt(S.toString(),10)]],N);a.push(A[0]);var T=k.render(A[0],i.getColumns());g.appendChild(T),this.refreshImmutableContent(S,T,a[parseInt(S.toString(),10)])}else{var C=!1;this.parent.enableDeepCompare&&(C=this.objectEqualityChecker(this.prevCurrentView[parseInt(b.toString(),10)],m[parseInt(S.toString(),10)]));var T=f[h[parseInt(b.toString(),10)].uid];if(a.push(h[parseInt(b.toString(),10)]),this.rowElements[parseInt(b.toString(),10)]&&this.rowElements[parseInt(b.toString(),10)].getAttribute("data-uid")===a[parseInt(S.toString(),10)].uid&&(d&&p(u[c[parseInt(S.toString(),10)]])||!d&&(C||this.prevCurrentView[parseInt(b.toString(),10)]===m[parseInt(S.toString(),10)]))){b!==S&&this.refreshImmutableContent(S,T,a[parseInt(S.toString(),10)]),g.appendChild(T);continue}(d&&!p(u[c[parseInt(S.toString(),10)]])||!this.parent.enableDeepCompare&&m[parseInt(S.toString(),10)]!==this.prevCurrentView[parseInt(b.toString(),10)]||this.parent.enableDeepCompare&&!C)&&h[parseInt(b.toString(),10)].setRowValue(m[parseInt(S.toString(),10)]),g.appendChild(T),this.refreshImmutableContent(S,T,a[parseInt(S.toString(),10)])}}if(this.rows=a,this.rowElements=[].slice.call(g.children),ot(this.getTable().querySelector($t)),this.getTable().appendChild(g),this.parent.trigger(Ml,{},function(){t.parent.allowTextWrap&&t.parent.notify(Og,{case:"textwrap"})}),e){var E=(e.requestType||"").toLowerCase()+"-complete";this.parent.notify(E,e)}}},r.prototype.objectEqualityChecker=function(e,t){for(var i=Object.keys(e),n=!0,s=0;s<i.length;s++)if(e[i[parseInt(s.toString(),10)]]!==t[i[parseInt(s.toString(),10)]]){var o=e[i[parseInt(s.toString(),10)]]instanceof Date&&t[i[parseInt(s.toString(),10)]]instanceof Date;if(!o||e[i[parseInt(s.toString(),10)]].getTime()!==t[i[parseInt(s.toString(),10)]].getTime()){n=!1;break}}return n},r.prototype.getBatchEditedRecords=function(e,t){var i={},n=this.parent.getBatchChanges(),s=[],o=[];Object.keys(n).length&&(s=n.changedRecords,o=n.addedRecords);var a={cancel:!1};this.parent.notify(HX,{rows:t,args:a}),o.length&&(this.parent.editSettings.newRowPosition==="Bottom"?t.splice(t.length-1,o.length):a.cancel||t.splice(0,o.length));for(var l=0;l<s.length;l++)i[s[parseInt(l.toString(),10)][""+e]]=l;return i},r.prototype.refreshImmutableContent=function(e,t,i){i.isAltRow=this.parent.enableAltRow?e%2!==0:!1,i.isAltRow?t.classList.add("e-altrow"):t.classList.remove("e-altrow"),i.index=e,i.edit=void 0,i.isDirty=!1,t.setAttribute(Ti,(e+1).toString()),this.updateCellIndex(t,e)},r.prototype.updateCellIndex=function(e,t){for(var i=0;i<e.cells.length;i++)e.cells[parseInt(i.toString(),10)].setAttribute("data-index",t.toString())},r}(),Mee=function(){function r(e,t){var i=this;this.frzIdx=0,this.notfrzIdx=0,this.isFirstCol=!1,this.isReplaceDragEle=!0,this.helper=function(n){var s=i.parent,o=i.draggable.currentStateTarget,a=he(o,"e-headercell");if(!(s.allowReordering||s.allowGrouping)||!p(a)&&a.getElementsByClassName("e-checkselectall").length>0)return!1;var l=i.parent.createElement("div",{className:"e-cloneproperties e-dragclone e-headerclone"}),h=o.classList.contains("e-headercell")?o:a;if(!h||!s.allowReordering&&h.classList.contains("e-stackedheadercell"))return!1;var u=h.offsetHeight,c=h.querySelector(".e-headercelldiv")||h.querySelector(".e-stackedheadercelldiv"),d;if(c){if(h.querySelector(".e-stackedheadercelldiv")?d=s.getStackedHeaderColumnByHeaderText(c.innerText.trim(),s.columns):d=s.getColumnByUid(c.getAttribute("data-mappinguid")),i.column=d,i.column.lockColumn)return!1;l.setAttribute("data-mappinguid",i.column.uid)}if(d&&!p(d.headerTemplate)){if(p(d.headerTemplate))l.innerHTML=d.headerTemplate;else{var f=s.getColumnIndexByField(d.field),g=d.getHeaderTemplate()(ie({index:f},d),s,"headerTemplate",null,null,null,null,s.root),m=s.isReact&&typeof d.headerTemplate!="string",y=s.parentDetails&&s.parentDetails.parentInstObj&&s.parentDetails.parentInstObj.isReact;(m||y)&&s.renderTemplates(),tr(l,g)}!p(l.firstChild)&&l.firstChild.nodeType===1&&(l.firstChild.style.pointerEvents="none")}else l.innerHTML=c?d.headerText:h.firstElementChild.innerHTML;return l.style.width=h.offsetWidth+"px",l.style.height=h.offsetHeight+"px",l.style.lineHeight=(u-6).toString()+"px",s.element.appendChild(l),l},this.dragStart=function(n){var s=i.parent;s.element.querySelector(".e-gridpopup").style.display="none",s.notify(jZ,{target:i.draggable.currentStateTarget,column:i.column,event:n.event})},this.drag=function(n){var s=i.parent,o=n.target;if(o){var a=xe(o,".e-grid"),l=i.parent.element.querySelector(".e-cloneproperties");if((!a||a.getAttribute("id")!==s.element.getAttribute("id"))&&(Ki(l,["e-notallowedcur"],["e-defaultcur"]),s.allowReordering&&(s.element.querySelector(".e-reorderuparrow").style.display="none",s.element.querySelector(".e-reorderdownarrow").style.display="none"),!s.groupSettings.allowReordering))return;s.notify(PZ,{target:n.target,column:i.column,event:n.event})}},this.dragStop=function(n){var s=i.parent,o;s.element.querySelector(".e-gridpopup").style.display="none",(!he(n.target,"e-headercell")&&!he(n.target,"e-groupdroparea")||!s.allowReordering&&he(n.target,"e-headercell")||!n.helper.getAttribute("data-mappinguid")&&he(n.target,"e-groupdroparea"))&&(ot(n.helper),o=!0),s.notify(iX,{target:n.target,event:n.event,column:i.column,cancel:o})},this.drop=function(n){var s=i.parent,o=n.droppedElement.getAttribute("data-mappinguid"),a=xe(n.target,".e-grid");ot(n.droppedElement),!(a&&a.getAttribute("id")!==s.element.getAttribute("id")||!(s.allowReordering||s.allowGrouping))&&s.notify(nX,{target:n.target,uid:o,droppedElement:n.droppedElement})},this.parent=e,this.serviceLocator=t,this.ariaService=this.serviceLocator.getService("ariaService"),this.widthService=this.serviceLocator.getService("widthService"),!this.parent.isDestroyed&&(this.parent.enableColumnVirtualization||this.parent.on(nD,this.setVisible,this),this.parent.on(Hj,this.colPosRefresh,this),this.parent.on(iD,this.renderCustomToolbar,this),this.parent.rowRenderingMode==="Vertical"&&this.parent.on(fn,this.updateCustomResponsiveToolbar,this))}return r.prototype.renderPanel=function(){var e=this.parent.element.querySelector("."+ds),t=e!=null;e=t?e:this.parent.createElement("div",{className:"e-gridheader"});var i=t?e.querySelector("."+Tn):this.parent.createElement("div",{className:Tn});this.toggleStackClass(e),e.appendChild(i),this.setPanel(e),t||this.parent.element.appendChild(e)},r.prototype.renderTable=function(){var e=this.getPanel();e.appendChild(this.createHeaderTable()),this.setTable(e.querySelector("."+ta)),this.initializeHeaderDrag(),this.initializeHeaderDrop(),this.parent.notify(oa,{rows:this.rows})},r.prototype.getPanel=function(){return this.headerPanel},r.prototype.setPanel=function(e){this.headerPanel=e},r.prototype.getTable=function(){return this.headerTable},r.prototype.setTable=function(e){this.headerTable=e},r.prototype.getColGroup=function(){return this.colgroup},r.prototype.setColGroup=function(e){return this.colgroup=e},r.prototype.getRows=function(){var e=this.getTable();return e.tHead.rows},r.prototype.createHeaderTable=function(){var e=this.createTable(),t=this.getPanel().querySelector("."+Tn);return t.appendChild(e),t},r.prototype.createHeader=function(e,t){var i=this.parent;this.getTable()&&ot(this.getTable());var n=this.parent.createElement("table",{className:ta,attrs:{role:"presentation"}});n.style.cssText="border-collapse: separate; border-spacing: .25px;";var s=this.createHeaderContent(t),o=s.thead,a=this.parent.createElement($t,{className:this.parent.frozenRows||this.parent.isRowPinned||(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&this.parent.editSettings.showAddNewRow?"":"e-hide",attrs:{role:"rowgroup"}});this.caption=this.parent.createElement("caption",{innerHTML:this.parent.element.id+"_header_table",className:"e-hide"});for(var l=this.parent.createElement(ss),h=this.parent.createElement("tr",{attrs:{role:"row"},className:(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&this.parent.editSettings.showAddNewRow?"e-hide":""}),u,c=this.rows=s.rows,d=0,f=c.length;d<f;d++)for(var g=0,m=c[parseInt(d.toString(),10)].cells.length;g<m;g++)u=this.parent.createElement("td"),h.appendChild(u);return(i.allowFiltering||i.allowSorting||i.allowGrouping)&&n.classList.add("e-sortfilter"),this.updateColGroup(l),a.appendChild(h),n.appendChild(this.caption),n.appendChild(this.setColGroup(l)),n.appendChild(o),n.appendChild(a),n},r.prototype.createTable=function(e){return e===void 0&&(e=null),this.createHeader(e)},r.prototype.createHeaderContent=function(e){var t=this.parent,i=t.getColumns(),n=this.parent.createElement("thead",{attrs:{role:"rowgroup"}}),s=this.parent.createElement("tr",{className:"e-columnheader",attrs:{role:"row"}}),o=new Np(this.serviceLocator,We.Header,t);o.element=s;var a=[],l;this.colDepth=Ete(t.columns);for(var h=0,u=this.colDepth;h<u;h++)a[parseInt(h.toString(),10)]=this.generateRow(h),a[parseInt(h.toString(),10)].cells=[];if(a=this.ensureColumns(a),a=this.getHeaderCells(a,e),t.isRowDragable()&&this.parent.getFrozenMode()==="Right")for(var h=0,u=a.length;h<u;h++)a[parseInt(h.toString(),10)].cells.push(this.generateCell({},We.RowDragHIcon));var c=i.filter(function(y){return y.headerTemplate});c.length&&(this.parent.isReact||this.parent.isVue)&&Ap(this.parent,["headerTemplate"]),i&&i.length&&!i[0].visible?this.parent&&this.parent.renderModule&&(this.parent.renderModule.isFirstColumnHidden=!0):this.parent&&this.parent.renderModule&&(this.parent.renderModule.isFirstColumnHidden=!1);for(var h=0,u=this.colDepth;h<u;h++){if(l=o.render(a[parseInt(h.toString(),10)],i),this.parent.allowResizing){var d=Array.from(l.querySelectorAll(".e-headercell:not(.e-hide)"));if(l.querySelector(".e-lastcell")&&l.querySelector(".e-lastcell").classList.contains("e-hide")){var f=d[d.length-1];f.classList.add("e-last-visible-cell")}else if(l.querySelector(".e-laststackcell")&&l.querySelector(".e-laststackcell").classList.contains("e-hide")){var g=d[d.length-1];g.classList.add("e-last-visible-stack-cell")}}this.parent.rowHeight&&l.querySelector(".e-headercell")&&(l.style.height=this.parent.rowHeight+"px"),_d(l),n.appendChild(l)}var m={thead:n,rows:a};return m},r.prototype.updateColGroup=function(e){var t=this.parent.getColumns(),i,n=this.parent.getColumnIndexesInView();if(e.id=this.parent.element.id+ss,this.parent.allowGrouping)for(var s=0,o=this.parent.groupSettings.columns.length;s<o;s++)this.parent.enableColumnVirtualization&&n.indexOf(s)===-1||(i=this.parent.createElement("col",{className:"e-group-intent"}),e.appendChild(i));(this.parent.detailTemplate||this.parent.childGrid)&&(i=this.parent.createElement("col",{className:"e-detail-intent"}),e.appendChild(i)),this.parent.isRowDragable()&&this.parent.getFrozenMode()!=="Right"&&(i=this.parent.createElement("col",{className:"e-drag-intent"}),e.appendChild(i));for(var s=0,o=t.length;s<o;s++)i=this.parent.createElement("col"),t[parseInt(s.toString(),10)].visible===!1&&Ci(i,{display:"none"}),e.appendChild(i);return this.parent.isRowDragable()&&this.parent.getFrozenMode()==="Right"&&(i=this.parent.createElement("col",{className:"e-drag-intent"}),e.appendChild(i)),e},r.prototype.ensureColumns=function(e){for(var t=this.parent,i=this.parent.getColumnIndexesInView(),n=0,s=e.length;n<s;n++){var o=n===0?this.colDepth:0;if(t.allowGrouping){for(var a=0,l=t.groupSettings.columns.length;a<l;a++)if(!(this.parent.enableColumnVirtualization&&i.indexOf(a)===-1)){var h=this.generateCell({},We.HeaderIndent);this.colDepth>1&&(h.rowSpan=o),e[parseInt(n.toString(),10)].cells.push(h)}}if(t.detailTemplate||t.childGrid){var u={};this.parent.notify(Wj,u);var h=this.generateCell(u,We.DetailHeader);this.colDepth>1&&(h.rowSpan=o),e[parseInt(n.toString(),10)].cells.push(h)}if(t.isRowDragable()&&this.parent.getFrozenMode()!=="Right"){var h=this.generateCell({},We.RowDragHIcon);this.colDepth>1&&(h.rowSpan=o),e[parseInt(n.toString(),10)].cells.push(h)}}return e},r.prototype.getHeaderCells=function(e,t){var i=this.parent.getHeaderTable()&&this.parent.getHeaderTable().querySelector("thead"),n=this.parent.enableColumnVirtualization?this.parent.getColumns(this.parent.enablePersistence):this.parent.columns;if(this.frzIdx=0,this.notfrzIdx=0,this.parent.lockcolPositionCount)for(var s=0;s<(p(n)?0:n.length);s++)this.lockColsRendered=!1,e=this.appendCells(n[parseInt(s.toString(),10)],e,0,s===0,!1,s===n.length-1,i,t,!1);for(var s=0,o=p(n)?0:n.length;s<o;s++)this.notfrzIdx=0,this.lockColsRendered=!0,e=this.appendCells(n[parseInt(s.toString(),10)],e,0,s===0,!1,s===o-1,i,t,!1);return e},r.prototype.appendCells=function(e,t,i,n,s,o,a,l,h){var u=o?h?"e-laststackcell":"e-lastcell":"",c=!this.parent.lockcolPositionCount||e.lockColumn&&!this.lockColsRendered||!e.lockColumn&&this.lockColsRendered;if(!e.columns)c&&t[parseInt(i.toString(),10)].cells.push(this.generateCell(e,We.Header,this.colDepth-i,(n?"":s?"e-firstcell":"")+u,i,this.parent.getColumnIndexByUid(e.uid))),this.parent.lockcolPositionCount?this.frzIdx+this.notfrzIdx<this.parent.frozenColumns&&(e.lockColumn&&!this.lockColsRendered||!e.lockColumn&&this.lockColsRendered)?this.frzIdx++:this.notfrzIdx++:this.frzIdx++;else{this.isFirstCol=!1;var d=this.getCellCnt(e,0);if(d){var f=this.getStackedLockColsCount(e,0),g=this.parent.lockcolPositionCount===0||!this.lockColsRendered&&f!==0||this.lockColsRendered&&d-f!==0;g&&t[parseInt(i.toString(),10)].cells.push(new xp({cellType:We.StackedHeader,column:e,colSpan:this.getColSpan(d,f),className:n?"":s?"e-firstcell":""}))}if(this.parent.lockcolPositionCount&&!this.lockColsRendered)for(var m=0;m<e.columns.length;m++)t=this.appendCells(e.columns[parseInt(m.toString(),10)],t,i+1,n,m===0,m===e.columns.length-1&&o,a,l,!1);if(this.lockColsRendered)for(var m=0,y=e.columns.length;m<y;m++){n=n&&m===0;var v=this.isFirstCol=e.columns[parseInt(m.toString(),10)].visible&&!n,M=m===y-1&&o;t=this.appendCells(e.columns[parseInt(m.toString(),10)],t,i+1,n,v&&!M,M,a,l,!0)}}return t},r.prototype.getStackedLockColsCount=function(e,t){if(e.columns)for(var i=0;i<e.columns.length;i++)t=this.getStackedLockColsCount(e.columns[parseInt(i.toString(),10)],t);else e.lockColumn&&t++;return t},r.prototype.getColSpan=function(e,t){return e=this.lockColsRendered?e-t:t,e},r.prototype.generateRow=function(e){return new Pc({})},r.prototype.generateCell=function(e,t,i,n,s,o){var a={visible:e.visible,isDataCell:!1,isTemplate:!p(e.headerTemplate),rowID:"",column:e,cellType:t,rowSpan:i,className:n,index:s,colIndex:o};return(!a.rowSpan||a.rowSpan<2)&&delete a.rowSpan,new xp(a)},r.prototype.setVisible=function(e){for(var t=this.parent,i,n,s=0,o=e.length;s<o;s++){var a=e[parseInt(s.toString(),10)];n=t.getNormalizedColumnIndex(a.uid),i=a.visible?"":"none",Ci(this.getColGroup().children[parseInt(n.toString(),10)],{display:i}),t.editSettings.showAddNewRow&&t.element.querySelector(".e-addedrow")&&Ci(t.element.querySelector(".e-addedrow").querySelector("colgroup").childNodes[parseInt(n.toString(),10)],{display:i})}this.refreshUI(),this.parent.editSettings.showAddNewRow&&(this.parent.isAddNewRow=!0)},r.prototype.colPosRefresh=function(){this.refreshUI()},r.prototype.refreshUI=function(){var e=this.getPanel();this.toggleStackClass(e);var t=this.getTable(),i=void 0;if(t){this.droppableDestroy(),this.parent.reorderModule&&(this.parent.reorderModule.element=null,this.parent.reorderModule.destElement=null),ot(t),this.parent.editSettings.showAddNewRow&&!this.parent.isAddNewRow&&t.querySelector(".e-addedrow")&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&(t.querySelector(".e-addedrow").classList.add("e-addrow-removed"),this.parent.isAddNewRow=!0),t.removeChild(t.childNodes[1]),t.removeChild(t.childNodes[1]);var n=this.parent.createElement(ss),s=this.createHeaderContent(i);this.rows=s.rows,t.insertBefore(s.thead,t.childNodes[1]),this.updateColGroup(n),t.insertBefore(this.setColGroup(n),t.childNodes[1]),this.appendContent(t),this.parent.notify(Bj,{}),this.widthService.setWidthToColumns(),this.parent.updateDefaultCursor(),this.initializeHeaderDrag(),this.initializeHeaderDrop();for(var o=[].slice.call(e.querySelectorAll("tr.e-columnheader")),a=0,l=o;a<l.length;a++){var h=l[a],u=[].slice.call(h.getElementsByClassName("e-grouptopleftcell"));u.length&&u[u.length-1].classList.add("e-lastgrouptopleftcell")}this.parent.notify(oa,{rows:this.rows}),this.parent.enableColumnVirtualization&&he(t,AC)&&this.parent.notify(oa,{rows:this.rows,args:{isFrozen:!1,isXaxis:!0}}),this.parent.allowTextWrap&&this.parent.textWrapSettings.wrapMode==="Header"&&Nr(o,!0)}var c=this.parent.getHeaderContent().querySelector(".e-headercell:not(.e-hide)");p(c)||(c.tabIndex=0)},r.prototype.toggleStackClass=function(e){var t=this.parent.columns,i=p(t)?!1:t.some(function(n){return!p(n.columns)});i?e.classList.add("e-stackedheader"):e.classList.remove("e-stackedheader")},r.prototype.appendContent=function(e){this.getPanel().querySelector("."+Tn).appendChild(e)},r.prototype.getCellCnt=function(e,t){if(e.columns)for(var i=0,n=e.columns.length;i<n;i++)t=this.getCellCnt(e.columns[parseInt(i.toString(),10)],t);else e.visible&&t++;return t},r.prototype.initializeHeaderDrag=function(){var e=this.parent;(this.parent.allowReordering||this.parent.allowGrouping&&this.parent.groupSettings.showDropArea)&&(this.draggable=new tj(e.getHeaderContent(),{dragTarget:".e-headercell",distance:5,helper:this.helper,dragStart:this.dragStart,drag:this.drag,dragStop:this.dragStop,abort:".e-rhandler",isReplaceDragEle:this.isReplaceDragEle}),this.parent.on(js,this.droppableDestroy,this))},r.prototype.initializeHeaderDrop=function(){var e=this.parent;this.droppable=new ij(e.getHeaderContent(),{accept:".e-dragclone",drop:this.drop}),this.parent.on(js,this.droppableDestroy,this)},r.prototype.droppableDestroy=function(){this.droppable&&!this.droppable.isDestroyed&&this.droppable.destroy(),this.draggable&&!this.draggable.isDestroyed&&this.draggable.destroy()},r.prototype.renderCustomToolbar=function(){var e=this,t=this.parent;if(t.rowRenderingMode==="Vertical"&&!t.toolbar&&(t.allowSorting||t.allowFiltering&&t.filterSettings.type!=="FilterBar")){for(var i=t.createElement("div",{className:"e-res-toolbar e-toolbar"}),n=t.createElement("div",{className:"e-toolbar-items"}),s=t.createElement("div",{className:"e-toolbar-left"}),o=this.parent.allowFiltering&&this.parent.allowSorting?2:1,a=0;a<o;a++){var l=t.createElement("div",{className:"e-toolbar-item e-gridresponsiveicons e-icons e-tbtn-align"}),h=o===1?this.parent.allowSorting?"sort":"filter":a===1?"sort":"filter",u=t.createElement("button",{className:"e-tbar-btn e-control e-btn e-lib e-icon-btn"}),c=t.createElement("span",{className:"e-btn-icon e-res"+h+"-icon e-icons"});u.appendChild(c);var d=new uh({cssClass:this.parent.cssClass?this.parent.cssClass:""});d.appendTo(u),u.onclick=function(f){f.target.classList.contains("e-ressort-btn")||f.target.classList.contains("e-ressort-icon")||f.target.querySelector(".e-ressort-icon")?e.parent.showResponsiveCustomSort():e.parent.showResponsiveCustomFilter()},l.appendChild(u),s.appendChild(l)}n.appendChild(s),i.appendChild(n),t.element.insertBefore(i,this.parent.element.querySelector("."+ds))}else t.enableAdaptiveUI&&!t.toolbar&&t.getContent().classList.add("e-responsive-header")},r.prototype.updateCustomResponsiveToolbar=function(e){var t=this.parent.element.querySelector(".e-responsive-toolbar");e.module==="toolbar"&&(t?ot(t):this.renderCustomToolbar())},r}(),Ir=function(){function r(e,t){this.localizer=t.getService("localization"),this.formatter=t.getService("valueFormatter"),this.parent=e,this.element=this.parent.createElement("TD",{className:Gt,attrs:{role:"gridcell",tabindex:"-1"}}),this.rowChkBox=this.parent.createElement("input",{className:"e-checkselect",attrs:{type:"checkbox","aria-label":this.localizer.getConstant("SelectRow")}})}return r.prototype.getGui=function(){return""},r.prototype.format=function(e,t,i){if(!p(e.format)){if(e.type==="number"&&isNaN(parseInt(t,10))&&(t=null),e.type==="dateonly"&&typeof t=="string"&&t){var n=t.split(/[^0-9.]/);t=new Date(parseInt(n[0],10),parseInt(n[1],10)-1,parseInt(n[2],10))}t=this.formatter.toView(t,e.getFormatter())}return p(t)?"":t.toString()},r.prototype.evaluate=function(e,t,i,n,s,o){var a,l;if(t.column.template){var h=this.parent.isReact&&typeof t.column.template!="string"&&!(t.column.template.prototype&&t.column.template.prototype.CSPTemplate),u=this.parent.parentDetails&&this.parent.parentDetails.parentInstObj&&this.parent.parentDetails.parentInstObj.isReact,c=this.parent.printGridParent&&this.parent.printGridParent.isReact,d=["data-index"],f=aD({},i,(a={},a[Qj]=s,a.column=t.column,a)),g=this.parent.element.id+t.column.uid,m="isStringTemplate";if(h||u||c){var y={index:n[d[0]]};t.column.getColumnTemplate()(ie(y,f),this.parent,"columnTemplate",g,this.parent[""+m],null,e)}else l=t.column.getColumnTemplate()(ie({index:n[d[0]]},f),this.parent,"template",g,this.parent[""+m],void 0,void 0,this.parent.root);return!h&&!u&&!c&&tr(e,l),this.parent.notify("template-result",{template:l}),l=null,t.column.templateOptions.enableAriaLabel&&e.setAttribute("aria-label",e.innerText+this.localizer.getConstant("TemplateCell")+this.localizer.getConstant("ColumnHeader")+t.column.headerText),!1}return!0},r.prototype.invokeFormatter=function(e,t,i){if(!p(e.formatter))if(mte(e.formatter,"getValue")){var n=e.formatter;t=new n().getValue(e,i)}else typeof e.formatter=="function"?t=e.formatter(e,i):t=e.formatter.getValue(e,i);return t},r.prototype.render=function(e,t,i,n,s){return this.refreshCell(e,t,i,s)},r.prototype.refreshTD=function(e,t,i,n){var s=this.parent.editSettings.mode==="Batch"&&e.classList.contains("e-editedbatchcell");if(this.parent.isReact){var o=e.cellIndex,a=e.parentElement;ot(e);var l=this.refreshCell(t,i,n,s);this.cloneAttributes(l,e),a.cells.length!==o-1?a.insertBefore(l,a.cells[parseInt(o.toString(),10)]):a.appendChild(l)}else{var h=this.refreshCell(t,i,n,s);e.innerHTML="";var u=h.getAttribute("aria-label");u&&e.setAttribute("aria-label",u);for(var c=[].slice.call(h.childNodes),d=0,f=c;d<f.length;d++){var g=f[d];e.appendChild(g)}}},r.prototype.cloneAttributes=function(e,t){for(var i=t.attributes,n=i.length,s;n--;)s=i[parseInt(n.toString(),10)],e.setAttribute(s.name,s.value)},r.prototype.refreshCell=function(e,t,i,n){var s,o=this.element.cloneNode(),a=e.column,l;e.isForeignKey&&(l=e.foreignKeyData&&e.foreignKeyData[0]?e.foreignKeyData[0]:(s={},s[a.foreignKeyValue]=a.format?null:"",s));var h=this.getGui(),u=e.isForeignKey?this.getValue(a.foreignKeyValue,l,a):this.getValue(a.field,t,a);if((a.type==="date"||a.type==="datetime")&&!p(u)&&(u=new Date(u)),a.type==="dateonly"&&!p(u)&&typeof u=="string"){var c=u.split(/[^0-9.]/);u=new Date(parseInt(c[0],10),parseInt(c[1],10)-1,parseInt(c[2],10))}if(u=this.format(a,u,t),h=u.toString(),a.type==="boolean"&&!a.displayAsCheckBox){var d=u!=="true"&&u!=="false"?null:u==="true"?"True":"False";h=d?this.localizer.getConstant(d):h}var f=this.invokeFormatter(a,u,t);if(h=p(a.formatter)?h:p(f)?"":f.toString(),this.evaluate(o,e,t,i,l,n)&&a.type!=="checkbox")this.appendHtml(o,this.parent.sanitize(h),a.getDomSetter?a.getDomSetter():"innerHTML");else if(a.type==="checkbox"){o.classList.add(Wu),this.parent.selectionSettings.persistSelection?u=u==="true":u=!1;var g=Kh(this.parent.createElement,!1,{checked:u,label:" "});this.parent.cssClass&&Z([g],[this.parent.cssClass]),this.rowChkBox.id="checkbox-"+e.rowID,g.insertBefore(this.rowChkBox.cloneNode(),g.firstChild),o.appendChild(g)}if(this.parent.checkAllRows==="Check"&&this.parent.enableVirtualization&&(e.isSelected=!0),this.setAttributes(o,e,i),a.type==="boolean"&&a.displayAsCheckBox){var m=isNaN(parseInt(u.toString(),10))?u==="true":parseInt(u.toString(),10)>0,g=Kh(this.parent.createElement,!1,{checked:m,label:" "});o.innerHTML="",o.classList.add("e-gridchkbox-cell"),g.classList.add("e-checkbox-disabled"),this.parent.cssClass&&Z([g],[this.parent.cssClass]),o.appendChild(g)}if(o.classList.contains("e-summarycell")&&!t.key){var y=o.getAttribute("data-mappinguid");a=this.parent.getColumnByUid(y),o.setAttribute("aria-label",h+this.localizer.getConstant("ColumnHeader")+e.column.headerText)}return this.parent.isFrozenGrid()&&(!t||t&&!t.key)&&gP(this.parent,a,o),o},r.prototype.appendHtml=function(e,t,i){return i===void 0&&(i="innerHTML"),e[""+i]=t,e},r.prototype.setAttributes=function(e,t,i){var n=t.column;if(this.buildAttributeFromCell(e,t,n.type==="checkbox"),eo(e,i),eo(e,t.attributes),n.customAttributes&&eo(e,n.customAttributes),this.parent.rowRenderingMode==="Vertical"&&eo(e,{"data-cell":n.headerText}),n.textAlign){var s={right:"e-rightalign",left:"e-leftalign",center:"e-centeralign",justify:"e-justifyalign"};s[n.textAlign.toLowerCase()]&&e.classList.add(s[n.textAlign.toLowerCase()])}n.clipMode==="Clip"||!n.clipMode&&this.parent.clipMode==="Clip"?e.classList.add("e-gridclip"):(n.clipMode==="EllipsisWithTooltip"||!n.clipMode&&this.parent.clipMode==="EllipsisWithTooltip"&&!(this.parent.allowTextWrap&&(this.parent.textWrapSettings.wrapMode==="Content"||this.parent.textWrapSettings.wrapMode==="Both")))&&n.type!=="checkbox"&&e.classList.add("e-ellipsistooltip")},r.prototype.buildAttributeFromCell=function(e,t,i){var n={},s=[];t.colSpan&&(n.colSpan=t.colSpan),t.rowSpan&&(n.rowSpan=t.rowSpan),t.isTemplate&&s.push("e-templatecell"),t.isSelected&&(s.push.apply(s,["e-selectionbackground","e-active"]),i&&e.querySelector(".e-frame").classList.add("e-check")),t.isColumnSelected&&s.push.apply(s,["e-columnselection"]),t.cellType===We.Header?n[Qi]=t.colIndex+1:p(t.index)||(n[Qi]=t.index+1),t.visible||s.push("e-hide"),n.class=s,eo(e,n)},r.prototype.getValue=function(e,t,i){return i.valueAccessor(e,t,i)},r}(),Xj=function(){function r(){}return r.prototype.setOptions=function(e,t){for(var i=Object.keys(t),n=0;n<i.length;n++)Hl(e,Vl[i[parseInt(n.toString(),10)]],t[i[parseInt(n.toString(),10)]])},r.prototype.setExpand=function(e,t){Hl(e,Vl.expand,t)},r.prototype.setSort=function(e,t){Hl(e,Vl.sort,t,typeof t=="boolean")},r.prototype.setBusy=function(e,t){Hl(e,Vl.busy,t),Hl(e,Vl.invalid,null,!0)},r.prototype.setGrabbed=function(e,t,i){Hl(e,Vl.grabbed,t,i)},r.prototype.setDropTarget=function(e,t){Hl(e,Vl.dropeffect,"copy",!t)},r}();function Hl(r,e,t,i){if(i&&r){r.removeAttribute(e);return}r&&r.setAttribute(e,t)}var Vl={expand:"aria-expanded",role:"role",datarole:"data-role",selected:"aria-selected",multiselectable:"aria-multiselectable",sort:"aria-sort",busy:"aria-busy",invalid:"aria-invalid",grabbed:"aria-grabbed",dropeffect:"aria-dropeffect",haspopup:"aria-haspopup",level:"aria-level",colcount:"aria-colcount",rowcount:"aria-rowcount"},See=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),eP=function(r){See(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.element=t.parent.createElement("TH",{className:"e-headercell",attrs:{tabindex:"-1",role:"columnheader"}}),t.ariaService=new Xj,t.hTxtEle=t.parent.createElement("span",{className:"e-headertext"}),t.sortEle=t.parent.createElement("div",{className:"e-sortfilterdiv e-icons",attrs:{"aria-hidden":"true"}}),t.gui=t.parent.createElement("div"),t.chkAllBox=t.parent.createElement("input",{className:"e-checkselectall",attrs:{type:"checkbox","aria-label":t.localizer.getConstant("SelectAllCheckbox")}}),t}return e.prototype.getGui=function(){return this.gui.cloneNode()},e.prototype.render=function(t,i,n){var s=this.element.cloneNode(),o=this.parent.createElement("div",{className:"e-filtermenudiv e-icons e-icon-filter",attrs:{"aria-hidden":"true"}});return this.prepareHeader(t,s,o)},e.prototype.refresh=function(t,i){this.clean(i);var n=this.parent.createElement("div",{className:"e-filtermenudiv e-icons e-icon-filter",attrs:{"aria-hidden":"true"}});return this.prepareHeader(t,i,n)},e.prototype.clean=function(t){t.innerHTML=""},e.prototype.prepareHeader=function(t,i,n){var s=t.column,o={},a="",l=this.getGui(),h=this.parent.createElement("div",{className:"e-headercell-container"}),u;if(Et(l,{"data-mappinguid":s.uid,class:"e-headercelldiv"}),p(s.headerValueAccessor)||(u=this.getValue(s.headerText,s)),this.parent.rowHeight&&this.parent.allowSorting&&s.allowSorting&&!p(s.field)&&i.classList.add("e-sort-icon"),s.type!=="checkbox"){var c=s.headerText;p(u)||(c=u);var d=this.hTxtEle.cloneNode();d[s.getDomSetter()]=this.parent.sanitize(c),l.appendChild(d)}else{s.editType="booleanedit";var f=Kh(this.parent.createElement,!1,{checked:!1,label:" "});this.chkAllBox.id="checkbox-"+s.uid,f.insertBefore(this.chkAllBox.cloneNode(),f.firstChild),this.parent.cssClass&&Z([f],[this.parent.cssClass]),l.appendChild(f),l.classList.add("e-headerchkcelldiv"),h.classList.add("e-header-checkbox")}if(this.buildAttributeFromCell(i,t),h.appendChild(l),h.appendChild(this.sortEle.cloneNode()),this.parent.allowFiltering&&this.parent.filterSettings.type!=="FilterBar"&&s.allowFiltering&&!p(s.field)&&!(this.parent.showColumnMenu&&s.showColumnMenu)){Et(n,{"data-mappinguid":"e-flmenu-"+s.uid}),a=a.length?a+". "+this.localizer.getConstant("FilterDescription"):this.localizer.getConstant("FilterDescription"),i.classList.add("e-fltr-icon");var g=[];if(this.parent.filterSettings.columns.length&&this.parent.filterSettings.columns.length!==g.length){for(var m=this.parent.getForeignKeyColumns(),y=0;y<this.parent.columns.length;y++)for(var v=0;v<this.parent.filterSettings.columns.length;v++)if(this.parent.filterSettings.columns[parseInt(v.toString(),10)].field===s.field||m.length&&s.foreignKeyValue===this.parent.filterSettings.columns[parseInt(v.toString(),10)].field){n.classList.add("e-filtered"),g.push(s.field);break}}h.appendChild(n.cloneNode())}this.appendHtml(i,h),t.className&&i.classList.add(t.className),s.customAttributes&&eo(i,s.customAttributes),this.parent.allowSorting&&s.allowSorting&&(o.sort="none",a=a.length?a+". "+this.localizer.getConstant("SortDescription"):this.localizer.getConstant("SortDescription")),(this.parent.allowGrouping&&s.allowGrouping||this.parent.allowReordering&&s.allowReordering)&&(o.grabbed=!1,a=a.length?a+". "+this.localizer.getConstant("GroupDescription"):this.localizer.getConstant("GroupDescription")),this.parent.showColumnMenu&&s.type!=="checkbox"&&!s.template&&(a=a.length?a+". "+this.localizer.getConstant("ColumnMenuDescription"):this.localizer.getConstant("ColumnMenuDescription")),i=this.extendPrepareHeader(s,i);var M,S=this.parent,b=S.getColumnIndexByField(s.field);if(!p(s.headerTemplate)){var C=S.element.id+s.uid+"headerTemplate",T="isStringTemplate",k=s,N=this.parent.isReact&&typeof s.headerTemplate!="string"&&!(s.headerTemplate.prototype&&s.headerTemplate.prototype.CSPTemplate),A=this.parent.parentDetails&&this.parent.parentDetails.parentInstObj&&this.parent.parentDetails.parentInstObj.isReact,E=this.parent.printGridParent&&this.parent.printGridParent.isReact,x=this.parent.createElement("div",{className:"e-headertext"}),D=i.querySelector(".e-headercelldiv");if(N||A||E){var z={index:b};i.querySelector(".e-headertext").remove(),D.appendChild(x),s.getHeaderTemplate()(ie(z,k),S,"headerTemplate",C,this.parent[""+T],null,D.querySelector(".e-headertext")),this.parent.renderTemplates()}else M=s.getHeaderTemplate()(ie({index:b},k),S,"headerTemplate",C,this.parent[""+T],void 0,void 0,this.parent.root),D.innerHTML="",!p(M)&&M[0]&&M[0].classList&&M[0].classList.contains("e-headertext")?tr(D,M):(tr(x,M),D.appendChild(x))}if(this.ariaService.setOptions(i,o),!p(s.headerTextAlign)||!p(s.textAlign)){var w=s.headerTextAlign||s.textAlign;w.toLowerCase()==="right"||w.toLowerCase()==="left"?i.classList.add(w.toLowerCase()==="right"?"e-rightalign":"e-leftalign"):w.toLowerCase()==="center"?i.classList.add("e-centeralign"):w.toLowerCase()==="justify"&&i.classList.add("e-justifyalign")}if(s.clipMode==="Clip"||!s.clipMode&&this.parent.clipMode==="Clip"?i.classList.add("e-gridclip"):(s.clipMode==="EllipsisWithTooltip"||!s.clipMode&&this.parent.clipMode==="EllipsisWithTooltip")&&!(S.allowTextWrap&&(S.textWrapSettings.wrapMode==="Header"||S.textWrapSettings.wrapMode==="Both"))&&s.type!=="checkbox"&&i.classList.add("e-ellipsistooltip"),a){var O=this.parent.createElement("span",{id:"headerTitle-"+s.uid,innerHTML:a});O.style.display="none",h.appendChild(O),i.setAttribute("aria-describedby",O.id)}i.setAttribute("aria-rowspan",(p(t.rowSpan)?1:t.rowSpan).toString()),i.setAttribute("aria-colspan","1");var L=this.parent.parentDetails&&this.parent.parentDetails.parentInstObj&&this.parent.parentDetails.parentInstObj.isReact;if((this.parent.isReact&&this.parent.requireTemplateRef||L&&this.parent.parentDetails.parentInstObj.requireTemplateRef)&&!p(s.headerTemplate)){var j=this;j.parent.renderTemplates(function(){var B=i.querySelectorAll(".e-headertext");if(B)for(var V=1;V<B.length;V++)B[parseInt(V.toString(),10)].classList.remove("e-headertext");j.parent.trigger(pC,{cell:t,node:i})})}else this.parent.trigger(pC,{cell:t,node:i});return this.parent.isFrozenGrid()&&gP(this.parent,s,i),i},e.prototype.getValue=function(t,i){return i.headerValueAccessor(t,i)},e.prototype.extendPrepareHeader=function(t,i){if(this.parent.showColumnMenu&&t.showColumnMenu&&!p(t.field)){var n=this.parent.createElement("div",{className:"e-icons e-columnmenu",attrs:{"aria-hidden":"true"}}),s=[];if(this.parent.filterSettings.columns.length&&this.parent.filterSettings.columns.length!==s.length){for(var o=0;o<this.parent.columns.length;o++)for(var a=0;a<this.parent.filterSettings.columns.length;a++)if(this.parent.filterSettings.columns[parseInt(a.toString(),10)].field===t.field){n.classList.add("e-filtered"),s.push(t.field);break}}i.classList.add("e-fltr-icon");var l=i.querySelector(".e-headercell-container");l.appendChild(n)}if(this.parent.allowResizing){var h=this.parent.createElement("div");h.className=t.allowResizing?"e-rhandler e-rcursor":"e-rsuppress",i.appendChild(h)}return i},e.prototype.appendHtml=function(t,i){return t.appendChild(i),t},e}(Ir),Cee=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),DN=function(r){Cee(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.element=t.parent.createElement("TH",{className:"e-headercell e-stackedheadercell",attrs:{tabindex:"-1",role:"columnheader"}}),t}return e.prototype.render=function(t,i,n){var s=this.element.cloneNode(),o=this.parent.createElement("div",{className:"e-headercell-container e-stacked-header"}),a=this.parent.createElement("div",{className:"e-stackedheadercelldiv",attrs:{"data-mappinguid":t.column.uid}}),l=t.column;if(o.appendChild(a),s.appendChild(o),p(l.headerTemplate)?this.appendHtml(a,this.parent.sanitize(l.headerText),l.getDomSetter()):tr(a,l.getHeaderTemplate()(l,this.parent,"headerTemplate",null,null,null,null,this.parent.root)),t.column.toolTip&&s.setAttribute("title",t.column.toolTip),l.clipMode==="Clip"||!l.clipMode&&this.parent.clipMode==="Clip"?s.classList.add("e-gridclip"):(l.clipMode==="EllipsisWithTooltip"||!l.clipMode&&this.parent.clipMode==="EllipsisWithTooltip")&&s.classList.add("e-ellipsistooltip"),!p(t.column.textAlign)){var h={right:"e-rightalign",left:"e-leftalign",center:"e-centeralign",justify:"e-justifyalign"};h[t.column.textAlign.toLowerCase()]&&s.classList.add(h[t.column.textAlign.toLowerCase()])}if(t.column.customAttributes&&eo(s,t.column.customAttributes),s.setAttribute("colspan",t.colSpan.toString()),s.setAttribute("aria-colspan",t.colSpan.toString()),s.setAttribute("aria-rowspan","1"),this.parent.allowResizing){var u=this.parent.createElement("div");u.className=t.column.allowResizing?"e-rhandler e-rcursor":"e-rsuppress",s.appendChild(u)}if(t.className&&s.classList.add(t.className),this.parent.trigger(pC,{cell:t,node:s}),Hg(l)==="Left")if(s.classList.add("e-leftfreeze"),l.border==="Left"&&s.classList.add("e-freezeleftborder"),l.index===0)Bn(s,this.parent.getIndentCount()*30,this.parent.enableRtl,"Left");else{for(var c=this.parent.getColumns(),d=this.parent.getIndentCount()*30,f=0;f<c.length&&!(l.index<c[parseInt(f.toString(),10)].index);f++)c[parseInt(f.toString(),10)].visible&&(d+=parseFloat(c[parseInt(f.toString(),10)].width.toString()));Bn(s,d,this.parent.enableRtl,"Left")}else if(Hg(l)==="Right"){s.classList.add("e-rightfreeze");for(var c=this.parent.getColumns(),d=this.parent.getFrozenMode()==="Right"&&this.parent.isRowDragable()?30:0,f=c.length-1;f>=0&&!(TN(l,c[parseInt(f.toString(),10)].uid)||l.index>c[parseInt(f.toString(),10)].index);f--)c[parseInt(f.toString(),10)].visible&&(d+=parseFloat(c[parseInt(f.toString(),10)].width.toString()));Bn(s,d,this.parent.enableRtl,"Right"),l.border==="Right"&&s.classList.add("e-freezerightborder")}else if(Hg(l)==="Fixed"){s.classList.add("e-fixedfreeze");var c=this.parent.getColumns(),d=0;this.parent.getVisibleFrozenLeftCount()?d=this.parent.getIndentCount()*30:this.parent.getFrozenMode()==="Right"&&(d=this.parent.groupSettings.columns.length*30);for(var f=0;f<c.length;f++)l.index>c[parseInt(f.toString(),10)].index&&(c[parseInt(f.toString(),10)].freeze==="Left"||c[parseInt(f.toString(),10)].isFrozen||c[parseInt(f.toString(),10)].freeze==="Fixed")&&c[parseInt(f.toString(),10)].visible&&(d+=parseFloat(c[parseInt(f.toString(),10)].width.toString()));Bn(s,d-1,this.parent.enableRtl,"Left"),d=this.parent.getFrozenMode()==="Right"&&this.parent.isRowDragable()?30:0;for(var f=c.length-1;f>=0;f--)if(l.index<c[parseInt(f.toString(),10)].index){if(TN(l,c[parseInt(f.toString(),10)].uid)||l.index>c[parseInt(f.toString(),10)].index)break;(c[parseInt(f.toString(),10)].freeze==="Right"||c[parseInt(f.toString(),10)].freeze==="Fixed")&&c[parseInt(f.toString(),10)].visible&&(d+=parseFloat(c[parseInt(f.toString(),10)].width.toString()))}Bn(s,d-1,this.parent.enableRtl,"Right")}else s.classList.add("e-unfreeze");return s},e}(Ir),bee=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),EC=function(r){bee(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.element=t.parent.createElement("TD",{className:"e-indentcell"}),t}return e.prototype.render=function(t,i){var n=this.element.cloneNode();return eo(n,t.attributes),n},e}(Ir),tP=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Iee=function(r){tP(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.cellUid=0,t.element=t.parent.createElement("TD",{className:"e-groupcaption",attrs:{id:t.parent.element.id+"captioncell",tabindex:"-1"}}),t}return e.prototype.render=function(t,i){this.element.id=this.parent.element.id+"captioncell"+this.cellUid++;var n=this.element.cloneNode(),s=this.parent,o=t.column,a=o.getDomSetter?o.getDomSetter():"innerHTML",l,h,u;i.headerText=t.column.headerText,t.isForeignKey&&(h=this.format(t.column,t.column.valueAccessor("foreignKey",i,t.column)));for(var c=t.isForeignKey?h:t.column.enableGroupByFormat?i.key:this.format(t.column,t.column.valueAccessor("key",i,t.column)),d=0;d<s.aggregates.length;d++)for(var f=function(k){if(s.getVisibleColumns()[0].field===s.aggregates[parseInt(d.toString(),10)].columns[parseInt(k.toString(),10)].field&&s.aggregates[parseInt(d.toString(),10)].columns[parseInt(k.toString(),10)].groupCaptionTemplate){var N=s.aggregates[parseInt(d.toString(),10)].columns[parseInt(k.toString(),10)].groupCaptionTemplate;if(typeof N=="string"&&N.includes("$"))u=s.aggregates[parseInt(d.toString(),10)].columns[parseInt(k.toString(),10)].groupCaptionTemplate.split("$")[0]+i[s.getVisibleColumns()[0].field][s.aggregates[parseInt(d.toString(),10)].columns[parseInt(k.toString(),10)].type]+s.aggregates[parseInt(d.toString(),10)].columns[parseInt(k.toString(),10)].groupCaptionTemplate.split("}")[1];else{var A=s.aggregates[parseInt(d.toString(),10)].columns[parseInt(k.toString(),10)],E=A.getTemplate(We.CaptionSummary),x="";if(!p(E)){var D=E.fn(i[A.columnName],g.parent,E.property,x),z=g.parent.printGridParent&&g.parent.printGridParent.isReact;(g.parent.isReact||z)&&typeof A.groupCaptionTemplate!="string"?g.parent.renderTemplates(function(){D&&D.length&&(p(s.groupSettings.captionTemplate)?n.innerText+=" "+D[0].textContent:n.appendChild(D[0]))}):D&&D.length&&(p(s.groupSettings.captionTemplate)?u=D[0].textContent:u=D)}}return"break"}},g=this,m=0;m<s.aggregates[parseInt(d.toString(),10)].columns.length;m++){var y=f(m);if(y==="break")break}if(p(s.groupSettings.captionTemplate))s.groupSettings.enableLazyLoading?n[""+a]=this.parent.sanitize(t.column.headerText)+": "+this.parent.sanitize(c)+(u?"   "+u:""):n[""+a]=this.parent.sanitize(t.column.headerText)+": "+this.parent.sanitize(c)+" - "+i.count+" "+(i.count<2?this.localizer.getConstant("Item"):this.localizer.getConstant("Items"))+(u?"   "+u:"");else{var v=this.parent.isReact&&typeof s.groupSettings.captionTemplate!="string"&&!(s.groupSettings.captionTemplate.prototype&&s.groupSettings.captionTemplate.prototype.CSPTemplate),M=this.parent.parentDetails&&this.parent.parentDetails.parentInstObj&&this.parent.parentDetails.parentInstObj.isReact,S=this.parent.printGridParent&&this.parent.printGridParent.isReact;if(v||M||S){var b=s.element.id+"captionTemplate",C="groupKey",T="key";i[""+C]=i[""+T],Si(s.groupSettings.captionTemplate)(i,this.parent,"captionTemplate",b,null,null,n),this.parent.renderTemplates()}else this.parent.isVue||s.parentDetails&&s.parentDetails.parentInstObj&&s.parentDetails.parentInstObj.isVue?l=Si(s.groupSettings.captionTemplate)(i,this.parent,"captionTemplate",null,null,null,null,s.root):l=Si(s.groupSettings.captionTemplate)(i);!v&&!M&&!S&&(tr(n,l),u&&u.length&&u[0].textContent&&n.appendChild(u[0]))}return n.setAttribute("colspan",t.colSpan.toString()),n.setAttribute("aria-label",n.innerHTML+this.localizer.getConstant("GroupCaption")),n.setAttribute("title",n.textContent),n},e}(Ir),Dee=function(r){tP(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.element=t.parent.createElement("TD",{className:"e-groupcaption"}),t}return e.prototype.render=function(t,i){var n=this.element.cloneNode();return n.innerHTML="&nbsp;",n.setAttribute("colspan",t.colSpan.toString()),n},e}(Ir),Tee=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),wee=function(r){Tee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(t,i,n,s){var o=this.element.cloneNode();return o.setAttribute("data-mappingname",i.field),o.setAttribute("data-mappingvalue",i.key),o.setAttribute("aria-expanded",s?"true":"false"),o.setAttribute("tabindex","-1"),this.parent.infiniteScrollSettings&&this.parent.infiniteScrollSettings.enableCache&&!this.parent.groupSettings.enableLazyLoading?(t.cellType=We.Indent,o.className=s?"e-recordplusexpand e-disablepointer":"e-recordpluscollapse e-disablepointer"):(o.className=s?"e-recordplusexpand":"e-recordpluscollapse",o.appendChild(this.parent.createElement("a",{className:s?"e-icons e-gdiagonaldown e-icon-gdownarrow":"e-icons e-gnextforward e-icon-grightarrow",attrs:{href:"#",title:s?this.localizer.getConstant("Expanded"):this.localizer.getConstant("Collapsed")}}))),o},e}(EC),xee=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Nee=function(r){xee(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.element=t.parent.createElement("TH",{className:"e-grouptopleftcell"}),t}return e.prototype.render=function(t,i){var n=this.element.cloneNode();return n.appendChild(this.parent.createElement("div",{className:"e-headercelldiv e-emptycell",innerHTML:""})),t&&(t.rowSpan&&n.setAttribute("rowspan",t.rowSpan.toString()),t.rowSpan===0&&(n.style.display="none")),n},e}(Ir),Aee=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Eee=function(r){Aee(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.element=t.parent.createElement("TH",{className:"e-detailheadercell"}),t}return e.prototype.render=function(t,i){var n=this.element.cloneNode();return n.appendChild(this.parent.createElement("div",{className:"e-emptycell"})),t&&(t.rowSpan&&n.setAttribute("rowspan",t.rowSpan.toString()),t.rowSpan===0&&(n.style.display="none")),n},e}(Ir),kee=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Lee=function(r){kee(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.element=t.parent.createElement("TD",{className:"e-detailrowcollapse",attrs:{"aria-expanded":"false",tabindex:"-1"}}),t}return e.prototype.render=function(t,i,n){var s=this.element.cloneNode();return n&&!p(n.class)?(s.className="",s.className=n.class,s.appendChild(this.parent.createElement("a",{className:"e-icons e-dtdiagonaldown e-icon-gdownarrow",attrs:{href:"#",title:this.localizer.getConstant("Expanded")}}))):s.appendChild(this.parent.createElement("a",{className:"e-icons e-dtdiagonalright e-icon-grightarrow",attrs:{href:"#",title:this.localizer.getConstant("Collapsed")}})),t.isSelected&&s.classList.add("e-selectionbackground","e-active"),s},e}(Ir),zee=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Oee=function(r){zee(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.element=t.parent.createElement("TD",{className:"e-rowdragdrop e-rowdragdropcell",attrs:{tabindex:"-1",role:"gridcell"}}),t}return e.prototype.render=function(t,i){var n=this.element.cloneNode();if(n.appendChild(this.parent.createElement("div",{className:"e-icons e-rowcelldrag e-dtdiagonalright e-icon-rowdragicon",attrs:{"aria-hidden":"true"}})),t.isSelected&&(n.classList.add("e-selectionbackground"),n.classList.add("e-active")),this.parent.getVisibleFrozenRightCount()||this.parent.getVisibleFrozenLeftCount()){n.classList.add("e-leftfreeze");var s=this.parent.getFrozenMode()==="Right"?0:this.parent.groupSettings.columns.length*30;Bn(n,s,this.parent.enableRtl,this.parent.getFrozenMode()==="Right"?"Right":"Left")}return n},e}(Ir),Ree=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),jee=function(r){Ree(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.element=t.parent.createElement("TH",{className:"e-rowdragheader"}),t}return e.prototype.render=function(t,i){var n=this.element.cloneNode();if(n.appendChild(Be("div",{className:"e-emptycell"})),t&&(t.rowSpan&&n.setAttribute("rowspan",t.rowSpan.toString()),t.rowSpan===0&&(n.style.display="none")),this.parent.getVisibleFrozenRightCount()||this.parent.getVisibleFrozenLeftCount()){n.classList.add("e-leftfreeze");var s=this.parent.getFrozenMode()==="Right"?0:this.parent.groupSettings.columns.length*30;Bn(n,s,this.parent.enableRtl,this.parent.getFrozenMode()==="Right"?"Right":"Left")}return n},e}(Ir),Pee=function(){function r(e,t){this.emptyGrid=!1,this.counter=0,this.selectableDataKey={},this.nonselectableDataKey={},this.isFirstColumnHidden=!1,this.parent=e,this.locator=t,this.data=new cee(e,t),this.l10n=t.getService("localization"),this.ariaService=this.locator.getService("ariaService"),this.renderer=this.locator.getService("rendererFactory"),this.addEventListener()}return r.prototype.render=function(){var e=this.parent;this.headerRenderer=this.renderer.getRenderer(jr.Header),this.contentRenderer=this.renderer.getRenderer(jr.Content),this.headerRenderer.renderPanel(),this.contentRenderer.renderPanel(),e.getColumns().length&&(this.isLayoutRendered=!0,this.headerRenderer.renderTable(),this.contentRenderer.renderTable(),this.emptyRow(!1)),this.parent.scrollModule.setWidth(),this.parent.scrollModule.setHeight(),this.parent.height!=="auto"&&this.parent.scrollModule.setPadding(),this.refreshDataManager()},r.prototype.refresh=function(e){var t=this;e===void 0&&(e={requestType:"refresh"});var i=this.parent;i.notify(e.requestType+"-begin",e),i.trigger(vo,e,function(n){if(n===void 0&&(n={requestType:"refresh"}),n.cancel){if(i.notify(IC,n),n.action==="clearFilter"&&t.parent.filterSettings.type==="Menu"){t.parent.filterSettings.columns[t.parent.filterModule.filterObjIndex]=t.parent.filterModule.prevFilterObject;var s=t.parent.showColumnMenu&&t.parent.filterModule.column.showColumnMenu?".e-columnmenu":".e-icon-filter",o=t.parent.element.querySelector('[data-mappinguid="'+t.parent.filterModule.column.uid+'"]').parentElement,a=o.querySelector(s);p(t.parent.filterModule.prevFilterObject)||a.classList.add("e-filtered")}if(n.action==="clear-filter"&&(t.parent.filterSettings.type==="CheckBox"||t.parent.filterSettings.type==="Excel")&&(t.parent.filterSettings.columns=t.parent.filterModule.checkboxPrevFilterObject),n.requestType==="grouping"){var l=i.groupSettings.columns.indexOf(n.columnName);if(l!==-1){i.setProperties({groupSettings:{Columns:i.groupSettings.columns.splice(l,1)}},!0),i.setProperties({sortSettings:{Columns:i.sortSettings.columns.splice(l,1)}},!0);var h=i.getColumnByField(n.columnName),u=i.getColumnHeaderByField(h.field);h.visible=!p(u)&&!u.classList.contains("e-hide")}}return}e&&e.pageSize&&e.previousPageSize&&e.pageSize!==e.previousPageSize&&t.parent.getDataModule().clearCache(),t.parent.notify($j,n),n.requestType==="virtualscroll"&&(t.parent.getDataModule().isRemote()||"result"in t.parent.dataSource)&&n.virtualInfo&&n.virtualInfo.direction==="down"&&(t.parent.contentModule.prevInfo=n.virtualInfo),t.parent.groupModule&&n.preventFocusOnGroup&&(t.parent.groupModule.preventFocusOnGroup=n.preventFocusOnGroup);var c=["filter","clearFilter","clear-filter","add"],d=["searching","sorting","grouping","ungrouping","delete"];if(i.allowSelection&&(c.indexOf(n.action)!==-1||d.indexOf(n.requestType)!==-1)&&(i.selectionModule.rmtHdrChkbxClicked=!1,i.selectionModule.isPartialSelection&&(i.selectionModule.isHdrSelectAllClicked=!1)),i.allowPaging&&i.pageSettings.pageSizes&&i.pagerModule.pagerObj.isAllPage&&n.action==="add"&&n.requestType==="save"&&i.pagerModule.pagerObj.checkAll&&i.setProperties({pageSettings:{pageSize:i.pageSettings.pageSize+1}},!0),n.requestType==="delete"&&i.allowPaging){var f=n.data.length,g=i.pageSettings.totalRecordsCount-f,m=i.getCurrentViewRecords().length;(!(m-f)&&g&&(i.pageSettings.currentPage-1)*i.pageSettings.pageSize===g||g&&g<=f)&&(i.prevPageMoving=!0,i.setProperties({pageSettings:{totalRecordsCount:g,currentPage:Math.ceil(g/i.pageSettings.pageSize)}},!0),i.pagerModule.pagerObj.totalRecordsCount=g)}n.requestType==="reorder"&&t.parent.dataSource&&"result"in t.parent.dataSource||(n.requestType==="paging"||n.requestType==="columnstate"||n.requestType==="reorder")&&t.parent.groupSettings.enableLazyLoading&&t.parent.groupSettings.columns.length&&(t.parent.enableVirtualization?t.parent.lazyLoadRender:t.parent.contentModule).getGroupCache()[t.parent.pageSettings.currentPage]?t.contentRenderer.refreshContentRows(n):t.refreshDataManager(n)})},r.prototype.resetTemplates=function(){var e=this.parent,t=e.getColumns();if(e.detailTemplate){var i=e.element.id+"detailTemplate";Qx[""+i]=[],kr(i)}e.groupSettings.captionTemplate&&kr(e.element.id+"captionTemplate"),e.rowTemplate&&kr(e.element.id+"rowTemplate"),e.toolbarTemplate&&kr(e.element.id+"toolbarTemplate"),e.pageSettings.template&&kr(e.element.id+"_template");for(var n=0;n<t.length;n++)t[parseInt(n.toString(),10)].template&&(Qx[e.element.id+t[parseInt(n.toString(),10)].uid]=[],kr(e.element.id+t[parseInt(n.toString(),10)].uid)),t[parseInt(n.toString(),10)].headerTemplate&&kr(e.element.id+t[parseInt(n.toString(),10)].uid+"headerTemplate"),t[parseInt(n.toString(),10)].filterTemplate&&kr(e.element.id+t[parseInt(n.toString(),10)].uid+"filterTemplate");for(var s="guid",o=0;o<e.aggregates.length;o++)for(var a=0;a<e.aggregates[parseInt(o.toString(),10)].columns.length;a++){if(e.aggregates[parseInt(o.toString(),10)].columns[parseInt(a.toString(),10)].footerTemplate){var l=e.element.id+e.aggregates[parseInt(o.toString(),10)].columns[parseInt(a.toString(),10)][""+s]+"footerTemplate";kr(l)}if(e.aggregates[parseInt(o.toString(),10)].columns[parseInt(a.toString(),10)].groupFooterTemplate){var l=e.element.id+e.aggregates[parseInt(o.toString(),10)].columns[parseInt(a.toString(),10)][""+s]+"groupFooterTemplate";kr(l)}if(e.aggregates[parseInt(o.toString(),10)].columns[parseInt(a.toString(),10)].groupCaptionTemplate){var l=e.element.id+e.aggregates[parseInt(o.toString(),10)].columns[parseInt(a.toString(),10)][""+s]+"groupCaptionTemplate";kr(l)}}},r.prototype.refreshComplete=function(e){this.parent.trigger(ls,e)},r.prototype.refreshDataManager=function(e){var t=this;e===void 0&&(e={});var i=this.parent,n=this.parent.getColumns();n&&n.length&&!n[0].visible?this.isFirstColumnHidden=!0:this.isFirstColumnHidden=!1;var s=i.loadingIndicator.indicatorType==="Shimmer"&&e.requestType!=="virtualscroll"&&e.requestType!=="infiniteScroll"||(e.requestType==="virtualscroll"||e.requestType==="infiniteScroll")&&i.enableVirtualMaskRow;e.requestType!=="virtualscroll"&&!e.isCaptionCollapse&&!s&&this.parent.showSpinner(),s&&i.showMaskRow(e.requestType==="virtualscroll"?e.virtualInfo.sentinelInfo.axis:e.requestType==="infiniteScroll"?e.direction:void 0),this.parent.notify(NX,e),this.emptyGrid=!1;var o,a=this.isNeedForeignAction();if(this.ariaService.setBusy(this.parent.getContent().querySelector("."+En),!0),a){var l=new mi;o=this.getFData(l,e)}o?o=o.then(function(d){var f=t.data.generateQuery().requiresCount();if(t.emptyGrid){var g=new mi;return g.resolve({result:[],count:0}),g.promise}return t.data.getData(e,f)}):(i.allowPaging&&!i.getDataModule().dataManager.dataSource.offline&&i.pageSettings&&i.pageSettings.pageSizes&&i.pagerModule&&i.pagerModule.pagerObj&&i.pagerModule.pagerObj.isAllPage&&(i.pagerModule.pagerObj.isAllPage=void 0),o=this.data.getData(e,this.data.generateQuery().requiresCount()));var h=this.parent.getForeignKeyColumns(),u=h.length;if(this.parent.columnQueryMode==="ExcludeHidden"&&u&&(u=h.filter(function(d){return d.visible!==!1}).length),u&&(!a||this.parent.searchSettings.key.length)){var c=new mi;o=o.then(function(d){return t.parent.notify(cN,{dataManager:o,result:d,promise:c,action:e}),c.promise})}this.parent.groupSettings.disablePageWiseAggregates&&this.parent.groupSettings.columns.length&&(o=o.then(function(d){return t.validateGroupRecords(d)})),o.then(function(d){return t.dataManagerSuccess(d,e)}).catch(function(d){return t.dataManagerFailure(d,e)})},r.prototype.getFData=function(e,t){return this.parent.notify(cN,{isComplex:!0,promise:e,action:t}),e.promise},r.prototype.isNeedForeignAction=function(){var e=this.parent;return!!(e.allowFiltering&&e.filterSettings.columns.length||!p(e.searchSettings.key)&&e.searchSettings.key.length)&&this.foreignKey(this.parent.getForeignKeyColumns())},r.prototype.foreignKey=function(e){var t=this;return e.some(function(i){var n=!1;return n=t.parent.filterSettings.columns.some(function(s){return i.uid===s.uid}),!!(n||t.parent.searchSettings.key.length)})},r.prototype.sendBulkRequest=function(e){var t=this;e.requestType="batchsave";var i=this.parent;if(i.allowPaging&&i.pageSettings.pageSizes&&i.pagerModule.pagerObj.isAllPage&&i.pagerModule.pagerObj.checkAll){var n=e.changes.addedRecords.length;n&&i.setProperties({pageSettings:{pageSize:i.pageSettings.pageSize+n}},!0)}i.allowPaging&&(e.changes.addedRecords.length||e.changes.deletedRecords.length||e.changes.changedRecords.length)&&i.pageSettings&&i.pageSettings.pageSizes&&i.pagerModule&&i.pagerModule.pagerObj&&!i.getDataModule().dataManager.dataSource.offline&&i.pagerModule.pagerObj.isAllPage&&(i.pagerModule.pagerObj.isAllPage=void 0);var s=this.data.saveChanges(e.changes,this.parent.getPrimaryKeyFieldNames()[0],e.original),o=this.data.generateQuery().requiresCount();if(this.data.dataManager.dataSource.offline){this.refreshDataManager({requestType:"batchsave"});return}else s.then(function(a){t.data.getData(e,o).then(function(l){return t.dmSuccess(l,e)}).catch(function(l){return t.dmFailure(l,e)})}).catch(function(a){return t.dmFailure(a,e)})},r.prototype.dmSuccess=function(e,t){this.dataManagerSuccess(e,t)},r.prototype.dmFailure=function(e,t){this.dataManagerFailure(e,t)},r.prototype.renderEmptyRow=function(){this.emptyRow(!0)},r.prototype.emptyRow=function(e){var t=this.parent,i=this.contentRenderer.getTable().querySelector($t);p(i)||ot(i),i=this.parent.createElement($t,{attrs:{role:"rowgroup"}});var n=t.allowRowDragAndDrop&&p(t.rowDropSettings.targetID)?1:0;(t.detailTemplate||t.childGrid)&&++n;var s=t.editSettings.showAddNewRow&&t.editSettings.newRowPosition==="Bottom"?"e-emptyrow e-show-added-row":"e-emptyrow",o=this.parent.createElement("tr",{className:s,attrs:{role:"row"}}),a;if(t.emptyRecordTemplate){var l=t.element.id+"emptyRecordTemplate";a=this.parent.createElement("td",{attrs:{colspan:(t.getVisibleColumns().length+n+t.groupSettings.columns.length).toString()}}),t.isVue||t.parentDetails&&t.parentDetails.parentInstObj&&t.parentDetails.parentInstObj.isVue?a.appendChild(t.getEmptyRecordTemplate()(t.dataSource,t,"emptyRecordTemplate",l,void 0,void 0,void 0,this.parent.root)[1]):a.appendChild(t.getEmptyRecordTemplate()(t.dataSource,t,"emptyRecordTemplate",l,void 0,void 0,void 0,this.parent.root)[0]),t.isReact&&this.parent.renderTemplates()}else a=this.parent.createElement("td",{innerHTML:this.l10n.getConstant("EmptyRecord"),attrs:{colspan:(t.getVisibleColumns().length+n+(p(t.groupSettings.columns)?0:t.groupSettings.columns.length)).toString()}});t.isFrozenGrid()&&(a.classList.add("e-leftfreeze"),a.style.left="0px"),(t.frozenRows||t.pinnedTopRowModels.length)&&t.element.querySelector(".e-frozenrow-border")&&this.parent.element.querySelector(".e-frozenrow-border").classList.add("e-frozenrow-empty"),o.appendChild(a),i.appendChild(o),this.contentRenderer.renderEmpty(i),e&&(this.parent.isInitialLoad||this.parent.focusModule.setFirstFocusableTabIndex(),this.parent.trigger(Ml,{}),this.parent.notify(Mo,{rows:[new Pc({isDataRow:!0,cells:[new xp({isDataCell:!0,visible:!0})]})]}),t.editSettings.showAddNewRow&&(t.addRecord(),this.parent.notify(Yu,{})))},r.prototype.dynamicColumnChange=function(){this.parent.getCurrentViewRecords().length&&this.updateColumnType(this.parent.getCurrentViewRecords()[0])},r.prototype.updateColumnType=function(e){for(var t=this.parent.enableColumnVirtualization?this.parent.columns:this.parent.getColumns(),i,n="customFormat",s="equalTo",o=e&&e.items?e.items[0]:e,a=this.locator.getService("valueFormatter"),l=0,h=t.length;l<h;l++){i=It(t[parseInt(l.toString(),10)].field||"",o),p(t[parseInt(l.toString(),10)][""+n])||(t[parseInt(l.toString(),10)].format=t[parseInt(l.toString(),10)][""+n]),!p(t[parseInt(l.toString(),10)].validationRules)&&!p(t[parseInt(l.toString(),10)].validationRules[""+s])&&(t[parseInt(l.toString(),10)].validationRules[""+s][0]=this.parent.element.id+t[parseInt(l.toString(),10)].validationRules[""+s][0]),t[parseInt(l.toString(),10)].isForeignColumn()&&t[parseInt(l.toString(),10)].columnData&&(i=It(t[parseInt(l.toString(),10)].foreignKeyValue||"",t[parseInt(l.toString(),10)].columnData[0])),p(i)?t[parseInt(l.toString(),10)].type=t[parseInt(l.toString(),10)].type||null:(this.isColTypeDef=!0,t[parseInt(l.toString(),10)].type||(t[parseInt(l.toString(),10)].type=i.getDay?i.getHours()>0||i.getMinutes()>0||i.getSeconds()>0||i.getMilliseconds()>0?"datetime":"date":typeof i));var u=new df;t[parseInt(l.toString(),10)].format&&(t[parseInt(l.toString(),10)].format.skeleton||t[parseInt(l.toString(),10)].format.format&&typeof t[parseInt(l.toString(),10)].format.format=="string")&&(t[parseInt(l.toString(),10)].setFormatter(u.getFormatFunction(ie({},t[parseInt(l.toString(),10)].format))),t[parseInt(l.toString(),10)].setParser(u.getParserFunction(t[parseInt(l.toString(),10)].format))),typeof t[parseInt(l.toString(),10)].format=="string"?zC(this.locator,t[parseInt(l.toString(),10)]):!t[parseInt(l.toString(),10)].format&&t[parseInt(l.toString(),10)].type==="number"&&t[parseInt(l.toString(),10)].setParser(a.getParserFunction({format:"n2"})),t[parseInt(l.toString(),10)].type==="dateonly"&&!t[parseInt(l.toString(),10)].format&&(t[parseInt(l.toString(),10)].format="yMd",zC(this.locator,t[parseInt(l.toString(),10)]))}},r.prototype.dataManagerSuccess=function(e,t){var i=this,n=this.parent;this.contentRenderer=this.renderer.getRenderer(jr.Content),this.headerRenderer=this.renderer.getRenderer(jr.Header),e.actionArgs=t;var s=!!(n.childGrid||n.detailTemplate),o=this.parent.enableInfiniteScrolling&&!this.parent.infiniteScrollSettings.enableCache&&!n.groupSettings.enableLazyLoading&&(t.requestType==="delete"&&!s||t.requestType==="save"&&this.parent.infiniteScrollModule.requestType==="add"&&!(n.sortSettings.columns.length||n.filterSettings.columns.length||this.parent.groupSettings.columns.length||n.searchSettings.key||s));n.trigger(_Z,e,function(a){if(!a.cancel){a.result=p(a.result)?[]:a.result;var l=Object.keys(a.result).length;if(!i.parent.isDestroyed){if(!n.getColumns().length&&!l&&!(n.columns.length&&n.columns[0]instanceof Gi)){n.hideSpinner();return}if(n.isRowSelectable){var h={e:a,isResetPartialRecords:!1};if(n.notify(uee,h),!n.isInitialLoad||i.parent.isRemote()||t.action==="add"&&t.requestType==="save"||t.requestType==="batchsave"||h.isResetPartialRecords){var u="isTreeGrid",c=n.getDataModule().isRemote()||!p(n.dataSource)&&n.dataSource.result?a.result:n.getDataModule().dataManager.executeLocal(n.getDataModule().generateQuery(!0));n[""+u]&&!i.parent.isRemote()?i.resetPartialRecords():i.setPartialRecord(c)}}var d=["virtualscroll","infiniteScroll","grouping","paging","sorting","filtering"];if(n.isRowPinned&&(!n.isInitialLoad||n.getDataModule().isRemote()&&t.requestType&&d.indexOf(t.requestType)!==-1)){for(var c=n.getDataModule().isRemote()||!p(n.dataSource)&&n.dataSource.result?a.result:n.dataSource,f=i.parent.getPrimaryKeyFieldNames()[0],g=0;g<c.length;g++){var m=c[parseInt(g.toString(),10)];!n.pinnedTopRowKeys[m[""+f]]&&n.isRowPinned(m)&&(n.pinnedTopRecords.push(m),n.pinnedTopRowKeys[c[parseInt(g.toString(),10)][""+f]]=!0)}n.getDataModule().pinnedData=new fe(n.pinnedTopRecords)}if(i.parent.isReact&&!p(t)&&!(t.requestType==="infiniteScroll"&&!i.parent.infiniteScrollSettings.enableCache)&&!t.isFrozen){var y=["columnTemplate","rowTemplate","detailTemplate","captionTemplate","commandsTemplate","groupFooterTemplate","groupCaptionTemplate"];t.requestType==="infiniteScroll"&&i.parent.infiniteScrollSettings.enableCache&&(y=["columnTemplate","commandsTemplate"]),Ap(i.parent,y,function(){i.extendDataManagerSuccess(e,t,l,a,o)})}else i.extendDataManagerSuccess(e,t,l,a,o)}}})},r.prototype.resetPartialRecords=function(){if(this.parent.isRowSelectable)if(this.parent.isRemote())this.selectableDataKey={},this.nonselectableDataKey={},this.parent.partialSelectedIndexes=[],this.parent.partialSelectedRecords=[],this.parent.disableSelectedRecords=[];else{var e=vP(this.parent);this.setPartialRecord(e)}},r.prototype.setPartialRecord=function(e){var t=this.parent.getPrimaryKeyFieldNames()[0],i=this.parent.allowGrouping&&!p(e.records)?e.records:e;if(this.parent.isRemote())for(var n=0;n<i.length;n++){var s=(this.parent.pageSettings.currentPage-1)*this.parent.pageSettings.pageSize,o=this.parent.allowPaging?parseInt(n.toString(),10):s+parseInt(n.toString(),10),a=i[parseInt(n.toString(),10)][""+t];this.parent.isRowSelectable(i[parseInt(n.toString(),10)],this.parent.columns)?this.selectableDataKey.hasOwnProperty(a)||(this.parent.partialSelectedRecords.push(i[parseInt(n.toString(),10)]),this.parent.partialSelectedIndexes.push(o),this.selectableDataKey[i[parseInt(n.toString(),10)][""+t]]=!0):(this.parent.selectionModule.isPartialSelection=!0,this.nonselectableDataKey.hasOwnProperty(a)||(this.parent.disableSelectedRecords.push(i[parseInt(n.toString(),10)]),this.nonselectableDataKey[i[parseInt(n.toString(),10)][""+t]]=!1))}else{var l=[],h=[],u=[];this.selectableDataKey={},this.nonselectableDataKey={};for(var n=0;n<i.length;n++)this.parent.isRowSelectable(i[parseInt(n.toString(),10)],this.parent.columns)?(l.push(i[parseInt(n.toString(),10)]),u.push(parseInt(n.toString(),10)),this.selectableDataKey[i[parseInt(n.toString(),10)][""+t]]=!0):(this.parent.selectionModule.isPartialSelection=!0,h.push(i[parseInt(n.toString(),10)]),this.nonselectableDataKey[i[parseInt(n.toString(),10)][""+t]]=!1);this.parent.partialSelectedRecords=l,this.parent.disableSelectedRecords=h,this.parent.partialSelectedIndexes=u}},r.prototype.extendDataManagerSuccess=function(e,t,i,n,s){var o=this.parent;if(this.isInfiniteEnd(t)&&!i){this.parent.notify(vN,{e:t,result:e.result,count:e.count,agg:e.aggregates});return}if(this.parent.isEdit=!1,this.parent.notify(TX,{}),this.parent.notify(SC,{}),t&&!((t.requestType==="infiniteScroll"||t.requestType==="delete"||t.action==="add")&&o.enableInfiniteScrolling)&&this.parent.notify(see,{type:"refreshCommandColumn"}),this.contentRenderer.prevCurrentView=!p(this.parent.currentViewData)&&this.parent.currentViewData.slice(),o.currentViewData=n.result,o.notify(_X,{args:t,data:n.result}),n.count&&!o.allowPaging&&(o.enableVirtualization||o.enableInfiniteScrolling)&&(o.totalDataRecordsCount=n.count),!i&&n.count&&o.allowPaging&&t&&t.requestType!=="delete"){this.parent.groupSettings.enableLazyLoading&&(t.requestType==="grouping"||t.requestType==="ungrouping")&&this.parent.notify(ZZ,t),o.prevPageMoving=!0,o.pageSettings.totalRecordsCount=n.count,t.requestType!=="paging"&&(o.pageSettings.currentPage=Math.ceil(n.count/o.pageSettings.pageSize)),o.dataBind();return}if((!o.getColumns().length&&i||!this.isLayoutRendered)&&!uo(o)&&(o.removeMaskRow(),this.updatesOnInitialRender(n)),!this.isColTypeDef&&o.getCurrentViewRecords()&&(this.data.dataManager.dataSource.offline&&o.dataSource&&o.dataSource.length?this.updateColumnType(o.dataSource[0]):this.updateColumnType(o.getCurrentViewRecords()[0])),!this.parent.isInitialLoad&&this.parent.groupSettings.disablePageWiseAggregates&&!this.parent.groupSettings.columns.length&&(n.result=this.parent.dataSource instanceof Array?this.parent.dataSource:this.parent.currentViewData),(this.parent.isReact||this.parent.isVue)&&!p(t)&&t.requestType!=="infiniteScroll"&&!t.isFrozen&&Ap(this.parent,["footerTemplate"]),this.parent.isAngular&&this.parent.allowGrouping&&this.parent.groupSettings.captionTemplate&&!(!p(t)&&t.requestType==="infiniteScroll")&&this.parent.destroyTemplate(["groupSettings_captionTemplate"]),this.parent.notify(Tp,ie({count:n.count,result:n.result,aggregates:n.aggregates,loadSummaryOnEmpty:!1},t)),(o.groupSettings.columns.length||t&&t.requestType==="ungrouping")&&t&&t.requestType!=="filtering"&&this.headerRenderer.refreshUI(),i){if(uo(o)){var a="content";t.scrollTop={top:this.contentRenderer[""+a].scrollTop}}s?this.parent.notify(vN,{e:t,result:e.result,count:e.count,agg:e.aggregates}):this.parent.enableImmutableMode?this.contentRenderer.immutableModeRendering(t):this.contentRenderer.refreshContentRows(t)}else{if(t&&t.isCaptionCollapse)return;if(!o.getColumns().length){o.element.innerHTML="",alert(this.l10n.getConstant("EmptyDataSourceError"));return}if(this.contentRenderer.setRowElements([]),this.contentRenderer.setRowObjects([]),this.ariaService.setBusy(this.parent.getContent().querySelector("."+En),!1),o.removeMaskRow(),this.renderEmptyRow(),o.enableColumnVirtualization&&!i&&this.parent.notify($i,{rows:o.getRowsObject(),args:{}}),t){var l=(t.requestType||"").toLowerCase()+"-complete";this.parent.notify(l,t),t.requestType==="batchsave"&&(t.cancel=!1,t.rows=[],t.isFrozen=!t.isFrozen,this.parent.trigger(ls,t))}this.parent.autoFit&&this.parent.preventAdjustColumns(),this.parent.hideSpinner()}this.parent.notify(oX,{}),this.setRowCount(this.parent.getCurrentViewRecords().length),"query"in e&&(this.parent.getDataModule().isQueryInvokedFromData=!1)},r.prototype.dataManagerFailure=function(e,t){p(this.parent.contentModule)||(this.ariaService.setOptions(this.parent.getContent().querySelector("."+En),{busy:!1,invalid:!0}),this.setRowCount(1)),this.parent.trigger(zZ,e&&e.error?e:{error:e}),this.parent.hideSpinner(),this.parent.removeMaskRow(),!(t.requestType==="save"||t.requestType==="delete"||t.name==="bulk-save")&&(this.parent.currentViewData=[],this.renderEmptyRow(),this.parent.isInitialLoad||this.parent.focusModule.setFirstFocusableTabIndex(),this.parent.log("actionfailure",{error:e}))},r.prototype.setRowCount=function(e){this.ariaService.setOptions(this.parent.element,{rowcount:e?e.toString():"1"})},r.prototype.isInfiniteEnd=function(e){return this.parent.enableInfiniteScrolling&&!this.parent.infiniteScrollSettings.enableCache&&e.requestType==="delete"},r.prototype.updatesOnInitialRender=function(e){this.isLayoutRendered=!0;var t=!1;this.parent.columns.length<1&&(this.buildColumns(e.result[0]),t=!0),my(this.parent.columns,null,this.parent),t&&this.parent.notify(xC,{}),this.headerRenderer.renderTable(),this.contentRenderer.renderTable(),this.parent.isAutoGen=!0,this.parent.notify(wp,{})},r.prototype.iterateComplexColumns=function(e,t,i){for(var n=Object.keys(e),s=0;s<n.length;s++){var o=typeof e[n[parseInt(s.toString(),10)]]=="object"&&e[n[parseInt(s.toString(),10)]]&&!(e[n[parseInt(s.toString(),10)]]instanceof Date)?Object.keys(e[n[parseInt(s.toString(),10)]]):[];o.length?this.iterateComplexColumns(e[n[parseInt(s.toString(),10)]],t+(n[parseInt(s.toString(),10)]+"."),i):(i[this.counter]=t+n[parseInt(s.toString(),10)],this.counter++)}},r.prototype.buildColumns=function(e){var t=[],i={};this.iterateComplexColumns(e,"",i);for(var n=Object.keys(i).filter(function(a){return i[""+a]!=="BlazId"}).map(function(a){return i[""+a]}),s=0,o=n.length;s<o;s++)t[parseInt(s.toString(),10)]={field:n[parseInt(s.toString(),10)]},this.parent.enableColumnVirtualization&&(t[parseInt(s.toString(),10)].width=p(t[parseInt(s.toString(),10)].width)?200:t[parseInt(s.toString(),10)].width);this.parent.setProperties({columns:t},!0)},r.prototype.instantiateRenderer=function(){this.renderer.addRenderer(jr.Header,new Mee(this.parent,this.locator)),this.renderer.addRenderer(jr.Content,new vee(this.parent,this.locator));var e=this.locator.getService("cellRendererFactory");e.addCellRenderer(We.Header,new eP(this.parent,this.locator)),e.addCellRenderer(We.Data,new Ir(this.parent,this.locator)),e.addCellRenderer(We.StackedHeader,new DN(this.parent,this.locator)),e.addCellRenderer(We.Indent,new EC(this.parent,this.locator)),e.addCellRenderer(We.GroupCaption,new Iee(this.parent,this.locator)),e.addCellRenderer(We.GroupCaptionEmpty,new Dee(this.parent,this.locator)),e.addCellRenderer(We.Expand,new wee(this.parent,this.locator)),e.addCellRenderer(We.HeaderIndent,new Nee(this.parent,this.locator)),e.addCellRenderer(We.StackedHeader,new DN(this.parent,this.locator)),e.addCellRenderer(We.DetailHeader,new Eee(this.parent,this.locator)),e.addCellRenderer(We.RowDragHIcon,new jee(this.parent,this.locator)),e.addCellRenderer(We.DetailExpand,new Lee(this.parent,this.locator)),e.addCellRenderer(We.DetailFooterIntent,new EC(this.parent,this.locator)),e.addCellRenderer(We.RowDragIcon,new Oee(this.parent,this.locator))},r.prototype.addEventListener=function(){var e=this;this.parent.isDestroyed||(this.parent.on(cy,this.instantiateRenderer,this),this.parent.on("refreshdataSource",this.dataManagerSuccess,this),this.parent.on(Qu,this.refresh,this),this.parent.on(rX,this.refreshComplete,this),this.parent.on(aX,this.sendBulkRequest,this),this.parent.on(Vj,function(){e.emptyGrid=!0},this),this.parent.on(wp,this.dynamicColumnChange,this))},r.prototype.validateGroupRecords=function(e){var t=this,i=e.result.length-1;if(i<0)return Promise.resolve(e);var n=e.result[0],s=e.result[parseInt(i.toString(),10)],o=[],a=function(y){for(var v=[n,s],M=0;M<v.length;M++)o.push(new Tt("field","==",v[parseInt(M.toString(),10)].field).and(t.getPredicate("key","equal",v[parseInt(M.toString(),10)].key)));y.where(Tt.or(o))},l=new He;a(l);var h=new fe(e.result),u=h.executeLocal(l),c=this.data.generateQuery(!0),d=[];if(this.data.isRemote()){for(var f=[n,s],g=0;g<f.length;g++)d.push(this.getPredicate(f[parseInt(g.toString(),10)].field,"equal",f[parseInt(g.toString(),10)].key));c.where(Tt.or(d))}else a(c);var m=new mi;return this.data.getData({},c).then(function(y){t.updateGroupInfo(u,y.result),m.resolve(e)}).catch(function(y){return m.reject(y)}),m.promise},r.prototype.getPredicate=function(e,t,i){return i instanceof Date?zu({field:e,operator:t,value:i}):new Tt(e,t,i)},r.prototype.updateGroupInfo=function(e,t){for(var i=new fe(t),n=e,s=0;s<n.length;s++){var o=i.executeLocal(new He().where(new Tt("field","==",n[parseInt(s.toString(),10)].field).and(this.getPredicate("key","equal",n[parseInt(s.toString(),10)].key))))[0];if(!p(o)){n[parseInt(s.toString(),10)].count=o.count;var a=n[parseInt(s.toString(),10)].items,l=o.items;a.GroupGuid&&(n[parseInt(s.toString(),10)].items=this.updateGroupInfo(n[parseInt(s.toString(),10)].items,o.items));for(var h=this.parent.aggregates,u=0;u<h.length;u++)for(var c=h[parseInt(u.toString(),10)],d=0;d<c.columns.length;d++)for(var f=c.columns[parseInt(d.toString(),10)],g=f.type instanceof Array?f.type:[f.type],m=0;m<g.length;m++){var y=f.field+" - "+g[parseInt(m.toString(),10)].toLowerCase(),v=a.level?l.records:o.items,M=this.parent;if(g[parseInt(m.toString(),10)]==="Custom"){var S=a.level?l:o,b=f.customAggregate;typeof b=="string"&&(b=H(b,window)),n[parseInt(s.toString(),10)].aggregates[""+y]=b?b.call(M,S,c.columns[parseInt(d.toString(),10)]):""}else n[parseInt(s.toString(),10)].aggregates[""+y]=re.aggregates[g[parseInt(m.toString(),10)].toLowerCase()](v,c.columns[parseInt(d.toString(),10)].field)}}}return e},r}(),Fee=function(){function r(){this.cellRenderMap={}}return r.prototype.addCellRenderer=function(e,t){e=typeof e=="string"?e:no(We,e),p(this.cellRenderMap[""+e])&&(this.cellRenderMap[""+e]=t)},r.prototype.getCellRenderer=function(e){if(e=typeof e=="string"?e:no(We,e),p(this.cellRenderMap[""+e]))throw"The cellRenderer "+e+" is not found";return this.cellRenderMap[""+e]},r}(),Bee=function(){function r(e,t){this.sortedCols=[],this.sortPredicate=[],this.isCustomDialog=!1,this.parent=e,this.serviceLocator=t,this.addEventListener()}return r.prototype.addEventListener=function(){this.evtHandlers=[{event:qj,handler:this.closeCustomDialog},{event:wC,handler:this.refreshCustomFilterOkBtn},{event:WX,handler:this.renderResponsiveContextMenu},{event:qX,handler:this.renderCustomFilterDiv},{event:GX,handler:this.customExFilterClose},{event:YX,handler:this.refreshCustomFilterClearBtn}],Nl(this.parent,this.evtHandlers,!0,this),this.onActionCompleteFn=this.editComplate.bind(this),this.parent.addEventListener(ls,this.onActionCompleteFn)},r.prototype.customExFilterClose=function(){this.isCustomDlgRender=!1},r.prototype.renderCustomFilterDiv=function(){if(!p(this.customResponsiveDlg)){var e=this.customResponsiveDlg.element.querySelector(".e-dlg-header-content"),t=e.querySelector(".e-dlg-custom-header"),i=e.querySelector(".e-dlg-closeicon-btn");this.isCustomDlgRender=!0,this.parent.filterModule.filterModule.closeDialog(),this.saveBtn.element.style.display="",this.refreshCustomFilterOkBtn({disabled:!1}),this.backBtn.element.style.display="none",i.style.display="",t.innerHTML=this.parent.localeObj.getConstant("CustomFilter");var n=this.customResponsiveDlg.element.querySelector(".e-dlg-content");this.customExcelFilterParent=this.parent.createElement("div",{className:"e-xl-customfilterdiv e-default-filter"}),n.appendChild(this.customExcelFilterParent)}},r.prototype.renderResponsiveContextMenu=function(e){if(this.action===ft.isFilter&&!p(this.customResponsiveDlg)){var t=this.customResponsiveDlg.element.querySelector(".e-dlg-content"),i=this.customResponsiveDlg.element.querySelector(".e-dlg-header-content"),n=i.querySelector(".e-dlg-closeicon-btn"),s=i.querySelector(".e-dlg-custom-header");if(e.isOpen){t.firstChild.style.display="none",t.appendChild(e.target),n.style.display="none",this.saveBtn.element.style.display="none",this.filterClearBtn.element.style.display="none",s.innerHTML=e.header;var o=this.parent.createElement("button"),a=this.parent.createElement("span",{className:"e-btn-icon e-resfilterback e-icons"});o.appendChild(a),this.backBtn=new uh({cssClass:this.parent.cssClass?"e-res-back-btn "+this.parent.cssClass:"e-res-back-btn"}),this.backBtn.appendTo(o),s.parentElement.insertBefore(o,s)}else this.backBtn&&!this.isCustomDlgRender&&(t.firstChild.style.display="",ot(this.backBtn.element),n.style.display="",this.saveBtn.element.style.display="",this.isFiltered&&(this.filterClearBtn.element.style.display=""),s.innerHTML=this.getHeaderTitle({action:ft.isFilter},e.col))}},r.prototype.refreshCustomFilterClearBtn=function(e){this.filterClearBtn&&(this.isFiltered=e.isFiltered,this.filterClearBtn.element.style.display=e.isFiltered?"":"none")},r.prototype.refreshCustomFilterOkBtn=function(e){this.saveBtn&&(this.saveBtn.disabled=e.disabled),this.parent.columnChooserModule&&this.parent.columnChooserModule.responsiveDialogRenderer.saveBtn&&(this.parent.columnChooserModule.responsiveDialogRenderer.saveBtn.disabled=e.disabled)},r.prototype.columnMenuResponsiveContent=function(e,t,i){var n=this.parent.createElement("div",{className:"e-responsivecoldiv e-responsive"+e.toLowerCase()+"div"+(i?" e-disabled":"")}),s=this.parent.createElement("span",{className:"e-icons e-res"+e.toLowerCase()+"-icon e-btn-icon"}),o=this.parent.createElement("span",{innerHTML:t,className:"e-rescolumn-menu e-res-header-text"});n.appendChild(s),n.appendChild(o),this.customColumnDiv.appendChild(n)},r.prototype.renderResponsiveContent=function(e,t){var i=this,n=this.parent,s=this.action===ft.isColumnChooser;if(e||s)return this.filterParent=this.parent.createElement("div",{className:(s?"e-maincolumnchooserdiv ":"")+"e-mainfilterdiv e-default-filter",id:(s?"columchooser":e.uid)+"-main-filter"}),this.filterParent;if(this.customColumnDiv=n.createElement("div",{className:"columndiv columnmenudiv"}),this.customColumnDiv.style.width="100%",this.parent.showColumnMenu&&this.parent.rowRenderingMode==="Horizontal"&&this.action===ft.isColMenu){if(this.columnMenuResponsiveContent("AutoFitAll",n.localeObj.getConstant("AutoFitAll")),this.columnMenuResponsiveContent("AutoFit",n.localeObj.getConstant("AutoFit")),t.allowGrouping&&n.allowGrouping&&(this.columnMenuResponsiveContent("Group",n.localeObj.getConstant("Group"),n.groupSettings.columns.indexOf(t.field)>=0),this.columnMenuResponsiveContent("UnGroup",n.localeObj.getConstant("Ungroup"),n.groupSettings.columns.indexOf(t.field)<0)),t.allowSorting&&n.allowSorting){for(var o="None",a=this.parent.sortSettings.columns,l=0;l<a.length;l++)if(a[parseInt(l.toString(),10)].field===t.field){o=a[parseInt(l.toString(),10)].direction;break}this.columnMenuResponsiveContent("ascending",n.localeObj.getConstant("SortAscending"),o==="Ascending"),this.columnMenuResponsiveContent("descending",n.localeObj.getConstant("SortDescending"),o==="Descending")}n.showColumnChooser&&this.columnMenuResponsiveContent("Column",n.localeObj.getConstant("Columnchooser")),t.allowFiltering&&n.allowFiltering&&this.columnMenuResponsiveContent("Filter",n.localeObj.getConstant("FilterMenu"))}else{var h=n.getColumns(),u=n.createElement("div",{className:"e-ressortbutton-parent"}),c=[],d=this.action===ft.isSort,f=this.action===ft.isFilter;if(f)for(var l=0;l<n.filterSettings.columns.length;l++)c.push(n.filterSettings.columns[parseInt(l.toString(),10)].field);for(var l=0;l<h.length;l++)if(!(!h[parseInt(l.toString(),10)].visible||!h[parseInt(l.toString(),10)].allowSorting&&d||!h[parseInt(l.toString(),10)].allowFiltering&&f)){var g=n.createElement("div",{className:"e-responsivecoldiv"});g.setAttribute("data-mappingname",h[parseInt(l.toString(),10)].field),g.setAttribute("data-mappinguid",h[parseInt(l.toString(),10)].uid);var m=n.createElement("span",{innerHTML:h[parseInt(l.toString(),10)].headerText,className:"e-res-header-text"});if(g.appendChild(m),this.customColumnDiv.appendChild(g),d){var y=this.getSortedFieldsAndDirections("field"),v=y.indexOf(h[parseInt(l.toString(),10)].field),M=n.createElement("button",{id:n.element.id+h[parseInt(l.toString(),10)].field+"sortbutton"}),S=u.cloneNode();S.appendChild(M),g.appendChild(S);var b=new uh({cssClass:this.parent.cssClass?"e-ressortbutton "+this.parent.cssClass:"e-ressortbutton"});b.appendTo(M);var C=void 0;p(this.parent.sortSettings.columns[parseInt(v.toString(),10)])||(C=this.parent.sortSettings.columns[parseInt(v.toString(),10)].direction==="Ascending"?this.parent.localeObj.getConstant("AscendingText"):this.parent.localeObj.getConstant("DescendingText")),M.innerHTML=v>-1?C:this.parent.localeObj.getConstant("NoneText"),M.onclick=function(A){i.sortButtonClickHandler(A.target)}}if(f&&c.indexOf(h[parseInt(l.toString(),10)].field)>-1){var T=n.createElement("div",{className:"e-icons e-res-icon e-filtersetdiv"}),k=n.createElement("span",{className:"e-icons e-res-icon e-filterset"});k.setAttribute("data-coltype",h[parseInt(l.toString(),10)].type),T.appendChild(k),g.appendChild(T)}}}return F.add(this.customColumnDiv,ne.isDevice?"touchend":"click",this.customFilterColumnClickHandler,this),this.customColumnDiv},r.prototype.getSortedFieldsAndDirections=function(e){for(var t=[],i=0;i<this.parent.sortSettings.columns.length;i++)t.push(this.parent.sortSettings.columns[parseInt(i.toString(),10)][""+e]);return t},r.prototype.sortButtonClickHandler=function(e){if(e){var t=he(e,"e-responsivecoldiv"),i=t.getAttribute("data-mappingname");this.parent.allowMultiSorting||(this.sortPredicate=[],this.sortedCols=[],this.isSortApplied=!1,this.resetSortButtons(e));var n=e.textContent,s=n===this.parent.localeObj.getConstant("NoneText")?this.parent.localeObj.getConstant("AscendingText"):n===this.parent.localeObj.getConstant("AscendingText")?this.parent.localeObj.getConstant("DescendingText"):this.parent.localeObj.getConstant("NoneText"),o=s===this.parent.localeObj.getConstant("AscendingText")?"Ascending":s===this.parent.localeObj.getConstant("DescendingText")?"Descending":"None";e.innerHTML=s,this.setSortedCols(i,o)}},r.prototype.resetSortButtons=function(e){for(var t=[].slice.call(this.customColumnDiv.getElementsByClassName("e-ressortbutton")),i=0;i<t.length;i++)t[parseInt(i.toString(),10)]!==e&&(t[parseInt(i.toString(),10)].innerHTML=this.parent.localeObj.getConstant("NoneText"))},r.prototype.setSortedCols=function(e,t){var i=this.getCurrentSortedFields(),n=i.indexOf(e);this.parent.allowMultiSorting&&n>-1&&(this.sortedCols.splice(n,1),this.sortPredicate.splice(n,1)),this.isSortApplied=!0,t!=="None"&&(this.sortedCols.push(e),this.sortPredicate.push({field:e,direction:t}))},r.prototype.getCurrentSortedFields=function(){for(var e=[],t=0;t<this.sortedCols.length;t++)e.push(this.sortedCols[parseInt(t.toString(),10)]);return e},r.prototype.customFilterColumnClickHandler=function(e){var t=this.parent,i=e.target;if(he(i,"columnmenudiv")&&this.action===ft.isColMenu&&!he(i,"e-disabled")){var n=this.menuCol?this.menuCol:this.filteredCol;he(i,"e-responsiveautofitalldiv")?(t.autoFitColumns([]),this.closeCustomFilter()):he(i,"e-responsiveautofitdiv")?(t.autoFitColumns(n.field),this.closeCustomFilter()):he(i,"e-responsivegroupdiv")?(t.groupColumn(n.field),this.closeCustomFilter()):he(i,"e-responsiveungroupdiv")?(t.ungroupColumn(n.field),this.closeCustomFilter()):he(i,"e-responsiveascendingdiv")?(t.sortColumn(n.field,"Ascending"),this.closeCustomFilter()):he(i,"e-responsivedescendingdiv")?(t.sortColumn(n.field,"Descending"),this.closeCustomFilter()):he(i,"e-responsivecolumndiv")?(t.notify(Xf,{action:5}),t.showResponsiveCustomColumnChooser()):he(i,"e-responsivefilterdiv")&&(t.notify(Xf,{action:3}),this.isRowResponsive=!0,this.isCustomDialog=!1,t.filterModule&&t.filterModule.responsiveDialogRenderer.showResponsiveDialog(n)),e.preventDefault()}if(this.action===ft.isFilter&&t.filterSettings.type!=="FilterBar"){if(i.classList.contains("e-responsivecoldiv")||i.parentElement.classList.contains("e-responsivecoldiv")){var s=i.getAttribute("data-mappingname");if(s||(s=i.parentElement.getAttribute("data-mappingname")),s){var o=t.getColumnByField(s);this.isRowResponsive=!0,this.showResponsiveDialog(o)}}else if(i.classList.contains("e-filterset")||i.parentElement.classList.contains("e-filtersetdiv")){var a=he(i,"e-responsivecoldiv");if(a){var s=a.getAttribute("data-mappingname"),o=t.getColumnByField(s);(o.filter.type==="Menu"||!o.filter.type&&t.filterSettings.type==="Menu")&&(this.isDialogClose=!0),this.parent.filterModule.filterModule.clearCustomFilter(o),this.removeCustomDlgFilterEle(i)}}}},r.prototype.showResponsiveDialog=function(e,t){if(this.isCustomDialog&&this.action===ft.isFilter&&!this.isRowResponsive||t&&this.action===ft.isColMenu)this.menuCol=t,this.renderCustomFilterDialog(null,t);else{if(this.filteredCol=e,this.renderResponsiveDialog(e),this.parent.enableAdaptiveUI&&e&&(this.parent.filterModule.setFilterModel(e),this.parent.filterModule.filterModule.openDialog(this.parent.filterModule.createOptions(e,void 0))),this.action===ft.isColumnChooser&&this.parent.notify(s0,{action:"open"}),this.action===ft.isSort){var i={cancel:!1,dialogObj:this.customResponsiveDlg,requestType:"beforeOpenAptiveSortDialog"};if(this.parent.trigger(rN,i),i.cancel)return}if(this.customResponsiveDlg.show(!0),this.customResponsiveDlg.element.style.maxHeight="100%",this.setTopToChildDialog(this.customResponsiveDlg.element),this.parent.enableAdaptiveUI&&this.parent.filterSettings&&(this.parent.filterSettings.type==="CheckBox"||this.parent.filterSettings.type==="Excel")&&this.parent.filterSettings.enableInfiniteScrolling&&this.parent.filterSettings.loadingIndicator==="Shimmer"){var n=this.parent.filterSettings.type==="CheckBox"?this.parent.filterModule.filterModule.checkBoxBase:this.parent.filterModule.filterModule.excelFilterBase;n.showMask()}}},r.prototype.setTopToChildDialog=function(e){var t=e.querySelector(".e-dialog");if(t){var i=e.querySelector(".e-dlg-header-content").getBoundingClientRect().height;t.style.top=i+"px"}},r.prototype.renderCustomFilterDialog=function(e,t){var i=this.parent,n=this.action===ft.isColMenu;if(!(this.action===ft.isFilter&&i.filterSettings.type==="FilterBar")){var s=n?"e-customcolumnmenudiv ":"",o=this.parent.createElement("div",{id:i.element.id+(n?"customcolumnmenu":"customfilter"),className:this.parent.cssClass?s+"e-customfilterdiv e-responsive-dialog "+this.parent.cssClass:s+"e-customfilterdiv e-responsive-dialog"});this.parent.element.appendChild(o),this.customFilterDlg=this.getDialogOptions(e,!0,null,t);var a={cancel:!1,dialogObj:this.customFilterDlg,requestType:"beforeOpenAptiveFilterDialog"};this.parent.trigger(rN,a),!a.cancel&&(this.customFilterDlg.appendTo(o),this.customFilterDlg.show(!0),this.customFilterDlg.element.style.maxHeight="100%")}},r.prototype.getDialogOptions=function(e,t,i,n){var s=new XI({isModal:!0,showCloseIcon:!(i==="columnchooser"&&this.parent.columnChooserSettings.headerTemplate&&!this.parent.enableColumnVirtualization),closeOnEscape:!1,locale:this.parent.locale,target:this.parent.adaptiveDlgTarget?this.parent.adaptiveDlgTarget:document.body,visible:!1,enableRtl:this.parent.enableRtl,content:this.renderResponsiveContent(e,n),open:this.dialogOpen.bind(this),created:this.dialogCreated.bind(this),close:this.beforeDialogClose.bind(this),width:"100%",height:"100%",animationSettings:{effect:"None"},cssClass:this.parent.cssClass?this.parent.cssClass:""}),o="isStringTemplate";if(s[""+o]=!0,t){s.header=this.renderResponsiveHeader(e,void 0,!0);var a=this.action===ft.isColMenu?"e-customcolumnmenu ":"";s.cssClass=a+"e-customfilter"}else s.header=this.renderResponsiveHeader(e),s.cssClass=this.parent.rowRenderingMode==="Vertical"&&this.action===ft.isFilter?"e-res"+i+" e-row-responsive-filter":"e-res"+i;return s},r.prototype.renderResponsiveDialog=function(e){var t=this.parent;if(!(this.action===ft.isFilter&&t.filterSettings.type==="FilterBar")){var i=this.action===ft.isFilter?"filter":"sort";i=this.action===ft.isColumnChooser?"columnchooser":i;var n=this.parent.createElement("div",{id:t.element.id+"responsive"+i,className:this.parent.cssClass?"e-res"+i+"div e-responsive-dialog "+this.parent.cssClass:"e-res"+i+"div e-responsive-dialog"});this.parent.element.appendChild(n),this.customResponsiveDlg=this.getDialogOptions(e,!1,i),this.customResponsiveDlg.appendTo(n)}},r.prototype.dialogCreated=function(){Hte(this.parent)},r.prototype.dialogOpen=function(){if(this.action===ft.isSort&&this.parent.allowMultiSorting)for(var e=0;e<this.parent.sortSettings.columns.length;e++){this.sortedCols.push(this.parent.sortSettings.columns[parseInt(e.toString(),10)].field);var t=this.parent.sortSettings.columns[parseInt(e.toString(),10)].field,i=this.parent.sortSettings.columns[parseInt(e.toString(),10)].direction;this.sortPredicate.push({field:t,direction:i})}},r.prototype.beforeDialogClose=function(e){if(this.isDialogClose=e.element&&!e.element.querySelector(".e-xl-customfilterdiv")&&e.element.classList.contains("e-resfilterdiv"),this.action===ft.isFilter){if(e.element.classList.contains("e-resfilterdiv")?this.parent.filterModule.filterModule.closeResponsiveDialog(this.isCustomDlgRender):e.element.classList.contains("e-customfilterdiv")&&this.closeCustomFilter(),this.parent.rowRenderingMode==="Horizontal"&&this.parent.showColumnMenu){this.parent.notify(Xf,{action:4});var t=document.querySelector(".e-resfilter");t&&ot(t)}}else if(this.action===ft.isSort)this.closeCustomDialog();else if(this.action===ft.isColMenu){this.closeCustomFilter();var t=document.querySelector(".e-rescolummenu");t&&ot(t)}else if(this.action===ft.isColumnChooser){this.parent.notify(s0,{action:"clear"});var t=document.querySelector(".e-rescolumnchooser");t&&ot(t),this.parent.rowRenderingMode==="Horizontal"&&this.parent.showColumnMenu&&this.parent.notify(Xf,{action:4}),this.isCustomDialog=!1,this.isDialogClose=!1}this.parent.off(jg,this.keyHandler)},r.prototype.sortColumn=function(){if(!this.isSortApplied){this.closeCustomDialog();return}this.sortPredicate.length&&this.parent.setProperties({sortSettings:{columns:[]}},!0);for(var e=0;e<this.sortPredicate.length;e++)this.parent.sortColumn(this.sortPredicate[parseInt(e.toString(),10)].field,this.sortPredicate[parseInt(e.toString(),10)].direction,this.parent.allowMultiSorting);this.sortPredicate.length||this.parent.clearSorting(),this.closeCustomDialog()},r.prototype.getHeaderTitle=function(e,t){var i=this.parent,n;return this.action===ft.isEdit?n=i.localeObj.getConstant("EditFormTitle")+e.primaryKeyValue[0]:this.action===ft.isAdd?n=i.localeObj.getConstant("AddFormTitle"):this.action===ft.isFilter?n=t?t.headerText||t.field:i.localeObj.getConstant("FilterTitle"):this.action===ft.isSort?n=i.localeObj.getConstant("Sort"):this.action===ft.isColMenu?n=i.localeObj.getConstant("ColumnMenu"):this.action===ft.isColumnChooser&&(n=i.localeObj.getConstant("ChooseColumns")),n},r.prototype.getDialogName=function(e){var t;return e===ft.isAdd||e===ft.isEdit?t="dialogEdit_wrapper_title":e===ft.isFilter?t="responsive_filter_dialog_wrapper":e===ft.isColumnChooser&&(t="responsive_column_chooser_dialog_wrapper"),t},r.prototype.getButtonText=function(e){var t;return e===ft.isAdd||e===ft.isEdit?t="Save":(e===ft.isFilter||this.action===ft.isSort||e===ft.isColumnChooser||this.action===ft.isColumnChooser)&&(t="OKButton"),t},r.prototype.renderResponsiveHeader=function(e,t,i){var n=this,s=this.parent;s.on(jg,this.keyHandler,this);var o=s.element.id+this.getDialogName(this.action);if(this.parent.columnChooserSettings.headerTemplate&&!this.parent.enableColumnVirtualization&&this.getHeaderTitle(t,e)===s.localeObj.getConstant("ChooseColumns")){var a=this.parent.columnChooserModule.renderHeader();return a}var l=s.createElement("div",{className:"e-res-custom-element"}),h=s.createElement("div",{className:"e-dlg-custom-header",id:o});h.innerHTML=this.getHeaderTitle(t,e),l.appendChild(h);var u=s.createElement("button");i||(this.saveBtn=new uh({cssClass:this.parent.cssClass?"e-primary e-flat e-res-apply-btn "+this.parent.cssClass:"e-primary e-flat e-res-apply-btn"}),u.innerHTML=s.localeObj.getConstant(this.getButtonText(this.action)),this.saveBtn.appendTo(u),u.onclick=function(y){n.dialogHdrBtnClickHandler()});var c=this.action===ft.isSort,d=this.action===ft.isFilter;if(d||c){var f=c?"sort":"filter",g=s.createElement("button");if(this.filterClearBtn=new uh({cssClass:this.parent.cssClass?"e-primary e-flat e-res-"+f+"-clear-btn "+this.parent.cssClass:"e-primary e-flat e-res-"+f+"-clear-btn"}),d){var m=s.createElement("span",{className:"e-btn-icon e-icon-filter-clear e-icons"});g.appendChild(m)}else g.innerHTML=s.localeObj.getConstant("Clear");l.appendChild(g),this.filterClearBtn.appendTo(g),g.onclick=function(y){he(y.target,"e-customfilter")?(n.parent.filterModule.clearFiltering(),n.removeCustomDlgFilterEle()):d?n.filterClear():(n.resetSortButtons(),n.sortedCols=[],n.sortPredicate=[],n.isSortApplied=!0)},l.appendChild(g)}return i||l.appendChild(u),l},r.prototype.filterClear=function(){this.parent.filterModule.filterModule.clearCustomFilter(this.filteredCol),this.parent.filterModule.filterModule.closeResponsiveDialog()},r.prototype.removeCustomFilterElement=function(){var e=document.getElementById(this.parent.element.id+"customcolumnmenu");if(e){ot(e);var t=document.querySelector(".e-customfilter");t&&ot(t)}var i=document.querySelector(".e-rescolumnchooser");i&&ot(i)},r.prototype.hideResponsiveColumnChooser=function(){var e=document.querySelector(".e-rescolumnchooser");e&&(ot(e),this.isCustomDialog=!1,this.isDialogClose=!1)},r.prototype.dialogHdrBtnClickHandler=function(){this.action===ft.isEdit||this.action===ft.isAdd?this.parent.endEdit():this.action===ft.isFilter?(this.parent.filterModule.filterModule.applyCustomFilter({col:this.filteredCol,isCustomFilter:this.isCustomDlgRender}),this.removeCustomFilterElement()):this.action===ft.isSort?(this.sortColumn(),this.removeCustomFilterElement()):this.action===ft.isColumnChooser&&(this.parent.notify(s0,{action:"confirm"}),this.removeCustomFilterElement(),this.isCustomDialog=!1,this.isDialogClose=!1)},r.prototype.closeCustomDialog=function(){if(this.isCustomDlgRender){var e=this.customResponsiveDlg.element.querySelector(".e-mainfilterdiv");ot(e);return}this.isRowResponsive=!1,this.isCustomDlgRender=!1,this.destroyCustomFilterDialog()},r.prototype.destroyCustomFilterDialog=function(){if(this.customResponsiveDlg){var e=document.getElementById(this.customResponsiveDlg.element.id);this.customResponsiveDlg&&!this.customResponsiveDlg.isDestroyed&&e&&(this.customResponsiveDlg.destroy(),ot(e)),this.closeCustomFilter(),this.action===ft.isSort&&(this.sortPredicate=[],this.sortedCols=[],this.isSortApplied=!1)}},r.prototype.closeCustomFilter=function(){if(!this.isDialogClose&&this.customFilterDlg){var e=document.getElementById(this.customFilterDlg.element.id);this.customFilterDlg&&!this.customFilterDlg.isDestroyed&&e&&(this.customFilterDlg.destroy(),ot(e))}this.isCustomDialog=!1,this.isDialogClose=!1},r.prototype.removeCustomDlgFilterEle=function(e){if(e)e.parentElement.classList.contains("e-filtersetdiv")?ot(e.parentElement):ot(e);else for(var t=this.customColumnDiv.children,i=0;i<t.length;i++)e=t[parseInt(i.toString(),10)].querySelector(".e-filtersetdiv"),e&&(ot(e),i--)},r.prototype.keyHandler=function(e){e.keyCode===13&&(this.action===ft.isFilter&&e.target.classList.contains("e-searchinput")||this.action===ft.isEdit||this.action===ft.isAdd)&&this.dialogHdrBtnClickHandler()},r.prototype.editComplate=function(e){(e.requestType==="save"||e.requestType==="cancel")&&this.parent.off(jg,this.keyHandler)},r.prototype.removeEventListener=function(){this.customColumnDiv&&F.remove(this.customColumnDiv,ne.isDevice?"touchend":"click",this.customFilterColumnClickHandler),Nl(this.parent,this.evtHandlers,!0,this),this.parent.removeEventListener(ls,this.onActionCompleteFn)},r}(),Uee=function(){function r(){this.services={}}return r.prototype.register=function(e,t){p(this.services[""+e])&&(this.services[""+e]=t)},r.prototype.getService=function(e){if(p(this.services[""+e]))throw"The service "+e+" is not registered";return this.services[""+e]},r.prototype.registerAdaptiveService=function(e,t,i){t?(e.responsiveDialogRenderer=new Bee(e.parent,e.serviceLocator),e.responsiveDialogRenderer.action=i):e.responsiveDialogRenderer&&(e.responsiveDialogRenderer.removeEventListener(),e.responsiveDialogRenderer=void 0)},r}(),Hee=function(){function r(){this.rendererMap={}}return r.prototype.addRenderer=function(e,t){var i=no(jr,e);p(this.rendererMap[""+i])&&(this.rendererMap[""+i]=t)},r.prototype.getRenderer=function(e){var t=no(jr,e);if(p(this.rendererMap[""+t]))throw"The renderer "+t+" is not found";return this.rendererMap[""+t]},r}(),rD=function(){function r(e){this.parent=e}return r.prototype.setWidthToColumns=function(){var e=0,t=this.parent.getColumnIndexesInView(),i=!0,n=0;if(this.parent.allowGrouping)for(var s=this.parent.groupSettings.columns.length;e<s;e++){if(this.parent.enableColumnVirtualization&&t.indexOf(e)===-1){i=!1;continue}this.setColumnWidth(new Gi({width:"30px"}),e)}(this.parent.detailTemplate||this.parent.childGrid)&&(this.setColumnWidth(new Gi({width:"30px"}),e),e++),this.parent.isRowDragable()&&this.parent.getFrozenMode()!=="Right"&&(this.setColumnWidth(new Gi({width:"30px"}),e),e++);for(var o=this.parent.getColumns(),a=0;a<o.length;a++)this.setColumnWidth(o[parseInt(a.toString(),10)],i&&this.parent.enableColumnVirtualization?void 0:a+e);if(this.parent.isRowDragable()&&this.parent.getFrozenMode()==="Right"&&this.setColumnWidth(new Gi({width:"30px"}),this.parent.groupSettings.columns.length+o.length),n=this.getTableWidth(this.parent.getColumns()),n!=="auto"){this.parent.width!=="auto"&&this.parent.width.toString().indexOf("%")===-1&&this.setMinwidthBycalculation(n);var l=o.filter(function(c){return!p(c.maxWidth)}),h=this.parent.getHeaderTable(),u=this.parent.getContentTable();this.parent.allowResizing&&this.parent.element.getBoundingClientRect().width>n&&l.length===o.length&&h&&u&&Z([h,u],["e-tableborder"])}},r.prototype.setMinwidthBycalculation=function(e){var t=this,i=0,n=this.parent.getColumns().filter(function(c){return t.parent.allowResizing?(p(c.width)||c.width==="auto")&&p(c.maxWidth):p(c.width)||c.width==="auto"});if(n.length){!p(this.parent.width)&&this.parent.width!=="auto"&&typeof this.parent.width=="string"&&this.parent.width.indexOf("%")===-1?i=parseInt(this.parent.width,10)-e:i=this.parent.element.getBoundingClientRect().width-e;for(var s=0,o=0,a=n;o<a.length;o++){var l=a[o];s+=p(l.minWidth)?0:typeof l.minWidth=="string"?parseInt(l.minWidth,10):l.minWidth}for(var h=0;h<n.length;h++){e===0&&this.parent.allowResizing&&this.isWidthUndefined()&&h!==n.length-1&&this.setUndefinedColumnWidth(n);var u=this.parent.getColumnIndexByField(n[parseInt(h.toString(),10)].field)+this.parent.getIndentCount();e!==0&&i<s?this.setWidth(n[parseInt(h.toString(),10)].minWidth,u):e!==0&&i>s&&this.setWidth("",u,!0)}}},r.prototype.setUndefinedColumnWidth=function(e){for(var t=0;t<e.length;t++)t!==e.length-1&&(e[parseInt(t.toString(),10)].width=200,this.setWidth(200,this.parent.getColumnIndexByField(e[parseInt(t.toString(),10)].field)))},r.prototype.setColumnWidth=function(e,t,i){if(!(this.parent.getColumns().length<1)){var n=p(t)?this.parent.getNormalizedColumnIndex(e.uid):t,s=this.getWidth(e),o=this.getTableWidth(this.parent.getColumns());if(s!==null){if(this.setWidth(s,n),this.parent.width!=="auto"&&this.parent.width.toString().indexOf("%")===-1&&o!=="auto"&&this.setMinwidthBycalculation(o),this.parent.allowResizing&&(i==="resize"||this.parent.getFrozenColumns())){var a=this.parent.getContentTable();this.setWidthToTable(this.parent.getFrozenColumns()&&a.style.width.indexOf("px")===-1&&o<a.clientWidth)}this.parent.notify(Uj,{index:n,width:s,column:e,module:i})}}},r.prototype.setWidth=function(e,t,i){if(this.parent.groupSettings.columns.length>t&&RC(this.parent)&&!(this.parent.resizeModule&&this.parent.resizeModule.resizeProcess)){var n=this.parent.element.offsetWidth;e=(30/n*100).toFixed(1)+"%"}var s=this.parent.getHeaderTable(),o=this.parent.getContentTable(),a=mt(e),l=s.querySelector(ss).children[parseInt(t.toString(),10)];l&&!i?l.style.width=a:l&&i&&(l.style.width="");var h=o.querySelector(ss).children[parseInt(t.toString(),10)];if(h&&!i?h.style.width=a:h&&i&&(h.style.width=""),!this.parent.enableColumnVirtualization&&this.parent.isEdit){for(var u=this.parent.element.querySelectorAll(".e-table.e-inline-edit"),c=[],d=0;d<u.length;d++)if(he(u[parseInt(d.toString(),10)],"e-grid").id===this.parent.element.id)for(var f=0;f<u[parseInt(d.toString(),10)].querySelector("colgroup").children.length;f++)c.push(u[parseInt(d.toString(),10)].querySelector("colgroup").children[parseInt(f.toString(),10)]);u.length&&c.length&&c[parseInt(t.toString(),10)]&&(c[parseInt(t.toString(),10)].style.width=a)}this.parent.isFrozenGrid()&&this.parent.enableColumnVirtualization&&this.refreshFrozenScrollbar()},r.prototype.refreshFrozenScrollbar=function(){var e={cancel:!1};if(this.parent.notify(QX,e),!e.cancel){var t=Rr(),i=this.parent.element.querySelector(".e-movablescrollbar"),n=this.parent.getContent().firstElementChild.getBoundingClientRect().width;if(this.parent.enableColumnVirtualization){var s=this.parent.getContent().querySelector(".e-virtualtrack");s&&(n=s.scrollWidth)}this.parent.height!=="auto"&&(n=n+t),i.firstElementChild.style.width=n+"px"}},r.prototype.getSiblingsHeight=function(e){var t=this.getHeightFromDirection(e,"previous"),i=this.getHeightFromDirection(e,"next");return t+i},r.prototype.getHeightFromDirection=function(e,t){for(var i=e[t+"ElementSibling"],n=0,s=[ds,Pg,"e-groupdroparea","e-gridpager","e-toolbar","e-temp-toolbar"];i;)s.some(function(o){return i.classList.contains(o)})&&(n+=i.offsetHeight),i=i[t+"ElementSibling"];return n},r.prototype.isWidthUndefined=function(){var e=this.parent.getColumns().filter(function(t){return p(t.width)&&p(t.minWidth)}).length;return this.parent.getColumns().length===e},r.prototype.getWidth=function(e){if(this.parent.allowResizing&&p(e.width)&&(p(e.minWidth)&&p(e.maxWidth)&&!this.isWidthUndefined()?e.width=200:e.maxWidth&&(e.width=e.maxWidth)),!e.width)return null;var t=parseInt(e.width.toString(),10);return e.minWidth&&t<parseInt(e.minWidth.toString(),10)?e.minWidth:e.maxWidth&&t>parseInt(e.maxWidth.toString(),10)?e.maxWidth:e.width},r.prototype.getTableWidth=function(e,t){for(var i=0,n=!1,s=0,o=e;s<o.length;s++){var a=o[s];if(a.visible!==!1){var l=this.getWidth(a);(a.width==="auto"||!a.width)&&(this.parent.allowResizing&&!t?a.maxWidth||(n=!0):l=0),l!==null&&(i+=parseInt(l.toString(),10))}}return i=n?"auto":i,i},r.prototype.setWidthToTable=function(e){var t=mt(this.getTableWidth(this.parent.getColumns()));(this.parent.detailTemplate||this.parent.childGrid)&&this.setColumnWidth(new Gi({width:"30px"})),t=this.isAutoResize()||t==="auto"||e?"100%":t,this.parent.getHeaderTable().style.width=t,this.parent.getContentTable().style.width=t;var i=this.parent.element.querySelector(".e-table.e-inline-edit");i&&(i.style.width=t)},r.prototype.isAutoResize=function(){return this.parent.allowResizing&&this.parent.resizeSettings.mode==="Auto"},r}(),Vee=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Qee=function(){function r(e){this.currentInfo={},this.oneTime=!0,this.swap={},this.isInfiniteScroll=!1,this.virtualSelectionInfo={},this.forget=!1,this.skipFocus=!0,this.focusByClick=!1,this.firstHeaderCellClick=!1,this.prevIndexes={},this.refMatrix=this.refreshMatrix(!0),this.actions=["downArrow","upArrow"],this.isVirtualScroll=!1,this.groupedFrozenRow=0,this.parent=e,this.rowModelGen=new Tv(this.parent),this.addEventListener()}return r.prototype.focusCheck=function(e){var t=e.target;this.focusByClick=!0,this.firstHeaderCellClick=!0,this.skipFocus=t.classList.contains("e-grid")},r.prototype.onFocus=function(e){if(!(this.parent.isDestroyed||ne.isDevice||this.parent.enableVirtualization||this.parent.element.querySelector(".e-masked-table")||!this.parent.isInitialLoad&&e&&e.target===this.parent.element&&this.parent.element.querySelector(".e-spin-show"))){this.setActive(!this.parent.enableHeaderFocus&&this.parent.frozenRows===0),!this.parent.enableHeaderFocus&&!this.parent.getCurrentViewRecords().length&&(this.parent.editSettings.mode!=="Batch"||this.parent.editSettings.mode==="Batch"&&this.parent.editModule&&!this.parent.editModule.getBatchChanges()[py].length)&&this.getContent().matrix.generate(this.rowModelGen.generateRows({rows:[new Pc({isDataRow:!0})]}),this.getContent().selector,!1);var t=this.getContent().matrix.get(0,-1,[0,1],null,this.getContent().validator(),this.active);this.getContent().matrix.select(t[0],t[1]),this.skipFocus&&!(e&&e.target===this.parent.element)&&(this.focus(e),this.skipFocus=!1)}},r.prototype.passiveFocus=function(e){if(!this.parent.isDestroyed){var t=this.parent.getHeaderContent().querySelector(".e-headercell:not(.e-hide)");if(e.target===t&&e.relatedTarget&&!he(e.relatedTarget,"e-grid")&&!this.firstHeaderCellClick){var i=[0,0];this.active.matrix.matrix[i[0]][i[1]]===0&&(i=Ss(this.active.matrix.matrix,i,!0)),this.active.matrix.current=i,this.currentInfo.element=e.target,this.currentInfo.elementToFocus=e.target,this.currentInfo.element.querySelector(".e-checkselectall")?(this.removeFocus(),this.addFocus(this.getContent().getFocusInfo(),e)):Z([this.currentInfo.element],["e-focused","e-focus"])}this.firstHeaderCellClick=!1,e.target&&e.target.classList.contains("e-detailcell")&&(this.currentInfo.skipAction=!1,Z([this.currentInfo.element],["e-focused","e-focus"]))}},r.prototype.onBlur=function(e){this.parent.allowPaging&&this.parent.pagerModule.pagerObj.element.querySelector(".e-pagercontainer")&&this.parent.pagerModule.pagerObj.element.querySelector(".e-pagercontainer").removeAttribute("aria-hidden");var t=!!(he(e.target,"e-gantt")&&e.target.classList.contains("e-rowcell")&&!p(e.target.nextElementSibling)&&e.target.nextElementSibling.classList.contains("e-rowcell"));(this.parent.isEdit||e&&(!e.relatedTarget||xe(e.relatedTarget,".e-grid")||xe(e.relatedTarget,".e-grid-popup"))&&!(this.parent.element.classList.contains("e-childgrid")&&!this.parent.element.matches(":focus-within")))&&!(!t&&p(e.relatedTarget)&&parseInt(e.target.getAttribute("aria-colindex"),10)-1===0&&parseInt(e.target.getAttribute("data-index"),10)===0)&&!(!t&&p(e.relatedTarget)&&!xe(document.activeElement,".e-grid")&&!p(e.sourceCapabilities))||(this.removeFocus(),this.skipFocus=!0,this.currentInfo.skipAction=!1,this.setLastContentCellTabIndex(),this.setFirstFocusableTabIndex(),this.firstHeaderCellClick=!1)},r.prototype.setFirstFocusableTabIndex=function(){var e=this.parent;if(e.element.tabIndex=-1,e.allowGrouping&&e.groupSettings.showDropArea){var t=e.groupModule,i=t.getFocusableGroupedItems();i.length>0?(t.element.tabIndex=-1,i[0].tabIndex=0):t.element.tabIndex=0;return}if(e.toolbar||e.toolbarTemplate){var n=e.toolbarModule.element,s=this.parent.toolbarModule.getFocusableToolbarItems();if(s.length>0&&s[0].querySelector(".e-toolbar-item-focus,.e-btn,.e-input")){n.tabIndex=-1,s[0].querySelector(".e-toolbar-item-focus,.e-btn,.e-input").tabIndex=0;return}else if(e.toolbarTemplate){n.tabIndex=0;return}}if(e.getColumns().length){var o=e.getHeaderContent().querySelector(".e-headercell:not(.e-hide)");if(o.tabIndex=0,this.setActive(!1),!p(this.active)&&(p(this.active.target)||!this.active.target.classList.contains("e-columnmenu"))){var a=[0,0];this.active.matrix.matrix[a[0]][a[1]]===0&&(a=Ss(this.active.matrix.matrix,a,!0)),this.active.matrix.current=a}return}},r.prototype.setLastContentCellTabIndex=function(){var e=this.parent.getContentTable();if(e.rows[e.rows.length-1]){var t=e.rows[e.rows.length-1].lastElementChild;t.tabIndex=0}},r.prototype.onClick=function(e,t,i){if(!(he(e.target,"e-filterbarcell")&&(he(e.target,"e-multiselect")||e.target.classList.contains("e-input-group-icon")))){var n=!p(xe(e.target,"."+aa)),s=!p(xe(e.target,"."+ds));if(n=n&&s?!n:n,!(!n&&p(xe(e.target,"."+ds))||e.target.classList.contains(En)||e.target.classList.contains(Tn)||!p(xe(e.target,".e-unboundcell"))&&!t)){this.setActive(n);var o={cancel:!1,byKey:!1,byClick:!p(e.target),clickArgs:e};if(this.parent.notify(mC,o),!(o.cancel||xe(e.target,".e-inline-edit")&&!this.parent.editSettings.showAddNewRow&&this.parent.editSettings.showAddNewRow&&!this.parent.element.querySelector(".e-editedrow"))&&(this.setActive(n),this.getContent())){var a=this.getContent().onClick(e,t);if(a===!1)return;this.focus(),this.currentInfo.element.classList.contains("e-rowcell")&&e.type&&e.type==="click"&&!i&&Z([this.currentInfo.element],["e-focused","e-focus"]),i&&e&&e.target&&Z([e.target],["e-focused","e-focus"])}}}},r.prototype.handleFilterNavigation=function(e,t,i){e.target===document.querySelector(t)&&e.key==="Tab"&&e.shiftKey?(e.preventDefault(),document.querySelector(i).focus()):e.target===document.querySelector(i)&&e.key==="Tab"&&!e.shiftKey&&document.activeElement===document.querySelector(i)&&(e.preventDefault(),document.querySelector(t).focus())},r.prototype.onKeyPress=function(e){if(this.content&&this.content.target&&(this.content.target=null),this.parent.allowPaging){var t=this.parent.pagerModule.pagerObj.element,i=this.parent.pagerModule.pagerObj.getFocusablePagerElements(t,[]);if(this.parent.childGrid&&!he(e.target,"e-gridpager")&&this.allowToPaging(e)&&i.length&&(i[0].tabIndex=0),this.parent.pagerModule.pagerObj.checkPagerHasFocus()){if(e.action==="shiftTab"&&i.length&&i[0]===e.target){this.setActive(!0);var n=[this.active.matrix.matrix.length-1,this.active.matrix.matrix[this.active.matrix.matrix.length-1].length-1];this.active.matrix.matrix[n[0]][n[1]]===0&&(n=Ss(this.active.matrix.matrix,n,!1)),this.active.matrix.current=this.parent.editSettings.mode==="Batch"?this.isValidBatchEditCell(n)?n:this.findBatchEditCell(n,!1):n,e.preventDefault(),this.focus(e);return}if(e.action==="tab"&&this.parent.element.classList.contains("e-childgrid")&&(!this.parent.pageSettings.pageSizes&&i.length&&i[i.length-1]===e.target||this.parent.pagerModule.pagerObj.getDropDownPage()===e.target)){var s=he(this.parent.element,"e-detailcell");ue([this.parent.element],["e-focus"]),ue([s],["e-focused"]),s.tabIndex=-1}else{this.parent.pagerModule.pagerObj.changePagerFocus(e);return}}if(this.parent.pagerModule.pagerObj.element.tabIndex===0&&(e.keyCode===38||e.shiftKey&&e.keyCode===9)){e.preventDefault(),this.focus(e);return}else if(this.parent.pagerModule.pagerObj.element.tabIndex===0&&e.keyCode===9){e.preventDefault(),this.parent.pagerModule.pagerObj.setPagerFocus();return}if(this.parent.pagerModule.pagerObj.checkFirstPagerFocus()){var o=this.getContent().matrix.rows,a=this.getContent().matrix.columns;this.getContent().matrix.current=[o,a]}}if(this.parent.filterSettings.type==="Excel"&&this.handleFilterNavigation(e,".e-excelfilter .e-menu-item:not(.e-disabled)",".e-excelfilter .e-footer-content button:nth-child(2)"),this.parent.filterSettings.type==="CheckBox"){var l=this.parent.getColumnByUid(this.focusedColumnUid),h=l&&l.filter&&l.filter.hideSearchbox?".e-chk-hidden":".e-searchinput.e-input";this.handleFilterNavigation(e,h,".e-checkboxfilter .e-footer-content button:nth-child(2)")}if(this.parent.filterSettings.type==="Menu"&&this.handleFilterNavigation(e,".e-flmenu .e-input-group.e-popup-flmenu",".e-flmenu .e-footer-content button:nth-child(2)"),this.parent.showColumnChooser&&this.handleFilterNavigation(e,".e-ccdlg .e-ccsearch.e-cc.e-input",".e-ccdlg .e-footer-content button:nth-child(2)"),e.action==="shiftTab"&&e.target&&he(e.target,"e-gridcontent")&&e.target.closest(".e-unboundcell")){var u=[].slice.call(this.parent.getContentTable().rows),c=u[u.length-1].lastElementChild;e.target.closest(".e-unboundcell")===c&&this.commandColumnFocusElement(e.target.closest(".e-unboundcell"),!0)===e.target&&(this.currentInfo.skipAction=!0,this.setActive(!0),this.setLastContentCellActive())}if(!this.skipOn(e)){if(e.target&&he(e.target,"e-gridcontent")){var u=[].slice.call(this.parent.getContentTable().rows),c=u[u.length-1].lastElementChild;e.target===c&&(this.setActive(!0),this.setLastContentCellActive())}if(e.action==="shiftTab"&&e.target&&(e.target===this.parent.element||he(e.target,"e-toolbar")||he(e.target,"e-groupdroparea"))){if(e.target===this.parent.element){this.parent.element.classList.contains("e-childgrid")&&this.focusOutFromChildGrid(e);return}if(he(e.target,"e-groupdroparea")){this.parent.element.classList.contains("e-childgrid")&&(e.preventDefault(),this.parent.element.focus());return}if(he(e.target,"e-toolbar")){if(this.parent.allowGrouping&&this.parent.groupSettings.showDropArea){var d=this.parent.groupModule,f=d.getFocusableGroupedItems();e.preventDefault(),f.length>0?f[f.length-1].focus():d.element.focus()}else this.parent.element.classList.contains("e-childgrid")&&(e.preventDefault(),this.parent.element.focus());return}}var g=!1;if(e.action==="tab"&&e.target&&(e.target===this.parent.element||he(e.target,"e-toolbar")||he(e.target,"e-groupdroparea"))){if(this.parent.allowGrouping&&this.parent.groupSettings.showDropArea&&(e.target===this.parent.element||e.target.classList.contains("e-groupdroparea"))){var d=this.parent.groupModule,f=d.getFocusableGroupedItems();if(f.length>0){e.preventDefault(),f[0].focus();return}if(!e.target.classList.contains("e-groupdroparea")){e.preventDefault(),d.element.focus();return}}if((this.parent.toolbar||this.parent.toolbarTemplate)&&(e.target===this.parent.element||he(e.target,"e-groupdroparea")||e.target.classList.contains("e-toolbar"))){var m=this.parent.toolbarModule.element,y=this.parent.toolbarModule.getFocusableToolbarItems();if(y.length>0){e.preventDefault(),y[0].querySelector(".e-toolbar-item-focus,.e-btn,.e-input").focus();return}if(!e.target.classList.contains("e-toolbar")&&this.parent.toolbarTemplate){e.preventDefault(),m.focus();return}}(e.target===this.parent.element||he(e.target,"e-toolbar")||he(e.target,"e-groupdroparea"))&&(g=!0)}g&&(this.parent.allowGrouping&&!p(this.parent.groupSettings.columns)&&this.parent.groupSettings.columns.length===this.parent.columns.length?this.setActive(!0):this.setActive(!1),this.active.matrix.current=[0,-1]),this.activeKey=e.action;var v={cancel:!1,byKey:!0,byClick:!1,keyArgs:e};if(this.parent.notify(mC,v),!v.cancel){var M=this.getContent().matrix.current,S=this.active&&this.active.matrix.current?[this.active.matrix.current[0],this.active.matrix.current[1]]:void 0;this.currentInfo.outline=!0;var b=this.getContent().jump(e.action,M);this.swap=b,b.swap&&!(this.parent.editSettings.mode==="Batch"&&(e.action==="tab"||e.action==="shiftTab"))&&(this.setActive(!b.toHeader),this.getContent().matrix.current=this.getContent().getNextCurrent(M,b,this.active,e.action),this.prevIndexes={}),this.setActiveByKey(e.action,this.getContent());var C=this.content.lastIdxCell?!1:this.getContent().onKeyPress(e);if(e.target&&he(e.target,"e-gridheader")){if(!p(this.active)&&e.action==="tab"&&M.toString()===this.active.matrix.current.toString()){var T=Ss(this.active.matrix.matrix,this.active.matrix.current,!0),n=[this.active.matrix.matrix.length-1,this.active.matrix.matrix[this.active.matrix.matrix.length-1].length-1];this.active.matrix.matrix[n[0]][n[1]]===0&&(n=Ss(this.active.matrix.matrix,n,!1));var k=H(T[0]+".cells."+T[1],this.active.matrix.getRowsFromIndex(T[0],this.active));if(k&&k.getBoundingClientRect().width===0&&this.active.matrix.matrix.length-1===T[0]&&(n=this.active.matrix.nextVisibleCellFocus(T[0],T[1],e.action,this.active.keyActions[e.action],this.active,this.active.matrix.current[1])),this.active.matrix.current.toString()===n.toString()&&this.content.matrix.matrix.length){C=!0,this.setActive(!0);var N=[0,0];this.parent.allowPaging&&this.parent.pagerModule.pagerObj.element.querySelector(".e-pagercontainer")&&this.parent.pagerModule.pagerObj.element.querySelector(".e-pagercontainer").setAttribute("aria-hidden","true"),this.active.matrix.matrix[N[0]][N[1]]===0&&(N=Ss(this.active.matrix.matrix,[0,0],!0));var A=H(N[0]+".cells."+N[1],this.active.matrix.getRowsFromIndex(N[0],this.active));if(A&&A.getBoundingClientRect().width===0&&(N=this.active.matrix.nextVisibleCellFocus(N[0],N[1],e.action,this.active.keyActions[e.action],this.active,this.active.matrix.current[1])),this.active.matrix.current=this.parent.editSettings.mode==="Batch"?this.isValidBatchEditCell(N)?N:this.findBatchEditCell(N,!0):N,this.parent.enableVirtualization&&!this.parent.enableColumnVirtualization&&this.parent.contentModule.prevInfo.blockIndexes[0]!==1){e.preventDefault(),this.removeFocus();var E=this.parent.contentModule;E.firstCellFocus=!0,E.content.scrollTop=0;return}}else this.active.matrix.current.toString()!==T.toString()&&(this.active.matrix.current=T)}if(!p(this.active)&&e.action==="shiftTab"&&M.toString()===this.active.matrix.current.toString()){var x=Ss(this.active.matrix.matrix,this.active.matrix.current,!1),D=H(x[0]+".cells."+x[1],this.active.matrix.getRowsFromIndex(x[0],this.active));if(D&&D.getBoundingClientRect().width===0&&x[0]===0&&(x=this.active.matrix.nextVisibleCellFocus(x[0],x[1],e.action,this.active.keyActions[e.action],this.active,this.active.matrix.current[1])),x.toString()===this.active.matrix.current.toString()){this.focusOutFromHeader(e);return}if(this.active.matrix.current.toString()!==x.toString()&&!C){C=!0;var z=H(x[0]+".cells."+x[1],this.active.matrix.getRowsFromIndex(x[0],this.active));z&&z.getBoundingClientRect().width===0&&x[0]===0&&(x=this.active.matrix.nextVisibleCellFocus(x[0],x[1],e.action,this.active.keyActions[e.action],this.active,this.active.matrix.current[1])),this.active.matrix.current=x}}}if(e.target&&he(e.target,"e-gridcontent")&&(this.parent.allowPaging&&this.parent.pagerModule.pagerObj.element.querySelector(".e-pagercontainer")&&this.parent.pagerModule.pagerObj.element.querySelector(".e-pagercontainer").removeAttribute("aria-hidden"),this.parent.editSettings.mode==="Batch"&&(e.action==="tab"||e.action==="shiftTab")&&(this.active.matrix.current=this.findBatchEditCell(S,e.action==="tab"),e.action==="tab"&&S.toString()===this.active.matrix.current.toString()&&(this.parent.editModule.editModule.addBatchRow=!0)),e.action==="shiftTab"&&M.toString()===this.active.matrix.current.toString())){if(this.parent.allowGrouping&&!p(this.parent.groupSettings.columns)&&this.parent.groupSettings.columns.length===this.parent.columns.length){this.focusOutFromHeader(e);return}var N=[0,0];this.active.matrix.matrix[N[0]][N[1]]===0&&(N=Ss(this.active.matrix.matrix,[0,0],!0));var A=H(N[0]+".cells."+N[1],this.active.matrix.getRowsFromIndex(N[0],this.active));A&&A.getBoundingClientRect().width===0&&(N=this.active.matrix.nextVisibleCellFocus(N[0],N[1],e.action,this.active.keyActions[e.action],this.active,this.active.matrix.current[1])),!C&&(N.toString()===this.active.matrix.current.toString()||this.parent.editSettings.mode==="Batch"&&S.toString()===this.active.matrix.current.toString())&&(C=!0,this.setActive(!1),this.setLastContentCellActive())}if(C===!1){if(this.clearIndicator(),e.action==="shiftTab"&&M.toString()===[0,0].toString()&&(this.parent.element.tabIndex=-1),this.parent.allowPaging&&!this.parent.pagerModule.pagerObj.checkPagerHasFocus()&&this.allowToPaging(e)&&M.toString()!==[0,0].toString()){if(e.preventDefault(),e.keyCode===40){this.parent.pagerModule.pagerObj.setPagerContainerFocus();return}else if(e.keyCode===9){this.parent.pagerModule.pagerObj.setPagerFocus();return}}this.parent.element.classList.contains("e-childgrid")&&this.focusOutFromChildGrid(e);return}if(this.header.action=e.action,this.header.currentTarget=null,this.header.focusType="key",e.target&&he(e.target,"e-fltrtemp")&&(e.action==="tab"||e.action==="shiftTab")){var w=e.target,O=[].slice.call(xe(w,"th").querySelectorAll(".e-fltrtemp-focus"));if(O.length){var L=O.indexOf(w),j=e.action==="tab"&&L<O.length-1||e.action==="shiftTab"&&L>0;j&&(this.setActive(!1),this.active.matrix.current=M,this.active.currentTarget=w)}}g&&he(this.active.getTable(),"e-gridheader")&&e.target&&e.target.id===this.parent.element.id+"_searchbar"&&(this.parent.searchModule.headerFocus=!0),e.preventDefault(),this.focus(e)}}},r.prototype.isValidBatchEditCell=function(e){var t=this.active.getTable().rows[e[0]].cells[e[1]],i=xe(t,"tr"),n=parseInt(t.getAttribute("aria-colindex"),10)-1,s=this.parent.getColumns()[parseInt(n.toString(),10)];return!!(this.active.matrix.matrix[e[0]][e[1]]===1&&(!i.classList.contains("e-row")||(i.classList.contains("e-insertedrow")||!s.isPrimaryKey)&&s.allowEditing))},r.prototype.findBatchEditCell=function(e,t,i){for(var n=e,s=e,o=!1;!o;){var a=s;s=Ss(this.active.matrix.matrix,s,t);var l=H(s[0]+".cells."+s[1],this.active.getTable().rows);if(l&&l.getBoundingClientRect().width===0&&(s=this.active.matrix.nextVisibleCellFocus(s[0],s[1],this.activeKey,this.active.keyActions[this.activeKey],this.active,this.active.matrix.current[1])),a.toString()===s.toString()||i&&a[0]!==s[0]){o=!0;continue}this.isValidBatchEditCell(s)&&(n=s,o=!0)}return n},r.prototype.setLastContentCellActive=function(){var e=[this.active.matrix.matrix.length-1,this.active.matrix.matrix[this.active.matrix.matrix.length-1].length-1];this.active.matrix.matrix[e[0]][e[1]]===0&&(e=Ss(this.active.matrix.matrix,e,!1));var t=H(e[0]+".cells."+e[1],this.active.matrix.getRowsFromIndex(e[0],this.active));t&&t.getBoundingClientRect().width===0&&(e=this.active.matrix.nextVisibleCellFocus(e[0],e[1],this.activeKey,this.active.keyActions[this.activeKey],this.active,this.active.matrix.current[1])),this.active.matrix.current=e},r.prototype.focusOutFromChildGrid=function(e){var t=he(this.parent.element,"e-table"),i=he(t,"e-grid").ej2_instances[0],n=he(this.parent.element,"e-detailcell"),s=he(this.parent.element,"e-detailrow").getAttribute("data-uid"),o=[].slice.call(i.getContentTable().rows),a=o.map(function(d){return d.getAttribute("data-uid")}).indexOf(s);if(!(e.action==="tab"&&a>=o.length-1)){ue([this.parent.element],["e-focus"]),ue([n],["e-focused"]),n.tabIndex=-1,e.preventDefault();var l;if(i.focusModule.removeFocus(),e.action==="shiftTab"){for(var h=o[a-1],u=h.cells,c=u.length-1;c>=0;c--)if(l=u[parseInt(c.toString(),10)],!l.classList.contains("e-hide")){i.focusModule.active.matrix.current=[a-1,c];break}}else l=o[a+1].cells[0],i.focusModule.active.matrix.current=[a+1,0];i.focusModule.currentInfo.element=l,i.focusModule.currentInfo.elementToFocus=l,Z([l],["e-focused","e-focus"]),l.tabIndex=0,l.focus()}},r.prototype.focusOutFromHeader=function(e){if(this.removeFocus(),this.parent.toolbar||this.parent.toolbarTemplate){var t=this.parent.toolbarModule.element,i=this.parent.toolbarModule.getFocusableToolbarItems();if(i.length>0){e.preventDefault(),i[i.length-1].querySelector(".e-toolbar-item-focus,.e-btn,.e-input").focus();return}else if(this.parent.toolbarTemplate){e.preventDefault(),t.focus();return}}if(this.parent.allowGrouping&&this.parent.groupSettings.showDropArea){var n=this.parent.groupModule,s=n.getFocusableGroupedItems();e.preventDefault(),s.length>0?s[s.length-1].focus():n.element.focus();return}this.parent.element.classList.contains("e-childgrid")&&(e.preventDefault(),this.parent.element.focus())},r.prototype.allowToPaging=function(e){return!(this.parent.editSettings.mode==="Batch"&&this.parent.editSettings.allowAdding&&e.keyCode!==40)},r.prototype.skipOn=function(e){var t=e.target;if(!t)return!1;if(!this.parent.isEdit&&t&&t.closest(".e-unboundcell")&&this.currentInfo.skipAction&&(e.action==="shiftTab"&&this.commandColumnFocusElement(t.closest(".e-unboundcell"),!1)===t||e.action==="tab"&&this.commandColumnFocusElement(t.closest(".e-unboundcell"),!0)===t))return this.currentInfo.skipAction=!1;if(this.currentInfo.skipAction)return this.clearIndicator(),!0;if(["pageUp","pageDown","altDownArrow"].indexOf(e.action)>-1)return this.clearIndicator(),!0;if(this.parent.allowGrouping){var i=this.parent.groupModule.getFocusableGroupedItems();if(he(e.target,"e-groupheadercell")&&!(e.target===i[0]&&e.action==="shiftTab"||e.target===i[i.length-1]&&e.action==="tab"))return!0}if(this.parent.toolbar||this.parent.toolbarTemplate){var n=this.parent.toolbarModule.element,s=n.querySelectorAll(".e-toolbar-item:not(.e-overlay):not(.e-hidden)");if(he(e.target,"e-toolbar-item")&&!(s.length>0&&(he(e.target,"e-toolbar-item")===s[0]&&e.action==="shiftTab"||he(e.target,"e-toolbar-item")===s[s.length-1]&&e.action==="tab")))return!0}var o=xe(t,"th")&&!xe(t,"th").tabIndex;if(e.target.classList.contains("e-filterbaroperator")&&(e.keyCode===13||e.keyCode===27)){var a=xe(e.target,".e-filterbarcell");a.querySelector("input").focus()}var l=this.parent.editSettings.showAddNewRow&&xe(document.activeElement,".e-addedrow")!==null;(o&&xe(document.activeElement,".e-filterbarcell")!==null||l)&&this.removeFocus();var h=xe(document.activeElement,".e-filterbarcell")!==null;if(this.parent.enableHeaderFocus&&h){var u=this.active.matrix,c=u.current;h=u.matrix[c[0]].lastIndexOf(1)!==c[1]}if(this.parent.isEdit&&(e.action==="tab"||e.action==="shiftTab")&&this.parent.editSettings.mode==="Normal"&&!this.parent.editSettings.showAddNewRow&&!p(he(t,"e-addedrow"))){var d=this.parent.editModule.formObj.element.querySelectorAll('input:not([type="hidden"],.e-numeric-hidden,.e-disabled), select:not([aria-hidden="true"]), button:not(.e-hide), textarea:not(.e-hide,.e-disabled,[disabled])'),a=t.classList.contains("e-ddl")?t.querySelector("input"):t,f=e.action==="tab"&&a===d[d.length-1],g=e.action==="shiftTab"&&a===d[0];if(f||g){e.preventDefault();var m=d[f?0:d.length-1];m=m.parentElement.classList.contains("e-ddl")?m.parentElement:m,m.focus()}}return e.action==="delete"||this.parent.editSettings.mode!=="Batch"&&(this.parent.isEdit&&(!this.parent.editSettings.showAddNewRow||this.parent.editSettings.showAddNewRow&&(!p(this.parent.element.querySelector(".e-editedrow"))||!p(he(t,"e-addedrow"))&&!p(xe(e.target,"input"))&&!p(document.querySelector(".e-popup-open"))||!p(he(t,"e-addedrow"))&&t&&!t.querySelector(".e-cancel-icon")&&!p(he(t,"e-unboundcell"))))||["insert","f2"].indexOf(e.action)>-1)||h&&this.parent.enableHeaderFocus||(h||l)&&e.action!=="tab"&&e.action!=="shiftTab"||xe(document.activeElement,"#"+this.parent.element.id+"_searchbar")!==null&&["enter","leftArrow","rightArrow","shiftLeft","shiftRight","ctrlPlusA"].indexOf(e.action)>-1||xe(t,"."+aa)===null&&xe(t,"."+ds)===null&&!(e.target===this.parent.element||he(e.target,"e-toolbar")||he(e.target,"e-groupdroparea"))||e.action==="space"&&!t.classList.contains(Wu)&&xe(t,"."+Wu)===null&&xe(t,".e-headerchkcelldiv")===null||xe(t,".e-filter-popup")!==null},r.prototype.focusVirtualElement=function(e){var t=this;if(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling){var i={virtualData:{},isAdd:!1,isCancel:!1};this.parent.notify(wX,i);var n=this.actions.some(function(o){return o===t.activeKey}),s=this.parent.contentModule?this.parent.contentModule.selectedRowIndex>-1:!1;i.isAdd||Object.keys(i.virtualData).length||n||i.isCancel||s?(this.parent.notify(XX,{isCancel:!1}),i.isCancel=!1,(this.parent.enableVirtualization&&!this.parent.selectVirtualRowOnAdd&&(!e||e&&e.action!=="ctrlHome"&&e.action!=="ctrlEnd")||!this.parent.enableVirtualization)&&(this.parent.contentModule.selectedRowIndex=-1),this.parent.selectVirtualRowOnAdd=!1,n&&(this.activeKey=this.empty,this.parent.notify("virtaul-key-handler",e)),this.currentInfo.elementToFocus.focus({preventScroll:!0})):this.isVirtualScroll||this.isInfiniteScroll?this.currentInfo.elementToFocus.focus({preventScroll:!0}):this.currentInfo.elementToFocus.focus()}this.isVirtualScroll=this.isInfiniteScroll=!1},r.prototype.getFocusedElement=function(){return this.currentInfo.elementToFocus},r.prototype.getContent=function(){return this.active||this.content},r.prototype.setActive=function(e){this.active=e?this.content:this.header},r.prototype.setFocusedElement=function(e,t){var i=this;this.currentInfo.elementToFocus=e,setTimeout(function(){if(!p(i.currentInfo.elementToFocus)){var n=p(i.parent.element.querySelector(".e-flmenu"))?document.querySelector(".e-grid-popup .e-flmenu"):i.parent.element.querySelector(".e-flmenu");(i.parent.enableVirtualization||i.parent.enableInfiniteScrolling)&&p(n)?i.focusVirtualElement(t):(p(n)||he(document.activeElement,"e-flmenu-valuediv")!==n.querySelector(".e-flmenu-valuediv"))&&i.currentInfo.elementToFocus.focus()}},0)},r.prototype.focus=function(e){this.parent.notify(IX,e),this.removeFocus(),this.addFocus(this.getContent().getFocusInfo(),e)},r.prototype.removeFocus=function(e){if(this.currentInfo.element){if(this.parent.isReact&&!this.parent.isEdit&&this.currentInfo.element.classList.contains("e-rowcell")&&!this.currentInfo.element.parentElement&&!(this.parent.allowGrouping&&!p(this.parent.groupSettings.columns)&&this.parent.groupSettings.columns.length)&&this.parent.getRowByIndex(this.prevIndexes.rowIndex)){var t=this.parent.getCellFromIndex(this.prevIndexes.rowIndex,this.prevIndexes.cellIndex);this.currentInfo.element=t||this.currentInfo.element}ue([this.currentInfo.element,this.currentInfo.elementToFocus],["e-focused","e-focus"]),this.currentInfo.element.tabIndex=-1}},r.prototype.addOutline=function(){var e=this.getContent().getFocusInfo();e.element&&(Z([e.element],["e-focused"]),Z([e.elementToFocus],["e-focus"]))},r.prototype.focusHeader=function(){this.setActive(!1),this.resetFocus()},r.prototype.focusContent=function(){this.setActive(!0),this.resetFocus()},r.prototype.resetFocus=function(){var e=this.getContent().matrix.get(0,-1,[0,1],null,this.getContent().validator());this.getContent().matrix.select(e[0],e[1]),this.focus()},r.prototype.addFocus=function(e,t){if(this.currentInfo=e,this.currentInfo.outline=e.outline&&(!p(t)||this.isVirtualScroll),this.isInfiniteScroll&&(this.currentInfo.outline=!0),!!e.element){var i=e.elementToFocus.classList.contains("e-focus");if(!i){this.currentInfo.outline&&Z([e.element],["e-focused"]),Z([e.elementToFocus],["e-focus"]),e.element.tabIndex=0,i||this.setFocusedElement(e.elementToFocus,t),this.parent.notify(yC,{element:e.elementToFocus,parent:e.element,indexes:this.getContent().matrix.current,byKey:!p(t),byClick:p(t),keyArgs:t,isJump:this.swap.swap,container:this.getContent().getInfo(t),outline:!p(t),swapInfo:this.swap});var n=this.getContent().matrix.current,s=n[0],o=n[1];this.prevIndexes={rowIndex:s,cellIndex:o},this.focusedColumnUid=this.parent.getColumnByIndex(o).uid,this.focusByClick=!1}}},r.prototype.refreshMatrix=function(e){var t=this;return function(i){e&&!t.content&&(t.content=new iP(t.parent)),!e&&!t.header&&(t.header=new Yee(t.parent)),e&&t.parent.pinnedTopRowModels.length&&(i.rows=t.parent.pinnedTopRowModels.concat(i.rows));var n=e?t.content:t.header,s=t.parent.frozenRows||t.parent.pinnedTopRowModels.length,o=0;if(s&&t.parent.editSettings.mode==="Batch"&&(o=t.parent.getHeaderContent().querySelectorAll(".e-insertedrow").length+t.parent.getHeaderContent().querySelectorAll(".e-hiddenrow").length),!p(t.parent.groupSettings.columns)&&t.parent.groupSettings.columns.length&&s&&!t.parent.pinnedTopRecords.length&&e){s=0;for(var a=0;a<i.rows.length&&(s++,i.rows[parseInt(a.toString(),10)].index+1!==t.parent.frozenRows);a++);t.groupedFrozenRow=s}var l=e?i.rows.slice(s+o):i.rows,h=e?i.rows.slice(0,s+o):i.rows;t.parent.isCollapseStateEnabled()&&e&&(l=l.filter(function(x){return x.visible!==!1}));var u=!p(t.parent.rowTemplate);if(s&&(t.parent.editSettings.mode==="Batch"&&e&&(i.name==="batchDelete"||i.name==="batchAdd"||i.name==="batchCancel"||i.args&&i.args.requestType==="batchsave")||i.args&&(i.args.requestType==="delete"||i.args.requestType==="save"))||i.args&&(i.args.requestType==="pin-row"||i.args.requestType==="unpin-row")){var c=t.header.matrix.matrix,d=t.parent.headerModule.rows.length;c.splice(d,c.length-d)}var f=n.matrix.generate(h,n.selector,u);n.matrix.generate(l,n.selector,u);var g=t.parent.enableVirtualization||t.parent.enableInfiniteScrolling;if(t.parent.editSettings.showAddNewRow&&e&&t.header&&t.header.matrix&&(!g||g&&t.parent.isAddNewRow)){var m=t.header.matrix.matrix,y=t.parent.allowFiltering&&t.parent.filterSettings.type==="FilterBar"?2:1;n.matrix.rows=t.parent.frozenRows&&t.parent.editSettings.newRowPosition==="Top"?n.matrix.rows:++n.matrix.rows,t.parent.editSettings.newRowPosition==="Top"?(t.parent.frozenRows||g?f:n.matrix.matrix).unshift(t.refreshAddNewRowMatrix(m[m.length-y])):n.matrix.matrix.push(t.refreshAddNewRowMatrix(m[m.length-y])),t.parent.isAddNewRow=!1}if((!(t.parent.isFrozenGrid()&&i.args&&(i.args.requestType==="sorting"||i.args.requestType==="batchsave"||i.args.requestType==="paging"))||s&&t.parent.editSettings.mode==="Batch"&&e&&(i.name==="batchDelete"||i.name==="batchAdd"||i.name==="batchCancel"||i.args.requestType==="batchsave"))&&n.generateRows(h,{matrix:f,handlerInstance:t.header}),!ne.isDevice&&i&&i.args&&(!t.focusByClick&&i.args.requestType==="paging"&&!t.parent.pagerModule.pagerObj.checkPagerHasFocus()&&(t.skipFocus=!1,t.parent.element.focus()),i.args.requestType==="grouping"&&(t.skipFocus=!0)),i&&i.args&&i.args.requestType==="virtualscroll"){if(t.currentInfo.uid){var v,M=i.rows.some(function(x,D){return v=D,x.uid===t.currentInfo.uid});if(M){t.content.matrix.current[0]=v,t.content.matrix.current[1]=t.parent.getColumnIndexByUid(t.focusedColumnUid)||0;var S=t.parent.getVisibleFrozenLeftCount(),b=t.parent.getVisibleFrozenRightCount();t.parent.enableColumnVirtualization&&!(S&&b)&&t.parent.isFrozenGrid()&&i.args.virtualInfo.direction==="right"&&(t.content.matrix.current[1]=t.content.matrix.current[1]-(S+(b?b+1:0)));var C=!!(t.parent.allowGrouping&&t.parent.groupSettings.columns.length);C&&(t.content.matrix.current[1]=t.prevIndexes.cellIndex,t.virtualSelectionInfo.isPending&&(t.content.matrix.current[0]=t.virtualSelectionInfo.direction==="downArrow"?t.content.matrix.current[0]+1:t.content.matrix.current[0]-1));var T=t.getContent().getFocusInfo().elementToFocus;if(T){var k=T.getBoundingClientRect(),N=t.parent.element.getBoundingClientRect(),A=0,E=0;t.parent.enableColumnVirtualization&&!(S&&b)&&t.parent.isFrozenGrid()&&i.args.virtualInfo.direction==="right"&&(S?A=t.parent.leftrightColumnWidth("left"):E=t.parent.leftrightColumnWidth("right")),(k.top>=0&&k.left>=0&&k.right-A-E<=Math.min(N.right,window.innerWidth||document.documentElement.clientWidth)+E&&k.bottom<=Math.min(N.bottom,window.innerHeight||document.documentElement.clientHeight)||C)&&(t.isVirtualScroll=!0,t.focus(C&&t.virtualSelectionInfo.isPending?t.virtualSelectionInfo.event:void 0))}}}else if(i.args.focusElement&&i.args.focusElement.classList.contains("e-filtertext")){var T=t.parent.element.querySelector("#"+i.args.focusElement.id);T&&T.focus()}t.virtualSelectionInfo={}}i&&i.args&&i.args.requestType==="infiniteScroll"&&(t.isInfiniteScroll=!0)}},r.prototype.refreshAddNewRowMatrix=function(e){for(var t=this.parent.getColumns(),i=this.parent.getIndentCount(),n=i;n<e.length-1;n++)t[n-i]&&t[n-i].visible&&t[n-i].allowEditing?e[parseInt(n.toString(),10)]=1:e[parseInt(n.toString(),10)]=0;return e},r.prototype.addEventListener=function(){var e=this;this.parent.isDestroyed||(F.add(this.parent.element,"mousedown",this.focusCheck,this),F.add(this.parent.element,"touchstart",this.focusCheck,this),F.add(this.parent.element,"focus",this.onFocus,this),this.parent.element.addEventListener("focus",this.passiveHandler=function(t){return e.passiveFocus(t)},!0),F.add(this.parent.element,"focusout",this.onBlur,this),this.evtHandlers=[{event:_u,handler:this.onKeyPress},{event:xl,handler:this.onClick},{event:$i,handler:this.refMatrix},{event:Yj,handler:this.refMatrix},{event:Gj,handler:this.refMatrix},{event:Yu,handler:this.showAddNewRowFocus},{event:oa,handler:this.refreshMatrix()},{event:ZX,handler:this.restoreFocus},{event:bX,handler:this.restoreFocus},{event:"start-edit",handler:this.clearIndicator},{event:"start-add",handler:this.clearIndicator},{event:"sorting-complete",handler:this.restoreFocus},{event:"filtering-complete",handler:this.filterfocus},{event:"custom-filter-close",handler:this.filterfocus},{event:"grouping-complete",handler:this.restoreFocusWithAction},{event:"ungrouping-complete",handler:this.restoreFocusWithAction},{event:UZ,handler:this.refMatrix},{event:Fj,handler:this.refMatrix},{event:HZ,handler:this.refMatrix},{event:BZ,handler:this.refMatrix},{event:Mo,handler:this.refMatrix},{event:yC,handler:this.internalCellFocus}],Nl(this.parent,this.evtHandlers,!0,this))},r.prototype.showAddNewRowFocus=function(){if(this.parent.editSettings.showAddNewRow){var e=this.parent.editSettings.newRowPosition==="Top"?0:this.content.matrix.matrix.length-1,t=this.parent.getIndentCount();if(this.parent.editSettings.newRowPosition==="Top"&&(this.parent.frozenRows||this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)){var i=this.header.matrix.matrix.length-(this.groupedFrozenRow?this.groupedFrozenRow:this.parent.frozenRows);t=this.findNextCellFocus(this.header.matrix.matrix[i-1],t),this.header.matrix.current=[i-1,t],this.active=this.header}else t=this.findNextCellFocus(this.content.matrix.matrix[parseInt(e.toString(),10)],t),this.content.matrix.current=[e,t],this.active=this.content;var n=this.parent.element.querySelector(".e-addedrow");n&&n.querySelectorAll("tr")&&n.querySelector("tr").cells[parseInt(t.toString(),10)].querySelector("input")&&n.querySelector("tr").cells[parseInt(t.toString(),10)].querySelector("input").select()}},r.prototype.findNextCellFocus=function(e,t){for(var i=t;i<e.length;i++)if(e[parseInt(i.toString(),10)]===1)return i;return t},r.prototype.filterfocus=function(){this.parent.filterSettings.type!=="FilterBar"&&(this.removeFocus(),this.restoreFocus())},r.prototype.removeEventListener=function(){this.parent.isDestroyed||(F.remove(this.parent.element,"mousedown",this.focusCheck),F.remove(this.parent.element,"touchstart",this.focusCheck),F.remove(this.parent.element,"focus",this.onFocus),F.remove(this.parent.element,"focusout",this.onBlur),this.parent.element.removeEventListener("focus",this.passiveHandler,!0),Nl(this.parent,this.evtHandlers,!1))},r.prototype.destroy=function(){this.removeEventListener()},r.prototype.restoreFocus=function(e){if(!(e&&e.requestType==="sorting"&&p(e.target))){var t=this.parent.groupModule;if(this.parent.allowGrouping&&t&&(t.groupSortFocus||t.groupTextFocus)){t.groupSortFocus=!1,t.groupTextFocus=!1;return}this.firstHeaderCellClick=!0,this.addFocus(this.getContent().getFocusInfo());var i=["add","save","delete","cancel","batchsave","batchDelete","batchCancel"],n=this.getContent().getFocusInfo();if(e&&i.indexOf(e.requestType)>-1&&n&&n.elementToFocus){var s=n.elementToFocus.matches(".e-rowcell.e-focus")?n.elementToFocus:n.elementToFocus.matches(".e-checkselect.e-focus")?n.elementToFocus.closest(".e-rowcell"):null;s&&Z([s],["e-focused","e-focus"])}}},r.prototype.restoreFocusWithAction=function(e){if(!this.parent.enableInfiniteScrolling&&!(this.parent.groupModule&&this.parent.groupModule.preventFocusOnGroup)){var t=this.getContent().matrix,i=t.current;switch(e.requestType){case"grouping":case"ungrouping":i[1]=i.length&&!this.parent.groupSettings.showGroupedColumn&&!p(t.matrix[i[0]])?t.matrix[i[0]].indexOf(1):e.requestType==="grouping"?i[1]+1:i[1]-1;break}this.getContent().matrix.current=i,this.prevIndexes={rowIndex:i[0],cellIndex:i[1]};var n=this.parent.groupModule;if(this.parent.allowGrouping&&n&&n.groupCancelFocus){var s=n.getFocusableGroupedItems();s.length?s[0].parentElement.getAttribute("data-mappingname")===e.columnName?s[3].focus():s[0].focus():n.element.focus(),n.groupCancelFocus=!1;return}this.addFocus(this.getContent().getFocusInfo())}},r.prototype.clearIndicator=function(){!this.currentInfo.element||!this.currentInfo.elementToFocus||ue([this.currentInfo.element,this.currentInfo.elementToFocus],["e-focus","e-focused"])},r.prototype.getPrevIndexes=function(){var e=this.forget;return this.forget=!1,e||!Object.keys(this.prevIndexes).length?{rowIndex:null,cellIndex:null}:this.prevIndexes},r.prototype.forgetPrevious=function(){this.forget=!0},r.prototype.setActiveByKey=function(e,t){if(this.parent.frozenRows!==0){var i,n={home:function(){return{toHeader:!i.isContent,toFrozen:!0}},end:function(){return{toHeader:!i.isContent,toFrozen:!1}},ctrlHome:function(){return{toHeader:!0,toFrozen:!1}},ctrlEnd:function(){return{toHeader:!1,toFrozen:!1}}};if(e in n){i=t.getInfo();var s=n[""+e]();this.setActive(!s.toHeader),this.getContent().matrix.current=t.matrix.current}}},r.prototype.internalCellFocus=function(e){if(e.byKey&&e.container.isContent&&(e.keyArgs.action==="enter"&&e.parent.classList.contains("e-detailcell")||(e.keyArgs.action==="tab"||e.keyArgs.action==="shiftTab")&&e.parent.classList.contains("e-unboundcell"))){this.clearIndicator();var t;e.parent&&e.parent.closest(".e-unboundcell")&&e.keyArgs.action==="shiftTab"?t=this.commandColumnFocusElement(e.parent,!0):t=this.getContent().getFocusable(this.getFocusedElement()),this.setFocusedElement(t),this.currentInfo.skipAction=!0}},r.prototype.commandColumnFocusElement=function(e,t){var i=e.querySelectorAll("button:not(.e-hide)");return t?i[i.length-1]:i[0]},r}(),_ee=function(){function r(){this.matrix=[],this.current=[]}return r.prototype.set=function(e,t,i){e=Math.max(0,Math.min(e,this.rows)),t=Math.max(0,Math.min(t,this.columns)),this.matrix[parseInt(e.toString(),10)]=this.matrix[parseInt(e.toString(),10)]||[],this.matrix[parseInt(e.toString(),10)][parseInt(t.toString(),10)]=i?1:0},r.prototype.get=function(e,t,i,n,s,o){var a=t;if(e+i[0]<0)return[e,t];e=Math.max(0,Math.min(e+i[0],this.rows));var l=!0;if(p(this.matrix[parseInt(e.toString(),10)]))return null;if(t=Math.max(0,Math.min(t+i[1],this.matrix[parseInt(e.toString(),10)].length-1)),a+i[1]>this.matrix[parseInt(e.toString(),10)].length-1&&s(e,t,n))return[e,a];var h=this.first(this.matrix[parseInt(e.toString(),10)],t,i,!0,n);t=h===null?a:h;var u=H(e+"."+t,this.matrix);e===this.rows&&(n==="downArrow"||n==="enter")&&(i[0]=-1);var c;if(o){var d=this.getRowsFromIndex(e,o);c=H(e+".cells."+t,d)}if(c&&c.getBoundingClientRect().width===0){var f=this.nextVisibleCellFocus(e,t,n,i,o,a);e=f[0],t=f[1]}if(h===null){for(var g=0;g<this.rows;g++)if(this.matrix[parseInt(g.toString(),10)].some(function(m){return m===1})){l=!1;break}if(l)return e=this.current.length?this.current[0]:0,[e,t]}return this.inValid(u)||!s(e,t,n)?this.get(e,a,i,n,s):[e,t]},r.prototype.getRowsFromIndex=function(e,t){return t.getTable().rows[parseInt(e.toString(),10)].classList.contains("e-addedrow")?t.getTable().rows[parseInt(e.toString(),10)].querySelector("table").rows:t.getTable().rows},r.prototype.nextVisibleCellFocus=function(e,t,i,n,s,o){var a=this.getRowsFromIndex(e,s),l=H(e+".cells."+t,a),h=s.matrix.matrix,u=h.length-1,c=i==="tab",d=i==="shiftTab",f=i==="enter"||i==="shiftEnter"||i==="downArrow"||i==="upArrow";if(f)return[e,t];for(;l&&l.getBoundingClientRect().width===0;){if(c&&e===u&&t===h[parseInt(e.toString(),10)].lastIndexOf(1)||d&&e===0&&t===h[parseInt(e.toString(),10)].indexOf(1))return t=o,[e,t];c?t===h[parseInt(e.toString(),10)].lastIndexOf(1)?(e++,t=h[parseInt(e.toString(),10)].indexOf(1),t=this.first(this.matrix[parseInt(e.toString(),10)],t,n,!0,i),a=this.getRowsFromIndex(e,s)):(t++,t=this.first(this.matrix[parseInt(e.toString(),10)],t,n,!0,i)):d?t===h[parseInt(e.toString(),10)].indexOf(1)?(e--,t=h[parseInt(e.toString(),10)].lastIndexOf(1),t=this.first(this.matrix[parseInt(e.toString(),10)],t,n,!0,i),a=this.getRowsFromIndex(e,s)):(t--,t=this.first(this.matrix[parseInt(e.toString(),10)],t,n,!0,i)):i==="rightArrow"||i==="shiftRight"?t===h[parseInt(e.toString(),10)].lastIndexOf(1)?t=o:(t++,t=this.first(this.matrix[parseInt(e.toString(),10)],t,n,!0,i)):i==="leftArrow"||i==="shiftLeft"?t===h[parseInt(e.toString(),10)].indexOf(1)?t=o:(t--,t=this.first(this.matrix[parseInt(e.toString(),10)],t,n,!0,i)):i===null&&(t++,t=this.first(this.matrix[parseInt(e.toString(),10)],t,n,!0,i)),l=H(e+".cells."+t,a)}return[e,t]},r.prototype.first=function(e,t,i,n,s){return(t<0||t===e.length)&&this.inValid(e[parseInt(t.toString(),10)])&&s!=="upArrow"&&s!=="downArrow"||!e.some(function(o){return o===1})?null:this.inValid(e[parseInt(t.toString(),10)])?this.first(e,["upArrow","downArrow","shiftUp","shiftDown","enter","shiftEnter"].indexOf(s)!==-1?n?0:++t:t+i[1],i,!1,s):t},r.prototype.select=function(e,t){e=Math.max(0,Math.min(e,this.rows)),t=Math.max(0,Math.min(t,this.matrix[parseInt(e.toString(),10)].length-1)),this.current=[e,t]},r.prototype.generate=function(e,t,i){this.rows=e.length-1,this.matrix=[];for(var n=0;n<e.length;n++){var s=e[parseInt(n.toString(),10)].cells.filter(function(l){return l.isSpanned!==!0});this.columns=Math.max(s.length-1,this.columns|0);for(var o=0,a=0;a<s.length;a++)s[parseInt(a.toString(),10)].column&&s[parseInt(a.toString(),10)].column.columns?o=this.columnsCount(s[parseInt(a.toString(),10)].column.columns,o):o++,this.set(n,a,e[parseInt(n.toString(),10)].visible===!1?!1:t(e[parseInt(n.toString(),10)],s[parseInt(a.toString(),10)],i));this.columns=Math.max(o-1,this.columns|0)}return this.matrix},r.prototype.columnsCount=function(e,t){for(var i=e,n=t,s=0;s<i.length;s++)i[parseInt(s.toString(),10)].columns?n=this.columnsCount(i[parseInt(s.toString(),10)].columns,n):n++;return n},r.prototype.inValid=function(e){return e===0||e===void 0},r}(),iP=function(){function r(e){var t=this;this.matrix=new _ee,this.lastIdxCell=!1,this.parent=e,this.keyActions={rightArrow:[0,1],tab:[0,1],leftArrow:[0,-1],shiftTab:[0,-1],upArrow:[-1,0],downArrow:[1,0],shiftUp:[-1,0],shiftDown:[1,0],shiftRight:[0,1],shiftLeft:[0,-1],enter:[1,0],shiftEnter:[-1,0]},this.indexesByKey=function(i){var n={home:[t.matrix.current[0],-1,0,1],end:[t.matrix.current[0],t.matrix.columns+1,0,-1],ctrlHome:[0,-1,0,1],ctrlEnd:[t.matrix.rows,t.matrix.columns+1,0,-1]};return n[""+i]||null}}return r.prototype.getTable=function(){return this.parent.getContentTable()},r.prototype.onKeyPress=function(e){var t=/(Mac)/i.test(navigator.platform);if(t&&e.metaKey){if(e.action==="home")e.action="ctrlHome";else if(e.action==="end")e.action="ctrlEnd";else if(["downArrow","upArrow","leftArrow","rightArrow"].indexOf(e.action)!==-1)return}var i=this.keyActions[e.action],n=this.getCurrentFromAction(e.action,i,e.action in this.keyActions,e);if(n){if((["tab","shiftTab"].indexOf(e.action)>-1&&this.matrix.current||[]).toString()===n.toString()||this.parent.allowPaging&&!this.parent.pagerModule.pagerObj.checkPagerHasFocus()&&this.matrix.current[0]===this.matrix.rows&&(this.parent.editSettings.mode==="Batch"&&this.parent.editSettings.allowAdding&&e.keyCode===40||e.keyCode===40)){if(n.toString()===[this.matrix.rows,this.matrix.columns].toString()||n.toString()===[0,0].toString()||this.matrix.current[0]===this.matrix.rows&&this.matrix.current.toString()===n.toString()||this.parent.allowGrouping&&this.parent.infiniteScrollSettings.enableCache&&n.toString()===[0,1].toString())return!1;n=this.editNextRow(n[0],n[1],e.action)}this.matrix.select(n[0],n[1])}},r.prototype.editNextRow=function(e,t,i){var n=this.parent,s=n.editSettings.allowNextRowEdit&&(n.isEdit||n.isLastCellPrimaryKey),o=n.getColumnIndexByField(n.getVisibleColumns()[0].field),a=this.getTable().rows[parseInt(e.toString(),10)],l=n.editSettings.showAddNewRow&&a.classList.contains("e-addedrow")?a.querySelectorAll("td:not(.e-editcell)")[parseInt(t.toString(),10)]:a.cells[parseInt(t.toString(),10)];if(i==="tab"&&s){e++;var h=this.getTable().rows[parseInt(e.toString(),10)].getElementsByClassName("e-indentcell").length+this.getTable().rows[parseInt(e.toString(),10)].getElementsByClassName("e-detailrowcollapse").length;t=o+h}return i==="shiftTab"&&s&&(e--,t=n.getColumnIndexByField(n.getVisibleColumns()[n.getVisibleColumns().length-1].field)),l&&!l.classList.contains(Gt)&&!l.classList.contains("e-headercell")&&!l.classList.contains("e-groupcaption")&&!l.classList.contains("e-filterbarcell")?this.editNextRow(e,t,i):[e,t]},r.prototype.getCurrentFromAction=function(e,t,i,n){if(t===void 0&&(t=[0,0]),!i&&!this.indexesByKey(e)||this.matrix.current.length===0)return null;if(!this.shouldFocusChange(n))return this.matrix.current;var s=this.indexesByKey(e)||this.matrix.current.concat(t),o=s[0],a=s[1],l=s[2],h=s[3];if(this.parent.allowGrouping&&!p(this.parent.groupSettings.columns)&&this.parent.groupSettings.columns.length&&this.parent.aggregates.length&&e==="enter")for(var u=o;u<this.matrix.matrix.length;u++){var c=this.getTable().rows[u+1];if(c&&c.cells[parseInt(a.toString(),10)]&&c.cells[parseInt(a.toString(),10)].classList.contains("e-rowcell"))return[u+1,a];if(u===this.matrix.matrix.length-1)return[o,a]}if(e==="ctrlEnd"||e==="end"){var d=[this.matrix.matrix.length-1,this.matrix.matrix[this.matrix.matrix.length-1].length-1];e==="end"&&(d=[o,this.matrix.matrix[parseInt(o.toString(),10)].length-1]),this.matrix.matrix[d[0]][d[1]]===0&&(d=Ss(this.matrix.matrix,d,!1)),o=d[0],a=d[1]+1}var f=this.matrix.get(o,a,[l,h],e,this.validator(),this);return f},r.prototype.checkRowCellFocus=function(e){return e.classList.contains(Gt)?e.classList.contains("e-focused"):!0},r.prototype.onClick=function(e,t){var i=e.target;if(this.target=i,i=i.classList.contains(Gt)?i:xe(i,"td"),i=i||xe(e.target,"td.e-detailrowcollapse")||xe(e.target,"td.e-detailrowexpand"),i=xe(e.target,"td.e-detailcell")&&p(xe(xe(e.target,".e-grid"),"td.e-detailcell"))?null:i,i=i&&xe(i,"table").classList.contains(ta)?i:null,!i)return!1;var n=i.parentElement.rowIndex;this.parent.editSettings.showAddNewRow&&he(i,"e-addedrow")&&(n=he(i,"e-addedrow").rowIndex);var s=[n,i.cellIndex],o=s[0],a=s[1],l=this.matrix.current,h=l[0],u=l[1],c=H(o+"."+a,this.matrix.matrix);if(this.matrix.inValid(c)||!t&&h===o&&u===a&&this.checkRowCellFocus(i)||!he(e.target,Gt)&&!he(e.target,"e-groupcaption")&&!he(e.target,"e-recordpluscollapse")&&!he(e.target,"e-recordplusexpand")&&!he(e.target,"e-detailrowcollapse")&&!he(e.target,"e-detailrowexpand")&&!he(e.target,"e-templatecell"))return!1;this.matrix.select(o,a)},r.prototype.getFocusInfo=function(){var e={},t=this.matrix.current,i=t[0],n=i===void 0?0:i,s=t[1],o=s===void 0?0:s;this.matrix.current=[n,o];var a=this.getTable().rows[parseInt(n.toString(),10)];return e.element=p(a)?null:this.parent.editSettings.showAddNewRow&&a.classList.contains("e-addedrow")?a.querySelectorAll("td:not(.e-editcell)")[parseInt(o.toString(),10)]:a.cells[parseInt(o.toString(),10)],e.element&&(e.elementToFocus=(!e.element.classList.contains("e-unboundcell")||this.parent.editSettings.showAddNewRow&&e.element.classList.contains("e-unboundcell")&&he(e.element,"e-addedrow"))&&!e.element.classList.contains("e-detailcell")?this.getFocusable(e.element):e.element,e.elementToFocus=e.element.classList.contains("e-detailcell")&&e.element.querySelector(".e-childgrid")?e.element.querySelector(".e-childgrid"):e.elementToFocus,this.parent.editSettings.mode==="Batch"&&this.parent.isEdit&&e.elementToFocus.tagName.toLowerCase()==="input"&&e.elementToFocus.classList.contains("e-dropdownlist")&&(e.elementToFocus=e.elementToFocus.parentElement),e.outline=!0,e.uid=e.element.parentElement.getAttribute("data-uid")),e},r.prototype.getFocusable=function(e){var t='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])',i=!p(xe(e,".e-templatecell"));if(this.parent.isEdit){var n=this.parent.editSettings.showAddNewRow&&he(e,"e-addedrow")?", button:not(.e-hide)":"";t='input:not([type="hidden"]), select:not([aria-hidden="true"]), textarea'+n}var s=[].slice.call(e.querySelectorAll(t));if(e.classList.contains("e-fltrtemp")){var o=[].slice.call(e.querySelectorAll(".e-fltrtemp-focus"));if(this.focusType==="click"&&this.target&&this.target.classList.contains("e-fltrtemp-focus"))return this.target;if(this.focusType==="key"&&o.length&&(this.action==="tab"||this.action==="shiftTab")){var a=o.indexOf(this.currentTarget);return a===-1?o[this.action==="tab"?0:o.length-1]:o[this.action==="tab"?a+1:a-1]}}return s.length?i&&s.length>1&&!(this.parent.editSettings.mode==="Batch"&&this.parent.isEdit&&this.target)?this.target?this.target:e:s[0]:e},r.prototype.selector=function(e,t,i){var n=[We.Expand,We.GroupCaption,We.CaptionSummary,We.GroupSummary];return(e.isDataRow&&t.visible&&(t.isDataCell||t.isTemplate)||e.isDataRow&&t.cellType===We.DetailExpand&&p(t.visible)||!e.isDataRow&&n.indexOf(t.cellType)>-1&&!((t.cellType===We.GroupSummary||t.cellType===We.CaptionSummary)&&!(t.isDataCell&&t.visible))||t.column&&t.visible&&t.column.type==="checkbox"||t.cellType===We.CommandColumn||e.isDataRow&&i)&&!(e.edit==="delete"&&e.isDirty)},r.prototype.nextRowFocusValidate=function(e){for(var t=e,i=e,n=this.matrix.rows;i<=n;i++)if(this.matrix.matrix[parseInt(e.toString(),10)].indexOf(1)===-1)e=e+1;else return e;return this.lastIdxCell=!0,t},r.prototype.previousRowFocusValidate=function(e){for(var t=e,i=e,n=0;i>=n;i--)if(this.matrix.matrix[parseInt(e.toString(),10)].indexOf(1)===-1){if(e=e-1,e<0)return this.lastIdxCell=!0,t}else return e;return t},r.prototype.jump=function(e,t){this.lastIdxCell=!1;var i=this.parent.frozenRows!==0&&e==="shiftEnter",n=(e==="upArrow"||i)&&t[0]===0;this.matrix.matrix[t[0]]&&e==="tab"&&this.matrix.matrix.length&&t[1]===this.matrix.matrix[t[0]].lastIndexOf(1)&&this.matrix.matrix.length-1!==t[0]&&(this.matrix.current[0]=this.nextRowFocusValidate(this.matrix.current[0]+1),this.matrix.current[1]=-1),e==="shiftTab"&&t[0]!==0&&this.matrix.matrix[t[0]].indexOf(1)===t[1]&&(this.matrix.current[0]=this.previousRowFocusValidate(this.matrix.current[0]-1),this.matrix.current[1]=this.matrix.matrix[t[0]].length);var s=!1,o=he(document.activeElement,"e-addedrow")&&this.parent.editSettings.showAddNewRow?he(document.activeElement,"e-addedrow"):document.activeElement.parentElement;if((this.parent.enableVirtualization||this.parent.infiniteScrollSettings.enableCache)&&!p(o)&&o.classList.contains(jn)){var a=parseInt(o.getAttribute(Ti),10)-1;s=a>0}var l={swap:s?!1:(e==="upArrow"||i)&&t[0]===0,toHeader:n};return l},r.prototype.getNextCurrent=function(e,t,i,n){e===void 0&&(e=[]);var s=[];return(n==="rightArrow"||n==="tab")&&(s[0]=e[0],s[1]=-1),(n==="downArrow"||n==="enter")&&(s[0]=-1,s[1]=e[1]),s},r.prototype.generateRows=function(e,t){var i,n=t.matrix,s=t.handlerInstance,o=s.matrix.matrix.length,a=this.parent.allowFiltering&&this.parent.filterSettings.type==="FilterBar"?o+1:o;s.matrix.matrix=s.matrix.matrix.slice(0,a),s.matrix.rows=a,(i=s.matrix.matrix).push.apply(i,n),s.matrix.rows+=n.length},r.prototype.getInfo=function(e){var t=this.getFocusInfo(),i=this.matrix.current,n=i[0],s=i[1],o=t.element.classList.contains(Gt),a=o||e&&e.action!=="enter"&&(t.element.classList.contains("e-detailrowcollapse")||t.element.classList.contains("e-detailrowexpand")),l=[Math.min(parseInt(t.element.parentElement.getAttribute(Ti),10)-1,n),Math.min(parseInt(t.element.getAttribute(Qi),10)-1,s)],h=l[0],u=l[1];return this.parent.allowGrouping&&this.parent.groupSettings.enableLazyLoading&&o&&(h=this.parent.getDataRows().indexOf(t.element.parentElement)),this.parent.enableVirtualization&&this.parent.groupSettings.columns.length&&(h=n,u=s),this.parent.editSettings.showAddNewRow&&this.parent.editSettings.newRowPosition==="Top"&&!this.parent.enableVirtualization&&!this.parent.enableInfiniteScrolling&&e&&e.action==="downArrow"&&h++,{isContent:!0,isDataCell:o,indexes:[h,u],isSelectable:a}},r.prototype.validator=function(){var e=this.getTable();return function(t,i,n){if(!p(e.rows[parseInt(t.toString(),10)])){var s=void 0;i=e.querySelector(".e-emptyrow")?0:i,e.rows[parseInt(t.toString(),10)].cells[0].classList.contains("e-editcell")?s=e.rows[parseInt(t.toString(),10)].cells[0].querySelectorAll("td")[parseInt(i.toString(),10)]:s=e.rows[parseInt(t.toString(),10)].cells[parseInt(i.toString(),10)];var o=s.getBoundingClientRect().width!==0;if(n==="enter"||n==="shiftEnter")return o&&s.classList.contains(Gt);if((n==="shiftUp"||n==="shiftDown")&&s.classList.contains(Gt))return o;if(n!=="shiftUp"&&n!=="shiftDown")return o}return!1}},r.prototype.shouldFocusChange=function(e){var t=this.matrix.current,i=t[0],n=i===void 0?-1:i,s=t[1],o=s===void 0?-1:s;if(n<0||o<0)return!0;var a=H(n+".cells."+o,this.getTable().rows);return a&&(e.action==="enter"||e.action==="shiftEnter")?a.classList.contains(Gt)&&!a.classList.contains("e-unboundcell")||a.classList.contains("e-editedbatchcell")&&!a.classList.contains("e-detailcell"):!0},r.prototype.getGridSeletion=function(){return this.parent.allowSelection&&this.parent.selectionSettings.allowColumnSelection},r}(),Yee=function(r){Vee(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getTable=function(){return this.parent.getHeaderTable()},e.prototype.onClick=function(t){this.focusType="click";var i=t.target;if(this.target=i,i=i.classList.contains("e-headercell")?i:xe(i,"th"),!i&&(this.parent.frozenRows!==0||this.parent.pinnedTopRecords.length!==0||(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&this.parent.editSettings.showAddNewRow)&&(i=t.target.classList.contains(Gt)?t.target:xe(t.target,"td")),t.target.classList.contains("e-columnheader")||t.target.querySelector(".e-stackedheadercell"))return!1;if(i){var n=i.parentElement.rowIndex;this.parent.editSettings.showAddNewRow&&he(i,"e-addedrow")&&(n=he(i,"e-addedrow").rowIndex);var s=[n,i.cellIndex],o=s[0],a=s[1],l=H(o+"."+a,this.matrix.matrix);if(this.matrix.inValid(l))return!1;this.matrix.select(n,i.cellIndex)}},e.prototype.getFocusInfo=function(){var t={},i=this.matrix.current,n=i[0],s=n===void 0?0:n,o=i[1],a=o===void 0?0:o,l=this.getTable().rows[parseInt(s.toString(),10)];return t.element=p(l)?null:this.parent.editSettings.showAddNewRow&&l.classList.contains("e-addedrow")?l.querySelectorAll("td:not(.e-editcell)")[parseInt(a.toString(),10)]:l.cells[parseInt(a.toString(),10)],p(t.element)||(t.elementToFocus=this.getFocusable(t.element),t.outline=!t.element.classList.contains("e-filterbarcell")),t},e.prototype.selector=function(t,i){return i.visible&&(i.column.field!==void 0||i.isTemplate||!p(i.column.template)||!p(i.column.commands)||i.column.type==="checkbox")||i.cellType===We.StackedHeader},e.prototype.jump=function(t,i){var n=this.parent.frozenRows!==0&&t==="enter",s,o;return this.parent.enableHeaderFocus&&t==="tab"&&(o=this.matrix.matrix.length-1===i[0],s=i[1]===this.matrix.matrix[i[0]].lastIndexOf(1),s&&(o?this.matrix.current[0]=0:this.matrix.current[0]=this.matrix.current[0]+1,this.matrix.current[1]=-1)),{swap:(t==="downArrow"||n)&&i[0]===this.matrix.matrix.length-1||t==="tab"&&o&&s}},e.prototype.getNextCurrent=function(t,i,n,s){t===void 0&&(t=[]);var o=[];return(s==="rightArrow"||s==="shiftRight"&&this.getGridSeletion()||s==="tab")&&(o[0]=t[0],o[1]=-1),(s==="upArrow"||s==="shiftEnter")&&(o[0]=this.matrix.matrix.length,o[1]=t[1]),o},e.prototype.generateRows=function(t){var i=this.matrix.matrix.length;if(this.parent.allowFiltering&&this.parent.filterSettings.type==="FilterBar"){this.matrix.rows=++this.matrix.rows;for(var n=t[0].cells,s=0,o=0;o<n.length;o++)n[parseInt(o.toString(),10)].column&&n[parseInt(o.toString(),10)].column.columns?s=this.checkFilterColumn(n[parseInt(o.toString(),10)].column.columns,i,s):(this.matrix.set(i,s,n[parseInt(o.toString(),10)].visible&&n[parseInt(o.toString(),10)].column.allowFiltering!==!1),s++)}},e.prototype.checkFilterColumn=function(t,i,n){for(var s=t,o=n,a=0;a<s.length;a++)s[parseInt(a.toString(),10)].columns?o=this.checkFilterColumn(s[parseInt(a.toString(),10)].columns,i,o):(this.matrix.set(i,o,s[parseInt(a.toString(),10)].visible&&s[parseInt(a.toString(),10)].allowFiltering!==!1),o++);return o},e.prototype.getInfo=function(t){return ie(r.prototype.getInfo.call(this,t),{isContent:!1,isHeader:!0})},e.prototype.validator=function(){return function(){return!0}},e.prototype.shouldFocusChange=function(t){var i=this.matrix.current,n=i[0],s=i[1];if(n<0||s<0)return!0;var o=H(n+".cells."+s,this.getTable().rows);return o&&(t.action==="enter"||t.action==="altDownArrow")?!o.classList.contains("e-headercell"):!0},e.prototype.getHeaderType=function(){return"HeaderFocus"},e}(iP),Wee=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ql=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},qee=function(r){Wee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Ql([I(12)],e.prototype,"pageSize",void 0),Ql([I(8)],e.prototype,"pageCount",void 0),Ql([I(1)],e.prototype,"currentPage",void 0),Ql([I()],e.prototype,"totalRecordsCount",void 0),Ql([I(!1)],e.prototype,"enableQueryString",void 0),Ql([I(!1)],e.prototype,"pageSizes",void 0),Ql([I(null)],e.prototype,"template",void 0),e}(Xe),Gee=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),_l=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},$ee=function(r){Gee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return _l([I("startsWith")],e.prototype,"operator",void 0),_l([I(!1)],e.prototype,"ignoreAccent",void 0),_l([I(null)],e.prototype,"headerTemplate",void 0),_l([I(null)],e.prototype,"template",void 0),_l([I(null)],e.prototype,"footerTemplate",void 0),_l([I(!0)],e.prototype,"enableSearching",void 0),_l([I(null)],e.prototype,"renderCustomColumnChooser",void 0),e}(Xe),Kee=function(){function r(e,t,i){this.selectedRowIndexes=[],this.selectedRowCellIndexes=[],this.selectedRecords=[],this.preventFocus=!1,this.selectedColumnsIndexes=[],this.checkBoxState=!1,this.isMultiShiftRequest=!1,this.isMultiCtrlRequest=!1,this.isMultiCtrlRequestCell=!1,this.enableSelectMultiTouch=!1,this.clearRowCheck=!1,this.selectRowCheck=!1,this.selectedRowState={},this.unSelectedRowState={},this.totalRecordsCount=0,this.chkAllCollec=[],this.isCheckedOnAdd=!1,this.persistSelectedData=[],this.virtualSelectedData=[],this.partialSelectedData=[],this.deSelectedData=[],this.partialSelectableRecordsCount=0,this.disableSelectableRecordsCount=0,this.persistSelectedRecordsCount=0,this.partialSelectedRecordsCount=0,this.isHdrSelectAllClicked=!1,this.needColumnSelection=!1,this.isCancelDeSelect=!1,this.isPreventCellSelect=!1,this.disableUI=!1,this.isPersisted=!1,this.cmdKeyPressed=!1,this.cellselected=!1,this.isMultiSelection=!1,this.isAddRowsToSelection=!1,this.initialRowSelection=!1,this.isPrevRowSelection=!1,this.isKeyAction=!1,this.isRowDragSelected=!1,this.isPartialSelection=!1,this.rmtHdrChkbxClicked=!1,this.isCheckboxReset=!1,this.isRowDeselect=!1,this.autoFillRLselection=!0,this.isFocusLastCell=!1,this.bottom="0 0 2px 0",this.top="2px 0 0 0",this.right_bottom="0 2px 2px 0",this.bottom_left="0 0 2px 2px",this.top_right="2px 2px 0 0",this.top_left="2px 0 0 2px",this.top_bottom="2px 0 2px 0",this.top_right_bottom="2px 2px 2px 0",this.top_bottom_left="2px 0 2px 2px",this.top_right_left="2px 2px 0 2px",this.right_bottom_left="0 2px 2px 2px",this.all_border="2px",this.parent=e,this.selectionSettings=t,this.factory=i.getService("rendererFactory"),this.focus=i.getService("focus"),this.addEventListener(),this.wireEvents()}return r.prototype.initializeSelection=function(){this.parent.log("selection_key_missing"),this.render()},r.prototype.onActionBegin=function(e,t){this.parent.trigger(t,this.fDataUpdate(e))},r.prototype.fDataUpdate=function(e){if(!this.isMultiSelection&&(!p(e.cellIndex)||!p(e.rowIndex))){var t=this.getRowObj(p(e.rowIndex)?p(e.cellIndex)?this.currentIndex:e.cellIndex.rowIndex:e.rowIndex);e.foreignKeyData=t.foreignKeyData}return e},r.prototype.onActionComplete=function(e,t){this.parent.trigger(t,this.fDataUpdate(e)),this.isMultiSelection=!1},r.prototype.getModuleName=function(){return"selection"},r.prototype.destroy=function(){var e=this.parent.element;!e||!e.querySelector("."+ds)&&!e.querySelector("."+aa)||(this.hidePopUp(),this.clearSelection(),this.parent.partialSelectedRecords=[],this.parent.partialSelectedIndexes=[],this.parent.disableSelectedRecords=[],this.parent.renderModule.selectableDataKey={},this.parent.renderModule.nonselectableDataKey={},this.destroyAutoFillElements(),this.removeEventListener(),this.unWireEvents(),F.remove(this.parent.getContent(),"mousedown",this.mouseDownHandler),F.remove(this.parent.getHeaderContent(),"mousedown",this.mouseDownHandler))},r.prototype.isEditing=function(){return(this.parent.editSettings.mode==="Normal"||this.parent.editSettings.mode==="Batch"&&this.parent.editModule&&this.parent.editModule.formObj&&!this.parent.editModule.formObj.validate())&&this.parent.isEdit&&!this.parent.editSettings.showAddNewRow&&!this.parent.isPersistSelection},r.prototype.getCurrentBatchRecordChanges=function(){var e=this.parent;if(e.editSettings.mode==="Batch"&&e.editModule){var t=yte(this.parent.getCurrentViewRecords());t=e.editSettings.newRowPosition==="Bottom"?t.concat(this.parent.editModule.getBatchChanges()[py]):this.parent.editModule.getBatchChanges()[py].concat(t);for(var i=this.parent.editModule.getBatchChanges()[Kj],n=this.parent.getPrimaryKeyFieldNames()[0],s=0;s<i.length;s++)for(var o=0;o<t.length;o++)if(i[parseInt(s.toString(),10)][""+n]===t[parseInt(o.toString(),10)][""+n]){t.splice(o,1);break}return t}else if(this.parent.enableVirtualization&&this.parent.groupSettings.columns.length&&!this.parent.isPersistSelection){var a=e.getCurrentViewRecords().filter(function(l){return l.key===void 0});return a}else return e.getCurrentViewRecords()},r.prototype.selectRow=function(e,t){if(this.selectedRowIndexes.length&&this.selectionSettings.enableSimpleMultiRowSelection){this.addRowsToSelection([e]);return}var i=this.parent,n=i.getRowByIndex(e),s=n&&i.getRowObjectFromUID(n.getAttribute("data-uid"));if(!(this.isPartialSelection&&s&&s.isDataRow&&!s.isSelectable)){if(this.parent.pinnedTopRecords.length&&n&&n.classList.contains("e-grid-pin-row")){if(this.parent.isCheckBoxSelection){this.selectedRowIndexes.indexOf(e)===-1&&this.addRowsToSelection([e]);return}this.selectedRowIndexes.indexOf(e)===-1?this.selectRows([e]):this.clearRowSelection();return}var o,a=!1;if(i.enableVirtualization&&e>-1){var l={selectedIndex:e,isAvailable:!0};if(this.parent.notify(MX,l),n&&i.getRowObjectFromUID(n.getAttribute("data-uid")))o=i.getRowObjectFromUID(n.getAttribute("data-uid")).data;else{if(l.isAvailable&&!i.selectionSettings.persistSelection){var h=this.parent.getSelectedRecords();h.length>0&&this.clearRowSelection()}return}}else o=this.getRowObj(e).data;if(!(!this.isRowType()||!n||this.isEditing())){var u=n.hasAttribute("aria-selected");if(this.activeTarget(),!t||!this.selectedRowIndexes.length)t=!1;else{var c=this.selectionSettings.checkboxMode==="ResetOnRowClick",d=!this.parent.isCheckBoxSelection&&this.selectionSettings.type==="Multiple";!c&&!d||this.selectedRowIndexes.length===1&&(c||d)?t=this.isKeyAction&&this.parent.isCheckBoxSelection?!1:this.selectedRowIndexes.indexOf(e)!==-1:t=!1}this.isKeyAction=!1;var f,g="cancel";if(!t)f={data:o,rowIndex:e,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,row:n,previousRow:i.getRowByIndex(this.prevRowIndex),previousRowIndex:this.prevRowIndex,target:this.actualTarget,cancel:!1,isInteracted:this.isInteracted,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked},this.parent.trigger(JM,this.fDataUpdate(f),this.rowSelectingCallBack(f,t,e,o,a,u,g));else{if(this.selectionSettings.checkboxMode!=="ResetOnRowClick"&&this.selectionSettings.persistSelection){if(this.rowDeselect(XM,[s.index],[s.data],[n],[s.foreignKeyData],this.actualTarget),this.isCancelDeSelect)return;this.parent.isCheckBoxSelection||(this.selectedRowIndexes=[],this.selectedRecords=[],this.isRowSelected=!1,this.selectRowIndex(-1)),this.rowDeselect(e0,[s.index],[s.data],[n],[s.foreignKeyData],this.actualTarget,void 0,void 0,void 0)}this.rowSelectingCallBack(f,t,e,o,a,u,g)(f)}}}},r.prototype.rowSelectingCallBack=function(e,t,i,n,s,o,a){var l=this;return function(h){if(!p(h)&&h[""+a]===!0){l.disableInteracted();return}l.index=i,l.toggle=t,l.data=n,l.removed=s,o&&l.selectionSettings.persistSelection&&l.selectionSettings.checkboxMode!=="ResetOnRowClick"?(l.clearSelectedRow(i),l.selectRowCallBack()):!o&&l.selectionSettings.persistSelection&&l.parent.isCheckBoxSelection&&l.selectionSettings.checkboxMode!=="ResetOnRowClick"&&l.selectRowCallBack(),l.selectionSettings.checkboxMode==="ResetOnRowClick"&&(l.isCheckboxReset=!0,l.clearSelection()),(!l.selectionSettings.persistSelection||l.selectionSettings.checkboxMode==="ResetOnRowClick"||!l.parent.isCheckBoxSelection&&l.selectionSettings.persistSelection)&&(l.selectRowCheck=!0,l.clearRow())}},r.prototype.selectRowCallBack=function(){var e=this.parent,t,i=this.index,n=this.toggle,s=this.data,o=this.removed,a=e.getRowByIndex(i);!n&&!o&&(this.selectedRowIndexes.indexOf(i)<=-1&&this.updateRowSelection(a,i),this.selectRowIndex(i)),n||(t={data:s,rowIndex:i,row:a,previousRow:e.getRowByIndex(this.prevRowIndex),previousRowIndex:this.prevRowIndex,target:this.actualTarget,isInteracted:this.isInteracted,isHeaderCheckBoxClicked:this.isHeaderCheckboxClicked,rowIndexes:i},this.onActionComplete(t,ZM)),this.isInteracted=!1,this.updateRowProps(i)},r.prototype.selectRowsByRange=function(e,t){this.selectRows(this.getCollectionFromIndexes(e,t)),this.selectRowIndex(t)},r.prototype.selectedDataUpdate=function(e,t,i,n,s){for(var o=0,a=n.length;o<a;o++){var l=this.parent.getDataRows()[n[parseInt(o.toString(),10)]];this.parent.enableVirtualization&&(l=this.parent.getRowByIndex(n[parseInt(o.toString(),10)]));var h=this.getRowObj(l);h&&h.isDataRow&&h.isSelectable?(e.push(h.data),i.push(l),t.push(h.foreignKeyData)):this.isPartialSelection&&s&&s.splice(s.indexOf(n[parseInt(o.toString(),10)]),1)}},r.prototype.selectRows=function(e){var t=this,i=this.parent,n=e.slice(),s=this.isSingleSel()?e[e.length-1]:e[0];this.isMultiSelection=!0;var o=[],a=[],l="cancel",h=[];if(!(!this.isRowType()||this.isEditing())){if(this.parent.pinnedTopRecords.length){var u=this.selectPinnedRowIndexes(e);e=u.concat(e),n=e.slice()}this.selectedDataUpdate(h,a,o,e,n),this.activeTarget();var c={cancel:!1,rowIndexes:n,row:o,rowIndex:s,target:this.actualTarget,prevRow:i.getRows()[this.prevRowIndex],previousRowIndex:this.prevRowIndex,isInteracted:this.isInteracted,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,data:h,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked,foreignKeyData:a};this.parent.trigger(JM,this.fDataUpdate(c),function(d){if(!p(d)&&d[""+l]===!0){t.disableInteracted();return}t.selectionSettings.persistSelection&&i.allowRowDragAndDrop&&t.isDragged||t.clearRow(),t.selectRowIndex(n.slice(-1)[0]);var f=function(C,T){t.updateRowSelection(i.getRowByIndex(C),C,T),t.updateRowProps(s)};if(t.isSingleSel())f(s);else for(var g=0,m=n;g<m.length;g++){var y=m[g];f(y,!!i.enableVirtualization)}if(t.checkVirtualCheckBox()&&!t.parent.isPersistSelection)if(n.length===t.totalRecordsCount)t.virtualSelectedData=t.virtualCheckBoxData().slice(),t.selectedRowIndexes=Object.keys(t.virtualSelectedData).map(function(C){return parseInt(C,10)}),t.setCheckAllState();else{var v=n.filter(function(C){return t.selectedRowIndexes.indexOf(C)===-1});if(v.length>0){for(var M=t.virtualCheckBoxData().slice(),S=0;S<v.length;S++){var b=M[v[S]];p(b)||(t.virtualSelectedData.push(b),t.selectedRowIndexes.push(v[S]))}t.setCheckAllState()}}d={rowIndexes:n,row:o,rowIndex:s,target:t.actualTarget,prevRow:i.getRows()[t.prevRowIndex],previousRowIndex:t.prevRowIndex,data:t.getSelectedRecords(),isInteracted:t.isInteracted,isHeaderCheckboxClicked:t.isHeaderCheckboxClicked,foreignKeyData:a},t.isRowSelected&&t.onActionComplete(d,ZM),t.isInteracted=!1})}},r.prototype.addRowsToSelection=function(e){var t=this.parent,i="cancel",n=this.target;this.isMultiSelection=!0;var s=[],o=[],a=[],l=t.getSelectedRowIndexes().concat(e),h=this.isSingleSel()?t.getRowByIndex(e[e.length-1]):t.getRowByIndex(e[0]),u=p(h.querySelector(".e-checkselect"))&&p(h.querySelector(".e-edit-checkselect"));if(!((!this.isRowType()||this.isEditing())&&u)){if(this.parent.pinnedTopRecords.length&&!p(h)&&h.classList.contains("e-grid-pin-row")){var c=this.selectPinnedRowIndexes(e);e=c.concat(e)}var d,f=this.parent.getColumns().filter(function(b){return b.type==="checkbox"});this.isMultiCtrlRequest&&!f.length&&this.selectedDataUpdate(a,o,s,l);for(var g=0,m=e;g<m.length;g++){var y=m[g],v=this.getRowObj(y),M=this.selectedRowIndexes.indexOf(y)>-1;if(!(this.isPartialSelection&&v&&v.isDataRow&&!v.isSelectable)){if(this.parent.pinnedTopRecords.length&&!p(h)&&h.classList.contains("e-grid-pin-row")){var S=this.parent.getRowByIndex(y);h=p(S)?h:S}if(this.selectRowIndex(y),M&&(f.length||this.selectionSettings.enableToggle||this.isMultiCtrlRequest)){if(this.isAddRowsToSelection=!0,this.rowDeselect(XM,[y],[v.data],[h],[v.foreignKeyData],n),this.isCancelDeSelect)return;this.checkVirtualCheckBox()&&!this.parent.isPersistSelection?this.virtualSelectedData.splice(this.virtualSelectedData.indexOf(v.data),1):!this.parent.isRemote()&&this.parent.isCheckBoxSelection&&this.isPartialSelection&&!this.parent.isPersistSelection&&this.partialSelectedData.splice(this.partialSelectedData.indexOf(v.data),1),this.selectedRowIndexes.splice(this.selectedRowIndexes.indexOf(y),1),this.selectedRecords.splice(this.selectedRecords.indexOf(h),1),this.selectRowIndex(this.selectedRowIndexes.length?this.selectedRowIndexes[this.selectedRowIndexes.length-1]:-1),h.removeAttribute("aria-selected"),this.addRemoveClassesForRow(h,!1,null,"e-selectionbackground","e-active"),this.rowDeselect(e0,[y],[v.data],[h],[v.foreignKeyData],n,void 0,void 0,void 0),this.isInteracted=!1,this.isMultiSelection=!1,this.isAddRowsToSelection=!1,this.isHdrSelectAllClicked=!1}else{if(this.activeTarget(),d={cancel:!1,data:a.length?a:v.data,rowIndex:y,row:s.length?s:h,target:this.actualTarget,prevRow:t.getRows()[this.prevRowIndex],previousRowIndex:this.prevRowIndex,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,foreignKeyData:o.length?o:v.foreignKeyData,isInteracted:this.isInteracted,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked,rowIndexes:l},this.parent.trigger(JM,this.fDataUpdate(d)),!p(d)&&d[""+i]===!0){this.disableInteracted();return}this.isSingleSel()&&this.clearRow(),this.updateRowSelection(h,y)}if(M||(d={data:a.length?a:v.data,rowIndex:y,row:s.length?s:h,target:this.actualTarget,prevRow:t.getRows()[this.prevRowIndex],previousRowIndex:this.prevRowIndex,foreignKeyData:o.length?o:v.foreignKeyData,isInteracted:this.isInteracted,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked,rowIndexes:l},this.onActionComplete(d,ZM)),this.isInteracted=!1,this.updateRowProps(y),this.isSingleSel())break}}}},r.prototype.selectPinnedRowIndexes=function(e){var t=[],i=this.parent.pinnedRowIndexes,n=this.parent.contentRowIndexes;return e.map(function(s){i[parseInt(s.toString(),10)]&&i[parseInt(s.toString(),10)].contentIndex!==null&&e.indexOf(i[parseInt(s.toString(),10)].contentIndex)===-1&&t.push(i[parseInt(s.toString(),10)].contentIndex),n[parseInt(s.toString(),10)]&&n[parseInt(s.toString(),10)].pinnedIndex!==null&&e.indexOf(n[parseInt(s.toString(),10)].pinnedIndex)===-1&&t.push(n[parseInt(s.toString(),10)].pinnedIndex)}),t},r.prototype.setPinnedSelectionIndexes=function(){this.parent.pinnedRowIndexes={},this.parent.contentRowIndexes={};for(var e=this.parent.getRowsObject().filter(function(u){return u.isDataRow}),t=this.parent.pinnedTopRowModels,i=this.parent.getPrimaryKeyFieldNames()[0],n=0;n<t.length;n++){var s=t[parseInt(n.toString(),10)].index,o=t[parseInt(n.toString(),10)].data[""+i],a=this.parent.getRowIndexByPrimaryKey(o);this.parent.pinnedRowIndexes[parseInt(s.toString(),10)]={pinnedIndex:s,contentIndex:a===-1?null:a}}for(var l=0;l<e.length;l++){var a=e[parseInt(l.toString(),10)].index,o=e[parseInt(l.toString(),10)].data[""+i],h=this.parent.getPinnedRowObjectByKey(o),s=h===null?null:h.index;this.parent.contentRowIndexes[parseInt(a.toString(),10)]={pinnedIndex:s,contentIndex:a}}},r.prototype.getCollectionFromIndexes=function(e,t){for(var i=[],n=e<=t?{i:e,max:t}:{i:t,max:e},s=n.i,o=n.max;s<=o;s++)i.push(s);return e>t&&i.reverse(),i},r.prototype.clearRow=function(){this.clearRowCheck=!0,this.clearRowSelection()},r.prototype.clearRowCallBack=function(){this.isCancelDeSelect&&this.parent.checkAllRows!=="Check"||(this.selectedRowIndexes=[],this.selectedRecords=[],this.selectRowIndex(-1),this.isSingleSel()&&this.parent.isPersistSelection&&(this.selectedRowState={}))},r.prototype.clearSelectedRow=function(e){if(this.toggle){var t=this.parent.getRowByIndex(e);this.disableUI||(t.removeAttribute("aria-selected"),this.addRemoveClassesForRow(t,!1,!0,"e-selectionbackground","e-active")),this.removed=!0,this.updatePersistCollection(t,!1),this.updateCheckBoxes(t),this.selectedRowIndexes.splice(this.selectedRowIndexes.indexOf(e),1),this.selectedRecords.splice(this.selectedRecords.indexOf(this.parent.getRowByIndex(e)),1)}},r.prototype.updateRowProps=function(e){this.prevRowIndex=e,this.isRowSelected=this.selectedRowIndexes.length&&!0},r.prototype.getPkValue=function(e,t){return e&&Tte(e)?It(e,t):t[""+e]},r.prototype.updatePersistCollection=function(e,t){var i=this;if((this.parent.isRemote()&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)||this.parent.isPersistSelection||this.parent.selectionSettings.persistSelection&&this.parent.getPrimaryKeyFieldNames().length>0)&&!p(e)){this.parent.isPersistSelection||this.ensureCheckboxFieldSelection();var n=this.getRowObj(e),s=n.data?this.getPkValue(this.primaryKey,n.data):null;if(s===null)return;n.isSelected=t,t&&!this.isPartialSelection||this.isPartialSelection&&n.isSelectable&&n.isSelected?(this.selectedRowState[""+s]=t,delete this.unSelectedRowState[""+s],this.persistSelectedData.some(function(o){return i.getPkValue(i.primaryKey,o)===s})||(this.persistSelectedData.push(n.data),this.persistSelectedRecordsCount+=1)):!this.parent.isPersistSelection&&!p(this.contentRenderer.requestType)?(this.persistSelectedData=[],this.selectedRowState={}):this.updatePersistDelete(s)}},r.prototype.updatePersistDelete=function(e,t){var i=this;delete this.selectedRowState[""+e],this.rmtHdrChkbxClicked&&(this.unSelectedRowState[""+e]=!0);var n,s=this.persistSelectedData.some(function(o,a){return n=a,i.getPkValue(i.primaryKey,o)===e});s&&(this.persistSelectedData.splice(n,1),this.persistSelectedRecordsCount-=1,t&&(this.parent.partialSelectedRecords.splice(n,1),this.parent.partialSelectedIndexes.splice(n,1),this.selectedRowIndexes.splice(n,1)))},r.prototype.updateCheckBoxes=function(e,t,i){if(!p(e)){var n=p(e.querySelector(".e-checkselect"))?e.querySelector(".e-edit-checkselect"):e.querySelector(".e-checkselect");p(n)||(Bg(n.nextElementSibling,t),dh(n,t),(p(this.checkedTarget)||!p(this.checkedTarget)&&!this.checkedTarget.classList.contains("e-checkselectall"))&&this.setCheckAllState(i))}},r.prototype.updateRowSelection=function(e,t,i){if(e&&(this.selectedRowIndexes.indexOf(t)===-1&&(this.checkVirtualCheckBox()&&!this.parent.isPersistSelection?this.virtualSelectedData.push(this.parent.getRowObjectFromUID(e.getAttribute("data-uid")).data):!this.parent.isRemote()&&this.parent.isCheckBoxSelection&&this.isPartialSelection&&!this.parent.isPersistSelection&&this.partialSelectedData.push(this.parent.getRowObjectFromUID(e.getAttribute("data-uid")).data),this.selectedRowIndexes.push(t),this.selectedRecords.push(e)),e.setAttribute("aria-selected","true"),this.updatePersistCollection(e,!0),this.updateCheckBoxes(e,!0),this.addRemoveClassesForRow(e,!0,null,"e-selectionbackground","e-active"),!this.preventFocus||this.parent.isFocusFirstCell||this.isFocusLastCell)){var n=this.focus.getPrevIndexes().cellIndex?e.cells[this.focus.getPrevIndexes().cellIndex]:e.querySelector(".e-selectionbackground:not(.e-hide, .e-detailrowcollapse, .e-detailrowexpand, .e-rowdragdrop)");if(this.parent.contextMenuModule&&this.mouseButton===2&&(n=this.parent.contextMenuModule.cell),this.parent.isFocusFirstCell||this.isFocusLastCell){this.parent.isFocusFirstCell=!1;var s=this.isFocusLastCell?"last-child":"first-child";n=e.querySelector(".e-selectionbackground.e-rowcell:not(.e-hide, .e-detailrowcollapse, .e-detailrowexpand, .e-rowdragdrop, .e-gridchkbox):"+s),this.isFocusLastCell=!1}if(!n||i)return;this.focus.onClick({target:n},!0,!(this.parent.contextMenuModule&&this.mouseButton===2))}},r.prototype.clearSelection=function(){if(this.checkSelectAllClicked=!0,this.selectionSettings.persistSelection&&this.persistSelectedData.length&&(this.deSelectedData=this.persistSelectedData.slice()),!this.parent.isPersistSelection||this.parent.isPersistSelection&&!this.parent.isEdit||!p(this.checkedTarget)&&this.checkedTarget.classList.contains("e-checkselectall")){var e=this.parent.element.querySelector(".e-gridpopup").querySelector("span");e.classList.contains("e-rowselect")&&e.classList.remove("e-spanclicked"),(this.parent.isPersistSelection||this.parent.isRemote())&&(this.persistSelectedData=[],this.selectedRowState={},this.selectedRowIndexes=[],this.persistSelectedRecordsCount=0),this.clearRowSelection(),this.clearCellSelection(),this.clearColumnSelection(),this.prevRowIndex=void 0,this.prevCIdxs=void 0,this.prevECIdxs=void 0,this.enableSelectMultiTouch=!1,this.selectionSettings.checkboxMode==="ResetOnRowClick"&&this.target&&he(this.target,"e-rowcell")||(this.isInteracted=!1),this.checkSelectAllClicked=!1,this.isHdrSelectAllClicked=!1}},r.prototype.clearRowSelection=function(){var e=this;if(this.isRowSelected){var t=this.parent.getDataRows(),i=[],n=[],s=[],o=[],a=this.target;this.isRowDeselect=!0;for(var l=0,h=this.selectedRowIndexes.length;l<h;l++){var u=void 0;this.parent.enableVirtualization||this.parent.enableInfiniteScrolling&&this.parent.infiniteScrollSettings.enableCache?u=this.parent.getRowByIndex(this.selectedRowIndexes[parseInt(l.toString(),10)]):u=this.parent.editSettings.mode==="Batch"?this.parent.getRows()[this.selectedRowIndexes[parseInt(l.toString(),10)]]:this.parent.getDataRows()[this.selectedRowIndexes[parseInt(l.toString(),10)]];var c=this.getRowObj(u);c&&(i.push(c.data),n.push(u),s.push(this.selectedRowIndexes[parseInt(l.toString(),10)]),o.push(c.foreignKeyData))}this.selectionSettings.persistSelection&&this.selectionSettings.checkboxMode!=="ResetOnRowClick"&&(this.isRowClicked=!!this.checkSelectAllClicked),this.rowDeselect(XM,s,i,n,o,a,null,function(){if(e.isCancelDeSelect&&(e.isRowClicked||e.checkSelectAllClicked||e.isInteracted&&!e.parent.isPersistSelection)){if(e.parent.isPersistSelection)if(e.getCheckAllStatus(e.parent.element.querySelector(".e-checkselectall"))==="Intermediate"||e.parent.isPersistSelection)for(var d=0;d<e.selectedRecords.length;d++)e.updatePersistCollection(e.selectedRecords[parseInt(d.toString(),10)],!0);else e.parent.checkAllRows="Check",e.updatePersistSelectedData(!0);e.clearRowCheck&&(e.clearRowCallBack(),e.clearRowCheck=!1,e.selectRowCheck&&(e.selectRowCallBack(),e.selectRowCheck=!1));return}for(var f=[].slice.call(t.filter(function(m){return m.hasAttribute("aria-selected")})),g=0;g<f.length;g++)e.disableUI||(f[parseInt(g.toString(),10)].removeAttribute("aria-selected"),e.addRemoveClassesForRow(f[parseInt(g.toString(),10)],!1,!0,"e-selectionbackground","e-active")),e.isPrevRowSelection||e.updatePersistCollection(f[parseInt(g.toString(),10)],!1),e.updateCheckBoxes(f[parseInt(g.toString(),10)]);(e.parent.enableVirtualization||e.parent.enableInfiniteScrolling&&e.parent.infiniteScrollSettings.enableCache)&&e.selectedRecords.length&&!f.length&&!e.parent.selectionSettings.persistSelection&&!e.disableUI&&!e.parent.isCheckBoxSelection&&e.addRemoveClassesForRow(null,!1,!0),e.virtualSelectedData=[],e.selectedRowIndexes=[],e.partialSelectedData=[],e.selectedRecords=[],e.partialSelectedRecordsCount=0,e.isRowSelected=!1,e.selectRowIndex(-1),e.isPrevRowSelection=!1,e.rowDeselect(e0,s,i,n,o,a,null,void 0,null),e.clearRowCheck&&(e.clearRowCallBack(),e.clearRowCheck=!1,e.selectRowCheck&&(e.selectRowCallBack(),e.selectRowCheck=!1))},null),this.isRowDeselect=!1}else this.clearRowCheck&&(this.clearRowCallBack(),this.clearRowCheck=!1,this.selectRowCheck&&(this.selectRowCallBack(),this.selectRowCheck=!1))},r.prototype.rowDeselect=function(e,t,i,n,s,o,a,l,h){var u=this;if(this.selectionSettings.persistSelection&&(this.isRowClicked||!this.isRowDeselect||this.checkSelectAllClicked||this.focus.activeKey&&this.focus.currentInfo.element.classList.contains("e-gridchkbox")&&this.focus.activeKey==="space")||!this.selectionSettings.persistSelection){var c="cancel",d=t.length===1&&this.deSelectedData.length===1,f={rowIndex:t[0],data:this.selectionSettings.persistSelection&&this.parent.checkAllRows==="Uncheck"&&!d&&this.selectionSettings.checkboxMode!=="ResetOnRowClick"?this.deSelectedData:i,foreignKeyData:s,cancel:!1,isInteracted:this.isInteracted,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked};e==="rowDeselected"&&delete f.cancel;var g="row",m="target",y="rowIndex",v="rowIndexes",M="data",S="foreignKeyData";f[""+g]=n,f[""+m]=this.actualTarget;var b=this.actualTarget&&!p(xe(this.actualTarget,"thead"));b||t.length>1?(f[""+y]=t[0],f[""+v]=t):t.length===1&&(f[""+M]=f[""+M][0],f[""+g]=f[""+g][0],f[""+S]=f[""+S][0],this.isAddRowsToSelection&&(f[""+v]=t)),this.parent.trigger(e,f,function(C){u.isCancelDeSelect=C[""+c],(!u.isCancelDeSelect||!u.isRowClicked&&!u.isInteracted&&!u.checkSelectAllClicked)&&(u.updatePersistCollection(n[0],!1),u.updateCheckBoxes(n[0],void 0,t[0])),l!==void 0&&l()})}else this.selectionSettings.persistSelection&&!this.isInteracted&&l!==void 0&&l()},r.prototype.getRowObj=function(e){return e===void 0&&(e=this.currentIndex),p(e)?{}:(typeof e=="number"&&(e=this.parent.getRowByIndex(e)),e?this.parent.getRowObjectFromUID(e.getAttribute("data-uid"))||{}:{})},r.prototype.selectCell=function(e,t){if(!(!this.isCellType()||this.isCellType()&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling&&this.parent.infiniteScrollSettings.enableCache))){var i=this.parent,n,s=i.getCellFromIndex(e.rowIndex,this.getColIndex(e.rowIndex,e.cellIndex));this.currentIndex=e.rowIndex;var o=this.getCurrentBatchRecordChanges()[this.currentIndex];if(!(!this.isCellType()||!s||this.isEditing())){var a=s.classList.contains("e-cellselectionbackground");if(t=t&&!Je(this.prevCIdxs)&&e.rowIndex===this.prevCIdxs.rowIndex&&e.cellIndex===this.prevCIdxs.cellIndex&&a,t)this.successCallBack(n,t,e,s,o)(n);else{n={data:o,cellIndex:e,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0,cancel:!1};var l="currentCell";n[""+l]=s;var h="previousRowCellIndex";n[""+h]=this.prevECIdxs,this.parent.trigger(Jc,this.fDataUpdate(n),this.successCallBack(n,t,e,s,o)),this.cellselected=!0}}}},r.prototype.successCallBack=function(e,t,i,n,s){var o=this;return function(a){var l="cancel",h="currentCell";if(!(!p(a)&&a[""+l]===!0)&&(t||(a[""+h]=a[""+h]?a[""+h]:n),o.clearCell(),t||o.updateCellSelection(n,i.rowIndex,i.cellIndex),!t)){var u={data:s,cellIndex:i,currentCell:n,selectedRowCellIndex:o.selectedRowCellIndexes,previousRowCell:o.prevECIdxs?o.getCellIndex(o.prevECIdxs.rowIndex,o.prevECIdxs.cellIndex):void 0},c="previousRowCellIndex";u[""+c]=o.prevECIdxs,o.updateCellProps(i,i),o.onActionComplete(u,Zf)}}},r.prototype.getCellIndex=function(e,t){return this.parent.getCellFromIndex(e,t)},r.prototype.selectCellsByRange=function(e,t){var i=this;if(this.isCellType()){var n=this.parent,s=this.parent.isSpan?wN(this.parent,e.rowIndex,e.cellIndex):n.getCellFromIndex(e.rowIndex,e.cellIndex),o,a,l=e,h=t=t||e,u;this.currentIndex=e.rowIndex;var c="cancel",d=this.getCurrentBatchRecordChanges()[this.currentIndex];if(!(this.isSingleSel()||!this.isCellType()||this.isEditing())){var f={data:d,cellIndex:e,currentCell:s,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0},g="previousRowCellIndex";f[""+g]=this.prevECIdxs,this.parent.trigger(Jc,this.fDataUpdate(f),function(m){if(!(!p(m)&&m[""+c]===!0)){if(i.clearCell(),e.rowIndex>t.rowIndex){var y=e;e=t,t=y}for(var v=e.rowIndex;v<=t.rowIndex;v++){i.selectionSettings.cellSelectionMode.indexOf("Box")<0?(o=v===e.rowIndex?e.cellIndex:0,a=v===t.rowIndex?t.cellIndex:i.getLastColIndex(v)):(o=e.cellIndex,a=t.cellIndex),u=[];for(var M=o<a?o:a,S=o>a?o:a;M<=S;M++)s=i.parent.isSpan?wN(n,v,M):n.getCellFromIndex(v,M),s&&(u.push(M),i.updateCellSelection(s),i.addAttribute(s));i.selectedRowCellIndexes.push({rowIndex:v,cellIndexes:u})}var b={data:d,cellIndex:h,currentCell:n.getCellFromIndex(h.rowIndex,h.cellIndex),selectedRowCellIndex:i.selectedRowCellIndexes,previousRowCell:i.prevECIdxs?i.getCellIndex(i.prevECIdxs.rowIndex,i.prevECIdxs.cellIndex):void 0},C="previousRowCellIndex";b[""+C]=i.prevECIdxs,i.isDragged||(i.onActionComplete(b,Zf),i.cellselected=!0),i.updateCellProps(l,h)}})}}},r.prototype.selectCells=function(e){if(this.isCellType()){var t=this.parent,i=t.getCellFromIndex(e[0].rowIndex,e[0].cellIndexes[0]);this.currentIndex=e[0].rowIndex;var n=this.getCurrentBatchRecordChanges()[this.currentIndex];if(!(this.isSingleSel()||!this.isCellType()||this.isEditing())){var s={data:n,cellIndex:e[0].cellIndexes[0],currentCell:i,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0},o="previousRowCellIndex";s[""+o]=this.prevECIdxs,this.onActionBegin(s,Jc);for(var a=0,l=e.length;a<l;a++)for(var h=0,u=e[parseInt(a.toString(),10)].cellIndexes.length;h<u;h++)i=t.getCellFromIndex(e[parseInt(a.toString(),10)].rowIndex,e[parseInt(a.toString(),10)].cellIndexes[parseInt(h.toString(),10)]),i&&(this.updateCellSelection(i),this.addAttribute(i),this.addRowCellIndex({rowIndex:e[parseInt(a.toString(),10)].rowIndex,cellIndex:e[parseInt(a.toString(),10)].cellIndexes[parseInt(h.toString(),10)]}));this.updateCellProps({rowIndex:e[0].rowIndex,cellIndex:e[0].cellIndexes[0]},{rowIndex:e[0].rowIndex,cellIndex:e[0].cellIndexes[0]});var c={data:n,cellIndex:e[0].cellIndexes[0],currentCell:i,selectedRowCellIndex:this.selectedRowCellIndexes,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0},d="previousRowCellIndex";c[""+d]=this.prevECIdxs,this.onActionComplete(c,Zf)}}},r.prototype.addCellsToSelection=function(e){if(!(!this.isCellType()||this.isCellType()&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling&&this.parent.infiniteScrollSettings.enableCache))){var t=this.parent,i,n;this.currentIndex=e[0].rowIndex;var s="cancel",o=this.getCurrentBatchRecordChanges()[this.currentIndex];if(!(this.isSingleSel()||!this.isCellType()||this.isEditing())){this.hideAutoFill();var a;a=t.getRowsObject()[e[0].rowIndex],t.groupSettings.columns.length>0&&(a=t.getRowObjectFromUID(this.target.parentElement.getAttribute("data-uid")));for(var l=[],h=0,u=e;h<u.length;h++){for(var c=u[h],d=0,f=this.selectedRowCellIndexes.length;d<f;d++)if(this.selectedRowCellIndexes[parseInt(d.toString(),10)].rowIndex===c.rowIndex){n=d;break}i=t.getCellFromIndex(c.rowIndex,this.getColIndex(c.rowIndex,c.cellIndex));var g=c.cellIndex;t.groupSettings.columns.length>0?l.push(a.cells[g+t.groupSettings.columns.length].foreignKeyData):l.push(a.cells[parseInt(g.toString(),10)].foreignKeyData);var m={cancel:!1,data:o,cellIndex:e[0],isShiftPressed:this.isMultiShiftRequest,currentCell:i,isCtrlPressed:this.isMultiCtrlRequest,previousRowCell:this.prevECIdxs?t.getCellFromIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0},y="previousRowCellIndex";m[""+y]=this.prevECIdxs;var v=n>-1;if(v){var M=this.selectedRowCellIndexes[parseInt(n.toString(),10)].cellIndexes;M.indexOf(c.cellIndex)>-1||this.selectionSettings.mode==="Both"&&i.classList.contains("e-gridchkbox")&&!i.getAttribute("aria-selected")?(this.cellDeselect(eN,[{rowIndex:c.rowIndex,cellIndexes:[c.cellIndex]}],o,[i],l),M.splice(M.indexOf(c.cellIndex),1),M.length===0&&this.selectedRowCellIndexes.splice(n,1),i.classList.remove("e-cellselectionbackground"),i.removeAttribute("aria-selected"),this.cellDeselect(tN,[{rowIndex:c.rowIndex,cellIndexes:[c.cellIndex]}],o,[i],l)):(v=!1,this.onActionBegin(m,Jc),this.addRowCellIndex({rowIndex:c.rowIndex,cellIndex:c.cellIndex}),this.updateCellSelection(i),this.addAttribute(i))}else{if(this.onActionBegin(m,Jc),!p(m)&&m[""+s]===!0)return;this.updateCellSelection(i,c.rowIndex,c.cellIndex)}if(!v){var S={data:o,cellIndex:e[0],currentCell:i,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0,selectedRowCellIndex:this.selectedRowCellIndexes};S[""+y]=this.prevECIdxs,this.onActionComplete(S,Zf),this.cellselected=!0}this.updateCellProps(c,c)}}}},r.prototype.getColIndex=function(e,t){var i=this.parent.getColumnByIndex(t),n=mP(this.parent,i,e);if(n)for(var s=0;s<n.length;s++){var o=parseInt(n[parseInt(s.toString(),10)].getAttribute(Qi),10)-1;if(o===t)return s}return-1},r.prototype.getLastColIndex=function(e){var t=this.parent.getDataRows()[parseInt(e.toString(),10)].querySelectorAll("td.e-rowcell");return parseInt(t[t.length-1].getAttribute(Qi),10)-1},r.prototype.clearCell=function(){this.clearCellSelection()},r.prototype.cellDeselect=function(e,t,i,n,s){var o="cancel";if(n&&n.length>0)for(var a=0,l=n;a<l.length;a++){var h=l[a];h&&h.classList.contains(Wu)&&this.updateCheckBoxes(xe(h,"tr"))}var u={cells:n,data:i,cellIndexes:t,foreignKeyData:s,cancel:!1};this.parent.trigger(e,u),this.isPreventCellSelect=u[""+o]},r.prototype.updateCellSelection=function(e,t,i){p(t)||this.addRowCellIndex({rowIndex:t,cellIndex:i}),e.classList.add("e-cellselectionbackground"),e.classList.contains(Wu)&&this.updateCheckBoxes(xe(e,"tr"),!0),this.addAttribute(e)},r.prototype.addAttribute=function(e){this.target=e,p(e)||(e.setAttribute("aria-selected","true"),this.preventFocus||this.focus.onClick({target:e},!0,!0))},r.prototype.updateCellProps=function(e,t){this.prevCIdxs=e,this.prevECIdxs=t,this.isCellSelected=this.selectedRowCellIndexes.length&&!0},r.prototype.addRowCellIndex=function(e){for(var t,i,n=0,s=this.selectedRowCellIndexes.length;n<s;n++)if(this.selectedRowCellIndexes[parseInt(n.toString(),10)].rowIndex===e.rowIndex){t=!0,i=n;break}t?this.selectedRowCellIndexes[parseInt(i.toString(),10)].cellIndexes.indexOf(e.cellIndex)<0&&this.selectedRowCellIndexes[parseInt(i.toString(),10)].cellIndexes.push(e.cellIndex):this.selectedRowCellIndexes.push({rowIndex:e.rowIndex,cellIndexes:[e.cellIndex]})},r.prototype.clearCellSelection=function(){if(this.isCellSelected){var e=this.parent,t=this.getSelectedCellsElement(),i=this.selectedRowCellIndexes,n=[],s=[],o=[],a=this.getCurrentBatchRecordChanges();this.hideAutoFill();for(var l=0,h=i.length;l<h;l++){n.push(a[i[parseInt(l.toString(),10)].rowIndex]);for(var u=this.getRowObj(i[parseInt(l.toString(),10)].rowIndex),c=0,d=i[parseInt(l.toString(),10)].cellIndexes.length;c<d;c++)u.cells&&o.push(u.cells[i[parseInt(l.toString(),10)].cellIndexes[parseInt(c.toString(),10)]].foreignKeyData),s.push(e.getCellFromIndex(i[parseInt(l.toString(),10)].rowIndex,i[parseInt(l.toString(),10)].cellIndexes[parseInt(c.toString(),10)]))}if(this.cellDeselect(eN,i,n,s,o),this.isPreventCellSelect===!0)return;for(var l=0,h=t.length;l<h;l++)t[parseInt(l.toString(),10)].classList.remove("e-cellselectionbackground"),t[parseInt(l.toString(),10)].removeAttribute("aria-selected");this.bdrElement&&this.showHideBorders("none"),this.selectedRowCellIndexes=[],this.isCellSelected=!1,!this.isDragged&&this.cellselected&&this.cellDeselect(tN,i,n,s,o)}},r.prototype.getSelectedCellsElement=function(){for(var e=this.parent,t=e.getDataRows(),i=[],n=0,s=t.length;n<s;n++)i=i.concat([].slice.call(t[parseInt(n.toString(),10)].getElementsByClassName("e-cellselectionbackground")));return i},r.prototype.mouseMoveHandler=function(e){e.preventDefault(),this.stopTimer();var t=this.parent.element.getBoundingClientRect(),i=this.x,n=this.y,s=LC(e),o=s.x-t.left,a=s.y-t.top,l,h=xe(e.target,"tr");if(this.isDragged=!0,this.isCellDrag||(h||(h=xe(document.elementFromPoint(this.parent.element.offsetLeft+2,e.clientY),"tr")),i>o&&(l=o,o=i,i=l),n>a&&(l=a,a=n,n=l),this.element.style.left=i+"px",this.element.style.top=n+"px",this.element.style.width=o-i+"px",this.element.style.height=a-n+"px"),h&&!e.ctrlKey&&!e.shiftKey){var u=parseInt(h.getAttribute(Ti),10)-1;if(!this.isCellDrag)this.hideAutoFill(),this.selectRowsByRange(this.startDIndex,u),this.isRowDragSelected=!0;else{var c=he(e.target,Gt);c&&(this.startAFCell=this.startCell,this.endAFCell=he(e.target,Gt),u>-1&&this.selectLikeExcel(e,u,parseInt(c.getAttribute(Qi),10)-1))}}!e.ctrlKey&&!e.shiftKey&&!this.parent.enableVirtualization&&!this.parent.enableInfiniteScrolling&&!this.parent.enableColumnVirtualization&&!this.parent.groupSettings.columns.length&&this.isCellDrag&&this.updateScrollPosition(e,s,this.parent.getContent())},r.prototype.updateScrollPosition=function(e,t,i){var n=this,s=i.getBoundingClientRect();s.left>=t.x-20-(this.parent.enableRtl&&this.parent.height!=="auto"?Rr():0)?this.timer1=window.setInterval(function(){n.setScrollPosition(i.firstElementChild,n.parent.enableRtl?"right":"left",e)},200):s.left+i.clientWidth-20-(!this.parent.enableRtl&&this.parent.height!=="auto"?Rr():0)<t.x&&(this.timer1=window.setInterval(function(){n.setScrollPosition(i.firstElementChild,n.parent.enableRtl?"left":"right",e)},200)),s.top>=t.y-this.parent.getRowHeight()*.5?this.timer2=window.setInterval(function(){n.setScrollPosition(i.firstElementChild,"up",e)},200):s.top+i.clientHeight-this.parent.getRowHeight()*.5-(i.firstElementChild.scrollWidth>i.firstElementChild.offsetWidth?Rr():0)<=t.y&&(this.timer2=window.setInterval(function(){n.setScrollPosition(i.firstElementChild,"down",e)},200))},r.prototype.stopTimer=function(){this.timer1&&(window.clearInterval(this.timer1),this.timer1=null),this.timer2&&(window.clearInterval(this.timer2),this.timer2=null),this.preventFocus=!1},r.prototype.setScrollPosition=function(e,t,i){var n=-1,s=-1;switch((this.endAFCell||this.prevECIdxs)&&(n=this.endAFCell?parseInt(this.endAFCell.getAttribute("data-index"),10):this.prevECIdxs.rowIndex,s=this.endAFCell?parseInt(this.endAFCell.getAttribute("aria-colindex"),10)-1:this.prevECIdxs.cellIndex),t){case"up":if(i&&xe(i.target,".e-headercontent"))return;this.isAutoFillSel&&this.startAFCell&&this.selectedRowCellIndexes.length&&(this.selectedRowCellIndexes.length===1&&this.startAFCell!==this.startCell||this.selectedRowCellIndexes.length>1&&this.startAFCell.getBoundingClientRect().top>0)&&(n=parseInt(this.startAFCell.getAttribute("data-index"),10)),n-=1,(this.parent.frozenRows||this.parent.pinnedTopRecords.length)&&(n+=(this.parent.frozenRows||this.parent.pinnedTopRecords.length)+1),n<1?e.scrollTop=0:e.scrollTop-=this.parent.getRowByIndex(n).offsetHeight;break;case"down":this.isAutoFillSel&&this.startAFCell&&this.startAFCell!==this.startCell&&(n=parseInt(this.startAFCell.getAttribute("data-index"),10)),n<this.parent.getRows().length-1?(n+=1,this.isAutoFillSel&&this.startAFCell&&this.startAFCell!==this.startCell&&(this.startAFCell=this.parent.getCellFromIndex(n,this.selectedRowCellIndexes[0].cellIndexes[0])),e.scrollTop+=this.parent.getRowByIndex(n).offsetHeight):e.scrollTop=e.scrollHeight;break;case"left":if(s>0&&n>-1){this.isAutoFillSel&&this.startAFCell&&this.selectedRowCellIndexes.length&&(this.selectedRowCellIndexes[0].cellIndexes.length>0&&this.startAFCell!==this.startCell||this.selectedRowCellIndexes[0].cellIndexes.length>1&&(!this.parent.enableRtl&&this.startAFCell.getBoundingClientRect().left>0||this.parent.enableRtl&&this.startAFCell.getBoundingClientRect().left<this.parent.element.offsetWidth))&&(s=parseInt(this.startAFCell.getAttribute("aria-colindex"),10)-1);var o=this.findNextCell(e,t,s,n);s=o?parseInt(o.getAttribute("aria-colindex"),10)-1:-1,this.parent.enableRtl&&o?s<1?e.scrollLeft=e.scrollWidth:e.scrollLeft+=o.offsetWidth:o&&(s<1?e.scrollLeft=0:e.scrollLeft-=o.offsetWidth)}break;case"right":this.isAutoFillSel&&this.startAFCell&&this.startAFCell!==this.startCell&&(s=parseInt(this.startAFCell.getAttribute("aria-colindex"),10)-1);var a=this.parent.getCellFromIndex(n,s),l=this.findNextCell(e,t,s,n);l&&this.isAutoFillSel&&this.startAFCell&&this.startAFCell!==this.startCell&&(this.startAFCell=this.parent.getCellFromIndex(this.selectedRowCellIndexes[0].rowIndex,parseInt(l.getAttribute("aria-colindex"),10)-1)),s=l?parseInt(l.getAttribute("aria-colindex"),10)-1:-1,this.parent.enableRtl&&l?s<this.parent.columns.length-1?e.scrollLeft-=a.offsetWidth:e.scrollLeft=-e.scrollWidth:l&&(s<this.parent.columns.length-1?e.scrollLeft+=a.offsetWidth:e.scrollLeft=e.scrollWidth),this.isAutoFillSel&&(s===this.parent.columns.length-1||s===-1)&&this.startAFCell&&this.endAFCell&&(this.positionAFBorders(),e.scrollLeft=this.parent.enableRtl?-e.scrollWidth:e.scrollWidth);break}if(n>-1&&n<this.parent.getRows().length&&s>-1){var h={target:this.parent.getCellFromIndex(n,s)};if(this.isAutoFillSel&&h.target.classList.contains("e-cellselectionbackground")&&(t==="down"&&parseInt(h.target.getAttribute("data-index"),10)===this.parent.getRows().length-1||t==="right"&&parseInt(h.target.getAttribute("aria-colindex"),10)-1===this.parent.columns.length-1))return;this.endAFCell=h.target,this.preventFocus=!0,this.selectLikeExcel(h,n,s)}},r.prototype.findNextCell=function(e,t,i,n){var s=this.parent.getCellFromIndex(n,t==="left"?i-1:i+1);if(s&&s.classList.contains("e-hide")){var o=s.closest("tr").querySelectorAll(".e-rowcell:not(.e-hide)"),a=Array.from(o).indexOf(s.nextElementSibling);return a>0&&a<o.length-1?(s=o[a+(t==="left"?-1:1)],s):(e.scrollLeft=0,null)}return s},r.prototype.selectLikeExcel=function(e,t,i){this.isAutoFillSel?(this.showAFBorders(),this.selectLikeAutoFill(e)):(this.clearCellSelection(),this.selectCellsByRange({rowIndex:this.startDIndex,cellIndex:this.startDCellIndex},{rowIndex:t,cellIndex:i}),this.drawBorders())},r.prototype.setFrozenBorders=function(e,t,i){var n=t.style.borderWidth.toString().split(" "),s=["","e-leftfreeze","e-unfreeze","e-leftfreeze","e-unfreeze","e-rightfreeze","e-rightfreeze"],o=[].slice.call(e.querySelectorAll(".e-cellselectionbackground."+s[""+i])).filter(function(M){return M.style.display===""}),a=[].slice.call(e.querySelectorAll(".e-cellselectionbackground.e-fixedfreeze")).filter(function(M){return M.style.display===""}),l=this.parent.enableRtl;if(o.length)for(var h=o[0].getAttribute("data-index"),u=o[0].getAttribute("aria-colindex"),c=o[o.length-1].getAttribute("data-index"),d=o[o.length-1].getAttribute("aria-colindex"),f=0;f<o.length;f++)o[parseInt(f.toString(),10)].getAttribute("data-index")===h&&(n.length===1||n.length===3&&parseInt(n[0],10)===2||n.length===4&&parseInt(n[0],10)===2)&&o[parseInt(f.toString(),10)].classList.add("e-xlsel-top-border"),o[parseInt(f.toString(),10)].getAttribute("aria-colindex")===u&&(n.length===1||n.length===3&&parseInt(n[1],10)===2||n.length===4&&(!l&&parseInt(n[3],10)===2||l&&parseInt(n[1],10)===2))&&o[parseInt(f.toString(),10)].classList.add(l?"e-xlsel-right-border":"e-xlsel-left-border"),o[parseInt(f.toString(),10)].getAttribute("data-index")===c&&(n.length===1||n.length===3&&parseInt(n[2],10)===2||n.length===4&&parseInt(n[2],10)===2)&&o[parseInt(f.toString(),10)].classList.add("e-xlsel-bottom-border"),o[parseInt(f.toString(),10)].getAttribute("aria-colindex")===d&&(n.length===1||n.length===3&&parseInt(n[1],10)===2||n.length===4&&!l&&parseInt(n[1],10)===2||l&&parseInt(n[3],10)===2)&&o[parseInt(f.toString(),10)].classList.add(l?"e-xlsel-left-border":"e-xlsel-right-border");if(a.length)for(var h=a[0].getAttribute("data-index"),u=(parseInt(a[0].getAttribute("aria-colindex"),10)-1).toString(),c=a[a.length-1].getAttribute("data-index"),d=(parseInt(a[a.length-1].getAttribute("aria-colindex"),10)-1).toString(),f=0;f<a.length;f++){var g=a[parseInt(f.toString(),10)].getAttribute("data-index"),m=(parseInt(a[parseInt(f.toString(),10)].getAttribute("aria-colindex"),10)-1).toString();g===h&&(!this.parent.getHeaderContent().querySelector(".e-cellselectionbackground.e-fixedfreeze")&&he(e,"e-content")||!he(e,"e-content"))&&a[parseInt(f.toString(),10)].classList.add("e-xlsel-top-border"),g===c&&(!this.parent.getContent().querySelector(".e-cellselectionbackground.e-fixedfreeze")&&he(e,"e-headercontent")||!he(e,"e-headercontent"))&&a[parseInt(f.toString(),10)].classList.add("e-xlsel-bottom-border");var y=a[parseInt(f.toString(),10)].parentElement.children[parseInt(m,10)-1];m===u&&(!y||y&&!y.classList.contains("e-cellselectionbackground"))&&a[parseInt(f.toString(),10)].classList.add(l?"e-xlsel-right-border":"e-xlsel-left-border");var v=a[parseInt(f.toString(),10)].parentElement.children[parseInt(m,10)+1];m===d&&(!v||v&&!v.classList.contains("e-cellselectionbackground"))&&a[parseInt(f.toString(),10)].classList.add(l?"e-xlsel-left-border":"e-xlsel-right-border")}},r.prototype.refreshFrozenBorders=function(){this.bdrElement&&(this.setFrozenBorders(this.parent.getContentTable(),this.bdrElement,"1"),this.parent.isFrozenGrid()&&this.parent.getFrozenMode()===vs&&this.setFrozenBorders(this.parent.getContentTable(),this.frcBdrElement,"5"),(this.parent.frozenRows||this.parent.pinnedTopRecords.length)&&(this.setFrozenBorders(this.parent.getHeaderTable(),this.fhBdrElement,"3"),this.parent.isFrozenGrid()&&this.parent.getFrozenMode()===vs&&this.setFrozenBorders(this.parent.getHeaderTable(),this.frhBdrElement,"6")))},r.prototype.drawBorders=function(){this.selectionSettings.cellSelectionMode==="BoxWithBorder"&&this.selectedRowCellIndexes.length&&!this.parent.isEdit?(this.parent.element.classList.add("e-enabledboxbdr"),this.bdrElement||this.createBorders(),this.positionBorders(),this.parent.isFrozenGrid()&&(this.showHideBorders("none",!0),this.refreshFrozenBorders())):this.showHideBorders("none")},r.prototype.isLastCell=function(e){var t=[].slice.call(e.parentElement.querySelectorAll(".e-rowcell:not(.e-hide)"));return t[t.length-1]===e},r.prototype.isLastRow=function(e){var t=[].slice.call(xe(e,$t).querySelectorAll(".e-row:not(.e-hiddenrow)"));return e.parentElement===t[t.length-1]},r.prototype.isFirstRow=function(e){var t=[].slice.call(xe(e,$t).querySelectorAll(".e-row:not(.e-hiddenrow)"));return e.parentElement===t[0]},r.prototype.isFirstCell=function(e){var t=[].slice.call(e.parentElement.querySelectorAll(".e-rowcell:not(.e-hide)"));return t[0]===e},r.prototype.setBorders=function(e,t,i){var n=[].slice.call(e.getElementsByClassName("e-cellselectionbackground")).filter(function(y){return y.style.display===""});if(n.length&&this.parent.isFrozenGrid()){var s=["","e-leftfreeze","e-unfreeze","e-leftfreeze","e-unfreeze","e-rightfreeze","e-rightfreeze"];n=[].slice.call(e.querySelectorAll(".e-cellselectionbackground."+s[""+i]+":not(.e-hide)")).filter(function(y){return y.style.display===""})}if(n.length){var o=this.parent.isFrozenGrid(),a=n[0],l=n[n.length-1],h=a.getBoundingClientRect(),u=l.getBoundingClientRect();if(!p(a.offsetParent)){var c=a.offsetParent.getBoundingClientRect();(a.offsetParent.classList.contains("e-content")||a.offsetParent.classList.contains("e-headercontent"))&&(c=a.offsetParent.querySelector("table").getBoundingClientRect());var d=!o&&this.isLastRow(l)&&(i==="1"||i==="2"||i==="5")?2:0,f=0,g=o&&(i==="2"||i==="4")&&this.isFirstCell(a)?1:0,m=(this.parent.getFrozenMode()==="Right"&&(i==="1"||i==="3")||this.parent.getFrozenMode()===vs&&(i==="5"||i==="6"))&&this.isFirstCell(a)?1:0;this.parent.enableRtl?(t.style.right=c.right-h.right-g+"px",t.style.width=h.right-u.left+g+1+"px"):(t.style.left=h.left-c.left-g-m+"px",t.style.width=u.right-h.left+g-m+1+"px"),t.style.top=h.top-c.top-f+"px",t.style.height=u.top-h.top>0?u.top-c.top+u.height+(o?0:1)-(h.top-c.top)-d+f+"px":u.height+f-d+(o?0:1)+"px",this.selectDirection+=i}}else t.style.display="none"},r.prototype.positionBorders=function(){this.updateStartEndCells(),!(!this.startCell||!this.bdrElement||!this.selectedRowCellIndexes.length)&&(this.selectDirection="",this.showHideBorders(""),this.setBorders(this.parent.getContentTable(),this.bdrElement,"1"),this.parent.isFrozenGrid()&&(this.setBorders(this.parent.getContentTable(),this.mcBdrElement,"2"),this.parent.getFrozenMode()===vs&&this.setBorders(this.parent.getContentTable(),this.frcBdrElement,"5")),(this.parent.frozenRows||this.parent.pinnedTopRecords.length)&&(this.setBorders(this.parent.getHeaderTable(),this.fhBdrElement,"3"),this.parent.isFrozenGrid()&&(this.setBorders(this.parent.getHeaderTable(),this.mhBdrElement,"4"),this.parent.getFrozenMode()===vs&&this.setBorders(this.parent.getHeaderTable(),this.frhBdrElement,"6"))),this.applyBorders(this.selectDirection))},r.prototype.applyBothFrozenBorders=function(e){var t=this.parent.enableRtl;switch(e.length){case 6:this.bdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.mcBdrElement.style.borderWidth=this.bottom,this.fhBdrElement.style.borderWidth=t?this.top_right:this.top_left,this.mhBdrElement.style.borderWidth=this.top,this.frcBdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom,this.frhBdrElement.style.borderWidth=t?this.top_left:this.top_right;break;case 4:e.includes("1")&&e.includes("2")&&e.includes("3")&&e.includes("4")&&(this.fhBdrElement.style.borderWidth=t?this.top_right:this.top_left,this.mhBdrElement.style.borderWidth=t?this.top_left:this.top_right,this.bdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.mcBdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom),e.includes("2")&&e.includes("4")&&e.includes("5")&&e.includes("6")&&(this.mcBdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.mhBdrElement.style.borderWidth=t?this.top_right:this.top_left,this.frcBdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom,this.frhBdrElement.style.borderWidth=t?this.top_left:this.top_right);break;case 3:this.bdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.mcBdrElement.style.borderWidth=this.top_bottom,this.frcBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,(this.parent.frozenRows||this.parent.pinnedTopRecords.length)&&(this.fhBdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.mhBdrElement.style.borderWidth=this.top_bottom,this.frcBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom);break;case 2:e.includes("1")&&(this.mcBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,(this.parent.frozenRows||this.parent.pinnedTopRecords.length)&&(this.fhBdrElement.style.borderWidth=this.top_right_left)),e.includes("2")&&(this.bdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.frcBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,(this.parent.frozenRows||this.parent.pinnedTopRecords.length)&&(this.mhBdrElement.style.borderWidth=this.top_right_left)),e.includes("3")&&(this.mhBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,this.bdrElement.style.borderWidth=this.right_bottom_left),e.includes("4")&&(this.fhBdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.frhBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,this.mcBdrElement.style.borderWidth=this.right_bottom_left),e.includes("5")&&(this.mcBdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,(this.parent.frozenRows||this.parent.pinnedTopRecords.length)&&(this.frhBdrElement.style.borderWidth=this.top_right_left)),e.includes("6")&&(this.mhBdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.frcBdrElement.style.borderWidth=this.right_bottom_left);break;default:this.bdrElement.style.borderWidth=this.all_border,this.mcBdrElement.style.borderWidth=this.all_border,this.frcBdrElement.style.borderWidth=this.all_border,(this.parent.frozenRows||this.parent.pinnedTopRecords.length)&&(this.fhBdrElement.style.borderWidth=this.all_border,this.mhBdrElement.style.borderWidth=this.all_border,this.frhBdrElement.style.borderWidth=this.all_border);break}},r.prototype.applyBorders=function(e){var t=this.parent.enableRtl;if(this.parent.getFrozenMode()===vs)this.applyBothFrozenBorders(e);else switch(e.length){case 4:this.parent.getFrozenMode()==="Right"?(this.bdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom,this.mcBdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.fhBdrElement.style.borderWidth=t?this.top_left:this.top_right,this.mhBdrElement.style.borderWidth=t?this.top_right:this.top_left):(this.bdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.mcBdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom,this.fhBdrElement.style.borderWidth=t?this.top_right:this.top_left,this.mhBdrElement.style.borderWidth=t?this.top_left:this.top_right);break;case 2:this.parent.getFrozenMode()==="Right"?(this.bdrElement.style.borderWidth=e.includes("2")?t?this.top_bottom_left:this.top_right_bottom:this.right_bottom_left,this.mcBdrElement.style.borderWidth=e.includes("1")?t?this.top_right_bottom:this.top_bottom_left:this.right_bottom_left,(this.parent.frozenRows||this.parent.pinnedTopRecords.length)&&(this.fhBdrElement.style.borderWidth=e.includes("1")?this.top_right_left:t?this.top_bottom_left:this.top_right_bottom,this.mhBdrElement.style.borderWidth=e.includes("2")?this.top_right_left:t?this.top_right_bottom:this.top_bottom_left)):(this.bdrElement.style.borderWidth=e.includes("2")?t?this.top_right_bottom:this.top_bottom_left:this.right_bottom_left,this.parent.isFrozenGrid()&&(this.mcBdrElement.style.borderWidth=e.includes("1")?t?this.top_bottom_left:this.top_right_bottom:this.right_bottom_left),(this.parent.frozenRows||this.parent.pinnedTopRecords.length)&&(this.fhBdrElement.style.borderWidth=e.includes("1")?this.top_right_left:t?this.top_right_bottom:this.top_bottom_left,this.parent.isFrozenGrid()&&(this.mhBdrElement.style.borderWidth=e.includes("2")?this.top_right_left:t?this.top_bottom_left:this.top_right_bottom)));break;default:this.bdrElement.style.borderWidth=this.all_border,this.parent.isFrozenGrid()&&(this.mcBdrElement.style.borderWidth=this.all_border),(this.parent.frozenRows||this.parent.pinnedTopRecords.length)&&(this.fhBdrElement.style.borderWidth=this.all_border,this.parent.isFrozenGrid()&&(this.mhBdrElement.style.borderWidth=this.all_border));break}},r.prototype.createBorders=function(){if(!this.bdrElement){var e=Be("div",{className:"e-xlsel",id:this.parent.element.id+"_bdr"});if(e.style.cssText="width: 2px; border-width: 0;",this.bdrElement=this.parent.getContentTable().parentElement.appendChild(e),this.parent.isFrozenGrid()){var t=Be("div",{className:"e-xlsel",id:this.parent.element.id+"_mcbdr"});if(t.style.cssText="height: 2px; border-width: 0;",this.mcBdrElement=this.parent.getContentTable().parentElement.appendChild(t),this.parent.getFrozenMode()===vs){var i=Be("div",{className:"e-xlsel",id:this.parent.element.id+"_frcbdr"});i.style.cssText="height: 2px; border-width: 0;",this.frcBdrElement=this.parent.getContentTable().parentElement.appendChild(i)}}if(this.parent.frozenRows||this.parent.pinnedTopRecords.length){var n=Be("div",{className:"e-xlsel",id:this.parent.element.id+"_fhbdr"});n.style.height="2px",this.fhBdrElement=this.parent.getHeaderTable().parentElement.appendChild(n)}if((this.parent.frozenRows||this.parent.pinnedTopRecords.length)&&this.parent.isFrozenGrid()){var s=Be("div",{className:"e-xlsel",id:this.parent.element.id+"_mhbdr"});if(s.style.height="2px",this.mhBdrElement=this.parent.getHeaderTable().parentElement.appendChild(s),this.parent.getFrozenMode()===vs){var o=Be("div",{className:"e-xlsel",id:this.parent.element.id+"_frhbdr"});o.style.height="2px",this.frhBdrElement=this.parent.getHeaderTable().parentElement.appendChild(o)}}}},r.prototype.showHideBorders=function(e,t){if(this.bdrElement){if(this.bdrElement.style.display=e,this.parent.isFrozenGrid()){var i=this.parent.getContentTable();ue(i.querySelectorAll(".e-xlsel-top-border"),"e-xlsel-top-border"),ue(i.querySelectorAll(".e-xlsel-left-border"),"e-xlsel-left-border"),ue(i.querySelectorAll(".e-xlsel-right-border"),"e-xlsel-right-border"),ue(i.querySelectorAll(".e-xlsel-bottom-border"),"e-xlsel-bottom-border"),t||(this.mcBdrElement.style.display=e),this.parent.getFrozenMode()===vs&&(this.frcBdrElement.style.display=e)}if(this.parent.frozenRows||this.parent.pinnedTopRecords.length){var i=this.parent.getHeaderTable();ue(i.querySelectorAll(".e-xlsel-top-border"),"e-xlsel-top-border"),ue(i.querySelectorAll(".e-xlsel-left-border"),"e-xlsel-left-border"),ue(i.querySelectorAll(".e-xlsel-right-border"),"e-xlsel-right-border"),ue(i.querySelectorAll(".e-xlsel-bottom-border"),"e-xlsel-bottom-border"),this.fhBdrElement.style.display=e}(this.parent.frozenRows||this.parent.pinnedTopRecords.length)&&this.parent.isFrozenGrid()&&(t||(this.mhBdrElement.style.display=e),this.parent.getFrozenMode()===vs&&(this.frhBdrElement.style.display=e))}},r.prototype.drawAFBorders=function(){this.bdrAFBottom||this.createAFBorders(),this.positionAFBorders()},r.prototype.positionAFBorders=function(){if(!(!this.startCell||!this.bdrAFLeft)){var e=this.startAFCell.getBoundingClientRect(),t=this.endAFCell.getBoundingClientRect(),i=t.top-e.top>0?1:0,n=t.top-e.top>=0&&(he(this.startAFCell,eg)||he(this.startAFCell,"e-frozencontent"))&&this.isFirstRow(this.startAFCell)?1.5:0,s=(he(this.startAFCell,eg)||he(this.startAFCell,AC))&&this.isFirstCell(this.startAFCell)?1:0,o=this.isLastRow(this.endAFCell)&&(he(this.endAFCell,eg)||he(this.endAFCell,"e-frozencontent"))?2:0,a=this.startAFCell.offsetParent.getBoundingClientRect(),l=this.parent.element.getBoundingClientRect(),h=this.startAFCell.offsetParent.parentElement.scrollTop,u=this.startAFCell.offsetParent.parentElement.scrollLeft,c=h-this.startAFCell.offsetTop,d=u-this.startAFCell.offsetLeft,f=this.parent.element.clientHeight-Rr();this.parent.allowPaging&&(f-=this.parent.element.querySelector(".e-pager").offsetHeight),this.parent.aggregates.length&&(f-=this.parent.getFooterContent().offsetHeight);var g=this.parent.element.clientWidth-(this.parent.height!=="auto"?Rr():0);c=c>0?Math.floor(c)-1:0,d=d>0?d:0;var m=e.left-l.left;if(this.parent.enableRtl){var v=he(this.startAFCell,eg)||he(this.startAFCell,AC)?e.right-this.startAFCell.offsetParent.parentElement.getBoundingClientRect().width-l.left:0;this.bdrAFLeft.style.right=l.right-t.right-2+t.width+"px",this.bdrAFLeft.style.width=g<=parseInt(this.bdrAFLeft.style.right,10)?"0px":"2px";var M=l.right-e.right-s+v-1;M>0?this.bdrAFRight.style.right=M+"px":this.bdrAFRight.style.right="0px",this.bdrAFTop.style.left=t.left-l.left-.5+"px",this.bdrAFTop.style.width=parseInt(this.bdrAFLeft.style.right,10)-parseInt(this.bdrAFRight.style.right,10)-s+1+"px",parseInt(this.bdrAFTop.style.left,10)<0&&(this.bdrAFTop.style.width=parseInt(this.bdrAFTop.style.width,10)+parseInt(this.bdrAFTop.style.left,10)+"px",this.parent.height!=="auto"&&Rr()?(this.bdrAFTop.style.left=Rr()+"px",this.bdrAFTop.style.width=parseInt(this.bdrAFTop.style.width,10)-Rr()+"px"):this.bdrAFTop.style.left="0px")}else if(this.bdrAFLeft.style.left=m-s+d-1+"px",this.bdrAFRight.style.left=t.left-l.left-2+t.width+"px",this.bdrAFRight.style.width=g<=parseInt(this.bdrAFRight.style.left,10)?"0px":"2px",this.bdrAFTop.style.left=m+d-.5+"px",this.bdrAFTop.style.width=parseInt(this.bdrAFRight.style.left,10)-parseInt(this.bdrAFLeft.style.left,10)-s+1+"px",g<=parseInt(this.bdrAFTop.style.width,10)+parseInt(this.bdrAFTop.style.left,10)){var y=parseInt(this.bdrAFTop.style.width,10)+parseInt(this.bdrAFTop.style.left,10)-g;this.bdrAFTop.style.width=parseInt(this.bdrAFTop.style.width,10)-y+"px"}if(this.bdrAFLeft.style.top=e.top-l.top-n+c+"px",this.bdrAFLeft.style.height=t.top-e.top>0?t.top-a.top+t.height+1-(e.top-a.top)+n-o-c+"px":t.height+n-o-c+"px",this.bdrAFRight.style.top=this.bdrAFLeft.style.top,this.bdrAFRight.style.height=parseInt(this.bdrAFLeft.style.height,10)+"px",this.bdrAFTop.style.top=this.bdrAFRight.style.top,this.bdrAFBottom.style.left=this.bdrAFTop.style.left,this.bdrAFBottom.style.top=parseFloat(this.bdrAFLeft.style.top)+parseFloat(this.bdrAFLeft.style.height)-i-1+"px",this.bdrAFBottom.style.width=f<=parseFloat(this.bdrAFBottom.style.top)?"0px":this.bdrAFTop.style.width,f<=parseInt(this.bdrAFLeft.style.height,10)+parseInt(this.bdrAFLeft.style.top,10)){var S=parseInt(this.bdrAFLeft.style.height,10)+parseInt(this.bdrAFLeft.style.top,10)-f;this.bdrAFLeft.style.height=parseInt(this.bdrAFLeft.style.height,10)-S+"px",this.bdrAFRight.style.height=parseInt(this.bdrAFLeft.style.height,10)+"px"}}},r.prototype.createAFBorders=function(){if(!this.bdrAFLeft){var e=Be("div",{className:"e-xlselaf",id:this.parent.element.id+"_bdrafleft"});e.style.width="2px",this.bdrAFLeft=this.parent.element.appendChild(e);var t=Be("div",{className:"e-xlselaf",id:this.parent.element.id+"_bdrafright"});t.style.width="2px",this.bdrAFRight=this.parent.element.appendChild(t);var i=Be("div",{className:"e-xlselaf",id:this.parent.element.id+"_bdrafbottom"});i.style.height="2px",this.bdrAFBottom=this.parent.element.appendChild(i);var n=Be("div",{className:"e-xlselaf",id:this.parent.element.id+"_bdraftop"});n.style.height="2px",this.bdrAFTop=this.parent.element.appendChild(n)}},r.prototype.destroyAutoFillElements=function(){this.bdrAFLeft&&(this.bdrAFLeft.remove(),this.bdrAFRight.remove(),this.bdrAFBottom.remove(),this.bdrAFTop.remove(),this.bdrAFLeft=this.bdrAFRight=this.bdrAFBottom=this.bdrAFTop=null),this.autofill&&(this.autofill.remove(),this.autofill=null)},r.prototype.showAFBorders=function(){this.bdrAFLeft&&(this.bdrAFLeft.style.display="",this.bdrAFRight.style.display="",this.bdrAFBottom.style.display="",this.bdrAFTop.style.display="")},r.prototype.hideAFBorders=function(){this.bdrAFLeft&&(this.bdrAFLeft.style.display="none",this.bdrAFRight.style.display="none",this.bdrAFBottom.style.display="none",this.bdrAFTop.style.display="none")},r.prototype.updateValue=function(e,t,i){var n=this.createBeforeAutoFill(e,t,i);if(!n.cancel){var s=this.parent.getColumnByIndex(t);this.parent.editModule&&i&&(s.type==="number"?this.parent.editModule.updateCell(e,s.field,parseFloat(n.value)):this.parent.editModule.updateCell(e,s.field,n.value))}},r.prototype.createBeforeAutoFill=function(e,t,i){var n=this.parent.getColumnByIndex(t),s={column:n,value:i.innerText};return this.parent.trigger(GZ,s),s},r.prototype.getAutoFillCells=function(e,t){var i=".e-cellselectionbackground",n=[].slice.call(this.parent.getDataRows()[parseInt(e.toString(),10)].querySelectorAll(i));return n},r.prototype.selectLikeAutoFill=function(e,t){var i=parseInt(he(this.startAFCell,jn).getAttribute(Ti),10)-1,n=parseInt(this.startAFCell.getAttribute(Qi),10)-1,s=parseInt(he(this.endAFCell,jn).getAttribute(Ti),10)-1,o=parseInt(this.endAFCell.getAttribute(Qi),10)-1,a=this.selectedRowCellIndexes.length-1,l=this.selectedRowCellIndexes[0].cellIndexes.length-1;switch(!0){case(!t&&this.endAFCell.classList.contains("e-cellselectionbackground")&&!!he(e.target,Gt)):this.startAFCell=this.parent.getCellFromIndex(i,n),this.endAFCell=this.parent.getCellFromIndex(i+a,n+l),this.drawAFBorders();break;case(this.autoFillRLselection&&n+l<o&&o-n-l+1>s-i-a&&o-n-l+1>i-s):if(this.endAFCell=this.parent.getCellFromIndex(i+a,o),s=parseInt(he(this.endAFCell,jn).getAttribute(Ti),10)-1,o=parseInt(this.endAFCell.getAttribute(Qi),10)-1,!t)this.drawAFBorders();else{for(var h=parseInt(this.endCell.getAttribute(Qi),10)-1,u=i;u<=s;u++)for(var c=this.getAutoFillCells(u,n),d=0,f=h+1;f<=o;f++)d>l&&(d=0),this.updateValue(u,f,c[parseInt(d.toString(),10)]),d++;this.selectCellsByRange({rowIndex:i,cellIndex:this.startCellIndex},{rowIndex:s,cellIndex:o})}break;case(this.autoFillRLselection&&n>o&&n-o+1>s-i-a&&n-o+1>i-s):if(this.startAFCell=this.parent.getCellFromIndex(i,o),this.endAFCell=this.endCell,!t)this.drawAFBorders();else{for(var u=i;u<=i+a;u++){var c=this.getAutoFillCells(u,n);c.reverse();for(var d=0,f=this.startCellIndex-1;f>=o;f--)d>l&&(d=0),this.updateValue(u,f,c[parseInt(d.toString(),10)]),d++}this.selectCellsByRange({rowIndex:i,cellIndex:o},{rowIndex:i+a,cellIndex:this.startCellIndex+l})}break;case i>s:if(this.startAFCell=this.parent.getCellFromIndex(s,n),this.endAFCell=this.endCell,!t)this.drawAFBorders();else{for(var g=parseInt(this.endCell.parentElement.getAttribute(Ti),10)-1,m=g,u=i-1;u>=s;u--){m===this.startIndex-1&&(m=g);var c=this.getAutoFillCells(m,n),d=0;m--;for(var f=this.startCellIndex;f<=this.startCellIndex+l;f++)this.updateValue(u,f,c[parseInt(d.toString(),10)]),d++}this.selectCellsByRange({rowIndex:s,cellIndex:n+l},{rowIndex:i+a,cellIndex:n})}break;default:if(this.endAFCell=this.parent.getCellFromIndex(s,n+l),!t)this.drawAFBorders();else{for(var g=parseInt(this.endCell.parentElement.getAttribute(Ti),10)-1,m=this.startIndex,u=g+1;u<=s;u++){m===g+1&&(m=this.startIndex);var c=this.getAutoFillCells(m,n);m++;for(var d=0,y=this.startCellIndex;y<=this.startCellIndex+l;y++)this.updateValue(u,y,c[parseInt(d.toString(),10)]),d++}this.selectCellsByRange({rowIndex:g-a,cellIndex:n},{rowIndex:s,cellIndex:n+l})}break}},r.prototype.mouseUpHandler=function(e){this.stopTimer(),document.body.classList.remove("e-disableuserselect"),this.element&&!p(this.element.parentElement)&&ot(this.element),this.isDragged&&this.selectedRowCellIndexes.length===1&&this.selectedRowCellIndexes[0].cellIndexes.length===1?this.mUPTarget=he(e.target,Gt):this.mUPTarget=null;var t=xe(e.target,".e-rowcell");if(this.isDragged&&!this.isAutoFillSel&&this.selectionSettings.mode==="Cell"&&t&&t.classList.contains(Gt)){var i=parseInt(t.parentElement.getAttribute(Ti),10)-1,n=parseInt(t.getAttribute(Qi),10)-1;this.isDragged=!1,this.clearCellSelection(),this.selectCellsByRange({rowIndex:this.startDIndex,cellIndex:this.startDCellIndex},{rowIndex:i,cellIndex:n})}if(this.isDragged=!1,this.updateAutoFillPosition(),this.isAutoFillSel){this.preventFocus=!0;var s=he(e.target,Gt);this.endAFCell=s||(this.endCell===this.endAFCell?this.startAFCell:this.endAFCell),this.startAFCell=this.startCell,!p(this.endAFCell)&&!p(this.startAFCell)&&(this.updateStartCellsIndex(),this.selectLikeAutoFill(e,!0),this.updateAutoFillPosition(),this.hideAFBorders(),this.positionBorders(),this.parent.isFrozenGrid()&&(this.showHideBorders("none",!0),this.refreshFrozenBorders()),this.parent.aggregates.length>0&&this.parent.notify(fC,{})),this.isAutoFillSel=!1,this.preventFocus=!1}F.remove(this.parent.getContent(),"mousemove",this.mouseMoveHandler),(this.parent.frozenRows||this.parent.pinnedTopRecords.length)&&F.remove(this.parent.getHeaderContent(),"mousemove",this.mouseMoveHandler),F.remove(document,"mouseup",this.mouseUpHandler)},r.prototype.hideAutoFill=function(){this.autofill&&(this.autofill.style.display="none")},r.prototype.updateAutoFillPosition=function(){if(this.parent.enableAutoFill&&!this.parent.isEdit&&this.selectionSettings.cellSelectionMode.indexOf("Box")>-1&&!this.isRowType()&&!this.isSingleSel()&&this.selectedRowCellIndexes.length){var e=parseInt(this.target.getAttribute(Qi),10)-1,t=parseInt(this.target.getAttribute("data-index"),10),i=this.selectedRowCellIndexes[this.selectedRowCellIndexes.length-1].rowIndex,n=this.getAutoFillCells(i,e).filter(function(g){return g.style.display===""}),s=this.parent.getColumnByIndex(e),o=s.getFreezeTableName()==="movable",a=t<(this.parent.frozenRows||this.parent.pinnedTopRecords.length),l=this.parent.getFrozenMode()===vs&&s.getFreezeTableName()===pee;ii("#"+this.parent.element.id+"_autofill",he(this.target,ta))||(ii("#"+this.parent.element.id+"_autofill",this.parent.element)&&ii("#"+this.parent.element.id+"_autofill",this.parent.element).remove(),this.autofill=Be("div",{className:"e-autofill",id:this.parent.element.id+"_autofill"}),this.autofill.style.display="none",(this.target.classList.contains("e-leftfreeze")||this.target.classList.contains("e-rightfreeze")||this.target.classList.contains("e-fixedfreeze"))&&this.autofill.classList.add("e-freeze-autofill"),a?o?this.parent.getHeaderTable().parentElement.appendChild(this.autofill):this.parent.getHeaderTable().parentElement.appendChild(this.autofill):o?this.parent.getContentTable().parentElement.appendChild(this.autofill):this.parent.getContentTable().parentElement.appendChild(this.autofill),l&&(a?this.parent.getHeaderTable().parentElement.appendChild(this.autofill):this.parent.getContentTable().parentElement.appendChild(this.autofill)));var h=n[n.length-1];if(h&&h.offsetParent){var u=h.getBoundingClientRect(),c=h.offsetParent.getBoundingClientRect();(h.offsetParent.classList.contains("e-content")||h.offsetParent.classList.contains("e-headercontent"))&&(c=h.offsetParent.querySelector("table").getBoundingClientRect());var d=this.isLastCell(h)?4:0,f=this.isLastRow(h)?3:0;this.parent.enableRtl?this.autofill.style.right=c.right-u.right+u.width-4-d+"px":this.autofill.style.left=u.left-c.left+u.width-4-d+"px",this.autofill.style.top=u.top-c.top+u.height-5-f+"px"}this.autofill.style.display=""}else this.hideAutoFill()},r.prototype.mouseDownHandler=function(e){this.mouseButton=e.button;var t=e.target,i=this.parent,n,s=he(t,"e-grid");if(!(s&&s.id!==i.element.id||he(t,Tn)&&!this.parent.frozenRows||he(t,"e-editedbatchcell")||he(t,Qd))){if((e.shiftKey||e.ctrlKey)&&e.preventDefault(),he(t,Gt)&&!e.shiftKey&&!e.ctrlKey){if(i.selectionSettings.cellSelectionMode.indexOf("Box")>-1&&!this.isRowType()&&!this.isSingleSel())this.isCellDrag=!0,n=!0;else if(i.allowRowDragAndDrop&&!i.isEdit&&!this.parent.selectionSettings.checkboxOnly){if(this.isRowDragSelected=!1,!this.isRowType()||this.isSingleSel()||xe(t,"td").classList.contains("e-selectionbackground")){this.isDragged=!1;return}n=!0,this.element=this.parent.createElement("div",{className:"e-griddragarea"}),i.getContent().appendChild(this.element)}n&&this.enableDrag(e,!0)}this.updateStartEndCells(),(t.classList.contains("e-autofill")||t.classList.contains("e-xlsel"))&&(this.isCellDrag=!0,this.isAutoFillSel=!0,this.enableDrag(e))}},r.prototype.updateStartEndCells=function(){var e=[].slice.call(this.parent.element.getElementsByClassName("e-cellselectionbackground"));this.startCell=e[0],this.endCell=e[e.length-1],this.startCell&&(this.startIndex=parseInt(this.startCell.parentElement.getAttribute(Ti),10)-1,this.startCellIndex=parseInt(he(this.startCell,Gt).getAttribute(Qi),10)-1)},r.prototype.updateStartCellsIndex=function(){this.startCell&&(this.startIndex=parseInt(this.startCell.parentElement.getAttribute(Ti),10)-1,this.startCellIndex=parseInt(he(this.startCell,Gt).getAttribute(Qi),10)-1)},r.prototype.enableDrag=function(e,t){var i=this.parent;if(t){var n=xe(e.target,"tr");this.startDIndex=parseInt(n.getAttribute(Ti),10)-1,this.startDCellIndex=parseInt(he(e.target,Gt).getAttribute(Qi),10)-1}document.body.classList.add("e-disableuserselect");var s=i.element.getBoundingClientRect(),o=LC(e);this.x=o.x-s.left,this.y=o.y-s.top,F.add(i.getContent(),"mousemove",this.mouseMoveHandler,this),(this.parent.frozenRows||this.parent.pinnedTopRecords.length)&&F.add(i.getHeaderContent(),"mousemove",this.mouseMoveHandler,this),F.add(document,"mouseup",this.mouseUpHandler,this)},r.prototype.clearSelAfterRefresh=function(e){var t=this.parent.enableInfiniteScrolling&&e.requestType==="infiniteScroll";if(e.requestType!=="virtualscroll"&&!this.parent.isPersistSelection&&!t&&this.clearSelection(),(e.requestType==="virtualscroll"||t)&&this.parent.isPersistSelection&&!this.isPartialSelection&&this.isHdrSelectAllClicked){var i=this.parent.getRowsObject().filter(function(a){return a.isSelectable}),n=[];this.selectedRowState={},this.persistSelectedData=[];for(var s=0;s<i.length;s++){n.push(i[parseInt(s.toString(),10)].index);var o=this.getPkValue(this.primaryKey,i[parseInt(s.toString(),10)].data);this.selectedRowState[""+o]=!0,this.persistSelectedData.push(i[parseInt(s.toString(),10)].data)}}},r.prototype.addEventListener=function(){this.parent.isDestroyed||(this.evtHandlers=[{event:fn,handler:this.enableAfterRender},{event:iD,handler:this.initializeSelection},{event:eX,handler:this.onActionComplete},{event:tX,handler:this.onActionComplete},{event:zr,handler:this.onPropertyChanged},{event:yC,handler:this.onCellFocused},{event:_j,handler:this.clearSelAfterRefresh},{event:Hj,handler:this.columnPositionChanged},{event:$i,handler:this.initialEnd},{event:vC,handler:this.rowsRemoved},{event:oa,handler:this.refreshHeader},{event:gC,handler:this.destroyAutoFillElements},{event:js,handler:this.destroy}],Nl(this.parent,this.evtHandlers,!0,this),this.actionBeginFunction=this.actionBegin.bind(this),this.actionCompleteFunction=this.actionComplete.bind(this),this.parent.addEventListener(vo,this.actionBeginFunction),this.parent.addEventListener(ls,this.actionCompleteFunction),this.addEventListener_checkbox())},r.prototype.removeEventListener=function(){this.parent.isDestroyed||(F.remove(document,"mouseup",this.mouseUpHandler),F.remove(this.parent.getContent(),"mousedown",this.mouseDownHandler),F.remove(this.parent.getHeaderContent(),"mousedown",this.mouseDownHandler),Nl(this.parent,this.evtHandlers,!1),this.parent.removeEventListener(vo,this.actionBeginFunction),this.parent.removeEventListener(ls,this.actionCompleteFunction),this.removeEventListener_checkbox(),this.parent.off(gC,this.destroyAutoFillElements))},r.prototype.wireEvents=function(){this.isMacOS=navigator.userAgent.indexOf("Mac OS")!==-1,this.isMacOS?(F.add(this.parent.element,"keydown",this.keyDownHandler,this),F.add(this.parent.element,"keyup",this.keyUpHandler,this)):this.parent.allowKeyboard||F.add(this.parent.element,"keydown",this.keyDownHandler,this)},r.prototype.unWireEvents=function(){this.isMacOS?(F.remove(this.parent.element,"keydown",this.keyDownHandler),F.remove(this.parent.element,"keyup",this.keyUpHandler)):this.parent.allowKeyboard||F.remove(this.parent.element,"keydown",this.keyDownHandler)},r.prototype.columnPositionChanged=function(){this.parent.isPersistSelection||this.clearSelection()},r.prototype.refreshHeader=function(){var e=this.parent.getColumns().filter(function(t){return t.type==="checkbox"});e.length&&!this.parent.getDataModule().isRemote()&&(this.gridCurrentRecord=this.getData()),this.setCheckAllState()},r.prototype.rowsRemoved=function(e){for(var t=0;t<e.records.length;t++){var i=this.getPkValue(this.primaryKey,e.records[parseInt(t.toString(),10)]);delete this.selectedRowState[""+i],--this.totalRecordsCount}this.setCheckAllState()},r.prototype.beforeFragAppend=function(e){e.requestType!=="virtualscroll"&&!this.parent.isPersistSelection&&this.clearSelection()},r.prototype.getCheckAllBox=function(){return this.parent.getHeaderContent().querySelector(".e-checkselectall")},r.prototype.enableAfterRender=function(e){e.module===this.getModuleName()&&e.enable&&(this.render(),this.initPerisistSelection())},r.prototype.render=function(e){F.add(this.parent.getContent(),"mousedown",this.mouseDownHandler,this),F.add(this.parent.getHeaderContent(),"mousedown",this.mouseDownHandler,this)},r.prototype.onPropertyChanged=function(e){if(e.module===this.getModuleName()){var t=this.parent;p(e.properties.type)||(this.selectionSettings.type==="Single"?(t.element.removeAttribute("aria-multiselectable"),this.selectedRowCellIndexes.length>1&&(this.clearCellSelection(),this.prevCIdxs=void 0),this.selectedRowIndexes.length>1&&(this.clearRowSelection(),this.prevRowIndex=void 0),this.selectedColumnsIndexes.length>1&&(this.clearColumnSelection(),this.prevColIndex=void 0),this.enableSelectMultiTouch=!1,this.hidePopUp()):this.selectionSettings.type==="Multiple"&&t.element.setAttribute("aria-multiselectable","true")),(!p(e.properties.mode)||!p(e.properties.cellSelectionMode))&&(this.clearSelection(),this.prevRowIndex=void 0,this.prevCIdxs=void 0,this.prevColIndex=void 0),this.isPersisted=!0,this.checkBoxSelectionChanged(),this.isPersisted=!1,this.parent.isCheckBoxSelection||this.initPerisistSelection();var i=this.parent.getColumns().filter(function(n){return n.type==="checkbox"});i.length&&(t.isCheckBoxSelection=this.selectionSettings.checkboxMode!=="ResetOnRowClick"),this.drawBorders()}},r.prototype.hidePopUp=function(){this.parent.element.querySelector(".e-gridpopup").getElementsByClassName("e-rowselect").length&&(this.parent.element.querySelector(".e-gridpopup").style.display="none")},r.prototype.initialEnd=function(){this.selectedRowIndexes.length||(this.parent.off($i,this.initialEnd),this.selectRow(this.parent.selectedRowIndex))},r.prototype.checkBoxSelectionChanged=function(){var e=this.parent;e.off($i,this.checkBoxSelectionChanged);var t=e.enableColumnVirtualization?e.columns:e.getColumns(),i=t.filter(function(n){return n.type==="checkbox"});i.length>0&&(e.isCheckBoxSelection=!0,this.chkField=i[0].field,this.totalRecordsCount=this.parent.pageSettings.totalRecordsCount,p(this.totalRecordsCount)&&(this.totalRecordsCount=this.getCurrentBatchRecordChanges().length),this.isSingleSel()?(e.selectionSettings.type="Multiple",e.dataBind()):this.initPerisistSelection()),!e.isCheckBoxSelection&&!this.isPersisted&&(this.chkField=null,this.initPerisistSelection())},r.prototype.initPerisistSelection=function(){var e=this.parent;this.parent.selectionSettings.persistSelection&&this.parent.getPrimaryKeyFieldNames().length>0?(e.isPersistSelection=!0,this.ensureCheckboxFieldSelection()):this.parent.getPrimaryKeyFieldNames().length>0?(e.isPersistSelection=!1,this.ensureCheckboxFieldSelection()):(e.isPersistSelection=!1,this.selectedRowState={})},r.prototype.ensureCheckboxFieldSelection=function(){var e=this.parent;this.primaryKey=this.parent.getPrimaryKeyFieldNames()[0],!e.enableVirtualization&&this.chkField&&(e.isPersistSelection&&Object.keys(this.selectedRowState).length===0||!e.isPersistSelection)&&this.dataSuccess(!p(this.parent.dataSource)&&this.parent.dataSource.result||this.parent.getDataModule().isRemote()?this.parent.getCurrentViewRecords():this.parent.renderModule.data.dataManager.dataSource.json)},r.prototype.dataSuccess=function(e){for(var t=0;t<e.length;t++){var i=this.getPkValue(this.primaryKey,e[parseInt(t.toString(),10)]),n=e[parseInt(t.toString(),10)][this.chkField];p(this.selectedRowState[""+i])&&n&&typeof n=="boolean"&&(this.selectedRowState[""+i]=n,this.parent.isPersistSelection&&this.persistSelectedData.push(e[parseInt(t.toString(),10)]))}},r.prototype.setRowSelection=function(e){if(this.parent.getDataModule().isRemote()||!p(this.parent.dataSource)&&this.parent.dataSource.result)if(e){var d=Object.keys(this.selectedRowState),f=Object.keys(this.unSelectedRowState);if(!this.isCheckboxReset)for(var g=this.parent.groupSettings.columns.length&&this.parent.isPersistSelection?this.parent.currentViewData.records:this.parent.currentViewData,m=0,y=g;m<y.length;m++){var h=y[m];if(!p(h[this.primaryKey])){var v=h[this.primaryKey].toString();d.indexOf(v)===-1&&f.indexOf(v)===-1&&(this.selectedRowState[h[this.primaryKey]]=!0)}}}else this.selectedRowState={},this.unSelectedRowState={},this.rmtHdrChkbxClicked=!1;else if(e)if(this.isPartialSelection&&!this.isHdrSelectAllClicked&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling))for(var t=this.parent.getRowsObject().filter(function(M){return M.isSelectable}),i=0,n=t;i<n.length;i++){var s=n[i];this.selectedRowState[this.getPkValue(this.primaryKey,s.data)]=!0}else{var o=this.isPartialSelection?this.parent.partialSelectedRecords:this.getData();if(this.parent.groupSettings.columns.length)for(var a=0,l=this.isPartialSelection?o:o.records;a<l.length;a++){var h=l[a];this.selectedRowState[this.getPkValue(this.primaryKey,h)]=!0}else for(var u=0,c=o;u<c.length;u++){var h=c[u];this.selectedRowState[this.getPkValue(this.primaryKey,h)]=!0}}else this.selectedRowState={}},r.prototype.getData=function(){return vP(this.parent)},r.prototype.getAvailableSelectedData=function(e){var t=new fe(e).executeLocal(this.parent.getDataModule().generateQuery(!0));return this.parent.groupSettings.columns.length&&t&&t.records&&(t=t.records.slice()),t},r.prototype.refreshPersistSelection=function(){var e=this.parent.pinnedTopRecords.length?this.parent.getAllDataRows(!0):this.parent.getRows();if(this.totalRecordsCount=this.parent.getCurrentViewRecords().length,this.parent.allowPaging&&(this.totalRecordsCount=this.parent.pageSettings.totalRecordsCount),!p(e)&&e.length>0&&(this.parent.isRemote()&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)||this.parent.isPersistSelection||this.chkField)){for(var t=[],i=0;i<e.length;i++){var n=this.getRowObj(e[parseInt(i.toString(),10)]),s=n&&n.data?this.getPkValue(this.primaryKey,n.data):null;if(s===null)return;if(!(this.isPartialSelection&&!n.isSelectable&&!this.selectedRowState.hasOwnProperty(s))){var o=void 0,a=e[parseInt(i.toString(),10)].querySelector(".e-checkselect");this.selectedRowState[""+s]||this.parent.checkAllRows==="Check"&&this.selectedRowState[""+s]&&this.totalRecordsCount===Object.keys(this.selectedRowState).length&&this.chkAllCollec.indexOf(s)<0||this.parent.checkAllRows==="Uncheck"&&this.chkAllCollec.indexOf(s)>0&&!this.parent.selectedRowIndex||this.parent.checkAllRows==="Intermediate"&&!p(this.chkField)&&n.data[this.chkField]?(t.push(parseInt(e[parseInt(i.toString(),10)].getAttribute(Ti),10)-1),o=!0):(o=!1,this.checkedTarget!==a&&this.parent.isCheckBoxSelection&&a&&Bg(a.nextElementSibling,o)),this.updatePersistCollection(e[parseInt(i.toString(),10)],o)}}this.persistSelectedRecordsCount=this.persistSelectedData.length&&this.getAvailableSelectedData(this.persistSelectedData).length,this.isSingleSel()&&t.length>0?this.selectRow(t[0],!0):this.selectRows(t)}(this.parent.isCheckBoxSelection||this.parent.selectionSettings.checkboxMode==="ResetOnRowClick")&&this.getCurrentBatchRecordChanges().length>0&&this.setCheckAllState()},r.prototype.actionBegin=function(e){if(e.requestType==="save"&&this.parent.isPersistSelection){var t=this.parent.element.querySelector(".e-edit-checkselect");if(!p(t)){var i=xe(t,"."+Qd);if(i){this.parent.editSettings.mode==="Dialog"&&(i=this.parent.element.querySelector(".e-dlgeditrow"));var n=this.getRowObj(i);if(!n)return;this.selectedRowState[this.getPkValue(this.primaryKey,n.data)]=n.isSelected=t.checked}else this.isCheckedOnAdd=t.checked,this.isCheckedOnAdd&&e.action==="add"&&(this.selectedRowState[this.getPkValue(this.primaryKey,e.data)]=!0)}}this.parent.isPersistSelection&&this.isPartialSelection&&e.requestType==="paging"&&(this.parent.getDataModule().isRemote()||!p(this.parent.dataSource)&&this.parent.dataSource.result)&&(this.selectedRowIndexes=[])},r.prototype.actionComplete=function(e){if(e.requestType==="save"&&this.parent.isPersistSelection&&(e.action==="add"&&(this.isHdrSelectAllClicked=!1),this.isPartialSelection&&(this.partialSelectableRecordsCount=this.parent.partialSelectedRecords.length&&this.getAvailableDataCount(this.parent.partialSelectedRecords),this.disableSelectableRecordsCount=this.parent.disableSelectedRecords.length&&this.getAvailableDataCount(this.parent.disableSelectedRecords),!p(e.row.querySelector(".e-checkselect"))&&e.row.querySelector(".e-checkselect").parentElement.classList.contains("e-checkbox-disabled")&&(this.updatePersistCollection(e.row,!0),this.setCheckAllState()))),e.requestType==="delete"&&this.parent.isPersistSelection){for(var t=e.data,i=t.slice(),n=0;n<i.length;n++){var s=this.getPkValue(this.primaryKey,i[parseInt(n.toString(),10)]);p(s)||this.updatePersistDelete(s,this.isPartialSelection)}this.isHdrSelectAllClicked=!1,this.setCheckAllState(),this.totalRecordsCount=this.parent.pageSettings.totalRecordsCount}if(e.requestType==="paging"){if(this.parent.isPersistSelection&&this.isPartialSelection&&this.isHdrSelectAllClicked){for(var o=this.parent.getRowsObject(),a=[],n=0;n<o.length;n++)o[parseInt(n.toString(),10)].isSelectable&&a.push(o[parseInt(n.toString(),10)].index);a.length&&this.selectRows(a)}this.prevRowIndex=void 0,this.prevCIdxs=void 0,this.prevECIdxs=void 0}},r.prototype.onDataBound=function(){var e=this.parent.getColumns().filter(function(s){return s.type==="checkbox"});if(e.length&&!this.parent.getDataModule().isRemote()&&(this.gridCurrentRecord=this.getData()),this.parent.pinnedTopRecords.length&&this.setPinnedSelectionIndexes(),!this.parent.enableVirtualization&&this.parent.isPersistSelection&&this.selectedRecords.length&&(this.isPrevRowSelection=!0),((this.parent.getDataModule().isRemote()||!p(this.parent.dataSource)&&this.parent.dataSource.result)&&this.rmtHdrChkbxClicked||this.isPartialSelection&&this.parent.isPersistSelection&&this.isHdrSelectAllClicked)&&(this.parent.checkAllRows==="Intermediate"?this.setRowSelection(!0):this.parent.checkAllRows==="Uncheck"&&this.setRowSelection(!1)),this.partialSelectableRecordsCount=this.parent.partialSelectedRecords.length&&this.getAvailableDataCount(this.parent.partialSelectedRecords),this.disableSelectableRecordsCount=this.parent.disableSelectedRecords.length&&this.getAvailableDataCount(this.parent.disableSelectedRecords),this.parent.enableVirtualization&&this.setCheckAllState(),(this.parent.isPersistSelection||this.contentRenderer&&p(this.contentRenderer.requestType)&&this.parent.isRemote()&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling))&&this.refreshPersistSelection(),this.initialRowSelection=!!(this.isRowType()&&this.parent.element.querySelectorAll(".e-selectionbackground")&&this.parent.getSelectedRows().length),this.parent.isCheckBoxSelection&&!this.initialRowSelection){for(var t=this.parent.getRowsObject(),i=[],n=0;n<t.length;n++)t[parseInt(n.toString(),10)].isSelected&&i.push(n);i.length&&this.selectRows(i),this.initialRowSelection=!0}},r.prototype.updatePersistSelectedData=function(e){var t=this;if(this.parent.isPersistSelection||this.parent.isRemote()&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)){var i=[];if(this.parent.checkAllRows==="Check"&&(this.parent.searchSettings.key.length>0||this.parent.filterSettings.columns.length>0)&&this.persistSelectedData.length&&!(this.parent.getDataModule().isRemote()||!p(this.parent.dataSource)&&this.parent.dataSource.result)&&!this.isPartialSelection){var n=this.getAvailableSelectedData(this.persistSelectedData),s=new Set(n.map(function(l){return l[t.primaryKey]}));i=this.persistSelectedData.filter(function(l){return!s.has(l[t.primaryKey])})}for(var o=this.parent.getRows(),a=0;a<o.length;a++)this.updatePersistCollection(o[parseInt(a.toString(),10)],e);if(this.parent.checkAllRows==="Uncheck")this.setRowSelection(!1),this.persistSelectedData=this.parent.getDataModule().isRemote()||!p(this.parent.dataSource)&&this.parent.dataSource.result?this.persistSelectedData:[];else if(this.parent.checkAllRows==="Check"&&(this.setRowSelection(!0),this.persistSelectedData=!(this.parent.getDataModule().isRemote()||!p(this.parent.dataSource)&&this.parent.dataSource.result)&&!this.isPartialSelection?this.parent.groupSettings.columns.length?this.getData().records.slice():this.getData().slice():this.persistSelectedData,i.length>0))for(var a=0;a<i.length;a++)this.persistSelectedData.push(i[parseInt(a.toString(),10)]);this.persistSelectedRecordsCount=this.persistSelectedData.length&&this.getAvailableDataCount(this.persistSelectedData)}},r.prototype.checkSelectAllAction=function(e){var t=this.getRenderer(),i=this.parent.element.querySelector(".e-gridform");if(this.checkedTarget=this.getCheckAllBox(),e&&this.getCurrentBatchRecordChanges().length?(this.parent.checkAllRows="Check",this.updatePersistSelectedData(e),this.selectRowsByRange(t.getVirtualRowIndex(0),t.getVirtualRowIndex(this.getCurrentBatchRecordChanges().length-1+this.parent.pinnedTopRowModels.length)),this.checkVirtualCheckBox()&&!this.parent.isPersistSelection?(this.virtualSelectedData=this.virtualCheckBoxData().slice(),this.selectedRowIndexes=Object.keys(this.virtualSelectedData).map(function(s){return parseInt(s,10)})):!(this.parent.getDataModule().isRemote()||!p(this.parent.dataSource)&&this.parent.dataSource.result)&&this.parent.isCheckBoxSelection&&this.isPartialSelection&&(this.parent.isPersistSelection?(this.persistSelectedData=this.parent.partialSelectedRecords.slice(),this.persistSelectedRecordsCount=this.persistSelectedData.length&&this.getAvailableDataCount(this.persistSelectedData)):(this.partialSelectedData=this.parent.partialSelectedRecords.slice(),this.partialSelectedRecordsCount=this.partialSelectedData.length&&this.getAvailableDataCount(this.partialSelectedData)))):(this.parent.checkAllRows="Uncheck",this.updatePersistSelectedData(e),this.clearSelection()),this.chkAllCollec=[],!p(i)){var n=i.querySelector(".e-edit-checkselect");p(n)||Bg(n.nextElementSibling,e)}},r.prototype.checkSelectAll=function(e){var t=this,i=this.getCheckAllStatus(e),n=i==="Check";if(this.isHeaderCheckboxClicked=!0,(this.parent.getDataModule().isRemote()||!p(this.parent.dataSource)&&this.parent.dataSource.result)&&(i==="Uncheck"||this.isCheckboxReset||i==="Intermediate"&&(this.parent.isPersistSelection||this.parent.isRemote()))?this.rmtHdrChkbxClicked=!0:this.rmtHdrChkbxClicked=!1,this.rmtHdrChkbxClicked&&this.isCheckboxReset&&(this.unSelectedRowState={}),this.isCheckboxReset=!1,i==="Intermediate"&&(!this.chkField&&!this.parent.isPersistSelection&&(n=this.getCurrentBatchRecordChanges().some(function(u){return t.getPkValue(t.primaryKey,u)in t.selectedRowState})),this.parent.isPersistSelection||this.parent.isRemote())){if(this.parent.allowPaging&&this.isPartialSelection)for(var s=this.parent.getRowsObject(),o=0;o<s.length;o++)if(s[o].isDataRow&&s[o].isSelectable&&!s[o].isSelected){n=!1;break}else n=!0;else if(this.parent.getDataModule().isRemote()||!p(this.parent.dataSource)&&this.parent.dataSource.result)for(var a=this.parent.renderModule&&this.parent.renderModule.selectableDataKey,l=this.getCurrentBatchRecordChanges(),o=0;o<l.length;o++){var h=this.getPkValue(this.primaryKey,l[parseInt(o.toString(),10)]);if(!this.isPartialSelection&&!p(h)||this.isPartialSelection&&a[""+h])if(Object.keys(this.selectedRowState).includes(h.toString()))n=!0;else{n=!1;break}}}this.parent.isPersistSelection&&this.parent.allowPaging&&(this.totalRecordsCount=this.parent.pageSettings.totalRecordsCount),this.checkSelectAllAction(!n),this.partialSelectableRecordsCount=this.parent.partialSelectedRecords.length&&this.getAvailableDataCount(this.parent.partialSelectedRecords),this.disableSelectableRecordsCount=this.parent.disableSelectedRecords.length&&this.getAvailableDataCount(this.parent.disableSelectedRecords),this.target=null,this.getCurrentBatchRecordChanges().length>0&&(this.setCheckAllState(),this.updateSelectedRowIndexes()),this.triggerChkChangeEvent(e,!n)},r.prototype.getCheckAllStatus=function(e){var t;p(e)?p(this.getCheckAllBox())||(t=this.getCheckAllBox().nextElementSibling.classList):t=e.nextElementSibling.classList;var i="None";return t instanceof DOMTokenList&&(t.contains("e-check")?i="Check":t.contains("e-uncheck")?i="Uncheck":t.contains("e-stop")&&(i="Intermediate")),i},r.prototype.checkSelect=function(e){var t=xe(this.checkedTarget,"."+Gt),i=this.parent;this.isMultiCtrlRequest=!0;var n=0;if(this.isHeaderCheckboxClicked=!1,uo(i)){var s=t.parentElement.getAttribute("data-uid");this.parent.enableVirtualization&&this.parent.groupSettings.columns.length?n=parseInt(t.parentElement.getAttribute(Ti),10)-1:n=i.getRows().map(function(o){return o.getAttribute("data-uid")}).indexOf(s)}else n=parseInt(t.parentElement.getAttribute(Ti),10)-1;this.parent.isPersistSelection&&this.parent.element.getElementsByClassName(qu).length>0&&this.parent.editSettings.newRowPosition==="Top"&&!this.parent.editSettings.showAddNewRow&&++n,this.rowCellSelectionHandler(n,parseInt(t.getAttribute(Qi),10)-1),this.partialSelectableRecordsCount=this.parent.partialSelectedRecords.length&&this.getAvailableDataCount(this.parent.partialSelectedRecords),this.disableSelectableRecordsCount=this.parent.disableSelectedRecords.length&&this.getAvailableDataCount(this.parent.disableSelectedRecords),this.parent.isPersistSelection?this.persistSelectedRecordsCount=this.persistSelectedData.length&&this.getAvailableDataCount(this.persistSelectedData):this.partialSelectedRecordsCount=this.partialSelectedData.length&&this.getAvailableDataCount(this.partialSelectedData),this.moveIntoUncheckCollection(xe(t,"."+jn)),this.setCheckAllState(),this.isMultiCtrlRequest=!1,this.triggerChkChangeEvent(e,e.nextElementSibling.classList.contains("e-check"))},r.prototype.moveIntoUncheckCollection=function(e){if(this.parent.checkAllRows==="Check"||this.parent.checkAllRows==="Uncheck"){var t=this.getRowObj(e),i=t&&t.data?this.getPkValue(this.primaryKey,t.data):null;if(!i)return;this.chkAllCollec.indexOf(i)<0?this.chkAllCollec.push(i):this.chkAllCollec.splice(this.chkAllCollec.indexOf(i),1)}},r.prototype.triggerChkChangeEvent=function(e,t){this.parent.trigger(YZ,{checked:t,selectedRowIndexes:this.parent.getSelectedRowIndexes(),target:e}),this.parent.isEdit||(this.checkedTarget=null)},r.prototype.updateSelectedRowIndexes=function(){if(this.parent.isCheckBoxSelection&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&this.isPartialSelection&&!(this.parent.getDataModule().isRemote()||!p(this.parent.dataSource)&&this.parent.dataSource.result)&&this.parent.selectionSettings.persistSelection&&!this.isHdrSelectAllClicked&&this.parent.checkAllRows!=="Uncheck")for(var e=this.parent.getRowsObject().filter(function(a){return a.isSelectable}),t=0,i=e;t<i.length;t++){var n=i[t];this.selectedRowIndexes.push(n.index)}if(this.parent.isCheckBoxSelection&&this.parent.enableVirtualization&&!this.isPartialSelection&&(this.parent.getDataModule().isRemote()||!p(this.parent.dataSource)&&this.parent.dataSource.result)&&!this.parent.isPersistSelection&&this.parent.checkAllRows==="Check"){var e=this.parent.getRowsObject().filter(function(l){return l.isSelectable});if(e.length!==this.selectedRowIndexes.length)for(var s=0,o=e;s<o.length;s++){var n=o[s];this.selectedRowIndexes.indexOf(n.index)<=-1&&this.selectedRowIndexes.push(n.index)}}},r.prototype.updateSelectedRowIndex=function(e){if(this.parent.isCheckBoxSelection&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&!(this.parent.getDataModule().isRemote()||!p(this.parent.dataSource)&&this.parent.dataSource.result))if(this.parent.checkAllRows==="Check"&&p(e))if(this.selectedRowIndexes=[],this.isPartialSelection)this.selectedRowIndexes=this.parent.partialSelectedIndexes.slice();else{var t=this.parent.groupSettings.columns.length?this.getData().records.length:this.getData().length;this.parent.pinnedTopRowModels.length&&(t+=this.parent.pinnedTopRowModels.length);for(var i=0;i<t;i++)this.selectedRowIndexes.push(i)}else if(this.parent.checkAllRows==="Uncheck")this.selectedRowIndexes=[];else{var n=this.parent.getRowByIndex(e);if(e&&n&&n.getAttribute("aria-selected")==="false"){var s=this.selectedRowIndexes.indexOf(e);this.selectedRowIndexes.splice(s,1)}}},r.prototype.isAllSelected=function(e){if(this.parent.getDataModule().isRemote()||!p(this.parent.dataSource)&&this.parent.dataSource.result)return this.getAvailableSelectedData(this.persistSelectedData).length===(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling?this.parent.totalDataRecordsCount:this.totalRecordsCount);if(this.isPartialSelection)if(this.parent.allowPaging&&!this.selectionSettings.persistSelection&&this.parent.pageSettings.pageSize<this.parent.pageSettings.totalRecordsCount){for(var t=this.parent.partialSelectedRecords,i=0;i<t.length;i++){var n=this.getPkValue(this.primaryKey,t[parseInt(i.toString(),10)]);if(!this.selectedRowState[""+n])return!1}return!0}else return this.isSelectAllRowCount(e);else{var t=this.getData();this.parent.groupSettings.columns.length&&t.records&&(t=t.records);for(var i=0;i<t.length;i++){var n=this.getPkValue(this.primaryKey,t[parseInt(i.toString(),10)]);if(!this.selectedRowState[""+n])return!1}return!0}},r.prototype.someDataSelected=function(){if((this.parent.getDataModule().isRemote()||!p(this.parent.dataSource)&&this.parent.dataSource.result)&&(this.parent.searchSettings.key.length||this.parent.filterSettings.columns.length))for(var e=this.getAvailableSelectedData(this.persistSelectedData),t=0;t<e.length;t++){var i=this.getPkValue(this.primaryKey,e[parseInt(t.toString(),10)]);if(this.selectedRowState[""+i])return!1}for(var n=this.isPartialSelection?this.getAvailableSelectedData(this.parent.partialSelectedRecords):this.parent.getDataModule().isRemote()||!p(this.parent.dataSource)&&this.parent.dataSource.result?[]:this.getData(),t=0;t<n.length;t++){var i=this.getPkValue(this.primaryKey,n[parseInt(t.toString(),10)]);if(this.selectedRowState[""+i])return!1}return!0},r.prototype.setCheckAllState=function(e,t){if(this.parent.isCheckBoxSelection||this.parent.selectionSettings.checkboxMode==="ResetOnRowClick"){var i=!1,n=!1,s=Object.keys(this.selectedRowState).length;this.parent.element.classList.contains("e-treelistgrid")&&this.parent.isPersistSelection&&!this.parent.enableVirtualization&&!this.parent.getDataModule().isRemote()&&Array.isArray(this.parent.dataSource)&&s===this.parent.dataSource.length&&s>this.totalRecordsCount&&(s=this.totalRecordsCount),!this.parent.isPersistSelection&&(!this.parent.isRemote()||this.parent.allowPaging)&&(s=this.selectedRowIndexes.length,this.totalRecordsCount=this.getCurrentBatchRecordChanges().length),this.parent.isPersistSelection&&!((this.parent.getDataModule().isRemote()||!p(this.parent.dataSource)&&this.parent.dataSource.result)&&this.isPartialSelection)&&(this.parent.searchSettings.key.length||this.parent.filterSettings.columns.length)&&(n=!0,i=this.isAllSelected(s));var o=this.getCheckAllBox();if(o){var a=o.nextElementSibling;ue([a],["e-check","e-stop","e-uncheck"]),dh(o,!1),o.indeterminate=!1;var l=this.parent.getDataModule().isRemote()?[]:this.gridCurrentRecord;if(this.parent.groupSettings.columns.length&&l.records&&(l=l.records),this.totalRecordsCount=this.checkVirtualCheckBox()?l.length:this.totalRecordsCount,i&&n&&(this.parent.getDataModule().isRemote()||!p(this.parent.dataSource)&&this.parent.dataSource.result||l.length)||!n&&(s===this.totalRecordsCount&&this.totalRecordsCount&&!this.isPartialSelection&&(!(this.parent.getDataModule().isRemote()||!p(this.parent.dataSource)&&this.parent.dataSource.result)||this.parent.allowPaging)||!this.parent.enableVirtualization&&!this.parent.enableInfiniteScrolling&&this.isPartialSelection&&(this.isSelectAllRowCount(s)||this.isHdrSelectAllClicked&&!this.parent.isPersistSelection)||(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&!this.parent.allowPaging&&(!(this.parent.getDataModule().isRemote()||!p(this.parent.dataSource)&&this.parent.dataSource.result)&&l.length&&s===l.length||(this.parent.getDataModule().isRemote()||!p(this.parent.dataSource)&&this.parent.dataSource.result)&&!this.isPartialSelection&&(s===this.parent.totalDataRecordsCount||(this.isSelectAllRowCount(s)||s===this.totalRecordsCount)&&!this.parent.isPersistSelection&&!this.parent.isRemote())||this.isPartialSelection&&(s>0&&this.isHdrSelectAllClicked||this.isSelectAllRowCount(s)))||s===this.totalRecordsCount&&this.totalRecordsCount&&!this.isPartialSelection&&!this.parent.allowPaging&&!this.parent.enableVirtualization&&!this.parent.enableInfiniteScrolling)?(Z([a],["e-check"]),dh(o,!0),t&&this.getRenderer().setSelection(null,!0,!0),this.parent.checkAllRows="Check"):(!this.selectedRowIndexes.length&&(!this.parent.enableVirtualization||!this.persistSelectedData.length&&!n||n&&this.someDataSelected())||s===0&&this.getCurrentBatchRecordChanges().length===0)&&!this.parent.allowPaging||this.parent.allowPaging&&(s===0||s&&n&&this.someDataSelected())?(Z([a],["e-uncheck"]),t&&this.getRenderer().setSelection(null,!1,!0),this.parent.checkAllRows="Uncheck"):(Z([a],["e-stop"]),this.parent.checkAllRows="Intermediate",o.indeterminate=!0),this.parent.isEdit&&!(this.parent.editModule&&this.parent.editModule.editModule&&this.parent.editModule.editModule.initialRender)&&!this.parent.isPersistSelection||s===0&&this.getCurrentBatchRecordChanges().length===0?Z([a.parentElement],["e-checkbox-disabled"]):ue([a.parentElement],["e-checkbox-disabled"]),this.isPartialSelection){var h=this.parent.getRowsObject().filter(function(u){return u.isSelectable}).length;this.parent.isEdit&&!(this.parent.editModule&&this.parent.editModule.editModule&&this.parent.editModule.editModule.initialRender)&&!this.parent.isPersistSelection||h===0&&a.parentElement.querySelector(".e-frame").classList.contains("e-uncheck")?Z([a.parentElement],["e-checkbox-disabled"]):ue([a.parentElement],["e-checkbox-disabled"])}(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&!this.parent.allowPaging&&!(this.parent.getDataModule().isRemote()||!p(this.parent.dataSource)&&this.parent.dataSource.result)&&this.updateSelectedRowIndex(e)}}},r.prototype.checkVirtualCheckBox=function(){return this.parent.enableVirtualization&&!(this.parent.getDataModule().isRemote()||!p(this.parent.dataSource)&&this.parent.dataSource.result)&&this.parent.isCheckBoxSelection&&!this.isPartialSelection},r.prototype.virtualCheckBoxData=function(){var e=this.getData();return this.parent.groupSettings.columns.length&&e.records&&(e=e.records),e},r.prototype.isSelectAllRowCount=function(e){var t=0,i=this.parent.getRowsObject();if(!this.isPartialSelection&&(this.parent.getDataModule().isRemote()||!p(this.parent.dataSource)&&this.parent.dataSource.result)&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)){var n=this.parent.getDataModule().isRemote()||!p(this.parent.dataSource)&&this.parent.dataSource.result?this.parent.totalDataRecordsCount:this.getData()&&this.getData().length;return n===i.length?(t=i.filter(function(a){return a.isSelectable}).length,t&&e===t):!1}else if((this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&this.isPartialSelection){var s=this.parent.isPersistSelection||this.parent.isRemote()?this.persistSelectedRecordsCount:this.partialSelectedRecordsCount;t=this.disableSelectableRecordsCount+this.partialSelectableRecordsCount;var o=this.parent.isRemote()?this.parent.totalDataRecordsCount:this.parent.allowGrouping&&"records"in this.getData()?this.getData().records.length:this.getData()&&this.getData().length;return t===o&&s!==0&&s===this.partialSelectableRecordsCount}else if(this.parent.allowPaging&&this.parent.selectionSettings.persistSelection){var s=this.persistSelectedRecordsCount;return t=this.disableSelectableRecordsCount+this.partialSelectableRecordsCount,t===this.totalRecordsCount&&s!==0&&s===this.partialSelectableRecordsCount}else return t=i.filter(function(a){return a.isSelectable}).length,t&&e===t},r.prototype.keyDownHandler=function(e){(ne.info.name==="opera"&&e.keyCode===17||ne.info.name==="mozilla"&&e.keyCode===224||(ne.info.name==="safari"||ne.info.name==="chrome")&&(e.keyCode===91||e.keyCode===93))&&(this.cmdKeyPressed=!0);var t=he(e.target,"e-headercell"),i=he(e.target,Gt),n=t?t.children[0].classList.contains("e-headerchkcelldiv"):i?i.classList.contains("e-gridchkbox"):!1;n&&!this.parent.allowKeyboard&&e.keyCode===32&&e.preventDefault()},r.prototype.keyUpHandler=function(e){(ne.info.name==="opera"&&e.keyCode===17||ne.info.name==="mozilla"&&e.keyCode===224||(ne.info.name==="safari"||ne.info.name==="chrome")&&(e.keyCode===91||e.keyCode===93))&&(this.cmdKeyPressed=!1)},r.prototype.clickHandler=function(e){var t=e.target;this.actualTarget=t,!this.isAutoFillSel&&!e.ctrlKey&&!e.shiftKey&&(this.startAFCell=this.endAFCell=null),this.selectionSettings.persistSelection&&(this.deSelectedData=this.persistSelectedData.slice()),(he(t,jn)||he(t,"e-headerchkcelldiv")||this.selectionSettings.allowColumnSelection&&t.classList.contains("e-headercell"))&&(this.isInteracted=!0),this.cmdKeyPressed=e.metaKey,this.isMultiCtrlRequest=e.ctrlKey||this.enableSelectMultiTouch||this.isMacOS&&this.cmdKeyPressed,this.parent.allowKeyboard?this.isMultiShiftRequest=e.shiftKey:(this.isMultiShiftRequest=!1,this.isMultiCtrlRequest=!1),this.isMultiCtrlRequestCell=this.isMultiCtrlRequest,this.popUpClickHandler(e);var i=!1;this.preventFocus=!0;var n,s=he(t,"e-checkbox-wrapper");if(this.checkSelectAllClicked=!!(s&&s.getElementsByClassName("e-checkselectall")||this.selectionSettings.persistSelection&&he(t,jn)),this.selectionSettings.persistSelection&&this.isPartialSelection&&he(t,"e-headerchkcelldiv")&&!t.querySelector(".e-checkbox-disabled")&&!(this.parent.getDataModule().isRemote()||!p(this.parent.dataSource)&&this.parent.dataSource.result)&&(this.isHdrSelectAllClicked=!0),s&&s.querySelectorAll(".e-checkselect,.e-checkselectall").length>0&&(n=s.querySelector('input[type="checkbox"]'),i=!0),this.drawBorders(),this.updateAutoFillPosition(),t=he(t,Gt),this.parent.isReact&&t&&!t.parentElement&&t.classList.contains("e-rowcell")&&(t=this.parent.getCellFromIndex(parseInt(t.getAttribute("data-index"),10),parseInt(t.getAttribute("aria-colindex"),10)-1)),this.isRowDragSelected&&p(t)&&this.parent.allowRowDragAndDrop&&this.checkSelectAllClicked&&(this.isRowDragSelected=!1),(t&&t.parentElement.classList.contains(jn)&&!this.parent.selectionSettings.checkboxOnly||i)&&!this.isRowDragSelected){if(this.parent.isCheckBoxSelection&&(this.isMultiCtrlRequest=!0),this.target=t,!p(n))this.checkedTarget=n,n.classList.contains("e-checkselectall")?this.checkSelectAll(n):this.checkSelect(n);else{var o=0;o=parseInt(t.parentElement.getAttribute(Ti),10)-1,this.parent.isPersistSelection&&!this.parent.editSettings.showAddNewRow&&this.parent.element.getElementsByClassName(qu).length>0&&++o,(!this.mUPTarget||!this.mUPTarget.isEqualNode(t))&&this.rowCellSelectionHandler(o,parseInt(t.getAttribute(Qi),10)-1),this.parent.isCheckBoxSelection&&(this.moveIntoUncheckCollection(xe(t,"."+jn)),this.setCheckAllState())}!this.parent.isCheckBoxSelection&&ne.isDevice&&!this.isSingleSel()&&this.showPopup(e)}else if(e.target.classList.contains("e-headercell")&&!e.target.classList.contains("e-stackedheadercell")){var a=e.target.querySelector(".e-headercelldiv").getAttribute("data-mappinguid");this.headerSelectionHandler(this.parent.getColumnIndexByUid(a))}this.isMultiCtrlRequest=!1,this.isMultiCtrlRequestCell=this.isMultiCtrlRequest,this.isMultiShiftRequest=!1,p(xe(e.target,".e-unboundcell"))&&(this.preventFocus=!1)},r.prototype.popUpClickHandler=function(e){var t=e.target;xe(t,".e-headercell")||e.target.classList.contains(Gt)||xe(t,".e-gridpopup")?t.classList.contains("e-rowselect")&&(t.classList.contains("e-spanclicked")?(t.classList.remove("e-spanclicked"),this.enableSelectMultiTouch=!1,this.parent.element.querySelector(".e-gridpopup").style.display="none"):(t.classList.add("e-spanclicked"),this.enableSelectMultiTouch=!0)):this.parent.element.querySelector(".e-gridpopup").style.display="none"},r.prototype.showPopup=function(e){this.selectionSettings.enableSimpleMultiRowSelection||Mte(this.parent.element.querySelector(".e-gridpopup"),e,"e-rowselect e-icons e-icon-rowselect"+(!this.isSingleSel()&&(this.selectedRecords.length>1||this.selectedRowCellIndexes.length>1)?" e-spanclicked":""))},r.prototype.rowCellSelectionHandler=function(e,t){if(!this.isMultiCtrlRequest&&!this.isMultiShiftRequest||this.isSingleSel())this.isDragged||this.selectRow(e,this.selectionSettings.enableToggle),this.selectCell({rowIndex:e,cellIndex:t},this.selectionSettings.enableToggle),this.selectedRowCellIndexes.length&&this.updateAutoFillPosition(),this.drawBorders();else if(this.isMultiShiftRequest){var i=xe(this.target,"."+Gt).classList.contains(Wu);this.parent.isCheckBoxSelection||!this.parent.isCheckBoxSelection&&!i||this.parent.getColumns().some(function(o){return o.type==="checkbox"})&&this.selectionSettings.checkboxMode==="ResetOnRowClick"&&i?this.selectRowsByRange(Je(this.prevRowIndex)?e:this.prevRowIndex,e):this.addRowsToSelection([e]),this.selectCellsByRange(Je(this.prevCIdxs)?{rowIndex:e,cellIndex:t}:this.prevCIdxs,{rowIndex:e,cellIndex:t}),this.updateAutoFillPosition(),this.drawBorders()}else{if(this.addRowsToSelection([e]),this.selectionSettings.mode==="Both"){var n=this.parent.getColumns().find(function(o){return o.type==="checkbox"}),s=n&&n.index!==t;s&&!this.isMultiCtrlRequestCell?this.selectCell({rowIndex:e,cellIndex:t},this.selectionSettings.enableToggle):(!n||s)&&this.addCellsToSelection([{rowIndex:e,cellIndex:t}])}else this.addCellsToSelection([{rowIndex:e,cellIndex:t}]);this.showHideBorders("none")}this.isDragged=!1},r.prototype.onCellFocused=function(e){if((this.parent.frozenRows||this.parent.pinnedTopRecords.length)&&e.container.isHeader&&e.byKey)if(e.keyArgs.action==="upArrow")this.parent.allowFiltering?e.isJump=e.element.tagName==="INPUT":e.isJump=e.element.tagName==="TH";else if(e.keyArgs.action==="downArrow"){var t=Number(e.element.parentElement.getAttribute(Ti))-1;e.isJump=t===0}else e.keyArgs.action==="ctrlHome"&&(e.isJump=!0);var i=(e.container.isHeader&&e.isJump||e.container.isContent&&!e.container.isSelectable)&&!(e.byKey&&e.keyArgs.action==="space")&&!(e.element.classList.contains("e-detailrowexpand")||e.element.classList.contains("e-detailrowcollapse")),n=e.container.isHeader&&e.element.tagName!=="TD"&&!xe(e.element,"."+Gt)&&!(e.byKey&&e.keyArgs.action==="space");if(!e.byKey||i){i&&!(this.parent.isCheckBoxSelection||this.selectionSettings.persistSelection&&(e.parent.classList.contains("e-recordplusexpand")||e.parent.classList.contains("e-recordpluscollapse")||e.parent.classList.contains("e-groupcaption")))&&this.clearSelection();return}var s=e.container.isContent?e.container.indexes:e.indexes,o=s[0],a=s[1],l=this.focus.getPrevIndexes();if((e.element.parentElement.querySelector(".e-rowcelldrag")||e.element.parentElement.querySelector(".e-dtdiagonalright")||e.element.parentElement.querySelector(".e-dtdiagonaldown"))&&(l.cellIndex=l.cellIndex-1),this.parent.frozenRows||this.parent.pinnedTopRecords.length)if(e.container.isHeader&&(e.element.tagName==="TD"||xe(e.element,"."+Gt))){var h=this.parent.getHeaderTable().querySelector("thead").childElementCount;this.parent.editSettings.showAddNewRow&&this.parent.editSettings.newRowPosition==="Top"&&e.keyArgs.action==="upArrow"&&h++,o-=h,l.rowIndex=p(l.rowIndex)?null:l.rowIndex-h}else o+=this.parent.frozenRows||this.parent.pinnedTopRecords.length,l.rowIndex=l.rowIndex===0||!p(l.rowIndex)?l.rowIndex+(this.parent.frozenRows||this.parent.pinnedTopRecords.length):null;if(this.parent.enableInfiniteScrolling&&this.parent.infiniteScrollSettings.enableCache&&(o=parseInt(e.element.parentElement.getAttribute("aria-rowindex"),10)-1),!((n||["ctrlPlusA","escape"].indexOf(e.keyArgs.action)===-1&&e.keyArgs.action!=="space"&&o===l.rowIndex&&a===l.cellIndex)&&!this.selectionSettings.allowColumnSelection)){this.parent.enableVirtualization&&(o=parseInt(e.element.parentElement.getAttribute("aria-rowindex"),10)-1,!this.parent.enableColumnVirtualization&&!this.parent.groupSettings.columns.length&&this.parent.totalDataRecordsCount>=1&&(e.keyArgs.action==="ctrlHome"?(o=0,this.parent.isFocusFirstCell=!0):e.keyArgs.action==="ctrlEnd"&&(o=this.parent.totalDataRecordsCount-1,this.isFocusLastCell=!0))),this.parent.editSettings.showAddNewRow&&this.parent.editSettings.newRowPosition==="Top"&&!this.parent.enableVirtualization&&!this.parent.enableInfiniteScrolling&&e.keyArgs.action==="downArrow"&&o--,this.preventFocus=!0;var u=this.getKeyColIndex(e);if(this.needColumnSelection&&(a=u),this.parent.element.classList.contains("e-gridcell-read")&&(e.keyArgs.action==="tab"||e.keyArgs.action==="shiftTab"||e.keyArgs.action==="rightArrow"||e.keyArgs.action==="leftArrow")){var c=this.target.getAttribute("aria-label");c=this.target.innerHTML+" column header "+this.parent.getColumnByIndex(a).field,this.target.setAttribute("aria-label",c)}switch(e.keyArgs.action){case"downArrow":case"upArrow":case"enter":case"shiftEnter":this.target=e.element,this.isKeyAction=!0,this.applyDownUpKey(o,a);break;case"rightArrow":case"leftArrow":this.applyRightLeftKey(o,a);break;case"shiftDown":case"shiftUp":this.shiftDownKey(o,a);break;case"shiftLeft":case"shiftRight":this.applyShiftLeftRightKey(o,a);break;case"home":case"end":a=e.keyArgs.action==="end"?this.getLastColIndex(o):0,this.applyHomeEndKey(o,a);break;case"ctrlHome":case"ctrlEnd":this.applyCtrlHomeEndKey(o,a);break;case"escape":this.clearSelection(),this.parent.clipboardModule&&window.navigator.clipboard.writeText("");break;case"ctrlPlusA":this.ctrlPlusA();break;case"space":this.applySpaceSelection(e.element);break;case"tab":this.parent.editSettings.allowNextRowEdit&&this.selectRow(o);break}this.needColumnSelection=!1,this.preventFocus=!1,this.positionBorders(),this.parent.isFrozenGrid()&&(this.showHideBorders("none",!0),this.refreshFrozenBorders()),this.updateAutoFillPosition()}},r.prototype.getKeyColIndex=function(e){var t,i=null,n=e.element.querySelector(".e-stackedheadercelldiv");if(this.selectionSettings.allowColumnSelection&&he(e.element,"e-columnheader"))if(this.needColumnSelection=!!e.container.isHeader,n){if(e.keyArgs.action==="rightArrow"||e.keyArgs.action==="leftArrow")return i;t=n.getAttribute("data-mappinguid");var s=this.getstackedColumns(this.parent.getColumnByUid(t).columns),o=this.parent.getColumnIndexByUid(s[s.length-1].uid),a=this.parent.getColumnIndexByUid(s[0].uid);i=this.prevColIndex>=o?a:o}else p(e.element.querySelector(".e-headercelldiv"))||(i=this.parent.getColumnIndexByUid(e.element.querySelector(".e-headercelldiv").getAttribute("data-mappinguid")));return i},r.prototype.ctrlPlusA=function(){if(this.isRowType()&&!this.isSingleSel()){var e=this.parent.getRowsObject();this.selectRowsByRange(e[0].index,e[e.length-1].index)}this.isCellType()&&!this.isSingleSel()&&this.selectCellsByRange({rowIndex:0,cellIndex:0},{rowIndex:this.parent.getRows().length-1,cellIndex:this.parent.getColumns().length-1})},r.prototype.applySpaceSelection=function(e){e.classList.contains("e-checkselectall")?(this.checkedTarget=e,this.checkSelectAll(this.checkedTarget)):e.classList.contains("e-checkselect")&&(this.checkedTarget=e,this.checkSelect(this.checkedTarget))},r.prototype.applyDownUpKey=function(e,t){var i=this.parent;this.parent.isCheckBoxSelection&&this.parent.checkAllRows==="Check"&&!this.selectionSettings.persistSelection&&!this.selectionSettings.checkboxOnly&&(this.checkSelectAllAction(!1),this.checkedTarget=null),this.isRowType()&&!this.selectionSettings.checkboxOnly&&!((this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&this.parent.pinnedTopRowModels.length)&&(this.parent.frozenRows||this.parent.pinnedTopRecords.length?(this.selectRow(e,!0),this.applyUpDown(i.selectedRowIndex)):(this.selectRow(e,!0),this.applyUpDown(i.selectedRowIndex))),this.isCellType()&&this.selectCell({rowIndex:e,cellIndex:t},!0),this.selectionSettings.allowColumnSelection&&this.needColumnSelection&&this.selectColumn(t)},r.prototype.applyUpDown=function(e){if(!(e<0)){this.target||(this.target=this.parent.getRows()[0].children[this.parent.groupSettings.columns.length||0]);var t=parseInt(this.target.getAttribute(Qi),10)-1,i=this.contentRenderer.getRowByIndex(e);if(i&&(this.target=i.getElementsByClassName(Gt)[parseInt(t.toString(),10)]),this.addAttribute(this.target),this.parent.element.classList.contains("e-gridcell-read")){var n=this.target.getAttribute("aria-label");n=this.target.innerHTML,this.target.setAttribute("aria-label",n)}}},r.prototype.applyRightLeftKey=function(e,t){this.selectionSettings.allowColumnSelection&&this.needColumnSelection?this.selectColumn(t):this.isCellType()&&(this.selectCell({rowIndex:e,cellIndex:t},!0),this.addAttribute(this.target))},r.prototype.applyHomeEndKey=function(e,t){this.isCellType()?this.selectCell({rowIndex:e,cellIndex:t},!0):this.addAttribute(this.parent.getCellFromIndex(e,t))},r.prototype.shiftDownKey=function(e,t){this.isMultiShiftRequest=!0,this.isRowType()&&!this.isSingleSel()&&(Je(this.prevRowIndex)?this.isPartialSelection?this.selectRow(e,!0):this.selectRow(0,!0):(this.selectRowsByRange(this.prevRowIndex,e),this.applyUpDown(e))),this.isCellType()&&!this.isSingleSel()&&this.selectCellsByRange(this.prevCIdxs||{rowIndex:0,cellIndex:0},{rowIndex:e,cellIndex:t}),this.isMultiShiftRequest=!1},r.prototype.applyShiftLeftRightKey=function(e,t){this.isMultiShiftRequest=!0,this.selectionSettings.allowColumnSelection&&this.needColumnSelection?this.selectColumnsByRange(this.prevColIndex,t):this.selectCellsByRange(this.prevCIdxs,{rowIndex:e,cellIndex:t}),this.isMultiShiftRequest=!1},r.prototype.getstackedColumns=function(e){for(var t=[],i=0,n=e.length;i<n;i++)e[parseInt(i.toString(),10)].columns?this.getstackedColumns(e[parseInt(i.toString(),10)].columns):t.push(e[parseInt(i.toString(),10)]);return t},r.prototype.applyCtrlHomeEndKey=function(e,t){this.isRowType()&&(this.selectRow(e,!0),this.parent.enableVirtualization||this.parent.enableColumnVirtualization||this.addAttribute(this.parent.getCellFromIndex(e,t))),this.isCellType()&&this.selectCell({rowIndex:e,cellIndex:t},!0)},r.prototype.addRemoveClassesForRow=function(e,t,i){for(var n=[],s=3;s<arguments.length;s++)n[s-3]=arguments[s];if(e){var o=[].slice.call(e.getElementsByClassName(Gt)),a=e.querySelector(".e-detailrowcollapse")||e.querySelector(".e-detailrowexpand"),l=e.querySelector(".e-rowdragdrop");a&&o.push(a),l&&o.push(l),Wl.apply(void 0,[o,t].concat(n))}this.getRenderer().setSelection(e?e.getAttribute("data-uid"):null,t,i)},r.prototype.isRowType=function(){return this.selectionSettings.mode==="Row"||this.selectionSettings.mode==="Both"},r.prototype.isCellType=function(){return this.selectionSettings.mode==="Cell"||this.selectionSettings.mode==="Both"},r.prototype.isSingleSel=function(){return this.selectionSettings.type==="Single"},r.prototype.getRenderer=function(){return p(this.contentRenderer)&&(this.contentRenderer=this.factory.getRenderer(jr.Content)),this.contentRenderer},r.prototype.getSelectedRecords=function(){var e=[];return!this.selectionSettings.persistSelection&&this.selectedRecords.length?e=this.parent.getRowsObject().filter(function(t){return t.isSelected}).map(function(t){return t.data}):e=this.persistSelectedData,this.checkVirtualCheckBox()&&!this.parent.isPersistSelection?e=this.virtualSelectedData:(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&!(this.parent.getDataModule().isRemote()||!p(this.parent.dataSource)&&this.parent.dataSource.result)&&this.parent.isCheckBoxSelection&&this.isPartialSelection&&!this.parent.isPersistSelection?e=this.partialSelectedData:(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&this.parent.isRemote()&&this.isPartialSelection&&!this.parent.isPersistSelection&&(e=this.persistSelectedData),e},r.prototype.selectColumn=function(e){var t=this.parent;if(!p(t.getColumns()[parseInt(e.toString(),10)])){var i=t.getColumnByIndex(e),n=t.getColumnHeaderByUid(i.uid),s=n.classList.contains("e-columnselection");if(t.selectionSettings.allowColumnSelection){var o=this.selectedColumnsIndexes.length>1&&this.selectedColumnsIndexes.indexOf(e)>-1;if(this.clearColDependency(),!this.selectionSettings.enableToggle||o||!s){var a={columnIndex:e,headerCell:n,column:i,cancel:!1,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest};if(this.onActionBegin(a,t0),a.cancel){this.disableInteracted();return}(o||!(s&&t.selectionSettings.enableToggle&&e===this.prevColIndex))&&this.updateColSelection(n,e);var l={columnIndex:e,headerCell:n,column:i,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex};this.onActionComplete(l,i0)}this.updateColProps(e)}}},r.prototype.selectColumnsByRange=function(e,t){var i=this.parent;if(!p(i.getColumns()[parseInt(e.toString(),10)])){var n=[];if(i.selectionSettings.type==="Single"||p(t))n[0]=e;else for(var s=e<t,o=e;s?o<=t:o>=t;s?o++:o--)n.push(o);this.selectColumns(n)}},r.prototype.selectColumns=function(e){var t=this.parent,i=this.getselectedCols();if(t.selectionSettings.type==="Single"&&(e=[e[0]]),!!t.selectionSettings.allowColumnSelection){this.clearColDependency();var n={columnIndex:e[0],headerCell:i,columnIndexes:e,column:t.getColumnByIndex(e[0]),cancel:!1,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest};if(this.onActionBegin(n,t0),n.cancel){this.disableInteracted();return}for(var s=0,o=e.length;s<o;s++)this.updateColSelection(t.getColumnHeaderByUid(t.getColumnByIndex(e[parseInt(s.toString(),10)]).uid),e[parseInt(s.toString(),10)]);i=this.getselectedCols();var a={columnIndex:e[0],headerCell:i,columnIndexes:e,column:t.getColumnByIndex(e[0]),target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex};this.onActionComplete(a,i0),this.updateColProps(e[0])}},r.prototype.selectColumnWithExisting=function(e){var t=this.parent;if(!p(t.getColumns()[parseInt(e.toString(),10)])){var i=t.getColumnHeaderByUid(t.getColumnByIndex(e).uid),n=this.getselectedCols();if(t.selectionSettings.type==="Single"&&this.clearColDependency(),!!t.selectionSettings.allowColumnSelection){if(this.selectedColumnsIndexes.indexOf(e)>-1)this.clearColumnSelection(e);else{var s={columnIndex:e,headerCell:n,columnIndexes:this.selectedColumnsIndexes,column:t.getColumnByIndex(e),cancel:!1,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest};if(this.onActionBegin(s,t0),s.cancel){this.disableInteracted();return}this.updateColSelection(i,e),n=this.getselectedCols();var o={columnIndex:e,headerCell:n,column:t.getColumnByIndex(e),columnIndexes:this.selectedColumnsIndexes,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex};this.onActionComplete(o,i0)}this.updateColProps(e)}}},r.prototype.clearColumnSelection=function(e){if(this.isColumnSelected){var t=this.parent;if(!p(e)&&this.selectedColumnsIndexes.indexOf(e)===-1)return;var i=p(e)?this.selectedColumnsIndexes[this.selectedColumnsIndexes.length-1]:e,n=t.getColumnByIndex(i),s=t.getColumnHeaderByUid(n.uid),o={columnIndex:i,headerCell:s,columnIndexes:this.selectedColumnsIndexes,column:n,cancel:!1,target:this.actualTarget,isInteracted:this.isInteracted},a=this.columnDeselect(o,OZ);if(a){this.disableInteracted();return}for(var l=p(e)?[].slice.call(t.getHeaderContent().getElementsByClassName("e-columnselection")):[s],h=this.getSelectedColumnCells(e),u=0,c=l.length;u<c;u++)Wl([l[parseInt(u.toString(),10)]],!1,"e-columnselection");for(var u=0,c=h.length;u<c;u++)Wl([h[parseInt(u.toString(),10)]],!1,"e-columnselection");p(e)?(this.columnDeselect(o,RZ),this.selectedColumnsIndexes=[],this.isColumnSelected=!1,this.parent.getColumns().filter(function(d){return d.isSelected=!1})):(this.selectedColumnsIndexes.splice(this.selectedColumnsIndexes.indexOf(e),1),this.parent.getColumns()[parseInt(e.toString(),10)].isSelected=!1)}},r.prototype.getselectedCols=function(){var e=this.parent,t;if(this.selectedColumnsIndexes.length>1){t=[];for(var i=0;i<this.selectedColumnsIndexes.length;i++)t.push(e.getColumnHeaderByUid(e.getColumnByIndex(this.selectedColumnsIndexes[parseInt(i.toString(),10)]).uid))}else t=e.getColumnHeaderByUid(e.getColumnByIndex(this.selectedColumnsIndexes[0]).uid);return t},r.prototype.getSelectedColumnCells=function(e){for(var t=this.parent,i=!p(this.parent.rowTemplate),n=i?t.getRows():t.getDataRows(),s=[],o=p(e)?".e-columnselection":'[aria-colindex="'+(e+1)+'"]',a=0,l=n.length;a<l;a++)s=s.concat([].slice.call(n[parseInt(a.toString(),10)].querySelectorAll(o)));return s},r.prototype.columnDeselect=function(e,t){return t==="columnDeselected"&&delete e.cancel,this.onActionComplete(e,t),e.cancel},r.prototype.updateColProps=function(e){this.prevColIndex=e,this.isColumnSelected=this.selectedColumnsIndexes.length&&!0},r.prototype.clearColDependency=function(){this.clearColumnSelection(),this.selectedColumnsIndexes=[]},r.prototype.updateColSelection=function(e,t){if(!p(this.parent.getColumns()[parseInt(t.toString(),10)])){var i=!p(this.parent.rowTemplate),n=i?this.parent.getRows():this.parent.getDataRows();this.selectedColumnsIndexes.push(t),this.parent.getColumns()[parseInt(t.toString(),10)].isSelected=!0,t=t+this.parent.getIndentCount(),Wl([e],!0,"e-columnselection");for(var s=0,o=n.length;s<o;s++)if(n[parseInt(s.toString(),10)].classList.contains(jn))if((n[parseInt(s.toString(),10)].classList.contains(Qd)||n[parseInt(s.toString(),10)].classList.contains(qu))&&this.parent.editSettings.mode==="Normal"&&!p(n[parseInt(s.toString(),10)].querySelector("tr").childNodes[parseInt(t.toString(),10)]))Wl([n[parseInt(s.toString(),10)].querySelector("tr").childNodes[parseInt(t.toString(),10)]],!0,"e-columnselection");else if(this.parent.isSpan&&this.parent.isFrozenGrid())for(var a=n[parseInt(s.toString(),10)].querySelectorAll(".e-rowcell"),l=0;l<a.length;l++)a[parseInt(l.toString(),10)].getAttribute("aria-colindex")===e.getAttribute("aria-colindex")&&Wl([a[parseInt(l.toString(),10)]],!0,"e-columnselection");else p(n[parseInt(s.toString(),10)].childNodes[parseInt(t.toString(),10)])||Wl([n[parseInt(s.toString(),10)].childNodes[parseInt(t.toString(),10)]],!0,"e-columnselection")}},r.prototype.headerSelectionHandler=function(e){!this.isMultiCtrlRequest&&!this.isMultiShiftRequest||this.isSingleSel()?this.selectColumn(e):this.isMultiShiftRequest?this.selectColumnsByRange(Je(this.prevColIndex)?e:this.prevColIndex,e):this.selectColumnWithExisting(e)},r.prototype.addEventListener_checkbox=function(){var e=this;this.parent.on(Tp,this.dataReady,this),this.onDataBoundFunction=this.onDataBound.bind(this),this.parent.addEventListener(Ml,this.onDataBoundFunction),this.parent.on(SN,this.onDataBoundFunction),this.parent.on($i,this.checkBoxSelectionChanged,this),this.parent.on(TC,this.initPerisistSelection,this),this.parent.on(Mo,this.setCheckAllForEmptyGrid,this),this.parent.on(xl,this.clickHandler,this),this.resizeEndFn=function(){e.updateAutoFillPosition(),e.drawBorders()},this.resizeEndFn.bind(this),this.parent.addEventListener(sN,this.resizeEndFn)},r.prototype.removeEventListener_checkbox=function(){this.parent.off(Tp,this.dataReady),this.parent.removeEventListener(Ml,this.onDataBoundFunction),this.parent.off(SN,this.onDataBoundFunction),this.parent.off(Mo,this.setCheckAllForEmptyGrid),this.parent.off(xl,this.clickHandler),this.parent.removeEventListener(sN,this.resizeEndFn),this.parent.off(TC,this.initPerisistSelection)},r.prototype.setCheckAllForEmptyGrid=function(){var e=this.getCheckAllBox();if(e){this.parent.isCheckBoxSelection=!0;var t=e.nextElementSibling;ue([t],["e-check","e-stop","e-uncheck"]),Z([t.parentElement],["e-checkbox-disabled"])}},r.prototype.dataReady=function(e){this.isHeaderCheckboxClicked=!1;var t=this.parent.enableInfiniteScrolling&&e.requestType==="infiniteScroll";e.requestType!=="virtualscroll"&&!this.parent.isPersistSelection&&!t&&(this.disableUI=!this.parent.enableImmutableMode&&!(e.requestType==="save"&&e.action==="add"),this.clearSelection(),this.setCheckAllState(),this.disableUI=!1)},r.prototype.actionCompleteHandler=function(e){e.requestType==="save"&&this.parent.isPersistSelection&&this.refreshPersistSelection()},r.prototype.selectRowIndex=function(e){this.parent.isSelectedRowIndexUpdating=!0,p(this.parent.selectedRowIndex)||this.parent.selectedRowIndex===-1||!this.parent.enablePersistence?this.parent.selectedRowIndex=e:this.parent.selectedRowIndex=-1},r.prototype.disableInteracted=function(){this.isInteracted=!1},r.prototype.activeTarget=function(){this.actualTarget=this.isInteracted?this.actualTarget:null},r.prototype.getAvailableDataCount=function(e){var t="isTreeGrid";return this.parent[""+t]&&!this.parent.isRemote()?e.length:this.getAvailableSelectedData(e).length},r}(),Jee=function(){function r(e){this.headerFocus=!1,this.parent=e,this.addEventListener()}return r.prototype.hasNonNumericCharacters=function(e){for(var t=!1,i=0,n=e;i<n.length;i++){var s=n[i];if((s<"0"||s>"9")&&s!==".")return!0;if(s==="."){if(t)return!0;t=!0}}return!1},r.prototype.search=function(e){var t=this.parent;if(e=p(e)?"":e,uP(t)){t.notify(lX,{instance:this,handler:this.search,arg1:e});return}if(e!==t.searchSettings.key){if(this.headerFocus=!1,e!==""&&!this.hasNonNumericCharacters(e)){var i=e.split(".");e==="."||e.indexOf(".")===-1||i[0].startsWith("0")&&i[0].length>1?t.searchSettings.key=e.toString():t.searchSettings.key=parseFloat(e).toString()}else t.searchSettings.key=e.toString();this.parent.renderModule.resetPartialRecords(),t.dataBind()}else this.refreshSearch?t.refresh():this.headerFocus=!1},r.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(zr,this.onPropertyChanged,this),this.parent.on(oN,this.onSearchComplete,this),this.parent.on(js,this.destroy,this),this.actionCompleteFunc=this.onActionComplete.bind(this),this.parent.addEventListener(ls,this.actionCompleteFunc),this.parent.on(IC,this.cancelBeginEvent,this))},r.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(zr,this.onPropertyChanged),this.parent.off(oN,this.onSearchComplete),this.parent.off(js,this.destroy),this.parent.removeEventListener(ls,this.actionCompleteFunc),this.parent.off(IC,this.cancelBeginEvent))},r.prototype.destroy=function(){this.removeEventListener()},r.prototype.onPropertyChanged=function(e){e.module===this.getModuleName()&&(p(e.properties.key)?this.parent.notify(Qu,{requestType:"searching",type:vo}):this.parent.notify(Qu,{requestType:"searching",type:vo,searchString:this.parent.searchSettings.key}))},r.prototype.onSearchComplete=function(e){this.parent.trigger(ls,ie(e,{searchString:this.parent.searchSettings.key,requestType:"searching",type:ls}))},r.prototype.onActionComplete=function(e){this.refreshSearch&&e.requestType==="refresh"&&this.headerFocus&&(this.headerFocus=!1,this.parent.focusModule.focus(),Z([this.parent.focusModule.currentInfo.element],["e-focused"])),this.refreshSearch=e.requestType!=="searching"},r.prototype.cancelBeginEvent=function(e){e.requestType==="searching"&&this.parent.setProperties({searchSettings:{key:""}},!0)},r.prototype.getModuleName=function(){return"search"},r}(),Zee=function(){function r(e){this.colName=[],this.isShowHide=!1,this.parent=e,this.addEventListener(),this.widthService=new rD(e)}return r.prototype.addEventListener=function(){this.parent.isDestroyed||(this.evtHandlers=[{event:Fj,handler:this.batchChanges},{event:oee,handler:this.resetColumnState}],Nl(this.parent,this.evtHandlers,!0,this))},r.prototype.removeEventListener=function(){this.parent.isDestroyed||Nl(this.parent,this.evtHandlers,!1)},r.prototype.batchChanges=function(){this.isShowHide&&(this.isShowHide=!1,this.setVisible(this.colName,this.changedCol),this.changedCol=this.colName=[])},r.prototype.show=function(e,t){var i=this.getToggleFields(e),n=this.getColumns(i,t);if(this.parent.notify(SC,{module:"edit"}),this.parent.enableVirtualization&&this.parent.groupSettings.enableLazyLoading&&this.parent.groupSettings.columns.length){var s=n.filter(function(a){return!a.visible});s.forEach(function(a){return a.visible=!0}),s.length>0&&this.setVisible(s)}else{for(var o=0;o<n.length;o++)n[parseInt(o.toString(),10)].visible=!0;this.setVisible(n)}},r.prototype.hide=function(e,t){var i=this.getToggleFields(e),n=this.getColumns(i,t);if(this.parent.notify(SC,{module:"edit"}),this.parent.enableVirtualization&&this.parent.groupSettings.enableLazyLoading&&this.parent.groupSettings.columns.length){var s=n.filter(function(a){return a.visible});s.forEach(function(a){return a.visible=!1}),s.length>0&&this.setVisible(s)}else{for(var o=0;o<n.length;o++)n[parseInt(o.toString(),10)].visible=!1;this.setVisible(n)}},r.prototype.getToggleFields=function(e){var t=[];return typeof e=="string"?t=[e]:t=e,t},r.prototype.getColumns=function(e,t){var i=this,n=ao(e,function(s){return ao(i.parent.columnModel,function(o){if(o[""+t]===s)return o})[0]});return n},r.prototype.batchActionPrevent=function(e,t){return t===void 0&&(t=[]),uP(this.parent)?(this.colName=e,this.changedCol=t,this.parent.closeEdit(),!1):!0},r.prototype.resetColumnState=function(){if(this.isShowHide)for(var e=0;e<this.colName.length;e++)this.colName[parseInt(e.toString(),10)].visible=!this.colName[parseInt(e.toString(),10)].visible},r.prototype.setVisible=function(e,t){var i=this;if(t===void 0&&(t=[]),this.isShowHide=!0,!!this.batchActionPrevent(e,t)){t=t.length>0?t:e;var n={requestType:"columnstate",cancel:!1,columns:t},s="cancel";if(this.parent.enableInfiniteScrolling&&this.parent.allowGrouping&&this.parent.groupModule.groupSettings.columns.length>0&&(this.parent.contentModule.visibleRows=[]),this.parent.trigger(vo,n,function(a){var l=i.parent.getColumns();if(e=p(e)?l:e,a[""+s]){i.parent.notify(jX,{showHideArgs:a}),e.length>0&&(e[0].visible=!0);return}i.parent.notify($j,n),uo(i.parent)&&i.parent.contentModule.emptyVcRows();var h=i.parent.element.querySelector(".e-addedrow");i.parent.editSettings.showAddNewRow&&h&&(ot(h),(i.parent.enableVirtualization||i.parent.enableInfiniteScrolling)&&(i.parent.isAddNewRow=!0),i.parent.addNewRowFocus=!0,i.parent.isEdit=!1),i.parent.allowSelection&&i.parent.getSelectedRecords().length&&!i.parent.selectionSettings.persistSelection&&i.parent.clearSelection(),i.parent.enableColumnVirtualization?i.parent.notify(dy,{isModeChg:!0}):(i.parent.isFrozenGrid()||i.parent.enableColumnSpan)&&e.length?i.parent.notify(dy,{isModeChg:!0}):i.parent.notify(nD,e);var u={requestType:"columnstate",columns:t};i.parent.trigger(ls,u);var c=!i.parent.element.querySelector(".e-addedrow");i.parent.editSettings.showAddNewRow&&c&&(i.parent.isEdit=!1,i.parent.addRecord(),i.parent.enableVirtualization||i.parent.enableInfiniteScrolling||i.parent.notify(Yu,{})),i.parent.columnQueryMode!=="All"&&i.parent.refresh()}),!this.parent.groupSettings.columns.length){if(this.parent.autoFit)this.parent.preventAdjustColumns();else if(this.parent.allowResizing&&this.parent.resizeSettings.mode==="Normal"){var o=this.parent.getHeaderTable().style.width.indexOf("px")===-1;this.widthService.setWidthToTable(o)}}}},r}(),Xee=function(){function r(e){this.previousValues={top:0,left:0},this.oneTimeReady=!0,this.parent=e,this.widthService=new rD(e),this.addEventListener()}return r.prototype.getModuleName=function(){return"scroll"},r.prototype.setWidth=function(e){if(this.parent.element.style.width=mt(this.parent.width),e&&this.widthService.setWidthToColumns(),this.parent.toolbarModule&&this.parent.toolbarModule.toolbar&&this.parent.toolbarModule.toolbar.element){var t=this.parent.toolbarModule.toolbar.element,i=t.querySelector(".e-toolbar-left"),n=t.querySelector(".e-toolbar-center"),s=t.querySelector(".e-toolbar-right"),o=t.querySelector(".e-toolbar-items"),a=i?i.clientWidth:0,l=n?n.clientWidth:0,h=s?s.clientWidth:0,u=o?o.clientWidth:0,c=t?t.clientWidth:0;(!this.parent.enableAdaptiveUI||a>c||l>c||h>c||u>c)&&this.parent.toolbarModule.toolbar.refreshOverflow()}},r.prototype.setHeight=function(){var e=0,t=this.parent.getContent().querySelector("."+En),i=this.parent.height;if(this.parent.enableColumnVirtualization&&this.parent.isFrozenGrid()){this.parent.height!=="auto"&&this.parent.height.toString().indexOf("%")<0&&(i=parseInt(i,10)-r.getScrollBarWidth());var n=this.parent.getContent().querySelector(".e-movablescrollbar");this.parent.height.toString().indexOf("%")>0&&!p(n)&&(i="calc("+i+" - "+n.scrollHeight+"px)")}if(!this.parent.enableVirtualization&&this.parent.frozenRows&&this.parent.height!=="auto"&&this.parent.height!=="100%"){var s=this.parent.getHeaderContent().querySelector($t+":not(.e-masked-tbody)");if(e=s?s.offsetHeight:0,s&&e){var o=s.getElementsByClassName(qu).length,a=o*this.parent.getRowHeight();e-=a}else!this.parent.isInitialLoad&&this.parent.loadingIndicator.indicatorType==="Shimmer"&&this.parent.getHeaderContent().querySelector(".e-masked-table")&&(i=parseInt(i,10)-this.parent.frozenRows*this.parent.getRowHeight());t.style.height=mt(parseInt(i,10)-e)}else t.style.height=mt(i);this.ensureOverflow(t),this.parent.isFrozenGrid()&&this.refresh()},r.prototype.setPadding=function(){var e=this.parent.getHeaderContent(),t=r.getScrollBarWidth()-this.getThreshold(),i=this.getCssProperties();e.querySelector("."+Tn).style[i.border]=t>0?"1px":"0px",e.style[i.padding]=t>0?t+"px":"0px"},r.prototype.removePadding=function(e){var t=this.getCssProperties(e),i=this.parent.getHeaderContent().querySelector("."+Tn);i.style[t.border]="",i.parentElement.style[t.padding]="";var n=this.parent.getFooterContent();n&&n.classList.contains("e-footerpadding")&&n.classList.remove("e-footerpadding")},r.prototype.refresh=function(){if(this.parent.height==="100%"){var e=this.parent.getContent();this.parent.element.style.height="100%";var t=this.widthService.getSiblingsHeight(e);e.style.height="calc(100% - "+t+"px)"}},r.prototype.getThreshold=function(){var e=ne.info.name;return e==="mozilla"?.5:1+(1-window.devicePixelRatio)},r.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(Mo,this.wireEvents,this),this.parent.on($i,this.wireEvents,this),this.parent.on(fn,this.onPropertyChanged,this),this.parent.on(pN,this.wireEvents,this),this.parent.on(oa,this.setScrollLeft,this))},r.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(Mo,this.wireEvents),this.parent.off($i,this.wireEvents),this.parent.off(fn,this.onPropertyChanged),this.parent.off(pN,this.wireEvents),this.parent.off(oa,this.setScrollLeft),this.unwireEvents())},r.prototype.unwireEvents=function(){this.parent.frozenRows&&this.header&&(F.remove(this.header,"touchstart pointerdown",this.setPageXY),F.remove(this.header,"touchmove pointermove",this.onTouchScroll));var e=this.parent.getContent()?this.parent.getContent().querySelector(".e-movablescrollbar"):null;this.parent.isFrozenGrid()&&this.parent.enableColumnVirtualization&&(e&&F.remove(e,"scroll",this.onCustomScrollbarScroll),this.content&&(F.remove(this.content,"scroll",this.onCustomScrollbarScroll),F.remove(this.content,"touchstart pointerdown",this.setPageXY),/macintosh|ipad/.test(ne.userAgent.toLowerCase())&&ne.isDevice||F.remove(this.content,"touchmove pointermove",this.onTouchScroll)),this.header&&(F.remove(this.header,"scroll",this.onCustomScrollbarScroll),F.remove(this.header,"touchstart pointerdown",this.setPageXY),F.remove(this.header,"touchmove pointermove",this.onTouchScroll))),this.content&&F.remove(this.content,"scroll",this.contentScrollHandler),this.header&&F.remove(this.header,"scroll",this.headerScrollHandler),this.contentScrollHandler=null,this.headerScrollHandler=null,this.parent.aggregates.length&&this.parent.getFooterContent()&&F.remove(this.parent.getFooterContent().firstChild,"scroll",this.onContentScroll)},r.prototype.setScrollLeft=function(){this.parent.getHeaderContent().querySelector("."+Tn).scrollLeft=this.previousValues.left},r.prototype.updateFrozenShadow=function(e){var t=this.parent.getContent().firstElementChild;if(!(p(t)&&p(t))){var i=e||t,n=this.parent.enableRtl?Math.abs(i.scrollLeft):i.scrollLeft,s=n<=1;this.parent.getVisibleFrozenLeftCount()&&!s?Z([this.parent.element],"e-left-shadow"):ue([this.parent.element],"e-left-shadow");var o=this.parent.enableRtl?Math.abs(i.scrollLeft):i.scrollLeft,a=Math.round(o+i.clientWidth)>=i.scrollWidth-1;this.parent.getVisibleFrozenRightCount()?a?ue([this.parent.element],"e-right-shadow"):Z([this.parent.element],"e-right-shadow"):ue([this.parent.element],"e-right-shadow")}},r.prototype.onContentScroll=function(e){var t=this,i=e,n=i.classList.contains(Tn);return function(s){if(!(t.content.querySelector($t)===null||t.parent.isPreventScrollEvent)){var o=s.target;if(t.parent.frozenRows&&(t.content.scrollTop>0&&t.parent.frozenRows?Z([t.parent.element],"e-top-shadow"):ue([t.parent.element],"e-top-shadow")),t.parent.element.querySelectorAll(".e-leftfreeze,.e-fixedfreeze,.e-rightfreeze").length){var a=t.parent.getContent().querySelectorAll('.e-freezeerror:not([style*="display: none"])'),l=t.parent.getContent().querySelectorAll('.e-fixederror:not([style*="display: none"])');t.updateFrozenShadow(o);var h=[].slice.call(t.parent.getContent().querySelectorAll(".e-row:not(.e-hiddenrow)"));if((h.length===1&&a.length||t.parent.element.querySelector('.e-freeze-autofill:not([style*="display: none"])')||l.length)&&o.scrollLeft!==t.previousValues.left){o.scrollLeft=t.previousValues.left;return}if(h.length!==1&&(a.length||l.length)&&o.scrollTop!==t.previousValues.top){o.scrollTop=t.previousValues.top;return}}var u=o.scrollLeft;if(!p(t.parent.infiniteScrollModule)&&t.parent.enableInfiniteScrolling&&(!t.parent.isEdit||t.parent.editSettings.showAddNewRow&&!t.parent.element.querySelector(".e-editedrow"))&&t.parent.notify(AX,{target:s.target,isLeft:t.previousValues.left!==u}),t.parent.groupSettings.columns.length&&t.parent.groupSettings.enableLazyLoading){var c=t.previousValues.top<t.parent.getContent().firstElementChild.scrollTop;t.parent.notify(FX,{scrollDown:c})}t.parent.notify(DX,{});var d=o.classList.contains("e-summarycontent");if(t.previousValues.left===u){t.previousValues.top=n?o.scrollTop:t.previousValues.top;return}t.parent.notify(RX,s),i.scrollLeft=u,d&&(t.header.scrollLeft=u),t.previousValues.left=u,t.parent.notify(lN,{left:u})}}},r.prototype.onCustomScrollbarScroll=function(e,t){var i=this,n=e,s=t;return function(o){if(i.content.querySelector($t)!==null){var a=o.target,l=a.scrollLeft;i.previousValues.left!==l&&(n.scrollLeft=l,s.scrollLeft=l,i.previousValues.left=l,i.parent.notify(lN,{left:l}),i.parent.isDestroyed)}}},r.prototype.onTouchScroll=function(e){var t=this,i=e;return function(n){if(n.pointerType!=="mouse"){var s=t.parent.isFrozenGrid(),o=t.getPointXY(n),a=i.scrollLeft+(t.pageXY.x-o.x),l=t.parent.getHeaderContent().querySelector("."+Tn),h=t.parent.getContent().querySelector("."+En);if(!(t.previousValues.left===a||a<0||l.scrollWidth-l.clientWidth<a)){if(n.preventDefault(),l.scrollLeft=a,h.scrollLeft=a,s&&t.parent.enableColumnVirtualization){var u=t.parent.getContent().querySelector(".e-movablescrollbar");u.scrollLeft=a}t.pageXY.x=o.x,t.previousValues.left=a}}}},r.prototype.setPageXY=function(){var e=this;return function(t){t.pointerType!=="mouse"&&(e.pageXY=e.getPointXY(t))}},r.prototype.getPointXY=function(e){var t={x:0,y:0};return e.touches&&e.touches.length?(t.x=e.touches[0].pageX,t.y=e.touches[0].pageY):(t.x=e.pageX,t.y=e.pageY),t},r.prototype.getScrollbleParent=function(e){if(e===null)return null;var t=p(e.tagName)?e.scrollingElement:e,i=document.defaultView.getComputedStyle(t,null).overflowY;return t.scrollHeight>t.clientHeight&&i!=="hidden"&&i!=="visible"||e.tagName==="HTML"||e.tagName==="BODY"?e:this.getScrollbleParent(e.parentNode)},r.prototype.addStickyListener=function(e){this.parentElement=this.getScrollbleParent(this.parent.element.parentElement),e&&this.parentElement?(this.eventElement=this.parentElement.tagName==="HTML"||this.parentElement.tagName==="BODY"?document:this.parentElement,F.add(this.eventElement,"scroll",this.makeStickyHeader,this)):this.eventElement&&(F.remove(this.eventElement,"scroll",this.makeStickyHeader),this.eventElement=null)},r.prototype.resizeFrozenRowBorder=function(){var e;this.parent.element.querySelector(".e-frozenrow-border")?e=this.parent.element.querySelector(".e-frozenrow-border"):(e=this.parent.createElement("div",{className:"e-frozenrow-border"}),this.parent.element.insertBefore(e,this.parent.element.querySelector(".e-gridcontent")));var t=this.parent.height!=="auto"?r.getScrollBarWidth():0;e.style.width=this.parent.element.offsetWidth-t-.5+"px"},r.prototype.wireEvents=function(){var e=this;if(this.oneTimeReady){var t=this.parent.isFrozenGrid();this.content=this.parent.getContent().querySelector("."+En),this.header=this.parent.getHeaderContent().querySelector("."+Tn);var i=this.parent.getContent().querySelector(".e-movablescrollbar");(this.parent.frozenRows||this.parent.isRowPinned)&&this.header&&this.content&&(F.add(this.header,"touchstart pointerdown",this.setPageXY(),this),F.add(this.header,"touchmove pointermove",this.onTouchScroll(this.content),this)),t&&i&&this.parent.enableColumnVirtualization&&(F.add(i,"scroll",this.onCustomScrollbarScroll(this.content,this.header),this),F.add(this.content,"scroll",this.onCustomScrollbarScroll(i,this.header),this),F.add(this.header,"scroll",this.onCustomScrollbarScroll(i,this.content),this),F.add(this.header,"touchstart pointerdown",this.setPageXY(),this),F.add(this.header,"touchmove pointermove",this.onTouchScroll(this.content),this),F.add(this.content,"touchstart pointerdown",this.setPageXY(),this),/macintosh|ipad/.test(ne.userAgent.toLowerCase())&&ne.isDevice||F.add(this.content,"touchmove pointermove",this.onTouchScroll(this.header),this)),this.contentScrollHandler=this.onContentScroll(this.header),this.headerScrollHandler=this.onContentScroll(this.content),F.add(this.content,"scroll",this.contentScrollHandler,this),F.add(this.header,"scroll",this.headerScrollHandler,this),this.parent.aggregates.length&&F.add(this.parent.getFooterContent().firstChild,"scroll",this.onContentScroll(this.content),this),this.parent.enableStickyHeader&&this.addStickyListener(!0),this.refresh(),this.oneTimeReady=!1}var n=this.parent.getContentTable(),s,o,a;hP(function(){s=e.header.scrollLeft,o=n.scrollHeight,a=e.parent.getContent().clientHeight},function(){var l={cancel:!1};e.parent.notify(VX,l),o<a&&e.parent.height!=="auto"&&(e.setLastRowCell(),e.parent.notify(lee,l)),(e.parent.frozenRows||e.parent.pinnedTopRowModels.length)&&e.resizeFrozenRowBorder(),e.parent.element.querySelector(".e-frozenrow-border")&&((e.parent.pinnedTopRowModels.length||e.parent.frozenRows)&&e.parent.currentViewData.length?e.parent.element.querySelector(".e-frozenrow-border").classList.remove("e-frozenrow-empty"):e.parent.element.querySelector(".e-frozenrow-border").classList.add("e-frozenrow-empty")),!e.parent.enableVirtualization&&!e.parent.enableInfiniteScrolling&&(l.cancel||(e.header.scrollLeft=e.previousValues.left,e.content.scrollLeft=e.previousValues.left,e.content.scrollTop=e.previousValues.top)),e.parent.enableColumnVirtualization||(e.content.scrollLeft=s,e.parent.isFrozenGrid()&&(e.previousValues.left=s))}),this.parent.isPreventScrollEvent=!1},r.prototype.setLastRowCell=function(){var e=this.parent.getContentTable();ue(e.querySelectorAll("td"),"e-lastrowcell"),e.querySelector("tr:nth-last-child(2)")&&this.parent.editSettings.showAddNewRow&&this.parent.editSettings.newRowPosition==="Bottom"&&Z(e.querySelector("tr:nth-last-child(2)").querySelectorAll("td"),"e-lastrowcell"),Z(e.querySelectorAll("tr:last-child td"),"e-lastrowcell"),this.parent.isSpan&&Z(e.querySelectorAll(".e-row-span-lastrowcell"),"e-lastrowcell")},r.prototype.getCssProperties=function(e){var t={},i=p(e)?this.parent.enableRtl:e;return t.border=i?"borderLeftWidth":"borderRightWidth",t.padding=i?"paddingLeft":"paddingRight",t},r.prototype.ensureOverflow=function(e){e.style.overflowY=this.parent.height==="auto"?"auto":"scroll"},r.prototype.onPropertyChanged=function(e){if(e.module===this.getModuleName()){this.setPadding(),this.oneTimeReady=!0,this.parent.height==="auto"&&this.removePadding(),this.wireEvents(),this.setHeight();var t="width";this.setWidth(!p(e.properties[""+t]))}},r.prototype.makeStickyHeader=function(){if(this.parent.enableStickyHeader&&this.parent.element&&this.parent.getContent()){var e=this.parent.getContent().getClientRects()[0];if(e){var t=window.devicePixelRatio,i=this.parent.getHeaderContent(),n=this.parent.element.querySelector(".e-toolbar"),s=this.parent.element.querySelector(".e-groupdroparea"),o=i.offsetHeight+(n?n.offsetHeight:0)+(s?s.offsetHeight:0),a=this.parentElement.getClientRects()[0].top,l=e.top-(a<0?0:a),h=e.left,u=document.body.querySelector("#"+this.parent.element.id+"_columnmenu");if(t!==1&&(l=Math.ceil(l)),l<o&&e.bottom>0){i.classList.add("e-sticky");var c=0;s&&this.parent.groupSettings.showDropArea&&(this.setSticky(s,c,e.width,h,!0),c+=s.getClientRects()[0].height),n&&(this.setSticky(n,c,e.width,h,!0),c+=n.getClientRects()[0].height),this.setSticky(i,c,e.width,h,!0),p(u)||(u.style.position="fixed",u.style.top=o+"px")}else if(i.classList.contains("e-sticky")){this.setSticky(i,null,null,null,!1),n&&this.setSticky(n,null,null,null,!1),s&&this.setSticky(s,null,null,null,!1);var d=this.parent.element.querySelector(".e-ccdlg");if(d&&d.classList.remove("e-sticky"),!p(u)){u.style.position="absolute";var f=e.top-a;u.style.top=f+"px"}}this.parent.notify(iee,{})}}},r.prototype.setSticky=function(e,t,i,n,s){s?e.classList.add("e-sticky"):e.classList.remove("e-sticky"),e.style.width=i!=null?i+"px":"",e.style.top=t!=null?t+"px":"",e.style.left=n!==null?parseInt(e.style.left,10)!==n?n+"px":e.style.left:""},r.prototype.destroy=function(){var e=this.parent.element;if(!(!e||!e.querySelector("."+ds)&&!e.querySelector("."+aa))){this.removeEventListener();var t=this.parent.getContent().querySelector("."+En);F.remove(t,"scroll",this.onContentScroll),this.parent.enableStickyHeader&&this.addStickyListener(!1),this.removePadding(),ue([this.parent.getHeaderContent().querySelector("."+Tn)],Tn),ue([t],En),t.style.height="",this.parent.element.style.width=""}},r.getScrollBarWidth=function(){return Rr()},r}(),nP=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Uo=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},ete=function(r){nP(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.templateFn={},t}return e.prototype.setFormatter=function(t){this.formatFn=t},e.prototype.getFormatter=function(){return this.formatFn},e.prototype.setTemplate=function(t){t===void 0&&(t={}),this.footerTemplate!==void 0&&(this.templateFn[no(We,We.Summary)]={fn:Xt(this.footerTemplate,t),property:"footerTemplate"}),this.groupFooterTemplate!==void 0&&(this.templateFn[no(We,We.GroupSummary)]={fn:Xt(this.groupFooterTemplate,t),property:"groupFooterTemplate"}),this.groupCaptionTemplate!==void 0&&(this.templateFn[no(We,We.CaptionSummary)]={fn:Xt(this.groupCaptionTemplate,t),property:"groupCaptionTemplate"})},e.prototype.getTemplate=function(t){return this.templateFn[no(We,t)]},e.prototype.setPropertiesSilent=function(t){this.setProperties(t,!0)},Uo([I()],e.prototype,"type",void 0),Uo([I()],e.prototype,"field",void 0),Uo([I()],e.prototype,"columnName",void 0),Uo([I()],e.prototype,"format",void 0),Uo([I()],e.prototype,"footerTemplate",void 0),Uo([I()],e.prototype,"groupFooterTemplate",void 0),Uo([I()],e.prototype,"groupCaptionTemplate",void 0),Uo([I()],e.prototype,"customAggregate",void 0),e}(Xe),tte=function(r){nP(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Uo([Li([],ete)],e.prototype,"columns",void 0),e}(Xe),rP=function(){function r(e,t){this.copyContent="",this.isSelect=!1,this.parent=e,this.serviceLocator=t,this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on($i,this.initialEnd,this),this.parent.on(_u,this.keyDownHandler,this),this.parent.on(xl,this.clickHandler,this),this.parent.on(Mo,this.initialEnd,this),F.add(this.parent.element,"keydown",this.pasteHandler,this))},r.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(_u,this.keyDownHandler),this.parent.off($i,this.initialEnd),this.parent.off(xl,this.clickHandler),this.parent.off(Mo,this.initialEnd),F.remove(this.parent.element,"keydown",this.pasteHandler))},r.prototype.clickHandler=function(e){var t=e.target;t=he(t,"e-rowcell")},r.prototype.pasteHandler=function(e){var t=this,i=this.parent,n=/(Mac)/i.test(navigator.platform),s=this.parent.getSelectedRowCellIndexes();if(!i.isEdit&&e.keyCode===67&&n&&e.metaKey&&this.copy(),s.length&&e.keyCode===86&&(!n&&e.ctrlKey||n&&e.metaKey)&&!i.isEdit){var o=xe(document.activeElement,"."+Gt);if(!this.clipBoardTextArea||!o||!i.editSettings.allowEditing||i.editSettings.mode!=="Batch"||i.selectionSettings.mode!=="Cell"||i.selectionSettings.cellSelectionMode==="Flow")return;this.activeElement=document.activeElement;var a=window.scrollX,l=window.scrollY;this.clipBoardTextArea.focus(),setTimeout(function(){t.activeElement.focus(),window.scrollTo(a,l),t.paste(t.clipBoardTextArea.value,s[0].rowIndex,s[0].cellIndexes[0])},n?100:10)}},r.prototype.paste=function(e,t,i){for(var n=this.parent,s=i,o=t,a,l,h,u=e.split(`
`),c,d=0;d<u.length;d++){if(c=u[parseInt(d.toString(),10)].split("	"),s=i,d===u.length-1&&u[parseInt(d.toString(),10)]===""||Je(n.getRowByIndex(o))){s++;break}for(var f=0;f<c.length;f++){if(h=n.getCellFromIndex(o,s),!h){s++;break}if(a=n.getColumnByIndex(s),l=a.getParser()?a.getParser()(c[parseInt(f.toString(),10)]):c[parseInt(f.toString(),10)],a.allowEditing&&!a.isPrimaryKey){var g={column:a,data:l,rowIndex:o};this.parent.trigger(qZ,g),o=g.rowIndex,g.cancel||n.editModule&&(a.type==="number"?this.parent.editModule.updateCell(o,a.field,parseFloat(g.data)):n.editModule.updateCell(o,a.field,g.data))}s++}o++}n.selectionModule.selectCellsByRange({rowIndex:t,cellIndex:i},{rowIndex:o-1,cellIndex:s-1});var m=this.parent.getCellFromIndex(o-1,s-1);m&&Ki(m,["e-focus","e-focused"],[]),this.clipBoardTextArea.value=""},r.prototype.initialEnd=function(){this.l10n=this.serviceLocator.getService("localization"),this.parent.off($i,this.initialEnd),this.clipBoardTextArea=this.parent.createElement("textarea",{className:"e-clipboard",attrs:{tabindex:"-1","aria-label":this.l10n.getConstant("ClipBoard")}}),this.clipBoardTextArea.style.opacity="0",this.parent.element.appendChild(this.clipBoardTextArea)},r.prototype.keyDownHandler=function(e){e.action==="ctrlPlusC"?this.copy():e.action==="ctrlShiftPlusH"&&this.copy(!0)},r.prototype.setCopyData=function(e){if(window.getSelection().toString()===""){this.clipBoardTextArea.value=this.copyContent="";var t=this.parent.getDataRows();if(this.parent.selectionSettings&&this.parent.selectionSettings.allowColumnSelection&&this.parent.selectionModule&&this.parent.selectionModule.selectedColumnsIndexes.length){if(e){for(var i=this.parent.selectionModule.selectedColumnsIndexes,n=[],s=0;s<i.length;s++){var o=i[parseInt(s.toString(),10)],a=this.parent.getColumnHeaderByIndex(o);a&&!a.classList.contains("e-hide")&&n.push(a)}this.getCopyData(n,!1,"	",e),this.copyContent+=`
`}for(var l=0;l<t.length;l++){var h=[];l>0&&(this.copyContent+=`
`),h.push.apply(h,[].slice.call(t[parseInt(l.toString(),10)].querySelectorAll(".e-columnselection:not(.e-hide)"))),this.getCopyData(h,!1,"	",e)}}else if(this.parent.selectionSettings.mode!=="Cell"){var u=this.parent.getSelectedRowIndexes().sort(function(C,T){return C-T});if(e){for(var c=[],s=0;s<this.parent.getVisibleColumns().length;s++)c[parseInt(s.toString(),10)]=this.parent.getVisibleColumns()[parseInt(s.toString(),10)].headerText;this.getCopyData(c,!1,"	",e),this.copyContent+=`
`}if((this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&u.length>t.length){u=[];for(var s=0;s<t.length;s++){var d=t[parseInt(s.toString(),10)];d.getAttribute("aria-selected")==="true"&&u.push(parseInt(d.getAttribute("data-rowindex"),10))}}for(var s=0;s<u.length;s++){s>0&&(this.copyContent+=`
`);var f=[],g=u[parseInt(s.toString(),10)];!uo(this.parent)&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling&&this.parent.infiniteScrollSettings.enableCache||this.parent.groupSettings.columns.length&&this.parent.groupSettings.enableLazyLoading)&&(g=t.map(function(T){return T.getAttribute("data-rowindex")}).indexOf(u[parseInt(s.toString(),10)].toString()));var m=t[parseInt(g.toString(),10)];p(m)||(f.push.apply(f,[].slice.call(m.querySelectorAll(".e-rowcell:not(.e-hide)"))),this.getCopyData(f,!1,"	",e))}}else if(this.parent.selectionModule&&this.parent.selectionModule.selectedRowCellIndexes.length){var y=this.checkBoxSelection();if(y.status){if(e){for(var v=[],s=0;s<y.colIndexes.length;s++){var M=this.parent.getColumnHeaderByIndex(y.colIndexes[parseInt(s.toString(),10)]);M.classList.contains("e-hide")||v.push(M)}this.getCopyData(v,!1,"	",e),this.copyContent+=`
`}for(var s=0;s<y.rowIndexes.length;s++){s>0&&(this.copyContent+=`
`);var S=[].slice.call(t[y.rowIndexes[parseInt(s.toString(),10)]].querySelectorAll(".e-cellselectionbackground:not(.e-hide)"));this.getCopyData(S,!1,"	",e)}}else this.getCopyData([].slice.call(this.parent.element.getElementsByClassName("e-cellselectionbackground")),!0,`
`,e)}var b={data:this.copyContent,cancel:!1};if(this.parent.trigger(WZ,b),b.cancel)return;this.clipBoardTextArea.value=this.copyContent=b.data,ne.userAgent.match(/ipad|ipod|iphone/i)?this.clipBoardTextArea.setSelectionRange(0,this.clipBoardTextArea.value.length):this.clipBoardTextArea.select(),this.isSelect=!0}},r.prototype.getCopyData=function(e,t,i,n){for(var s=typeof e[0]!="string",o=0;o<e.length;o++){if(n&&t){var a=parseInt(e[parseInt(o.toString(),10)].getAttribute(Qi),10)-1;this.copyContent+=this.parent.getColumns()[parseInt(a.toString(),10)].headerText+`
`}s?e[parseInt(o.toString(),10)].classList.contains("e-hide")||(this.copyContent+=e[parseInt(o.toString(),10)].innerText):this.copyContent+=e[parseInt(o.toString(),10)],o<e.length-1&&(this.copyContent+=i)}},r.prototype.copy=function(e){document.queryCommandSupported("copy")&&this.clipBoardTextArea&&(this.setCopyData(e),document.execCommand("copy"),this.clipBoardTextArea.blur()),this.isSelect&&(window.getSelection().removeAllRanges(),this.isSelect=!1)},r.prototype.getModuleName=function(){return"clipboard"},r.prototype.destroy=function(){this.removeEventListener(),this.clipBoardTextArea&&(ot(this.clipBoardTextArea),this.clipBoardTextArea=null)},r.prototype.checkBoxSelection=function(){var e=this.parent,t={status:!1};if(e.selectionSettings.mode==="Cell"){var i=e.getSelectedRowCellIndexes(),n=void 0,s=[],o=void 0;for(o=0;o<i.length&&(i[parseInt(o.toString(),10)].cellIndexes.length&&s.push(i[parseInt(o.toString(),10)].rowIndex),!(i[parseInt(o.toString(),10)].cellIndexes.length&&(n||(n=JSON.stringify(i[parseInt(o.toString(),10)].cellIndexes.sort())),n!==JSON.stringify(i[parseInt(o.toString(),10)].cellIndexes.sort()))));o++);s.sort(function(a,l){return a-l}),o===i.length&&(t={status:!0,rowIndexes:s,colIndexes:i[0].cellIndexes})}return t},r}(),ko="https://ej2.syncfusion.com/documentation/grid",fy="https://ej2.syncfusion.com/documentation/",Lo="[EJ2Grid.Warning]",Yl="[EJ2Grid.Error]",tg="[EJ2Grid.Info]",gy=function(){function r(e){this.parent=e,this.parent.on("initial-end",this.patchadaptor,this)}return r.prototype.getModuleName=function(){return"logger"},r.prototype.log=function(e,t){e instanceof Array||(e=[e]);for(var i=e,n=0;n<i.length;n++){var s=sP[i[parseInt(n.toString(),10)]],o=s.check(t,this.parent);o.success&&console[s.logType](s.generateMessage(t,this.parent,o.options))}},r.prototype.patchadaptor=function(){var e=this.parent.getDataModule().dataManager.adaptor,t=e.beforeSend;t&&(e.beforeSend=function(i,n,s){t.call(e,i,n,s)})},r.prototype.destroy=function(){this.parent.isDestroyed||this.parent.off("initial-end",this.patchadaptor)},r}(),sP={module_missing:{type:"module_missing",logType:"warn",check:function(r,e){var t=e.getInjectedModules().map(function(n){return n.prototype.getModuleName()}),i=e.requiredModules().map(function(n){return n.member}).filter(function(n){return t.indexOf(n)===-1});return{success:i.filter(function(n){return n!=="resize"}).length>0,options:i}},generateMessage:function(r,e,t){return t=t.filter(function(i){return i!=="resize"}).reduce(function(i,n){return i+("* "+n+`
`)},""),Lo+`: MODULES MISSING
The following modules are not injected:.
`+(""+t)+("Refer to "+ko+"/module.html for documentation on importing feature modules.")}},promise_enabled:{type:"promise_enabled",logType:"error",check:function(){return{success:typeof Promise>"u"}},generateMessage:function(){return Yl+`: PROMISE UNDEFINED
Promise object is not present in the global environment,please use polyfil to support Promise object in your environment.
`+("Refer to "+fy+"/base/browser.html?#required-polyfills for more information.")}},primary_column_missing:{type:"primary_column_missing",logType:"warn",check:function(r,e){return{success:e.enableColumnVirtualization?e.getPrimaryKeyFieldNames().length===0:e.getColumns().filter(function(t){return t.isPrimaryKey}).length===0}},generateMessage:function(){return Lo+`: PRIMARY KEY MISSING
Editing is enabled but primary key column is not specified.
`+("Refer to "+ko+"/api-column.html?#isprimarykey for documentation on providing primary key columns.")}},selection_key_missing:{type:"selection_key_missing",logType:"warn",check:function(r,e){return{success:e.selectionSettings.persistSelection&&e.getColumns().filter(function(t){return t.isPrimaryKey}).length===0}},generateMessage:function(){return Lo+`: PRIMARY KEY MISSING
selectionSettings.persistSelection property is enabled. It requires one primary key column to persist selection.
`+("Refer to "+ko+"/api-column.html?#isprimarykey for documentation on providing primary key columns.")}},actionfailure:{type:"actionfailure",logType:"error",check:function(){return{success:!0}},generateMessage:function(r,e){var t="",i=ite(r),n=nte(r);return n!==""?t=n:i!==""?t=i:t=r.error,Lo+": "+t}},locale_missing:{type:"locale_missing",logType:"warn",check:function(r,e){var t=re.getObject("locale."+e.locale+".grid",so);return{success:e.locale!=="en-US"&&p(t)}},generateMessage:function(r,e){return Lo+`: LOCALE CONFIG MISSING
`+("Locale configuration for '"+e.locale+`' is not provided.
`)+("Refer to "+ko+`/globalization-and-localization.html?#localization 
             for documentation on setting locale configuration.`)}},limitation:{type:"limitation",logType:"warn",check:function(r,e){var t=r,i;switch(t){case"freeze":i={success:!Je(e.detailTemplate)||!Je(e.childGrid),options:{name:"freeze"}};break;case"virtualization":i={success:!Je(e.detailTemplate)||!Je(e.childGrid),options:{name:"virtualization"}};break;default:i={success:!1};break}return i},generateMessage:function(r,e,t){var i=t.name,n;switch(i){case"freeze":n=`Frozen rows and columns do not support the following features:
* Details Template
* Hierarchy Grid
`;break;case"virtualization":n=`Virtualization does not support the following features.
* Details Template.
* Hierarchy Grid.
`;break;default:n="";break}return Lo+(": "+i.toUpperCase()+` LIMITATIONS
`)+n}},check_datasource_columns:{type:"check_datasource_columns",logType:"warn",check:function(r,e){return{success:!(e.columns.length||e.dataSource instanceof fe||!p(e.dataSource)&&e.dataSource.length)}},generateMessage:function(){return Lo+`: GRID CONFIG MISSING
dataSource and columns are not provided in the grid. At least one of either must be provided for grid configuration.
`+("Refer to "+ko+"/columns.html for documentation on configuring the grid data and columns.")}},virtual_height:{type:"virtual_height",logType:"error",check:function(r,e){return{success:p(e.height)||e.height==="auto"}},generateMessage:function(){return Yl+`: GRID HEIGHT MISSING 
height property is required to use virtualization.
`+("Refer to "+ko+"/virtual.html for documentation on configuring the virtual grid.")}},grid_remote_edit:{type:"grid_remote_edit",logType:"error",check:function(r){return{success:Array.isArray(r)||Array.isArray(r.result)}},generateMessage:function(){return Yl+`: RETRUN VALUE MISSING  
Remote service returns invalid data. 
`+("Refer to "+ko+"/edit.html for documentation on configuring editing with remote data.")}},grid_sort_comparer:{type:"grid_sort_comparer",logType:"warn",check:function(r,e){return{success:e.getDataModule().isRemote()}},generateMessage:function(){return Lo+`: SORT COMPARER NOT WORKING  
Sort comparer will not work with remote data.`+("Refer to "+ko+"/sorting/#custom-sort-comparer for documentation on using the sort comparer.")}},resize_min_max:{type:"resize_min_max",logType:"info",check:function(r){return{success:r.column.minWidth&&r.column.minWidth>=r.width||r.column.maxWidth&&r.column.maxWidth<=r.width}},generateMessage:function(){return tg+`: RESIZING COLUMN REACHED MIN OR MAX  
The column resizing width is at its min or max.`}},action_disabled_column:{type:"action_disabled_column",logType:"info",check:function(r){var e=!0,t;switch(r.moduleName){case"reorder":p(r.destColumn)?t="reordering action is disabled for the "+r.column.headerText+" column":t="reordering action is disabled for the "+(r.column.allowReordering?r.destColumn.headerText:r.column.headerText)+" column";break;case"group":t="grouping action is disabled for the "+r.columnName+" column.";break;case"filter":t="filtering action is disabled for the "+r.columnName+" column.";break;case"sort":t="sorting action is disabled for the "+r.columnName+" column.";break}return{success:e,options:{fn:t}}},generateMessage:function(r,e,t){return tg+(`: ACTION DISABLED 
 `+t.fn)}},exporting_begin:{type:"exporting_begin",logType:"info",check:function(r){return{success:!0,options:{args:r}}},generateMessage:function(r,e,t){return tg+(`: EXPORTING INPROGRESS 
 Grid `+t.args+"ing is in progress")}},exporting_complete:{type:"exporting_complete",logType:"info",check:function(r){return{success:!0,options:{args:r}}},generateMessage:function(r,e,t){return tg+(`: EXPORTING COMPLETED 
 Grid `+t.args+"ing is complete")}},foreign_key_failure:{type:"foreign_key_failure",logType:"error",check:function(){return{success:!0}},generateMessage:function(){return Yl+`: FOREIGNKEY CONFIG 
  Grid foreign key column needs a valid data source/service.`+("Refer to "+ko+"/columns/#foreign-key-column for documentation on configuring foreign key columns.")}},initial_action:{type:"initial_action",logType:"error",check:function(r){var e=!0,t;switch(r.moduleName){case"group":t="The "+r.columnName+" column is not available in the grid's column model.Please provide a valid field name to group the column";break;case"filter":t="The "+r.columnName+" column is not available in the grid's column model.Please provide a valid field name to filter the column.";break;case"sort":t="The "+r.columnName+" column is not available in the grid's column model.Please provide a valid field name to sort the column.";break}return{success:e,options:{fn:t}}},generateMessage:function(r,e,t){return Yl+(`: INITIAL ACTION FAILURE 
 `+t.fn)}},frozen_rows_columns:{type:"frozen_rows_columns",logType:"error",check:function(r,e){return{success:e.getColumns().length<=e.frozenColumns||e.currentViewData.length&&e.frozenRows>=e.currentViewData.length}},generateMessage:function(r,e){return Yl+(`: OUT OF RANGE ERROR-
 `+(e.getColumns().length<=e.frozenColumns?"FROZEN COLUMNS,":""))+((e.frozenRows>=e.currentViewData.length?"FROZEN ROWS":"")+" invalid")}},column_type_missing:{type:"column_type_missing",logType:"error",check:function(r){return{success:p(r.column.type),options:r.column.headerText}},generateMessage:function(r,e,t){return Yl+(`: COLUMN TYPE MISSING-
  `+t+" column type was invalid or not defined.")+("Please go through below help link: "+fy+"/grid/columns/#column-type")}},datasource_syntax_mismatch:{type:"datasource_syntax_mismatch",logType:"warn",check:function(r){return{success:r.dataState.dataSource&&!(r.dataState.dataSource instanceof fe||"result"in r.dataState.dataSource||r.dataState.dataSource instanceof Array)&&!p(r.dataState.dataStateChange)}},generateMessage:function(){return Lo+`: DATASOURCE SYNTAX WARNING
DataSource should be in the form of {result: Object[], count: number}when dataStateChangeEvent used`}}},ite=function(r){var e=r.error;return e.indexOf&&e.indexOf("Format options")!==0?"":`INVALID FORMAT
For more information, refer to the following documentation links:
`+("Number format: "+fy+`/common/internationalization#supported-format-string
`)+("Date format: "+fy+`/common/internationalization#manipulating-datetime
`)+("Message: "+e)},nte=function(r){var e=re.getObject("error.error",r);if(p(e))return"";var t="";try{t=JSON.parse(e.responseText)}catch{t=""}return`XMLHTTPREQUEST FAILED
`+("Url: "+e.responseURL+`
`)+("Status: "+e.status+" - "+e.statusText+`
`)+(t!==""?"Message: "+t:"")},wr=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),kC=function(){return kC=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},kC.apply(this,arguments)},q=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},rte=function(r){wr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return q([I()],e.prototype,"field",void 0),q([I()],e.prototype,"direction",void 0),q([I(!1)],e.prototype,"isFromGroup",void 0),e}(Xe),ste=function(r){wr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return q([Li([],rte)],e.prototype,"columns",void 0),q([I(!0)],e.prototype,"allowUnsort",void 0),e}(Xe),oP=function(r){wr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return q([I()],e.prototype,"field",void 0),q([I()],e.prototype,"operator",void 0),q([I()],e.prototype,"value",void 0),q([I()],e.prototype,"matchCase",void 0),q([I(!1)],e.prototype,"ignoreAccent",void 0),q([I()],e.prototype,"predicate",void 0),q([I({})],e.prototype,"actualFilterValue",void 0),q([I({})],e.prototype,"actualOperator",void 0),q([I()],e.prototype,"type",void 0),q([I()],e.prototype,"ejpredicate",void 0),q([I()],e.prototype,"uid",void 0),q([I()],e.prototype,"isForeignKey",void 0),q([I()],e.prototype,"condition",void 0),e}(Xe),ote=function(r){wr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return q([I(!1)],e.prototype,"enableCache",void 0),q([I(3)],e.prototype,"maxBlocks",void 0),q([I(3)],e.prototype,"initialBlocks",void 0),e}(Xe),ate=function(r){wr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return q([Li([],oP)],e.prototype,"columns",void 0),q([I("FilterBar")],e.prototype,"type",void 0),q([I("OnEnter")],e.prototype,"mode",void 0),q([I(!0)],e.prototype,"showFilterBarStatus",void 0),q([I(1500)],e.prototype,"immediateModeDelay",void 0),q([I()],e.prototype,"operators",void 0),q([I(!1)],e.prototype,"ignoreAccent",void 0),q([I(!1)],e.prototype,"enableInfiniteScrolling",void 0),q([I(50)],e.prototype,"itemsCount",void 0),q([I("Shimmer")],e.prototype,"loadingIndicator",void 0),q([I(!1)],e.prototype,"enableCaseSensitivity",void 0),q([I(!1)],e.prototype,"showFilterBarOperator",void 0),e}(Xe),lte=function(r){wr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return q([I("Row")],e.prototype,"mode",void 0),q([I("Flow")],e.prototype,"cellSelectionMode",void 0),q([I("Single")],e.prototype,"type",void 0),q([I(!1)],e.prototype,"checkboxOnly",void 0),q([I(!1)],e.prototype,"persistSelection",void 0),q([I("Default")],e.prototype,"checkboxMode",void 0),q([I(!1)],e.prototype,"enableSimpleMultiRowSelection",void 0),q([I(!0)],e.prototype,"enableToggle",void 0),q([I(!1)],e.prototype,"allowColumnSelection",void 0),e}(Xe),hte=function(r){wr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return q([I([])],e.prototype,"fields",void 0),q([I("")],e.prototype,"key",void 0),q([I("contains")],e.prototype,"operator",void 0),q([I(!0)],e.prototype,"ignoreCase",void 0),q([I(!1)],e.prototype,"ignoreAccent",void 0),e}(Xe),aP=function(r){wr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return q([I()],e.prototype,"targetID",void 0),e}(Xe),ute=function(r){wr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return q([I("Both")],e.prototype,"wrapMode",void 0),e}(Xe),cte=function(r){wr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return q([I("Normal")],e.prototype,"mode",void 0),e}(Xe),dte=function(r){wr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return q([I(!0)],e.prototype,"showDropArea",void 0),q([I(!1)],e.prototype,"allowReordering",void 0),q([I(!1)],e.prototype,"showToggleButton",void 0),q([I(!1)],e.prototype,"showGroupedColumn",void 0),q([I(!0)],e.prototype,"showUngroupButton",void 0),q([I(!1)],e.prototype,"disablePageWiseAggregates",void 0),q([I([])],e.prototype,"columns",void 0),q([I()],e.prototype,"captionTemplate",void 0),q([I(!1)],e.prototype,"enableLazyLoading",void 0),e}(Xe),pte=function(r){wr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return q([I(!1)],e.prototype,"allowAdding",void 0),q([I(!1)],e.prototype,"allowEditing",void 0),q([I(!1)],e.prototype,"allowDeleting",void 0),q([I("Normal")],e.prototype,"mode",void 0),q([I(!0)],e.prototype,"allowEditOnDblClick",void 0),q([I(!0)],e.prototype,"showConfirmDialog",void 0),q([I(!1)],e.prototype,"showDeleteConfirmDialog",void 0),q([I()],e.prototype,"template",void 0),q([I()],e.prototype,"headerTemplate",void 0),q([I()],e.prototype,"footerTemplate",void 0),q([I("Top")],e.prototype,"newRowPosition",void 0),q([I({})],e.prototype,"dialog",void 0),q([I(!1)],e.prototype,"allowNextRowEdit",void 0),q([I(!1)],e.prototype,"showAddNewRow",void 0),e}(Xe),fte=function(r){wr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return q([I("Spinner")],e.prototype,"indicatorType",void 0),e}(Xe),ch=function(r){wr(e,r);function e(i,n){var s=r.call(this,i,n)||this;return s.isPreventScrollEvent=!1,s.inViewIndexes=[],s.keyA=!1,s.frozenRightCount=0,s.freezeColumnRefresh=!0,s.rightcount=0,s.frozenLeftCount=0,s.leftcount=0,s.tablesCount=1,s.movableCount=0,s.movablecount=0,s.fixedcount=0,s.fixedCount=0,s.visibleFrozenLeft=0,s.visibleFrozenFixed=0,s.isPreparedFrozenColumns=!1,s.visibleFrozenRight=0,s.visibleMovable=0,s.frozenLeftColumns=[],s.frozenRightColumns=[],s.movableColumns=[],s.fixedColumns=[],s.stackedLeft=[],s.stackedRight=[],s.stackedFixed=[],s.stackedMovable=[],s.stackedarrayLeft=[],s.stackedarrayRight=[],s.stackedarrayFixed=[],s.stackedarrayMovable=[],s.media={},s.autoFitColumnsResize=!1,s.tableIndex=0,s.componentRefresh=rr.prototype.refresh,s.isChangeDataSourceCall=!1,s.mergedColumns=!1,s.isVirtualAdaptive=!1,s.requireTemplateRef=!0,s.vRows=[],s.vcRows=[],s.vGroupOffsets={},s.rowUid=0,s.translateX=0,s.isManualRefresh=!1,s.isAutoFitColumns=!1,s.enableDeepCompare=!1,s.totalDataRecordsCount=0,s.disableSelectedRecords=[],s.partialSelectedRecords=[],s.partialSelectedIndexes=[],s.pinnedTopRowModels=[],s.pinnedTopRecords=[],s.pinnedTopRowKeys={},s.pinnedRowIndexes={},s.contentRowIndexes={},s.isSpan=!1,s.islazyloadRequest=!1,s.isAddNewRow=!1,s.addNewRowFocus=!0,s.selectVirtualRowOnAdd=!1,s.lockcolPositionCount=0,s.prevPageMoving=!1,s.pageTemplateChange=!1,s.isAutoGen=!1,s.isAutoGenerateColumns=!1,s.pageRequireRefresh=!0,s.mediaBindInstance={},s.commandDelIndex=void 0,s.preventAutoFit=!1,s.asyncTimeOut=50,s.isExportGrid=!1,s.isWidgetsDestroyed=!1,s.enableLogger=!1,s.needsID=!0,t.Inject(Kee),Ze("mergePersistData",s.mergePersistGridData,s),s}t=e,e.prototype.getPersistData=function(){for(var i=["pageSettings","sortSettings","filterSettings","groupSettings","columns","searchSettings","selectedRowIndex","scrollPosition"],n={pageSettings:["template","pageSizes","enableQueryString","totalRecordsCount","pageCount"],filterSettings:["type","mode","showFilterBarStatus","immediateModeDelay","ignoreAccent"],groupSettings:["showDropArea","showToggleButton","showGroupedColumn","showUngroupButton","disablePageWiseAggregates","hideCaptionCount"],searchSettings:["fields","operator","ignoreCase"],sortSettings:[],columns:[],selectedRowIndex:[],scrollPosition:[]},s=0;s<i.length;s++)for(var o=this[i[parseInt(s.toString(),10)]],a=0,l=n[i[parseInt(s.toString(),10)]];a<l.length;a++){var h=l[a];delete o[""+h]}var u=this.pageSettings.template,c=Object.assign({template:void 0},this.pageSettings);this.enableVirtualization&&this.enablePersistence&&this.contentModule&&this.contentModule.getPageFromTop&&!p(this.scrollPosition)&&!p(this.scrollPosition.top)&&(c.properties.currentPage=this.contentModule.getPageFromTop(this.scrollPosition.top,{block:1})),this.setProperties({pageSettings:c},!0);var d=this.groupSettings.captionTemplate,f=d&&this.isAngular;f&&delete this.groupSettings.properties.captionTemplate,this.pageTemplateChange=!p(this.pagerTemplate);var g=this.addOnPersist(i);return c.template=u,this.setProperties({pageSettings:c},!0),f&&(this.groupSettings.captionTemplate=d),g},e.prototype.requiredModules=function(){this.setFrozenCount(),this.enableInfiniteAggrgate();var i=[];return this.isDestroyed||(this.allowFiltering&&i.push({member:"filter",args:[this,this.filterSettings,this.serviceLocator],name:"Filter"}),this.allowExcelExport&&i.push({member:"ExcelExport",args:[this,this.serviceLocator],name:"ExcelExport"}),this.allowPdfExport&&i.push({member:"PdfExport",args:[this],name:"PdfExport"}),this.allowSorting&&i.push({member:"sort",args:[this,this.sortSettings,this.sortedColumns,this.serviceLocator],name:"Sort"}),this.allowPaging&&i.push({member:"pager",args:[this,this.pageSettings],name:"Page"}),this.allowSelection&&i.push({member:"selection",args:[this,this.selectionSettings,this.serviceLocator],name:"Selection"}),this.resizeCheck()&&i.push({member:"resize",args:[this],name:"Resize"}),this.allowReordering&&i.push({member:"reorder",args:[this],name:"Reorder"}),this.allowRowDragAndDrop&&i.push({member:"rowDragAndDrop",args:[this],name:"RowDD"}),this.allowGrouping&&i.push({member:"group",args:[this,this.groupSettings,this.sortedColumns,this.serviceLocator],name:"Group"}),this.aggregates.length&&i.push({member:"aggregate",args:[this,this.serviceLocator],name:"Aggregate"}),this.isDetail()&&i.push({member:"detailRow",args:[this,this.serviceLocator],name:"DetailRow"}),(this.toolbar||this.toolbarTemplate)&&i.push({member:"toolbar",args:[this,this.serviceLocator],name:"Toolbar"}),(this.enableVirtualization||this.enableColumnVirtualization)&&i.push({member:"virtualscroll",args:[this,this.serviceLocator],name:"VirtualScroll"}),(this.getFrozenColumns()||this.frozenRows||this.frozenRightCount||this.frozenLeftCount)&&i.push({member:"freeze",args:[this,this.serviceLocator],name:"Freeze"}),!p(this.columns)&&this.isCommandColumn(this.columns)&&i.push({member:"commandColumn",args:[this,this.serviceLocator],name:"CommandColumn"}),(this.editSettings.allowAdding||this.editSettings.allowDeleting||this.editSettings.allowEditing)&&i.push({member:"edit",args:[this,this.serviceLocator],name:"Edit"}),this.extendRequiredModules(i)),i},e.prototype.extendRequiredModules=function(i){this.enableInfiniteScrolling&&i.push({member:"infiniteScroll",args:[this,this.serviceLocator],name:"InfiniteScroll"}),this.groupSettings.enableLazyLoading&&i.push({member:"lazyLoadGroup",args:[this,this.serviceLocator],name:"LazyLoadGroup"}),this.contextMenuItems&&i.push({member:"contextMenu",args:[this,this.serviceLocator],name:"ContextMenu"}),this.showColumnMenu&&i.push({member:"columnMenu",args:[this,this.serviceLocator],name:"ColumnMenu"}),this.showColumnChooser&&i.push({member:"columnChooser",args:[this,this.serviceLocator],name:"ColumnChooser"}),!p(this.columns)&&this.isForeignKeyEnabled(this.columns)&&i.push({member:"foreignKey",args:[this,this.serviceLocator],name:"ForeignKey"}),this.enableLogger&&i.push({member:"logger",args:[this],name:"Logger"})},e.prototype.resizeCheck=function(){var i=!!this.getColumns().filter(function(o){return o.autoFit===!0}).length;!p(this.columnModel)&&this.columnModel.length&&!(this.columnModel[0]instanceof Gi)&&(this.columnModel=[]);var n=!!(this.showColumnMenu&&(!this.columnMenuItems||this.columnMenuItems.filter(function(o){return o==="AutoFit"||o==="AutoFitAll"}).length)),s=!!(this.contextMenuItems&&this.contextMenuItems.filter(function(o){return o==="AutoFit"||o==="AutoFitAll"}).length);return this.allowResizing||this.autoFitColumnsResize||i||n||s},e.prototype.preRender=function(){this.serviceLocator=new Uee,this.initProperties(),this.initializeServices()},e.prototype.initProperties=function(){this.isInitial=!0,this.sortedColumns=[],this.inViewIndexes=[],this.mediaCol=[],this.isInitialLoad=!1,this.allowServerDataBinding=!1,this.ignoreCollectionWatch=!0,this.mergeCells={},this.isEdit=!1,this.checkAllRows="None",this.isCheckBoxSelection=!1,this.isPersistSelection=!1,this.componentRefresh=rr.prototype.refresh,this.freezeColumnRefresh=!0,this.filterOperators={contains:"contains",endsWith:"endswith",equal:"equal",greaterThan:"greaterthan",greaterThanOrEqual:"greaterthanorequal",lessThan:"lessthan",lessThanOrEqual:"lessthanorequal",notEqual:"notequal",startsWith:"startswith",wildCard:"wildcard",isNull:"isnull",notNull:"notnull",like:"like"},this.defaultChartLocale={Chart:"Chart",BarChart:"Bar Chart",Bar:"Bar",StackingBar:"Stacked Bar",StackingBar100:"100% Stacked Bar",Pie:"Pie Chart",ColumnChart:"Column Chart",Column:"Column",StackingColumn:"Stacked Column",StackingColumn100:"100% Stacked Column",LineChart:"Line Chart",Line:"Line",StackingLine:"Stacked Line",StackingLine100:"100% Stacked Line",AreaChart:"Area Chart",Area:"Area",StackingArea:"Stacked Area",StackingArea100:"100% Stacked Area",Scatter:"Scatter Chart"},this.defaultLocale=kC({EmptyRecord:"No records to display",True:"true",False:"false",InvalidFilterMessage:"Invalid Filter Data",GroupDropArea:"Drag a column header here to group its column",UnGroup:"Click here to ungroup",UnGroupButton:"Click here to ungroup",GroupDisable:"Grouping is disabled for this column",FilterbarTitle:"'s filter bar cell",EmptyDataSourceError:"DataSource must not be empty at initial load since columns are generated from dataSource in AutoGenerate Column Grid",Add:"Add",Edit:"Edit",Cancel:"Cancel",Update:"Update",Delete:"Delete",Print:"Print",Pdfexport:"PDF Export",Excelexport:"Excel Export",Wordexport:"Word Export",Csvexport:"CSV Export",Search:"Search",Columnchooser:"Columns",Save:"Save",Item:"item",Items:"items",EditOperationAlert:"No records selected for edit operation",DeleteOperationAlert:"No records selected for delete operation",SaveButton:"Save",OKButton:"OK",CancelButton:"Cancel",EditFormTitle:"Details of ",AddFormTitle:"Add New Record",BatchSaveConfirm:"Are you sure you want to save changes?",BatchSaveLostChanges:"Unsaved changes will be lost. Are you sure you want to continue?",ConfirmDelete:"Are you sure you want to Delete Record?",CancelEdit:"Are you sure you want to Cancel the changes?",ChooseColumns:"Choose Column",ColumnMenu:"Column Menu",SearchColumns:"search columns",Matchs:"No matches found",FilterButton:"Filter",FilterTitle:"Filter",FilterIcon:"Filter",ClearButton:"Clear",StartsWith:"Starts With",NotStartsWith:"Does Not Start With",Like:"Like",EndsWith:"Ends With",NotEndsWith:"Does Not End With",Contains:"Contains",NotContains:"Does Not Contain",IsNull:"Null",NotNull:"Not Null",IsEmpty:"Empty",IsNotEmpty:"Not Empty",Equal:"Equal",NotEqual:"Not Equal",LessThan:"Less Than",LessThanOrEqual:"Less Than Or Equal",GreaterThan:"Greater Than",GreaterThanOrEqual:"Greater Than Or Equal",In:"In",NotIn:"Not In",ChooseDate:"Choose a Date",EnterValue:"Enter the value",Copy:"Copy",Group:"Group by this column",Ungroup:"Ungroup by this column",GroupButton:"Group button",UnGroupAria:"ungroup button",GroupSeperator:"Separator for the grouped columns",UnGroupIcon:"ungroup the grouped column ",GroupedSortIcon:"sort the grouped column ",GroupedDrag:"Drag the grouped column",GroupCaption:" is groupcaption cell",CheckBoxLabel:"checkbox",SelectAllCheckbox:"Select all checkbox",SelectRow:"Select row",autoFitAll:"Autofit all columns",autoFit:"Autofit this column",AutoFitAll:"Autofit all columns",AutoFit:"Autofit this column",Export:"Export",FirstPage:"First Page",LastPage:"Last Page",PreviousPage:"Previous Page",NextPage:"Next Page",SortAscending:"Sort Ascending",SortDescending:"Sort Descending",EditRecord:"Edit Record",DeleteRecord:"Delete Record",FilterMenu:"Filter",SelectAll:"Select All",AddCurrentSelection:"Add current selection to filter",Blanks:"Blanks",FilterTrue:"True",FilterFalse:"False",NoResult:"No matches found",ClearFilter:"Clear Filter",Clear:"Clear",NumberFilter:"Number Filters",TextFilter:"Text Filters",DateFilter:"Date Filters",DateTimeFilter:"DateTime Filters",MatchCase:"Match Case",Between:"Between",CustomFilter:"Custom Filter",CustomFilterPlaceHolder:"Enter the value",CustomFilterDatePlaceHolder:"Choose a date",AND:"AND",OR:"OR",ShowRowsWhere:"Show rows where:",ToolbarMenuDialogARIA:"Toolbar menu dialog",FilterMenuDialogARIA:"Filter menu",ExcelFilterDialogARIA:"Excel filter",CheckBoxFilterDialogARIA:"Checkbox filter",DialogEditARIA:"Edit dialog",ColumnMenuDialogARIA:"Column menu dialog",CustomFilterDialogARIA:"Customer filter dialog",SortAtoZ:"Sort A to Z",SortZtoA:"Sort Z to A",SortByOldest:"Sort by Oldest",SortByNewest:"Sort by Newest",SortSmallestToLargest:"Sort Smallest to Largest",SortLargestToSmallest:"Sort Largest to Smallest",Sort:"Sort",SortIcon:"Sort",FilterDescription:"Press Alt Down to open filter Menu",SortDescription:"Press Enter to sort",ColumnMenuDescription:"Press Alt Down to open Column Menu",GroupDescription:"Press Ctrl space to group",ColumnHeader:" column header ",TemplateCell:" is template cell",CommandColumnAria:"is Command column column header ",DialogEdit:"Dialog edit",ClipBoard:"clipboard",AscendingText:"Ascending",DescendingText:"Descending",NoneText:"None",Expanded:"Expanded",Collapsed:"Collapsed",PinRow:"Pin Row",UnpinRow:"Unpin Row"},this.defaultChartLocale),this.keyConfigs={downArrow:"downarrow",upArrow:"uparrow",rightArrow:"rightarrow",leftArrow:"leftarrow",shiftDown:"shift+downarrow",shiftUp:"shift+uparrow",shiftRight:"shift+rightarrow",shiftLeft:"shift+leftarrow",home:"home",end:"end",escape:"escape",ctrlHome:"ctrl+home",ctrlEnd:"ctrl+end",pageUp:"pageup",pageDown:"pagedown",ctrlAltPageUp:"ctrl+alt+pageup",ctrlAltPageDown:"ctrl+alt+pagedown",altPageUp:"alt+pageup",altPageDown:"alt+pagedown",altDownArrow:"alt+downarrow",altUpArrow:"alt+uparrow",ctrlDownArrow:"ctrl+downarrow",ctrlUpArrow:"ctrl+uparrow",ctrlPlusA:"ctrl+A",ctrlPlusP:"ctrl+P",insert:"insert",delete:"delete",f2:"f2",enter:"enter",ctrlEnter:"ctrl+enter",shiftEnter:"shift+enter",tab:"tab",shiftTab:"shift+tab",space:"space",ctrlPlusC:"ctrl+C",ctrlShiftPlusH:"ctrl+shift+H",ctrlSpace:"ctrl+space",ctrlLeftArrow:"ctrl+leftarrow",ctrlRightArrow:"ctrl+rightarrow"}},e.prototype.render=function(){if(this.log(["module_missing","promise_enabled","locale_missing","check_datasource_columns"]),this.ariaService.setOptions(this.element,{role:"grid"}),Jh({target:this.element,cssClass:this.cssClass?this.cssClass:null},this.createElement),this.renderModule=new Pee(this,this.serviceLocator),this.searchModule=new Jee(this),this.scrollModule=new Xee(this),this.notify(cy,{}),this.pageSettings.enableQueryString){var i=new URL(window.location.href).searchParams.get("page");if(!p(i)&&window.location.href.indexOf("?page=")>0){var n=parseInt(i,10);this.setProperties({pageSettings:{currentPage:n}},!0),this.pageSettings.currentPage=n}}if((this.getDataModule().dataManager.dataSource.offline===!0||this.getDataModule().dataManager.dataSource.url===void 0)&&!(!p(this.dataSource)&&this.dataSource.result)&&(this.isVirtualAdaptive=!0),this.aggregateModule&&this.aggregates.length)for(var s=0;s<this.aggregates.length;s++)for(var o=0;o<this.aggregates[parseInt(s.toString(),10)].columns.length;o++){var a=this.aggregates[parseInt(s.toString(),10)].columns[parseInt(o.toString(),10)];a.types&&(a.type=a.types)}if(this.isReact){var l={requireTemplateRef:this.requireTemplateRef};this.trigger(cC,l),l.requireTemplateRef||(this.requireTemplateRef=l.requireTemplateRef)}else this.trigger(cC);typeof this.isRowSelectable=="string"&&(this.isRowSelectable=H(this.isRowSelectable,window)),typeof this.isRowPinned=="string"&&(this.isRowPinned=H(this.isRowPinned,window)),this.isRowPinned&&this.allowSelection&&(this.selectionSettings.persistSelection=!0,this.selectionSettings.type="Multiple"),my(this.columns,this.enableColumnVirtualization,this),this.enableColumnVirtualization&&this.isChangeDataSourceCall&&this.columnModel&&(this.columnModel=[],this.updateColumnModel(this.columns)),this.isPreparedFrozenColumns=!0,this.enablePersistence&&this.notify(DC,{}),this.getMediaColumns(),Fg(this.columns),this.isFrozenGrid()&&!this.mergedColumns&&this.setInitialFrozenColumnIndex(this.columns),this.checkLockColumns(this.columns),this.getColumns(),this.processModel(),this.gridRender(),this.wireEvents(),this.addListener(),this.updateDefaultCursor(),this.updateStackedFilter(),this.loadingIndicator.indicatorType==="Spinner"&&this.showSpinner(),this.notify(iD,{}),this.loadingIndicator.indicatorType==="Shimmer"&&this.refreshMaskRow(),this.refreshing&&this.trigger("created")},e.prototype.setInitialFrozenColumnIndex=function(i){for(var n=0;n<i.length;n++){var s=i[parseInt(n.toString(),10)];s[""+IN]=s.index,s.columns&&this.setInitialFrozenColumnIndex(s.columns)}},e.prototype.showSpinner=function(){this.isExportGrid||oo(this.element)},e.prototype.hideSpinner=function(){this.isExportGrid||wl(this.element)},e.prototype.showMaskRow=function(i,n){if(!(p(this.headerModule)||p(this.contentModule))){var s=this.getHeaderContent().firstChild,o=this.getContent().firstChild,a=this.getFooterContent();if(n){var l=n.querySelector(".e-checkboxlist");if(!p(l)){var h=Math.floor(l.getBoundingClientRect().height/this.getRowHeight()),u='<div class="e-ftrchk e-mask-ftrchk"><div class="e-checkbox-wrapper"><input class="e-chk-hidden">'+this.getShimmerTemplate()+this.getShimmerTemplate()+"</div></div>";l.innerHTML="";for(var c=0;c<h;c++){l.innerHTML+=u,l.querySelector(".e-ftrchk.e-mask-ftrchk").style.width="100%",l.querySelector(".e-checkbox-wrapper").style.width="100%";var d=[].slice.call(l.querySelectorAll(".e-mask:not(.e-mask-checkbox-filter-intent):not(.e-mask-checkbox-filter-span-intent)"));d[0].classList.add("e-mask-checkbox-filter-intent"),d[1].classList.add("e-mask-checkbox-filter-span-intent")}}return}if((!this.enableRtl&&!this.getHeaderContent().style.paddingRight||this.enableRtl&&!this.getHeaderContent().style.paddingLeft)&&(o.style.overflowY="hidden"),!this.isInitialLoad&&!this.getColumns().length){var f=o.getBoundingClientRect().height,g=f===0?this.allowPaging?this.pageSettings.pageSize*this.getRowHeight():window.innerHeight:f,m=Math.ceil(g/this.getRowHeight());this.rowRenderingMode!=="Vertical"&&(this.headerMaskTable=this.createEmptyMaskTable(s,1)),this.contentMaskTable=this.createEmptyMaskTable(o,m);return}if(this.maskRowContentScroll=!!((this.enableVirtualization||this.enableColumnVirtualization)&&i),!this.contentMaskTable){var y=o;(this.enableVirtualization||this.enableColumnVirtualization)&&(y=y.querySelector(".e-virtualtable")),p(y.querySelector("tbody"))||(this.contentMaskTable=this.createMaskTable(y,this.getContentMaskColumns(),i))}if(!this.headerMaskTable&&(this.isFrozenGrid()&&!this.isRowPinned&&!this.pinnedTopRowModels.length||this.enableColumnVirtualization&&i==="X")){var y=s;this.enableColumnVirtualization&&i==="X"&&(y=y.querySelector(".e-virtualtable")),this.headerMaskTable=this.createMaskTable(y,this.getContentMaskColumns(),i)}if(a&&a.querySelector(".e-summaryrow")){var v=a.firstChild;if(!this.footerContentMaskTable){var M=v;this.footerContentMaskTable=this.createMaskTable(M)}}this.enableVirtualization&&i||F.add(o,"scroll",this.translateMaskRow,this)}},e.prototype.getContentMaskColumns=function(){return this.getColumns()},e.prototype.createEmptyMaskTable=function(i,n){var s=this.createElement("table",{className:"e-table e-masked-table"}),o=this.createElement("tbody",{className:"e-masked-tbody"}),a=this.createElement("tr",{className:"e-masked-row e-row"});a.style.height=this.getRowHeight()+"px";var l=this.createElement("td",{className:"e-masked-cell e-rowcell"});l.innerHTML=this.getShimmerTemplate(),a.appendChild(l);for(var h=0;h<n;h++)o.appendChild(a.cloneNode(!0));return s.appendChild(o),i.appendChild(s),s},e.prototype.createFrozenMaskRow=function(i,n){for(var s=0;s<i.length;s++)s<this.frozenLeftCount?(this.frozenLeftCount-1===s&&i[parseInt(s.toString(),10)].classList.add("e-freezeleftborder"),i[parseInt(s.toString(),10)].classList.add("e-leftfreeze"),i[parseInt(s.toString(),10)].setAttribute("aria-colindex",(s+1).toString()),i[parseInt(s.toString(),10)].style.left=n[parseInt(s.toString(),10)].valueX-this.translateX+"px"):i.length-this.frozenRightCount<=s&&n[parseInt(s.toString(),10)]&&(i.length-this.frozenRightCount===s&&i[parseInt(s.toString(),10)].classList.add("e-freezerightborder"),i[parseInt(s.toString(),10)].classList.add("e-rightfreeze"),i[parseInt(s.toString(),10)].setAttribute("aria-colindex",(s+1).toString()),i[parseInt(s.toString(),10)].style.right=this.translateX+n[parseInt(s.toString(),10)].valueX+"px")},e.prototype.createMaskTable=function(i,n,s){var o=i,a=!!xe(o,".e-gridheader"),l=!!xe(o,".e-gridcontent"),h=!!xe(o,".e-gridfooter"),u=this.getContent().firstChild,c=u.scrollHeight,d=o.querySelector("table"),f=d.cloneNode();f.removeAttribute("role"),f.removeAttribute("id"),e$(f,"position: absolute; z-index: 5; width: "+d.getBoundingClientRect().width+"px;"),a&&!(this.enableColumnVirtualization&&s==="X")&&(f.style.transform="translate(0px,"+d.querySelector("thead").getBoundingClientRect().height+"px)"),f.setAttribute("class","e-table e-masked-table");var g=d.querySelector("colgroup").cloneNode(!0);if(g.removeAttribute("id"),g.setAttribute("class","e-masked-colgroup"),f.appendChild(g),a&&this.enableColumnVirtualization&&s==="X"){var m=this.createMaskRow(g,n);if(this.isFrozenGrid()){var y=[].slice.call(m.querySelectorAll(".e-rowcell"));this.createFrozenMaskRow(y,n)}var v=d.querySelector("thead"),M=[].slice.call(v.querySelectorAll("tr")),S=v.cloneNode();S.removeAttribute("role"),S.setAttribute("class","e-masked-thead");for(var b=M.length,C=0;C<b;C++)S.appendChild(m.cloneNode(!0)),S.childNodes[parseInt(C.toString(),10)].style.height=M[parseInt(C.toString(),10)].getBoundingClientRect().height+"px";f.appendChild(S)}var T=d.querySelector("tbody").cloneNode();T.removeAttribute("role"),T.setAttribute("class","e-masked-tbody");var k=d.querySelector("tbody");if(l||a){var N=u,b=Math.ceil(N.getBoundingClientRect().height/this.getRowHeight());if(this.allowPaging&&this.pageSettings.pageSize!==this.currentViewData.length&&this.pagerModule.pagerObj.totalPages!==this.pageSettings.currentPage){var m=this.createMaskRow(g,n),A=m.cloneNode(!0);A.classList.add("e-altrow");for(var C=0;C<this.pageSettings.pageSize-this.currentViewData.length;C++)T.appendChild(C%2===1?A.cloneNode(!0):m.cloneNode(!0))}if(k.querySelector(".e-emptyrow")||!k.childNodes.length||l&&this.childGrid){var m=this.createMaskRow(g,n),A=m.cloneNode(!0);A.classList.add("e-altrow");for(var C=0;C<b;C++){var E=1;T.appendChild((C+E)%2===0?A.cloneNode(!0):m.cloneNode(!0))}}else{var x='tr:not(.e-hide):not([style*="display:none"]):not([style*="display: none"])';this.isTreeGrid&&(x='tr:not(.e-hide):not([style*="display:none"]):not([style*="display: none"]):not(.e-childrow-hidden)');var M=[].slice.call(k.querySelectorAll(x)),D=k.querySelector(".e-addedrow, .e-editedrow"),z=void 0;if(D){if(z=M.indexOf(D),this.isFrozenGrid()&&this.enableColumnVirtualization)for(var w=[].slice.call(M[z+1].querySelectorAll(".e-rowcell")),C=0;C<w.length;C++)C<this.frozenLeftCount?(w[parseInt(C.toString(),10)].classList.add("e-leftfreeze"),w[parseInt(C.toString(),10)].setAttribute("aria-colindex",(C+1).toString()),w[parseInt(C.toString(),10)].style.left=n[parseInt(C.toString(),10)].valueX-this.translateX+"px"):w.length-this.frozenRightCount<=C&&n[parseInt(C.toString(),10)]&&(w[parseInt(C.toString(),10)].classList.add("e-rightfreeze"),w[parseInt(C.toString(),10)].setAttribute("aria-colindex",(C+1).toString()),w[parseInt(C.toString(),10)].style.right=this.translateX+n[parseInt(C.toString(),10)].valueX+"px");D.classList.contains("e-addedrow")?M.splice(z,2):M.splice(z,1)}b=(this.enableVirtualization||this.enableColumnVirtualization)&&s?M.length:b<=M.length?b:M.length;for(var C=0;C<b;C++){var O=this.applyMaskRow(M[parseInt(C.toString(),10)].cloneNode(!0),M[parseInt(C.toString(),10)].getBoundingClientRect().height);if(this.enableColumnVirtualization&&s==="X"&&this.isFrozenGrid()){var y=[].slice.call(O.querySelectorAll(".e-masked-cell"));this.createFrozenMaskRow(y,n)}T.appendChild(O)}if(D&&D.classList.contains("e-editedrow")&&z<b){var L=T.childNodes[parseInt(z.toString(),10)];L.style.height=this.getRowHeight()+"px",L.classList.add("e-row"),D.classList.contains("e-altrow")&&L.classList.add("e-altrow")}}}if(f.appendChild(T),h){var j=d.querySelector("tfoot"),B=j.cloneNode();B.setAttribute("class","e-masked-tfoot");for(var M=[].slice.call(j.querySelectorAll("tr")),C=0;C<M.length;C++)B.appendChild(this.applyMaskRow(M[parseInt(C.toString(),10)].cloneNode(!0),M[parseInt(C.toString(),10)].getBoundingClientRect().height));f.appendChild(B)}if(a&&this.isFrozenGrid()&&!this.enableColumnVirtualization&&(this.getHeaderContent().querySelector("."+Tn).style.position="relative"),o.insertBefore(f,o.firstChild),l&&!(this.enableVirtualization&&s)){var V=c-f.getBoundingClientRect().height;V=V<0?0:V;var ee=u.scrollTop<=V?u.scrollTop:V;this.enableVirtualization&&(ee-=OC(xe(o,".e-virtualtable")).height),f.style.transform="translate(0px,"+ee+"px)"}return f},e.prototype.applyMaskRow=function(i,n){var s=i;s.removeAttribute("role"),s.removeAttribute("aria-rowindex"),s.removeAttribute("data-uid"),s.classList.add("e-masked-row"),s.style.height=n+"px";for(var o=[].slice.call(s.childNodes),a=0;a<o.length;a++){var l=o[parseInt(a.toString(),10)],h=l.firstChild&&l.firstChild.classList&&l.firstChild.classList.contains("e-checkbox-wrapper");l.removeAttribute("role"),l.removeAttribute("tabindex"),l.removeAttribute("aria-label"),this.enableColumnVirtualization&&l.classList.contains("e-fixedfreeze")&&(ue([l],["e-fixedfreeze","e-freezeleftborder","e-freezerightborder"]),Z([l],["e-unfreeze"])),l.removeAttribute("aria-colindex"),l.removeAttribute("data-index"),l.removeAttribute("data-mappingname"),l.removeAttribute("data-mappingvalue"),l.removeAttribute("data-mappinguid"),l.removeAttribute("aria-expanded"),l.classList.add("e-masked-cell"),l.innerHTML=this.getShimmerTemplate(),l.classList.contains("e-recordplusexpand")||l.classList.contains("e-recordpluscollapse")?l.firstChild.classList.add("e-mask-group-intent"):l.classList.contains("e-gridchkbox")||h?l.firstChild.classList.add("e-mask-checkbox-intent"):l.classList.contains("e-rowdragdrop")?l.firstChild.classList.add("e-mask-drag-intent"):l.classList.contains("e-indentcell")&&(l.innerHTML="")}return s},e.prototype.createMaskRow=function(i,n){var s=i,o=n,a=this.createElement("tr",{className:"e-masked-row e-row"});this.rowRenderingMode!=="Vertical"&&(a.style.height=this.getRowHeight()+"px");for(var l=this.createElement("td",{className:"e-masked-cell e-rowcell"}),h=0,u=0;h<s.childNodes.length;h++){var c=s.childNodes[parseInt(h.toString(),10)],d=l.cloneNode();d.innerHTML=this.getShimmerTemplate(),c.classList.contains("e-group-intent")||c.classList.contains("e-detail-intent")||c.classList.contains("e-drag-intent")?c.classList.contains("e-group-intent")?d.firstChild.classList.add("e-mask-group-intent"):c.classList.contains("e-detail-intent")?d.firstChild.classList.add("e-mask-detail-intent"):c.classList.contains("e-drag-intent")&&d.firstChild.classList.add("e-mask-drag-intent"):(this.rowRenderingMode==="Vertical"&&o[parseInt(u.toString(),10)]&&d.setAttribute("data-cell",o[parseInt(u.toString(),10)].headerText?o[parseInt(u.toString(),10)].headerText:o[parseInt(u.toString(),10)].field),c.style.display==="none"?d.classList.add("e-hide"):(d.style.textAlign=o[parseInt(u.toString(),10)]&&o[parseInt(u.toString(),10)].textAlign?o[parseInt(u.toString(),10)].textAlign.toLowerCase():this.enableRtl?"right":"left",o[parseInt(u.toString(),10)]&&(o[parseInt(u.toString(),10)].type==="checkbox"||o[parseInt(u.toString(),10)].displayAsCheckBox)&&d.firstChild.classList.add("e-mask-checkbox-intent")),u++),a.appendChild(d)}return a},e.prototype.getShimmerTemplate=function(){return this.maskRowContentScroll?'<span class="e-mask e-skeleton e-skeleton-text"></span>':'<span class="e-mask e-skeleton e-skeleton-text e-shimmer-wave"></span>'},e.prototype.addShimmerEffect=function(){this.maskRowContentScroll=!1;for(var i=[].slice.call(this.element.querySelectorAll(".e-mask:not(.e-shimmer-wave)")),n=0;n<i.length;n++)i[parseInt(n.toString(),10)]&&i[parseInt(n.toString(),10)].classList.add("e-shimmer-wave")},e.prototype.translateMaskRow=function(i){for(var n=i.target,s=n.querySelectorAll(".e-masked-table"),o=0;o<s.length;o++){var a=s[parseInt(o.toString(),10)];if(a){var l=n.scrollHeight-a.getBoundingClientRect().height;l=l<0?0:l;var h=n.scrollTop<=l?n.scrollTop:l;this.enableVirtualization&&(h-=OC(xe(a,".e-virtualtable")).height),a.style.transform="translate(0px,"+h+"px)"}}},e.prototype.removeMaskRow=function(){if(!p(this.contentModule)){var i=this.getContent().firstChild;F.remove(i,"scroll",this.translateMaskRow)}this.headerMaskTable&&this.isFrozenGrid()&&!this.enableColumnVirtualization&&(this.getHeaderContent().querySelector("."+Tn).style.position="");for(var n=[this.headerMaskTable,this.contentMaskTable,this.footerContentMaskTable],s=0;s<n.length;s++){var o=n[parseInt(s.toString(),10)];o&&ot(o)}this.headerMaskTable=null,this.contentMaskTable=null,this.footerContentMaskTable=null},e.prototype.refreshMaskRow=function(){var i=this.getContent().firstChild;if(!(!this.isInitialLoad&&!this.getColumns().length)&&this.contentMaskTable&&i.querySelector(".e-masked-table")){var n=i;this.enableVirtualization&&(n=n.querySelector(".e-virtualtable")),this.refreshMaskRowColgroupWidth(n)}},e.prototype.refreshMaskRowColgroupWidth=function(i){var n=i.querySelector("table:not(.e-masked-table)"),s=n.querySelector(ss).cloneNode(!0),o=i.querySelector(".e-masked-table");s.removeAttribute("id"),s.setAttribute("class","e-masked-colgroup");for(var a=0;a<s.childNodes.length;a++)s.childNodes[parseInt(a.toString(),10)].removeAttribute("class");ot(o.querySelector(".e-masked-colgroup")),o.insertBefore(s,o.firstChild),o.style.width=n.getBoundingClientRect().width+"px"},e.prototype.updateStackedFilter=function(){this.allowFiltering&&this.filterSettings.type==="FilterBar"&&this.getHeaderContent().getElementsByClassName("e-stackedheadercell").length?this.getHeaderContent().classList.add("e-stackedfilter"):this.getHeaderContent().classList.remove("e-stackedfilter")},e.prototype.getMediaColumns=function(){if(!this.enableColumnVirtualization){var i=this.getColumns();if(this.getShowHideService=this.serviceLocator.getService("showHideService"),!p(i))for(var n=0;n<i.length;n++)!p(i[parseInt(n.toString(),10)].hideAtMedia)&&(p(i[parseInt(n.toString(),10)].visible)||i[parseInt(n.toString(),10)].visible)&&this.pushMediaColumn(i[parseInt(n.toString(),10)],n)}this.updateFrozenColumnsWidth()},e.prototype.pushMediaColumn=function(i,n){this.mediaCol.push(i),this.media[i.uid]=window.matchMedia(i.hideAtMedia),this.mediaQueryUpdate(n,this.media[i.uid]),this.mediaBindInstance[parseInt(n.toString(),10)]=this.mediaQueryUpdate.bind(this,n),this.media[i.uid].addListener(this.mediaBindInstance[parseInt(n.toString(),10)])},e.prototype.updateMediaColumns=function(i){if(!this.enableColumnVirtualization){for(var n=this.getColumnIndexByUid(i.uid),s=0;s<this.mediaCol.length;s++)if(i.uid===this.mediaCol[parseInt(s.toString(),10)].uid){this.mediaCol.splice(s,1);return}this.pushMediaColumn(i,n)}},e.prototype.mediaQueryUpdate=function(i,n){var s=this.getColumns()[parseInt(i.toString(),10)];this.mediaCol.some(function(o){return o.uid===s.uid})&&(s.visible=n.matches,this.isInitialLoad&&(this.invokedFromMedia=!0,s.visible?this.showHider.show(s.headerText,"headerText"):this.showHider.hide(s.headerText,"headerText")))},e.prototype.refreshMediaCol=function(){this.isInitialLoad=!0;var i=this.element.querySelector("."+Pg);this.aggregates.length&&this.element.scrollHeight>parseInt(this.height.toString(),10)&&i&&Z([i],["e-footerpadding"]);var n=this.enableColumnVirtualization?this.columns:this.getColumns(),s=n.filter(function(o){return o.type==="checkbox"});(s.length===0||s.length&&this.selectionSettings.checkboxMode==="ResetOnRowClick")&&(this.isCheckBoxSelection=!1),this.rowRenderingMode==="Vertical"&&this.enableHover&&(this.setProperties({enableAdaptiveUI:!0,enableHover:!1},!0),ue([this.element],"e-gridhover")),this.enableAdaptiveUI&&this.scrollModule&&this.scrollModule.refresh(),this.isFrozenGrid()&&this.isAutoGenerateColumns&&(this.widthService.setWidthToColumns(),this.isAutoGenerateColumns=!1)},e.prototype.removeMediaListener=function(){for(var i=0;i<this.mediaCol.length;i++)this.media[this.mediaCol[parseInt(i.toString(),10)].uid].removeListener(this.mediaBindInstance[this.mediaCol[parseInt(i.toString(),10)].index])},e.prototype.eventInitializer=function(){},e.prototype.destroy=function(){var i=this.element;if(i){var n=!!(i.querySelector("."+ds)&&i.querySelector("."+aa));n&&this.unwireEvents(),this.removeListener(),this.removeMediaListener(),this.notify(js,{}),this.destroyDependentModules(),this.isReact&&this.destroyTemplate(["template"]),this.isVue&&this.destroyTemplate(),n&&r.prototype.destroy.call(this),this.toolTipObj.destroy(),this.isReact&&!ne.isIE&&(this.element.innerHTML="");for(var s=["renderModule","headerModule","contentModule","valueFormatterService","serviceLocator","ariaService","keyboardModule","widthService","searchModule","showHider","scrollModule","printModule","clipboardModule","focusModule"],o=0;o<s.length;o++)this[s[parseInt(o.toString(),10)]]&&(this[s[parseInt(o.toString(),10)]]=null);this.element.innerHTML="",Ki(this.element,[],["e-rtl","e-gridhover","e-responsive","e-default","e-device","e-grid-min-height"])}},e.prototype.destroyDependentModules=function(){var i=this.element;!i||!i.querySelector("."+ds)&&!i.querySelector("."+aa)||(this.scrollModule.destroy(),this.keyboardModule.destroy(),this.focusModule.destroy(),this.clipboardModule.destroy(),this.printModule.destroy())},e.prototype.getModuleName=function(){return"grid"},e.prototype.enableBoxSelection=function(){this.enableAutoFill?(this.selectionSettings.cellSelectionMode="BoxWithBorder",this.element.classList.add("e-afenabled")):(this.element.classList.remove("e-afenabled"),this.notify(gC,{}))},e.prototype.setCSSClass=function(i){this.cssClass&&Z([this.element],this.cssClass.split(" ")),i&&ue([this.element],i.split(" "))},e.prototype.onPropertyChanged=function(i,n){var s=!1,o=!1,a=!1,l,h={requestType:"refresh"},u=null,c=null;if(!this.isDestroyed){this.log("module_missing"),this.isEllipsisTooltip()&&this.toolTipObj.close();var d=Object.keys(i);d.indexOf("columns")>-1&&(this.enableColumnVirtualization&&(this.columnModel=[]),this.updateColumnObject(),o=!0);for(var f=0,g=d;f<g.length;f++){var m=g[f];switch(m){case"allowPaging":this.notify(fn,{module:"pager",enable:this.allowPaging}),s=!0,this.height==="100%"&&this.scrollModule.refresh(),this.getDataModule().clearCache();break;case"pageSettings":if(this.pageTemplateChange){this.pageTemplateChange=!1,this.notify(zr,{module:"pager",properties:i.pageSettings});break}if(this.pagerModule&&this.pagerModule.isCancel){this.pagerModule.isCancel=!1;return}this.notify(zr,{module:"pager",properties:i.pageSettings}),(p(i.pageSettings.currentPage)&&p(i.pageSettings.pageSize)&&p(i.pageSettings.totalRecordsCount)||!p(n.pageSettings)&&i.pageSettings.currentPage!==n.pageSettings.currentPage&&!this.enableColumnVirtualization&&!this.enableVirtualization&&this.pageRequireRefresh&&this.pageSettings.totalRecordsCount<=this.pageSettings.pageSize)&&(s=!0),this.pageRequireRefresh||(this.pageRequireRefresh=!0),this.pagerModule&&this.pagerModule.isCancel&&(this.pagerModule.isCancel=!1);break;case"allowSorting":this.notify(fn,{module:"sort",enable:this.allowSorting}),s=!0,l=!0;break;case"allowFiltering":this.updateStackedFilter(),this.notify(fn,{module:"filter",enable:this.allowFiltering}),s=!0,this.filterSettings.type!=="FilterBar"||this.editSettings.showAddNewRow&&this.filterSettings.type==="FilterBar"?this.refreshHeader():this.height==="100%"&&this.scrollModule.refresh();break;case"height":case"width":this.notify(fn,{module:"scroll",properties:{width:i.width,height:i.height}}),this.allowPaging&&this.pagerModule.refresh();break;case"allowReordering":this.headerModule.refreshUI(),l=!0;break;case"allowRowDragAndDrop":this.notify(fn,{module:"rowDragAndDrop",enable:this.allowRowDragAndDrop}),this.renderModule.refresh(),this.headerModule.refreshUI();break;case"allowSelection":this.notify(fn,{module:"selection",enable:this.allowSelection}),this.renderModule.refresh();break;case"cssClass":this.setCSSClass(n.cssClass);break;case"enableAutoFill":this.selectionModule&&(this.enableBoxSelection(),this.selectionModule.updateAutoFillPosition());break;case"rowTemplate":this.rowTemplateFn=Si(this.rowTemplate),s=!0;break;case"emptyRecordTemplate":this.emptyRecordTemplateFn=Si(this.emptyRecordTemplate),s=!0;break;case"detailTemplate":this.detailTemplateFn=Si(this.detailTemplate),s=!0;break;case"allowGrouping":this.notify(fn,{module:"group",enable:this.allowGrouping}),this.headerModule.refreshUI(),s=!0,l=!0,this.height==="100%"&&this.scrollModule.refresh();break;case"enableInfiniteScrolling":case"childGrid":if(s=!0,u=this.parentDetails?document.querySelector("#"+this.parentDetails.parentID):null,c=u?u.ej2_instances[0]:null,this.childGrid&&c&&p(c.childGrid.childGrid)){var y=Object.assign({},c.childGrid,{childGrid:i.childGrid});for(c.setProperties({childGrid:y},!0);!p(c.parentDetails);){var v=document.querySelector("#"+c.parentDetails.parentID),M=v?v.ej2_instances[0]:null;if(M){var S=Object.assign({},M.childGrid);S.childGrid=c.childGrid,M.setProperties({childGrid:S},!0)}c=M}}this.headerModule.refreshUI();break;case"toolbar":this.notify(fn,{module:"toolbar"}),this.height==="100%"&&this.scrollModule.refresh();break;case"groupSettings":this.notify(zr,{module:"group",properties:i.groupSettings,oldProperties:n.groupSettings});break;case"aggregates":!this.aggregates.length&&this.allowGrouping&&this.groupSettings.columns.length&&(s=!0),this.notify(fn,{module:"aggregate",properties:i}),this.height==="100%"&&this.scrollModule.refresh();break;case"frozenColumns":case"frozenRows":case"enableVirtualization":case"enableColumnVirtualization":case"currencyCode":case"locale":this.isFrozenGrid()&&this.log("frozen_rows_columns"),a=!0,o=!0,this.addNewRowFocus=!0;break;case"query":this.getDataModule().isQueryInvokedFromData||(s=!0),this.getDataModule().isQueryInvokedFromData=!1;break;case"autoFit":this.autoFit?this.preventAdjustColumns():this.restoreAdjustColumns();break;default:this.extendedPropertyChange(m,i,o)}}l&&this.updateDefaultCursor(),o?a||this.getFrozenColumns()||this.frozenRows||this.frozenLeftColumns.length||this.frozenRightColumns.length?this.freezeRefresh():this.refresh():s&&(this.notify(Qu,h),s=!1,this.maintainSelection(i.selectedRowIndex))}},e.prototype.extendedPropertyChange=function(i,n,s){switch(i){case"enableRtl":this.updateRTL(),this.allowPaging&&(this.element.querySelector(".e-gridpager").ej2_instances[0].enableRtl=n.enableRtl,this.element.querySelector(".e-gridpager").ej2_instances[0].dataBind()),this.height!=="auto"&&(this.scrollModule.removePadding(!n.enableRtl),this.scrollModule.setPadding()),this.toolbar&&this.toolbarModule&&(this.toolbarModule.getToolbar().ej2_instances[0].enableRtl=n.enableRtl,this.toolbarModule.getToolbar().ej2_instances[0].dataBind()),this.contextMenuItems&&this.contextMenuModule&&(this.contextMenuModule.getContextMenu().ej2_instances[0].enableRtl=n.enableRtl,this.contextMenuModule.getContextMenu().ej2_instances[0].dataBind()),this.showColumnMenu&&this.columnMenuModule&&!this.enableAdaptiveUI&&(this.columnMenuModule.getColumnMenu().ej2_instances[0].enableRtl=n.enableRtl,this.columnMenuModule.getColumnMenu().ej2_instances[0].dataBind()),this.filterSettings.type==="FilterBar"&&this.filterSettings.showFilterBarOperator&&this.refreshHeader(),this.notify(fX,{});break;case"enableAltRow":this.renderModule.refresh();break;case"allowResizing":this.resizeModule&&this.resizeModule.render(),this.headerModule.refreshUI(),this.updateResizeLines();break;case"rowHeight":this.rowHeight?Z([this.element],"e-grid-min-height"):ue([this.element],"e-grid-min-height"),this.renderModule.refresh(),this.headerModule.refreshUI();break;case"gridLines":this.updateGridLines();break;case"showColumnMenu":this.headerModule.refreshUI(),this.notify(fn,{module:"columnMenu",enable:!0});break;case"columnMenuItems":this.notify(fn,{module:"columnMenu",enable:this.columnMenuItems});break;case"contextMenuItems":this.notify(fn,{module:"contextMenu",enable:this.contextMenuItems});break;case"showColumnChooser":this.toolbarModule&&this.toolbarModule.refreshToolbarItems(),this.notify(fn,{module:"columnChooser",enable:this.showColumnChooser});break;case"columnChooserSettings":this.notify(zr,{module:"columnChooser"});break;case"filterSettings":this.updateStackedFilter(),this.notify(zr,{module:"filter",properties:n.filterSettings});break;case"searchSettings":this.notify(zr,{module:"search",properties:n.searchSettings});break;case"sortSettings":this.notify(zr,{module:"sort"});break;case"selectionSettings":this.notify(zr,{module:"selection",properties:n.selectionSettings});break;case"editSettings":this.notify(zr,{module:"edit",properties:n.editSettings});break;case"allowTextWrap":case"textWrapSettings":this.allowTextWrap?this.applyTextWrap():this.removeTextWrap(),this.notify(Og,{case:"textwrap",isModeChg:i==="textWrapSettings"}),this.refreshHeader(),this.height==="100%"&&this.scrollModule.refresh();break;case"dataSource":var o=this.getDataModule().getState();if(this.allowPaging&&this.pageSettings.pageSizes&&!this.getDataModule().isRemote()&&!(o&&o.isPending)&&this.pagerModule.pagerObj.isAllPage){var a=this.dataSource instanceof fe?this.dataSource.dataSource.json.length:"result"in this.dataSource?this.dataSource.count:this.dataSource.length,l=Array.isArray(this.pageSettings.pageSizes)&&this.pageSettings.pageSizes.indexOf("All")>-1?!0:this.pageSettings.pageSizes;!l&&this.pageSettings.pageSize!==a?this.pagerModule.pagerObj.isAllPage=!1:(this.setProperties({pageSettings:{pageSize:a}},!0),this.pagerModule.pagerObj.setProperties({pageSize:a},!0))}if(this.allowSelection&&this.isPersistSelection&&!(o&&o.isPending)&&this.clearSelection(),this.partialSelectedRecords=[],this.partialSelectedIndexes=[],this.disableSelectedRecords=[],this.renderModule.selectableDataKey={},this.renderModule.nonselectableDataKey={},!p(this.dataSource)&&this.dataSource.result&&(this.isVirtualAdaptive=!1),Object.getPrototypeOf(n).deepWatch)for(var h=this.getPrimaryKeyFieldNames()[0],u=0,c=Object.keys(n.dataSource);u<c.length;u++)this.setRowData(H(h,this.dataSource[c[parseInt(u.toString(),10)]]),this.dataSource[c[parseInt(u.toString(),10)]]);else if(o.isPending){var d=p(this.dataSource)?[]:this.dataSource.result,f=o.group||[];if(f.length&&!this.groupSettings.enableLazyLoading&&!(d.length&&d[0].field))for(var u=0;u<f.length;u++)d=re.group(d,f[parseInt(u.toString(),10)],o.aggregates||[]);this.dataSource={result:d,count:this.dataSource.count,aggregates:this.dataSource.aggregates},this.getDataModule().setState({}),o.resolver(this.dataSource)}else{if(!p(this.dataSource)&&this.dataSource.result&&this.dataSource.count&&this.groupSettings.columns.length){var d=this.dataSource.result,f=this.groupSettings.columns;if(f.length&&!(d.length&&d[0].field))for(var u=0;u<f.length;u++)d=re.group(d,f[parseInt(u.toString(),10)]);this.dataSource={result:d,count:this.dataSource.count}}if(this.getDataModule().setState({isDataChanged:!1}),this.notify(MC,{}),!s){if(this.isRowSelectable&&!this.isRemote()){var g=this.getDataModule().dataManager.executeLocal(this.getDataModule().generateQuery(!0));this.renderModule.setPartialRecord(g)}this.renderModule.refresh(),this.isCheckBoxSelection&&this.notify(TC,{})}}this.scrollRefresh();break;case"enableHover":var m=n.enableHover?Z:ue;m([this.element],"e-gridhover");break;case"selectedRowIndex":this.isSelectedRowIndexUpdating||this.selectRow(n.selectedRowIndex),this.isSelectedRowIndexUpdating=!1;break;case"resizeSettings":this.widthService.setWidthToTable();break;case"enableAdaptiveUI":this.notify($X,{});break;case"rowRenderingMode":this.enableVerticalRendering(),this.notify(KX,{}),this.refresh();break;case"enableStickyHeader":this.scrollModule.addStickyListener(n.enableStickyHeader);break;case"allowPdfExport":this.toolbarModule&&this.toolbarModule.refreshToolbarItems();break;case"allowExcelExport":this.toolbarModule&&this.toolbarModule.refreshToolbarItems();break;case"enableRowSpan":case"enableColumnSpan":this.refreshColumns();break}},e.prototype.maintainSelection=function(i){var n=this;if(i!==-1){var s=function(){n.selectRow(i),n.off($i,s)};this.on($i,s,this)}},e.prototype.setProperties=function(i,n){var s=this.groupSettings.columns;r.prototype.setProperties.call(this,i,n);var o="filterSettings",a="groupSettings";if(i[""+o]&&this.filterModule&&n&&this.filterModule.refreshFilter(),i[""+a]&&i[""+a].columns&&this.groupModule&&n){if(!this.groupSettings.showGroupedColumn)for(var l=0;l<s.length;l++){var h=this.getColumnByField(s[parseInt(l.toString(),10)]);h.visible=!0}for(var l=0;l<this.sortSettings.columns.length;l++){var u=s.indexOf(this.sortSettings.columns[parseInt(l.toString(),10)].field);u!==-1&&this.sortSettings.columns[parseInt(l.toString(),10)].isFromGroup&&(this.sortSettings.columns.splice(l,1),l--)}for(var l=0;l<i[""+a].columns.length;l++){this.groupModule.groupAddSortingQuery(i[""+a].columns[parseInt(l.toString(),10)]);var h=this.getColumnByField(i[""+a].columns[parseInt(l.toString(),10)]);h.visible=this.groupSettings.showGroupedColumn}}},e.prototype.getTablesCount=function(){return this.tablesCount},e.prototype.isRemote=function(){return this.getDataModule().isRemote()||!p(this.dataSource)&&!p(this.dataSource.result)},e.prototype.updateDefaultCursor=function(){for(var i=[].slice.call(this.getHeaderContent().querySelectorAll(".e-headercell:not(.e-stackedheadercell)")),n=[].slice.call(this.getHeaderContent().getElementsByClassName("e-stackedheadercell")),s=this.getColumns(),o=0;o<i.length;o++){var a=i[parseInt(o.toString(),10)],l=s[parseInt(o.toString(),10)];this.allowGrouping&&l.allowGrouping||this.allowReordering&&l.allowReordering||this.allowSorting&&l.allowSorting?a.classList.add("e-mousepointer"):a.classList.add("e-defaultcursor")}for(var h=0;h<n.length;h++)this.allowReordering&&n[parseInt(h.toString(),10)].classList.add("e-mousepointer")},e.prototype.updateColumnModel=function(i,n){for(var s=0,o=p(i)?0:i.length;s<o;s++)i[parseInt(s.toString(),10)].columns?this.updateColumnModel(i[parseInt(s.toString(),10)].columns,!0):this.columnModel.push(i[parseInt(s.toString(),10)]);(p(n)||!n)&&this.updateLockableColumns()},e.prototype.getFrozenLeftCount=function(){return this.getFrozenColumns()||this.getFrozenLeftColumnsCount()},e.prototype.isFrozenGrid=function(){return this.getFrozenColumns()!==0||this.frozenLeftColumns.length!==0||this.frozenRightColumns.length!==0||this.fixedColumns.length!==0},e.prototype.getFrozenMode=function(){return this.frozenName},e.prototype.updateLockableColumns=function(){for(var i=this.columnModel,n=0,s=0,o=this.getFrozenColumns(),a=0;a<i.length;a++)i[parseInt(a.toString(),10)].lockColumn&&(a<o?(i.splice(n,0,i.splice(a,1)[0]),n++):(i.splice(o+s,0,i.splice(a,1)[0]),s++))},e.prototype.checkLockColumns=function(i){for(var n=0;n<i.length;n++)i[parseInt(n.toString(),10)].columns?this.checkLockColumns(i[parseInt(n.toString(),10)].columns):i[parseInt(n.toString(),10)].lockColumn&&this.lockcolPositionCount++},e.prototype.leftrightColumnWidth=function(i){var n=i==="left"?this.getFrozenLeftColumns():i==="right"?this.getFrozenRightColumns():[],s=0;return n.filter(function(o){o.visible&&(s+=parseInt(o.width.toString(),10))}),s},e.prototype.getColumns=function(i){var n=this,s=this.inViewIndexes.map(function(f){return f-n.groupSettings.columns.length}).filter(function(f){return f>-1}),o=s.length;(!this.enableColumnVirtualization||p(this.columnModel)||this.columnModel.length===0||i)&&(this.columnModel=[],this.updateColumnModel(this.columns));var a=o===0?this.columnModel:this.getVisibleColumns().slice(s[0],s[o-1]+1),l=[],h=[],u=[],c=this.enableColumnVirtualization&&this.isPreparedFrozenColumns&&o===0;c&&(this.frozenRightColumns=[],this.frozenLeftColumns=[]);for(var d=0;d<a.length;d++)a[parseInt(d.toString(),10)].freeze==="Left"||a[parseInt(d.toString(),10)].isFrozen?(l.push(a[parseInt(d.toString(),10)]),c&&this.frozenLeftColumns.push(a[parseInt(d.toString(),10)])):a[parseInt(d.toString(),10)].freeze==="Right"?(h.push(a[parseInt(d.toString(),10)]),c&&this.frozenRightColumns.push(a[parseInt(d.toString(),10)])):u.push(a[parseInt(d.toString(),10)]);return this.enableColumnVirtualization&&this.isFrozenGrid()&&(this.frozenLeftColumns.length&&(l=this.frozenLeftColumns),this.frozenRightColumns.length&&(h=this.frozenRightColumns)),l.concat(u).concat(h)},e.prototype.getStackedHeaderColumnByHeaderText=function(i,n){for(var s=0;s<n.length;s++){var o=n[parseInt(s.toString(),10)];if(o.field===i||o.headerText===i){this.stackedColumn=o;break}else o.columns&&this.getStackedHeaderColumnByHeaderText(i,o.columns)}return this.stackedColumn},e.prototype.getColumnIndexesInView=function(){return this.inViewIndexes},e.prototype.getQuery=function(){return this.query},e.prototype.getLocaleConstants=function(){return this.defaultLocale},e.prototype.setColumnIndexesInView=function(i){this.inViewIndexes=i},e.prototype.getVisibleColumns=function(){return this.getCurrentVisibleColumns()},e.prototype.getHeaderContent=function(){return this.headerModule.getPanel()},e.prototype.setGridHeaderContent=function(i){this.headerModule.setPanel(i)},e.prototype.getContentTable=function(){return this.contentModule.getTable()},e.prototype.setGridContentTable=function(i){this.contentModule.setTable(i)},e.prototype.getContent=function(){return this.contentModule.getPanel()},e.prototype.setGridContent=function(i){this.contentModule.setPanel(i)},e.prototype.getHeaderTable=function(){return this.headerModule.getTable()},e.prototype.setGridHeaderTable=function(i){this.headerModule.setTable(i)},e.prototype.getFooterContent=function(){return this.footerElement=this.element.getElementsByClassName(Pg)[0],this.footerElement},e.prototype.getFooterContentTable=function(){return this.footerElement=this.element.getElementsByClassName(Pg)[0],this.footerElement.firstChild.firstChild},e.prototype.getPager=function(){return this.gridPager},e.prototype.setGridPager=function(i){this.gridPager=i},e.prototype.getRowByIndex=function(i){return this.enableVirtualization&&this.groupSettings.enableLazyLoading?this.lazyLoadRender.getRowByIndex(i):this.contentModule.getRowByIndex(i)},e.prototype.getMovableRowByIndex=function(i){return this.contentModule.getRowByIndex(i)},e.prototype.getFrozenRowByIndex=function(i){return this.contentModule.getRowByIndex(i)},e.prototype.getRows=function(){return this.contentModule.getRowElements()},e.prototype.getFrozenRightRowByIndex=function(i){return this.contentModule.getRowByIndex(i)},e.prototype.getRowInfo=function(i){var n=i,s={target:i};if(!p(i)&&p(he(n,"e-detailrowcollapse")&&p(he(n,"e-recordplusexpand")))){var o=xe(n,"."+Gt);if(!o){var a=xe(n,"."+jn);if(!p(a)&&!a.classList.contains("e-addedrow")){var l=this.getRowObjectFromUID(a.getAttribute("data-uid")),h=parseInt(a.getAttribute(Ti),10)-1;s={row:a,rowData:l.data,rowIndex:h}}return s}var u=parseInt(o.getAttribute(Qi),10)-1,c=xe(o,"."+jn);if(!p(o)&&!isNaN(u)&&!p(c)){var h=parseInt(c.getAttribute(Ti),10)-1,d=this.contentModule.getRows(),f=u+this.getIndentCount(),g=d.filter(function(M){return M.uid===c.getAttribute("data-uid")});this.pinnedTopRowModels.length&&!p(i)&&he(n,"e-headercontent")&&(g=this.pinnedTopRowModels.filter(function(M){return M.uid===c.getAttribute("data-uid")}));var m={},y=void 0;Object.keys(g).length&&(m=g[0].data,y=g[0].cells[parseInt(f.toString(),10)].column),s={cell:o,cellIndex:u,row:c,rowIndex:h,rowData:m,column:y,target:i}}}return s},e.prototype.getMovableRows=function(){return this.contentModule.getRowElements()},e.prototype.getFrozenRightRows=function(){return this.contentModule.getRowElements()},e.prototype.getDataRows=function(){return this.getAllDataRows()},e.prototype.getAllDataRows=function(i){if(p(this.getContentTable().querySelector($t)))return[];var n=this.getContentTable().querySelector($t),s=[].slice.call(n.children);if(this.editSettings.showAddNewRow&&(s[0].classList.contains("e-addedrow")?s.shift():s[s.length-1].classList.contains("e-addedrow")&&s.pop()),this.frozenRows||this.pinnedTopRowModels.length){var o=this.getHeaderTable().querySelector($t),a=[].slice.call(o.children);s=this.addMovableRows(a,s),this.editSettings.showAddNewRow&&a[0].classList.contains("e-addedrow")&&a.shift()}var l=this.generateDataRows(s,i);return l},e.prototype.addMovableRows=function(i,n){for(var s=0,o=n.length;s<o;s++)i.push(n[parseInt(s.toString(),10)]);return i},e.prototype.generateDataRows=function(i,n){for(var s=[],o=0,a=i.length;o<a;o++)i[parseInt(o.toString(),10)].classList.contains(jn)&&(!i[parseInt(o.toString(),10)].classList.contains("e-hiddenrow")||n)&&(this.isCollapseStateEnabled()?s[parseInt(i[parseInt(o.toString(),10)].getAttribute("aria-rowindex"),10)-1]=i[parseInt(o.toString(),10)]:s.push(i[parseInt(o.toString(),10)]));return s},e.prototype.getMovableDataRows=function(){return this.getAllMovableDataRows()},e.prototype.getAllMovableDataRows=function(i){return this.getAllDataRows(i)},e.prototype.getFrozenDataRows=function(){return this.getAllFrozenDataRows()},e.prototype.getAllFrozenDataRows=function(i){return this.getAllDataRows(i)},e.prototype.getFrozenRightDataRows=function(){return this.getAllFrozenRightDataRows()},e.prototype.getAllFrozenRightDataRows=function(i){return this.getAllDataRows(i)},e.prototype.setCellValue=function(i,n,s){var o="cells",a="data",l="index",h="uid",u=this.getPrimaryKeyFieldNames()[0],c=new Ir(this,this.serviceLocator),d=this.getColumnIndexByField(n),f=this.getColumnByField(n),g=this.contentModule.getRows(),m=g.filter(function(b){return H(u,b.data)===i})[0],y=m?this.element.querySelector("[data-uid="+m[""+h]+"]"):null;if(!p(y)){typeof s=="string"&&(s=this.sanitize(s)),Ze(n,s,m[""+a]);var v=this.enableVirtualization?y.children[parseInt(d.toString(),10)]:this.getCellFromIndex(m[""+l],d);if(!p(v)){var M=0;this.groupSettings.columns.length&&(d=d+this.groupSettings.columns.length),(this.childGrid||this.detailTemplate)&&d++,this.isRowDragable()&&d++;var S=m[""+o][d-M];c.refreshTD(v,S,m[""+a],{index:m[""+l]}),this.isReact&&(v=this.enableVirtualization?y.children[parseInt(d.toString(),10)]:this.getCellFromIndex(m[""+l],d)),this.aggregates.length>0&&(this.notify(fC,{}),this.groupSettings.columns.length>0&&this.notify(aN,{})),!p(m)&&!p(m.changes)&&(m.changes[""+n]=s),this.trigger(dC,{cell:v,column:f,data:m[""+a]}),this.isReact&&v.getAttribute("tabindex")==="0"&&v.classList.contains("e-focused")&&v.focus()}}},e.prototype.refreshReactColumnTemplateByUid=function(i,n){var s=this;this.isReact&&this.clearTemplate(["columnTemplate"],void 0,function(){var o=!!(s.childGrid&&s.element.querySelectorAll(".e-childgrid").length),a=o?s.getContentTable().querySelectorAll(".e-row"):s.getDataRows();s.refreshReactTemplateTD(a,o),n&&s.renderTemplates()})},e.prototype.refreshReactTemplateTD=function(i,n,s){for(var o="cells",a="index",l=this.getIndentCount(),h=0,u=!1,c=0;c<i.length;c++){var d=this.getRowObjectFromUID(i[parseInt(c.toString(),10)].getAttribute("data-uid"));if(n&&!d&&he(i[parseInt(c.toString(),10)],"e-childgrid")){var f=he(i[parseInt(c.toString(),10)],"e-childgrid").ej2_instances[0];d=f.getRowObjectFromUID(i[parseInt(c.toString(),10)].getAttribute("data-uid")),h=f.getIndentCount(),u=!0}if(d&&d.isDataRow&&!p(d.index)&&!i[parseInt(c.toString(),10)].classList.contains("e-editedrow"))for(var g=0;g<d[""+o].length;g++){var m=d[""+o][parseInt(g.toString(),10)];if(m.isTemplate){var y=new Ir(this,this.serviceLocator),v=n?i[parseInt(c.toString(),10)].children[m.index+(u?h:l)]:this.getCellFromIndex(c,s?m.index:g-l);y.refreshTD(v,m,d.data,{index:d[""+a]})}}u=!1}},e.prototype.refreshGroupCaptionFooterTemplate=function(){for(var i=!!(this.childGrid&&this.element.querySelectorAll(".e-childgrid").length),n=this.getContentTable().querySelectorAll(".e-groupcaptionrow, .e-groupfooterrow"),s=0;s<n.length;s++){var o=this,a=this.getRowObjectFromUID(n[parseInt(s.toString(),10)].getAttribute("data-uid"));if(i&&!a&&he(n[parseInt(s.toString(),10)],"e-childgrid")&&(o=he(n[parseInt(s.toString(),10)],"e-childgrid").ej2_instances[0],a=o.getRowObjectFromUID(n[parseInt(s.toString(),10)].getAttribute("data-uid"))),a){var l=a.cells.filter(function(u){return u.isDataCell}),h={cells:l,data:a.data,dataUid:a.uid};o.notify(XZ,h)}}},e.prototype.refreshReactHeaderTemplateByUid=function(i){if(this.isReact)for(var n="cells",s=this.headerModule.rows,o=this.getNormalizedColumnIndex(i),a=function(u){var c=s[parseInt(u.toString(),10)][""+n][parseInt(o.toString(),10)];if(c&&c.column.uid===i){var d=new eP(l,l.serviceLocator),f=he(l.element.querySelectorAll("[data-mappinguid="+i+"]")[0],"e-templatecell");d.refresh(c,f);var g=l.sortSettings.columns,m=g.findIndex(function(M){return M.field===c.column.field});if(m!==-1){var y=l.getColumnHeaderByField(c.column.field);l.ariaService.setSort(y,g[parseInt(m.toString(),10)].direction.toLowerCase()),g.length>1&&y.querySelector(".e-headercelldiv").insertBefore(l.createElement("span",{className:"e-sortnumber",innerHTML:(m+1).toString()}),y.querySelector(".e-headertext"));var v=y.querySelector(".e-sortfilterdiv");g[parseInt(m.toString(),10)].direction==="Ascending"?Ki(v,["e-ascending","e-icon-ascending"],[]):Ki(v,["e-descending","e-icon-descending"],[])}}},l=this,h=0;h<s.length;h++)a(h)},e.prototype.setRowData=function(i,n){var s="uid",o=this.contentModule.getRows(),a=this.getPrimaryKeyFieldNames()[0];this.groupSettings.columns.length>0&&this.aggregates.length>0&&(o=o.filter(function(f){return f.isDataRow}));var l=o.filter(function(f){return H(a,f.data)===i})[0],h=l?[].slice.call(this.element.querySelectorAll("[data-uid="+l[""+s]+"]")):void 0;if(!p(l)&&h.length){if(l.changes=n,this.frozenRows){var u=this.getRowsObject()[l.index];this.setFrozenRowData(u,n)}else{var c=this.getRowElementByUID(l.uid),d=!!(c&&c.querySelector(".e-lastrowcell"));this.setFrozenRowData(l,n),d&&this.scrollModule.setLastRowCell()}this.aggregates.length>0&&(this.notify(fC,{}),this.groupSettings.columns.length>0&&this.notify(aN,{}))}else return},e.prototype.setFrozenRowData=function(i,n){var s=new Np(this.serviceLocator,null,this);i.changes=n,xte(i,this.getForeignKeyColumns(),i.changes),s.refresh(i,this.getColumns(),!0)},e.prototype.getCellFromIndex=function(i,n){var s=this.getColumnByIndex(n);return Ute(this,s,i,n)},e.prototype.getMovableCellFromIndex=function(i,n){return this.getCellFromIndex(i,n)},e.prototype.getFrozenRightCellFromIndex=function(i,n){return this.getCellFromIndex(i,n)},e.prototype.getColumnHeaderByIndex=function(i){return this.getHeaderTable().getElementsByClassName("e-headercell")[parseInt(i.toString(),10)]},e.prototype.getMovableColumnHeaderByIndex=function(i){return this.getColumnHeaderByIndex(i)},e.prototype.getFrozenRightColumnHeaderByIndex=function(i){return this.getColumnHeaderByIndex(i)},e.prototype.getFrozenLeftColumnHeaderByIndex=function(i){return this.getColumnHeaderByIndex(i)},e.prototype.getRowObjectFromUID=function(i){var n=this.contentModule.getRows(),s=this.rowObject(n,i);if(p(s)&&this.pinnedTopRowModels.length){var o=this.pinnedTopRowModels;if(s=this.rowObject(o,i),!p(s))return s}return p(s)&&this.enableVirtualization&&this.groupSettings.columns.length>0&&(s=this.rowObject(this.vRows,i)),s},e.prototype.rowObject=function(i,n){if(i)for(var s=0,o=i;s<o.length;s++){var a=o[s];if(a.uid===n)return a}return null},e.prototype.getRowsObject=function(){return this.contentModule.getRows()},e.prototype.getMovableRowsObject=function(){return this.contentModule.getRows()},e.prototype.getFrozenRightRowsObject=function(){return this.contentModule.getRows()},e.prototype.getColumnHeaderByField=function(i){var n=this.getColumnByField(i);return n?this.getColumnHeaderByUid(n.uid):void 0},e.prototype.getColumnHeaderByUid=function(i){var n=this.getHeaderContent().querySelector("[data-mappinguid="+i+"]");return n?xe(n,"th"):void 0},e.prototype.getColumnByIndex=function(i){var n;return this.getColumns().some(function(s,o){return n=s,o===i}),n},e.prototype.getColumnByField=function(i){return ao(this.getColumns(),function(n){if(n.field===i)return n})[0]},e.prototype.getColumnIndexByField=function(i){for(var n=this.getColumns(),s=0;s<n.length;s++)if(n[parseInt(s.toString(),10)].field===i)return s;return-1},e.prototype.getColumnByUid=function(i,n){var s=n?this.columns:this.getColumns();return ao(s.concat(this.getStackedColumns(this.columns)),function(o){if(o.uid===i)return o})[0]},e.prototype.getStackedColumns=function(i,n){n===void 0&&(n=[]);for(var s=0,o=i;s<o.length;s++){var a=o[s];a.columns&&(n.push(a),this.getStackedColumns(a.columns,n))}return n},e.prototype.getColumnIndexByUid=function(i){var n=ao(this.getColumns(),function(s,o){if(s.uid===i)return o})[0];return p(n)?-1:n},e.prototype.getUidByColumnField=function(i){return ao(this.getColumns(),function(n){if(n.field===i)return n.uid})[0]},e.prototype.getNormalizedColumnIndex=function(i){var n=this.getColumnIndexByUid(i);return n+this.getIndentCount()},e.prototype.getIndentCount=function(){var i=0;return this.allowGrouping&&(i+=this.groupSettings.columns.length),this.isDetail()&&i++,this.isRowDragable()&&p(this.rowDropSettings.targetID)&&i++,i},e.prototype.getColumnFieldNames=function(){for(var i=[],n,s=0,o=this.getColumns().length;s<o;s++)n=this.getColumns()[parseInt(s.toString(),10)],n.visible&&i.push(n.field);return i},e.prototype.getRowTemplate=function(){return this.rowTemplateFn},e.prototype.getEmptyRecordTemplate=function(){return this.emptyRecordTemplateFn},e.prototype.getDetailTemplate=function(){return this.detailTemplateFn},e.prototype.getEditTemplate=function(){return this.editTemplateFn},e.prototype.getEditHeaderTemplate=function(){return this.editHeaderTemplateFn},e.prototype.getEditFooterTemplate=function(){return this.editFooterTemplateFn},e.prototype.getColumnChooserTemplate=function(){return this.columnChooserTemplateFn},e.prototype.getColumnChooserHeaderTemplate=function(){return this.columnChooserHeaderTemplateFn},e.prototype.getColumnChooserFooterTemplate=function(){return this.columnChooserFooterTemplateFn},e.prototype.getPrimaryKeyFieldNames=function(){for(var i=[],n=0;n<this.columnModel.length;n++)this.columnModel[parseInt(n.toString(),10)].isPrimaryKey&&i.push(this.columnModel[parseInt(n.toString(),10)].field);return i},e.prototype.refresh=function(){this.isDestroyed||(this.isManualRefresh=!0,this.allowGrouping&&this.groupModule&&this.groupSettings.showDropArea&&this.groupModule.refreshDropArea(),this.headerModule.refreshUI(),this.updateStackedFilter(),this.renderModule.refresh())},e.prototype.refreshHeader=function(){this.headerModule.refreshUI()},e.prototype.getSelectedRows=function(){return this.selectionModule?this.selectionModule.selectedRecords:[]},e.prototype.getSelectedRowIndexes=function(){return this.selectionModule?this.selectionModule.selectedRowIndexes:[]},e.prototype.getSelectedRowCellIndexes=function(){return this.selectionModule?this.selectionModule.selectedRowCellIndexes:[]},e.prototype.getSelectedRecords=function(){return this.selectionModule?this.selectionModule.getSelectedRecords():[]},e.prototype.getSelectedColumnsUid=function(){var i=this,n=[];return this.selectionModule&&this.selectionModule.selectedColumnsIndexes.filter(function(s){return n.push(i.getColumns()[parseInt(s.toString(),10)].uid)}),n},e.prototype.getDataModule=function(){return this.renderModule.data},e.prototype.showColumns=function(i,n){n=n||"headerText",this.showHider.show(i,n)},e.prototype.hideColumns=function(i,n){n=n||"headerText",this.showHider.hide(i,n)},e.prototype.getFrozenColumns=function(){return this.frozenColumns+this.getFrozenCount(this.columns,0,0)},e.prototype.getFrozenRightColumnsCount=function(){return this.frozenRightCount||this.rightcount},e.prototype.getFrozenLeftColumnsCount=function(){return this.frozenLeftCount||this.leftcount},e.prototype.getMovableColumnsCount=function(){return this.movableCount||this.movablecount},e.prototype.updateFrozenColumnsWidth=function(){if(this.isFrozenGrid()&&!this.enableColumnVirtualization)for(var i=this.getColumns(),n=!0,s=0,o=0,a=0,l=i.some(function(d){return(d.freeze==="Left"||d.freeze==="Right"||d.freeze==="Fixed"||d.isFrozen)&&d.width==="auto"}),h=function(d){var f=i[parseInt(d.toString(),10)];if(p(f.width)&&(f.freeze==="Left"||f.freeze==="Right"||f.freeze==="Fixed"||f.isFrozen)&&(f.width=Math.max(200,f.minWidth?parseFloat(f.minWidth.toString()):0),!p(f.maxWidth)&&parseFloat(f.maxWidth.toString())<f.width&&(f.width=f.maxWidth)),f.width==="auto"&&l){var g=0;if(n){i.filter(function(y){if(y.visible&&(y.width==="auto"&&s++,y.width!=="auto")){var v=p(y.width)?Math.max(200,y.minWidth?parseFloat(y.minWidth.toString()):0):parseFloat(y.width.toString());g+=v}});var m=u.isPercentageWidthGrid()||u.width==="auto"?u.element.getBoundingClientRect().width:parseFloat(u.width.toString());o=u.height==="auto"?m-g:m-g-Rr(),o<0&&(o=0),a=parseFloat((o/s).toString()),i.filter(function(y){y.visible&&y.minWidth&&parseFloat(y.minWidth.toString())>a&&(o=o-parseFloat(y.minWidth.toString()),s--)}),n=!1}f.minWidth&&parseFloat(f.minWidth.toString())>a?f.width=parseFloat(f.minWidth.toString()):f.width=o/s}},u=this,c=0;c<i.length;c++)h(c)},e.prototype.refreshSplitFrozenColumn=function(){this.splitFrozenCount(this.columns),this.updateFrozenColumnsWidth(),this.isAutoGenerateColumns=!0},e.prototype.setFrozenCount=function(){this.frozenLeftCount=this.frozenRightCount=this.movableCount=0,this.visibleFrozenLeft=this.visibleFrozenRight=this.visibleMovable=0,this.frozenLeftColumns=[],this.frozenRightColumns=[],this.movableColumns=[],this.fixedColumns=[],this.splitFrozenCount(this.columns),this.leftcount=this.frozenLeftCount,this.rightcount=this.frozenRightCount,this.movablecount=this.movableCount,this.frozenLeftCount&&!this.frozenRightCount?this.frozenName="Left":this.frozenRightCount&&!this.frozenLeftCount?this.frozenName="Right":this.frozenLeftCount&&this.frozenRightCount?this.frozenName="Left-Right":this.frozenColumns||this.frozenRows?this.frozenName="Left":this.frozenName=void 0},e.prototype.getVisibleFrozenLeftCount=function(){return this.visibleFrozenLeft},e.prototype.getVisibleFrozenRightCount=function(){return this.visibleFrozenRight},e.prototype.getVisibleMovableCount=function(){return this.visibleMovable},e.prototype.getFrozenRightColumns=function(){return this.frozenRightColumns},e.prototype.getFrozenLeftColumns=function(){return this.frozenLeftColumns},e.prototype.getMovableColumns=function(){return this.movableColumns},e.prototype.splitStackedColumns=function(i){for(var n=0;n<i.length;n++)i[parseInt(n.toString(),10)].columns?this.splitStackedColumns(i[parseInt(n.toString(),10)].columns):i[parseInt(n.toString(),10)].freeze==="Left"||i[parseInt(n.toString(),10)].isFrozen?(i[parseInt(n.toString(),10)].visible!==!1&&this.visibleFrozenLeft++,this.leftcount++):i[parseInt(n.toString(),10)].freeze==="Right"?(i[parseInt(n.toString(),10)].visible!==!1&&this.visibleFrozenRight++,this.rightcount++):i[parseInt(n.toString(),10)].freeze==="Fixed"?(i[parseInt(n.toString(),10)].visible!==!1&&this.visibleFrozenFixed++,this.fixedcount++):(i[parseInt(n.toString(),10)].visible!==!1&&this.visibleMovable++,this.movablecount++)},e.prototype.pushStackedColumns=function(i,n,s,o,a){s[parseInt(n.toString(),10)]={headerText:o.headerText},o.textAlign&&(s[parseInt(n.toString(),10)].textAlign=o.textAlign),o.customAttributes&&(s[parseInt(n.toString(),10)].customAttributes=o.customAttributes);for(var l=0;l<i.length;l++)if(i[parseInt(l.toString(),10)].columns)n=n+1,this.pushStackedColumns(i[parseInt(l.toString(),10)].columns,n,s,i[parseInt(l.toString(),10)],a),n=n-1;else{var h=[];h=s.slice().slice(0,n+1),i[parseInt(l.toString(),10)].freeze==="Left"||i[parseInt(l.toString(),10)].isFrozen?(this.stackedLeft.push(h),this.stackedarrayLeft.push(i[parseInt(l.toString(),10)])):i[parseInt(l.toString(),10)].freeze==="Right"?(this.stackedRight.push(h),this.stackedarrayRight.push(i[parseInt(l.toString(),10)])):i[parseInt(l.toString(),10)].freeze==="Fixed"?(this.stackedFixed.push(h),this.stackedarrayFixed.push(i[parseInt(l.toString(),10)])):(this.stackedMovable.push(h),this.stackedarrayMovable.push(i[parseInt(l.toString(),10)]))}},e.prototype.pushallcol=function(i,n,s,o,a){if(s.headerText===n.headerText)if(a)s.columns.push(o);else{var l={headerText:i.headerText,columns:[]};i.textAlign&&(l.textAlign=i.textAlign),i.customAttributes&&(l.customAttributes=i.customAttributes),s.columns.push(l)}else if(s.columns&&s.columns.length)for(var h=0;h<s.columns.length;h++)this.pushallcol(i,n,s.columns[parseInt(h.toString(),10)],o,a)},e.prototype.resetStackedColumns=function(i,n,s){for(var o={},a=[],l=1;l<=i.length;l++)for(var h=i[l-1],u=0;u<h.length;u++)if(!o.columns&&l===1?(o={headerText:h[parseInt(u.toString(),10)].headerText,textAlign:h[parseInt(u.toString(),10)].textAlign,customAttributes:h[parseInt(u.toString(),10)].customAttributes,columns:[]},a.push(h[parseInt(u.toString(),10)])):a.indexOf(h[parseInt(u.toString(),10)])===-1&&(this.pushallcol(h[parseInt(u.toString(),10)],h[u-1],o),a.push(h[parseInt(u.toString(),10)])),u===h.length-1){this.pushallcol(null,h[parseInt(u.toString(),10)],o,n[l-1],!0);for(var c=0;c!==i.length-1&&l!==i.length;){var d=h.map(function(g){return g.headerText}).join(", "),f=i[parseInt(l.toString(),10)].map(function(g){return g.headerText}).join(", ");d===f&&(l++,this.pushallcol(null,h[parseInt(u.toString(),10)],o,n[l-1],!0)),c++}}s==="Left"?this.frozenLeftColumns.push(o):s==="Right"?this.frozenRightColumns.push(o):this.movableColumns.push(o)},e.prototype.splitFrozenCount=function(i){if(this.frozenColumns||this.changedProperties&&this.changedProperties.frozenColumns===0){var n=!this.enableColumnVirtualization||this.enableColumnVirtualization&&this.isPreparedFrozenColumns?this.enableColumnVirtualization&&this.columnModel&&this.columnModel.length?this.columnModel:this.getColumns():this.columns;if(!this.changedProperties||this.changedProperties&&!this.changedProperties.frozenColumns)for(var s=0;s<n.length;s++)this.frozenColumns>s?n[parseInt(s.toString(),10)].freeze="Left":n[parseInt(s.toString(),10)].freeze==="Right"||n[parseInt(s.toString(),10)].freeze==="Fixed"?n[parseInt(s.toString(),10)].freeze=n[parseInt(s.toString(),10)].freeze:n[parseInt(s.toString(),10)].freeze=void 0}for(var s=0;s<(p(i)?0:i.length);s++)if(i[parseInt(s.toString(),10)].columns){this.leftcount=0,this.rightcount=0,this.movablecount=0,this.fixedcount=0;var o=[];this.splitStackedColumns(i[parseInt(s.toString(),10)].columns),this.leftcount&&!this.rightcount&&!this.movablecount&&!this.fixedcount?(this.frozenLeftCount+=this.leftcount,this.frozenLeftColumns.push(i[parseInt(s.toString(),10)])):this.rightcount&&!this.leftcount&&!this.movablecount&&!this.fixedcount?(this.frozenRightCount+=this.rightcount,this.frozenRightColumns.push(i[parseInt(s.toString(),10)])):this.movablecount&&!this.leftcount&&!this.rightcount&&!this.fixedcount?(this.movableCount+=this.movablecount,this.movableColumns.push(i[parseInt(s.toString(),10)])):this.fixedcount&&!this.leftcount&&!this.rightcount&&!this.movablecount?(this.fixedCount+=this.fixedcount,this.fixedColumns.push(i[parseInt(s.toString(),10)]),this.movableCount+=this.movablecount,this.movableColumns.push(i[parseInt(s.toString(),10)])):(this.frozenLeftCount+=this.leftcount,this.frozenRightCount+=this.rightcount,this.movableCount+=this.movablecount,this.fixedCount+=this.fixedcount,this.leftcount=0,this.rightcount=0,this.movablecount=0,this.fixedcount=0,this.stackedLeft=[],this.stackedRight=[],this.stackedFixed=[],this.stackedMovable=[],this.stackedarrayLeft=[],this.stackedarrayRight=[],this.stackedarrayFixed=[],this.stackedarrayMovable=[],this.pushStackedColumns(i[parseInt(s.toString(),10)].columns,0,o,i[parseInt(s.toString(),10)],{headerText:i[parseInt(s.toString(),10)].headerText,textAlign:i[parseInt(s.toString(),10)].textAlign,customAttributes:i[parseInt(s.toString(),10)].customAttributes,columns:[]}),this.stackedarrayLeft.length&&this.resetStackedColumns(this.stackedLeft,this.stackedarrayLeft,"Left"),this.stackedarrayRight.length&&this.resetStackedColumns(this.stackedRight,this.stackedarrayRight,"Right"),this.stackedarrayFixed.length&&this.resetStackedColumns(this.stackedFixed,this.stackedarrayFixed,"Fixed"),this.stackedarrayMovable.length&&this.resetStackedColumns(this.stackedMovable,this.stackedarrayMovable,"Movable"),this.stackedLeft=[],this.stackedRight=[],this.stackedMovable=[],this.stackedFixed=[],this.stackedarrayLeft=[],this.stackedarrayRight=[],this.stackedarrayMovable=[],this.stackedarrayFixed=[])}else i[parseInt(s.toString(),10)].freeze==="Right"?(i[parseInt(s.toString(),10)].visible!==!1&&this.visibleFrozenRight++,this.frozenRightColumns.push(i[parseInt(s.toString(),10)]),this.frozenRightCount++):i[parseInt(s.toString(),10)].freeze==="Left"||i[parseInt(s.toString(),10)].isFrozen?(i[parseInt(s.toString(),10)].visible!==!1&&this.visibleFrozenLeft++,this.frozenLeftColumns.push(i[parseInt(s.toString(),10)]),this.frozenLeftCount++):i[parseInt(s.toString(),10)].freeze==="Fixed"?(this.fixedColumns.push(i[parseInt(s.toString(),10)]),this.fixedCount++,this.movableColumns.push(i[parseInt(s.toString(),10)]),this.movableCount++):(i[parseInt(s.toString(),10)].visible!==!1&&this.visibleMovable++,this.movableColumns.push(i[parseInt(s.toString(),10)]),this.movableCount++);if(this.frozenLeftColumns.length){var n=this.frozenLeftColumns[this.frozenLeftColumns.length-1];this.removeBorder(this.frozenLeftColumns),this.frozenLeftBorderColumns(n instanceof Gi?this.lastVisibleLeftCol(this.frozenLeftColumns):n)}if(this.frozenRightColumns.length){var n=this.frozenRightColumns[0];this.removeBorder(this.frozenRightColumns),this.frozenRightBorderColumns(n instanceof Gi?this.firstVisibleRightCol(this.frozenRightColumns):n)}if((this.frozenLeftColumns.length||this.frozenRightColumns.length)&&this.freezeColumnRefresh){var n=this.frozenLeftColumns.concat(this.movableColumns).concat(this.frozenRightColumns);this.setProperties({columns:n},!0),this.freezeColumnRefresh=!1}},e.prototype.removeBorder=function(i){for(var n=0;n<i.length;n++)i[parseInt(n.toString(),10)].columns&&i[parseInt(n.toString(),10)].columns.length?((i[parseInt(n.toString(),10)].border==="Right"||i[parseInt(n.toString(),10)].border==="Left")&&(i[parseInt(n.toString(),10)].border=void 0),this.removeBorder(i[parseInt(n.toString(),10)].columns)):(i[parseInt(n.toString(),10)].border==="Right"||i[parseInt(n.toString(),10)].border==="Left")&&(i[parseInt(n.toString(),10)].border=void 0)},e.prototype.isVisibleColumns=function(i,n){if(i.columns&&i.columns.length)for(var s=0;s<i.columns.length;s++)this.isVisibleColumns(i.columns[parseInt(s.toString(),10)],n),i.columns[parseInt(s.toString(),10)].visible&&p(i.columns[parseInt(s.toString(),10)].columns)&&(!p(i.columns[parseInt(s.toString(),10)].freeze)||i.columns[parseInt(s.toString(),10)].isFrozen)&&n.push("true");else i.visible&&(!p(i.freeze)||i.isFrozen)&&n.push("true")},e.prototype.lastVisibleLeftCol=function(i){for(var n,s=i.length-1;s>=0;s--){var o=[];if(this.isVisibleColumns(i[parseInt(s.toString(),10)],o),i[parseInt(s.toString(),10)].visible&&o.indexOf("true")!==-1){n=i[parseInt(s.toString(),10)];break}}return n},e.prototype.firstVisibleRightCol=function(i){for(var n,s=0;s<i.length;s++){var o=[];if(this.isVisibleColumns(i[parseInt(s.toString(),10)],o),i[parseInt(s.toString(),10)].visible&&o.indexOf("true")!==-1){n=i[parseInt(s.toString(),10)];break}}return n},e.prototype.frozenLeftBorderColumns=function(i){if(!p(i))if(i.columns&&i.columns.length){i.border="Left";var n=i.columns[i.columns.length-1];this.frozenLeftBorderColumns(n instanceof Gi&&n.columns?this.lastVisibleLeftCol(i.columns):n)}else i.border="Left"},e.prototype.frozenRightBorderColumns=function(i){if(!p(i))if(i.columns&&i.columns.length){i.border="Right";var n=i.columns[0];this.frozenRightBorderColumns(n instanceof Gi&&n.columns?this.firstVisibleRightCol(i.columns):n)}else i.border="Right"},e.prototype.getVisibleFrozenColumns=function(){return this.getVisibleFrozenColumnsCount()+this.getVisibleFrozenCount(this.columns,0)},e.prototype.pinRows=function(i){for(var n=this.getPrimaryKeyFieldNames()[0],s=!1,o=0;o<i.length;o++){var a=i[parseInt(o.toString(),10)];this.pinnedTopRowKeys[a[""+n]]||(this.pinnedTopRecords.push(a),this.pinnedTopRowKeys[a[""+n]]=!0,s=!0)}s&&this.notify(Qu,{requestType:"pin-row"})},e.prototype.unpinRows=function(i){for(var n=this.getPrimaryKeyFieldNames()[0],s=!1,o=function(h){var u=i[parseInt(h.toString(),10)],c=u[""+n],d=a.pinnedTopRecords.findIndex(function(f){return f[""+n]===c});a.pinnedTopRowKeys[u[""+n]]&&(a.pinnedTopRecords.splice(d,1),a.pinnedTopRowKeys[u[""+n]]=!1,s=!0)},a=this,l=0;l<i.length;l++)o(l);s&&this.notify(Qu,{requestType:"unpin-row"})},e.prototype.getFilterUIInfo=function(){return this.filterModule?this.filterModule.getFilterUIInfo():{}},e.prototype.getVisibleFrozenColumnsCount=function(){for(var i=0,n=this.columnModel,s=0;s<this.frozenColumns;s++)n[parseInt(s.toString(),10)].visible&&i++;if(this.frozenLeftCount||this.leftcount||this.frozenRightCount||this.rightcount)for(var s=0;s<n.length;s++)n[parseInt(s.toString(),10)].visible&&(n[parseInt(s.toString(),10)].freeze==="Left"||n[parseInt(s.toString(),10)].freeze==="Right")&&i++;return i},e.prototype.getVisibleFrozenCount=function(i,n){if(!this.frozenLeftCount&&!this.leftcount&&(!this.frozenRightCount||!this.rightcount))for(var s=0,o=i.length;s<o;s++)i[parseInt(s.toString(),10)].columns?n=this.getVisibleFrozenCount(i[parseInt(s.toString(),10)].columns,n):i[parseInt(s.toString(),10)].isFrozen&&i[parseInt(s.toString(),10)].visible&&n++;return n},e.prototype.getFrozenCount=function(i,n,s){for(var o=0,a=p(i)?0:i.length;o<a;o++)i[parseInt(o.toString(),10)].columns?n=this.getFrozenCount(i[parseInt(o.toString(),10)].columns,n,s):(i[parseInt(o.toString(),10)].isFrozen&&s>this.frozenColumns-1&&n++,s++);return n},e.prototype.goToPage=function(i){this.pagerModule&&this.pagerModule.goToPage(i)},e.prototype.updateExternalMessage=function(i){this.pagerModule&&!this.pagerTemplate&&this.pagerModule.updateExternalMessage(i)},e.prototype.sortColumn=function(i,n,s){this.sortModule&&this.sortModule.sortColumn(i,n,s)},e.prototype.changeDataSource=function(i,n){this.isChangeDataSourceCall=!0,this.setProperties({sortSettings:{columns:[]}},!0),this.setProperties({filterSettings:{columns:[]}},!0),this.setProperties({searchSettings:{key:""}},!0),this.allowGrouping&&this.setProperties({groupSettings:{columns:[]}},!0),n&&n.length&&this.setProperties({columns:n},!0),i&&(p(n)&&this.setProperties({columns:[]},!0),this.setProperties({dataSource:i},!0)),this.freezeRefresh(),this.isChangeDataSourceCall=!1},e.prototype.clearSorting=function(){this.sortModule&&this.sortModule.clearSorting()},e.prototype.removeSortColumn=function(i){this.sortModule&&this.sortModule.removeSortColumn(i)},e.prototype.clearGridActions=function(){this.setProperties({sortSettings:{columns:[]}},!0),this.setProperties({filterSettings:{columns:[]}},!0),this.setProperties({searchSettings:{key:""}},!0),this.allowGrouping?this.setProperties({groupSettings:{columns:[]}},!1):this.freezeRefresh()},e.prototype.filterByColumn=function(i,n,s,o,a,l,h,u){this.filterModule&&this.filterModule.filterByColumn(i,n,s,o,a,l,h,u)},e.prototype.clearFiltering=function(i){this.filterModule&&this.filterModule.clearFiltering(i)},e.prototype.removeFilteredColsByField=function(i,n){this.filterModule&&this.filterModule.removeFilteredColsByField(i,n)},e.prototype.selectRow=function(i,n){this.selectionModule&&this.selectionModule.selectRow(i,n)},e.prototype.selectRows=function(i){this.selectionModule&&this.selectionModule.selectRows(i)},e.prototype.clearSelection=function(){this.selectionModule&&this.selectionModule.clearSelection()},e.prototype.selectCell=function(i,n){this.selectionModule&&this.selectionModule.selectCell(i,n)},e.prototype.selectCellsByRange=function(i,n){this.selectionModule.selectCellsByRange(i,n)},e.prototype.search=function(i){this.searchModule&&this.searchModule.search(i)},e.prototype.print=function(){this.printModule&&this.printModule.print()},e.prototype.deleteRecord=function(i,n){this.editModule&&this.editModule.deleteRecord(i,n)},e.prototype.startEdit=function(){this.editModule&&this.editModule.startEdit()},e.prototype.endEdit=function(){this.editModule&&this.editModule.endEdit()},e.prototype.closeEdit=function(){this.editModule&&this.editModule.closeEdit()},e.prototype.addRecord=function(i,n){this.editModule&&this.editModule.addRecord(i,n)},e.prototype.deleteRow=function(i){this.editModule&&this.editModule.deleteRow(i)},e.prototype.editCell=function(i,n){this.editModule&&this.editModule.editCell(i,n)},e.prototype.saveCell=function(){this.editModule&&this.editModule.saveCell()},e.prototype.updateCell=function(i,n,s){this.editModule&&this.editModule.updateCell(i,n,s)},e.prototype.updateRow=function(i,n){this.editModule&&this.editModule.updateRow(i,n)},e.prototype.getBatchChanges=function(){return this.editModule?this.editModule.getBatchChanges():{}},e.prototype.enableToolbarItems=function(i,n){this.toolbarModule&&this.toolbarModule.enableItems(i,n)},e.prototype.copy=function(i){this.clipboardModule&&this.clipboardModule.copy(i)},e.prototype.recalcIndentWidth=function(){var i=this;if(this.getHeaderTable().querySelector(".e-emptycell")&&!(!this.groupSettings.columns.length&&!this.isDetail()&&!this.isRowDragable()||this.getHeaderTable().querySelector(".e-emptycell.e-indentRefreshed")||!this.getContentTable())){var n=this.getHeaderTable().querySelector(".e-emptycell").parentElement.offsetWidth,s=[].slice.call(this.getHeaderTable().querySelector(ss).childNodes),o=[].slice.call(this.getContentTable().querySelector(ss).childNodes),a=n/30,l=this.getFrozenMode()==="Right"?this.groupSettings.columns.length+this.getColumns().length:0,h=this.element.offsetWidth,u=function(c,d){if(RC(i)){var f=(d/h*100).toFixed(1)+"%";s[parseInt(c.toString(),10)].style.width=f,o[parseInt(c.toString(),10)].style.width=f}else s[parseInt(c.toString(),10)].style.width=d+"px",o[parseInt(c.toString(),10)].style.width=d+"px";i.notify(Uj,{index:c,width:d})};for(a>=1&&(n=30/a),n<1&&(n=1),(this.enableColumnVirtualization||this.isAutoGen||this.columns.length===this.groupSettings.columns.length)&&(n=30);l<this.groupSettings.columns.length;)u(l,n),l++;this.isDetail()&&(u(l,n),l++),this.isRowDragable()&&u(l,n),this.isAutoGen=!1,this.getHeaderTable().querySelector(".e-emptycell").classList.add("e-indentRefreshed")}},e.prototype.resetIndentWidth=function(){if(!this.isDestroyed){if(RC(this)&&(this.getHeaderTable().querySelector(".e-emptycell").classList.remove("e-indentRefreshed"),this.widthService.setWidthToColumns(),this.recalcIndentWidth(),this.autoFit&&this.preventAdjustColumns()),(this.width==="auto"||typeof this.width=="string"&&this.width.indexOf("%")!==-1)&&this.getColumns().filter(function(n){return(!n.width||n.width==="auto")&&n.minWidth}).length>0){var i=this.widthService.getTableWidth(this.getColumns(),!0);this.widthService.setMinwidthBycalculation(i)}this.isFrozenGrid()&&this.enableColumnVirtualization&&this.widthService&&this.widthService.refreshFrozenScrollbar(),this.allowTextWrap&&this.textWrapSettings.wrapMode!=="Content"&&this.notify(r0,{}),(this.frozenRows||this.pinnedTopRowModels.length)&&this.scrollModule&&this.scrollModule.resizeFrozenRowBorder(),this.enableStickyHeader&&this.scrollModule.makeStickyHeader(),this.enableAutoFill&&this.selectionSettings.type==="Multiple"&&this.selectionSettings.mode==="Cell"&&this.selectionModule.selectedRowCellIndexes.length&&(this.selectionModule.updateAutoFillPosition(),this.selectionModule.drawBorders())}},e.prototype.isRowDragable=function(){return this.allowRowDragAndDrop&&!this.rowDropSettings.targetID},e.prototype.reorderColumns=function(i,n){this.reorderModule&&this.reorderModule.reorderColumns(i,n)},e.prototype.reorderColumnByModel=function(i,n){this.reorderModule&&this.reorderModule.reorderColumnByModel(i,n)},e.prototype.reorderColumnByIndex=function(i,n){this.reorderModule&&this.reorderModule.reorderColumnByIndex(i,n)},e.prototype.reorderColumnByTargetIndex=function(i,n){this.reorderModule&&this.reorderModule.reorderColumnByTargetIndex(i,n)},e.prototype.reorderRows=function(i,n){this.rowDragAndDropModule&&this.rowDragAndDropModule.reorderRows(i,n)},e.prototype.refreshDataSource=function(i){this.notify("refreshdataSource",i)},e.prototype.disableRowDD=function(i){var n=this.getHeaderTable(),s=this.getContentTable(),o=n.querySelectorAll("th.e-rowdragheader, th.e-mastercell"),a=this.getRows(),l=i?"none":"";Ci(n.querySelector(ss).childNodes[0],{display:l}),Ci(s.querySelector(ss).childNodes[0],{display:l});for(var h=0;h<this.getRows().length;h++){var u=a[parseInt(h.toString(),10)].firstElementChild;i?Z([u],"e-hide"):ue([u],["e-hide"])}for(var c=0;c<n.querySelectorAll("th.e-rowdragheader, th.e-mastercell").length;c++){var u=o[parseInt(c.toString(),10)];i?Z([u],"e-hide"):ue([u],["e-hide"])}},e.prototype.autoFitColumns=function(i,n,s){var o=this.getInjectedModules(),a=o.find(function(l){return typeof l=="function"&&!p(l.prototype)?l.prototype.getModuleName()==="resize":l.name==="Resize"});!this.resizeModule&&a&&(this.autoFitColumnsResize=!0,this.injectModules()),this.resizeModule&&this.resizeModule.autoFitColumns(i,n,s)},e.prototype.preventAdjustColumns=function(){if(!(this.enableAdaptiveUI&&this.rowRenderingMode==="Vertical"||this.allowResizing&&this.resizeSettings.mode==="Auto")){for(var i=this.getColumns(),n=this.getHeaderTable(),s=0,o=0;o<i.length;o++)if(i[parseInt(o.toString(),10)].visible){if(this.groupSettings.columns.length&&this.groupSettings.columns.indexOf(i[parseInt(o.toString(),10)].field)>-1){var a=[].slice.call(n.querySelector("colgroup").querySelectorAll(":not(.e-group-intent):not(.e-detail-intent):not(.e-drag-intent)"));if(a[parseInt(o.toString(),10)].style.display==="none")continue}if(i[parseInt(o.toString(),10)].width)s+=parseFloat(i[parseInt(o.toString(),10)].width.toString());else{s=0;break}}if(s){var l=this.isPercentageWidthGrid(),h=this.widthUnit(l),u=this.getContentTable();if(this.groupSettings.columns.length||this.isDetail()||this.isRowDragable())for(var c=this.defaultIndentWidth(l),d=c.toString()+h,f=[].slice.call(n.querySelector("colgroup").querySelectorAll(".e-group-intent, .e-detail-intent, .e-drag-intent")),g=[].slice.call(u.querySelector("colgroup").querySelectorAll(".e-group-intent, .e-detail-intent, .e-drag-intent")),o=0;o<f.length;o++)f[parseInt(o.toString(),10)].style.setProperty("width",d),g[parseInt(o.toString(),10)].style.setProperty("width",d),s+=c;(l&&s<100||!l&&s<u.parentElement.clientWidth)&&(p(u.querySelector(".e-emptyrow"))?Z([n,u],["e-tableborder"]):(Z([n],["e-tableborder"]),ue([u],["e-tableborder"])));var m=s.toString()+h;n.style.setProperty("width",m),u.style.setProperty("width",m)}else this.restoreAdjustColumns()}},e.prototype.restoreAdjustColumns=function(){if(!(this.enableAdaptiveUI&&this.rowRenderingMode==="Vertical"||this.allowResizing&&this.resizeSettings.mode==="Auto")){var i=this.getHeaderTable(),n=this.getContentTable();if(ue([i,n],["e-tableborder"]),i.style.removeProperty("width"),n.style.removeProperty("width"),this.groupSettings.columns.length||this.isDetail()||this.isRowDragable()){var s=this.isPercentageWidthGrid(),o=this.defaultIndentWidth(s).toString()+this.widthUnit(s),a=[].slice.call(i.querySelector("colgroup").querySelectorAll(".e-group-intent, .e-detail-intent, .e-drag-intent"));a.forEach(function(l){l.style.setProperty("width",o)}),i.querySelector(".e-emptycell").classList.remove("e-indentRefreshed"),this.recalcIndentWidth()}}},e.prototype.widthUnit=function(i){return i?"%":"px"},e.prototype.defaultIndentWidth=function(i){return i?parseFloat((30/this.element.offsetWidth*100).toFixed(1)):30},e.prototype.isPercentageWidthGrid=function(){var i=this.getColumns().find(function(n){return!p(n.width)});return i?i.width.toString().indexOf("%")>-1:!1},e.prototype.createColumnchooser=function(i,n,s){this.columnChooserModule&&this.columnChooserModule.renderColumnChooser(i,n,s)},e.prototype.initializeServices=function(){this.serviceLocator.register("widthService",this.widthService=new rD(this)),this.serviceLocator.register("cellRendererFactory",new Fee),this.serviceLocator.register("rendererFactory",new Hee),this.serviceLocator.register("localization",this.localeObj=new so(this.getModuleName(),this.defaultLocale,this.locale)),this.serviceLocator.register("valueFormatter",this.valueFormatterService=new df(this.locale)),this.serviceLocator.register("showHideService",this.showHider=new Zee(this)),this.serviceLocator.register("ariaService",this.ariaService=new Xj),this.serviceLocator.register("focus",this.focusModule=new Qee(this))},e.prototype.processModel=function(){var i=this.groupSettings.columns,n=this.sortSettings.columns,s,o;if(this.allowGrouping)for(var a=function(d,f){s=!1,o=0;for(var g=n.length;o<g;o++)if(n[parseInt(o.toString(),10)].field===i[parseInt(d.toString(),10)]){s=!0;break}if(s?l.allowSorting?l.sortedColumns.push(n[parseInt(o.toString(),10)].field):n[parseInt(o.toString(),10)].direction="Ascending":n.push({field:i[parseInt(d.toString(),10)],direction:"Ascending",isFromGroup:!0}),!l.groupSettings.showGroupedColumn){var m=l.enableColumnVirtualization?l.columns.filter(function(y){return y.field===i[parseInt(d.toString(),10)]})[0]:l.getColumnByField(i[parseInt(d.toString(),10)]);m?m.visible=!1:l.log("initial_action",{moduleName:"group",columnName:i[parseInt(d.toString(),10)]})}},l=this,h=0,u=i.length;h<u;h++)a(h,u);if(!i.length)for(var h=0;h<n.length;h++)this.sortedColumns.push(n[parseInt(h.toString(),10)].field);if(this.rowTemplateFn=Si(this.rowTemplate),this.emptyRecordTemplateFn=Si(this.emptyRecordTemplate),this.detailTemplateFn=Si(this.detailTemplate),this.editTemplateFn=Si(this.editSettings.template),this.editHeaderTemplateFn=Si(this.editSettings.headerTemplate),this.editFooterTemplateFn=Si(this.editSettings.footerTemplate),this.columnChooserTemplateFn=Si(this.columnChooserSettings.template),this.columnChooserHeaderTemplateFn=Si(this.columnChooserSettings.headerTemplate),this.columnChooserFooterTemplateFn=Si(this.columnChooserSettings.footerTemplate),!p(this.parentDetails)){var c=p(this.parentDetails.parentKeyFieldValue)?"undefined":this.parentDetails.parentKeyFieldValue;this.query.where(this.queryString,"equal",c,!0)}this.initForeignColumn()},e.prototype.initForeignColumn=function(){this.isForeignKeyEnabled(this.getColumns())&&this.notify(pX,this.getForeignKeyColumns())},e.prototype.enableVerticalRendering=function(){this.rowRenderingMode==="Vertical"?this.element.classList.add("e-row-responsive"):this.element.classList.remove("e-row-responsive")},e.prototype.gridRender=function(){var i;this.updateRTL(),this.rowRenderingMode==="Vertical"&&this.element.classList.add("e-row-responsive"),this.enableHover&&this.element.classList.add("e-gridhover"),(/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||ne.isSafari())&&this.element.classList.add("e-mac-safari"),ne.isDevice&&(this.element.classList.add("e-device"),this.adaptiveUIMode==="Desktop"&&this.rowRenderingMode!=="Vertical"&&(this.enableAdaptiveUI=!1)),this.adaptiveUIMode==="Mobile"&&!(ne.isDevice||this.rowRenderingMode==="Vertical")&&(this.enableAdaptiveUI=!1),this.rowHeight&&this.element.classList.add("e-grid-min-height"),this.cssClass&&(this.cssClass.indexOf(" ")!==-1?(i=this.element.classList).add.apply(i,this.cssClass.split(" ")):this.element.classList.add(this.cssClass)),this.allowRowDragAndDrop&&this.rowDropSettings.targetID&&ne.info.name==="mozilla"&&this.element.classList.add("e-disableuserselect"),this.editSettings.showAddNewRow&&(this.enableVirtualization||this.enableInfiniteScrolling)&&(this.editSettings.newRowPosition="Top"),Ki(this.element,["e-responsive","e-default"],[]);var n=this.serviceLocator.getService("rendererFactory");this.headerModule=n.getRenderer(jr.Header),this.contentModule=n.getRenderer(jr.Content),this.printModule=new sD(this,this.scrollModule),this.clipboardModule=new rP(this,this.serviceLocator),this.renderModule.render(),this.eventInitializer(),this.createGridPopUpElement(),this.widthService.setWidthToColumns(),this.updateGridLines(),this.applyTextWrap(),this.createTooltip(),this.enableBoxSelection()},e.prototype.dataReady=function(){this.scrollModule.setWidth(),this.scrollModule.setHeight(),this.height!=="auto"&&this.scrollModule.setPadding()},e.prototype.updateRTL=function(){this.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")},e.prototype.createGridPopUpElement=function(){var i=this.createElement("div",{className:"e-gridpopup"});i.style.display="none";var n=this.createElement("div",{className:En,attrs:{tabIndex:"-1"}});Ct([n,this.createElement("div",{className:"e-uptail e-tail"})],i),n.appendChild(this.createElement("span")),Ct([n,this.createElement("div",{className:"e-downtail e-tail"})],i),this.element.appendChild(i)},e.prototype.updateGridLines=function(){switch(Ki(this.element,[],["e-verticallines","e-horizontallines","e-hidelines","e-bothlines"]),this.gridLines){case"Horizontal":this.element.classList.add("e-horizontallines");break;case"Vertical":this.element.classList.add("e-verticallines");break;case"None":this.element.classList.add("e-hidelines");break;case"Both":this.element.classList.add("e-bothlines");break}this.updateResizeLines()},e.prototype.updateResizeLines=function(){this.allowResizing&&!(this.gridLines==="Vertical"||this.gridLines==="Both")?this.element.classList.add("e-resize-lines"):this.element.classList.remove("e-resize-lines")},e.prototype.applyTextWrap=function(){if(this.allowTextWrap){var i=[].slice.call(this.element.getElementsByClassName("e-columnheader"));switch(this.textWrapSettings.wrapMode){case"Header":Nr(this.element,!1),Nr(this.getContent(),!1),Nr(i,!0);break;case"Content":Nr(this.getContent(),!0),Nr(this.element,!1),Nr(i,!1);break;default:Nr(this.element,!0),Nr(this.getContent(),!1),Nr(i,!1)}this.textWrapSettings.wrapMode!=="Content"&&this.notify(r0,{})}},e.prototype.removeTextWrap=function(){Nr(this.element,!1);var i=[].slice.call(this.element.getElementsByClassName("e-columnheader"));Nr(i,!1),Nr(this.getContent(),!1),this.textWrapSettings.wrapMode!=="Content"&&this.notify(r0,{})},e.prototype.createTooltip=function(){this.toolTipObj=new Aj({opensOn:"custom",content:"",cssClass:this.cssClass?this.cssClass:null},this.element)},e.prototype.freezeRefresh=function(){(this.enableVirtualization||this.enableInfiniteScrolling)&&(this.pageSettings.currentPage=1),this.componentRefresh()},e.prototype.getTooltipStatus=function(i){var n=this.getHeaderTable(),s=this.enableAdaptiveUI&&this.rowRenderingMode==="Vertical"?"e-gridcontent":"e-gridheader",o=this.createTable(n,s,"header"),a=this.createTable(n,s,"content"),l=i.classList.contains("e-headercell")?o:a,h=i.classList.contains("e-headercell")?"th":"tr";l.querySelector(h).className=i.className;var u=l.querySelector(h);u.innerHTML="",Array.from(i.childNodes).forEach(function(d){u.appendChild(d.cloneNode(!0))});var c=l.querySelector(h).getBoundingClientRect().width;return document.body.removeChild(o),document.body.removeChild(a),!!(c>i.getBoundingClientRect().width&&!i.classList.contains("e-editedbatchcell")||this.enableAdaptiveUI&&this.rowRenderingMode==="Vertical"&&c>i.getBoundingClientRect().width*.55-(this.height!=="auto"?16:0))},e.prototype.mouseMoveHandler=function(i){if(this.isEllipsisTooltip()){var n=he(i.target,"e-ellipsistooltip");i.type==="mouseout"&&(this.prevElement!==n||n!==he(i.relatedTarget,"e-ellipsistooltip"))&&(this.toolTipObj.close(),this.toolTipObj.clear(),this.prevElement=null);var s=i.target.tagName,o=["A","BUTTON","INPUT"];if(n&&i.type!=="mouseout"&&!(ne.isDevice&&o.indexOf(s)!==-1)&&this.getTooltipStatus(n)){var a=this.getColumns()[parseInt(n.getAttribute(Qi),10)-1],l=a&&a.disableHtmlEncode?"innerText":"innerHTML",h=this.createElement("div");if(n.getElementsByClassName("e-headertext").length){var u=n.getElementsByClassName("e-headertext")[0];h[""+l]=this.sanitize(u.innerText),this.toolTipObj.content=h}else h[""+l]=this.sanitize(n.innerText),this.toolTipObj.content=h;this.enableHtmlSanitizer&&(this.toolTipObj.enableHtmlSanitizer=!0),a&&a.disableHtmlEncode&&(this.toolTipObj.enableHtmlParse=!1),n!==this.prevElement&&this.toolTipObj.open(n),this.prevElement=n}}},e.prototype.isEllipsisTooltip=function(){var i=this.getColumns();if(this.clipMode==="EllipsisWithTooltip")return!0;for(var n=0;n<i.length;n++)if(i[parseInt(n.toString(),10)].clipMode==="EllipsisWithTooltip")return!0;return!1},e.prototype.scrollHandler=function(){this.isEllipsisTooltip()&&this.toolTipObj.close()},e.prototype.createTable=function(i,n,s){var o=this.createElement("div");o.className=this.element.className,o.style.cssText="display: inline-block;visibility:hidden;position:absolute";var a=this.createElement("div");a.className=n;var l=this.createElement("table");l.className=i.className,l.style.cssText="table-layout: auto;width: auto";var h=s==="header"?"th":"td",u=this.createElement("tr",{attrs:{role:"row"}}),c=this.createElement(h);return u.appendChild(c),l.appendChild(u),a.appendChild(l),o.appendChild(a),document.body.appendChild(o),o},e.prototype.onKeyPressed=function(i){(i.action==="tab"||i.action==="shiftTab")&&this.toolTipObj.close()},e.prototype.wireEvents=function(){F.add(this.element,"click",this.mouseClickHandler,this),F.add(this.element,"touchend",this.mouseClickHandler,this),F.add(this.element,"focusout",this.focusOutHandler,this),F.add(this.element,"dblclick",this.dblClickHandler,this),F.add(this.element,"keydown",this.keyPressHandler,this),F.add(window,"resize",this.resetIndentWidth,this),this.allowKeyboard&&(this.element.tabIndex=this.element.tabIndex===-1?0:this.element.tabIndex),this.keyboardModule=new hh(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}),F.add(this.getContent().firstElementChild,"scroll",this.scrollHandler,this),F.add(this.element,"mouseover",this.mouseMoveHandler,this),F.add(this.element,"mouseout",this.mouseMoveHandler,this),F.add(this.getContent(),"touchstart",this.tapEvent,this),F.add(document.body,"keydown",this.keyDownHandler,this)},e.prototype.unwireEvents=function(){F.remove(this.element,"click",this.mouseClickHandler),F.remove(this.element,"touchend",this.mouseClickHandler),F.remove(this.element,"focusout",this.focusOutHandler),F.remove(this.element,"dblclick",this.dblClickHandler),F.remove(this.getContent().firstElementChild,"scroll",this.scrollHandler),F.remove(this.element,"mouseover",this.mouseMoveHandler),F.remove(this.element,"mouseout",this.mouseMoveHandler),F.remove(this.element,"keydown",this.keyPressHandler),F.remove(this.getContent(),"touchstart",this.tapEvent),F.remove(document.body,"keydown",this.keyDownHandler),F.remove(window,"resize",this.resetIndentWidth)},e.prototype.addListener=function(){this.isDestroyed||(this.on(Tp,this.dataReady,this),this.on($i,this.recalcIndentWidth,this),this.on(oa,this.recalcIndentWidth,this),this.on(dy,this.refreshFrozenPosition,this),this.on(xC,this.refreshSplitFrozenColumn,this),this.dataBoundFunction=this.refreshMediaCol.bind(this),this.addEventListener(Ml,this.dataBoundFunction),this.on(_u,this.onKeyPressed,this))},e.prototype.removeListener=function(){this.isDestroyed||(this.off(Tp,this.dataReady),this.off($i,this.recalcIndentWidth),this.off(oa,this.recalcIndentWidth),this.on(dy,this.refreshFrozenPosition,this),this.on(xC,this.refreshSplitFrozenColumn,this),this.removeEventListener(Ml,this.dataBoundFunction),this.off(_u,this.onKeyPressed))},e.prototype.getCurrentViewRecords=function(){return uo(this)?p(this.currentViewData.records)?this.currentViewData:this.currentViewData.records:this.groupSettings.enableLazyLoading?this.currentViewData:this.allowGrouping&&this.groupSettings.columns.length&&this.currentViewData.length&&this.currentViewData.records?this.currentViewData.records:this.currentViewData},e.prototype.mouseClickHandler=function(i){if(!(this.isChildGrid(i)||he(i.target,"e-gridpopup")&&i.touches||this.element.getElementsByClassName("e-cloneproperties").length||this.checkEdit(i))&&!((!this.allowRowDragAndDrop&&(he(i.target,aa)||i.target.tagName==="TD")||he(i.target,"e-headercell")&&he(i.target,"e-headercell").querySelector(".e-checkselectall")||!(this.allowGrouping||this.allowReordering)&&he(i.target,"e-gridheader"))&&i.touches)&&(he(i.target,"e-gridheader")&&this.allowRowDragAndDrop&&!he(i.target,"e-filterbarcell")&&i.target&&["A","BUTTON","INPUT"].indexOf(i.target.tagName)===-1&&i.preventDefault(),!(this.allowRowDragAndDrop&&he(i.target,"e-rowcell")&&!he(i.target,"e-rowdragdrop")&&i.touches))){var n=this.getRowInfo(i.target);n.event=i;var s="cancel";n[""+s]=!1;var o=!1,a=xe(i.target,"tr");if(a&&a.getAttribute("data-uid")){var l=this.getRowObjectFromUID(a.getAttribute("data-uid"));o=l?l.isDataRow:!1}o&&this.trigger(QZ,n),this.notify(xl,i)}},e.prototype.checkEdit=function(i){var n=he(i.target,jn),s=this.editSettings.mode!=="Batch"&&this.isEdit&&n&&(n.classList.contains(Qd)||n.classList.contains(qu)&&!this.editSettings.showAddNewRow);return!he(i.target,"e-unboundcelldiv")&&(s||he(i.target,Gt)&&he(i.target,Gt).classList.contains("e-editedbatchcell"))},e.prototype.dblClickHandler=function(i){var n=he(i.target,"e-grid");if(!(p(n)||n.id!==this.element.id||xe(i.target,".e-unboundcelldiv"))){var s=!1,o=xe(i.target,"tr");if(o&&o.getAttribute("data-uid")){var a=this.getRowObjectFromUID(o.getAttribute("data-uid"));s=a?a.isDataRow:!1}var l=this.getRowInfo(i.target);l.target=i.target,l.event=i,s&&this.trigger(VZ,l),this.notify(sX,i)}},e.prototype.focusOutHandler=function(i){if(!this.isChildGrid(i)){he(i.target,"e-grid")||(this.element.querySelector(".e-gridpopup").style.display="None");var n=this.element.querySelector(".e-cancel:not(.e-hide)");n&&!n.parentElement.classList.contains("e-tbar-btn")&&n.classList.add("e-hide");var s=i.relatedTarget,o=s?s.getAttribute("aria-owns"):null;(!s||!he(s,"e-grid")&&(!p(o)&&o)!==i.target.getAttribute("aria-owns"))&&!this.keyPress&&this.isEdit&&!ne.isDevice&&(this.editSettings.mode==="Batch"&&!((he(s,"e-ddl")||he(s,"e-ddt"))&&(he(s,"e-multi-select-list-wrapper")||he(s,"e-input-filter"))&&he(s,"e-input-group"))&&(he(s,"e-uploader")||!(s&&p(he(s,"e-input-group")))&&!he(i.target,"edit-custom-template"))&&(this.editModule.saveCell(),this.notify(gX,{})),this.editSettings.mode==="Normal"&&!this.isWidgetsDestroyed&&this.editModule.editFormValidate()),this.editSettings.showAddNewRow&&(this.editModule.isShowAddedRowValidate=!1),this.keyPress=!1}},e.prototype.isChildGrid=function(i){var n=he(i.target,"e-grid");return!!(n&&n.id!==this.element.id||he(i.target,"e-unboundcelldiv")&&p(n))},e.prototype.mergePersistGridData=function(i){var n=this.getLocalData();if(!(p(n)||n==="")||!p(i)){var s=p(i)?JSON.parse(n):i,o=Object.keys(s);this.isProtectedOnChange=!0;for(var a=0,l=o;a<l.length;a++){var h=l[a];typeof this[""+h]=="object"&&!p(this[""+h])?Array.isArray(this[""+h])&&h==="columns"?(this.setFrozenCount(),Fg(this[""+h]),this.mergeColumns(s[""+h],this[""+h]),this.mergedColumns=!0,this[""+h]=s[""+h]):ie(this[""+h],s[""+h]):this[""+h]=s[""+h]}this.isProtectedOnChange=!1}},e.prototype.mergeColumns=function(i,n){for(var s=i,o=this.isFrozenGrid(),a=function(u){var c=n.filter(function(d){return o?d.index===s[parseInt(u.toString(),10)][""+IN]:d.index===s[parseInt(u.toString(),10)].index})[0];p(c)||(o&&(c=ie({},c,{},!0),c.freeze=s[parseInt(u.toString(),10)].freeze),c.columns&&c.columns.length?(l.mergeColumns(s[parseInt(u.toString(),10)].columns,c.columns),s[parseInt(u.toString(),10)]=ie(c,s[parseInt(u.toString(),10)],{},!0)):s[parseInt(u.toString(),10)]=ie(c,s[parseInt(u.toString(),10)],{},!0))},l=this,h=0;h<s.length;h++)a(h)},e.prototype.isDetail=function(){return!p(this.detailTemplate)||!p(this.childGrid)},e.prototype.isCommandColumn=function(i){var n=this;return i.some(function(s){return s.columns?n.isCommandColumn(s.columns):!!(s.commands||s.commandsTemplate)})},e.prototype.isForeignKeyEnabled=function(i){var n=this;return i.some(function(s){return s.columns?n.isForeignKeyEnabled(s.columns):!!(s.dataSource&&s.foreignKeyValue)})},e.prototype.keyPressHandler=function(i){var n=ie(i,{cancel:!1});this.trigger("keyPressed",n),(n.cancel===!0||this.isEdit&&i&&he(i.target,"e-gridform")&&he(i.target,"e-ddl")&&i.action==="open"&&i.altKey===!0&&i.code==="ArrowDown")&&i.stopImmediatePropagation()},e.prototype.keyDownHandler=function(i){if(i.altKey){if(i.keyCode===74&&(this.keyA?(this.notify(MN,{target:i.target,collapse:!1}),this.keyA=!1):(this.focusModule&&this.focusModule.currentInfo&&this.focusModule.currentInfo.element&&(ue([this.focusModule.currentInfo.element,this.focusModule.currentInfo.elementToFocus],["e-focused","e-focus"]),this.focusModule.currentInfo.element.tabIndex=-1),this.element.classList.contains("e-childgrid")||this.element.focus())),i.keyCode===87){var n=this.focusModule;if(n){if(!this.currentViewData.length)return;this.element.getBoundingClientRect().width!==0&&n.focusContent(),n.addOutline()}}i.keyCode===65&&(this.keyA=!0),i.keyCode===72&&this.keyA&&(this.notify(MN,{target:i.target,collapse:!0}),this.keyA=!1)}i.keyCode===13&&this.notify(jg,i)},e.prototype.keyActionHandler=function(i){this.isChildGrid(i)||this.editModule&&(this.editModule.alertDObj&&this.editModule.alertDObj.visible||this.editModule.dialogObj&&this.editModule.dialogObj.visible)||this.isEdit&&(!this.editSettings.showAddNewRow||this.editSettings.showAddNewRow&&this.element.querySelector(Qd))&&i.action!=="escape"&&i.action!=="enter"&&i.action!=="shiftEnter"&&i.action!=="tab"&&i.action!=="shiftTab"||(this.keyPress=!0,this.allowKeyboard?(i.action==="ctrlPlusP"&&(i.preventDefault(),this.print()),this.notify(_u,i)):i.action==="enter"&&this.editModule&&this.editSettings.mode==="Batch"&&this.isEdit&&he(i.target,"e-editedbatchcell")&&i.preventDefault())},e.prototype.setInjectedModules=function(i){this.injectedModules=i},e.prototype.updateColumnObject=function(){my(this.columns,this.enableColumnVirtualization,this),Fg(this.columns),this.initForeignColumn(),this.notify(wp,{})},e.prototype.refreshFrozenPosition=function(i){i&&i.isModeChg?(this.refreshColumns(),this.notify(aee,{})):this.refreshColumns()},e.prototype.getForeignKeyColumns=function(){var i=this.enableColumnVirtualization?this.columns:this.getColumns();return i.filter(function(n){return n instanceof Gi&&n.isForeignColumn()})},e.prototype.getRowHeight=function(i){return this.rowHeight?this.rowHeight:Dte(this.element,i)},e.prototype.refreshColumns=function(){if(this.freezeColumnRefresh=!0,this.setFrozenCount(),this.updateFrozenColumnsWidth(),this.isFrozenGrid()&&(this.isPreventScrollEvent=!0),this.updateColumnObject(),this.checkLockColumns(this.getColumns()),this.refresh(),this.isFrozenGrid()&&this.enableColumnVirtualization){var i=this.getContent().querySelector(".e-movablescrollbar").scrollLeft;this.getHeaderContent().querySelector("."+Tn).scrollLeft=i,this.getContent().querySelector("."+En).scrollLeft=i}},e.prototype.excelExport=function(i,n,s,o){if(this.exportGrids&&this.exportGrids.length){var a=this.exportGrids.slice();return this.exportMultipleExcelGrids(a,i,n,s,o)}else return this.excelExportModule?this.excelExportModule.Map(this,i,n,s,!1,o):null},e.prototype.csvExport=function(i,n,s,o){return this.excelExportModule?this.excelExportModule.Map(this,i,n,s,!0,o):null},e.prototype.pdfExport=function(i,n,s,o){if(this.exportGrids&&this.exportGrids.length){var a=this.exportGrids.slice();return this.exportMultiplePdfGrids(a,i,n,s,o)}else return this.pdfExportModule?this.pdfExportModule.Map(this,i,n,s,o):null},e.prototype.exportMultiplePdfGrids=function(i,n,s,o,a){var l=this;if(i.length!==0){var h=i.shift(),u=document.getElementById(h).ej2_instances[0],c=u.pdfExportModule?u.pdfExportModule.Map(u,n,s,o,a):Promise.resolve();return c.then(function(d){return s=i.length!==1,l.exportMultiplePdfGrids(i,n,s,d,a)})}return null},e.prototype.exportMultipleExcelGrids=function(i,n,s,o,a){var l=this;if(i.length!==0){var h=i.shift(),u=document.getElementById(h).ej2_instances[0],c=u.excelExportModule?u.excelExportModule.Map(u,n,s,o,!1,a):null;return c.then(function(d){return s=i.length!==1,l.exportMultipleExcelGrids(i,n,s,d,a)})}return null},e.prototype.groupColumn=function(i){this.groupModule&&this.groupModule.groupColumn(i)},e.prototype.groupExpandAll=function(){this.groupModule&&this.groupModule.expandAll()},e.prototype.groupCollapseAll=function(){this.groupModule&&this.groupModule.collapseAll()},e.prototype.clearGrouping=function(){this.groupModule&&this.groupModule.clearGrouping()},e.prototype.ungroupColumn=function(i){this.groupModule&&this.groupModule.ungroupColumn(i)},e.prototype.openColumnChooser=function(i,n){this.columnChooserModule&&this.columnChooserModule.openColumnChooser(i,n)},e.prototype.scrollRefresh=function(){var i=this,n=function(){i.scrollModule.refresh(),i.off($i,n)};this.on($i,n,this)},e.prototype.detailCollapseAll=function(){this.detailRowModule&&this.detailRowModule.collapseAll()},e.prototype.detailExpandAll=function(){this.detailRowModule&&this.detailRowModule.expandAll()},e.prototype.clearCellSelection=function(){this.selectionModule&&this.selectionModule.clearCellSelection()},e.prototype.clearRowSelection=function(){this.selectionModule&&this.selectionModule.clearRowSelection()},e.prototype.selectCells=function(i){this.selectionModule&&this.selectionModule.selectCells(i)},e.prototype.selectRowsByRange=function(i,n){this.selectionModule&&this.selectionModule.selectRowsByRange(i,n)},e.prototype.isContextMenuOpen=function(){return this.contextMenuModule&&this.contextMenuModule.isOpen},e.prototype.ensureModuleInjected=function(i){return this.getInjectedModules().indexOf(i)>=0},e.prototype.destroyTemplate=function(i,n,s){this.clearTemplate(i,n,s)},e.prototype.log=function(i,n){var s=this.getInjectedModules(),o=s.find(function(a){return a.name==="Logger"});o||(t.Inject(gy),this.enableLogger=!0,this.injectModules()),this.loggerModule&&this.loggerModule.log(i,n)},e.prototype.applyBiggerTheme=function(i){this.element.classList.contains("e-bigger")&&i.classList.add("e-bigger")},e.prototype.getPreviousRowData=function(){var i=this.getRowsObject()[this.getRows().length-1].data;return i},e.prototype.hideScroll=function(){var i=this.getContent().querySelector("."+En);i.scrollHeight<=i.clientHeight&&(this.scrollModule.removePadding(),i.style.overflowY="auto")},e.prototype.getRowIndexByPrimaryKey=function(i){var n=this.getPrimaryKeyFieldNames()[0];i=typeof i=="object"?i[""+n]:i;for(var s=this.getRowsObject(),o=0;o<s.length;o++)if(!(s[parseInt(o.toString(),10)].isDetailRow||s[parseInt(o.toString(),10)].isCaptionRow)){var a=s[parseInt(o.toString(),10)].data[""+n];if(n.split(".").length>1&&(a=xN(n,s[parseInt(o.toString(),10)].data)),a===i)return s[parseInt(o.toString(),10)].index}return-1},e.prototype.getPinnedRowObjectByKey=function(i){var n=this.getPrimaryKeyFieldNames()[0];i=typeof i=="object"?i[""+n]:i;for(var s=this.pinnedTopRowModels,o=0;o<s.length;o++)if(!(s[parseInt(o.toString(),10)].isDetailRow||s[parseInt(o.toString(),10)].isCaptionRow)){var a=s[parseInt(o.toString(),10)].data[""+n];if(n.split(".").length>1&&(a=xN(n,s[parseInt(o.toString(),10)].data)),a===i)return s[parseInt(o.toString(),10)]}return null},e.prototype.grabColumnByFieldFromAllCols=function(i,n){var s;this.columnModel=[],this.updateColumnModel(this.columns);for(var o=this.columnModel,a=0;a<o.length;a++)if(!n&&i===o[parseInt(a.toString(),10)].field||n&&o[parseInt(a.toString(),10)].isForeignColumn()&&i===o[parseInt(a.toString(),10)].foreignKeyValue){s=o[parseInt(a.toString(),10)];break}return s},e.prototype.grabColumnByUidFromAllCols=function(i){var n;this.columnModel=[],this.updateColumnModel(this.columns);for(var s=this.columnModel,o=0;o<s.length;o++)i===s[parseInt(o.toString(),10)].uid&&(n=s[parseInt(o.toString(),10)]);return n},e.prototype.getFilteredRecords=function(){if(this.allowFiltering&&this.filterSettings.columns.length||this.searchSettings.key.length){var i=this.renderModule.data.generateQuery(!0);return this.dataSource&&this.renderModule.data.isRemote()&&this.dataSource instanceof fe?this.renderModule.data.getData(this.dataSource,i):this.dataSource instanceof fe?this.dataSource.executeLocal(i):new fe(this.dataSource,i).executeLocal(i)}return[]},e.prototype.getUserAgent=function(){var i=ne.userAgent.toLowerCase();return/iphone|ipod|ipad|macintosh/.test(i)},e.prototype.tapEvent=function(i){this.getUserAgent()&&(Ns.timer?(clearTimeout(Ns.timer),Ns.timer=null,this.dblClickHandler(i),this.notify(uX,i)):Ns.timer=setTimeout(function(){Ns.timer=null},300))},e.prototype.getRowUid=function(i){return""+i+this.rowUid++},e.prototype.getRowElementByUID=function(i){var n,s=[],o=[].slice.call(this.getContent().querySelector($t).children);this.frozenRows||this.pinnedTopRowModels.length?(s=[].slice.call(this.getHeaderContent().querySelector($t).children),s=s.concat(o)):s=o;for(var a=0,l=s;a<l.length;a++){var h=l[a];if(h.getAttribute("data-uid")===i){n=h;break}}return n},e.prototype.getHiddenColumns=function(){for(var i=[],n=0,s=this.columnModel;n<s.length;n++){var o=s[n];o.visible===!1&&i.push(o)}return i},e.prototype.calculatePageSizeByParentHeight=function(i){if(this.allowPaging&&(this.allowTextWrap&&this.textWrapSettings.wrapMode==="Header"||!this.allowTextWrap)){var n=0;typeof i=="string"&&i.indexOf("%")!==-1&&(i=parseInt(i,10)/100*this.element.clientHeight);var s=this.getNoncontentHeight()+this.getRowHeight();if(i>s){var o=0;o=i-this.getNoncontentHeight(),n=o/this.getRowHeight()}if(n>0)return Math.floor(n)}return 0},e.prototype.getNoncontentHeight=function(){var i=0;if(this.getHeaderContent()&&!p(this.getHeaderContent().clientHeight)&&(i+=this.getHeaderContent().clientHeight),this.toolbar&&!p(this.element.querySelector(".e-toolbar").clientHeight)&&(i+=this.element.querySelector(".e-toolbar").clientHeight),this.allowPaging&&!p(this.element.querySelector(".e-gridpager").clientHeight)&&(i+=this.element.querySelector(".e-gridpager").clientHeight),this.showColumnChooser&&!p(this.element.querySelector(".e-columnheader").clientHeight)&&(i+=this.element.querySelector(".e-columnheader").clientHeight),this.allowGrouping&&this.groupSettings.showDropArea&&!p(this.element.querySelector(".e-groupdroparea").clientHeight)&&(i+=this.element.querySelector(".e-groupdroparea").clientHeight),this.aggregates.length>0&&!p(this.element.querySelector(".e-summaryrow").clientHeight))for(var n=0;n<this.element.getElementsByClassName("e-summaryrow").length;n++)i+=this.element.getElementsByClassName("e-summaryrow")[parseInt(n.toString(),10)].clientHeight;return i},e.prototype.getSummaryValues=function(i,n){return re.aggregates[i.type.toLowerCase()](n,i.field)},e.prototype.serverExcelExport=function(i,n){this.isExcel=!0,this.exportGrid(i,n)},e.prototype.serverPdfExport=function(i,n){this.isExcel=!1,this.exportGrid(i,n)},e.prototype.serverCsvExport=function(i,n){this.isExcel=!0,this.exportGrid(i,n)},e.prototype.exportGrid=function(i,n){var s=this,o=this,a=o.getDataModule().generateQuery(!0),l=new hr().processQuery(new fe({url:""}),a),h=JSON.parse(l.data),u=JSON.parse(this.addOnPersist(["allowGrouping","allowPaging","pageSettings","sortSettings","allowPdfExport","allowExcelExport","aggregates","filterSettings","groupSettings","columns","locale","searchSettings"])),c=["field","headerText","type","format","visible","foreignKeyValue","foreignKeyField","template","index","width","textAlign","headerTextAlign","columns"];u.filterSettings.columns=h.where,u.searchSettings.fields=h.search&&h.search[0].fields||[],u.sortSettings.columns=h.sorted,u.columns=this.setHeaderText(u.columns,c);var d=this.createElement("form",{id:"ExportForm"});d.style.display="none";var f=this.createElement("input",{id:"gridInput",attrs:{name:"gridModel"}});f.value=JSON.stringify(u),d.method="POST",d.action=i,d.appendChild(f),n&&n.headers&&Array.isArray(n.headers)&&n.headers.forEach(function(g){Object.keys(g).forEach(function(m){var y=typeof g[""+m]=="string"?g[""+m]:JSON.stringify(g[""+m]),v=s.createElement("input",{attrs:{name:m,value:y,type:"hidden"}});d.appendChild(v)})}),document.body.appendChild(d),d.submit(),d.remove()},e.prototype.setHeaderText=function(i,n){for(var s=0;s<i.length;s++){var o=this.getColumnByUid(i[parseInt(s.toString(),10)].uid);i[parseInt(s.toString(),10)].headerText=o.headerText,p(o.template)||(i[parseInt(s.toString(),10)].template="true"),i[parseInt(s.toString(),10)].format&&(i[parseInt(s.toString(),10)].format=yP(this.getFormat(i[parseInt(s.toString(),10)].format),i[parseInt(s.toString(),10)].type,!1,bv),(o.type==="datetime"||o.type==="date"||o.type==="time")&&(i[parseInt(s.toString(),10)].format=i[parseInt(s.toString(),10)].format.toString().replace("AM/PM","tt"))),i[parseInt(s.toString(),10)].columns&&this.setHeaderText(i[parseInt(s.toString(),10)].columns,n);for(var a=Object.keys(i[parseInt(s.toString(),10)]),l=0;l<a.length;l++)n.indexOf(a[parseInt(l.toString(),10)])<0&&delete i[parseInt(s.toString(),10)][a[parseInt(l.toString(),10)]]}return i},e.prototype.getFormat=function(i){return typeof i=="object"?p(i.format)?i.skeleton:i.format:i},e.prototype.isCollapseStateEnabled=function(){var i="isExpanded";return this[""+i]===!1},e.prototype.updateRowValue=function(i,n){var s={requestType:"save",data:n};this.showSpinner(),this.notify(CC,s),this.refresh()},e.prototype.setForeignKeyData=function(){this.dataBind();var i=this.getDataModule().getForeignKeyDataState();i.isPending?(this.getDataModule().setForeignKeyDataState({}),i.resolver()):(this.getDataModule().setForeignKeyDataState({isDataChanged:!1}),(this.contentModule||this.headerModule)&&this.renderModule.render())},e.prototype.resetFilterDlgPosition=function(i){var n=this.getColumnHeaderByField(i);if(n){var s=n.querySelector(".e-filtermenudiv"),o=this.element.querySelector(".e-filter-popup");if(s){var a=this.element.getBoundingClientRect(),l=s.getBoundingClientRect();o&&(o.offsetWidth+l.right>a.right?o.style.left=(l.right-o.offsetWidth-a.left).toString()+"px":o.style.left=(l.right-a.left).toString()+"px")}}},e.prototype.renderTemplates=function(i){var n=this.parentDetails&&this.parentDetails.parentInstObj&&this.parentDetails.parentInstObj.isReact,s=this.printGridParent&&this.printGridParent.isReact;if((n||s)&&this.portals){var o=s?this.printGridParent:this.parentDetails.parentInstObj;o.portals=o.portals.concat(this.portals),o.renderTemplates(i),this.portals=void 0}else{var a="portals";this.notify("reactTemplateRender",this[""+a]),this.renderReactTemplates(i)}},e.prototype.batchUpdate=function(i){this.processRowChanges(i)},e.prototype.batchAsyncUpdate=function(i){this.processBulkRowChanges(i)},e.prototype.processBulkRowChanges=function(i){var n=this;if(!this.dataToBeUpdated)this.dataToBeUpdated=Object.assign({addedRecords:[],changedRecords:[],deletedRecords:[]},i),setTimeout(function(){n.processRowChanges(n.dataToBeUpdated),n.dataToBeUpdated=null},this.asyncTimeOut);else for(var s=[py,dee,Kj],o=this.getPrimaryKeyFieldNames()[0],a=0;a<s.length;a++)i[s[parseInt(a.toString(),10)]]&&jte(this,i,s[parseInt(a.toString(),10)],o)},e.prototype.processRowChanges=function(i){var n=this,s=this.getPrimaryKeyFieldNames()[0];i=Object.assign({addedRecords:[],changedRecords:[],deletedRecords:[]},i);var o=this.getDataModule().saveChanges(i,s,{},this.getDataModule().generateQuery().requiresCount());this.getDataModule().isRemote()?o.then(function(){n.setNewData()}):this.setNewData()},e.prototype.setNewData=function(){var i=this,n=JSON.parse(JSON.stringify(this.getCurrentViewRecords())),s=this.getDataModule().getData({},this.getDataModule().generateQuery().requiresCount());s.then(function(o){i.bulkRefresh(o.result,n,o.count)})},e.prototype.deleteRowElement=function(i){var n=this.getRowElementByUID(i.uid);ot(n)},e.prototype.bulkRefresh=function(i,n,s){for(var o=this,a=this.getRowsObject(),l=this.getPrimaryKeyFieldNames()[0],h=function(y){i.filter(function(v){return v[""+l]===a[parseInt(y.toString(),10)].data[""+l]}).length||(u.deleteRowElement(a[parseInt(y.toString(),10)]),a.splice(y,1),y--),c=y},u=this,c,d=0;d<a.length;d++)h(d),d=c;for(var f=function(y){var v;n.filter(function(M){M[""+l]===i[parseInt(y.toString(),10)][""+l]&&(M!==i[parseInt(y.toString(),10)]&&o.setRowData(i[parseInt(y.toString(),10)][""+l],i[parseInt(y.toString(),10)]),v=!0)}),v||g.renderRowElement(i[parseInt(y.toString(),10)],y)},g=this,d=0;d<i.length;d++)f(d);this.currentViewData=i;var m=[].slice.call(this.getContentTable().getElementsByClassName(jn));Rte(this,this.getRowsObject(),m),Pte(this),this.allowPaging&&this.notify(zr,{module:"pager",properties:{totalRecordsCount:s}})},e.prototype.renderRowElement=function(i,n){var s=new Np(this.serviceLocator,null,this),o=new Tv(this),a=o.generateRows([i]),l=s.render(a[0],this.getColumns());this.addRowObject(a[0],n);var h=this.getContentTable().querySelector($t);if(h.querySelector(".e-emptyrow")){var u=h.querySelector(".e-emptyrow");u.parentNode.removeChild(u),this.frozenRows&&this.element.querySelector(".e-frozenrow-empty")&&this.element.querySelector(".e-frozenrow-empty").classList.remove("e-frozenrow-empty")}this.frozenRows&&n<this.frozenRows?h=this.getHeaderContent().querySelector($t):h=this.getContent().querySelector($t),h=this.getContent().querySelector($t),h.appendChild(l)},e.prototype.addRowObject=function(i,n){this.getRowsObject().splice(n,1,i)},e.prototype.updateVisibleExpandCollapseRows=function(){for(var i=this.getRowsObject(),n=0,s=i.length;n<s;n++)(i[parseInt(n.toString(),10)].isDataRow||i[parseInt(n.toString(),10)].isAggregateRow)&&this.getRowElementByUID(i[parseInt(n.toString(),10)].uid)&&this.getRowElementByUID(i[parseInt(n.toString(),10)].uid).style.display==="none"?i[parseInt(n.toString(),10)].visible=!1:i[parseInt(n.toString(),10)].visible=!0},e.prototype.sanitize=function(i){return this.enableHtmlSanitizer?St.sanitize(i):i},e.prototype.getHeight=function(i){return!Number.isInteger(i)&&i.indexOf("%")!==-1?i=parseInt(i,10)/100*this.element.clientHeight:!Number.isInteger(i)&&this.height!=="auto"?i=parseInt(i,10):i=this.height,i},e.prototype.getFrozenRightContent=function(){return this.contentModule.getPanel()},e.prototype.getFrozenRightHeader=function(){return this.headerModule.getPanel()},e.prototype.getMovableHeaderTbody=function(){return this.getHeaderContent().querySelector($t)},e.prototype.getMovableContentTbody=function(){return this.getContent().querySelector($t)},e.prototype.getFrozenHeaderTbody=function(){return this.getHeaderContent().querySelector($t)},e.prototype.getFrozenLeftContentTbody=function(){return this.getContent().querySelector($t)},e.prototype.getFrozenRightHeaderTbody=function(){return this.getHeaderContent().querySelector($t)},e.prototype.getFrozenRightContentTbody=function(){return this.getContent().querySelector($t)},e.prototype.showResponsiveCustomFilter=function(i){this.filterModule&&this.filterModule.showCustomFilter(i||this.rowRenderingMode==="Vertical")},e.prototype.showResponsiveCustomSort=function(i){this.sortModule&&this.sortModule.showCustomSort(i||this.rowRenderingMode==="Vertical")},e.prototype.showResponsiveCustomColumnChooser=function(i){this.columnChooserModule&&this.columnChooserModule.showCustomColumnChooser(i||this.rowRenderingMode==="Vertical")},e.prototype.showAdaptiveFilterDialog=function(){this.enableAdaptiveUI&&this.showResponsiveCustomFilter(!0)},e.prototype.showAdaptiveSortDialog=function(){this.enableAdaptiveUI&&this.showResponsiveCustomSort(!0)},e.prototype.getCurrentVisibleColumns=function(i){for(var n=[],s=i?this.getColumns():this.columnModel,o=0,a=s;o<a.length;o++){var l=a[o];l.visible&&n.push(l)}return n},e.prototype.enableInfiniteAggrgate=function(){this.enableInfiniteScrolling&&this.groupSettings.columns.length&&!this.groupSettings.disablePageWiseAggregates&&!this.groupSettings.enableLazyLoading&&this.setProperties({groupSettings:{disablePageWiseAggregates:!0}},!0)};var t;return q([I([])],e.prototype,"currentViewData",void 0),q([I()],e.prototype,"parentDetails",void 0),q([I()],e.prototype,"showHider",void 0),q([I([])],e.prototype,"columns",void 0),q([I(!0)],e.prototype,"enableAltRow",void 0),q([I(!0)],e.prototype,"enableHover",void 0),q([I(!1)],e.prototype,"enableAutoFill",void 0),q([I(!0)],e.prototype,"allowKeyboard",void 0),q([I(!1)],e.prototype,"enableStickyHeader",void 0),q([I(!1)],e.prototype,"enableHtmlSanitizer",void 0),q([I(!1)],e.prototype,"allowTextWrap",void 0),q([gt({},ute)],e.prototype,"textWrapSettings",void 0),q([gt({},cte)],e.prototype,"resizeSettings",void 0),q([I(!1)],e.prototype,"allowPaging",void 0),q([gt({},qee)],e.prototype,"pageSettings",void 0),q([gt({},fte)],e.prototype,"loadingIndicator",void 0),q([I(!0)],e.prototype,"enableVirtualMaskRow",void 0),q([I(!1)],e.prototype,"enableVirtualization",void 0),q([I(!1)],e.prototype,"enableColumnVirtualization",void 0),q([I(!1)],e.prototype,"enableInfiniteScrolling",void 0),q([gt({},hte)],e.prototype,"searchSettings",void 0),q([I(!1)],e.prototype,"allowSorting",void 0),q([I("Ellipsis")],e.prototype,"clipMode",void 0),q([I(!0)],e.prototype,"allowMultiSorting",void 0),q([I(!1)],e.prototype,"allowExcelExport",void 0),q([I(!1)],e.prototype,"allowPdfExport",void 0),q([gt({},ste)],e.prototype,"sortSettings",void 0),q([gt({},ote)],e.prototype,"infiniteScrollSettings",void 0),q([I(!0)],e.prototype,"allowSelection",void 0),q([I(-1)],e.prototype,"selectedRowIndex",void 0),q([gt({},lte)],e.prototype,"selectionSettings",void 0),q([I(!1)],e.prototype,"allowFiltering",void 0),q([I("Horizontal")],e.prototype,"rowRenderingMode",void 0),q([I(!1)],e.prototype,"enableAdaptiveUI",void 0),q([I("Both")],e.prototype,"adaptiveUIMode",void 0),q([I(!1)],e.prototype,"allowReordering",void 0),q([I(!1)],e.prototype,"enableRowSpan",void 0),q([I(!1)],e.prototype,"enableColumnSpan",void 0),q([I(!1)],e.prototype,"allowResizing",void 0),q([I(!1)],e.prototype,"allowRowDragAndDrop",void 0),q([gt({},aP)],e.prototype,"rowDropSettings",void 0),q([gt({},ate)],e.prototype,"filterSettings",void 0),q([I(!1)],e.prototype,"allowGrouping",void 0),q([I(!1)],e.prototype,"enableImmutableMode",void 0),q([I(!1)],e.prototype,"showColumnMenu",void 0),q([I(!1)],e.prototype,"autoFit",void 0),q([gt({},dte)],e.prototype,"groupSettings",void 0),q([gt({},pte)],e.prototype,"editSettings",void 0),q([Li([],tte)],e.prototype,"aggregates",void 0),q([I(!1)],e.prototype,"showColumnChooser",void 0),q([gt({},$ee)],e.prototype,"columnChooserSettings",void 0),q([I(!1)],e.prototype,"enableHeaderFocus",void 0),q([I("auto")],e.prototype,"height",void 0),q([I("auto")],e.prototype,"width",void 0),q([I("Default")],e.prototype,"gridLines",void 0),q([I()],e.prototype,"rowTemplate",void 0),q([I()],e.prototype,"emptyRecordTemplate",void 0),q([I()],e.prototype,"detailTemplate",void 0),q([I()],e.prototype,"childGrid",void 0),q([I()],e.prototype,"queryString",void 0),q([I("AllPages")],e.prototype,"printMode",void 0),q([I("Expanded")],e.prototype,"hierarchyPrintMode",void 0),q([I([])],e.prototype,"dataSource",void 0),q([I(null)],e.prototype,"rowHeight",void 0),q([I()],e.prototype,"query",void 0),q([I("USD")],e.prototype,"currencyCode",void 0),q([I()],e.prototype,"exportGrids",void 0),q([I()],e.prototype,"toolbar",void 0),q([I()],e.prototype,"contextMenuItems",void 0),q([I()],e.prototype,"columnMenuItems",void 0),q([I()],e.prototype,"toolbarTemplate",void 0),q([I()],e.prototype,"pagerTemplate",void 0),q([I(0)],e.prototype,"frozenRows",void 0),q([I(0)],e.prototype,"frozenColumns",void 0),q([I("")],e.prototype,"cssClass",void 0),q([I("All")],e.prototype,"columnQueryMode",void 0),q([I({})],e.prototype,"currentAction",void 0),q([I("")],e.prototype,"ej2StatePersistenceVersion",void 0),q([I(null)],e.prototype,"isRowSelectable",void 0),q([Q()],e.prototype,"isRowPinned",void 0),q([Q()],e.prototype,"created",void 0),q([Q()],e.prototype,"destroyed",void 0),q([Q()],e.prototype,"load",void 0),q([Q()],e.prototype,"rowDataBound",void 0),q([Q()],e.prototype,"queryCellInfo",void 0),q([Q()],e.prototype,"headerCellInfo",void 0),q([Q()],e.prototype,"actionBegin",void 0),q([Q()],e.prototype,"actionComplete",void 0),q([Q()],e.prototype,"actionFailure",void 0),q([Q()],e.prototype,"dataBound",void 0),q([Q()],e.prototype,"recordDoubleClick",void 0),q([Q()],e.prototype,"recordClick",void 0),q([Q()],e.prototype,"rowSelecting",void 0),q([Q()],e.prototype,"rowSelected",void 0),q([Q()],e.prototype,"rowDeselecting",void 0),q([Q()],e.prototype,"rowDeselected",void 0),q([Q()],e.prototype,"cellSelecting",void 0),q([Q()],e.prototype,"cellSelected",void 0),q([Q()],e.prototype,"cellDeselecting",void 0),q([Q()],e.prototype,"cellDeselected",void 0),q([Q()],e.prototype,"columnSelecting",void 0),q([Q()],e.prototype,"columnSelected",void 0),q([Q()],e.prototype,"columnDeselecting",void 0),q([Q()],e.prototype,"columnDeselected",void 0),q([Q()],e.prototype,"columnDragStart",void 0),q([Q()],e.prototype,"columnDrag",void 0),q([Q()],e.prototype,"columnDrop",void 0),q([Q()],e.prototype,"printComplete",void 0),q([Q()],e.prototype,"beforePrint",void 0),q([Q()],e.prototype,"pdfQueryCellInfo",void 0),q([Q()],e.prototype,"pdfHeaderQueryCellInfo",void 0),q([Q()],e.prototype,"pdfAggregateQueryCellInfo",void 0),q([Q()],e.prototype,"excelAggregateQueryCellInfo",void 0),q([Q()],e.prototype,"exportDetailDataBound",void 0),q([Q()],e.prototype,"exportDetailTemplate",void 0),q([Q()],e.prototype,"excelQueryCellInfo",void 0),q([Q()],e.prototype,"excelHeaderQueryCellInfo",void 0),q([Q()],e.prototype,"beforeExcelExport",void 0),q([Q()],e.prototype,"excelExportComplete",void 0),q([Q()],e.prototype,"beforePdfExport",void 0),q([Q()],e.prototype,"pdfExportComplete",void 0),q([Q()],e.prototype,"rowDragStartHelper",void 0),q([Q()],e.prototype,"detailDataBound",void 0),q([Q()],e.prototype,"detailExpand",void 0),q([Q()],e.prototype,"detailCollapse",void 0),q([Q()],e.prototype,"rowDragStart",void 0),q([Q()],e.prototype,"rowDrag",void 0),q([Q()],e.prototype,"rowDrop",void 0),q([Q()],e.prototype,"toolbarClick",void 0),q([Q()],e.prototype,"beforeOpenColumnChooser",void 0),q([Q()],e.prototype,"beforeOpenAdaptiveDialog",void 0),q([Q()],e.prototype,"batchAdd",void 0),q([Q()],e.prototype,"batchDelete",void 0),q([Q()],e.prototype,"batchCancel",void 0),q([Q()],e.prototype,"beforeBatchAdd",void 0),q([Q()],e.prototype,"beforeBatchDelete",void 0),q([Q()],e.prototype,"beforeBatchSave",void 0),q([Q()],e.prototype,"beginEdit",void 0),q([Q()],e.prototype,"commandClick",void 0),q([Q()],e.prototype,"cellEdit",void 0),q([Q()],e.prototype,"cellSave",void 0),q([Q()],e.prototype,"cellSaved",void 0),q([Q()],e.prototype,"resizeStart",void 0),q([Q()],e.prototype,"resizing",void 0),q([Q()],e.prototype,"resizeStop",void 0),q([Q()],e.prototype,"keyPressed",void 0),q([Q()],e.prototype,"beforeDataBound",void 0),q([Q()],e.prototype,"contextMenuOpen",void 0),q([Q()],e.prototype,"contextMenuClick",void 0),q([Q()],e.prototype,"contextMenuClose",void 0),q([Q()],e.prototype,"columnMenuOpen",void 0),q([Q()],e.prototype,"columnMenuClick",void 0),q([Q()],e.prototype,"columnMenuClose",void 0),q([Q()],e.prototype,"checkBoxChange",void 0),q([Q()],e.prototype,"beforeCopy",void 0),q([Q()],e.prototype,"beforePaste",void 0),q([Q()],e.prototype,"beforeAutoFill",void 0),q([Q()],e.prototype,"columnDataStateChange",void 0),q([Q()],e.prototype,"dataStateChange",void 0),q([Q()],e.prototype,"dataSourceChanged",void 0),q([Q()],e.prototype,"exportGroupCaption",void 0),q([Q()],e.prototype,"lazyLoadGroupExpand",void 0),q([Q()],e.prototype,"lazyLoadGroupCollapse",void 0),q([Q()],e.prototype,"beforeDetailTemplateDetach",void 0),q([Q()],e.prototype,"beforeCustomFilterOpen",void 0),e=t=q([tn],e),e}(rr);function gte(){return["aggregates","allowGrouping","allowFiltering","allowMultiSorting","allowReordering","allowSorting","allowTextWrap","childGrid","columns","currentViewData","dataSource","detailTemplate","enableAltRow","enableColumnVirtualization","filterSettings","gridLines","groupSettings","height","locale","pageSettings","printMode","query","queryString","enableRtl","rowHeight","rowTemplate","sortSettings","textWrapSettings","allowPaging","hierarchyPrintMode","searchSettings","queryCellInfo","beforeDataBound","enableHtmlSanitizer"]}var sD=function(){function r(e,t){this.isAsyncPrint=!1,this.defered=new mi,this.parent=e,!this.parent.isDestroyed&&(this.parent.on($i,this.isContentReady(),this),this.actionBeginFunction=this.actionBegin.bind(this),this.parent.addEventListener(vo,this.actionBeginFunction),this.parent.on(Mo,this.onEmpty.bind(this)),this.parent.on(gN,this.hierarchyPrint,this),this.scrollModule=t)}return r.prototype.isContentReady=function(){var e=this;return this.isPrintGrid()&&(this.parent.hierarchyPrintMode==="None"||!this.parent.childGrid)?this.contentReady:function(){e.defered.promise.then(function(){e.contentReady()}),e.isPrintGrid()&&e.hierarchyPrint()}},r.prototype.hierarchyPrint=function(){this.removeColGroup(this.parent);var e=window.printGridObj;e&&!e.element.querySelector("[aria-busy=true")&&e.printModule.defered.resolve()},r.prototype.print=function(){this.renderPrintGrid()},r.prototype.onEmpty=function(){this.isPrintGrid()&&this.contentReady()},r.prototype.actionBegin=function(){this.isPrintGrid()&&(this.isAsyncPrint=!0)},r.prototype.renderPrintGrid=function(){var e=this.parent,t=Be("div",{id:this.parent.element.id+"_print",className:e.element.className+" e-print-grid"});t.classList.remove("e-gridhover"),document.body.appendChild(t);for(var i=new ch(cP(e,e.hierarchyPrintMode)),n=0;n<i.columns.length;n++)i.columns[parseInt(n.toString(),10)]=ie({},i.columns[parseInt(n.toString(),10)]),!e.getFrozenColumns()&&e.isFrozenGrid()&&(i.columns[parseInt(n.toString(),10)].freeze=void 0);this.parent.isAngular&&(i.viewContainerRef=this.parent.viewContainerRef),i.load=function(){},i.query=e.getQuery().clone(),window.printGridObj=i,i.isPrinting=!0;var s=i.getInjectedModules(),o=e.getInjectedModules();(!s||s.length!==o.length)&&i.setInjectedModules(o),e.notify(yX,{element:t,printgrid:i}),this.parent.log("exporting_begin",this.getModuleName()),i.registeredTemplate=this.parent.registeredTemplate,i.isVue=this.parent.isVue,this.parent.isVue&&(i.vueInstance=this.parent.vueInstance),i.printGridParent=e,i.appendTo(t),e.isVue3||(i.trigger=e.trigger)},r.prototype.contentReady=function(){var e=this;if(this.isPrintGrid()){var t=this.parent;if(this.isAsyncPrint){this.printGrid();return}var i={requestType:"print",element:t.element,selectedRows:t.getContentTable().querySelectorAll('tr[aria-selected="true"]'),cancel:!1,hierarchyPrintMode:t.hierarchyPrintMode};if(this.isAsyncPrint||t.trigger(iN,i),i.cancel){bt(t.element);return}this.isAsyncPrint||(this.parent.printGridParent&&this.parent.printGridParent.isReact?this.parent.printGridParent.renderTemplates(function(){e.printGrid()}):this.printGrid())}},r.prototype.printGrid=function(){var e=this.parent;if(e.height!=="auto"){var t=this.scrollModule.getCssProperties(),i=e.element.querySelector("."+En),n=e.element.querySelector("."+ds);i.style.height="auto",i.style.overflowY="auto",n.style[t.padding]="",n.firstElementChild.style[t.border]=""}e.allowGrouping&&(e.groupSettings.columns.length?this.removeColGroup(e):e.element.querySelector(".e-groupdroparea").style.display="none");for(var s=0,o=[].slice.call(e.element.getElementsByClassName(En));s<o.length;s++){var a=o[s];a.style.overflowX="hidden"}for(var l=[].slice.call(e.element.getElementsByClassName("e-spin-show")),h=0,u=[].slice.call(l);h<u.length;h++){var a=u[h];Ki(a,["e-spin-hide"],["e-spin-show"])}this.printGridElement(e),e.isPrinting=!1,delete window.printGridObj;var c={element:e.element};e.trigger(nN,c),e.destroy(),this.parent.log("exporting_complete",this.getModuleName())},r.prototype.printGridElement=function(e){Ki(e.element,["e-print-grid-layout"],["e-print-grid"]),e.isPrinting&&bt(e.element),this.printWind=window.open("","print","height="+window.outerHeight+",width="+window.outerWidth+",tabbar=no"),p(this.printWind)||(this.printWind.moveTo(0,0),this.printWind.resizeTo(screen.availWidth,screen.availHeight),this.printWind=P8(e.element,this.printWind))},r.prototype.removeColGroup=function(e){var t=e.groupSettings.columns.length,i=e.element,n="#"+e.element.id;if(t){for(var s=ln(".e-groupcaption",i),o=e.groupSettings.enableLazyLoading?(parseInt(s[0].getAttribute("colspan"),10)-(e.groupSettings.columns.length-1)).toString():s[t-1].getAttribute("colspan"),a=0;a<s.length;a++)s[parseInt(a.toString(),10)].setAttribute("colspan",o);var l=ln("colgroup"+n+"colgroup",i),h=ln(".e-content colgroup",i),u=ln(".e-summarycontent colgroup",i);this.hideColGroup(l,t),this.hideColGroup(h,t),this.hideColGroup(u,t)}},r.prototype.hideColGroup=function(e,t){for(var i=0;i<e.length;i++)for(var n=0;n<t;n++)e[parseInt(i.toString(),10)].children[parseInt(n.toString(),10)].style.display="none"},r.prototype.isPrintGrid=function(){return this.parent.element.id.indexOf("_print")>0&&this.parent.isPrinting},r.prototype.destroy=function(){this.parent.isDestroyed||(this.parent.off($i,this.contentReady.bind(this)),this.parent.removeEventListener(vo,this.actionBeginFunction),this.parent.off(Mo,this.onEmpty.bind(this)),this.parent.off(gN,this.hierarchyPrint))},r.prototype.getModuleName=function(){return"print"},r.printGridProp=gte().concat([iN,nN,cC]),r}();function mte(r,e){return r.prototype&&e in r.prototype}function lP(r,e,t){return p(r)||r===""?"":re.getObject(r,e)}function hP(r,e){requestAnimationFrame(function(){try{e(null,r())}catch(t){e(t)}})}function ao(r,e){for(var t=[],i=0,n=r.length;i<n;i++){var s=e(r[parseInt(i.toString(),10)],i);p(s)||t.push(s)}return t}function yte(r){for(var e=[],t=0;t<r.length;t++)e.push(ie({},Bt(r[parseInt(t.toString(),10)]),{},!0));return e}function Si(r){if(r)try{var e=r[0]!=="<";return typeof r=="function"?Xt(r):e&&document.querySelectorAll(r).length?Xt(document.querySelector(r).innerHTML.trim()):Xt(r)}catch{return Xt(r)}}function eo(r,e){var t={},i=["style","class"];ie(t,e,{}),"style"in t&&(Ci(r,t[i[0]]),delete t[i[0]]),"class"in t&&(Z([r],t[i[1]]),delete t[i[1]]),Et(r,t)}function vte(r,e,t,i){for(var n=ie(r,e,t),s=Object.keys(n),o=0;o<s.length;o++);return n}function Fg(r,e){e===void 0&&(e=0);for(var t=0,i=p(r)?0:r.length;t<i;t++)r[parseInt(t.toString(),10)].columns?(r[parseInt(t.toString(),10)].index=p(r[parseInt(t.toString(),10)].index)?e:r[parseInt(t.toString(),10)].index,e++,e=Fg(r[parseInt(t.toString(),10)].columns,e)):(r[parseInt(t.toString(),10)].index=p(r[parseInt(t.toString(),10)].index)?e:r[parseInt(t.toString(),10)].index,e++);return e}function my(r,e,t){for(var i=0,n=p(r)?0:r.length;i<n;i++){var s=void 0;typeof r[parseInt(i.toString(),10)]=="string"?s=new Gi({field:r[parseInt(i.toString(),10)]},t):!(r[parseInt(i.toString(),10)]instanceof Gi)||r[parseInt(i.toString(),10)].columns?r[parseInt(i.toString(),10)].columns?(r[parseInt(i.toString(),10)].columns=my(r[parseInt(i.toString(),10)].columns,null,t),s=new Gi(r[parseInt(i.toString(),10)],t)):s=new Gi(r[parseInt(i.toString(),10)],t):s=r[parseInt(i.toString(),10)],s.type&&s.type.toLowerCase()==="checkbox"&&(s.allowReordering=!1),s.headerText=p(s.headerText)?s.foreignKeyValue||s.field||"":s.headerText,s.foreignKeyField=s.foreignKeyField||s.field,s.valueAccessor=(typeof s.valueAccessor=="string"?H(s.valueAccessor,window):s.valueAccessor)||lP,s.headerValueAccessor=typeof s.headerValueAccessor=="string"?H(s.headerValueAccessor,window):s.headerValueAccessor,s.width=e&&p(s.width)?200:s.width,p(s.visible)&&(s.visible=!0),r[parseInt(i.toString(),10)]=s}return r}function Mte(r,e,t){var i=r.querySelector("span"),n=r.parentElement.getBoundingClientRect(),s=e.target.getBoundingClientRect();i.className=t,r.style.display="";var o=(p(e.clientY)?e.changedTouches[0].clientY:e.clientY)>r.offsetHeight+10;r.style.top=s.top-n.top+(o?-(r.offsetHeight+10):r.offsetHeight+10)+"px",r.style.left=Ste(r,e,s,n.left)+"px",o?(r.querySelector(".e-downtail").style.display="",r.querySelector(".e-uptail").style.display="none"):(r.querySelector(".e-downtail").style.display="none",r.querySelector(".e-uptail").style.display="")}function Ste(r,e,t,i){var n=r.offsetWidth/2,s=LC(e).x;return s-t.left<n?t.left-i:t.right-s<n?t.right-i-n*2:s-i-n}function Bt(r){return r instanceof Xe?H("properties",r):r}function he(r,e,t){for(var i=r;i&&!i.classList.contains(e);)i=i.parentElement;return i}function Cte(r){for(var e=[],t=0,i=r.length;t<i;t++)r[parseInt(t.toString(),10)].hasOwnProperty("properties")?e.push(r[parseInt(t.toString(),10)].properties):e.push(r[parseInt(t.toString(),10)]);return e}function LC(r){var e={};return e.x=p(r.clientX)?r.changedTouches[0].clientX:r.clientX,e.y=p(r.clientY)?r.changedTouches[0].clientY:r.clientY,e}var bte=0;function hs(r){return r+bte++}function tr(r,e){for(var t=0,i=e.length;t<i;t++)i===e.length?r.appendChild(e[parseInt(t.toString(),10)]):r.appendChild(e[0]);return r}function Ite(r,e,t,i){if(r==="Custom"){var n=t.customAggregate;return typeof n=="string"&&(n=H(n,window)),n?n.call(i,e,t):""}return t.field in e||e instanceof Array?re.aggregates[r.toLowerCase()](e,t.field):null}var o0=null;function Rr(){if(o0!==null)return o0;var r=document.createElement("div"),e=0;return r.style.cssText="width:100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;",document.body.appendChild(r),e=r.offsetWidth-r.clientWidth|0,document.body.removeChild(r),o0=e}var ig,ng;function Dte(r,e){if(e&&ng!==void 0)return ng;if(ig!==void 0)return ig;var t=Be("table",{className:ta,attrs:{role:"grid"}});t.style.visibility="hidden",t.innerHTML='<tr><td class="e-rowcell">A<td></tr>',r.appendChild(t);var i=t.querySelector("td").getBoundingClientRect();return r.removeChild(t),ng=i.height,ig=Math.ceil(i.height),e?ng:ig}function Tte(r){return r.split(".").length>1}function uP(r){var e=ii("#"+r.element.id+"EditConfirm",r.element);return r.editSettings.mode==="Batch"&&(ln(".e-updatedtd",r.element).length||ln(".e-gridform.e-formvalidator",r.element).length)&&r.editSettings.showConfirmDialog&&(e?e.classList.contains("e-popup-close"):!0)}function Nr(r,e){var t="e-wrap";r=r instanceof Array?r:[r];for(var i=0;i<r.length;i++)e?r[parseInt(i.toString(),10)].classList.add(t):r[parseInt(i.toString(),10)].classList.remove(t)}function zC(r,e){var t=r.getService("valueFormatter"),i="format",n;switch((e.type==="date"||e.type==="datetime"||e.type==="dateonly")&&(n={type:e.type==="dateonly"?"date":e.type,skeleton:e.format},typeof e.format=="string"&&e.format!=="yMd"&&(n[""+i]=e.format)),e.type){case"date":e.setFormatter(t.getFormatFunction(n)),e.setParser(t.getParserFunction(n));break;case"dateonly":e.setFormatter(t.getFormatFunction(n)),e.setParser(t.getParserFunction(n));break;case"datetime":e.setFormatter(t.getFormatFunction(n)),e.setParser(t.getParserFunction(n));break;case"number":e.setFormatter(t.getFormatFunction({format:e.format})),e.setParser(t.getParserFunction({format:e.format}));break}}function Wl(r,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];for(var n=0,s=r.length;n<s;n++){var o=r[parseInt(n.toString(),10)];e?(Ki(o,t.slice(),[]),o.classList.contains("e-detailrowcollapse")||o.classList.contains("e-detailrowexpand")||o.setAttribute("aria-selected","true")):(Ki(o,[],t.slice()),o.removeAttribute("aria-selected"))}}function wte(r,e,t){var i=e.element.style.display;e.element.style.display="block";var n=e.width,s=BI(r,e.element);e.element.style.display=i,e.element.style.top=s.top+r.getBoundingClientRect().height-5+"px";var o=s.left-n+r.clientWidth;if(t&&t.enableRtl){var a=t.element?t.element.clientWidth:0,l=r.getBoundingClientRect().right+n-a;l>1?e.element.style.left=o-4+"px":e.element.style.left=n+o-16+"px",parseInt(e.element.style.left,10)<0&&(e.element.style.left="0px")}else if(o<1?e.element.style.left=n+o-16+"px":e.element.style.left=o-4+"px",t&&t.element){var h=t.element.offsetWidth-parseInt(e.element.style.left,10);t.element.offsetWidth>=n&&h<n&&(e.element.style.left=t.element.offsetWidth-n+"px")}}function Zc(r){var e=r.querySelector(".e-frame"),t=e.previousSibling;e.classList.contains("e-check")?(t.checked=!1,Ki(e,["e-uncheck"],["e-check"])):(t.checked=!0,Ki(e,["e-check"],["e-uncheck"]))}function dh(r,e){r.checked=e}function a0(r,e,t){var i=Be("div",{className:t});return i.appendChild(e),i.setAttribute("data-uid",r),i}function Bg(r,e){ue([r],["e-check","e-stop","e-uncheck"]),e?r.classList.add("e-check"):r.classList.add("e-uncheck")}function xte(r,e,t){for(var i=0;i<(p(e)?0:e.length);i++)Ze(e[parseInt(i.toString(),10)].field,Zh(e[parseInt(i.toString(),10)],t),r.foreignKeyData);for(var n=r.cells,i=0;i<n.length;i++)n[parseInt(i.toString(),10)].isForeignKey&&Ze("foreignKeyData",H(n[parseInt(i.toString(),10)].column.field,r.foreignKeyData),n[parseInt(i.toString(),10)])}function Zh(r,e,t,i){var n=r.foreignKeyField,s=p(t)?lP(r.field,e):t;s=p(s)?"":s;var o=new He,a=i||(r.dataSource instanceof fe&&r.dataSource.dataSource.json.length?r.dataSource.dataSource.json:r.columnData);return s.getDay?o.where(zu({field:n,operator:"equal",value:s,matchCase:!1})):o.where(n,"==",s,!1),new fe(a).executeLocal(o)}function oD(r,e){var t;return e.some(function(i){return t=i,i.foreignKeyValue===r})&&t}function Lu(r){return r<10?"0"+r:String(r)}function zu(r,e){var t,i,n,s=ie({},Bt(r)),o=ie({},Bt(r));if(p(r.value)||r.value==="")return t=new Tt(s.field,s.operator,s.value,!1),t;var a=new Date(r.value);if(e==="dateonly"){if(typeof s.value=="string"){var l=s.value.split(/[^0-9.]/);s.value=new Date(parseInt(l[0],10),parseInt(l[1],10)-1,parseInt(l[2],10))}var h=s.value.getFullYear()+"-"+Lu(s.value.getMonth()+1)+"-"+Lu(s.value.getDate()),u=new Tt(s.field,s.operator,h,!1);t=u}else if(r.operator=r.operator.toLowerCase(),r.operator==="equal"||r.operator==="notequal"){e==="datetime"?(i=new Date(a.setSeconds(a.getSeconds()-1)),n=new Date(a.setSeconds(a.getSeconds()+2)),r.value=new Date(a.setSeconds(n.getSeconds()-1))):(i=new Date(a.setHours(0)-1),n=new Date(a.setHours(24))),s.value=i,o.value=n,r.operator==="equal"?(s.operator="greaterthan",o.operator="lessthan"):r.operator==="notequal"&&(s.operator="lessthanorequal",o.operator="greaterthanorequal");var c=new Tt(s.field,s.operator,s.value,!1),d=new Tt(o.field,o.operator,o.value,!1);t=r.operator==="equal"?c.and(d):c.or(d)}else{e==="date"&&(r.operator==="lessthanorequal"||r.operator==="greaterthan")&&(s.value=new Date(a.setHours(24)-1)),typeof s.value=="string"&&(s.value=new Date(s.value));var u=new Tt(s.field,s.operator,s.value,!1);t=u}return r.setProperties?r.setProperties({ejpredicate:t},!0):r.ejpredicate=t,t}function uo(r){return r.enableVirtualization&&r.groupSettings.columns.length>0&&r.isVirtualAdaptive&&!r.groupSettings.enableLazyLoading}function It(r,e){if(r===void 0&&(r=""),r){for(var t=e,i=r.split("."),n=0;n<i.length&&!p(t);n++)if(t=t[i[parseInt(n.toString(),10)]],Je(t)){var s=i[parseInt(n.toString(),10)].charAt(0).toUpperCase()+i[parseInt(n.toString(),10)].slice(1);t=e[""+s]||e[(""+s).charAt(0).toLowerCase()+(""+s).slice(1)]}return t}}function Nte(r,e){for(var t=r.getRowsObject(),i={},n=0,s=t;n<s.length;n++){var o=s[n];if(o.isExpand&&!o.isDetailRow){var a=r.allowPaging&&r.printMode==="AllPages"?o.index+r.pageSettings.currentPage*r.pageSettings.pageSize-r.pageSettings.pageSize:o.index;p(a)||(i[parseInt(a.toString(),10)]={},i[parseInt(a.toString(),10)].isExpand=!0,r.childGrid&&(i[parseInt(a.toString(),10)].gridModel=cP(o.childGrid,e),i[parseInt(a.toString(),10)].gridModel.query=r.childGrid.query))}}return i}function cP(r,e){e===void 0&&(e="Expanded");var t={};if(!r)return t;for(var i=0,n=sD.printGridProp;i<n.length;i++){var s=n[i];s==="columns"?t[""+s]=Cte(r[""+s]):s==="allowPaging"?t[""+s]=r.printMode==="CurrentPage":t[""+s]=Bt(r[""+s])}return t.enableHover=!1,(r.childGrid||r.detailTemplate)&&e!=="None"&&(t.expandedRows=Nte(r,e)),t}function aD(r,e,t,i){for(var n=r||{},s=arguments.length,o=1;o<s;o++)if(arguments[parseInt(o.toString(),10)])for(var a=arguments[parseInt(o.toString(),10)],l=Object.keys(Object.getPrototypeOf(a)).length?Object.keys(a).concat(Ate(a)):Object.keys(a),h=0;h<l.length;h++){n[l[parseInt(h.toString(),10)]];var u=a[l[parseInt(h.toString(),10)]];n[l[parseInt(h.toString(),10)]]=u}return n}function Ate(r){for(var e=[];Object.getPrototypeOf(r)&&Object.keys(Object.getPrototypeOf(r)).length;)e=e.concat(Object.keys(Object.getPrototypeOf(r))),r=Object.getPrototypeOf(r);return e}function Ete(r){for(var e=0,t=0;t<(p(r)?0:r.length);t++){var i=dP(r[parseInt(t.toString(),10)],0);e<i&&(e=i)}return e+1}function dP(r,e){var t=e,i=[];if(r.columns){e++;for(var n=0;n<r.columns.length;n++)i[parseInt(n.toString(),10)]=dP(r.columns[parseInt(n.toString(),10)],e);for(var s=0;s<i.length;s++)t<i[parseInt(s.toString(),10)]&&(t=i[parseInt(s.toString(),10)]);e=t}return e}function kte(r,e){for(var t=0;t<e.length;t++)e[parseInt(t.toString(),10)].uid=e[parseInt(t.toString(),10)].isForeignKey?oD(e[parseInt(t.toString(),10)].field,r.getForeignKeyColumns()).uid:r.enableColumnVirtualization?Qte(r,e[parseInt(t.toString(),10)].field).uid:r.getColumnByField(e[parseInt(t.toString(),10)].field).uid}var Ns;(function(r){r.timer=null})(Ns||(Ns={}));function OC(r){var e=document.defaultView.getComputedStyle(r,null),t=e.getPropertyValue("transform"),i=t.replace(/,/g,""),n=parseFloat(i.split(" ")[4]),s=parseFloat(i.split(" ")[5]);return{width:n,height:s}}function lD(r){var e=r.getContent().firstElementChild;return e.scrollWidth>e.offsetWidth?Rr():0}function pP(r,e){var t=0,i=r.getColumns(),n=e*30;r.isRowDragable()&&(t++,n+=30),t+=r.groupSettings.columns.length-e,n+=30*(r.groupSettings.columns.length-e);for(var s=(r.width==="auto"?r.element.offsetWidth:r.width.toString().indexOf("%")!==-1?r.element.getBoundingClientRect().width:parseInt(r.width.toString(),10))-lD(r),o=0;o<i.length;o++)if(i[parseInt(o.toString(),10)].visible&&(n+=Ug(i[parseInt(o.toString(),10)],r),t++),n>s){t--;break}return t}function Lte(r,e){for(var t=0,i=0,n=e.getVisibleFrozenLeftCount(),s=0;s<r.childNodes.length;s++){var o=r.childNodes[parseInt(s.toString(),10)];if(n===i)break;if((o.classList.contains("e-groupcaption")||o.classList.contains("e-summarycell"))&&(i+=parseInt(o.getAttribute("colspan"),10)),o.classList.add("e-leftfreeze"),o.classList.contains("e-groupcaption")&&parseInt(o.getAttribute("colspan"),10)===1&&o.classList.add("e-freezeleftborder"),Bn(o,t,e.enableRtl,"Left"),(o.classList.contains("e-indentcell")||o.classList.contains("e-recordplusexpand")||o.classList.contains("e-recordpluscollapse"))&&(t+=30),o.classList.contains("e-groupcaption")){var a=parseInt(o.getAttribute("colspan"),10);e.isRowDragable()&&(a--,t+=30),a=a-(e.groupSettings.columns.length-s),t=t+30*(e.groupSettings.columns.length-s);for(var l=e.getColumns(),h=0;h<l.length;h++){if(parseInt(o.getAttribute("colspan"),10)>1&&Ug(l[parseInt(h.toString(),10)],e)+t>parseInt(e.width.toString(),10)-lD(e)){var u=pP(e,s);o.setAttribute("colspan",u.toString());break}if(l[parseInt(h.toString(),10)].visible&&(t+=Ug(l[parseInt(h.toString(),10)],e),a--),a===0)break}}if(o.classList.contains("e-summarycell")){var c=o.getAttribute("data-mappinguid"),d=e.getColumnByUid(c);t+=Ug(d,e)}}}function Ug(r,e){if(!p(r.width)&&r.width!=="auto"&&r.width.toString().indexOf("%")===-1)return parseInt(r.width.toString(),10);var t=e.getColumnHeaderByField(r.field);return p(t)?0:t.getBoundingClientRect().width}function zte(r,e){var t=Ote(e),i=new mi;return t.dataSource=i.resolve,t.action=r,{state:t,deffered:i}}function Ote(r){var e=new hr,t=new fe({url:"",adaptor:new hr}),i=e.processQuery(t,r),n=JSON.parse(i.data);return n}function RC(r){for(var e=r.getVisibleColumns(),t=0,i=0,n=0;n<e.length;n++)Je(e[parseInt(n.toString(),10)].width)?i++:e[parseInt(n.toString(),10)].width.toString().indexOf("%")!==-1&&t++;return(r.width==="auto"||typeof r.width=="string"&&r.width.indexOf("%")!==-1)&&!r.groupSettings.showGroupedColumn&&r.groupSettings.columns.length&&t&&!i}function Rte(r,e,t,i,n){for(var s=0,o=0;o<e.length;o++)if(e[parseInt(o.toString(),10)]&&e[parseInt(o.toString(),10)].isDataRow){e[parseInt(o.toString(),10)].index=s,e[parseInt(o.toString(),10)].isAltRow=r.enableAltRow?s%2!==0:!1,t[parseInt(o.toString(),10)].setAttribute(Ti,(s+1).toString()),e[parseInt(o.toString(),10)].isAltRow?t[parseInt(o.toString(),10)].classList.add("e-altrow"):t[parseInt(o.toString(),10)].classList.remove("e-altrow");for(var a=0;a<t[parseInt(o.toString(),10)].cells.length;a++)t[parseInt(o.toString(),10)].cells[parseInt(a.toString(),10)].setAttribute("data-index",s.toString());s++}e.length||r.renderModule.emptyRow(!0)}function jte(r,e,t,i){var n=r.dataToBeUpdated[""+t].concat(e[""+t]).reduce(function(s,o){return s[o[""+i]]=s[o[""+i]]===void 0?o:Object.assign(s[o[""+i]],o),s},{});r.dataToBeUpdated[""+t]=Object.keys(n).map(function(s){return n[""+s]})}function Pte(r){if(r.enableInfiniteScrolling&&(r.childGrid||r.detailTemplate)){r.contentModule.rowElements=[].slice.call(r.getContentTable().rows).filter(function(e){return(e.classList.contains("e-row")||e.classList.contains("e-detailrow"))&&!e.classList.contains("e-addedrow")});return}r.contentModule.rowElements=[].slice.call(r.element.querySelectorAll(".e-row:not(.e-addedrow):not(.e-cloneproperties .e-row)"))}function Fte(r,e){var t=r.createElement("div",{className:"e-grid-popup",id:r.element.id+"_e-popup"}),i=er(r.element,"left","Top");document.getElementById(r.element.id+"_e-popup")&&(t=document.getElementById(r.element.id+"_e-popup")),t.style.top=i.top+"px",t.style.left=i.left+"px",t.style.zIndex=e.zIndex.toString(),t.style.width=e.element.offsetWidth+"px",t.appendChild(e.element);var n=document.querySelector(".sb-demo-section,.e-grid-dialog-fixed");if(n){var s=BI(r.element,n);t.style.top=s.top+"px",t.style.left=s.left+"px",n.insertBefore(t,n.firstChild)}else document.body.insertBefore(t,document.body.firstChild)}function TN(r,e){var t=[];return t.push(r.uid),fP(r,t),t.indexOf(e)>-1}function fP(r,e){for(var t=0;t<r.columns.length;t++)r.columns[parseInt(t.toString(),10)].uid&&e.push(r.columns[parseInt(t.toString(),10)].uid),r.columns[parseInt(t.toString(),10)].columns&&r.columns[parseInt(t.toString(),10)].columns.length&&fP(r.columns[parseInt(t.toString(),10)],e)}function Hg(r){return r.columns[0].freeze||r.columns[0].isFrozen?r.columns[0].freeze==="Left"||r.columns[0].isFrozen?"Left":r.columns[0].freeze==="Right"?"Right":r.columns[0].freeze==="Fixed"?"Fixed":"None":r.columns[0].columns&&r.columns[0].columns.length?Hg(r.columns[0]):"None"}function _d(r){if(r.querySelector(".e-fixedfreeze"))for(var e=[].slice.call(r.querySelectorAll(".e-filterbarcell:not(.e-hide),.e-summarycell:not(.e-hide),.e-headercell:not(.e-hide),.e-rowcell:not(.e-hide)")),t=0;t<e.length;t++)e[parseInt(t.toString(),10)].classList.contains("e-fixedfreeze")&&(!e[t-1]||e[t-1]&&!e[t-1].classList.contains("e-fixedfreeze"))&&e[parseInt(t.toString(),10)].classList.add("e-freezeleftborder"),e[parseInt(t.toString(),10)].classList.contains("e-fixedfreeze")&&(!e[t+1]||e[t+1]&&!e[t+1].classList.contains("e-fixedfreeze"))&&e[parseInt(t.toString(),10)].classList.add("e-freezerightborder")}function Bn(r,e,t,i){i==="Left"&&(t?r.style.right=e+"px":r.style.left=e+"px"),i==="Right"&&(t?r.style.left=e+"px":r.style.right=e+"px")}function Bte(r,e,t,i){var n=r.getColumns(),s=e.index;if(e.freeze==="Left"&&e.border!=="Left"){for(var o=s+(i-1);n[parseInt(o.toString(),10)].visible===!1;)o++;n[parseInt(o.toString(),10)].border==="Left"&&t.classList.add("e-freezeleftborder")}else if(e.freeze==="Right"||e.freeze==="Fixed"){for(var a=0,l=s+1;l<s+i&&l!==n.length;l++)n[parseInt(l.toString(),10)].visible?a+=parseInt(n[parseInt(l.toString(),10)].width.toString(),10):i++;r.enableRtl?t.style.left=parseInt(t.style.left,10)-a+"px":t.style.right=parseInt(t.style.right,10)-a+"px"}}function wN(r,e,t){for(var i=r.getRowByIndex(e),n=0;n<i.cells.length;n++)if(parseInt(i.cells[parseInt(n.toString(),10)].getAttribute("aria-colindex").toString(),10)-1===t)return i.cells[parseInt(n.toString(),10)];return null}function gP(r,e,t){if(e.freeze==="Left"||e.isFrozen)if(t.classList.add("e-leftfreeze"),e.border==="Left"&&t.classList.add("e-freezeleftborder"),e.index===0)Bn(t,r.getIndentCount()*30,r.enableRtl,"Left"),r.enableColumnVirtualization&&(e.valueX=r.getIndentCount()*30);else{for(var i=r.getColumns(),n=r.getIndentCount()*30,s=0;s<i.length&&e.uid!==i[parseInt(s.toString(),10)].uid;s++)i[parseInt(s.toString(),10)].visible&&(n+=parseFloat(i[parseInt(s.toString(),10)].width.toString()));Bn(t,n,r.enableRtl,"Left"),r.enableColumnVirtualization&&(e.valueX=n)}else if(e.freeze==="Right"){t.classList.add("e-rightfreeze");var i=r.getColumns();if(e.border==="Right"&&t.classList.add("e-freezerightborder"),e.index===i[i.length-1].index){var n=r.getFrozenMode()==="Right"&&r.isRowDragable()?30:0;Bn(t,n,r.enableRtl,"Right"),r.enableColumnVirtualization&&(e.valueX=n)}else{for(var n=r.getFrozenMode()==="Right"&&r.isRowDragable()?30:0,s=i.length-1;s>=0&&e.uid!==i[parseInt(s.toString(),10)].uid;s--)i[parseInt(s.toString(),10)].visible&&(n+=parseFloat(i[parseInt(s.toString(),10)].width.toString()));Bn(t,n,r.enableRtl,"Right"),r.enableColumnVirtualization&&(e.valueX=n)}}else if(e.freeze==="Fixed"){t.classList.add("e-fixedfreeze");var i=r.getColumns(),n=0;r.getVisibleFrozenLeftCount()?n=r.getIndentCount()*30:r.getFrozenMode()==="Right"&&(n=r.groupSettings.columns.length*30);for(var s=0;s<i.length&&e.uid!==i[parseInt(s.toString(),10)].uid;s++)(i[parseInt(s.toString(),10)].freeze==="Left"||i[parseInt(s.toString(),10)].isFrozen||i[parseInt(s.toString(),10)].freeze==="Fixed")&&i[parseInt(s.toString(),10)].visible&&(n+=parseFloat(i[parseInt(s.toString(),10)].width.toString()));Bn(t,n-1,r.enableRtl,"Left"),n=r.getFrozenMode()==="Right"&&r.isRowDragable()?30:0;for(var s=i.length-1;s>=0&&e.uid!==i[parseInt(s.toString(),10)].uid;s--)(i[parseInt(s.toString(),10)].freeze==="Right"||i[parseInt(s.toString(),10)].freeze==="Fixed")&&i[parseInt(s.toString(),10)].visible&&(n+=parseFloat(i[parseInt(s.toString(),10)].width.toString()));Bn(t,n-1,r.enableRtl,"Right")}else t.classList.add("e-unfreeze")}function mP(r,e,t){var i={rowIndex:t,elements:null};return r.notify("get-row-cells",i),i.elements?i.elements:[].slice.call(r.getDataRows()[parseInt(t.toString(),10)].getElementsByClassName(Gt))}function Ute(r,e,t,i){return mP(r,e,t)[parseInt(i.toString(),10)]}function yP(r,e,t,i){var n,s=new of;if(e==="number")try{n=s.getNumberPattern({format:r,currency:i,useGrouping:!0},!0)}catch{n=r}else if(e==="date"||e==="time"||e==="datetime")try{if(n=s.getDatePattern({skeleton:r,type:e},t),p(n))throw"error"}catch{try{n=s.getDatePattern({format:r,type:e},t)}catch{n=r}}else n=r;if(e!=="number"){var o=/G|H|c|'| a|yy|y|EEEE|E/g,a={G:"",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};n=n.replace(o,function(l){return a[""+l]})}return n}function Hte(r){if(r.enableAdaptiveUI)for(var e=document.getElementsByClassName("e-responsive-dialog"),t=0;t<e.length;t++)e[parseInt(t.toString(),10)].classList.add("e-bigger")}function xN(r,e){for(var t,i=r.split(".").length,n=r.split("."),s=e,o=0;o<i;o++)t=s[n[parseInt(o.toString(),10)]],s=t;return t}function Vte(r,e,t,i,n,s){for(var o=Object.keys(r),a=e,l=0;l<o.length;l++){var h=r[o[parseInt(l.toString(),10)]].querySelectorAll("td.e-rowcell")[parseInt(e.toString(),10)];if(n&&!n.isFrozenGrid()&&!n.isRowDragable()){if(h=!p(h)&&(parseInt(h.getAttribute("aria-colindex"),10)-1===e||he(h,"e-addedrow")&&h.parentElement.childNodes[parseInt(e.toString(),10)]===h)?h:r[parseInt(l.toString(),10)].querySelector('td[aria-colindex="'+(e+1)+'"]'),p(h))continue;e=n.getContentTable().querySelector(".e-detailrowcollapse, .e-detailrowexpand")?h.cellIndex-1:h.cellIndex}if(r[o[parseInt(l.toString(),10)]].querySelectorAll("td.e-rowcell").length&&h){if(Ci(r[o[parseInt(l.toString(),10)]].querySelectorAll("td.e-rowcell")[parseInt(e.toString(),10)],{display:t}),r[o[parseInt(l.toString(),10)]].querySelectorAll("td.e-rowcell")[parseInt(e.toString(),10)].classList.contains("e-hide")&&ue([r[o[parseInt(l.toString(),10)]].querySelectorAll("td.e-rowcell")[parseInt(e.toString(),10)]],["e-hide"]),s&&n.isRowDragable()||n&&n.isDetail()){var u=e+1;i[o[parseInt(l.toString(),10)]].cells[parseInt(u.toString(),10)].visible=t===""}else p(i[o[parseInt(l.toString(),10)]])||(i[o[parseInt(l.toString(),10)]].cells[parseInt(e.toString(),10)].visible=t==="",i[o[parseInt(l.toString(),10)]].cells[parseInt(e.toString(),10)].visible===!1&&r[o[parseInt(l.toString(),10)]].querySelectorAll("td.e-rowcell")[parseInt(e.toString(),10)].classList.add("e-hide"));e=a}}}function Nl(r,e,t,i){for(var n=0,s=e;n<s.length;n++){var o=s[n];t?r.on(o.event,o.handler,i):r.off(o.event,o.handler)}}function Qte(r,e){var t;r.columnModel||r.getColumns();for(var i=0,n=r.columnModel;i<n.length;i++){var s=n[i];if(s.field===e){t=s;break}}return t}function Ap(r,e,t){r.destroyTemplate(e,void 0,t),r.isReact&&r.renderTemplates()}function rg(r){for(var e=0;e<r.length;e++)ot(r[e])}function NN(r,e){for(var t=0;t<r.length;t++)e.insertBefore(r[t],e.children[t])}function sg(r,e){var t=Be("div",{className:"e-ftrchk"});t.style.visibility="hidden",t.innerHTML='<div class="e-checkbox-wrapper"><span class="e-frame e-icons e-check"></span><span class="e-label e-checkboxfiltertext">A</div></span>',r.appendChild(t);var i=t.getBoundingClientRect();r.removeChild(t);var n=Math.round(i.height);return n}function Ss(r,e,t){var i=r,n=e,s=!1;if(t)for(var o=n[0];o<i.length;o++)for(var a=i[parseInt(o.toString(),10)],l=0;l<a.length;l++){if(s&&i[parseInt(o.toString(),10)][parseInt(l.toString(),10)]===1)return n=[o,l],n;!s&&n.toString()===[o,l].toString()&&(s=!0)}else for(var o=n[0];o>=0;o--)for(var a=i[parseInt(o.toString(),10)],l=a.length-1;l>=0;l--){if(s&&i[parseInt(o.toString(),10)][parseInt(l.toString(),10)]===1)return n=[o,l],n;!s&&n.toString()===[o,l].toString()&&(s=!0)}return n}function vP(r){var e="isTreeGrid";if(r[""+e]){var t=r.getDataModule().dataManager.executeLocal(r.getDataModule().generateQuery(!0));return r.notify("partial-filter-update",{gridFiltered:t}),r.root.filterModule&&r.root.filterModule.filteredResult.length>0?r.root.filterModule.filteredResult:t}else return r.getDataModule().dataManager.executeLocal(r.getDataModule().generateQuery(!0))}var Ye={RTL:"e-rtl",DISABLE:"e-disabled",INPUT:"e-input",TEXTAREA:"e-multi-line-input",INPUTGROUP:"e-input-group",FLOATINPUT:"e-float-input",FLOATLINE:"e-float-line",FLOATTEXT:"e-float-text",FLOATTEXTCONTENT:"e-float-text-content",CLEARICON:"e-clear-icon",CLEARICONHIDE:"e-clear-icon-hide",LABELTOP:"e-label-top",LABELBOTTOM:"e-label-bottom",NOFLOATLABEL:"e-no-float-label",INPUTCUSTOMTAG:"e-input-custom-tag",FLOATCUSTOMTAG:"e-float-custom-tag"},AN=["title","style","class"],xt;(function(r){var e=!0;function t(R,_){R.element.__eventHandlers={};var de=p(_)?Be:_,Ie={container:null,buttons:[],clearButton:null};if(R.floatLabelType,e=R.bindClearAction,p(R.floatLabelType)||R.floatLabelType==="Never"?(Ie.container=O(R,Ye.INPUTGROUP,Ye.INPUTCUSTOMTAG,"span",de),R.element.parentNode.insertBefore(Ie.container,R.element),Z([R.element],Ye.INPUT),Ie.container.appendChild(R.element)):m(R,Ie,de),o(R),!p(R.properties)&&!p(R.properties.showClearButton)&&R.properties.showClearButton&&(pe(R.properties.showClearButton,R.element,Ie,!0,de),Ie.clearButton.setAttribute("role","button"),Ie.container.classList.contains(Ye.FLOATINPUT)&&Z([Ie.container],Ye.INPUTGROUP)),!p(R.buttons))for(var Ee=0;Ee<R.buttons.length;Ee++)Ie.buttons.push(Le(R.buttons[Ee],Ie.container,de));return!p(R.element)&&R.element.tagName==="TEXTAREA"&&Z([Ie.container],Ye.TEXTAREA),Ne(Ie.container,R.element),Ie=M(R,Ie),Fe(Ie.container,de),Ie}r.createInput=t;function i(R){var _=C(R.element);(_.classList.contains("e-input-group")||_.classList.contains("e-outline")||_.classList.contains("e-filled"))&&_.classList.add("e-input-focus"),R.floatLabelType!=="Never"&&setTimeout(function(){r.calculateWidth(R.element,_)},80)}function n(R){var _=C(R.element);(_.classList.contains("e-input-group")||_.classList.contains("e-outline")||_.classList.contains("e-filled"))&&_.classList.remove("e-input-focus"),R.floatLabelType!=="Never"&&setTimeout(function(){r.calculateWidth(R.element,_)},80)}function s(R){l(R.floatLabelType,R.element)}function o(R){l(R.floatLabelType,R.element);var _=function(){return i(R)},de=function(){return n(R)},Ie=function(){return s(R)};R.element.addEventListener("focus",_),R.element.addEventListener("blur",de),R.element.addEventListener("input",Ie),R.element.__eventHandlers.inputFocusHandler={focusHandler:_},R.element.__eventHandlers.inputBlurHandler={blurHandler:de},R.element.__eventHandlers.inputHandler={inputHandler:Ie}}r.bindInitialEvent=o;function a(R){if(!p(R.element)&&!p(R.element.__eventHandlers)&&!p(R.element.__eventHandlers.inputFocusHandler)&&!p(R.element.__eventHandlers.inputBlurHandler)&&!p(R.element.__eventHandlers.inputHandler)){var _=R.element.__eventHandlers.inputFocusHandler.focusHandler,de=R.element.__eventHandlers.inputBlurHandler.blurHandler,Ie=R.element.__eventHandlers.inputHandler.inputHandler;R.element.removeEventListener("focus",_),R.element.removeEventListener("blur",de),R.element.removeEventListener("input",Ie),delete R.element.__eventHandlers.inputFocusHandler,delete R.element.__eventHandlers.inputBlurHandler,delete R.element.__eventHandlers.inputHandler}}function l(R,_){var de=_.value,Ie=_.parentElement,Ee=Ie&&Ie.parentElement;de!==""&&!p(de)?Ie&&Ie.classList.contains("e-input-group")?Ie.classList.add("e-valid-input"):Ee&&Ee.classList.contains("e-input-group")&&Ee.classList.add("e-valid-input"):R!=="Always"&&(Ie&&Ie.classList.contains("e-input-group")?Ie.classList.remove("e-valid-input"):Ee&&Ee.classList.contains("e-input-group")&&Ee.classList.remove("e-valid-input"))}function h(){var R=C(this).getElementsByClassName("e-float-text")[0];p(R)||(Z([R],Ye.LABELTOP),R.classList.contains(Ye.LABELBOTTOM)&&ue([R],Ye.LABELBOTTOM))}function u(){var R=C(this);if(R.getElementsByTagName("textarea")[0]?R.getElementsByTagName("textarea")[0].value==="":R.getElementsByTagName("input")[0].value===""){var _=R.getElementsByClassName("e-float-text")[0];p(_)||(_.classList.contains(Ye.LABELTOP)&&ue([_],Ye.LABELTOP),Z([_],Ye.LABELBOTTOM))}}function c(R){R.addEventListener("focus",h),R.addEventListener("blur",u)}r.wireFloatingEvents=c;function d(R){p(R)||(R.removeEventListener("focus",h),R.removeEventListener("blur",u))}function f(R){w(R.element,R.floatLabelType)}function g(R){w(R.element,R.floatLabelType)}function m(R,_,de){var Ie=p(de)?Be:de;R.floatLabelType==="Auto"&&c(R.element),p(_.container)?(_.container=O(R,Ye.FLOATINPUT,Ye.FLOATCUSTOMTAG,"div",Ie),_.container.classList.add(Ye.INPUTGROUP),R.element.parentNode&&R.element.parentNode.insertBefore(_.container,R.element)):(p(R.customTag)||_.container.classList.add(Ye.FLOATCUSTOMTAG),_.container.classList.add(Ye.FLOATINPUT));var Ee=Ie("span",{className:Ye.FLOATLINE}),Ae=Ie("label",{className:Ye.FLOATTEXT});if(!p(R.element.id)&&R.element.id!==""&&(Ae.id="label_"+R.element.id.replace(/ /g,"_"),Et(R.element,{"aria-labelledby":Ae.id})),!p(R.element.placeholder)&&R.element.placeholder!==""&&(Ae.innerText=L(R.element.placeholder),R.element.removeAttribute("placeholder")),!p(R.properties)&&!p(R.properties.placeholder)&&R.properties.placeholder!==""&&(Ae.innerText=L(R.properties.placeholder)),Ae.innerText||_.container.classList.add(Ye.NOFLOATLABEL),_.container.classList.contains("e-float-icon-left")){var ht=_.container.querySelector(".e-input-in-wrap");ht.appendChild(R.element),ht.appendChild(Ee),ht.appendChild(Ae)}else _.container.appendChild(R.element),_.container.appendChild(Ee),_.container.appendChild(Ae);if(b(R.element.value,Ae),R.floatLabelType==="Always"&&(Ae.classList.contains(Ye.LABELBOTTOM)&&ue([Ae],Ye.LABELBOTTOM),Z([Ae],Ye.LABELTOP)),R.floatLabelType==="Auto"){var vi=function(){return f(R)},wt=function(){return g(R)};R.element.addEventListener("input",vi),R.element.addEventListener("blur",wt),R.element.__eventHandlers.floatInputHandler={inputFloatHandler:vi},R.element.__eventHandlers.floatBlurHandler={blurFloatHandler:wt}}else y(R);p(R.element.getAttribute("id"))||Ae.setAttribute("for",R.element.getAttribute("id"))}function y(R){if(!p(R.element)&&!p(R.element.__eventHandlers)&&!p(R.element.__eventHandlers.floatInputHandler)&&!p(R.element.__eventHandlers.floatBlurHandler)){var _=R.element.__eventHandlers.floatInputHandler.inputFloatHandler,de=R.element.__eventHandlers.floatBlurHandler.blurFloatHandler;R.element.removeEventListener("input",_),R.element.removeEventListener("blur",de),delete R.element.__eventHandlers.floatInputHandler,delete R.element.__eventHandlers.floatBlurHandler}}function v(R,_){R==="Always"&&_.classList.contains("e-outline")&&_.classList.add("e-valid-input")}function M(R,_){if(!p(R.properties))for(var de=0,Ie=Object.keys(R.properties);de<Ie.length;de++){var Ee=Ie[de];switch(Ee){case"cssClass":V(R.properties.cssClass,[_.container]),v(R.floatLabelType,_.container);break;case"enabled":me(R.properties.enabled,R.element,R.floatLabelType,_.container);break;case"enableRtl":le(R.properties.enableRtl,[_.container]);break;case"placeholder":J(R.properties.placeholder,R.element);break;case"readonly":K(R.properties.readonly,R.element);break}}return _}function S(R,_,de){p(_)||(R&&!de?ue([_],Ye.CLEARICONHIDE):Z([_],Ye.CLEARICONHIDE))}function b(R,_,de){if(de===void 0&&(de=null),R)Z([_],Ye.LABELTOP),_.classList.contains(Ye.LABELBOTTOM)&&ue([_],Ye.LABELBOTTOM);else{var Ie=de!=null?de!==document.activeElement:!0;Ie&&(_.classList.contains(Ye.LABELTOP)&&ue([_],Ye.LABELTOP),Z([_],Ye.LABELBOTTOM))}}function C(R){var _=p(R.parentNode)?R:R.parentNode;return _&&_.classList.contains("e-input-in-wrap")&&(_=_.parentNode),_}function T(R,_,de,Ie){var Ee=p(Ie)?Be:Ie,Ae=Ee("span",{className:Ye.CLEARICON}),ht=_.container;if(!p(de))ht.appendChild(Ae);else{var vi=_.container.classList.contains(Ye.FLOATINPUT)?_.container.querySelector("."+Ye.FLOATTEXT):R;vi.insertAdjacentElement("afterend",Ae)}return Z([Ae],Ye.CLEARICONHIDE),x(R,Ae),Ae.setAttribute("aria-label","close"),Ae}function k(R,_,de){_.classList.contains(Ye.DISABLE)||_.readOnly||(R.preventDefault(),_!==document.activeElement&&_.focus(),_.value="",Z([de],Ye.CLEARICONHIDE))}function N(R,_){S(R.value,_)}function A(R,_){S(R.value,_,R.readOnly)}function E(R,_){setTimeout(function(){p(_)||(Z([_],Ye.CLEARICONHIDE),_=!p(R)&&R.classList.contains("e-combobox")?null:_)},200)}function x(R,_,de){if(e===void 0||e){var Ie=function(vi){return k(vi,R,_)};_.addEventListener("click",Ie),R.__eventHandlers.clearClickHandler={clickHandlerEvent:Ie}}var Ee=function(){return N(R,_)},Ae=function(){return A(R,_)},ht=function(){return E(R,_)};R.addEventListener("input",Ee),R.addEventListener("focus",Ae),R.addEventListener("blur",ht),R.__eventHandlers.clearInputHandler={inputHandlerEvent:Ee},R.__eventHandlers.clearFocusHandler={focusHandlerEvent:Ae},R.__eventHandlers.clearBlurHandler={blurHandlerEvent:ht}}r.wireClearBtnEvents=x;function D(R,_){if(!p(R)&&!p(R.__eventHandlers)){if(!p(R.__eventHandlers.clearClickHandler)){var de=R.__eventHandlers.clearClickHandler.clickHandlerEvent;(e===void 0||e)&&(p(_)||_.removeEventListener("click",de)),delete R.__eventHandlers.clearClickHandler}if(!p(R.__eventHandlers.clearInputHandler)&&!p(R.__eventHandlers.clearFocusHandler)&&!p(R.__eventHandlers.clearBlurHandler)){var Ie=R.__eventHandlers.clearInputHandler.inputHandlerEvent,Ee=R.__eventHandlers.clearFocusHandler.focusHandlerEvent,Ae=R.__eventHandlers.clearBlurHandler.blurHandlerEvent;R.removeEventListener("input",Ie),R.removeEventListener("focus",Ee),R.removeEventListener("blur",Ae),delete R.__eventHandlers.clearInputHandler,delete R.__eventHandlers.clearFocusHandler,delete R.__eventHandlers.clearBlurHandler}}}function z(R,_){_===void 0&&(_=null),a(R),R.floatLabelType==="Auto"&&y(R),R.properties.showClearButton&&D(R.element,_),p(R.buttons)||U(!1,null,R.buttons),d(R.element),p(R.element)||(delete R.element.__eventHandlers,R.element.classList.contains(Ye.INPUT)&&R.element.classList.remove(Ye.INPUT))}r.destroy=z;function w(R,_){var de=C(R);if(de.classList.contains(Ye.FLOATINPUT)&&_==="Auto"){var Ie=C(R).getElementsByClassName("e-float-text")[0];b(R.value,Ie,R)}}function O(R,_,de,Ie,Ee){var Ae=p(Ee)?Be:Ee,ht;return p(R.customTag)?ht=Ae(Ie,{className:_}):(ht=Ae(R.customTag,{className:_}),ht.classList.add(de)),ht.classList.add("e-control-wrapper"),ht}function L(R){if(R==null||R==="")return"";var _=j(R);return _}function j(R){var _={"&amp;":"&","&quot;":'"',"&#39;":"'","&lt;":"<","&gt;":">","&eacute;":""};return R.replace(/&[a-zA-Z#0-9]+;/g,function(de){return _[de]||de})}function B(R,_,de,Ie){if(_.value=R,de!=="Never"&&ee(_,_.parentElement),!p(de)&&de==="Auto"&&w(_,de),!p(Ie)&&Ie){var Ee=C(_);if(!p(Ee)){var Ae=Ee.getElementsByClassName(Ye.CLEARICON)[0];p(Ae)||(_.value&&!p(Ee)&&Ee.classList.contains("e-input-focus")?ue([Ae],Ye.CLEARICONHIDE):Z([Ae],Ye.CLEARICONHIDE))}}l(de,_)}r.setValue=B;function V(R,_,de){!p(de)&&de!==""&&ue(_,de.split(" ")),!p(R)&&R!==""&&Z(_,R.split(" "))}r.setCssClass=V;function ee(R,_,de){if(!(de!=="multiselect"&&!ae(R))){var Ie=de==="multiselect"?R:R.clientWidth-parseInt(getComputedStyle(R,null).getPropertyValue("padding-left"),10);!p(_)&&!p(_.getElementsByClassName("e-float-text-content")[0])&&(_.getElementsByClassName("e-float-text-content")[0].classList.contains("e-float-text-overflow")&&_.getElementsByClassName("e-float-text-content")[0].classList.remove("e-float-text-overflow"),(Ie<_.getElementsByClassName("e-float-text-content")[0].clientWidth||Ie===_.getElementsByClassName("e-float-text-content")[0].clientWidth)&&_.getElementsByClassName("e-float-text-content")[0].classList.add("e-float-text-overflow"))}}r.calculateWidth=ee;function W(R,_){typeof R=="number"?_.style.width=mt(R):typeof R=="string"&&(_.style.width=R.match(/px|%|em/)?R:mt(R)),ee(_.firstChild,_)}r.setWidth=W;function J(R,_){R=L(R);var de=C(_);if(de.classList.contains(Ye.FLOATINPUT))if(!p(R)&&R!==""){var Ie=de.getElementsByClassName("e-float-text-content")[0];if(Ie&&Ie.children[0])Ie.children[0].textContent=R;else{var Ee=de.getElementsByClassName(Ye.FLOATTEXT)[0];p(Ee)||(Ee.textContent=R)}de.classList.remove(Ye.NOFLOATLABEL),_.removeAttribute("placeholder")}else{de.classList.add(Ye.NOFLOATLABEL);var Ie=de.getElementsByClassName("e-float-text-content")[0];if(Ie&&Ie.children[0])Ie.children[0].textContent="";else{var Ee=de.getElementsByClassName(Ye.FLOATTEXT)[0];p(Ee)||(Ee.textContent="")}}else!p(R)&&R!==""?Et(_,{placeholder:R}):_.removeAttribute("placeholder")}r.setPlaceholder=J;function K(R,_,de){R?Et(_,{readonly:""}):_.removeAttribute("readonly"),p(de)||w(_,de)}r.setReadonly=K;function le(R,_){R?Z(_,Ye.RTL):ue(_,Ye.RTL)}r.setEnableRtl=le;function me(R,_,de,Ie){var Ee={disabled:"","aria-disabled":"true"},Ae=!p(Ie);R?(_.classList.remove(Ye.DISABLE),P(Ee,_),Ae&&ue([Ie],Ye.DISABLE)):(_.classList.add(Ye.DISABLE),ve(Ee,_),Ae&&Z([Ie],Ye.DISABLE)),p(de)||w(_,de)}r.setEnabled=me;function pe(R,_,de,Ie,Ee){var Ae=p(Ee)?Be:Ee;R?de.clearButton=T(_,de,Ie,Ae):(ot(de.clearButton),de.clearButton=null)}r.setClearButton=pe;function P(R,_){for(var de=0,Ie=Object.keys(R);de<Ie.length;de++){var Ee=Ie[de],Ae=C(_);Ee==="disabled"&&_.classList.remove(Ye.DISABLE),Ee==="disabled"&&Ae.classList.contains(Ye.INPUTGROUP)&&Ae.classList.remove(Ye.DISABLE),Ee==="placeholder"&&Ae.classList.contains(Ye.FLOATINPUT)?Ae.getElementsByClassName(Ye.FLOATTEXT)[0].textContent="":_.removeAttribute(Ee)}}r.removeAttributes=P;function ve(R,_){for(var de=0,Ie=Object.keys(R);de<Ie.length;de++){var Ee=Ie[de],Ae=C(_);Ee==="disabled"&&_.classList.add(Ye.DISABLE),Ee==="disabled"&&Ae.classList.contains(Ye.INPUTGROUP)&&Ae.classList.add(Ye.DISABLE),Ee==="placeholder"&&Ae.classList.contains(Ye.FLOATINPUT)?Ae.getElementsByClassName(Ye.FLOATTEXT)[0].textContent=R[""+Ee]:_.setAttribute(Ee,R[""+Ee])}}r.addAttributes=ve;function X(R){var _=R.container;if(!p(_)&&_.classList.contains(Ye.FLOATINPUT)){var de=_.querySelector("textarea")?_.querySelector("textarea"):_.querySelector("input"),Ie=_.querySelector("."+Ye.FLOATTEXT).textContent,Ee=_.querySelector(".e-clear-icon")!==null;bt(_.querySelector("."+Ye.FLOATLINE)),bt(_.querySelector("."+Ye.FLOATTEXT)),Ki(_,[Ye.INPUTGROUP],[Ye.FLOATINPUT]),d(de),Et(de,{placeholder:Ie}),de.classList.add(Ye.INPUT),!Ee&&de.tagName==="INPUT"&&de.removeAttribute("required")}}r.removeFloating=X;function De(R,_,de,Ie){var Ee=p(Ie)?Be:Ie,Ae=xe(R,"."+Ye.INPUTGROUP),ht=Ae.tagName;ht=ht!=="DIV"&&ht!=="SPAN"?ht:null;var vi={element:R,floatLabelType:_,customTag:ht,properties:{placeholder:de}};if(_!=="Never"){var wt=Ae.querySelector(".e-clear-icon"),Yt={container:Ae};R.classList.remove(Ye.INPUT),m(vi,Yt,Ee),Fe(Yt.container,Ee),ee(vi.element,Yt.container);var ge=Ae.classList.contains("e-float-icon-left");if(p(wt))if(ge){var ke=Ae.querySelector(".e-input-in-wrap");wt=ke.querySelector(".e-input-group-icon")}else wt=Ae.querySelector(".e-input-group-icon");if(p(wt))ge&&(wt=Ae.querySelector(".e-input-group-icon"));else{var ut=Ae.querySelector("."+Ye.FLOATLINE),Ii=Ae.querySelector("."+Ye.FLOATTEXT),Ri=ge?Ae.querySelector(".e-input-in-wrap"):Ae;Ri.insertBefore(R,wt),Ri.insertBefore(ut,wt),Ri.insertBefore(Ii,wt)}}else y(vi);v(_,R.parentElement)}r.addFloating=De;function Fe(R,_){if(R.classList.contains("e-outline")&&R.getElementsByClassName("e-float-text")[0]){var de=_("span",{className:Ye.FLOATTEXTCONTENT});de.innerHTML=R.getElementsByClassName("e-float-text")[0].innerHTML,R.getElementsByClassName("e-float-text")[0].innerHTML="",R.getElementsByClassName("e-float-text")[0].appendChild(de)}}r.createSpanElement=Fe;function Re(R,_){for(var de=0;de<_.length;de++)U(R,_[parseInt(de.toString(),10)].container)}r.setRipple=Re;function U(R,_,de){var Ie=[];Ie.push(de);var Ee=p(de)?_.querySelectorAll(".e-input-group-icon"):Ie;if(R&&Ee.length>0)for(var Ae=0;Ae<Ee.length;Ae++)Ee[parseInt(Ae.toString(),10)].addEventListener("mousedown",we,!1),Ee[parseInt(Ae.toString(),10)].addEventListener("mouseup",se,!1);else if(Ee.length>0)for(var Ae=0;Ae<Ee.length;Ae++)Ee[parseInt(Ae.toString(),10)].removeEventListener("mousedown",we,this),Ee[parseInt(Ae.toString(),10)].removeEventListener("mouseup",se,this)}function Y(R,_){!R.classList.contains("e-disabled")&&!R.querySelector("input").readOnly&&_.classList.add("e-input-btn-ripple")}function ae(R){if(!R)return!1;for(var _=R;_&&_!==document.body;){var de=window.getComputedStyle(_);if(de.display==="none")return!1;_=_.parentElement}return!0}function we(){for(var R=this,_=this.parentElement;!_.classList.contains("e-input-group");)_=_.parentElement;Y(_,R)}function se(){var R=this;setTimeout(function(){R.classList.remove("e-input-btn-ripple")},500)}function Me(R,_){var de=_("span",{className:R});return de.classList.add("e-input-group-icon"),de}function ze(R,_,de,Ie,Ee){var Ae=typeof _=="string"?_.split(","):_;if(R.toLowerCase()==="append")for(var ht=0,vi=Ae;ht<vi.length;ht++){var wt=vi[ht];Le(wt,de,Ee)}else for(var Yt=0,ge=Ae;Yt<ge.length;Yt++){var wt=ge[Yt];Te(wt,de,Ie,Ee)}de.getElementsByClassName("e-input-group-icon")[0]&&de.getElementsByClassName("e-float-text-overflow")[0]&&de.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon")}r.addIcon=ze;function Te(R,_,de,Ie){var Ee=p(Ie)?Be:Ie,Ae=Me(R,Ee);_.classList.add("e-float-icon-left");var ht=_.querySelector(".e-input-in-wrap");if(p(ht)){ht=Ee("span",{className:"e-input-in-wrap"}),de.parentNode.insertBefore(ht,de);var vi=_.querySelectorAll(de.tagName+" ~ *");ht.appendChild(de);for(var wt=0;wt<vi.length;wt++){var Yt=vi[parseInt(wt.toString(),10)],ge=ht.parentElement;(!Yt.classList.contains("e-float-line")||!(ge&&ge.classList.contains("e-filled"))&&ge)&&ht.appendChild(Yt)}}return ht.parentNode.insertBefore(Ae,ht),U(!0,_,Ae),Ae}r.prependSpan=Te;function Le(R,_,de){var Ie=p(de)?Be:de,Ee=Me(R,Ie),Ae=_.classList.contains("e-float-icon-left")?_.querySelector(".e-input-in-wrap"):_;return Ae.appendChild(Ee),U(!0,_,Ee),Ee}r.appendSpan=Le;function Ne(R,_){_.type==="hidden"?R.classList.add("e-hidden"):R.classList.contains("e-hidden")&&R.classList.remove("e-hidden")}r.validateInputType=Ne;function qe(R,_){if(!p(R))for(var de=0,Ie=Object.keys(R);de<Ie.length;de++){var Ee=Ie[de];AN.indexOf(Ee)<0&&_.setAttribute(Ee,R[""+Ee])}}r.updateHTMLAttributesToElement=qe;function je(R,_,de){V(Qe(R),[de],Qe(_))}r.updateCssClass=je;function Qe(R){var _=R;return!p(R)&&R!==""&&(_=R.replace(/\s+/g," ").trim()),_}r.getInputValidClassList=Qe;function at(R,_){if(!p(R))for(var de=0,Ie=Object.keys(R);de<Ie.length;de++){var Ee=Ie[de];if(AN.indexOf(Ee)>-1)if(Ee==="class"){var Ae=this.getInputValidClassList(R[""+Ee]);Ae!==""&&Z([_],Ae.split(" "))}else if(Ee==="style"){var ht=_.getAttribute(Ee);ht=p(ht)?R[""+Ee]:ht+R[""+Ee],_.setAttribute(Ee,ht)}else _.setAttribute(Ee,R[""+Ee])}}r.updateHTMLAttributesToWrapper=at;function dt(R){return!R||/^\s*$/.test(R)}r.isBlank=dt})(xt||(xt={}));var EN=function(){function r(e){this.searchInputArgs=null,this.queryFilteredColumn=[],this.existingPredicate={},this.foreignKeyQuery=new He,this.filterState=!0,this.values={},this.renderEmpty=!1,this.isCheckboxFilterTemplate=!1,this.infiniteRenderMod=!1,this.infiniteInitialLoad=!1,this.infiniteSearchValChange=!1,this.infinitePermenantLocalData=[],this.infiniteQueryExecutionPending=!1,this.infiniteSkipCnt=0,this.infiniteScrollAppendDiff=0,this.prevInfiniteScrollDirection="",this.infiniteLoadedElem=[],this.infiniteDataCount=0,this.infiniteLocalSelectAll=!0,this.localInfiniteSelectAllClicked=!1,this.localInfiniteSelectionInteracted=!1,this.infiniteManualSelectMaintainPred=[],this.parent=e,this.id=this.parent.element.id,this.valueFormatter=new df(this.parent.locale),this.cBoxTrue=Kh(this.parent.createElement,!1,{checked:!0,label:" "}),this.cBoxFalse=Kh(this.parent.createElement,!1,{checked:!1,label:" "}),this.cBoxTrue.insertBefore(this.parent.createElement("input",{className:"e-chk-hidden",attrs:{type:"checkbox"}}),this.cBoxTrue.firstChild),this.cBoxFalse.insertBefore(this.parent.createElement("input",{className:"e-chk-hidden",attrs:{type:"checkbox"}}),this.cBoxFalse.firstChild),this.cBoxFalse.querySelector(".e-frame").classList.add("e-uncheck"),this.parent.enableRtl&&Z([this.cBoxTrue,this.cBoxFalse],["e-rtl"]),this.parent.cssClass&&(this.parent.cssClass.indexOf(" ")!==-1?Z([this.cBoxTrue,this.cBoxFalse],this.parent.cssClass.split(" ")):Z([this.cBoxTrue,this.cBoxFalse],[this.parent.cssClass]))}return r.prototype.destroy=function(){this.closeDialog()},r.prototype.wireEvents=function(){F.add(this.dlg,"click",this.clickHandler,this),F.add(this.dlg,"keyup",this.keyupHandler,this),this.searchHandler=FR(this.searchBoxKeyUp,200);var e=this.dialogObj.element.querySelector(".e-searchinput");e&&(F.add(e,"keyup",this.searchHandler,this),F.add(e,"input",this.searchHandler,this))},r.prototype.unWireEvents=function(){F.remove(this.dlg,"click",this.clickHandler),F.remove(this.dlg,"keyup",this.keyupHandler);var e=this.dialogObj.element.querySelector(".e-searchinput");e&&(F.remove(e,"keyup",this.searchHandler),F.remove(e,"input",this.searchHandler))},r.prototype.foreignKeyFilter=function(e,t,i){var n=this,s={},o=[],a=this.foreignKeyQuery.clone();this.options.column.dataSource.executeQuery(a.where(i)).then(function(l){n.options.column.columnData=l.result,n.parent.notify(Rg,{predicate:s,column:n.options.column}),e.ejpredicate=s.predicate.predicates;for(var h=s.predicate.predicates,u=0;u<h.length;u++)o.push({field:h[parseInt(u.toString(),10)].field,predicate:"or",matchCase:h[parseInt(u.toString(),10)].ignoreCase,ignoreAccent:h[parseInt(u.toString(),10)].ignoreAccent,operator:h[parseInt(u.toString(),10)].operator,value:h[parseInt(u.toString(),10)].value,type:n.options.type});e.filterCollection=o.length?o:t.filter(function(c){return c.field=n.options.field}),n.options.handler(e)})},r.prototype.searchBoxClick=function(e){var t=e.target;t.classList.contains("e-searchclear")&&(this.sInput.value=t.classList.contains("e-chkcancel-icon")?"":this.sInput.value,this.isCheckboxFilterTemplate?this.parent.notify("refreshCheckbox",{event:e}):this.refreshCheckboxes(),this.updateSearchIcon(),this.sInput.focus())},r.prototype.searchBoxKeyUp=function(e){p(this.sInput)||(p(e)||e.key!=="ArrowUp"&&e.key!=="ArrowDown"&&e.key!=="Tab"&&!(e.key==="Tab"&&e.shiftKey))&&(!p(this.parent.loadingIndicator)&&this.parent.loadingIndicator.indicatorType==="Shimmer"&&this.parent.showMaskRow(void 0,this.dialogObj.element),this.isCheckboxFilterTemplate?this.parent.notify("refreshCheckbox",{event:e}):this.refreshCheckboxes(),this.updateSearchIcon())},r.prototype.updateSearchIcon=function(){this.sInput.value.length?(Ki(this.sIcon,["e-chkcancel-icon"],["e-search-icon"]),p(document.body.querySelector(".e-chkcancel-icon"))||document.body.querySelector(".e-chkcancel-icon").setAttribute("title",this.localeObj.getConstant("Clear"))):(Ki(this.sIcon,["e-search-icon"],["e-chkcancel-icon"]),p(document.body.querySelector(".e-searchclear.e-search-icon"))||document.body.querySelector(".e-searchclear.e-search-icon").setAttribute("title",this.localeObj.getConstant("Search")))},r.prototype.getLocalizedLabel=function(e){return this.localeObj.getConstant(e)},r.prototype.updateDataSource=function(){var e=this.options.dataSource,t="object";if(!(e instanceof fe)){for(var i=0;i<e.length;i++)if(typeof e!==t){var n={};n[this.options.field]=e[parseInt(i.toString(),10)],e[parseInt(i.toString(),10)]=n}}},r.prototype.updateModel=function(e){this.options=e,this.existingPredicate=e.actualPredicate||{},this.options.dataSource=e.dataSource,this.options.dataManager=e.dataManager?e.dataManager:e.dataSource,this.updateDataSource(),this.options.type=e.type,this.options.format=e.format||"",this.options.ignoreAccent=e.ignoreAccent||!1,this.options.filteredColumns=e.filteredColumns||this.parent.filterSettings.columns,this.options.query=e.query||new He,this.options.allowCaseSensitive=e.allowCaseSensitive||!1,this.options.uid=e.column.uid,this.options.disableHtmlEncode=e.column.disableHtmlEncode||!1,this.values={},this.localeObj=e.localeObj,this.isFiltered=e.filteredColumns.length,this.infiniteRenderMod=!!(this.parent.filterSettings&&this.parent.filterSettings.enableInfiniteScrolling),this.infiniteUnloadParentExistPred=this.infiniteRenderMod&&this.existingPredicate[this.options.column.field]?this.existingPredicate[this.options.column.field].slice():[]},r.prototype.getAndSetChkElem=function(e){return this.dlg=this.parent.createElement("div",{id:this.id+this.options.type+"_excelDlg",attrs:{"data-uid":this.options.column.uid},className:"e-checkboxfilter e-filter-popup"}),this.sBox=this.parent.createElement("div",{className:"e-searchcontainer"}),e.hideSearchbox||(this.sInput=this.parent.createElement("input",{id:this.id+"_SearchBox",className:"e-searchinput"}),this.sIcon=this.parent.createElement("span",{className:"e-searchclear e-search-icon e-icons e-input-group-icon",attrs:{type:"text",title:this.getLocalizedLabel("Search")}}),this.searchBox=this.parent.createElement("span",{className:"e-searchbox e-fields"}),this.searchBox.appendChild(this.sInput),this.sBox.appendChild(this.searchBox),this.searchInputArgs={element:this.sInput,floatLabelType:"Never",properties:{placeholder:this.getLocalizedLabel("Search"),cssClass:this.parent.cssClass}},xt.createInput(this.searchInputArgs,this.parent.createElement),this.searchBox.querySelector(".e-input-group").appendChild(this.sIcon)),this.spinner=this.parent.createElement("div",{className:"e-spinner"}),this.cBox=this.parent.createElement("div",{id:this.id+this.options.type+"_CheckBoxList",className:"e-checkboxlist e-fields"}),this.spinner.appendChild(this.cBox),this.sBox.appendChild(this.spinner),this.sBox},r.prototype.showDialog=function(e){var t={requestType:KZ,columnName:this.options.field,columnType:this.options.type,cancel:!1},i="filterModel";if(t[""+i]=this,this.parent.notify(SX,t),t.cancel){e.cancel=t.cancel;return}this.dialogObj=new XI({visible:!1,content:this.sBox,close:this.closeDialog.bind(this),enableRtl:this.parent.enableRtl,width:!p(he(e.target,"e-bigger"))||this.parent.element.classList.contains("e-device")?260:255,target:this.parent.element,animationSettings:{effect:"None"},buttons:[{click:this.btnClick.bind(this),buttonModel:{content:this.getLocalizedLabel(this.isExcel?"OKButton":"FilterButton"),cssClass:this.parent.cssClass?"e-primary "+this.parent.cssClass:"e-primary",isPrimary:!0}},{click:this.btnClick.bind(this),buttonModel:{cssClass:this.parent.cssClass?"e-flat "+this.parent.cssClass:"e-flat",content:this.getLocalizedLabel(this.isExcel?"CancelButton":"ClearButton")}}],created:this.dialogCreated.bind(this),open:this.dialogOpen.bind(this),cssClass:this.parent.cssClass?this.parent.cssClass:""});var n="isStringTemplate";this.dialogObj[""+n]=!0,this.renderResponsiveFilter(e);var s=this.parent.filterSettings&&this.parent.filterSettings.type==="CheckBox"?this.getLocalizedLabel("CheckBoxFilterDialogARIA"):this.getLocalizedLabel("ExcelFilterDialogARIA");if(this.dlg.setAttribute("aria-label",s),e.isResponsiveFilter){var o=document.querySelector(".e-responsive-dialog > .e-dlg-content > .e-mainfilterdiv");o.appendChild(this.dlg)}else this.parent.element.appendChild(this.dlg);this.dialogObj.appendTo(this.dlg),this.dialogObj.element.style.maxHeight=e.isResponsiveFilter?"none":this.options.height+"px",this.dialogObj.show(),this.parent&&this.parent.filterSettings&&(this.parent.filterSettings.type==="CheckBox"||this.options.column&&this.options.column.filter&&this.options.column.filter.type==="CheckBox")&&this.parent.getContent().firstElementChild.offsetHeight<this.dialogObj.element.offsetHeight&&!he(this.parent.element,"e-gantt-dialog")&&Fte(this.parent,this.dialogObj);var a=this.dialogObj.element.querySelector(".e-dlg-content");if(a.appendChild(this.sBox),this.wireEvents(),!this.parent.enableAdaptiveUI)!p(this.parent.loadingIndicator)&&this.parent.loadingIndicator.indicatorType==="Shimmer"&&!this.infiniteRenderMod&&this.parent.showMaskRow(void 0,this.dialogObj.element),this.infiniteRenderMod&&this.parent.filterSettings&&this.parent.filterSettings.loadingIndicator==="Shimmer"&&this.showMask();else{if(this.infiniteRenderMod&&this.parent.filterSettings&&this.parent.filterSettings.loadingIndicator==="Shimmer"){this.getAllData();return}this.infiniteRenderMod&&(this.cBox.style.marginTop=sg(this.cBox)+"px")}this.infiniteRenderMod&&this.parent.filterSettings&&this.parent.filterSettings.loadingIndicator==="Shimmer"||(Jh({target:this.spinner,cssClass:this.parent.cssClass?this.parent.cssClass:null},this.parent.createElement),oo(this.spinner)),this.getAllData()},r.prototype.renderResponsiveFilter=function(e){e.isResponsiveFilter&&(this.dialogObj.buttons=[{}],this.dialogObj.position={X:"",Y:""},this.dialogObj.target=document.querySelector(".e-resfilter > .e-dlg-content > .e-mainfilterdiv"),this.dialogObj.width="100%")},r.prototype.dialogCreated=function(e){this.options.isResponsiveFilter?this.dialogObj.element.style.left="0px":ne.isDevice?this.dialogObj.position={X:"center",Y:"center"}:wte(this.options.target,this.dialogObj,this.parent),this.options.column.showColumnMenu&&this.parent.notify(cX,e)},r.prototype.openDialog=function(e){this.updateModel(e),this.getAndSetChkElem(e),this.showDialog(e)},r.prototype.closeDialog=function(){if(this.infiniteRenderMod&&this.infinitePermenantLocalData.length&&!this.options.isRemote&&(this.options.dataSource.dataSource.json=this.infinitePermenantLocalData),this.dialogObj&&!this.dialogObj.isDestroyed){this.isBlanks=!1;var e=this.options.columns.filter(function(n){return n.getFilterItemTemplate()}),t=this.parent.registeredTemplate;if(e.length&&!p(t)&&t.filterItemTemplate&&this.parent.destroyTemplate(["filterItemTemplate"]),(this.parent.isReact||this.parent.isVue)&&this.parent.destroyTemplate!==void 0&&Ap(this.parent,["filterItemTemplate"]),this.parent.notify(dX,{field:this.options.field}),this.unWireEvents(),this.searchInputArgs&&this.searchInputArgs.element&&this.searchInputArgs.element.parentElement&&(xt.destroy(this.searchInputArgs),ot(this.searchInputArgs.element)),this.searchInputArgs=null,this.sInput=null,this.parent.isReact&&this.options.column.filter&&typeof this.options.column.filter.itemTemplate!="string"&&(this.options.column.filter.type==="CheckBox"||this.options.column.filter.type==="Excel")&&(this.dialogObj.element.querySelector(".e-dlg-content").innerHTML=""),this.dialogObj.destroy(),this.dialogObj.dlgClosedBy==="escape"&&(this.parent.isColumnMenuFilterClosing=!0),this.dlg&&this.dlg.parentElement&&(ot(this.dlg),!(this.parent&&this.parent.showColumnChooser))){var i=document.getElementById(this.parent.element.id+"_e-popup");p(i)||(ot(i),i=null)}this.dlg=null,this.parent.notify(qj,{})}},r.prototype.clearFilter=function(e){var t={instance:this,handler:this.clearFilter,cancel:!1};this.parent.notify(yN,t),!t.cancel&&this.options.handler({action:"clear-filter",field:e?e.field:this.options.field})},r.prototype.btnClick=function(e){if(this.filterState){if(e.target.tagName.toLowerCase()==="input"&&e.target.classList.contains("e-searchinput")||e.keyCode===13)this.isCheckboxFilterTemplate||this.fltrBtnHandler();else{var t=e.target.firstChild.textContent.toLowerCase();this.getLocalizedLabel(this.isExcel?"OKButton":"FilterButton").toLowerCase()===t?this.isCheckboxFilterTemplate||this.fltrBtnHandler():this.getLocalizedLabel("ClearButton").toLowerCase()===t&&this.clearFilter()}this.closeDialog()}else e.target&&e.target.firstChild&&e.target.firstChild.textContent.toLowerCase()===this.getLocalizedLabel("CancelButton").toLowerCase()?this.closeDialog():e.target.tagName.toLowerCase()!=="input"&&(this.clearFilter(),this.closeDialog());this.options.column.showColumnMenu&&this.parent.notify(nee,{}),p(this.parent.focusModule)||this.parent.focusModule.filterfocus()},r.prototype.fltrBtnHandler=function(){var e=this;this.infiniteRenderMod&&(this.cBox.innerHTML="",tr(this.cBox,this.infiniteLoadedElem.slice()));var t=[].slice.call(this.cBox.querySelectorAll(".e-check:not(.e-selectall):not(.e-add-current)")),i=t,n="equal",s=this.dialogObj.element.querySelector(".e-dropdownlist");s&&(this.options.operator=n=s.ej2_instances[0].value),this.isMenuNotEqual=this.options.operator==="notequal";var o;this.options.hideSearchbox||(o=this.searchBox.querySelector(".e-searchinput"));var a=this.options.allowCaseSensitive,l={field:this.options.field,predicate:this.isMenuNotEqual?"and":"or",uid:this.options.uid,operator:n,type:this.options.type,matchCase:a,ignoreAccent:this.options.ignoreAccent},h=this.itemsCnt!==t.length&&this.itemsCnt-t.length<t.length,u=this.infiniteRenderMod?this.sBox.querySelector(".e-add-current"):this.cBox.querySelector(".e-add-current"),c=this.infiniteRenderMod?this.sBox.querySelector(".e-selectall"):this.cBox.querySelector(".e-selectall"),d=o&&o.value!==""&&u&&c&&u.classList.contains("e-check")&&c.classList.contains("e-stop"),f=this.existingPredicate&&this.existingPredicate[this.options.field];d&&(h=!(f&&f.length)),h&&o&&(o.value===""||d)&&(n=this.isMenuNotEqual?"equal":"notequal",t=[].slice.call(this.cBox.querySelectorAll(".e-uncheck:not(.e-selectall)")),l.predicate=this.isMenuNotEqual?"or":"and",l.operator=n);var g,m,y=[];if(t.length!==this.itemsCnt||o&&o.value&&o.value!==""||this.infiniteRenderMod){if(this.infiniteRenderMod)this.infiniteRenderMod&&(!this.infiniteSearchPred||this.infiniteSearchPred&&!this.infiniteSearchPred.isComplex)?this.infiniteFltrBtnHandler(y):this.infiniteSearchPred.isComplex&&(y=this.complexQueryPredicate(t,l,h));else{if(y=this.complexQueryPredicate(t,l,h),p(y))return;y=this.filterPreventColumns?this.filterPreventColumns:y}if((this.options.type==="date"||this.options.type==="dateonly"||this.options.type==="datetime")&&i.length&&(m=i.length-1,g=this.values[he(i[parseInt(m.toString(),10)],"e-ftrchk").getAttribute("data-uid")],p(g)&&h&&y.push({field:l.field,matchCase:l.matchCase,operator:"equal",predicate:"or",value:null})),u&&u.classList.contains("e-check")){if(f)for(var v=function(b){y.some(function(C){return C.value===f[parseInt(b.toString(),10)].value})||y.push(f[parseInt(b.toString(),10)])},M=0;M<f.length;M++)v(M);else if(!d)return}if(!this.infiniteRenderMod)this.initiateFilter(y);else if(y.length)this.initiateFilter(y);else if(this.sBox.querySelector(".e-selectall").classList.contains("e-check")&&!y.length){var S=this.options.filteredColumns.some(function(b){return e.options.field===b.field});S&&this.clearFilter()}}else{var S=this.options.filteredColumns.some(function(C){return e.options.field===C.field});S&&this.clearFilter()}},r.prototype.complexQueryPredicate=function(e,t,i){for(var n,s,o=[],a=0;a<e.length;a++)n=this.values[he(e[parseInt(a.toString(),10)],"e-ftrchk").getAttribute("data-uid")],s=ie({},{value:n},t),n&&!n.toString().length&&(s.operator=i?"notequal":"equal"),n===""||p(n)?o=o.concat(r.generateNullValuePredicates(t)):o.push(s);var l=this.filterPreventColumns&&this.filterPreventColumns.length?this.filterPreventColumns[0]:s;return l&&!this.notifyFilterPrevEvent(l)?(this.filterPreventColumns=o,null):o},r.prototype.infiniteFltrBtnHandler=function(e){var t;if(this.infiniteManualSelectMaintainPred.length)for(var i=0;i<this.infiniteManualSelectMaintainPred.length;i++){var n=this.infiniteManualSelectMaintainPred[i];if(t=n.value+"",t===""||p(t)){var s={predicate:n.predicate,field:n.field,type:n.type,uid:n.uid,operator:n.operator,matchCase:n.matchCase,ignoreAccent:n.ignoreAccent};e.push.apply(e,r.generateNullValuePredicates(s))}else e.push(this.infiniteManualSelectMaintainPred[i]);this.notifyFilterPrevEvent(this.infiniteManualSelectMaintainPred[i])}if(!this.localInfiniteSelectAllClicked&&this.sInput.value===""&&!(!this.options.parentCurrentViewDataCount&&e.length))for(var i=0;i<this.infiniteUnloadParentExistPred.length;i++)e.unshift(this.infiniteUnloadParentExistPred[i]),this.notifyFilterPrevEvent(this.existingPredicate[this.options.field][i]);this.infiniteSearchPred&&this.sInput.value!==""&&(!this.localInfiniteSelectAllClicked||this.infiniteLocalSelectAll)&&(this.infiniteSearchPred.predicate="or",e.unshift(this.infiniteSearchPred),this.notifyFilterPrevEvent(this.infiniteSearchPred))},r.prototype.notifyFilterPrevEvent=function(e){var t={instance:this,handler:this.fltrBtnHandler,arg1:e.field,arg2:e.predicate,arg3:e.operator,arg4:e.matchCase,arg5:e.ignoreAccent,arg6:e.value,cancel:!1};return this.parent.notify(yN,t),!t.cancel},r.generateNullValuePredicates=function(e){var t=[];return e.type==="string"&&t.push({field:e.field,ignoreAccent:e.ignoreAccent,matchCase:e.matchCase,operator:e.operator,predicate:e.predicate,value:""}),t.push({field:e.field,matchCase:e.matchCase,operator:e.operator,predicate:e.predicate,value:null}),t.push({field:e.field,matchCase:e.matchCase,operator:e.operator,predicate:e.predicate,value:void 0}),t},r.prototype.initiateFilter=function(e){var t=e[0];t&&t.type==="dateonly"&&(t.value=t.value instanceof Date?t.value.getFullYear()+"-"+Lu(t.value.getMonth()+1)+"-"+Lu(t.value.getDate()):t.value);var i;if(!p(t)){i=t.ejpredicate?t.ejpredicate:new Tt(t.field,t.operator,t.value,!t.matchCase,t.ignoreAccent);for(var n=1;n<e.length;n++)i=e[parseInt(n.toString(),10)].ejpredicate!==void 0?i[e[parseInt(n.toString(),10)].predicate](e[parseInt(n.toString(),10)].ejpredicate):i[e[parseInt(n.toString(),10)].predicate](e[parseInt(n.toString(),10)].field,e[parseInt(n.toString(),10)].operator,e[parseInt(n.toString(),10)].value,!e[parseInt(n.toString(),10)].matchCase,e[parseInt(n.toString(),10)].ignoreAccent);var s={action:"filtering",filterCollection:e,field:this.options.field,ejpredicate:Tt.or(i)};this.options.handler(s)}},r.prototype.isForeignColumn=function(e){return e.isForeignColumn?e.isForeignColumn():!1},r.prototype.refreshCheckboxes=function(){var e=this,t=this.sInput.value,i=this.options.column,n=this.isForeignColumn(i)?this.foreignKeyQuery.clone():this.options.query.clone(),s=this.options.query.clone(),o=n.queries.filter(function(S){return S&&S.fn==="onWhere"})[0];n.queries=[],s.queries=[];var a=this.options.type!=="string"&&parseFloat(t)?parseFloat(t):t,l=this.options.isRemote?this.options.type==="string"?"contains":"equal":this.options.type?"contains":"equal",h=!0,u=this.options.ignoreAccent,c=this.isForeignColumn(i)?i.foreignKeyValue:i.field;a=a===""||a===void 0?void 0:a;var d=[],f={field:c,predicate:"or",uid:this.options.uid,operator:"equal",type:this.options.type,matchCase:h,ignoreAccent:u},g,m=this.options.dataManager.adaptor.getModuleName;if(this.options.type==="boolean"&&(a!==void 0&&this.getLocalizedLabel("FilterTrue").toLowerCase().indexOf(a.toLowerCase())!==-1?a="true":a!==void 0&&this.getLocalizedLabel("FilterFalse").toLowerCase().indexOf(a.toLowerCase())!==-1&&(a="false"),a!==void 0&&this.getLocalizedLabel("FilterTrue").toLowerCase().indexOf(a.toLowerCase())!==-1&&m?a=(m(),!0):a!==void 0&&this.getLocalizedLabel("FilterFalse").toLowerCase().indexOf(a.toLowerCase())!==-1&&m&&(a=(m(),!1)),l="equal"),(this.options.type==="date"||this.options.type==="datetime"||this.options.type==="dateonly")&&this.options.format){var y=new of,v=typeof this.options.format=="string"?this.options.format:this.options.format.format;v?a=y.parseDate(t,{format:v})||new Date(t):a=new Date(t),this.options.type==="dateonly"&&(a=a.getFullYear()+"-"+Lu(a.getMonth()+1)+"-"+Lu(a.getDate()))}this.infiniteSearchValChange=!0,this.infiniteLoadedElem=[],this.infiniteLocalSelectAll=!0,this.localInfiniteSelectAllClicked=!1,this.localInfiniteSelectionInteracted=!1,this.infiniteSkipCnt=0,this.infiniteDataCount=0,this.infiniteManualSelectMaintainPred=[],this.sInput.value===""?this.infiniteUnloadParentExistPred=this.infiniteRenderMod&&this.existingPredicate[this.options.column.field]?this.existingPredicate[this.options.column.field].slice():[]:this.infiniteUnloadParentExistPred=[],this.isForeignColumn(i)||this.addDistinct(n);var M={requestType:JZ,filterModel:this,columnName:c,column:i,operator:l,matchCase:h,ignoreAccent:u,filterChoiceCount:null,query:n,value:a,cancel:!1};this.infiniteRenderMod&&this.parent.filterSettings.itemsCount&&(M.filterChoiceCount=this.parent.filterSettings.itemsCount),this.parent.trigger(vo,M,function(S){if(!S.cancel){if(S.operator=S.operator,g=new Tt(c,S.operator,M.value,S.matchCase,S.ignoreAccent),e.options.type==="date"||e.options.type==="datetime"||e.options.type==="dateonly"){l="equal";var b={field:c,operator:l,value:a,matchCase:h,ignoreAccent:u};p(a)||(g=zu(b,e.options.type))}if(t&&typeof t=="string"&&e.isBlanks&&e.getLocalizedLabel("Blanks").toLowerCase().indexOf(t.toLowerCase())>=0){d=d.concat(r.generateNullValuePredicates(f));var C=r.generatePredicate(d);C.predicates.push(g),g=C,n.where(C)}else t.length?(g=p(o)?g:g.and(o.e),n.where(g)):p(o)||(g=o.e,n.where(o.e));e.infiniteSearchPred=g,S.filterChoiceCount=p(S.filterChoiceCount)?1e3:S.filterChoiceCount,e.infiniteRenderMod&&e.parent.filterSettings.itemsCount!==S.filterChoiceCount&&(e.parent.filterSettings.itemsCount=M.filterChoiceCount);var T={};if(oo(e.spinner),e.renderEmpty=!1,e.isForeignColumn(i)&&t.length){var k="result"in i.dataSource?new fe(i.dataSource.result):i.dataSource;k.executeQuery(n).then(function(N){var A=e.options.column.columnData;e.options.column.columnData=N.result,e.parent.notify(Rg,{predicate:T,column:i}),T.predicate.predicates.length?s.where(T.predicate):e.renderEmpty=!0,e.options.column.columnData=A,e.infiniteRenderMod?(e.infiniteInitialLoad=!!p(e.fullData),e.makeInfiniteScrollRequest(s),s.requiresCount()):s.take(S.filterChoiceCount),e.search(S,s)})}else e.infiniteRenderMod&&e.parent.filterSettings.itemsCount?(e.infiniteInitialLoad=!!p(e.fullData),e.makeInfiniteScrollRequest(n),n.requiresCount()):n.take(S.filterChoiceCount),e.search(S,n)}})},r.prototype.search=function(e,t){this.parent.dataSource&&"result"in this.parent.dataSource?this.filterEvent(e,t):this.processSearch(t)},r.prototype.getPredicateFromCols=function(e){for(var t=r.getPredicate(e),i=[],n={},s=this.parent.getForeignKeyColumns!==void 0,o=s?this.parent.getForeignKeyColumns():[],a=0,l=Object.keys(t);a<l.length;a++){var h=l[a],u=void 0;s&&!this.parent.getColumnByField(h)&&(u=oD(h,o)),u?(this.parent.notify(Rg,{predicate:n,column:u}),n.predicate.predicates.length&&i.push(Tt.or(n.predicate.predicates))):i.push(t[""+h])}return i.length&&Tt.and(i)},r.prototype.getQuery=function(){return this.parent.getQuery?this.parent.getQuery().clone():new He},r.prototype.getAllData=function(){var e=this;this.customQuery=!1;var t=this.getQuery(),i=this.options.dataManager.adaptor.getModuleName;!p(this.parent.getDataModule)&&i&&i()==="ODataV4Adaptor"||t.requiresCount(),this.addDistinct(t);var n={requestType:n0,query:t,filterChoiceCount:null},s="filterModel";n[""+s]=this,this.infiniteRenderMod&&this.parent.filterSettings.itemsCount&&(n.filterChoiceCount=this.parent.filterSettings.itemsCount),this.parent.trigger(vo,n,function(o){o.filterChoiceCount=p(o.filterChoiceCount)?1e3:o.filterChoiceCount,e.infiniteRenderMod&&e.parent.filterSettings.itemsCount!==o.filterChoiceCount&&(e.parent.filterSettings.itemsCount=o.filterChoiceCount),e.infiniteRenderMod||t.take(o.filterChoiceCount),(!o.query.distincts.length||e.infiniteRenderMod)&&(e.customQuery=!0,e.queryGenerate(t)),e.infiniteRenderMod&&(e.infiniteInitialLoad=!!p(e.fullData),e.makeInfiniteScrollRequest(t)),e.parent.dataSource&&"result"in e.parent.dataSource?e.filterEvent(o,t):e.processDataOperation(t,!0)})},r.prototype.addDistinct=function(e){var t=this,i=re.distinct(this.options.filteredColumns,"field");i.indexOf(this.options.column.field)<=-1&&(i=i.concat(this.options.column.field));var n=this.options.dataManager.adaptor.getModuleName;if(n&&n()==="ODataV4Adaptor"&&this.parent&&this.parent.query instanceof He)for(var s=this.parent.query,o=0;o<s.queries.length;o++){var a=s.queries[parseInt(o.toString(),10)];a.fn==="onWhere"&&(this.getPredicateFields(a.e),this.queryFilteredColumn.map(function(f){i.indexOf(f)===-1&&i.push(f)}),this.queryFilteredColumn=[])}if(this.infiniteRenderMod||e.distinct(i),this.infiniteRenderMod&&!this.options.isRemote&&this.sInput.value===""){this.options.dataSource=this.options.dataSource instanceof fe?this.options.dataSource:new fe(this.options.dataSource),this.infinitePermenantLocalData=this.options.dataSource.dataSource.json.slice();var l;this.options&&this.options.dataManager&&this.options.dataManager.adaptor&&this.options.dataManager.adaptor.getModuleName&&(l=this.options.dataManager.adaptor.getModuleName);var h=l&&l()==="RemoteSaveAdaptor"&&this.infinitePermenantLocalData?this.infinitePermenantLocalData:this.options.dataSource.dataSource,u=new He;this.queryGenerate(u);var c=new fe(h).executeLocal(u);this.options.dataSource=new fe(re.distinct(c,this.options.column.field,!0)),this.isForeignColumn(this.options.column)&&(this.options.column.dataSource=this.options.column.dataSource instanceof fe?this.options.column.dataSource:new fe(this.options.column.dataSource),this.options.dataSource.dataSource.json=this.options.dataSource.dataSource.json.map(function(f,g){return Object.assign({},f,t.options.column.dataSource.dataSource.json[g])}))}else if(this.infiniteRenderMod&&this.options.isRemote){e.select(this.options.column.field),e.sortBy(this.options.column.field,"ascending");var d=this.options.dataManager.adaptor.getModuleName;d&&d()&&(d()==="ODataV4Adaptor"||d()==="WebApiAdaptor"||d()==="CustomDataAdaptor"||d()==="GraphQLAdaptor"||d()==="ODataAdaptor")&&e.distinct(i)}return e},r.prototype.getPredicateFields=function(e){var t=this;e.isComplex&&e.predicates?e.predicates.forEach(function(i){Array.isArray(i)?i.forEach(function(n){return t.getPredicateFields(n)}):t.getPredicateFields(i)}):e.field&&!e.isComplex&&this.queryFilteredColumn.indexOf(e.field)<=-1&&(this.queryFilteredColumn=this.queryFilteredColumn.concat(re.distinct([e.field],"field")))},r.prototype.filterEvent=function(e,t){var i=this,n=zte(e,t);this.parent.trigger(bC,n.state),this.addInfiniteScrollEvent(t);var s=n.deffered;s.promise.then(function(o){i.infiniteDataCount=i.infiniteRenderMod&&!i.infiniteDataCount?o.count:i.infiniteDataCount;var a=i.infiniteRenderMod?o.result:o;i.dataSuccess(a)})},r.prototype.addInfiniteScrollEvent=function(e){this.infiniteRenderMod&&(this.infiniteQuery=e.clone(),this.infiniteInitialLoad?(this.cBox.classList.add("e-checkbox-infinitescroll"),F.add(this.cBox,"scroll",this.infiniteScrollHandler,this),F.add(this.cBox,"mouseup",this.infiniteScrollMouseKeyUpHandler,this),F.add(this.cBox,"mousedown",this.infiniteScrollMouseKeyDownHandler,this)):this.infiniteSearchValChange&&(this.cBox.innerHTML=""))},r.prototype.infiniteScrollMouseKeyDownHandler=function(){F.remove(this.cBox,"scroll",this.infiniteScrollHandler)},r.prototype.infiniteScrollMouseKeyUpHandler=function(e){var t=this;F.add(this.cBox,"scroll",this.infiniteScrollHandler,this);var i=this.cBox;i.children.length>1&&(i.scrollTop>=i.scrollHeight-i.offsetHeight||i.scrollTop<=0)&&this.infiniteScrollHandler(),Ns.timer=setTimeout(function(){t.clickHandler(e),Ns.timer=null},0)},r.prototype.getShimmerTemplate=function(){return'<span class="e-mask e-skeleton e-skeleton-text e-shimmer-wave"></span>'},r.prototype.showMask=function(){var e=5,t,i=this.parent.createElement("div",{id:this.id+this.options.type+"_CheckBoxMaskList",className:"e-checkboxlist e-fields e-infinite-list e-masklist"});i.style.zIndex="10";var n=this.cBox;if(this.removeMask(),n){var s=getComputedStyle(n),o=sg(n),a=n.children.length?parseInt(s.height,10):Math.floor(parseInt(s.height.split("px")[0],10))-5;this.parent.enableAdaptiveUI&&this.infiniteRenderMod&&(i.style.height=a-o+"px",this.dlg.querySelector(".e-dlg-content").style.overflow="hidden");var l=this.isExcel&&!n.children.length&&!this.dlg.classList.contains("e-excelfilter")?"":getComputedStyle(this.dlg.querySelector(".e-dlg-content")).backgroundColor;i.style.cssText="width: "+s.width+"; min-height: "+s.minHeight+"; height: "+a+"px; margin: "+s.margin+"; border-style: "+s.borderStyle+"; border-width: "+s.borderWidth+"; border-color: "+s.borderColor+"; position: absolute; background-color: "+l+";",e=Math.floor(a/o),e=n.children.length>e?n.children.length:e,t=o+"px"}var h='<div class="e-ftrchk e-mask-ftrchk"><div class="e-checkbox-wrapper"><input class="e-chk-hidden">'+this.getShimmerTemplate()+this.getShimmerTemplate()+"</div></div>";if(i.innerHTML="",!n.children.length){this.spinner.insertAdjacentHTML("beforebegin",h),this.spinner.parentElement.querySelector(".e-ftrchk.e-mask-ftrchk").style.cssText="width: 100%; height: "+t+";",this.spinner.parentElement.querySelector(".e-checkbox-wrapper").style.width="100%";var u=[].slice.call(this.spinner.parentElement.querySelectorAll(".e-mask:not(.e-mask-checkbox-filter-intent):not(.e-mask-checkbox-filter-span-intent)"));u[0].classList.add("e-mask-checkbox-filter-intent"),u[1].classList.add("e-mask-checkbox-filter-span-intent")}this.spinner.insertBefore(i,this.cBox);for(var c=0;e&&c<e;c++){i.innerHTML+=h,i.lastElementChild.style.cssText="width: 100%; height: "+t+";",i.lastElementChild.querySelector(".e-checkbox-wrapper").style.width="100%";var u=[].slice.call(i.querySelectorAll(".e-mask:not(.e-mask-checkbox-filter-intent):not(.e-mask-checkbox-filter-span-intent)"));u[0].classList.add("e-mask-checkbox-filter-intent"),u[1].classList.add("e-mask-checkbox-filter-span-intent")}this.cBox&&(i.scrollTop=this.cBox.scrollTop)},r.prototype.removeMask=function(){var e=this.dialogObj.element.querySelectorAll(".e-mask-ftrchk");if(e.length)for(var t=0;t<e.length;t++)ot(e[t]);var i=this.dialogObj.element.querySelector(".e-checkboxlist.e-masklist");i&&ot(this.dialogObj.element.querySelector(".e-checkboxlist.e-masklist"))},r.prototype.infiniteScrollHandler=function(){var e=this.cBox;e.scrollTop>=e.scrollHeight-e.offsetHeight&&!this.infiniteQueryExecutionPending&&this.infiniteLoadedElem.length<=this.infiniteSkipCnt+this.parent.filterSettings.itemsCount&&this.cBox.children.length===this.parent.filterSettings.itemsCount*3&&(!this.infiniteDataCount||this.infiniteDataCount>this.infiniteSkipCnt+this.parent.filterSettings.itemsCount)?(this.makeInfiniteScrollRequest(),this.prevInfiniteScrollDirection="down"):e.scrollTop>=e.scrollHeight-e.offsetHeight&&!this.infiniteQueryExecutionPending&&this.infiniteLoadedElem.length>this.infiniteSkipCnt+this.parent.filterSettings.itemsCount&&this.cBox.children.length===this.parent.filterSettings.itemsCount*3?(rg([].slice.call(this.cBox.children).splice(0,this.parent.filterSettings.itemsCount)),this.infiniteSkipCnt+=this.prevInfiniteScrollDirection==="down"?this.parent.filterSettings.itemsCount:this.parent.filterSettings.itemsCount*3,tr(this.cBox,this.infiniteLoadedElem.slice(this.infiniteSkipCnt,this.parent.filterSettings.itemsCount+this.infiniteSkipCnt)),this.prevInfiniteScrollDirection="down"):e.scrollTop===0&&!this.infiniteInitialLoad&&!this.infiniteSearchValChange&&this.infiniteSkipCnt&&this.infiniteLoadedElem.length&&this.infiniteLoadedElem.length>this.parent.filterSettings.itemsCount*3&&this.cBox.children.length===this.parent.filterSettings.itemsCount*3?(rg([].slice.call(this.cBox.children).splice(this.parent.filterSettings.itemsCount*2,this.parent.filterSettings.itemsCount)),this.infiniteSkipCnt-=this.prevInfiniteScrollDirection==="up"?this.parent.filterSettings.itemsCount:this.parent.filterSettings.itemsCount*3,NN([].slice.call(this.infiniteLoadedElem.slice(this.infiniteSkipCnt,this.infiniteSkipCnt+this.parent.filterSettings.itemsCount)),this.cBox),this.cBox.scrollTop=this.infiniteScrollAppendDiff,this.prevInfiniteScrollDirection="up"):e.scrollTop===0&&!this.infiniteInitialLoad&&!this.infiniteSearchValChange&&this.infiniteSkipCnt&&this.infiniteLoadedElem.length&&this.cBox.children.length<this.parent.filterSettings.itemsCount*3&&(rg([].slice.call(this.cBox.children).splice(this.parent.filterSettings.itemsCount*2,this.infiniteDataCount%this.parent.filterSettings.itemsCount)),this.infiniteSkipCnt=(Math.floor(this.infiniteDataCount/this.parent.filterSettings.itemsCount)-3)*this.parent.filterSettings.itemsCount,NN([].slice.call(this.infiniteLoadedElem.slice(this.infiniteSkipCnt,this.infiniteSkipCnt+this.parent.filterSettings.itemsCount)),this.cBox),this.cBox.scrollTop=this.infiniteScrollAppendDiff,this.prevInfiniteScrollDirection="up")},r.prototype.makeInfiniteScrollRequest=function(e){var t=this;!this.infiniteInitialLoad&&this.parent.filterSettings&&this.parent.filterSettings.loadingIndicator==="Shimmer"?setTimeout(function(){t.infiniteQueryExecutionPending&&t.showMask()},500):this.infiniteInitialLoad||(Jh({target:this.spinner,cssClass:this.parent.cssClass?this.parent.cssClass:null},this.parent.createElement),oo(this.spinner));var i="fn";if(this.infiniteQuery&&this.infiniteQuery.queries&&this.infiniteQuery.queries.length)for(var n=0;n<this.infiniteQuery.queries.length;n++)(this.infiniteQuery.queries[n][""+i]==="onTake"||this.infiniteQuery.queries[n][""+i]==="onSkip")&&(this.infiniteQuery.queries.splice(n,1),n--);var s=!!e;if(e=e||this.infiniteQuery,this.infiniteInitialLoad||this.infiniteSearchValChange?this.infiniteSkipCnt=0:this.infiniteSkipCnt+=this.parent.filterSettings.itemsCount,e.skip(this.infiniteSkipCnt),this.infiniteInitialLoad||this.infiniteSearchValChange?(e.take(this.parent.filterSettings.itemsCount*3),this.infiniteSkipCnt+=this.parent.filterSettings.itemsCount*2):e.take(this.parent.filterSettings.itemsCount),!s)if(this.parent.dataSource&&"result"in this.parent.dataSource){var o={requestType:n0,query:e,filterChoiceCount:null,filterModel:this};this.infiniteRenderMod&&this.parent.filterSettings.itemsCount&&(o.filterChoiceCount=this.parent.filterSettings.itemsCount),this.filterEvent(o,e)}else this.processDataOperation(e),this.infiniteQueryExecutionPending=!0},r.prototype.processDataOperation=function(e,t){var i=this;this.options.dataSource=this.options.dataSource instanceof fe?this.options.dataSource:new fe(this.options.dataSource);var n=[],s=[];if(this.isForeignColumn(this.options.column)&&t){var o="result"in this.options.column.dataSource?new fe(this.options.column.dataSource.result):this.options.column.dataSource;this.foreignKeyQuery.params=e.params,n.push(o.executeQuery(this.foreignKeyQuery)),s.push(function(l){return i.foreignKeyData=l})}if(this.addInfiniteScrollEvent(e),this.infiniteRenderMod&&this.infiniteInitialLoad&&!this.options.isRemote){var a=this.isForeignColumn(this.options.column)?this.options.foreignKeyValue:this.options.column.field;this.options.dataSource.executeQuery(new He().sortBy(a,re.fnAscending)).then(function(l){i.options.dataSource.dataSource.json=l.result,i.executeQueryOperations(e,n,s)})}else this.executeQueryOperations(e,n,s)},r.prototype.executeQueryOperations=function(e,t,i){var n=this;t.push(this.options.dataSource.executeQuery(e)),i.push(this.dataSuccess.bind(this));var s=0;Promise.all(t).then(function(o){n.infiniteQueryExecutionPending=n.infiniteRenderMod?!1:n.infiniteQueryExecutionPending;for(var a=0;a<o.length;a++)n.infiniteDataCount=n.infiniteRenderMod&&!n.infiniteDataCount?o[a].count:n.infiniteDataCount,i[s++](o[parseInt(a.toString(),10)].result)}).catch(function(){n.infiniteRenderMod&&n.parent.filterSettings&&n.parent.filterSettings.loadingIndicator==="Shimmer"&&n.parent.showMaskRow(void 0,n.dialogObj.element)})},r.prototype.dataSuccess=function(e){if(!(!this.infiniteInitialLoad&&this.infiniteDataCount&&(this.infiniteSkipCnt>=this.infiniteDataCount&&!this.infiniteSearchValChange||e.length===0))){this.fullData=e;var t={dataSource:this.fullData,executeQuery:!0,field:this.options.field};if(this.parent.notify(BX,t),t.executeQuery){var i=new He;this.customQuery||this.queryGenerate(i);var n=new fe(t.dataSource).executeLocal(i),s=this.options.column;this.filteredData=r.getDistinct(n,this.options.field,s,this.foreignKeyData,this).records||[]}var o=t.executeQuery?this.filteredData:t.dataSource;this.processDataSource(null,!0,o,t),(this.infiniteRenderMod&&this.infiniteInitialLoad||!this.infiniteRenderMod)&&(this.sInput?this.sInput.focus():this.dlg.querySelector(".e-chk-hidden")&&this.dlg.querySelector(".e-ftrchk")&&(this.dlg.querySelector(".e-chk-hidden").focus(),this.dlg.querySelector(".e-ftrchk").classList.add("e-chkfocus"))),(this.infiniteInitialLoad||this.infiniteSearchValChange)&&(this.infiniteInitialLoad=!1,this.infiniteSearchValChange=!1);var a={requestType:$Z,columnName:this.options.field,columnType:this.options.type},l="filterModel";a[""+l]=this,this.parent.notify(mN,a),this.isCheckboxFilterTemplate&&wl(this.spinner)}},r.prototype.queryGenerate=function(e){if(this.parent.searchSettings&&this.parent.searchSettings.key.length){var t=this.options.dataManager.adaptor.getModuleName;if(!p(this.parent.getForeignKeyColumns())&&this.parent.getForeignKeyColumns().length||!p(this.parent.getDataModule)&&t&&t()==="ODataV4Adaptor")this.parent.getDataModule().searchQuery(e);else{var i=this.parent.searchSettings,n=i.fields.length?i.fields:this.options.columns.map(function(h){return h.field});e.search(i.key,n,i.operator,i.ignoreCase,i.ignoreAccent)}}if(this.options.filteredColumns.length){for(var s=[],o=0;o<this.options.filteredColumns.length;o++){var a=this.options.filteredColumns[parseInt(o.toString(),10)];this.options.uid?(a.uid=a.uid||this.parent.getColumnByField(a.field).uid,a.uid!==this.options.uid&&s.push(this.options.filteredColumns[parseInt(o.toString(),10)])):a.field!==this.options.field&&s.push(this.options.filteredColumns[parseInt(o.toString(),10)])}var l=this.getPredicateFromCols(s);l&&e.where(l)}},r.prototype.processDataSource=function(e,t,i,n){oo(this.spinner),this.updateResult();var s={dataSource:this.fullData,isCheckboxFilterTemplate:!1,column:this.options.column,element:this.cBox,type:this.options.type,format:this.options.type,btnObj:this.options.isResponsiveFilter?null:this.dialogObj.btnObj[0],searchBox:this.searchBox};this.parent.notify(ree,s),this.isCheckboxFilterTemplate=s.isCheckboxFilterTemplate,this.isCheckboxFilterTemplate?this.infiniteRenderMod&&this.parent.filterSettings&&this.parent.filterSettings.loadingIndicator==="Shimmer"&&this.removeMask():this.createFilterItems(i,t,n)},r.prototype.processSearch=function(e){this.processDataOperation(e)},r.prototype.updateResult=function(){this.result={};var e=this.infiniteRenderMod&&this.existingPredicate[this.options.field]?this.getPredicateFromCols(this.existingPredicate[this.options.field]):this.getPredicateFromCols(this.options.filteredColumns),t=new He;e&&t.where(e),this.parent.notify(eee,{query:t});for(var i=new fe(this.fullData).executeLocal(t),n=0,s=i;n<s.length;n++){var o=s[n];this.result[It(this.options.field,o)]=!0}},r.prototype.clickHandler=function(e){var t;p(Ns.timer)||clearTimeout(Ns.timer);var i=e.target;if(!(!p(this.parent.loadingIndicator)&&this.parent.loadingIndicator.indicatorType==="Shimmer"&&he(i,"e-mask-ftrchk"))){var n=he(i,"e-checkbox-wrapper");if(he(i,"e-searchbox")&&this.searchBoxClick(e),n&&!this.isCheckboxFilterTemplate){var s=n.querySelector(".e-selectall");if(s)this.updateAllCBoxes(!s.classList.contains("e-check"));else if(Zc(n.parentElement),this.infiniteRenderMod&&!n.parentElement.querySelector(".e-add-current")){this.localInfiniteSelectionInteracted=!0;var o=this.options.allowCaseSensitive,a=n.parentElement.querySelector(".e-frame"),l=a.previousSibling,h=l.checked?"equal":"notequal",u=l.checked?"or":"and",c={field:this.options.field,predicate:u,uid:this.options.uid,operator:h,type:this.options.type,matchCase:o,ignoreAccent:this.options.ignoreAccent},d=this.values[he(l,"e-ftrchk").getAttribute("data-uid")];if(this.updateInfiniteManualSelectPred(c,d),this.infiniteRenderMod&&!this.options.isRemote&&this.options.parentTotalDataCount&&this.infiniteUnloadParentExistPred.length){var f=this.getPredicateFromCols((t=this.options.filteredColumns).concat.apply(t,this.infiniteManualSelectMaintainPred)),g=new He;f&&g.where(f);var m=new fe(this.infinitePermenantLocalData).executeLocal(g);this.options.parentTotalDataCount!==m.length&&(this.options.parentTotalDataCount=m.length),!this.options.parentTotalDataCount&&this.infiniteUnloadParentExistPred.length&&(this.infiniteUnloadParentExistPred=[])}this.infiniteUnloadParentExistPred.length&&(this.options.parentTotalDataCount===this.infiniteDataCount||!this.options.parentTotalDataCount)&&(this.infiniteUnloadParentExistPred=[])}this.updateIndeterminatenBtn(),n.querySelector(".e-chk-hidden").focus()}this.setFocus(he(n,"e-ftrchk"))}},r.prototype.updateInfiniteManualSelectPred=function(e,t){for(var i=0;i<this.infiniteManualSelectMaintainPred.length;i++){var n=this.infiniteManualSelectMaintainPred[i];if(n.value+""==t+""&&(n.operator==="equal"||n.operator==="notequal")){this.infiniteManualSelectMaintainPred.splice(i,1);break}}(e.predicate==="or"&&(!this.localInfiniteSelectAllClicked||!this.infiniteLocalSelectAll)||e.predicate==="and"&&(!this.localInfiniteSelectAllClicked||this.infiniteLocalSelectAll))&&(this.infiniteManualSelectMaintainPred.push(ie({},{value:t},e)),e.predicate==="or"?this.options.parentTotalDataCount++:this.options.parentTotalDataCount--)},r.prototype.focusNextOrPrev=function(e,t){var i=e.key==="ArrowUp"?t.indexOf(document.activeElement)-1:t.indexOf(document.activeElement)+1,n=t[(i+t.length)%t.length];if(n){n.focus();var s=n.classList.contains("e-chk-hidden")?he(n,"e-ftrchk"):n;this.setFocus(s)}},r.prototype.keyupHandler=function(e){if((e.key==="Tab"||(e.key==="ArrowUp"||e.key==="ArrowDown")&&!e.altKey)&&this.setFocus(he(e.target,"e-ftrchk")),(e.key==="ArrowUp"||e.key==="ArrowDown")&&!e.altKey&&this.parent.filterSettings&&this.parent.filterSettings.type==="CheckBox"){e.preventDefault();var t=Array.from(this.dlg.querySelectorAll('input, button, [tabindex]:not([tabindex="-1"])'));this.focusNextOrPrev(e,t)}},r.prototype.setFocus=function(e){var t=this.dlg.querySelector(".e-chkfocus");t&&t.classList.remove("e-chkfocus"),e&&e!==t&&e.classList.add("e-chkfocus")},r.prototype.updateAllCBoxes=function(e){this.infiniteRenderMod&&(this.localInfiniteSelectAllClicked=!0,this.infiniteLocalSelectAll=e,this.infiniteUnloadParentExistPred=[],this.infiniteManualSelectMaintainPred=[]);for(var t=this.infiniteRenderMod?this.infiniteLoadedElem.map(function(o){return o.querySelector(".e-frame")}):[].slice.call(this.cBox.querySelectorAll(".e-frame:not(.e-add-current)")),i=0,n=t;i<n.length;i++){var s=n[i];Bg(s,e),dh(s.previousSibling,e)}},r.prototype.dialogOpen=function(){this.parent.element.classList.contains("e-device")&&(this.dialogObj.element.querySelector(".e-input-group").classList.remove("e-input-focus"),this.options.isResponsiveFilter||this.dialogObj.element.querySelector(".e-btn").focus())},r.prototype.createCheckbox=function(e,t,i){var n=t?this.cBoxTrue.cloneNode(!0):this.cBoxFalse.cloneNode(!0);dh(n.querySelector("input"),t);var s=n.querySelector(".e-label"),o=aD({},i,{column:this.options.column,parent:this.parent}),a,l="getModuleName",h=this.parent[""+l];!p(h)&&h()==="spreadsheet"?a="textContent":a=this.options.disableHtmlEncode?"textContent":"innerHTML",s[""+a]=!p(e)&&e.toString().length?this.parent.enableHtmlSanitizer?St.sanitize(e):e:this.getLocalizedLabel("Blanks");var u=hs("cbox");if(s.setAttribute("id",u+"cboxLabel"),n.querySelector("input").setAttribute("aria-labelledby",s.id),s.innerHTML===this.getLocalizedLabel("Blanks")&&(this.isBlanks=!0),typeof e=="boolean"&&(s.innerHTML=e===!0?this.getLocalizedLabel("FilterTrue"):this.getLocalizedLabel("FilterFalse")),Z([s],["e-checkboxfiltertext"]),this.options.template&&i[this.options.column.field]!==this.getLocalizedLabel("SelectAll")&&i[this.options.column.field]!==this.getLocalizedLabel("AddCurrentSelection")){s.innerHTML="";var c=this.parent.isReact&&this.options.column.filter&&typeof this.options.column.filter.itemTemplate!="string"&&!(this.options.column.filter.itemTemplate.prototype&&this.options.column.filter.itemTemplate.prototype.CSPTemplate),d=this.parent.parentDetails&&this.parent.parentDetails.parentInstObj&&this.parent.parentDetails.parentInstObj.isReact;c||d?(this.options.template(o,this.parent,"filterItemTemplate",null,null,null,s),this.parent.renderTemplates()):tr(s,this.options.template(o,this.parent,"filterItemTemplate",null,null,null,null,this.parent.root))}return n},r.prototype.updateIndeterminatenBtn=function(){var e=this.infiniteRenderMod?this.infiniteLoadedElem.length:this.cBox.children.length-1,t=[],i=!1,n=this.infiniteRenderMod?this.sBox.querySelector(".e-selectall"):this.cBox.querySelector(".e-selectall"),s=this.infiniteRenderMod?this.infiniteLoadedElem.filter(function(l){return l.querySelector(".e-check")}).length:this.cBox.querySelectorAll(".e-check:not(.e-selectall):not(.e-add-current)").length;this.cBox.querySelector(".e-add-current")&&(e-=1);var o;this.options.isResponsiveFilter||(o=this.dialogObj.btnObj[0],o.disabled=!1);var a=n.previousSibling;dh(a,!1),a.indeterminate=!1,this.infiniteRenderMod&&this.sInput.value===""&&!this.options.parentCurrentViewDataCount&&!this.localInfiniteSelectionInteracted&&(!this.localInfiniteSelectAllClicked||!this.infiniteLocalSelectAll&&!s)&&(e!==s||e===s)?s=0:this.infiniteRenderMod&&this.infiniteLoadedElem.length<this.infiniteDataCount&&this.infiniteUnloadParentExistPred.length&&(!s||e===s)&&this.infiniteLocalSelectAll&&(s?e+=this.infiniteUnloadParentExistPred.length:s+=this.infiniteUnloadParentExistPred.length),e===s?(this.infiniteRenderMod&&(this.infiniteLocalSelectAll=!0,this.localInfiniteSelectAllClicked=!0,this.infiniteManualSelectMaintainPred=[]),t=["e-check"],dh(a,!0)):s?(t=["e-stop"],a.indeterminate=!0):(this.infiniteRenderMod&&(this.infiniteLocalSelectAll=!1,this.localInfiniteSelectAllClicked=!0,this.infiniteManualSelectMaintainPred=[]),t=["e-uncheck"],i=!0,o&&(o.disabled=!0)),o&&(this.filterState=!o.disabled,o.dataBind()),ue([n],["e-check","e-stop","e-uncheck"]),Z([n],t),this.parent.notify(wC,{disabled:i})},r.prototype.createFilterItems=function(e,t,i){var n,s,o,a=this.parent.createElement("div"),l,h=!1;this.options.isResponsiveFilter||(l=this.dialogObj.btnObj[0]);var u=-1,c="ejValue";i.executeQuery||(c=i.field);for(var d=0;d<e.length;d++){var f=H(c,e[parseInt(d.toString(),10)]);(f===""||p(f))&&(u=u+1)}if(this.infiniteRenderMod||(this.itemsCnt=u!==-1?e.length-u:e.length),this.infiniteRenderMod&&this.parent.filterSettings&&this.parent.filterSettings.loadingIndicator==="Shimmer"&&this.removeMask(),e.length&&!this.renderEmpty){var g=this.getLocalizedLabel("SelectAll"),m=this.cBox.querySelector(".e-checkfltrnmdiv");m&&m.classList.remove("e-checkfltrnmdiv");var y=this.createCheckbox(g,!1,(n={},n[this.options.field]=g,n));if(this.parent.cssClass&&(this.parent.cssClass.indexOf(" ")!==-1?Z([y],this.parent.cssClass.split(" ")):Z([y],[this.parent.cssClass])),this.infiniteInitialLoad||!this.infiniteRenderMod){var v=a0(hs("cbox"),y,"e-ftrchk");v.querySelector(".e-frame").classList.add("e-selectall"),this.infiniteRenderMod?(v.classList.add("e-infinitescroll"),this.parent.enableAdaptiveUI&&(this.spinner.style.height=this.spinner.offsetHeight-sg(this.cBox)+"px"),this.sBox.insertBefore(v,this.spinner)):a.appendChild(v)}else this.sBox.querySelector(".e-ftrchk .e-selectall")&&(this.sBox.querySelector(".e-ftrchk .e-selectall").previousSibling.disabled=!1,this.sBox.querySelector(".e-ftrchk .e-selectall").parentElement.classList.remove("e-checkbox-disabled"));var M=new Tt("field","equal",this.options.field);this.options.foreignKeyValue&&(M=M.or("field","equal",this.options.foreignKeyValue));var S=new fe(this.options.filteredColumns).executeLocal(new He().where(M)).length;if(this.sInput&&this.sInput.value){var b=this.createCheckbox(this.getLocalizedLabel("AddCurrentSelection"),!1,(s={},s[this.options.field]=this.getLocalizedLabel("AddCurrentSelection"),s));if(this.parent.cssClass&&(this.parent.cssClass.indexOf(" ")!==-1?Z([b],this.parent.cssClass.split(" ")):Z([b],[this.parent.cssClass])),this.infiniteRenderMod&&!p(this.sBox.children[2])&&this.sBox.children[2].innerText!==this.getLocalizedLabel("AddCurrentSelection")||!this.infiniteRenderMod){var C=a0(hs("cbox"),b,"e-ftrchk");if(C.querySelector(".e-frame").classList.add("e-add-current"),this.infiniteRenderMod){C.classList.add("e-infinitescroll"),this.sBox.insertBefore(C,this.spinner);var T=this.spinner.querySelector(".e-checkboxlist"),k=Math.ceil(C.getBoundingClientRect().height);T.style.height=parseInt(getComputedStyle(T).height.split("px")[0],10)-k+"px",T.style.minHeight=T.style.height}else a.appendChild(C)}else this.sBox.querySelector(".e-ftrchk .e-add-current")&&(this.sBox.querySelector(".e-ftrchk .e-add-current").previousSibling.disabled=!1,this.sBox.querySelector(".e-ftrchk .e-add-current").parentElement.classList.remove("e-checkbox-disabled"))}else if(this.infiniteRenderMod&&!p(this.sBox.children[2])&&this.sBox.children[2].innerText===this.getLocalizedLabel("AddCurrentSelection")){var T=this.spinner.querySelector(".e-checkboxlist"),N=Math.ceil(this.sBox.children[2].getBoundingClientRect().height);T.style.height=parseInt(getComputedStyle(T).height.split("px")[0],10)+N+"px",T.style.minHeight=T.style.height,ot(this.sBox.children[2])}for(var A=void 0,d=0;d<e.length;d++){var E=hs("cbox");this.values[""+E]=H(c,e[parseInt(d.toString(),10)]);var x=H(this.options.field,e[parseInt(d.toString(),10)]);if(this.options.formatFn){if(this.options.type==="dateonly"&&!p(x)){var D=x.split(/[^0-9.]/);x=new Date(parseInt(D[0],10),parseInt(D[1],10)-1,parseInt(D[2],10))}x=this.valueFormatter.toView(x,this.options.formatFn)}var z={value:x,column:this.options.column,data:e[parseInt(d.toString(),10)]};if(this.parent.notify(CX,z),x=z.value,x===""||p(x)){if(A)continue;A=!0}this.infiniteRenderMod&&this.updateInfiniteUnLoadedCheckboxExistPred(x,this.infiniteUnloadParentExistPred);var w=this.localInfiniteSelectAllClicked?this.createCheckbox(x,this.infiniteLocalSelectAll,H("dataObj",e[d])):this.createCheckbox(x,this.getCheckedState(S,this.values[""+E]),H("dataObj",e[d]));a.appendChild(a0(E,w,"e-ftrchk")),this.infiniteRenderMod&&(a.lastChild.style.height=sg(this.cBox)+"px")}var O=this.cBox.scrollTop;!this.infiniteRenderMod||this.infiniteSearchValChange?this.cBox.innerHTML="":this.infiniteRenderMod&&this.cBox.children.length&&rg([].slice.call(this.cBox.children).splice(0,this.parent.filterSettings.itemsCount)),this.infiniteRenderMod&&((o=this.infiniteLoadedElem).push.apply(o,[].slice.call(a.children)),this.itemsCnt=u!==-1?this.infiniteLoadedElem.length-u:this.infiniteLoadedElem.length),this.infiniteUnloadParentExistPred.length&&(this.infiniteLoadedElem.length>=this.infiniteDataCount||!this.options.parentCurrentViewDataCount||this.options.parentTotalDataCount===this.infiniteDataCount&&this.options.parentCurrentViewDataCount)&&(this.infiniteUnloadParentExistPred=[]),tr(this.cBox,[].slice.call(a.children)),this.infiniteRenderMod&&!this.infiniteScrollAppendDiff&&(this.infiniteScrollAppendDiff=Math.round(O-this.cBox.scrollTop)),this.updateIndeterminatenBtn(),this.infiniteRenderMod?l&&l.disabled?h=!0:h=!1:(l&&(l.disabled=!1),h=!1)}else{if(a.appendChild(this.parent.createElement("span",{innerHTML:this.getLocalizedLabel("NoResult")})),this.cBox.innerHTML="",this.infiniteRenderMod){var v=this.sBox.querySelector(".e-ftrchk .e-selectall");if(v){var L=v.parentElement.parentElement;v.classList.contains("e-check")?Zc(L):v.classList.contains("e-stop")&&(Zc(L),v.classList.remove("e-stop"),Zc(L)),v.previousSibling.disabled=!0,v.parentElement.classList.add("e-checkbox-disabled")}var j=this.sBox.querySelector(".e-ftrchk .e-add-current");if(j){var B=j.parentElement.parentElement;j.classList.contains("e-check")&&Zc(B),j.previousSibling.disabled=!0,j.parentElement.classList.add("e-checkbox-disabled")}}this.cBox.appendChild(this.parent.createElement("div",{className:"e-checkfltrnmdiv"})),tr(this.cBox.children[0],[].slice.call(a.children)),l&&(l.disabled=!0),h=!0,this.filterState=!h}l&&e.length&&(this.filterState=!l.disabled,l.dataBind());var V={requestType:n0,dataSource:this.renderEmpty?[]:e},ee="filterModel";V[""+ee]=this,this.parent.notify(mN,V),this.parent.notify(wC,{disabled:h}),this.infiniteRenderMod&&this.infiniteInitialLoad&&(this.cBox.style.marginTop="0px"),wl(this.spinner)},r.prototype.updateInfiniteUnLoadedCheckboxExistPred=function(e,t){for(var i=0;i<t.length;i++){var n=t[i],s=n.value instanceof Date?this.valueFormatter.toView(n.value,this.options.formatFn):n.value,o=this.options.column;if(o.isForeignColumn()){var a=Zh(o,{},s,this.foreignKeyData)[0];e=H(o.foreignKeyField,a)}e===s&&(n.operator==="equal"||n.operator==="notequal")&&(this.infiniteManualSelectMaintainPred.push(t[i]),t.splice(i,1),i--)}},r.prototype.getCheckedState=function(e,t){if(!this.isFiltered||!e)return!0;var i=this.sInput&&this.sInput.value?!0:this.result[""+t];return this.infiniteRenderMod?i:this.options.operator==="notequal"?!i:i},r.getDistinct=function(e,t,i,n,s){for(var o=e.length,a=[],l,h="ejValue",u={},c=i&&i.isForeignColumn?i.isForeignColumn():!1;o--;){l=e[parseInt(o.toString(),10)],l=It(t,l);var d=typeof l=="string"&&!p(s)&&!p(s.parent)&&!p(s.parent.filterSettings)&&!p(s.parent.filterSettings.enableCaseSensitivity)?l.toLowerCase():l;if(!(d in u)){var f={};if(f[""+h]=l,u[""+d]=!0,c){var g=Zh(i,{},l,n)[0];Ze(Qj,g,e[parseInt(o.toString(),10)]),l=H(i.foreignKeyValue,g)}Ze(t,p(l)?null:l,f),Ze("dataObj",e[parseInt(o.toString(),10)],f),a.push(f)}}return re.group(re.sort(a,t,re.fnAscending),"ejValue")},r.getPredicate=function(e){for(var t=re.distinct(e,"field",!0)||[],i=[],n={},s=0;s<t.length;s++)i=new fe(e).executeLocal(new He().where("field","equal",t[parseInt(s.toString(),10)].field)),i.length!==0&&(n[t[parseInt(s.toString(),10)].field]=r.generatePredicate(i));return n},r.generatePredicate=function(e){var t=e?e.length:0,i,n=r.updateDateFilter(e[0]);n.ignoreAccent=p(n.ignoreAccent)?!1:n.ignoreAccent,n.type==="date"||n.type==="datetime"||n.type==="dateonly"?i=zu(n,n.type):i=n.ejpredicate?n.ejpredicate:new Tt(n.field,n.operator,n.value,!r.getCaseValue(n),n.ignoreAccent);for(var s=1;s<t;s++)e[parseInt(s.toString(),10)]=r.updateDateFilter(e[parseInt(s.toString(),10)]),t>2&&s>1&&(e[s].predicate==="or"&&e[s-1].predicate==="or"||e[s].predicate==="and"&&e[s-1].predicate==="and")?e[s].type==="date"||e[s].type==="datetime"||e[s].type==="dateonly"?i.predicates.push(zu(e[parseInt(s.toString(),10)],e[s].type)):i.predicates.push(new Tt(e[s].field,e[parseInt(s.toString(),10)].operator,e[parseInt(s.toString(),10)].value,!r.getCaseValue(e[parseInt(s.toString(),10)]),e[parseInt(s.toString(),10)].ignoreAccent)):e[s].type==="date"||e[s].type==="datetime"||e[s].type==="dateonly"?i=i[e[parseInt(s.toString(),10)].predicate](zu(e[parseInt(s.toString(),10)],e[parseInt(s.toString(),10)].type),e[parseInt(s.toString(),10)].type,e[parseInt(s.toString(),10)].ignoreAccent):i=e[parseInt(s.toString(),10)].ejpredicate?i[e[parseInt(s.toString(),10)].predicate](e[parseInt(s.toString(),10)].ejpredicate):i[e[parseInt(s.toString(),10)].predicate](e[parseInt(s.toString(),10)].field,e[parseInt(s.toString(),10)].operator,e[parseInt(s.toString(),10)].value,!r.getCaseValue(e[parseInt(s.toString(),10)]),e[parseInt(s.toString(),10)].ignoreAccent);return i||null},r.getCaseValue=function(e){return p(e.matchCase)?!(e.type==="string"||p(e.type)&&typeof e.value=="string"):e.matchCase},r.updateDateFilter=function(e){return(e.type==="date"||e.type==="datetime"||e.type==="dateonly"||e.value instanceof Date)&&(e.type=e.type||"date"),e},r}(),Ar="",Vg="",Xc="",_i=[],_te="e-active",yy="";function ed(r,e,t,i,n,s,o,a,l){!s||Ar===""?Xc!==""?(Ar=Xc+String.fromCharCode(r),Xc=""):Ar+=String.fromCharCode(r):Ar===Vg&&(Xc=String.fromCharCode(r)),a?(setTimeout(function(){Xc=""},700),setTimeout(function(){Ar=""},3e3)):setTimeout(function(){Ar=""},1e3);var h;if(Ar=Ar.toLowerCase(),yy===n&&Vg===Ar&&!l){for(var u=0;u<_i.length;u++){if(_i[u].classList.contains(_te)){h=u;break}if(o&&_i[u].textContent.toLowerCase()===o.toLowerCase()){h=u;break}}return h=h+1,a?_i[h]&&_i.length-1!==h?_i[h]:_i[_i.length]:_i[h]?_i[h]:_i[0]}else{var c=e,d=Ar.length,f=void 0,g=void 0;t=t?t+1:0;var u=t;_i=[];do u===c.length&&(u=-1),u===-1?h=0:h=u,g=c[h],f=g.innerText.toLowerCase(),f.substr(0,d)===Ar&&_i.push(c[h]),u++;while(u!==t);if(Vg=Ar,yy=n,a){for(var m=!1,y=0;y<_i.length;y++)if(o&&_i[y].textContent.toLowerCase()===o.toLowerCase()){h=y,m=!0;break}return o&&m&&(h=h+1),_i[h]?_i[h]:_i[0]}return _i[0]}}function xu(r,e,t,i,n,s,o,a){var l=e;i=i??!0;var h={item:null,index:null};if(r&&r.length&&e){var u=r.length,c=i?r.toLocaleLowerCase():r;c=Yte(c);for(var d=function(y,v){var M=v[y],S;if(e&&n){var b=M,C=s.text.split(".");n.filter(function(k){Array.prototype.slice.call(C).forEach(function(N){(o==="object"&&!k.isHeader&&b.textContent.toString().indexOf(k[N])!==-1&&k[s.value]!=null&&b.getAttribute("data-value")===k[s.value].toString()||o==="string"&&b.textContent.toString().indexOf(k)!==-1)&&(S=o==="object"?k[N]:k)})})}var T=n&&S?(i?S.toString().toLocaleLowerCase():S).replace(/^\s+|\s+$/g,""):(i?M.textContent.toLocaleLowerCase():M.textContent).replace(/^\s+|\s+$/g,"");if(a&&T&&c&&(T=T.normalize("NFD").replace(/[\u0300-\u036f]/g,""),c=c.normalize("NFD").replace(/[\u0300-\u036f]/g,"")),t==="Equal"&&T===c||t==="StartsWith"&&T.substr(0,u)===c||t==="EndsWith"&&T.substr(T.length-c.length)===c||t==="Contains"&&new RegExp(c,"g").test(T))return h.item=M,h.index=y,{value:{item:M,index:y}}},f=0,g=l;f<g.length;f++){var m=d(f,g);if(typeof m=="object")return m.value}return h}return h}function Yte(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Wte(r){yy===r&&(yy="",Vg="",Ar="",_i=[])}function og(r,e,t,i){var n=/<[^>]*>/g.test(r.innerText);if(n&&e!==""&&(r.innerText=r.innerText.replace(/[\u00A0-\u9999<>&]/g,function(a){return"&#"+a.charCodeAt(0)+";"})),e!==""){var s=t?"gim":"gm";e=/^[a-zA-Z0-9- ]*$/.test(e)?e:e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var o=i==="StartsWith"?"^("+e+")":i==="EndsWith"?"("+e+")$":"("+e+")";MP(r,new RegExp(o,s))}}function MP(r,e){for(var t=0;r.childNodes&&t<r.childNodes.length;t++)if(r.childNodes[t].nodeType===3&&r.childNodes[t].textContent.trim()!==""){var i=r.childNodes[t].nodeValue.trim().replace(e,'<span class="e-highlight">$1</span>');r.childNodes[t].nodeValue="",r.innerHTML=r.innerHTML.trim()+i;break}else MP(r.childNodes[t],e)}function qte(r){for(var e=r.querySelectorAll(".e-highlight"),t=e.length-1;t>=0;t--){var i=e[t].parentNode,n=document.createTextNode(e[t].textContent);i.replaceChild(n,e[t])}}var Ut={li:"e-list-item",ul:"e-list-parent e-ul",group:"e-list-group-item",icon:"e-list-icon",text:"e-list-text",check:"e-list-check",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-list-url",disabled:"e-disabled",image:"e-list-img",iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"},zn;(function(r){r.defaultMappedFields={id:"id",text:"text",url:"url",value:"value",isChecked:"isChecked",enabled:"enabled",expanded:"expanded",selected:"selected",iconCss:"iconCss",child:"child",isVisible:"isVisible",hasChildren:"hasChildren",tooltip:"tooltip",htmlAttributes:"htmlAttributes",urlAttributes:"urlAttributes",imageAttributes:"imageAttributes",imageUrl:"imageUrl",groupBy:null,sortBy:null};var e={level:1,listRole:"presentation",itemRole:"presentation",groupItemRole:"group",itemText:"list-item",wrapperRole:"presentation"},t={showCheckBox:!1,showIcon:!1,enableHtmlSanitizer:!1,expandCollapse:!1,fields:r.defaultMappedFields,ariaAttributes:e,listClass:"",itemClass:"",processSubChild:!1,sortOrder:"None",template:null,groupTemplate:null,headerTemplate:null,expandIconClass:"e-icon-collapsible",moduleName:"list",expandIconPosition:"Right",itemNavigable:!1};function i(x,D,z,w,O){var L=ie({},t,z),j=ie({},e,L.ariaAttributes),B=g(D).typeof;return B==="string"||B==="number"?n(x,D,w,z,O):a(x,D,z,j.level,w,O)}r.createList=i;function n(x,D,z,w,O){var L=s(x,D,z,w,O);return A(x,L,null,w)}r.createListFromArray=n;function s(x,D,z,w,O){var L=[],j=ie({},t,w);Ut=T(j.moduleName);for(var B=S(),V=0;V<D.length;V++)if(!p(D[V])){var ee=void 0;if(j.itemCreating&&typeof j.itemCreating=="function"){var W={dataSource:D,curData:D[V],text:D[V],options:j};j.itemCreating(W)}if(z?ee=C(x,D[V],void 0,null,null,[],null,B,V,w):ee=N(x,D[V],void 0,null,null,w,O),j.itemCreated&&typeof j.itemCreated=="function"){var W={dataSource:D,curData:D[V],text:D[V],item:ee,options:j};j.itemCreated(W)}L.push(ee)}return L}r.createListItemFromArray=s;function o(x,D,z,w,O,L){var j=ie({},t,z);Ut=T(j.moduleName);var B=L&&(L.getModuleName()==="listview"||L.getModuleName()==="multiselect")?j.fields:ie({},r.defaultMappedFields,j.fields),V=ie({},e,j.ariaAttributes),ee,W=[];w&&(V.level=w);var J=[],K,le;D&&D.length&&!p(g(D).item)&&!Object.prototype.hasOwnProperty.call(g(D).item,B.id)&&(ee=S());for(var me=0;me<D.length;me++){var pe=td(D[me],B);if(!p(D[me])){if(j.itemCreating&&typeof j.itemCreating=="function"){var P={dataSource:D,curData:D[me],text:pe[B.text],options:j,fields:B};j.itemCreating(P)}var ve=D[me];j.itemCreating&&typeof j.itemCreating=="function"&&(pe=td(D[me],B)),Object.prototype.hasOwnProperty.call(pe,B.id)&&!p(pe[B.id])&&(ee=pe[B.id]);var X=[];if(j.showCheckBox&&(j.itemNavigable&&(pe[B.url]||pe[B.urlAttributes])?W.push(x("input",{className:Ut.check,attrs:{type:"checkbox"}})):X.push(x("input",{className:Ut.check,attrs:{type:"checkbox"}}))),O===!0){if(j.showIcon&&Object.prototype.hasOwnProperty.call(pe,B.iconCss)&&!p(pe[B.iconCss])&&X.push(x("span",{className:Ut.icon+" "+pe[B.iconCss]})),K=C(x,ve,pe,B,j.itemClass,X,!!(Object.prototype.hasOwnProperty.call(ve,"isHeader")&&ve.isHeader),ee,me,z),le=K.querySelector("."+Ut.anchorWrap),Object.prototype.hasOwnProperty.call(pe,B.tooltip)){var De=pe[B.tooltip];if(z&&z.enableHtmlSanitizer)De=St.sanitize(De);else{var Fe=x("span",{innerHTML:De});De=Fe.innerText,Fe=null}K.setAttribute("title",De)}j.itemNavigable&&W.length&&ts(W,K.firstElementChild)}else{if(K=N(x,ve,pe,B,j.itemClass,z,L),K.classList.add(Ut.level+"-"+V.level),K.setAttribute("aria-level",V.level.toString()),(V.groupItemRole==="presentation"||V.itemRole==="presentation")&&K.removeAttribute("aria-level"),le=K.querySelector("."+Ut.anchorWrap),Object.prototype.hasOwnProperty.call(pe,B.tooltip)){var De=pe[B.tooltip];if(z&&z.enableHtmlSanitizer)De=St.sanitize(De);else{var Fe=x("span",{innerHTML:De});De=Fe.innerText,Fe=null}K.setAttribute("title",De)}if(Object.prototype.hasOwnProperty.call(pe,B.htmlAttributes)&&pe[B.htmlAttributes]){var Re=pe[B.htmlAttributes];"class"in Re&&typeof Re.class=="string"&&Re.class.trim()===""&&delete Re.class,m(K,Re)}if(Object.prototype.hasOwnProperty.call(pe,B.enabled)&&pe[B.enabled]===!1&&K.classList.add(Ut.disabled),Object.prototype.hasOwnProperty.call(pe,B.isVisible)&&pe[B.isVisible]===!1&&(K.style.display="none"),Object.prototype.hasOwnProperty.call(pe,B.imageUrl)&&!p(pe[B.imageUrl])&&!j.template){var U={src:pe[B.imageUrl],alt:p(pe.name)?"Displaying Image":"Displaying "+pe.name+" Image"};ai(U,pe[B.imageAttributes]);var Y=x("img",{className:Ut.image,attrs:U});le?le.insertAdjacentElement("afterbegin",Y):ts([Y],K.firstElementChild)}if(j.showIcon&&Object.prototype.hasOwnProperty.call(pe,B.iconCss)&&!p(pe[B.iconCss])&&!j.template){var ae=x("div",{className:Ut.icon+" "+pe[B.iconCss]});le?le.insertAdjacentElement("afterbegin",ae):ts([ae],K.firstElementChild)}X.length&&ts(X,K.firstElementChild),j.itemNavigable&&W.length&&ts(W,K.firstElementChild),b(x,pe,B,D,j,K,V.level)}if(le&&Z([K],[Ut.navigable]),j.itemCreated&&typeof j.itemCreated=="function"){var P={dataSource:D,curData:D[me],text:pe[B.text],item:K,options:j,fields:B};j.itemCreated(P)}W=[],J.push(K)}}return J}r.createListItemFromJson=o;function a(x,D,z,w,O,L){var j=ie({},t,z),B=o(x,D,z,w,O,L);return A(x,B,j.listClass,z)}r.createListFromJson=a;function l(x,D,z){if(Ut=T(t.moduleName),!(!x||!x.length)){var w,O,L=Array.prototype.slice.call(x);for(D?O=h(D,L):O=z===!0?L.length:-1,w=L[O+(z===!0?-1:1)];w&&(!OI(w)||w.classList.contains(Ut.disabled));)O=O+(z===!0?-1:1),w=L[O];return w}}r.getSiblingLI=l;function h(x,D){if(!(!D||!x)){var z=D;return z=Array.prototype.slice.call(D),z.indexOf(x)}}r.indexOf=h;function u(x,D,z){z===void 0&&(z="None");var w=ie({},r.defaultMappedFields,D),O=new He().group(w.groupBy);O=c(z,"key",O);var L=d(x,O);x=[];for(var j=0;j<L.length;j++){var B=L[j].items,V={},ee="isHeader";V[w.text]=L[j].key,V[""+ee]=!0;var W=w.text;W==="id"&&(W="text",V[""+W]=L[j].key),V._id="group-list-item-"+(L[j].key?L[j].key.toString().trim():"undefined"),V.items=B,x.push(V);for(var J=0;J<B.length;J++)x.push(B[J])}return x}r.groupDataSource=u;function c(x,D,z){if(z===void 0&&(z=new He),x==="Ascending")z.sortBy(D,"ascending",!0);else if(x==="Descending")z.sortBy(D,"descending",!0);else for(var w=0;w<z.queries.length;w++)z.queries[w].fn==="onSortBy"&&z.queries.splice(w,1);return z}r.addSorting=c;function d(x,D){return new fe(x).executeLocal(D)}r.getDataSource=d;function f(x,D){var z=ie({},t,D),w=ie({},r.defaultMappedFields,z.fields),O=x.cloneNode(!0),L=[];O.classList.add("json-parent");var j=O.querySelectorAll(".json-parent>li");O.classList.remove("json-parent");for(var B=0;B<j.length;B++){for(var V=j[B],ee=V.querySelector("a"),W=V.querySelector("ul"),J={},K=ee?ee.childNodes:V.childNodes,le=Object.keys(K),me=0;me<K.length;me++)K[Number(le[me])].hasChildNodes()||(J[w.text]=K[Number(le[me])].textContent);var pe=y(V);pe.id?(J[w.id]=pe.id,delete pe.id):J[w.id]=S(),Object.keys(pe).length&&(J[w.htmlAttributes]=pe),ee&&(pe=y(ee),Object.keys(pe).length&&(J[w.urlAttributes]=pe)),W&&(J[w.child]=f(W,D)),L.push(J)}return L}r.createJsonFromElement=f;function g(x){for(var D={typeof:null,item:null},z=0;z<x.length;z++)if(!p(x[z]))return D={typeof:typeof x[z],item:x[z]};return D}function m(x,D){var z={};ai(z,D),z.class&&(Z([x],z.class.split(" ")),delete z.class),Et(x,z)}function y(x){for(var D={},z=x.attributes,w=0;w<z.length;w++)D[z[w].nodeName]=z[w].nodeValue;return D}function v(x,D,z,w,O,L){Ut=T(t.moduleName);for(var j=x("ul",{className:Ut.ul,attrs:{role:"presentation"}}),B=ie({},t,O),V=ie({},r.defaultMappedFields,w),ee=id(D),W=[],J,K=S(),le=0;le<z.length;le++){var me=td(z[le],V),pe=z[le],P=pe.isHeader;if(typeof z[le]=="string"||typeof z[le]=="number"?J=pe:J=me[V.value],B.itemCreating&&typeof B.itemCreating=="function"){var ve={dataSource:z,curData:pe,text:J,options:B,fields:V};B.itemCreating(ve)}B.itemCreating&&typeof B.itemCreating=="function"&&(me=td(z[le],V),typeof z[le]=="string"||typeof z[le]=="number"?J=pe:J=me[V.value]);var X=x("li",{id:K+"-"+le,className:P?Ut.group:Ut.li,attrs:{role:"presentation"}});if(P)typeof z[le]=="string"||typeof z[le]=="number"?X.innerText=pe:X.innerText=me[V.text];else{var De=P?B.groupTemplateID:B.templateID;if(P)if(L&&L.getModuleName()!=="listview"){var Fe=ee(pe,L,"headerTemplate",De,!!B.isStringTemplate,null,X);Fe&&Ct(Fe,X)}else Ct(ee(pe,L,"headerTemplate",De,!!B.isStringTemplate),X);else if(L&&L.getModuleName()!=="listview"){var Fe=ee(pe,L,"template",De,!!B.isStringTemplate,null,X);Fe&&Ct(Fe,X)}else Ct(ee(pe,L,"template",De,!!B.isStringTemplate),X);X.setAttribute("data-value",p(J)?"null":J),X.setAttribute("role","option")}if(B.itemCreated&&typeof B.itemCreated=="function"){var ve={dataSource:z,curData:pe,text:J,item:X,options:B,fields:V};B.itemCreated(ve)}W.push(X)}return Ct(W,j),j}r.renderContentTemplate=v;function M(x,D,z,w,O,L){for(var j=id(x),B=ie({},r.defaultMappedFields,z),V=ie({},t,O),ee=B.groupBy,W=0,J=w;W<J.length;W++){var K=J[W],le={};if(le[""+ee]=K.textContent,K.innerHTML="",L&&L.getModuleName()!=="listview"){var me=j(le,L,"groupTemplate",V.groupTemplateID,!!V.isStringTemplate,null,K);me&&Ct(me,K)}else Ct(j(le,L,"groupTemplate",V.groupTemplateID,!!V.isStringTemplate),K)}return w}r.renderGroupTemplate=M;function S(){var x=new Uint32Array(1);return window.crypto.getRandomValues(x),Math.floor((1+x[0]/4294967296)*65536).toString(16).substring(1)}r.generateId=S;function b(x,D,z,w,O,L,j){var B=D[z.child]||[],V=D[z.hasChildren];if(B.length&&(V=!0,L.classList.add(Ut.hasChild),O.processSubChild)){var ee=a(x,B,O,++j);L.appendChild(ee)}if(O.expandCollapse&&V&&!O.template){L.firstElementChild.classList.add(Ut.iconWrapper);var W=O.expandIconPosition==="Left"?ts:Ct;W([x("div",{className:"e-icons "+O.expandIconClass})],L.querySelector("."+Ut.textContent))}}function C(x,D,z,w,O,L,j,B,V,ee){var W=ie({},t,ee),J=ie({},e,W.ariaAttributes),K=D,le=D,me;typeof D!="string"&&typeof D!="number"&&typeof D!="boolean"&&(me=D,K=typeof z[w.text]=="boolean"||typeof z[w.text]=="number"?z[w.text]:z[w.text]||"",le=z[w.value]);var pe;!p(me)&&!p(z[w.id])&&z[w.id]!==""?pe=B:pe=B+"-"+V;var P=x("li",{className:(j===!0?Ut.group:Ut.li)+" "+(p(O)?"":O),id:pe,attrs:J.groupItemRole!==""&&J.itemRole!==""?{role:j===!0?J.groupItemRole:J.itemRole}:{}});return me&&Object.prototype.hasOwnProperty.call(z,w.enabled)&&z[w.enabled].toString()==="false"&&P.classList.add(Ut.disabled),ee&&ee.enableHtmlSanitizer&&(K=St.sanitize(K)),j?P.innerText=K:(P.setAttribute("data-value",p(le)?"null":le),P.setAttribute("role","option"),me&&Object.prototype.hasOwnProperty.call(z,w.htmlAttributes)&&z[w.htmlAttributes]&&m(P,z[w.htmlAttributes]),L.length&&!W.itemNavigable&&Ct(L,P),me&&(z[w.url]||z[w.urlAttributes]&&z[w.urlAttributes].href)?P.appendChild(k(x,me,w,K,L,W.itemNavigable)):(L.length&&W.itemNavigable&&Ct(L,P),P.appendChild(document.createTextNode(K)))),P}function T(x){return{li:"e-"+x+"-item",ul:"e-"+x+"-parent e-ul",group:"e-"+x+"-group-item",icon:"e-"+x+"-icon",text:"e-"+x+"-text",check:"e-"+x+"-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-"+x+"-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-"+x+"-img",iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"}}function k(x,D,z,w,O,L){var j=td(D,z),B={href:j[z.url]};Object.prototype.hasOwnProperty.call(j,z.urlAttributes)&&j[z.urlAttributes]&&(ai(B,j[z.urlAttributes]),B.href=j[z.url]?j[z.url]:j[z.urlAttributes].href);var V;if(!L)V=x("a",{className:Ut.text+" "+Ut.url,innerHTML:w});else{V=x("a",{className:Ut.text+" "+Ut.url});var ee=x("div",{className:Ut.anchorWrap});O&&O.length&&Ct(O,ee),ee.appendChild(document.createTextNode(w)),Ct([ee],V)}return m(V,B),V}function N(x,D,z,w,O,L,j){var B=ie({},t,L),V=ie({},e,B.ariaAttributes),ee=D,W,J,K;typeof D!="string"&&typeof D!="number"&&(K=D,ee=z[w.text]||"",W=p(z._id)?z[w.id]:z._id,J=!!(Object.prototype.hasOwnProperty.call(D,"isHeader")&&D.isHeader)),L&&L.enableHtmlSanitizer&&(ee=St.sanitize(ee));var le=x("li",{className:(J===!0?Ut.group:Ut.li)+" "+(p(O)?"":O),attrs:V.groupItemRole!==""&&V.itemRole!==""?{role:J===!0?V.groupItemRole:V.itemRole}:{}});if(p(W)?le.setAttribute("data-uid",S()):le.setAttribute("data-uid",W),J&&L&&L.groupTemplate){var me=id(L.groupTemplate);if(j&&j.getModuleName()!=="listview"){var pe=me(D,j,"groupTemplate",B.groupTemplateID,!!B.isStringTemplate,null,le);pe&&Ct(pe,le)}else Ct(me(D,j,"groupTemplate",B.groupTemplateID,!!B.isStringTemplate),le)}else if(!J&&L&&L.template)if(j&&j.getModuleName()!=="listview"){var me=id(L.template),pe=me(D,j,"template",B.templateID,!!B.isStringTemplate,null,le);pe&&Ct(pe,le)}else if(j&&j.isInternalTemplate)Ct(L.template(D),le);else{var me=id(L.template);Ct(me(D,j,"template",B.templateID,!!B.isStringTemplate),le)}else{var P=x("div",{className:Ut.textContent,attrs:V.wrapperRole!==""?{role:V.wrapperRole}:{}});if(K&&(z[w.url]||z[w.urlAttributes]&&z[w.urlAttributes].href))P.appendChild(k(x,K,w,ee,null,B.itemNavigable));else{var ve=x("span",{className:Ut.text,attrs:V.itemText!==""?{role:V.itemText}:{}});L&&L.enableHtmlSanitizer?ve.innerText=ee:ve.innerHTML=ee,P.appendChild(ve)}le.appendChild(P)}return le}function A(x,D,z,w){var O=ie({},t,w),L=ie({},e,O.ariaAttributes);Ut=T(O.moduleName);var j=x("ul",{className:Ut.ul+" "+(p(z)?"":z),attrs:L.listRole!==""?{role:L.listRole}:{}});return Ct(D,j),j}r.generateUL=A;function E(x,D,z,w){var O=ie({},t,w);Ut=T(O.moduleName);var L=O.expandIconPosition==="Left"?ts:Ct;return L([x("div",{className:"e-icons "+O.expandIconClass+" "+(p(z)?"":z)})],D.querySelector("."+Ut.textContent)),D}r.generateIcon=E})(zn||(zn={}));function td(r,e){var t={};if(p(r)||typeof r=="string"||typeof r=="number"||!p(r.isHeader))return r;for(var i=0,n=Object.keys(e);i<n.length;i++){var s=n[i],o=e[""+s],a=!p(o)&&typeof o=="string"?H(o,r):void 0;p(a)||(t[""+o]=a)}return t}function id(r){if(r)try{return typeof r!="function"&&document.querySelector(r)?Xt(document.querySelector(r).innerHTML.trim()):Xt(r)}catch{return Xt(r)}}var Gte=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Sa=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},l0={TEXTSHAPE:"e-skeleton-text",CIRCLESHAPE:"e-skeleton-circle",SQUARESHAPE:"e-skeleton-square",RECTANGLESHAPE:"e-skeleton-rectangle",WAVEEFFECT:"e-shimmer-wave",PULSEEFFECT:"e-shimmer-pulse",FADEEFFECT:"e-shimmer-fade",VISIBLENONE:"e-visible-none"},kN;(function(r){r.Text="Text",r.Circle="Circle",r.Square="Square",r.Rectangle="Rectangle"})(kN||(kN={}));var LN;(function(r){r.Wave="Wave",r.Fade="Fade",r.Pulse="Pulse",r.None="None"})(LN||(LN={}));var zN=function(r){Gte(e,r);function e(t,i){return r.call(this,t,i)||this}return e.prototype.getModuleName=function(){return"skeleton"},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.prototype.preRender=function(){this.element.id||(this.element.id=Ic("e-"+this.getModuleName())),this.updateCssClass(),Et(this.element,{role:"alert","aria-busy":"true","aria-live":"polite","aria-label":this.label})},e.prototype.render=function(){this.initialize()},e.prototype.onPropertyChanged=function(t,i){for(var n=0,s=Object.keys(t);n<s.length;n++){var o=s[n];switch(o){case"width":case"height":this.updateDimension();break;case"shape":this.updateShape();break;case"shimmerEffect":this.updateEffect();break;case"visible":this.updateVisibility();break;case"label":this.element.setAttribute("aria-label",this.label);break;case"cssClass":i.cssClass&&ue([this.element],i.cssClass.split(" ")),this.updateCssClass();break}}},e.prototype.destroy=function(){r.prototype.destroy.call(this);var t=["role","aria-live","aria-busy","aria-label"],i=[];this.cssClass&&(i=i.concat(this.cssClass.split(" ")));for(var n=0;n<t.length;n++)this.element.removeAttribute(t[parseInt(n.toString(),10)]);i=i.concat(this.element.classList.value.match(/(e-skeleton-[^\s]+)/g)||[]),i=i.concat(this.element.classList.value.match(/(e-shimmer-[^\s]+)/g)||[]),ue([this.element],i)},e.prototype.initialize=function(){this.updateShape(),this.updateEffect(),this.updateVisibility()},e.prototype.updateShape=function(){if(!p(this.shape)){var t=l0[this.shape.toUpperCase()+"SHAPE"],i=this.element.classList.value.match(/(e-skeleton-[^\s]+)/g)||[];this.updateDimension(),i&&ue([this.element],i),Z([this.element],[t])}},e.prototype.updateDimension=function(){var t=!this.width&&["Text","Rectangle"].indexOf(this.shape)>-1?"100%":mt(this.width),i=["Circle","Square"].indexOf(this.shape)>-1?t:mt(this.height);this.element.style.width=t,this.element.style.height=i},e.prototype.updateEffect=function(){var t=this.element.classList.value.match(/(e-shimmer-[^\s]+)/g)||[];t&&ue([this.element],t),p(this.shimmerEffect)||Z([this.element],[l0[this.shimmerEffect.toUpperCase()+"EFFECT"]])},e.prototype.updateVisibility=function(){this.element.classList[this.visible?"remove":"add"](l0.VISIBLENONE)},e.prototype.updateCssClass=function(){this.cssClass&&Z([this.element],this.cssClass.split(" "))},Sa([I("")],e.prototype,"width",void 0),Sa([I("")],e.prototype,"height",void 0),Sa([I(!0)],e.prototype,"visible",void 0),Sa([I("Text")],e.prototype,"shape",void 0),Sa([I("Wave")],e.prototype,"shimmerEffect",void 0),Sa([I("Loading...")],e.prototype,"label",void 0),Sa([I("")],e.prototype,"cssClass",void 0),e=Sa([tn],e),e}(rr),SP=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),gi=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},CP=function(r){SP(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return gi([I()],e.prototype,"text",void 0),gi([I()],e.prototype,"value",void 0),gi([I()],e.prototype,"iconCss",void 0),gi([I()],e.prototype,"groupBy",void 0),gi([I()],e.prototype,"htmlAttributes",void 0),gi([I()],e.prototype,"disabled",void 0),e}(Xe),Ve={root:"e-dropdownbase",rtl:"e-rtl",content:"e-content",selected:"e-active",hover:"e-hover",noData:"e-nodata",fixedHead:"e-fixed-head",focus:"e-item-focus",li:"e-list-item",group:"e-list-group-item",disabled:"e-disabled",grouping:"e-dd-group",virtualList:"e-list-item e-virtual-list"},$te="ItemTemplate",Kte="DisplayTemplate",Jte="SpinnerTemplate",Zte="ValueTemplate",Xte="GroupTemplate",eie="HeaderTemplate",tie="FooterTemplate",iie="NoRecordsTemplate",nie="ActionFailureTemplate",rie="e-hide-group-header",sie=function(r){SP(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.preventChange=!1,n.isPreventChange=!1,n.isDynamicDataChange=!1,n.addedNewItem=!1,n.isAddNewItemTemplate=!1,n.isRequesting=!1,n.isVirtualizationEnabled=!1,n.isCustomDataUpdated=!1,n.isAllowFiltering=!1,n.virtualizedItemsCount=0,n.isCheckBoxSelection=!1,n.totalItemCount=0,n.dataCount=0,n.remoteDataCount=-1,n.isRemoteDataUpdated=!1,n.isIncrementalRequest=!1,n.itemCount=30,n.virtualListHeight=0,n.isVirtualScrolling=!1,n.isPreventScrollAction=!1,n.scrollPreStartIndex=0,n.isScrollActionTriggered=!1,n.previousStartIndex=0,n.isMouseScrollAction=!1,n.isKeyBoardAction=!1,n.isScrollChanged=!1,n.isUpwardScrolling=!1,n.startIndex=0,n.currentPageNumber=0,n.pageCount=0,n.isPreventKeyAction=!1,n.generatedDataObject={},n.skeletonCount=32,n.isVirtualTrackHeight=!1,n.virtualSelectAll=!1,n.isVirtualReorder=!1,n.incrementalQueryString="",n.incrementalEndIndex=0,n.incrementalStartIndex=0,n.incrementalPreQueryString="",n.isObjectCustomValue=!1,n.appendUncheckList=!1,n.getInitialData=!1,n.preventPopupOpen=!0,n.virtualSelectAllState=!1,n.CurrentEvent=null,n.isDynamicData=!1,n.isPrimitiveData=!1,n.isCustomFiltering=!1,n.debounceTimer=null,n.virtualListInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:0},n.viewPortInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:0},n.selectedValueInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:0},n}return e.prototype.getPropObject=function(t,i,n){var s=new Object,o=new Object,a=function(h){return h};s[a(t)]=i[a(t)],o[a(t)]=n[a(t)];var l=new Object;return l.newProperty=s,l.oldProperty=o,l},e.prototype.getValueByText=function(t,i,n){var s=null;return p(this.listData)||(i?s=this.checkValueCase(t,!0,n):s=this.checkValueCase(t,!1,n)),s},e.prototype.checkValueCase=function(t,i,n,s){var o=this,a=null;if(s&&(a=t),!p(this.listData)){var l=this.listData,h=this.fields,u=this.typeOfData(l).typeof;if(u==="string"||u==="number"||u==="boolean")for(var c=0,d=l;c<d.length;c++){var f=d[c];p(f)||(n?i?this.checkIgnoreCase(String(f),t)&&(a=this.checkingAccent(String(f),t,i)):a=this.checkingAccent(String(f),t,i):i?this.checkIgnoreCase(String(f),t)&&(a=this.getItemValue(String(f),t,i)):this.checkNonIgnoreCase(String(f),t)&&(a=this.getItemValue(String(f),t,i,s)))}else if(i)l.filter(function(m){var y=H(h.value,m);!p(y)&&o.checkIgnoreCase(H(h.text,m).toString(),t)&&(a=H(h.value,m))});else if(s){var g=null;g=a,l.filter(function(m){var y=H(h.value,m);!p(y)&&!p(a)&&y.toString()===g.toString()&&(a=H(h.text,m))})}else l.filter(function(m){o.checkNonIgnoreCase(H(h.text,m),t)&&(a=H(h.value,m))})}return a},e.prototype.checkingAccent=function(t,i,n){var s=re.ignoreDiacritics(String(t)),o=re.ignoreDiacritics(i.toString()),a=null;return n?this.checkIgnoreCase(s,o)&&(a=this.getItemValue(String(t),i,n)):this.checkNonIgnoreCase(String(t),i)&&(a=this.getItemValue(String(t),i,n)),a},e.prototype.checkIgnoreCase=function(t,i){return String(t).toLowerCase()===i.toString().toLowerCase()},e.prototype.checkNonIgnoreCase=function(t,i){return String(t)===i.toString()},e.prototype.getItemValue=function(t,i,n,s){var o=null,a=this.listData,l=this.typeOfData(a).typeof;return s?o=t.toString():n?o=l==="string"?String(t):this.getFormattedValue(String(t)):o=l==="string"?i:this.getFormattedValue(i),o},e.prototype.templateCompiler=function(t){var i=!1;if(typeof t!="function"&&t)try{i=!!ln(t,document).length}catch{i=!1}return i},e.prototype.l10nUpdate=function(t){var i=this.getModuleName()==="listbox"?this.ulElement:this.list;if(!p(this.noRecordsTemplate)&&this.noRecordsTemplate!=="No records found"||this.actionFailureTemplate!=="Request failed"){var n=t?this.actionFailureTemplate:this.noRecordsTemplate,s=void 0,o=t?this.actionFailureTemplateId:this.noRecordsTemplateId;i.innerHTML="";var a=this.templateCompiler(n);typeof n!="function"&&a?s=Xt(ii(n,document).innerHTML.trim()):s=Xt(n);var l=t?"actionFailureTemplate":"noRecordsTemplate",h=void 0;if(this.isReact&&typeof n=="function"?h=s({},this,l,o,this.isStringTemplate,null):h=s({},this,l,o,this.isStringTemplate,null,i),h&&h.length>0)for(var u=0;u<h.length;u++)if(this.getModuleName()==="listbox"&&l==="noRecordsTemplate")if(h[u].nodeName==="#text"){var c=this.createElement("li");c.textContent=h[u].textContent,c.classList.add("e-list-nrt"),c.setAttribute("role","option"),i.appendChild(c)}else h[u].classList.add("e-list-nr-template"),i.appendChild(h[u]);else(h[u]instanceof HTMLElement||h[u]instanceof Text&&h[u].textContent!=="")&&i.appendChild(h[u]);this.renderReactTemplates()}else{var d={noRecordsTemplate:"No records found",actionFailureTemplate:"Request failed"},f=new so(this.getLocaleName(),{},this.locale);f.getConstant("actionFailureTemplate")!==""||f.getConstant("noRecordsTemplate")!==""?this.l10n=f:this.l10n=new so(this.getModuleName()==="listbox"?"listbox":this.getModuleName()==="mention"?"mention":"dropdowns",d,this.locale);var g=t?this.l10n.getConstant("actionFailureTemplate"):this.l10n.getConstant("noRecordsTemplate");if(this.getModuleName()==="listbox"){var c=this.createElement("li");c.textContent=g,i.appendChild(c),c.classList.add("e-list-nrt"),c.setAttribute("role","option")}else p(i)||(i.innerHTML=g)}},e.prototype.checkAndResetCache=function(){this.isVirtualizationEnabled&&(this.generatedDataObject={},this.virtualItemStartIndex=this.virtualItemEndIndex=0,this.viewPortInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:this.itemCount},this.selectedValueInfo=null)},e.prototype.updateIncrementalInfo=function(t,i){this.viewPortInfo.startIndex=t,this.viewPortInfo.endIndex=i,this.updateVirtualItemIndex(),this.isIncrementalRequest=!0,this.resetList(this.dataSource,this.fields,this.query),this.isIncrementalRequest=!1},e.prototype.updateIncrementalView=function(t,i){this.viewPortInfo.startIndex=t,this.viewPortInfo.endIndex=i,this.updateVirtualItemIndex(),this.resetList(this.dataSource,this.fields,this.query),this.UpdateSkeleton(),this.liCollections=this.list.querySelectorAll("."+Ve.li),this.ulElement=this.list.querySelector("ul")},e.prototype.updateVirtualItemIndex=function(){this.virtualItemStartIndex=this.viewPortInfo.startIndex,this.virtualItemEndIndex=this.viewPortInfo.endIndex,this.virtualListInfo=this.viewPortInfo},e.prototype.getFilteringSkeletonCount=function(){var t=this.skeletonCount;this.getSkeletonCount(!0),this.skeletonCount=this.dataCount<this.itemCount*2&&(!(this.dataSource instanceof fe)||this.dataSource instanceof fe&&this.totalItemCount<=this.itemCount)?0:this.skeletonCount;var i=!0;if((this.getModuleName()==="autocomplete"||this.getModuleName()==="multiselect")&&this.totalItemCount<this.itemCount*2&&(!(this.dataSource instanceof fe)||this.dataSource instanceof fe&&this.totalItemCount<=this.itemCount)&&(this.skeletonCount=0,i=!1),!this.list.classList.contains(Ve.noData)){if(t!==this.skeletonCount&&i?this.UpdateSkeleton(!0,Math.abs(t-this.skeletonCount)):this.UpdateSkeleton(),this.liCollections=this.list.querySelectorAll(".e-list-item"),this.list.getElementsByClassName("e-virtual-ddl").length>0)this.list.getElementsByClassName("e-virtual-ddl")[0].style=this.GetVirtualTrackHeight();else if(!this.list.querySelector(".e-virtual-ddl")&&this.skeletonCount>0&&this.list.querySelector(".e-dropdownbase")){var n=this.createElement("div",{id:this.element.id+"_popup",className:"e-virtual-ddl",styles:this.GetVirtualTrackHeight()});this.list.querySelector(".e-dropdownbase").appendChild(n)}this.list.getElementsByClassName("e-virtual-ddl-content").length>0&&(this.list.getElementsByClassName("e-virtual-ddl-content")[0].style=this.getTransformValues())}},e.prototype.getSkeletonCount=function(t){this.virtualListHeight=this.listContainerHeight!=null?parseInt(this.listContainerHeight,10):this.virtualListHeight;var i=this.virtualListHeight>0&&this.listItemHeight>0?Math.floor(this.virtualListHeight/this.listItemHeight):0;this.skeletonCount=i*4<this.itemCount?this.itemCount:i*4,this.itemCount=t?this.itemCount:this.skeletonCount,this.virtualItemCount=this.itemCount,this.skeletonCount=Math.floor(this.skeletonCount/2)},e.prototype.GetVirtualTrackHeight=function(){var t=this.totalItemCount===this.viewPortInfo.endIndex?this.totalItemCount*this.listItemHeight-this.itemCount*this.listItemHeight:this.totalItemCount*this.listItemHeight;t=this.isVirtualTrackHeight?0:t;var i="height: "+(t-this.itemCount*this.listItemHeight)+"px;";return(this.getModuleName()==="autocomplete"||this.getModuleName()==="multiselect")&&this.skeletonCount===0?"height: 0px;":i},e.prototype.getTransformValues=function(){var t=this.viewPortInfo.startIndex*this.listItemHeight;t=t-this.skeletonCount*this.listItemHeight,t=this.viewPortInfo.startIndex===0&&this.listData&&this.listData.length===0||this.skeletonCount===0?0:t;var i="transform: translate(0px, "+t+"px);";return i},e.prototype.UpdateSkeleton=function(t,i){var n=this.list.querySelector(".e-virtual-ddl-content"),s=this.list.querySelector(".e-virtual-list");if(n&&(!s||t)&&this.isVirtualizationEnabled){for(var o=t?i:this.skeletonCount,a=0;a<o;a++){var l=this.createElement("li",{className:Ve.virtualList,styles:"overflow: inherit"});this.isVirtualizationEnabled&&this.itemTemplate&&(l.style.height=this.listItemHeight-parseInt(window.getComputedStyle(this.getItems()[1]).marginBottom,10)+"px");var h=new zN({shape:"Text",height:"10px",width:"95%",cssClass:"e-skeleton-text"});h.appendTo(this.createElement("div")),l.appendChild(h.element),n.firstChild&&n.firstChild.insertBefore(l,n.firstChild.children[0])}if(this.getModuleName()==="multiselect"&&!this.isVirtualReorder&&!n.firstChild.classList.contains("e-reorder")){for(var a=0;a<o&&this.totalItemCount!==this.viewPortInfo.endIndex;a++){var l=this.createElement("li",{className:Ve.virtualList+" e-virtual-list-end",styles:"overflow: inherit"});this.isVirtualizationEnabled&&this.itemTemplate&&(l.style.height=this.listItemHeight-parseInt(window.getComputedStyle(this.getItems()[1]).marginBottom,10)+"px");var h=new zN({shape:"Text",height:"10px",width:"95%",cssClass:"e-skeleton-text-end"});h.appendTo(this.createElement("div")),l.appendChild(h.element),n.firstChild&&n.firstChild.appendChild(l)}this.totalItemCount===this.viewPortInfo.endIndex&&n.querySelectorAll(".e-virtual-list-end").forEach(function(u){return u.remove()})}}},e.prototype.getLocaleName=function(){return"drop-down-base"},e.prototype.getTextByValue=function(t){var i=this.checkValueCase(t,!1,!1,!0);return i},e.prototype.getFormattedValue=function(t){if(this.listData&&this.listData.length){var i=void 0;if(this.properties.allowCustomValue&&this.properties.value&&this.properties.value instanceof Array&&this.properties.value.length>0?i=this.typeOfData(this.properties.value):i=this.typeOfData(this.listData),!p(i.item)&&typeof H(this.fields.value?this.fields.value:"value",i.item)=="number"||i.typeof==="number")return parseFloat(t);if(!p(i.item)&&typeof H(this.fields.value?this.fields.value:"value",i.item)=="boolean"||i.typeof==="boolean")return t==="true"||""+t=="true"}return t},e.prototype.setEnableRtl=function(){p(this.enableRtlElements)||(this.list&&this.enableRtlElements.push(this.list),this.enableRtl?Z(this.enableRtlElements,Ve.rtl):ue(this.enableRtlElements,Ve.rtl))},e.prototype.initialize=function(t){if(this.bindEvent=!0,this.preventPopupOpen=!0,this.actionFailureTemplateId=""+this.element.id+nie,this.element.tagName==="UL"){var i=zn.createJsonFromElement(this.element);this.setProperties({fields:{text:"text",value:"text"}},!0),this.resetList(i,this.fields)}else if(this.element.tagName==="SELECT"){var n=this.dataSource instanceof Array?this.dataSource.length>0:!p(this.dataSource);n?this.isDynamicDataChange&&this.setListData(this.dataSource,this.fields,this.query):this.renderItemsBySelect()}else this.setListData(this.dataSource,this.fields,this.query,t)},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.prototype.updateDataAttribute=function(t){for(var i=["class","style","id","type","aria-expanded","aria-autocomplete","aria-readonly"],n={},s=0;s<this.element.attributes.length;s++)i.indexOf(this.element.attributes[s].name)===-1&&!(this.getModuleName()==="dropdownlist"&&this.element.attributes[s].name==="readonly")&&(n[this.element.attributes[s].name]=this.element.getAttribute(this.element.attributes[s].name));ie(n,t,n),this.setProperties({htmlAttributes:n},!0)},e.prototype.renderItemsBySelect=function(){var t=this.element,i=t.querySelectorAll("select>optgroup"),n,s=this.getModuleName()==="multiselect"&&this.isGroupChecking&&i.length>0;n=s?{value:"value",text:"text",groupBy:"categeory"}:n={value:"value",text:"text"};var o=[],a=t.querySelectorAll("select>option");if(this.getJSONfromOption(o,a,n),i.length){for(var l=0;l<i.length;l++){var h=i[l],u={};u[n.text]=h.label,u.isHeader=!0;var c=h.querySelectorAll("option");s?this.getJSONfromOption(o,c,n,h.label):(o.push(u),this.getJSONfromOption(o,c,n))}t.querySelectorAll("select>option")}this.updateFields(n.text,n.value,s?n.groupBy:this.fields.groupBy,this.fields.htmlAttributes,this.fields.iconCss,this.fields.disabled),this.resetList(o,n)},e.prototype.updateFields=function(t,i,n,s,o,a){var l={fields:{text:t,value:i,groupBy:p(n)?this.fields&&this.fields.groupBy:n,htmlAttributes:p(s)?this.fields&&this.fields.htmlAttributes:s,iconCss:p(o)?this.fields&&this.fields.iconCss:o,disabled:p(a)?this.fields&&this.fields.disabled:a}};this.setProperties(l,!0)},e.prototype.getJSONfromOption=function(t,i,n,s){s===void 0&&(s=null);for(var o=0,a=i;o<a.length;o++){var l=a[o],h={};h[n.text]=l.text,h[n.value]=p(l.getAttribute(n.value))?l.value:l.getAttribute(n.value),p(s)||(h[n.groupBy]=s),t.push(h)}},e.prototype.preRender=function(){this.scrollTimer=-1,this.enableRtlElements=[],this.isRequested=!1,this.isDataFetched=!1,this.itemTemplateId=""+this.element.id+$te,this.displayTemplateId=""+this.element.id+Kte,this.spinnerTemplateId=""+this.element.id+Jte,this.valueTemplateId=""+this.element.id+Zte,this.groupTemplateId=""+this.element.id+Xte,this.headerTemplateId=""+this.element.id+eie,this.footerTemplateId=""+this.element.id+tie,this.noRecordsTemplateId=""+this.element.id+iie},e.prototype.setListData=function(t,i,n,s){var o=this;i=i||this.fields;var a;this.isActive=!0;var l={cancel:!1,data:t,query:n};this.isPreventChange=this.isAngular&&this.preventChange?!0:this.isPreventChange,this.isRequesting||this.trigger("actionBegin",l,function(h){if(!h.cancel)if(o.isRequesting=!0,o.showSpinner(),t instanceof fe){o.isRequested=!0;var u=!1;if(o.isDataFetched){o.emptyDataRequest(i);return}var c=o.getQuery(h.query);h.data.executeQuery(c).then(function(S){o.isPreventChange=o.isAngular&&o.preventChange?!0:o.isPreventChange;var b=!0;if(!o.virtualSelectAll){for(var C=c.clone(),T=0;T<C.queries.length;T++)C.queries[T].fn==="onWhere"&&(u=!0);if(o.isVirtualizationEnabled&&S.count!==0&&S.count<o.itemCount*2){if(C)for(var T=0;T<C.queries.length;T++){if(o.getModuleName()==="multiselect"&&o.isCheckBoxSelection&&C.queries[T].e&&(C.queries[T].e.operator==="notequal"||C.queries[T].e.operator==="equal"||C.queries[T].e.condition==="or"||C.queries[T].e.condition==="and")&&!o.isCustomFiltering){b=!1;break}C.queries[T].fn==="onTake"&&(C.queries[T].e.nos=S.count),o.getModuleName()==="multiselect"&&(C.queries[T].e.condition==="or"||C.queries[T].e.operator==="equal")&&!o.isCustomFiltering&&(b=!1)}}else if(o.isVirtualTrackHeight=!1,C)for(var T=0;T<C.queries.length;T++)o.getModuleName()==="multiselect"&&(C.queries[T].e&&C.queries[T].e.condition==="or"||C.queries[T].e&&C.queries[T].e.operator==="equal")&&(b=!1)}b&&(o.dataCount=o.totalItemCount=S.count),o.trigger("actionComplete",S,function(k){if(!k.cancel){o.isRequesting=!1,o.isCustomFiltering=!1;var N=k.result;if(o.isIncrementalRequest){a=o.renderItems(N,i);return}if((!o.isVirtualizationEnabled&&N.length===0||o.isVirtualizationEnabled&&N.length===0&&!u)&&(o.isDataFetched=!0),u||(o.remoteDataCount=k.count),o.dataCount=o.virtualSelectAll?o.dataCount:k.count,o.totalItemCount=o.virtualSelectAll?o.totalItemCount:k.count,a=o.renderItems(N,i),o.appendUncheckList=!1,o.isUpdateGroupTemplate=!1,o.onActionComplete(a,N,k),o.groupTemplate&&(o.isAngular&&o.getModuleName()==="multiselect"&&o.updateGroupHeaderItems(a),o.renderGroupTemplate(a)),o.isUpdateGroupTemplate=!0,o.isRequested=!1,o.bindChildItems(N,a,i,k),o.getInitialData){o.getInitialData=!1,o.preventPopupOpen=!1;return}var A=!1;o.isVirtualizationEnabled&&o.setCurrentView&&(A=!0,o.notify("setCurrentViewDataAsync",{module:"VirtualScroll"})),o.keyboardEvent!=null&&o.handleVirtualKeyboardActions(o.keyboardEvent,o.pageCount);var E=o.getModuleName()!=="multiselect"||o.getModuleName()==="multiselect"&&(!(o.dataSource instanceof fe)||o.dataSource instanceof fe&&!A);o.isVirtualizationEnabled&&E&&(o.getFilteringSkeletonCount(),o.updatePopupPosition()),o.virtualSelectAll&&o.virtualSelectAllData&&(o.virtualSelectionAll(o.virtualSelectAllState,o.liCollections,o.CurrentEvent),o.virtualSelectAllState=!1,o.CurrentEvent=null,o.virtualSelectAll=!1)}})}).catch(function(S){o.isRequested=!1,o.isRequesting=!1,o.onActionFailure(S),o.hideSpinner()})}else{o.isRequesting=!1;var d=!0,f=void 0;if(o.isVirtualizationEnabled&&!o.virtualGroupDataSource&&o.fields.groupBy){var g=new fe(o.dataSource).executeLocal(new He().group(o.fields.groupBy));o.virtualGroupDataSource=g.records}var m=o.isVirtualizationEnabled&&o.virtualGroupDataSource&&!o.isCustomDataUpdated?new fe(o.virtualGroupDataSource):new fe(h.data);if(f=o.getQuery(h.query).executeLocal(m),!o.virtualSelectAll){var y=o.getQuery(h.query);if(o.isVirtualizationEnabled&&f.count!==0&&f.count<o.itemCount*2){if(y){for(var v=0;v<y.queries.length;v++){if(o.getModuleName()==="multiselect"&&o.isCheckBoxSelection&&y.queries[v].e&&(y.queries[v].e.operator==="notequal"||y.queries[v].e.operator==="equal"||y.queries[v].e.condition==="or"||y.queries[v].e.condition==="and")&&!o.isCustomFiltering&&o.totalItemCount>o.itemCount*2){d=!1;break}y.queries[v].fn==="onTake"&&(y.queries[v].e.nos=f.count,f=y.executeLocal(m)),o.getModuleName()==="multiselect"&&(y.queries[v].e.condition==="or"||y.queries[v].e.operator==="equal")&&!o.isCustomFiltering&&(d=!1)}d&&(f=y.executeLocal(m),o.isVirtualTrackHeight=!(o.dataSource instanceof fe)&&!o.isCustomDataUpdated)}}else if(o.isVirtualTrackHeight=!1,y)for(var v=0;v<y.queries.length;v++)o.getModuleName()==="multiselect"&&(y.queries[v].e&&y.queries[v].e.condition==="or"||y.queries[v].e&&y.queries[v].e.operator==="equal")&&(d=!1)}d&&!(o.dataSource instanceof fe)&&!o.isCustomDataUpdated&&!o.virtualSelectAll&&(o.dataCount=o.totalItemCount=o.virtualSelectAll?f.length:f.count),f=o.isVirtualizationEnabled?f.result:f;var M={cancel:!1,result:f};o.isPreventChange=o.isAngular&&o.preventChange?!0:o.isPreventChange,o.trigger("actionComplete",M,function(S){if(o.isCustomFiltering=!1,o.isIncrementalRequest){a=o.renderItems(S.result,i);return}if(!S.cancel){if(a=o.renderItems(S.result,i),o.isUpdateGroupTemplate=!1,o.onActionComplete(a,S.result,s),o.groupTemplate&&(o.isAngular&&o.getModuleName()==="multiselect"&&o.updateGroupHeaderItems(a),o.renderGroupTemplate(a)),o.isUpdateGroupTemplate=!0,o.bindChildItems(S.result,a,i),o.getInitialData){o.getInitialData=!1,o.preventPopupOpen=!1;return}setTimeout(function(){o.getModuleName()==="multiselect"&&o.itemTemplate!=null&&a.childElementCount>0&&(a.children[0].childElementCount>0||o.fields.groupBy&&a.children[1]&&a.children[1].childElementCount>0)&&o.updateDataList()})}})}})},e.prototype.updateGroupHeaderItems=function(t){for(var i=t.querySelectorAll("."+Ve.group),n=[],s=0;s<i.length;s++)n.push(i[s].cloneNode?i[s].cloneNode(!0):i[s]);this.isFilterAction?this.fiteredGroupHeaderItems=n:this.groupHeaderItems=n},e.prototype.setCustomListData=function(t,i,n,s){var o=this;i=i||this.fields;var a;if(this.isActive=!0,this.isPreventChange=this.isAngular&&this.preventChange?!0:this.isPreventChange,!this.isRequesting){this.isRequesting=!0,this.showSpinner(),this.isRequesting=!1;var l=!0,h=void 0;if(this.isVirtualizationEnabled&&!this.virtualGroupDataSource&&this.fields.groupBy){var u=new fe(this.dataSource).executeLocal(new He().group(this.fields.groupBy));this.virtualGroupDataSource=u.records}var c=this.isVirtualizationEnabled&&this.virtualGroupDataSource&&!this.isCustomDataUpdated?new fe(this.virtualGroupDataSource):new fe(t);if(h=this.getQuery(n).executeLocal(c),!this.virtualSelectAll){var d=this.getQuery(n);if(this.isVirtualizationEnabled&&h.count!==0&&h.count<this.itemCount*2&&!this.appendUncheckList){if(d){for(var f=0;f<d.queries.length;f++)d.queries[f].fn==="onTake"&&(d.queries[f].e.nos=h.count,h=d.executeLocal(c)),this.getModuleName()==="multiselect"&&(d.queries[f].e.condition==="or"||d.queries[f].e.operator==="equal")&&!this.isCustomFiltering&&(l=!1);l&&(h=d.executeLocal(c),this.isVirtualTrackHeight=!(this.dataSource instanceof fe)&&!this.isCustomDataUpdated)}}else if(this.isVirtualTrackHeight=!1,d)for(var f=0;f<d.queries.length;f++)this.getModuleName()==="multiselect"&&(d.queries[f].e&&d.queries[f].e.condition==="or"||d.queries[f].e&&d.queries[f].e.operator==="equal")&&(l=!1)}if(l&&!(this.dataSource instanceof fe)&&!this.isCustomDataUpdated&&!this.virtualSelectAll&&(this.dataCount=this.totalItemCount=this.virtualSelectAll?h.length:h.count),h=this.isVirtualizationEnabled?h.result:h,this.isPreventChange=this.isAngular&&this.preventChange?!0:this.isPreventChange,this.isCustomFiltering=!1,this.isIncrementalRequest){a=this.renderItems(h,i);return}a=this.renderItems(h,i),this.onActionComplete(a,h,s),this.groupTemplate&&this.renderGroupTemplate(a),this.bindChildItems(h,a,i),setTimeout(function(){o.getModuleName()==="multiselect"&&o.itemTemplate!=null&&a.childElementCount>0&&(a.children[0].childElementCount>0||o.fields.groupBy&&a.children[1]&&a.children[1].childElementCount>0)&&o.updateDataList()})}},e.prototype.handleVirtualKeyboardActions=function(t,i){},e.prototype.updatePopupState=function(){},e.prototype.updatePopupPosition=function(){},e.prototype.virtualSelectionAll=function(t,i,n){},e.prototype.updateRemoteData=function(){this.setListData(this.dataSource,this.fields,this.query)},e.prototype.bindChildItems=function(t,i,n,s){var o=this;t.length>=100&&this.getModuleName()==="autocomplete"?setTimeout(function(){var a=o.remainingItems(o.sortedData,n);Ct(a,i),o.liCollections=o.list.querySelectorAll("."+Ve.li),o.updateListValues(),o.raiseDataBound(t,s)},0):this.raiseDataBound(t,s)},e.prototype.isObjectInArray=function(t,i){return i.some(function(n){return Object.keys(t).every(function(s){return Object.prototype.hasOwnProperty.call(n,s)&&n[s]===t[s]})})},e.prototype.updateListValues=function(){},e.prototype.findListElement=function(t,i,n,s){var o=null;if(t){for(var a=[].slice.call(t.querySelectorAll(i)),l=0;l<a.length;l++)if(a[l].getAttribute(n)===s+""){o=a[l];break}}return o},e.prototype.raiseDataBound=function(t,i){this.hideSpinner();var n={items:t,e:i};this.trigger("dataBound",n)},e.prototype.remainingItems=function(t,i){var n=new fe(t).executeLocal(new He().skip(100));if(this.itemTemplate){var s=this.templateListItem(n,i);return[].slice.call(s.childNodes)}var o=this.typeOfData(n).typeof;return o==="string"||o==="number"||o==="boolean"?zn.createListItemFromArray(this.createElement,n,!0,this.listOption(n,i),this):zn.createListItemFromJson(this.createElement,n,this.listOption(n,i),1,!0,this)},e.prototype.emptyDataRequest=function(t){var i=[];this.onActionComplete(this.renderItems(i,t),i),this.isRequested=!1,this.isRequesting=!1,this.hideSpinner()},e.prototype.showSpinner=function(){},e.prototype.hideSpinner=function(){},e.prototype.onActionFailure=function(t){this.liCollections=[],this.trigger("actionFailure",t),this.l10nUpdate(!0),p(this.list)||Z([this.list],Ve.noData)},e.prototype.onActionComplete=function(t,i,n){var s=this;if(this.listData=i,this.isVirtualizationEnabled&&!this.isCustomDataUpdated&&!this.virtualSelectAll&&this.notify("setGeneratedData",{module:"VirtualScroll"}),this.getModuleName()!=="listbox"&&t.setAttribute("tabindex","0"),this.isReact&&this.clearTemplate(["itemTemplate","groupTemplate","actionFailureTemplate","noRecordsTemplate"]),this.isVirtualizationEnabled||(this.fixedHeaderElement=p(this.fixedHeaderElement)?this.fixedHeaderElement:null),this.getModuleName()==="multiselect"&&this.properties.allowCustomValue&&this.fields.groupBy)for(var o=0;o<t.childElementCount;o++)t.children[o].classList.contains("e-list-group-item")&&(p(t.children[o].innerHTML)||t.children[o].innerHTML==="")&&Z([t.children[o]],rie),t.children[0].classList.contains("e-hide-group-header")&&Ci(t.children[1],{zIndex:11});if(this.getModuleName()==="multiselect"&&this.isAngular&&this.ngEle){var a=this.list;if(a){var l=a.offsetHeight+"px";a.style.height=l}}if(!p(this.list)&&!this.isVirtualizationEnabled){if(this.list.innerHTML="",this.isUpdateGroupTemplate&&this.isAngular&&this.groupTemplate&&this.getModuleName()==="multiselect"){var h=t.querySelectorAll("."+Ve.group);if(h.length>0&&this.groupHeaderItems.length>0){for(var u={},o=0;o<this.groupHeaderItems.length;o++)u[this.groupHeaderItems[o].id]=this.groupHeaderItems[o].innerHTML;for(var o=0;o<h.length;o++)Object.prototype.hasOwnProperty.call(u,h[o].id)&&(h[o].innerHTML=u[h[o].id])}this.renderGroupTemplate(t)}this.list.appendChild(t),this.liCollections=this.list.querySelectorAll("."+Ve.li),this.ulElement=this.list.querySelector("ul"),this.postRender(this.list,i,this.bindEvent)}if(this.getModuleName()==="multiselect"&&this.isAngular&&this.ngEle){var c=this.list;c&&setTimeout(function(){c.style.height="",s.refreshPopup()},0)}},e.prototype.postRender=function(t,i,n){if(this.fields.disabled){for(var s=t.querySelectorAll("."+Ve.li),o=this.sortOrder!=="None"?p(this.fields.groupBy)?this.sortedData:this.sortedData.filter(function(g){return!("isHeader"in g)||g.isHeader!==!0}):this.listData,a=0;a<s.length;a++)if(o[a]&&JSON.parse(JSON.stringify(o[a]))[this.fields.disabled])if(p(this.fields.groupBy))this.disableListItem(s[a]);else{var l=o[a],h=H(this.fields.value?this.fields.value:"value",l),u=t.querySelector('li[data-value="'+h+'"]');p(u)||this.disableListItem(u)}}var c=this.fields.disabled?t.querySelector("."+Ve.li+":not(.e-disabled"):t.querySelector("."+Ve.li),d=t.querySelector("."+Ve.selected);if(c&&!d){if(this.isVirtualizationEnabled&&this.viewPortInfo.startIndex!==0){var f=this.ulElement.querySelectorAll("li."+Ve.li+":not(.e-virtual-list):not(.e-hide-listitem)");c=f&&f.length>0?f[2]:c}c&&c.classList.add(Ve.focus)}i.length<=0?(this.l10nUpdate(),Z([t],Ve.noData)):t.classList.remove(Ve.noData)},e.prototype.getQuery=function(t){return t||(this.query?this.query:new He)},e.prototype.performFiltering=function(t){},e.prototype.debouncedFiltering=function(t,i){var n=this;this.debounceTimer!==null&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){n.performFiltering(t)},i)},e.prototype.updateVirtualizationProperties=function(t,i,n){this.isVirtualizationEnabled=!0,this.virtualizedItemsCount=t,this.isAllowFiltering=i,this.isCheckBoxSelection=n},e.prototype.renderGroupTemplate=function(t){if(this.fields.groupBy!==null&&this.dataSource||this.element.querySelector("."+Ve.group)){var i=this.dataSource,n={groupTemplateID:this.groupTemplateId,isStringTemplate:this.isStringTemplate},s=this.isAngular&&this.getModuleName()==="multiselect"&&!p(t)&&t.classList.contains(Ve.fixedHead)?[t]:t.querySelectorAll("."+Ve.group),o=this.templateCompiler(this.groupTemplate);if(typeof this.groupTemplate!="function"&&o){var a=ii(this.groupTemplate,document).innerHTML.trim(),l=zn.renderGroupTemplate(a,i,this.fields.properties,s,n,this);if(this.isGroupChecking)for(var h=0;h<l.length;h++)this.notify("addItem",{module:"CheckBoxSelection",item:l[h]})}else{var l=zn.renderGroupTemplate(this.groupTemplate,i,this.fields.properties,s,n,this);if(this.isGroupChecking)for(var h=0;h<l.length;h++)this.notify("addItem",{module:"CheckBoxSelection",item:l[h]})}this.renderReactTemplates()}},e.prototype.createListItems=function(t,i){if(t){if(i.groupBy||this.element.querySelector("optgroup")){if(i.groupBy){this.sortOrder!=="None"&&(t=this.getSortedDataSource(t));var n=i.properties||i;t=zn.groupDataSource(t,n,this.sortOrder)}Z([this.list],Ve.grouping)}else(this.getModuleName()!=="listbox"||this.getModuleName()==="listbox"&&!this.preventDefActionFilter)&&(t=this.getSortedDataSource(t));var s=this.listOption(t,i),o=t.length>100?new fe(t).executeLocal(new He().take(100)):t;return this.sortedData=t,zn.createList(this.createElement,this.getModuleName()==="autocomplete"?o:t,s,!0,this)}return null},e.prototype.listOption=function(t,i){var n=!p(i.iconCss),s=p(i.properties)?i:i.properties,o=i.text!==null||i.value!==null?{fields:s,showIcon:n,ariaAttributes:{groupItemRole:"presentation"}}:{fields:{value:"text"}};return ie({},o,i,!0)},e.prototype.setFloatingHeader=function(t){!p(this.list)&&!this.list.classList.contains(Ve.noData)&&(p(this.fixedHeaderElement)&&(this.fixedHeaderElement=this.createElement("div",{className:Ve.fixedHead}),!p(this.list)&&!this.list.querySelector("li").classList.contains(Ve.group)&&(this.fixedHeaderElement.style.display="none"),!p(this.fixedHeaderElement)&&!p(this.list)&&ts([this.fixedHeaderElement],this.list),this.setFixedHeader()),!p(this.fixedHeaderElement)&&this.fixedHeaderElement.style.zIndex==="0"&&this.setFixedHeader(),this.scrollStop(t))},e.prototype.scrollStop=function(t,i){for(var n=p(t)?this.list:t.target,s=getComputedStyle(this.getValidLi(),null).getPropertyValue("height"),o=getComputedStyle(this.getValidLi(),null).getPropertyValue("margin-bottom"),a=parseInt(o,10),l=this.getModuleName()==="multiselect"?parseFloat(s):parseInt(s,10),h=Math.round(n.scrollTop/(l+a)),u=this.list.querySelectorAll("li:not(.e-hide-listitem)"),c=this.list.querySelectorAll(".e-virtual-list").length,d=h;d>-1;d--){var f=this.isVirtualizationEnabled?d+c:d;if(this.isVirtualizationEnabled){if(this.fixedHeaderElement&&this.updateGroupHeader(f,u,n))break;i&&(!p(u[f])&&u[f].classList.contains(Ve.selected)&&this.getModuleName()!=="autocomplete"||!p(u[f])&&u[f].classList.contains(Ve.focus)&&this.getModuleName())}else if(this.updateGroupHeader(f,u,n))break}},e.prototype.getPageCount=function(t){if(this.list){var i=this.list.classList.contains(Ve.noData)?null:getComputedStyle(this.getItems()[0],null).getPropertyValue("height"),n=Math.round(this.list.getBoundingClientRect().height/parseInt(i,10));return t?n:Math.round(n)}else return 0},e.prototype.updateGroupHeader=function(t,i,n){return!p(i[t])&&i[t].classList.contains(Ve.group)?(this.updateGroupFixedHeader(i[t],n),!0):(this.fixedHeaderElement.style.display="none",this.fixedHeaderElement.style.top="none",!1)},e.prototype.updateFixedGroupTemplateHader=function(t){var i=t.cloneNode?t.cloneNode(!0):t,n=!1;if(this.groupHeaderItems&&this.groupHeaderItems.length>0){for(var s=0;s<this.groupHeaderItems.length;s++)if(i.id===this.groupHeaderItems[s].id){i.innerHTML=this.groupHeaderItems[s].innerHTML,n=!0;break}}if(!n&&this.fiteredGroupHeaderItems&&this.fiteredGroupHeaderItems.length>0){for(var s=0;s<this.fiteredGroupHeaderItems.length;s++)if(i.id===this.fiteredGroupHeaderItems[s].id){i.innerHTML=this.fiteredGroupHeaderItems[s].innerHTML;break}}this.fixedHeaderElement.innerHTML=i.innerHTML,this.renderGroupTemplate(this.fixedHeaderElement)},e.prototype.updateGroupFixedHeader=function(t,i){this.fixedHeaderElement&&this.list&&this.list.parentElement&&(p(t.innerHTML)||(this.groupTemplate&&this.isAngular&&this.getModuleName()==="multiselect"?this.updateFixedGroupTemplateHader(t):this.fixedHeaderElement.innerHTML=t.innerHTML),this.fixedHeaderElement.style.position="fixed",this.fixedHeaderElement.style.top=this.list.parentElement.offsetTop+this.list.offsetTop-window.scrollY+"px",this.fixedHeaderElement.style.display="block")},e.prototype.getValidLi=function(){return this.isVirtualizationEnabled?this.liCollections[0].classList.contains("e-virtual-list")?this.liCollections[this.skeletonCount]:this.liCollections[0]:this.liCollections[0]},e.prototype.renderItems=function(t,i,n,s){var o;if(this.itemTemplate&&t){this.getModuleName()==="multiselect"&&this.virtualSelectAll&&(this.virtualSelectAllData=t,t=t.slice(this.virtualItemStartIndex,this.virtualItemEndIndex));var a=t;a&&i.groupBy?(this.sortOrder!=="None"&&(a=this.getSortedDataSource(a)),a=zn.groupDataSource(a,i.properties,this.sortOrder)):(this.getModuleName()!=="listbox"||this.getModuleName()==="listbox"&&!this.preventDefActionFilter)&&(a=this.getSortedDataSource(a)),this.sortedData=a;var l=a.length>100?new fe(a).executeLocal(new He().take(100)):a;if(o=this.templateListItem(this.getModuleName()==="autocomplete"?l:a,i),this.isIncrementalRequest)return this.incrementalLiCollections=o.querySelectorAll("."+Ve.li),this.incrementalUlElement=o,this.incrementalListData=t,o;if(this.isVirtualizationEnabled){var h=this.list.querySelector(".e-list-parent"),u=this.list.querySelector(".e-virtual-ddl-content");if(t.length>=this.virtualizedItemsCount&&h&&u||h&&u&&this.isAllowFiltering||h&&u&&this.getModuleName()==="autocomplete"){this.getModuleName()==="multiselect"&&this.isCheckBoxSelection&&this.appendUncheckList&&this.list&&this.list.querySelector(".e-active")?(u.appendChild(o),n=!0):u.replaceChild(o,h);var c=this.list.querySelectorAll(".e-reorder");this.list.querySelector(".e-virtual-ddl-content")&&c&&c.length>0&&!n&&this.list.querySelector(".e-virtual-ddl-content").removeChild(c[0]),this.updateListElements(t)}else u||(this.list.innerHTML="",this.createVirtualContent(),this.list.querySelector(".e-virtual-ddl-content").appendChild(o),this.updateListElements(t))}}else{if(this.getModuleName()==="multiselect"&&this.virtualSelectAll&&!s&&(this.virtualSelectAllData=t,t=t.slice(this.virtualItemStartIndex,this.virtualItemEndIndex)),o=this.createListItems(t,i),this.isIncrementalRequest)return this.incrementalLiCollections=o.querySelectorAll("."+Ve.li),this.incrementalUlElement=o,this.incrementalListData=t,o;if(this.isVirtualizationEnabled){var h=this.list.querySelector(".e-list-parent:not(.e-reorder)"),u=this.list.querySelector(".e-virtual-ddl-content"),d=!1;(!h&&this.list.querySelector(".e-list-parent.e-reorder")||h&&this.isVirtualReorder&&this.list.querySelector(".e-list-parent.e-reorder"))&&(h=this.list.querySelector(".e-list-parent.e-reorder")),t.length>=this.virtualizedItemsCount&&h&&u||h&&u&&this.isAllowFiltering||h&&u&&(this.getModuleName()==="autocomplete"||this.getModuleName()==="multiselect")||d?((this.getModuleName()!=="multiselect"||this.getModuleName()==="multiselect"&&(!(this.dataSource instanceof fe)||this.dataSource instanceof fe&&!this.setCurrentView))&&(this.appendUncheckList?u.appendChild(o):u.replaceChild(o,h)),this.updateListElements(t)):(!u||!u.firstChild)&&(this.list.innerHTML="",this.createVirtualContent(),this.list.querySelector(".e-virtual-ddl-content").appendChild(o),this.updateListElements(t))}}return o},e.prototype.createVirtualContent=function(){this.list.querySelector(".e-virtual-ddl-content")||this.list.appendChild(this.createElement("div",{className:"e-virtual-ddl-content"}))},e.prototype.updateListElements=function(t){this.liCollections=this.list.querySelectorAll("."+Ve.li),this.ulElement=this.list.querySelector("ul"),this.listData=t,this.postRender(this.list,t,this.bindEvent)},e.prototype.templateListItem=function(t,i){var n=this.listOption(t,i);n.templateID=this.itemTemplateId,n.isStringTemplate=this.isStringTemplate;var s=this.templateCompiler(this.itemTemplate),o;if(typeof this.itemTemplate!="function"&&s){var a=ii(this.itemTemplate,document).innerHTML.trim();return o=zn.renderContentTemplate(this.createElement,a,t,i.properties,n,this),this.isVirtualizationEnabled&&this.isReact&&this.renderReactTemplates(),o}else return o=zn.renderContentTemplate(this.createElement,this.itemTemplate,t,i.properties,n,this),this.isVirtualizationEnabled&&this.isReact&&this.renderReactTemplates(),o},e.prototype.typeOfData=function(t){for(var i={typeof:null,item:null},n=0;!p(t)&&n<t.length;n++)if(!p(t[n])){var s=typeof t[n]=="string"||typeof t[n]=="number"||typeof t[n]=="boolean",o=p(s?t[n]:H(this.fields.value?this.fields.value:"value",t[n]));if(!o)return i={typeof:typeof t[n],item:t[n]}}return i},e.prototype.setFixedHeader=function(){p(this.list)||(this.list.parentElement.style.display="block");var t=0;if(this.list&&this.list.parentElement&&(t=parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-width"),10),isNaN(t))){var i=parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-top-width"),10),n=parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-bottom-width"),10),s=parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-left-width"),10),o=parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-right-width"),10);t=i+n+s+o}if(!p(this.liCollections)){var a=this.getValidLi().offsetWidth-t;this.fixedHeaderElement.style.width=a.toString()+"px"}Ci(this.fixedHeaderElement,{zIndex:10});var l=this.ulElement.querySelector("."+Ve.group+":not(.e-hide-listitem)");p(l)||(this.groupTemplate&&this.isAngular&&this.getModuleName()==="multiselect"?this.updateFixedGroupTemplateHader(l):this.fixedHeaderElement.innerHTML=l.innerHTML)},e.prototype.getSortedDataSource=function(t){if(t&&this.sortOrder!=="None"){var i=this.fields.text?this.fields.text:"text";(this.typeOfData(t).typeof==="string"||this.typeOfData(t).typeof==="number"||this.typeOfData(t).typeof==="boolean")&&(i=""),t=zn.getDataSource(t,zn.addSorting(this.sortOrder,i))}return t},e.prototype.getIndexByValue=function(t){var i,n=[];this.fields.disabled&&this.getModuleName()==="multiselect"&&this.liCollections?n=this.liCollections:n=this.getItems();for(var s=0;s<n.length;s++)if(!p(t)&&n[s].getAttribute("data-value")===t.toString()){i=s;break}return i},e.prototype.getIndexByValueFilter=function(t,i){var n;if(!i)return null;var s=i.querySelectorAll("li:not(.e-list-group-item)");if(s){for(var o=0;o<s.length;o++)if(!p(t)&&s[o].getAttribute("data-value")===t.toString()){n=o;break}}return n},e.prototype.dispatchEvent=function(t,i){var n=document.createEvent("HTMLEvents");n.initEvent(i,!1,!0),t&&t.dispatchEvent(n)},e.prototype.setFields=function(){this.fields.value&&!this.fields.text?this.updateFields(this.fields.value,this.fields.value):!this.fields.value&&this.fields.text?this.updateFields(this.fields.text,this.fields.text):!this.fields.value&&!this.fields.text&&(this.isPrimitiveData=!0,this.updateFields("text","text"))},e.prototype.resetList=function(t,i,n,s){if(this.list){if(this.element.tagName==="SELECT"&&this.element.options.length>0||this.element.tagName==="UL"&&this.element.childNodes.length>0){var o=t instanceof Array?t.length>0:!p(t);!o&&this.selectData&&this.selectData.length>0&&(t=this.selectData)}t=this.getModuleName()==="combobox"&&this.selectData&&t instanceof Array&&t.length<this.selectData.length&&this.addedNewItem?this.selectData:t,this.addedNewItem=!1,this.isCustomReset&&this.getModuleName()==="multiselect"?this.setCustomListData(t,i,n,s):this.setListData(t,i,n,s)}},e.prototype.updateSelectElementData=function(t){(t||this.isVirtualizationEnabled)&&p(this.selectData)&&this.listData&&this.listData.length>0&&(this.selectData=this.listData)},e.prototype.updateSelection=function(){},e.prototype.renderList=function(){this.render()},e.prototype.updateDataSource=function(t,i){this.resetList(this.dataSource),this.totalItemCount=this.dataSource instanceof fe?this.dataSource.dataSource.json.length:0},e.prototype.setUpdateInitial=function(t,i,n){this.isDataFetched=!1,this.isPrimitiveData=!1;for(var s={},o=0;t.length>o;o++)i[t[o]]&&t[o]==="fields"?(this.setFields(),s[t[o]]=i[t[o]]):i[t[o]]&&(s[t[o]]=i[t[o]]);Object.keys(s).length>0&&(Object.keys(s).indexOf("dataSource")===-1&&(s.dataSource=this.dataSource),this.getModuleName()==="listbox"?(!this.isReact||this.isReact&&(!p(i.dataSource)||!p(i.sortOrder)))&&this.updateDataSource(s,n):(this.isDynamicData=!0,this.updateDataSource(s,n)))},e.prototype.onPropertyChanged=function(t,i){this.getModuleName()==="dropdownbase"&&this.setUpdateInitial(["fields","query","dataSource"],t),this.setUpdateInitial(["sortOrder","itemTemplate"],t);for(var n=0,s=Object.keys(t);n<s.length;n++){var o=s[n];switch(o){case"query":case"sortOrder":case"dataSource":case"itemTemplate":break;case"enableRtl":this.setEnableRtl();break;case"groupTemplate":if(this.renderGroupTemplate(this.list),this.ulElement&&this.fixedHeaderElement){var a=this.ulElement.querySelector("."+Ve.group);this.fixedHeaderElement.innerHTML=a.innerHTML}break;case"locale":this.list&&!p(this.liCollections)&&this.liCollections.length===0&&this.l10nUpdate();break;case"zIndex":this.setProperties({zIndex:t.zIndex},!0),this.setZIndex();break}}},e.prototype.render=function(t,i){this.getModuleName()==="listbox"?this.list=this.createElement("div",{className:Ve.content,attrs:{tabindex:"0"}}):this.list=this.createElement("div",{className:Ve.content}),this.list.classList.add(Ve.root),this.setFields();var n={duration:300,selector:"."+Ve.li};this.rippleFun=RI(this.list,n);var s=this.element.querySelector("select>optgroup");if((this.fields.groupBy||!p(s))&&!this.isGroupChecking){F.add(this.list,"scroll",this.setFloatingHeader,this);for(var o=this.getScrollableParent(),a=0;a<o.length;a++){var l=o[a];F.add(l,"scroll",this.updateGroupFixedHeader,this)}}if(this.getModuleName()==="dropdownbase"){this.element.getAttribute("tabindex")&&this.list.setAttribute("tabindex",this.element.getAttribute("tabindex")),ue([this.element],Ve.root),this.element.style.display="none";var h=this.createElement("div");this.element.parentElement.insertBefore(h,this.element),h.appendChild(this.element),h.appendChild(this.list)}this.setEnableRtl(),i||this.initialize(t)},e.prototype.getScrollableParent=function(){for(var t=getComputedStyle(this.element),i=[],n=/(auto|scroll)/,s=this.element.parentElement;s&&s.tagName!=="HTML";){var o=getComputedStyle(s);!(t.position==="absolute"&&o.position==="static")&&n.test(o.overflow+o.overflowY+o.overflowX)&&i.push(s),s=s.parentElement}return i.push(document),i},e.prototype.removeScrollEvent=function(){this.list&&F.remove(this.list,"scroll",this.setFloatingHeader)},e.prototype.getModuleName=function(){return"dropdownbase"},e.prototype.getItems=function(){return this.ulElement.querySelectorAll("."+Ve.li)},e.prototype.addItem=function(t,i){if((!this.list||this.list.textContent===this.noRecordsTemplate&&this.getModuleName()!=="listbox")&&this.renderList(),this.sortOrder!=="None"&&p(i)){var n=[].slice.call(this.listData);n.push(t),n=this.getSortedDataSource(n),this.fields.groupBy&&(n=zn.groupDataSource(n,this.fields.properties,this.sortOrder)),i=n.indexOf(t)}var s=this.getItems().length,o=s===0,a=this.list.querySelector("."+Ve.selected);t=t instanceof Array?t:[t];var l;l=p(i)||i<0||i>s-1?s:i;var h=this.fields;t&&h.groupBy&&(t=zn.groupDataSource(t,h.properties));for(var u=[],c=0;c<t.length;c++){var d=t[c],f=d.isHeader,g=this.createElement("li",{className:f?Ve.group:Ve.li,id:"option-add-"+c}),m=d instanceof Object?H(h.text,d):d;if(f&&(g.innerText=m),this.itemTemplate&&!f){var y=this.templateCompiler(this.itemTemplate),v=typeof this.itemTemplate!="function"&&y?Xt(ii(this.itemTemplate,document).innerHTML.trim()):Xt(this.itemTemplate),M=v(d,this,"itemTemplate",this.itemTemplateId,this.isStringTemplate,null,g);M&&Ct(M,g)}else f||g.appendChild(document.createTextNode(m));g.setAttribute("data-value",d instanceof Object?H(h.value,d):d),g.setAttribute("role","option"),this.notify("addItem",{module:"CheckBoxSelection",item:g}),u.push(g),this.getModuleName()==="listbox"?(this.listData.splice(o?this.listData.length:l,0,d),this.listData.length!==this.sortedData.length&&(this.sortedData=this.listData)):this.listData.push(d),this.sortOrder==="None"&&p(i)&&l===0&&(l=null),this.getModuleName()==="listbox"?this.updateActionCompleteData(g,d,o?null:l+c):this.updateActionCompleteData(g,d,l),this.trigger("beforeItemRender",{element:g,item:d})}if(s===0&&p(this.list.querySelector("ul")))p(this.list)||(this.list.innerHTML="",this.list.classList.remove(Ve.noData),this.isAddNewItemTemplate=!0,p(this.ulElement)||this.list.appendChild(this.ulElement)),this.liCollections=u,!p(u)&&!p(this.ulElement)&&Ct(u,this.ulElement),this.updateAddItemList(this.list,s);else{this.getModuleName()==="listbox"&&s===0&&(this.ulElement.innerHTML="");for(var S=[],c=0;c<t.length;c++){for(var b=this.ulElement.querySelectorAll(".e-list-group-item"),C=0;C<b.length;C++)S[C]=b[C].innerText;if(S.indexOf(u[c].innerText)>-1&&h.groupBy){for(var C=0;C<b.length;C++)if(S[C]===u[c].innerText){this.sortOrder==="None"?this.ulElement.insertBefore(u[c+1],b[C+1]):this.ulElement.insertBefore(u[c+1],this.ulElement.childNodes[i]),c=c+1;break}}else this.liCollections[l]&&this.liCollections[l].parentNode?this.liCollections[l].parentNode.insertBefore(u[c],this.liCollections[l]):i&&this.getModuleName()==="listbox"?this.ulElement.insertBefore(u[c],this.ulElement.childNodes[i+c]):this.ulElement.appendChild(u[c]);var T=[].slice.call(this.liCollections);T.splice(l,0,u[c]),this.liCollections=T,l+=1,this.getModuleName()==="multiselect"&&this.updateDataList()}}this.getModuleName()==="listbox"&&this.isReact&&this.renderReactTemplates(),(a||i===0)&&this.updateSelection(),this.addedNewItem=!0},e.prototype.isDisabledElement=function(t){return!!(t&&t.classList.contains("e-disabled"))},e.prototype.isDisabledItemByIndex=function(t){return this.fields.disabled&&this.liCollections?this.isDisabledElement(this.liCollections[t]):!1},e.prototype.disableListItem=function(t){t.classList.add("e-disabled"),t.setAttribute("aria-disabled","true"),t.setAttribute("aria-selected","false")},e.prototype.validationAttribute=function(t,i){var n=t.getAttribute("name")?t.getAttribute("name"):t.getAttribute("id");i.setAttribute("name",n),t.removeAttribute("name");for(var s=["required","aria-required","form"],o=0;o<s.length;o++)if(t.getAttribute(s[o])){var a=t.getAttribute(s[o]);i.setAttribute(s[o],a),t.removeAttribute(s[o])}},e.prototype.setZIndex=function(){},e.prototype.updateActionCompleteData=function(t,i,n){},e.prototype.updateAddItemList=function(t,i){},e.prototype.updateDataList=function(){},e.prototype.getDataByValue=function(t){if(!p(this.listData)){var i=this.typeOfData(this.listData).typeof;if(i==="string"||i==="number"||i==="boolean")for(var n=0,s=this.listData;n<s.length;n++){var o=s[n];if(!p(o)&&o===t)return o}else for(var a=0,l=this.listData;a<l.length;a++){var o=l[a];if(!p(o)&&H(this.fields.value?this.fields.value:"value",o)===t)return o}}return null},e.prototype.destroy=function(){if(document){if(this.fields&&this.fields.groupBy)for(var t=this.getScrollableParent(),i=0;i<t.length;i++){var n=t[i];F.remove(n,"scroll",this.updateGroupFixedHeader)}document.body.contains(this.list)&&(F.remove(this.list,"scroll",this.setFloatingHeader),p(this.rippleFun)||this.rippleFun(),bt(this.list))}this.liCollections=null,this.ulElement=null,this.list=null,this.enableRtlElements=null,this.groupHeaderItems=null,this.fiteredGroupHeaderItems=null,this.rippleFun=null,r.prototype.destroy.call(this)},gi([gt({text:null,value:null,iconCss:null,groupBy:null,disabled:null},CP)],e.prototype,"fields",void 0),gi([I(null)],e.prototype,"itemTemplate",void 0),gi([I(null)],e.prototype,"groupTemplate",void 0),gi([I("No records found")],e.prototype,"noRecordsTemplate",void 0),gi([I("Request failed")],e.prototype,"actionFailureTemplate",void 0),gi([I("None")],e.prototype,"sortOrder",void 0),gi([I([])],e.prototype,"dataSource",void 0),gi([I(null)],e.prototype,"query",void 0),gi([I("StartsWith")],e.prototype,"filterType",void 0),gi([I(!0)],e.prototype,"ignoreCase",void 0),gi([I(1e3)],e.prototype,"zIndex",void 0),gi([I(!1)],e.prototype,"ignoreAccent",void 0),gi([I()],e.prototype,"locale",void 0),gi([Q()],e.prototype,"actionBegin",void 0),gi([Q()],e.prototype,"actionComplete",void 0),gi([Q()],e.prototype,"actionFailure",void 0),gi([Q()],e.prototype,"select",void 0),gi([Q()],e.prototype,"dataBound",void 0),gi([Q()],e.prototype,"created",void 0),gi([Q()],e.prototype,"destroyed",void 0),e=gi([tn],e),e}(rr),oie=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ht=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},_e={root:"e-dropdownlist",selected:Ve.selected,li:Ve.li,disable:Ve.disabled,focus:Ve.focus,input:"e-input-group",inputFocus:"e-input-focus",icon:"e-input-group-icon e-ddl-icon",iconAnimation:"e-icon-anim",value:"e-input-value",device:"e-ddl-device",backIcon:"e-input-group-icon e-back-icon e-icons",filterBarClearIcon:"e-input-group-icon e-clear-icon e-icons",filterInput:"e-input-filter",resizeIcon:"e-resizer-right e-icons",filterParent:"e-filter-parent",mobileFilter:"e-ddl-device-filter",footer:"e-ddl-footer",header:"e-ddl-header",clearIcon:"e-clear-icon",clearIconHide:"e-clear-icon-hide",popupFullScreen:"e-popup-full-page",disableIcon:"e-ddl-disable-icon",hiddenElement:"e-ddl-hidden"},aie={container:null,buttons:[]},lie=function(r){oie(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.isListSearched=!1,n.preventChange=!1,n.isTouched=!1,n.isFocused=!1,n.autoFill=!1,n.isUpdateHeaderHeight=!1,n.isUpdateFooterHeight=!1,n.isReactTemplateUpdate=!1,n}return e.prototype.preRender=function(){this.valueTempElement=null,this.element.style.opacity="0",this.initializeData(),r.prototype.preRender.call(this),this.activeIndex=this.index,this.queryString=""},e.prototype.initializeData=function(){this.isPopupOpen=!1,this.isDocumentClick=!1,this.isPopupRender=!1,this.isInteracted=!1,this.isFilterFocus=!1,this.beforePopupOpen=!1,this.initial=!0,this.initialRemoteRender=!1,this.isNotSearchList=!1,this.isTyped=!1,this.isSelected=!1,this.preventFocus=!1,this.preventAutoFill=!1,this.isValidKey=!1,this.typedString="",this.isEscapeKey=!1,this.isPreventBlur=!1,this.isTabKey=!1,this.actionCompleteData={isUpdated:!1},this.actionData={isUpdated:!1},this.prevSelectPoints={},this.isSelectCustom=!1,this.isDropDownClick=!1,this.preventAltUp=!1,this.isCustomFilter=!1,this.isSecondClick=!1,this.previousValue=null,this.keyConfigure={tab:"tab",enter:"13",escape:"27",end:"35",home:"36",down:"40",up:"38",pageUp:"33",pageDown:"34",open:"alt+40",close:"shift+tab",hide:"alt+38",space:"32"},this.viewPortInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:this.itemCount}},e.prototype.setZIndex=function(){this.popupObj&&this.popupObj.setProperties({zIndex:this.zIndex})},e.prototype.requiredModules=function(){var t=[];return this.enableVirtualization&&t.push({args:[this],member:"VirtualScroll"}),t},e.prototype.renderList=function(t,i){r.prototype.render.call(this,t,i),this.dataSource instanceof fe||(this.totalItemCount=this.dataSource&&this.dataSource.length?this.dataSource.length:0),this.enableVirtualization&&this.isFiltering()&&this.getModuleName()==="combobox"&&(this.UpdateSkeleton(),this.liCollections=this.list.querySelectorAll("."+Ve.li),this.ulElement=this.list.querySelector("ul")),this.unWireListEvents(),this.wireListEvents()},e.prototype.floatLabelChange=function(){if(this.getModuleName()==="dropdownlist"&&this.floatLabelType==="Auto"){var t=this.inputWrapper.container.querySelector(".e-float-text");t&&this.inputElement.value!==""||this.isInteracted?Ki(t,["e-label-top"],["e-label-bottom"]):t&&Ki(t,["e-label-bottom"],["e-label-top"])}},e.prototype.resetHandler=function(t){t.preventDefault(),this.clearAll(t),this.enableVirtualization&&(this.list.scrollTop=0,this.virtualListInfo=null,this.previousStartIndex=0,this.previousEndIndex=0)},e.prototype.resetFocusElement=function(){if(this.removeHover(),this.removeSelection(),this.removeFocus(),this.list.scrollTop=0,this.getModuleName()!=="autocomplete"&&!p(this.ulElement)){var t=this.fields.disabled?this.ulElement.querySelector("."+_e.li+":not(.e-disabled)"):this.ulElement.querySelector("."+_e.li);this.enableVirtualization&&(t=this.liCollections[this.skeletonCount]),t&&t.classList.add(_e.focus)}},e.prototype.clearAll=function(t,i){this.previousItemData=p(this.itemData)?null:this.itemData,(p(i)||!p(i)&&(p(i.dataSource)||!(i.dataSource instanceof fe)&&i.dataSource.length===0))&&(this.isActive=!0,this.resetSelection(i));var n=this.getItemData();if(!this.allowObjectBinding&&this.previousValue===n.value||this.allowObjectBinding&&this.previousValue&&this.isObjectInArray(this.previousValue,[this.allowCustom?this.value?this.value:n:n.value?this.getDataByValue(n.value):n])){this.checkAndResetCache(),this.enableVirtualization&&this.list&&this.updateInitialData();return}this.onChangeEvent(t),this.checkAndResetCache(),this.enableVirtualization&&this.updateInitialData()},e.prototype.resetSelection=function(t){this.list&&(!p(t)&&(p(t.dataSource)||!(t.dataSource instanceof fe)&&t.dataSource.length===0)?(this.selectedLI=null,this.actionCompleteData.isUpdated=!1,this.actionCompleteData.ulElement=null,this.actionCompleteData.list=null,this.resetList(t.dataSource)):(this.allowFiltering&&this.getModuleName()!=="autocomplete"&&!p(this.actionCompleteData.ulElement)&&!p(this.actionCompleteData.list)&&this.actionCompleteData.list.length>0&&this.onActionComplete(this.actionCompleteData.ulElement.cloneNode(!0),this.actionCompleteData.list),this.resetFocusElement())),p(this.hiddenElement)||(this.hiddenElement.innerHTML=""),p(this.inputElement)||(this.inputElement.value=""),this.value=null,this.itemData=null,this.text=null,this.index=null,this.activeIndex=null,this.item=null,this.queryString="",this.valueTempElement&&(bt(this.valueTempElement),this.inputElement.style.display="block",this.valueTempElement=null),this.setSelection(null,null),this.isSelectCustom=!1,this.updateIconState(),this.cloneElements()},e.prototype.setHTMLAttributes=function(){if(Object.keys(this.htmlAttributes).length)for(var t=0,i=Object.keys(this.htmlAttributes);t<i.length;t++){var n=i[t];if(n==="class"){var s=this.htmlAttributes[""+n].replace(/\s+/g," ").trim();s!==""&&Z([this.inputWrapper.container],s.split(" "))}else if(n==="disabled"&&this.htmlAttributes[""+n]==="disabled")this.enabled=!1,this.setEnable();else if(n==="readonly"&&!p(this.htmlAttributes[""+n]))this.readonly=!0,this.dataBind();else if(n==="style")this.inputWrapper.container.setAttribute("style",this.htmlAttributes[""+n]);else if(n==="aria-label")(this.getModuleName()==="autocomplete"||this.getModuleName()==="combobox")&&!this.readonly?this.inputElement.setAttribute("aria-label",this.htmlAttributes[""+n]):this.getModuleName()==="dropdownlist"&&this.inputWrapper.container.setAttribute("aria-label",this.htmlAttributes[""+n]);else{var o=["title","id","placeholder","role","autocomplete","autocapitalize","spellcheck","minlength","maxlength"],a=["name","required"];(this.getModuleName()==="autocomplete"||this.getModuleName()==="combobox")&&o.push("tabindex"),a.indexOf(n)>-1||n.indexOf("data")===0?this.hiddenElement.setAttribute(n,this.htmlAttributes[""+n]):o.indexOf(n)>-1?n==="placeholder"&&this.element.getAttribute("placeholder")!==this.htmlAttributes[""+n]?xt.setPlaceholder(this.htmlAttributes[""+n],this.inputElement):n!=="placeholder"&&this.inputElement.setAttribute(n,this.htmlAttributes[""+n]):this.inputWrapper.container.setAttribute(n,this.htmlAttributes[""+n])}}(this.getModuleName()==="autocomplete"||this.getModuleName()==="combobox")&&this.inputWrapper.container.removeAttribute("tabindex")},e.prototype.getAriaAttributes=function(){return{"aria-disabled":"false",role:"combobox","aria-expanded":"false","aria-live":"polite","aria-labelledby":this.hiddenElement.id}},e.prototype.setEnableRtl=function(){!p(this.inputElement)&&!p(this.inputElement.parentElement)&&xt.setEnableRtl(this.enableRtl,[this.inputElement.parentElement]),this.popupObj&&(this.popupObj.enableRtl=this.enableRtl,this.popupObj.dataBind())},e.prototype.setEnable=function(){xt.setEnabled(this.enabled,this.inputElement),this.enabled?(ue([this.inputWrapper.container],_e.disable),this.inputElement.setAttribute("aria-disabled","false"),this.targetElement().setAttribute("tabindex",this.tabIndex),this.inputWrapper&&this.inputWrapper.container&&(this.inputWrapper.container.setAttribute("aria-disabled","false"),this.inputWrapper.container.removeAttribute("disabled"))):(this.hidePopup(),Z([this.inputWrapper.container],_e.disable),this.inputElement.setAttribute("aria-disabled","true"),this.targetElement().tabIndex=-1,this.inputWrapper&&this.inputWrapper.container&&(this.inputWrapper.container.setAttribute("aria-disabled","true"),this.inputWrapper.container.setAttribute("disabled","")))},e.prototype.getPersistData=function(){return this.addOnPersist(["value"])},e.prototype.getLocaleName=function(){return"drop-down-list"},e.prototype.preventTabIndex=function(t){this.getModuleName()==="dropdownlist"&&(t.tabIndex=-1)},e.prototype.targetElement=function(){return p(this.inputWrapper)?null:this.inputWrapper.container},e.prototype.getNgDirective=function(){return"EJS-DROPDOWNLIST"},e.prototype.getElementByText=function(t){return this.getElementByValue(this.getValueByText(t))},e.prototype.getElementByValue=function(t){for(var i,n=this.getItems(),s=0,o=n;s<o.length;s++){var a=o[s];if(this.getFormattedValue(a.getAttribute("data-value"))===t){i=a;break}}return i},e.prototype.initValue=function(){this.viewPortInfo.startIndex=this.virtualItemStartIndex=0,this.viewPortInfo.endIndex=this.virtualItemEndIndex=this.itemCount,this.renderList(),this.dataSource instanceof fe?this.initialRemoteRender=!0:this.updateValues()},e.prototype.isDisableItemValue=function(t){if(typeof t=="object"){var i=JSON.parse(JSON.stringify(t))[this.fields.value];return this.isDisabledItemByIndex(this.getIndexByValue(i))}return this.isDisabledItemByIndex(this.getIndexByValue(t))},e.prototype.updateValues=function(){if(this.fields.disabled&&(this.value!=null&&(this.value=this.isDisableItemValue(this.value)?null:this.value),this.text!=null&&(this.text=this.isDisabledItemByIndex(this.getIndexByValue(this.getValueByText(this.text)))?null:this.text),this.index!=null&&(this.index=this.isDisabledItemByIndex(this.index)?null:this.index,this.activeIndex=this.index)),this.selectedValueInfo=this.viewPortInfo,p(this.value))if(this.text&&p(this.value)){var i=this.getElementByText(this.text);if(p(i)){this.setProperties({text:null});return}else this.setSelection(i,null)}else this.setSelection(this.liCollections[this.activeIndex],null);else{var t=this.allowObjectBinding&&!p(this.value)?H(this.fields.value?this.fields.value:"",this.value):this.value;this.setSelection(this.getElementByValue(t),null)}this.setHiddenValue(),xt.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton)},e.prototype.onBlurHandler=function(t){if(this.enabled){var i=t.relatedTarget,n=t.target,s=this.isPreventBlur;if(this.isPreventBlur=!1,s&&!this.isDocumentClick&&this.isPopupOpen&&(!p(n)||!this.isFilterLayout()&&p(i))){this.getModuleName()==="dropdownlist"&&this.allowFiltering&&this.isPopupOpen?this.filterInput.focus():this.targetElement().focus();return}if(this.isDocumentClick||!p(this.popupObj)&&document.body.contains(this.popupObj.element)&&this.popupObj.element.classList.contains(_e.mobileFilter)){this.beforePopupOpen||(this.isDocumentClick=!1);return}(this.getModuleName()==="dropdownlist"&&!this.isFilterFocus&&i!==this.inputElement&&(document.activeElement!==i||document.activeElement===i&&n.classList.contains(_e.inputFocus))||p(i)&&this.getModuleName()==="dropdownlist"&&this.allowFiltering&&n!==this.inputWrapper.container||this.getModuleName()!=="dropdownlist"&&!this.inputWrapper.container.contains(i)||this.isTabKey)&&(this.isDocumentClick=!!this.isPopupOpen,this.focusOutAction(t),this.isTabKey=!1),this.isRequested&&!this.isPopupOpen&&!this.isPreventBlur&&(this.isActive=!1,this.beforePopupOpen=!1),this.isFocused=!1}},e.prototype.focusOutAction=function(t){this.isInteracted=!1,this.focusOut(t),this.onFocusOut(t)},e.prototype.onFocusOut=function(t){this.enabled&&(this.isSelected&&(this.isSelectCustom=!1,this.onChangeEvent(t)),this.floatLabelChange(),this.updateFloatLabelOverflowWidth(),this.dispatchEvent(this.hiddenElement,"change"),this.getModuleName()==="dropdownlist"&&this.element.tagName!=="INPUT"&&this.dispatchEvent(this.inputElement,"blur"),this.inputWrapper.clearButton&&Z([this.inputWrapper.clearButton],_e.clearIconHide),this.trigger("blur"))},e.prototype.onFocus=function(t){if(!this.isInteracted){this.isInteracted=!0;var i={isInteracted:!!t,event:t};this.trigger("focus",i)}if(this.updateIconState(),this.floatLabelType!=="Never"&&this.inputWrapper&&this.inputWrapper.container){var n=this.inputWrapper.container.querySelector(".e-float-text");n&&n.removeAttribute("style")}this.isFocused=!0},e.prototype.resizingWireEvent=function(){F.add(document,"mousemove",this.resizePopup,this),F.add(document,"mouseup",this.stopResizing,this),F.add(document,"touchmove",this.resizePopup,this),F.add(document,"touchend",this.stopResizing,this)},e.prototype.resizingUnWireEvent=function(){F.remove(document,"mousemove",this.resizePopup),F.remove(document,"mouseup",this.stopResizing),F.remove(document,"touchmove",this.resizePopup),F.remove(document,"touchend",this.stopResizing)},e.prototype.resetValueHandler=function(t){var i=xe(this.inputElement,"form");if(i&&t.target===i){var n=this.element.tagName===this.getNgDirective()?null:this.inputElement.getAttribute("value");this.text=n}},e.prototype.wireEvent=function(){F.add(this.inputWrapper.container,"mousedown",this.dropDownClick,this),F.add(this.inputWrapper.container,"focus",this.focusIn,this),F.add(this.inputWrapper.container,"keypress",this.onSearch,this),F.add(window,"resize",this.windowResize,this),this.bindCommonEvent()},e.prototype.bindCommonEvent=function(){F.add(this.targetElement(),"blur",this.onBlurHandler,this);var t=xe(this.inputElement,"form");t&&F.add(t,"reset",this.resetValueHandler,this),ne.isDevice?this.keyboardModule=new hh(this.targetElement(),{keyAction:this.mobileKeyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}):this.keyboardModule=new hh(this.targetElement(),{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),this.bindClearEvent()},e.prototype.windowResize=function(){this.isPopupOpen&&this.popupObj.refreshPosition(this.inputWrapper.container)},e.prototype.bindClearEvent=function(){this.showClearButton&&F.add(this.inputWrapper.clearButton,"mousedown",this.resetHandler,this)},e.prototype.unBindCommonEvent=function(){!p(this.inputWrapper)&&this.targetElement()&&F.remove(this.targetElement(),"blur",this.onBlurHandler);var t=this.inputElement&&xe(this.inputElement,"form");t&&F.remove(t,"reset",this.resetValueHandler),ne.isDevice||this.keyboardModule.destroy(),this.showClearButton&&F.remove(this.inputWrapper.clearButton,"mousedown",this.resetHandler)},e.prototype.updateIconState=function(){this.showClearButton&&(this.inputElement.value!==""&&!this.readonly?ue([this.inputWrapper.clearButton],_e.clearIconHide):Z([this.inputWrapper.clearButton],_e.clearIconHide))},e.prototype.wireListEvents=function(){p(this.list)||(F.add(this.list,"click",this.onMouseClick,this),F.add(this.list,"mouseover",this.onMouseOver,this),F.add(this.list,"mouseout",this.onMouseLeave,this))},e.prototype.onSearch=function(t){t.charCode!==32&&t.charCode!==13&&(this.list===void 0&&this.renderList(),this.searchKeyEvent=t,this.onServerIncrementalSearch(t))},e.prototype.onServerIncrementalSearch=function(t){!this.isRequested&&!p(this.list)&&!p(this.list.querySelector("li"))&&this.enabled&&!this.readonly&&this.incrementalSearch(t)},e.prototype.startResizing=function(t){this.isResizing=!0,this.trigger("resizeStart",t);var i=t instanceof MouseEvent?t.clientX:t.touches[0].clientX,n=t instanceof MouseEvent?t.clientY:t.touches[0].clientY;this.list&&this.list.parentElement&&(this.originalWidth=this.list.parentElement.offsetWidth,this.originalHeight=this.list.parentElement.offsetHeight,this.originalMouseX=i,this.originalMouseY=n),this.resizingWireEvent(),t&&t.preventDefault()},e.prototype.resizePopup=function(t){if(this.isResizing){this.trigger("resizing",t);var i=t instanceof MouseEvent?t.clientX:t.touches[0].clientX,n=t instanceof MouseEvent?t.clientY:t.touches[0].clientY,s=i-this.originalMouseX,o=n-this.originalMouseY;if(this.list&&this.list.parentElement){var a=parseInt(window.getComputedStyle(this.list.parentElement).minWidth,10),l=parseInt(window.getComputedStyle(this.list.parentElement).minHeight,10);a=a||100,l=l||120,this.resizeWidth=Math.max(this.originalWidth+s,a),this.resizeHeight=Math.max(this.originalHeight+o,l),this.list.parentElement.style.width=this.resizeWidth+"px",this.list.parentElement.style.height=this.resizeHeight+"px",this.list.parentElement.style.maxHeight=this.resizeHeight+"px",this.list.style.maxHeight=this.resizeHeight+"px",this.fixedHeaderElement&&this.ulElement&&(this.fixedHeaderElement.style.width=this.ulElement.offsetWidth+"px")}t&&t.preventDefault()}},e.prototype.stopResizing=function(t){this.isResizing&&(this.isResizing=!1,this.trigger("resizeStop",t),this.resizingUnWireEvent()),t&&t.preventDefault()},e.prototype.onMouseClick=function(t){var i=t.target;this.keyboardEvent=null;var n=xe(i,"."+Ve.li);if(!(!this.isValidLI(n)||this.isDisabledElement(n)))if(this.setSelection(n,t),ne.isDevice&&this.isFilterLayout())history.back();else{var s=100;this.closePopup(s,t)}},e.prototype.onMouseOver=function(t){var i=xe(t.target,"."+Ve.li);this.setHover(i)},e.prototype.setHover=function(t){this.enabled&&this.isValidLI(t)&&!t.classList.contains(Ve.hover)&&(this.removeHover(),Z([t],Ve.hover))},e.prototype.onMouseLeave=function(){this.removeHover()},e.prototype.removeHover=function(){if(this.list){var t=this.list.querySelectorAll("."+Ve.hover);t&&t.length&&ue(t,Ve.hover)}},e.prototype.isValidLI=function(t){return t&&t.hasAttribute("role")&&t.getAttribute("role")==="option"},e.prototype.updateIncrementalItemIndex=function(t,i){this.incrementalStartIndex=t,this.incrementalEndIndex=i},e.prototype.incrementalSearch=function(t){if(this.liCollections.length>0)if(this.enableVirtualization){var i=!1,n=!1,s=this.ulElement.getElementsByClassName("e-active")[0],o=s?s.textContent:null;this.incrementalQueryString===""?(this.incrementalQueryString=String.fromCharCode(t.charCode),this.incrementalPreQueryString=this.incrementalQueryString):String.fromCharCode(t.charCode).toLocaleLowerCase()===this.incrementalPreQueryString.toLocaleLowerCase()?n=!0:this.incrementalQueryString=String.fromCharCode(t.charCode),(this.viewPortInfo.endIndex>=this.incrementalEndIndex&&this.incrementalEndIndex<=this.totalItemCount||this.incrementalEndIndex===0)&&(i=!0,this.incrementalStartIndex=this.incrementalEndIndex,this.incrementalEndIndex===0?this.incrementalEndIndex=100>this.totalItemCount?this.totalItemCount:100:this.incrementalEndIndex=this.incrementalEndIndex+100>this.totalItemCount?this.totalItemCount:this.incrementalEndIndex+100,this.updateIncrementalInfo(this.incrementalStartIndex,this.incrementalEndIndex),i=!0),(this.viewPortInfo.startIndex!==0||i)&&this.updateIncrementalView(0,this.itemCount);for(var a=ed(t.charCode,this.incrementalLiCollections,this.activeIndex,!0,this.element.id,n,o,!0);p(a)&&this.incrementalEndIndex<this.totalItemCount&&(this.updateIncrementalItemIndex(this.incrementalEndIndex,this.incrementalEndIndex+100>this.totalItemCount?this.totalItemCount:this.incrementalEndIndex+100),this.updateIncrementalInfo(this.incrementalStartIndex,this.incrementalEndIndex),i=!0,(this.viewPortInfo.startIndex!==0||i)&&this.updateIncrementalView(0,this.itemCount),a=ed(t.charCode,this.incrementalLiCollections,0,!0,this.element.id,n,o,!0,!0),!!p(a));)if(p(a)&&this.incrementalEndIndex>=this.totalItemCount){this.updateIncrementalItemIndex(0,100>this.totalItemCount?this.totalItemCount:100);break}p(a)&&this.incrementalEndIndex>=this.totalItemCount&&(this.updateIncrementalItemIndex(0,100>this.totalItemCount?this.totalItemCount:100),this.updateIncrementalInfo(this.incrementalStartIndex,this.incrementalEndIndex),i=!0,(this.viewPortInfo.startIndex!==0||i)&&this.updateIncrementalView(0,this.itemCount),a=ed(t.charCode,this.incrementalLiCollections,0,!0,this.element.id,n,o,!0,!0));var l=a&&this.getIndexByValue(a.getAttribute("data-value"));if(l)l=l-this.skeletonCount;else for(var h=0;h<this.incrementalLiCollections.length;h++)if(!p(a)&&!p(a.getAttribute("data-value"))&&this.incrementalLiCollections[h].getAttribute("data-value")===a.getAttribute("data-value").toString()){l=h,l=this.incrementalStartIndex+l;break}if(l&&(!(this.viewPortInfo.startIndex>=l)||!(l>=this.viewPortInfo.endIndex))){var u=l-(this.itemCount/2-2)>0?l-(this.itemCount/2-2):0,c=this.viewPortInfo.startIndex+this.itemCount>this.totalItemCount?this.totalItemCount:this.viewPortInfo.startIndex+this.itemCount;this.updateIncrementalView(u,c)}if(p(a))this.updateIncrementalView(0,this.itemCount),this.list.getElementsByClassName("e-virtual-ddl-content")[0].style=this.getTransformValues(),this.list.scrollTop=0;else{var d=this.getIndexByValue(a.getAttribute("data-value"))-this.skeletonCount;if(d>this.itemCount/2){var u=this.viewPortInfo.startIndex+(this.itemCount/2-2)<this.totalItemCount?this.viewPortInfo.startIndex+(this.itemCount/2-2):this.totalItemCount,c=this.viewPortInfo.startIndex+this.itemCount>this.totalItemCount?this.totalItemCount:this.viewPortInfo.startIndex+this.itemCount;this.updateIncrementalView(u,c)}if(a=this.getElementByValue(a.getAttribute("data-value")),this.setSelection(a,t),this.setScrollPosition(),this.list.getElementsByClassName("e-virtual-ddl-content")[0].style=this.getTransformValues(),this.enableVirtualization&&!this.fields.groupBy){var f=this.virtualListInfo&&this.virtualListInfo.startIndex?this.selectedLI.offsetTop+this.virtualListInfo.startIndex*this.selectedLI.offsetHeight:this.selectedLI.offsetTop;this.list.scrollTop=f-this.list.querySelectorAll(".e-virtual-list").length*this.selectedLI.offsetHeight}this.incrementalPreQueryString=this.incrementalQueryString}}else{var a=void 0;if(this.fields.disabled){var g=this.list.querySelectorAll("."+Ve.li+":not(.e-disabled)");a=ed(t.charCode,g,this.activeIndex,!0,this.element.id)}else a=ed(t.charCode,this.liCollections,this.activeIndex,!0,this.element.id);p(a)||(this.setSelection(a,t),this.setScrollPosition())}},e.prototype.hideSpinner=function(){p(this.spinnerElement)||(wl(this.spinnerElement),ue([this.spinnerElement],_e.disableIcon),this.spinnerElement.innerHTML="",this.spinnerElement=null)},e.prototype.showSpinner=function(){p(this.spinnerElement)&&(this.spinnerElement=ne.isDevice&&!p(this.filterInputObj)&&this.filterInputObj.buttons[1]||!p(this.filterInputObj)&&this.filterInputObj.buttons[0]||this.inputWrapper.buttons[0],Z([this.spinnerElement],_e.disableIcon),Jh({target:this.spinnerElement,width:ne.isDevice?"16px":"14px"},this.createElement),oo(this.spinnerElement))},e.prototype.keyActionHandler=function(t){if(this.enabled){this.keyboardEvent=t,this.isPreventKeyAction&&this.enableVirtualization&&t.preventDefault();var i=t.action==="pageUp"||t.action==="pageDown",n=this.getModuleName()!=="dropdownlist"&&(t.action==="home"||t.action==="end");this.isEscapeKey=t.action==="escape",this.isTabKey=!this.isPopupOpen&&t.action==="tab";var s=t.action==="down"||t.action==="up"||t.action==="pageUp"||t.action==="pageDown"||t.action==="home"||t.action==="end";if(!((this.isEditTextBox()||i||n)&&!this.isPopupOpen)&&!this.readonly){var o=t.action==="tab"||t.action==="close";if(p(this.list)&&!this.isRequested&&!o&&t.action!=="escape"&&(this.searchKeyEvent=t,(!this.enableVirtualization||this.enableVirtualization&&this.getModuleName()!=="autocomplete"&&t.type!=="mousedown"&&(t.keyCode===40||t.keyCode===38))&&(this.renderList(t),this.UpdateSkeleton(),this.liCollections=this.list.querySelectorAll("."+Ve.li),this.ulElement=this.list.querySelector("ul"))),p(this.list)||!p(this.liCollections)&&s&&this.liCollections.length===0||this.isRequested)return;switch((o&&this.getModuleName()!=="autocomplete"&&this.isPopupOpen||t.action==="escape")&&t.preventDefault(),this.isSelected=t.action==="escape"?!1:this.isSelected,this.isTyped=s||t.action==="escape"?!1:this.isTyped,t.action){case"down":case"up":this.updateUpDownAction(t);break;case"pageUp":this.pageUpSelection(this.activeIndex-this.getPageCount(),t),t.preventDefault();break;case"pageDown":this.pageDownSelection(this.activeIndex+this.getPageCount(),t),t.preventDefault();break;case"home":this.isMouseScrollAction=!0,this.updateHomeEndAction(t);break;case"end":this.isMouseScrollAction=!0,this.updateHomeEndAction(t);break;case"space":this.getModuleName()==="dropdownlist"&&(this.beforePopupOpen||(this.showPopup(),t.preventDefault()));break;case"open":this.showPopup(t);break;case"hide":this.preventAltUp=this.isPopupOpen,this.hidePopup(t),this.focusDropDown(t);break;case"enter":this.selectCurrentItem(t);break;case"tab":this.selectCurrentValueOnTab(t);break;case"escape":case"close":this.isPopupOpen&&(this.hidePopup(t),this.focusDropDown(t));break}}}},e.prototype.updateUpDownAction=function(t,i){if(!(this.fields.disabled&&this.list&&this.list.querySelectorAll(".e-list-item:not(.e-disabled)").length===0)){if(this.allowFiltering&&!this.enableVirtualization&&this.getModuleName()!=="autocomplete"){var n=this.getItemData().value;p(n)&&(n="null");var s=this.getIndexByValue(n);p(s)||(this.activeIndex=s)}var o=this.list.querySelector("."+_e.focus);if(this.isSelectFocusItem(o)&&!i){if(this.setSelection(o,t),this.enableVirtualization){var a=this.virtualListInfo&&this.virtualListInfo.startIndex?this.selectedLI.offsetTop+this.virtualListInfo.startIndex*this.selectedLI.offsetHeight:this.selectedLI.offsetTop;this.fields.groupBy&&(a=this.virtualListInfo&&this.virtualListInfo.startIndex===0?this.selectedLI.offsetHeight-a:a-this.selectedLI.offsetHeight),this.list.scrollTop=a-this.list.querySelectorAll(".e-virtual-list").length*this.selectedLI.offsetHeight}}else if(!p(this.liCollections)){var l=this.activeIndex,h=t.action==="down"?this.activeIndex+1:this.activeIndex-1;h=i?l:h;var u=0;this.getModuleName()==="autocomplete"&&(u=t.action==="down"&&p(this.activeIndex)?0:this.liCollections.length-1,h=h<0?this.liCollections.length-1:h===this.liCollections.length?0:h);var c=void 0;if(this.getModuleName()!=="autocomplete"||this.getModuleName()==="autocomplete"&&this.isPopupOpen)if(!this.enableVirtualization)c=p(this.activeIndex)?this.liCollections[u]:this.liCollections[h];else if(!i)c=p(this.activeIndex)?this.liCollections[this.skeletonCount]:this.liCollections[h],c=!p(c)&&!c.classList.contains("e-virtual-list")?c:null;else if(this.getModuleName()==="autocomplete"){var n=this.getFormattedValue(this.selectedLI.getAttribute("data-value"));c=this.getElementByValue(n)}else c=this.getElementByValue(this.getItemData().value);if(p(c)){if(this.enableVirtualization&&!this.isPopupOpen&&this.getModuleName()!=="autocomplete"&&(this.viewPortInfo.endIndex!==this.totalItemCount&&t.action==="down"||this.viewPortInfo.startIndex!==0&&t.action==="up")){if(t.action==="down"){this.viewPortInfo.startIndex=this.viewPortInfo.startIndex+this.itemCount<this.totalItemCount-this.itemCount?this.viewPortInfo.startIndex+this.itemCount:this.totalItemCount-this.itemCount,this.viewPortInfo.endIndex=this.viewPortInfo.startIndex+this.itemCount,this.updateVirtualItemIndex(),this.isCustomFilter=this.getModuleName()==="combobox"?!0:this.isCustomFilter,this.resetList(this.dataSource,this.fields,this.query),this.isCustomFilter=this.getModuleName()==="combobox"?!1:this.isCustomFilter;var n=this.liCollections[0].getAttribute("data-value")!=="null"?this.getFormattedValue(this.liCollections[0].getAttribute("data-value")):null,f=this.getDataByValue(n);f&&(this.itemData=f)}else if(t.action==="up"){this.viewPortInfo.startIndex=this.viewPortInfo.startIndex-this.itemCount>0?this.viewPortInfo.startIndex-this.itemCount:0,this.viewPortInfo.endIndex=this.viewPortInfo.startIndex+this.itemCount,this.updateVirtualItemIndex(),this.isCustomFilter=this.getModuleName()==="combobox"?!0:this.isCustomFilter,this.resetList(this.dataSource,this.fields,this.query),this.isCustomFilter=this.getModuleName()==="combobox"?!1:this.isCustomFilter;var n=this.liCollections[this.liCollections.length-1].getAttribute("data-value")!=="null"?this.getFormattedValue(this.liCollections[this.liCollections.length-1].getAttribute("data-value")):null,f=this.getDataByValue(n);f&&(this.itemData=f)}this.UpdateSkeleton(),this.liCollections=this.list.querySelectorAll("."+Ve.li),this.ulElement=this.list.querySelector("ul"),this.handleVirtualKeyboardActions(t,this.pageCount)}}else{var d=this.liCollections[this.skeletonCount]&&this.liCollections[this.skeletonCount].classList.contains("e-item-focus");if(this.setSelection(c,t),d&&this.enableVirtualization&&this.getModuleName()==="autocomplete"&&!i){var a=this.virtualListInfo&&this.virtualListInfo.startIndex?this.selectedLI.offsetTop+this.virtualListInfo.startIndex*this.selectedLI.offsetHeight:this.selectedLI.offsetTop;a=this.virtualListInfo&&this.virtualListInfo.startIndex===0&&this.fields.groupBy?this.selectedLI.offsetHeight-a:a-this.selectedLI.offsetHeight,this.list.scrollTop=a-this.list.querySelectorAll(".e-virtual-list").length*this.selectedLI.offsetHeight}}}if(this.allowFiltering&&!this.enableVirtualization&&this.getModuleName()!=="autocomplete"){var n=this.getItemData().value,s=this.getIndexByValueFilter(n,this.actionCompleteData.ulElement);p(s)||(this.activeIndex=s)}this.allowFiltering&&this.getModuleName()==="dropdownlist"&&this.filterInput&&(!p(this.ulElement)&&!p(this.ulElement.getElementsByClassName("e-item-focus")[0])?Et(this.filterInput,{"aria-activedescendant":this.ulElement.getElementsByClassName("e-item-focus")[0].id}):!p(this.ulElement)&&!p(this.ulElement.getElementsByClassName("e-active")[0])&&Et(this.filterInput,{"aria-activedescendant":this.ulElement.getElementsByClassName("e-active")[0].id}));for(var g,h=0;h<this.liCollections.length;h++)if(this.liCollections[h].classList.contains(_e.focus)||this.liCollections[h].classList.contains(_e.selected)){g=h;break}g!=null&&this.isDisabledElement(this.liCollections[g])&&(this.getModuleName()!=="autocomplete"&&(this.liCollections.length-1===g&&t.action==="down"&&(t.action="up"),g===0&&t.action==="up"&&(t.action="down")),this.updateUpDownAction(t)),t.preventDefault()}},e.prototype.updateHomeEndAction=function(t,i){if(this.getModuleName()==="dropdownlist"){var n=0;if(t.action==="home"?(n=0,this.enableVirtualization&&this.isPopupOpen?n=this.skeletonCount:this.enableVirtualization&&!this.isPopupOpen&&this.viewPortInfo.startIndex!==0&&(this.viewPortInfo.startIndex=0,this.viewPortInfo.endIndex=this.itemCount,this.updateVirtualItemIndex(),this.resetList(this.dataSource,this.fields,this.query))):(this.enableVirtualization&&!this.isPopupOpen&&this.viewPortInfo.endIndex!==this.totalItemCount&&(this.viewPortInfo.startIndex=this.totalItemCount-this.itemCount,this.viewPortInfo.endIndex=this.totalItemCount,this.updateVirtualItemIndex(),this.resetList(this.dataSource,this.fields,this.query)),n=this.getItems().length-1),t.preventDefault(),this.activeIndex===n){i&&this.setSelection(this.liCollections[n],t);return}if(!this.enableVirtualization&&this.liCollections[n]&&this.liCollections[n].classList.contains("e-disabled"))return;this.setSelection(this.liCollections[n],t)}},e.prototype.selectCurrentValueOnTab=function(t){this.getModuleName()==="autocomplete"?this.selectCurrentItem(t):this.isPopupOpen&&(this.hidePopup(t),this.focusDropDown(t))},e.prototype.mobileKeyActionHandler=function(t){if(this.enabled&&!(this.isEditTextBox()&&!this.isPopupOpen)&&!this.readonly){if(this.list===void 0&&!this.isRequested&&(this.searchKeyEvent=t,this.renderList()),p(this.list)||!p(this.liCollections)&&this.liCollections.length===0||this.isRequested)return;t.action==="enter"&&this.selectCurrentItem(t)}},e.prototype.handleVirtualKeyboardActions=function(t,i){switch(t.action){case"down":case"up":(this.itemData!=null||this.getModuleName()==="autocomplete")&&this.updateUpDownAction(t,!0);break;case"pageUp":this.activeIndex=this.getModuleName()==="autocomplete"?this.getIndexByValue(this.selectedLI.getAttribute("data-value"))+this.getPageCount()-1:this.getIndexByValue(this.previousValue),this.pageUpSelection(this.activeIndex-this.getPageCount(),t,!0),t.preventDefault();break;case"pageDown":this.activeIndex=this.getModuleName()==="autocomplete"?this.getIndexByValue(this.selectedLI.getAttribute("data-value"))-this.getPageCount():this.getIndexByValue(this.previousValue),this.pageDownSelection(p(this.activeIndex)?2*this.getPageCount():this.activeIndex+this.getPageCount(),t,!0),t.preventDefault();break;case"home":this.isMouseScrollAction=!0,this.updateHomeEndAction(t,!0);break;case"end":this.isMouseScrollAction=!0,this.updateHomeEndAction(t,!0);break}this.keyboardEvent=null},e.prototype.selectCurrentItem=function(t){if(this.isPopupOpen){var i=this.list.querySelector("."+_e.focus);if(this.isDisabledElement(i))return;i&&(this.setSelection(i,t),this.isTyped=!1),this.isSelected&&(this.isSelectCustom=!1,this.onChangeEvent(t)),this.hidePopup(t),this.focusDropDown(t)}else this.showPopup()},e.prototype.isSelectFocusItem=function(t){return!p(t)},e.prototype.pageUpSelection=function(t,i,n){var s=t>=0?this.liCollections[t+1]:this.liCollections[0];if(!this.enableVirtualization&&s&&s.classList.contains("e-disabled")){for(var o=t>=0?t+1:0;o<this.liCollections.length&&(s=this.liCollections[o],!(s&&!s.classList.contains("e-disabled")));)if(o--,o<0)return}this.enableVirtualization&&this.activeIndex==null&&(s=this.liCollections.length>=t&&t>=0?this.liCollections[t+this.skeletonCount+1]:this.liCollections[0]),!p(s)&&s.classList.contains("e-virtual-list")&&(s=this.liCollections[this.skeletonCount]),this.PageUpDownSelection(s,i),this.allowFiltering&&this.getModuleName()==="dropdownlist"&&(!p(this.ulElement)&&!p(this.ulElement.getElementsByClassName("e-item-focus")[0])?Et(this.filterInput,{"aria-activedescendant":this.ulElement.getElementsByClassName("e-item-focus")[0].id}):!p(this.ulElement)&&!p(this.ulElement.getElementsByClassName("e-active")[0])&&Et(this.filterInput,{"aria-activedescendant":this.ulElement.getElementsByClassName("e-active")[0].id}))},e.prototype.PageUpDownSelection=function(t,i){this.enableVirtualization?!p(t)&&(this.getModuleName()!=="autocomplete"&&!t.classList.contains("e-active")||this.getModuleName()==="autocomplete"&&!t.classList.contains("e-item-focus"))&&this.setSelection(t,i):this.setSelection(t,i)},e.prototype.pageDownSelection=function(t,i,n){var s=this.getItems(),o=t<=s.length?this.liCollections[t-1]:this.liCollections[s.length-1];if(!this.enableVirtualization&&o&&o.classList.contains("e-disabled"))for(;t>=0&&t<this.liCollections.length&&(o=t<=s.length?this.liCollections[t-1]:this.liCollections[s.length-1],!(o&&!o.classList.contains("e-disabled")));)t++;this.enableVirtualization&&this.skeletonCount>0&&(t=this.getModuleName()==="dropdownlist"&&this.allowFiltering?t+1:t,o=t<s.length?this.liCollections[t]:this.liCollections[s.length-1]),this.enableVirtualization&&this.activeIndex==null&&(o=t<=s.length?this.liCollections[t+this.skeletonCount-1]:this.liCollections[s.length-1]),this.PageUpDownSelection(o,i),this.allowFiltering&&this.getModuleName()==="dropdownlist"&&(!p(this.ulElement)&&!p(this.ulElement.getElementsByClassName("e-item-focus")[0])?Et(this.filterInput,{"aria-activedescendant":this.ulElement.getElementsByClassName("e-item-focus")[0].id}):!p(this.ulElement)&&!p(this.ulElement.getElementsByClassName("e-active")[0])&&Et(this.filterInput,{"aria-activedescendant":this.ulElement.getElementsByClassName("e-active")[0].id}))},e.prototype.unWireEvent=function(){p(this.inputWrapper)||(F.remove(this.inputWrapper.container,"mousedown",this.dropDownClick),F.remove(this.inputWrapper.container,"keypress",this.onSearch),F.remove(this.inputWrapper.container,"focus",this.focusIn),F.remove(window,"resize",this.windowResize)),this.unBindCommonEvent()},e.prototype.unWireListEvents=function(){this.list&&(F.remove(this.list,"click",this.onMouseClick),F.remove(this.list,"mouseover",this.onMouseOver),F.remove(this.list,"mouseout",this.onMouseLeave))},e.prototype.checkSelector=function(t){return'[id="'+t.replace(/(:|\.|\[|\]|,|=|@|\\|\/|#)/g,"\\$1")+'"]'},e.prototype.onDocumentClick=function(t){var i=t.target;if(!(!p(this.popupObj)&&xe(i,this.checkSelector(this.popupObj.element.id)))&&!p(this.inputWrapper)&&!this.inputWrapper.container.contains(t.target)){if(this.inputWrapper.container.classList.contains(_e.inputFocus)||this.isPopupOpen){this.isDocumentClick=!0;var n=this.isRequested;this.getModuleName()==="combobox"&&this.isTyped&&(this.isInteracted=!1),this.hidePopup(t),this.isInteracted=!1,n||(this.onFocusOut(t),this.inputWrapper.container.classList.remove(_e.inputFocus))}}else i!==this.inputElement&&!(this.allowFiltering&&i===this.filterInput)&&!(this.getModuleName()==="combobox"&&!this.allowFiltering&&ne.isDevice&&i===this.inputWrapper.buttons[0])&&(this.isPreventBlur=(ne.isIE||ne.info.name==="edge")&&(document.activeElement===this.targetElement()||document.activeElement===this.filterInput),t.preventDefault())},e.prototype.activeStateChange=function(){this.isDocumentClick&&(this.hidePopup(),this.onFocusOut(),this.inputWrapper.container.classList.remove(_e.inputFocus))},e.prototype.focusDropDown=function(t){!this.initial&&this.isFilterLayout()&&this.focusIn(t)},e.prototype.dropDownClick=function(t){if(!(t.which===3||t.button===2)&&(this.keyboardEvent=null,!(this.targetElement().classList.contains(_e.disable)||this.inputWrapper.clearButton===t.target))){var i=t.target;if(i!==this.inputElement&&!(this.allowFiltering&&i===this.filterInput)&&this.getModuleName()!=="combobox"&&t.preventDefault(),this.readonly)this.focusIn(t);else{this.isPopupOpen||this.popupObj&&document.body.contains(this.popupObj.element)&&this.beforePopupOpen&&this.isPopupRender?(this.hidePopup(t),this.isFilterLayout()&&this.focusDropDown(t)):(this.focusIn(t),this.floatLabelChange(),this.queryString=this.inputElement.value.trim()===""?null:this.inputElement.value,this.isDropDownClick=!0,this.showPopup(t));var n=this,s=this.dataSource instanceof fe&&this.groupTemplate?700:this.element.tagName===this.getNgDirective()&&this.itemTemplate?500:100;this.isSecondClick||setTimeout(function(){n.cloneElements(),n.isSecondClick=!0,n.isSecondClick=!(n.isReact&&n.isFiltering()&&n.dataSource instanceof fe&&!n.list.querySelector("ul"))},s)}}},e.prototype.cloneElements=function(){if(this.list){var t=this.list.querySelector("ul");t&&(t=t.cloneNode?t.cloneNode(!0):t,this.actionCompleteData.ulElement=t)}},e.prototype.updateSelectedItem=function(t,i,n,s){var o=this;this.removeSelection(),t.classList.add(Ve.selected),this.removeHover();var a=t.getAttribute("data-value")!==null?this.getFormattedValue(t.getAttribute("data-value")):null,l=this.getDataByValue(a);if(!this.initial&&!n&&!p(i)){var h=this.detachChanges(l);this.isSelected=!0;var u={e:i,item:t,itemData:h,isInteracted:!!i,cancel:!1};this.trigger("select",u,function(c){c.cancel?t.classList.remove(Ve.selected):(o.selectEventCallback(t,i,n,l,a),s&&o.setSelectOptions(t,i))})}else this.selectEventCallback(t,i,n,l,a),s&&this.setSelectOptions(t,i)},e.prototype.selectEventCallback=function(t,i,n,s,o){this.previousItemData=p(this.itemData)?null:this.itemData,this.itemData!==s&&(this.previousValue=p(this.itemData)?null:typeof this.itemData=="object"&&!this.allowObjectBinding?this.checkFieldValue(this.itemData,this.fields.value.split(".")):this.itemData),this.item=t,this.itemData=s;var a=this.list.querySelector("."+Ve.focus);if(a&&ue([a],Ve.focus),t.setAttribute("aria-selected","true"),p(o)&&(o="null"),this.allowFiltering&&!this.enableVirtualization&&this.getModuleName()!=="autocomplete"){var l=this.getIndexByValueFilter(o,this.actionCompleteData.ulElement);p(l)?this.activeIndex=this.getIndexByValue(o):this.activeIndex=l}else this.enableVirtualization&&this.activeIndex==null&&this.dataSource instanceof fe&&(this.UpdateSkeleton(),this.liCollections=this.list.querySelectorAll("."+Ve.li),this.ulElement=this.list.querySelector("ul")),this.activeIndex=this.getIndexByValue(o)},e.prototype.activeItem=function(t){this.isValidLI(t)&&!t.classList.contains(Ve.selected)&&(this.removeSelection(),t.classList.add(Ve.selected),this.removeHover(),t.setAttribute("aria-selected","true"))},e.prototype.setValue=function(t){var i=this.getItemData();this.isTouched=!p(t),i.value===null?xt.setValue(null,this.inputElement,this.floatLabelType,this.showClearButton):xt.setValue(i.text,this.inputElement,this.floatLabelType,this.showClearButton),this.valueTemplate&&this.itemData!==null?this.setValueTemplate():!p(this.valueTempElement)&&this.inputElement.previousSibling===this.valueTempElement&&(bt(this.valueTempElement),this.inputElement.style.display="block"),!p(i.value)&&!this.enableVirtualization&&this.allowFiltering&&(this.activeIndex=this.getIndexByValueFilter(i.value,this.actionCompleteData.ulElement),p(this.activeIndex)&&(this.activeIndex=this.getIndexByValue(i.value)));var n=_e.clearIcon,s=this.isFiltering()&&this.filterInput&&this.getModuleName()==="combobox",o=s&&this.filterInput.parentElement.querySelector("."+n);return this.isFiltering()&&o&&o.style.removeProperty("visibility"),!this.allowObjectBinding&&this.previousValue===i.value||this.allowObjectBinding&&this.previousValue!=null&&this.isObjectInArray(this.previousValue,[this.allowCustom&&this.isObjectCustomValue?this.value?this.value:i:i.value?this.getDataByValue(i.value):i])?(this.isSelected=!1,!0):(this.isSelected=!this.initial,this.isSelectCustom=!1,this.getModuleName()==="dropdownlist"&&this.updateIconState(),!1)},e.prototype.setSelection=function(t,i){if(this.isValidLI(t)&&(!t.classList.contains(Ve.selected)||this.isPopupOpen&&this.isSelected&&t.classList.contains(Ve.selected)))this.updateSelectedItem(t,i,!1,!0);else if(this.setSelectOptions(t,i),this.enableVirtualization&&this.value){var n=this.isPrimitiveData?"":this.fields.value,s=this.allowObjectBinding&&!p(this.value)?H(this.fields.value?this.fields.value:"",this.value):this.value;if(this.dataSource instanceof fe){var o=new fe(this.virtualGroupDataSource).executeLocal(new He().where(new Tt(n,"equal",s)));if(o&&o.length>0){this.itemData=o[0];var a=this.getItemData(),l=this.allowObjectBinding?this.getDataByValue(a.value):a.value;(this.value===a.value&&this.text!==a.text||this.value!==a.value&&this.text===a.text)&&this.setProperties({text:a.text?a.text.toString():a.text,value:l})}}else{var o=new fe(this.dataSource).executeLocal(new He().where(new Tt(n,"equal",s)));if(o&&o.length>0){this.itemData=o[0];var a=this.getItemData(),l=this.allowObjectBinding?this.getDataByValue(a.value):a.value;(this.value===a.value&&this.text!==a.text||this.value!==a.value&&this.text===a.text)&&(this.setProperties({text:a.text?a.text.toString():a.text,value:l}),p(t)&&(this.previousValue=this.value))}}}},e.prototype.setSelectOptions=function(t,i){this.list&&this.removeHover(),this.previousSelectedLI=p(this.selectedLI)?null:this.selectedLI,this.selectedLI=t,!this.setValue(i)&&((!this.isPopupOpen&&!p(t)||this.isPopupOpen&&!p(i)&&(i.type!=="keydown"||i.type==="keydown"&&i.action==="enter"))&&(this.isSelectCustom=!1,this.onChangeEvent(i)),this.isPopupOpen&&!p(this.selectedLI)&&this.itemData!==null&&(!i||i.type!=="click")&&this.setScrollPosition(i),ne.info.name!=="mozilla"&&this.targetElement()&&(Et(this.targetElement(),{"aria-describedby":this.inputElement.id!==""?this.inputElement.id:this.element.id}),this.targetElement().removeAttribute("aria-live")),this.isPopupOpen&&!p(this.ulElement)&&!p(this.ulElement.getElementsByClassName("e-item-focus")[0])?Et(this.targetElement(),{"aria-activedescendant":this.ulElement.getElementsByClassName("e-item-focus")[0].id}):this.isPopupOpen&&!p(this.ulElement)&&!p(this.ulElement.getElementsByClassName("e-active")[0])&&Et(this.targetElement(),{"aria-activedescendant":this.ulElement.getElementsByClassName("e-active")[0].id}))},e.prototype.dropdownCompiler=function(t){var i=!1;if(typeof t!="function"&&t)try{i=!!document.querySelectorAll(t).length}catch{i=!1}return i},e.prototype.setValueTemplate=function(){var t;this.isReact&&(this.clearTemplate(["valueTemplate"]),this.valueTempElement&&(bt(this.valueTempElement),this.inputElement.style.display="block",this.valueTempElement=null)),this.valueTempElement||(this.valueTempElement=this.createElement("span",{className:_e.value}),this.inputElement.parentElement.insertBefore(this.valueTempElement,this.inputElement),this.inputElement.style.display="none"),this.isReact||(this.valueTempElement.innerHTML="");var i=this.dropdownCompiler(this.valueTemplate);typeof this.valueTemplate!="function"&&i?t=Xt(document.querySelector(this.valueTemplate).innerHTML.trim()):t=Xt(this.valueTemplate);var n=t(this.itemData,this,"valueTemplate",this.valueTemplateId,this.isStringTemplate,null,this.valueTempElement);n&&n.length>0&&Ct(n,this.valueTempElement),this.renderReactTemplates()},e.prototype.removeSelection=function(){if(this.list){var t=this.list.querySelectorAll("."+Ve.selected);t.length&&(ue(t,Ve.selected),t[0].removeAttribute("aria-selected"))}},e.prototype.getItemData=function(){var t=this.fields,i=null;i=this.itemData;var n,s;p(i)||(n=H(t.value,i),s=H(t.text,i));var o=!p(i)&&!Je(n)?n:i,a=!p(i)&&!Je(n)?s:i;return{value:o,text:a}},e.prototype.onChangeEvent=function(t,i){var n=this,s=this.getItemData(),o=this.isSelectCustom?null:this.activeIndex;if(this.enableVirtualization){var a=this.dataSource instanceof fe?this.virtualGroupDataSource:this.dataSource;if(s.value&&a&&a.length>0){var l=a.findIndex(function(u){return!p(s.value)&&H(n.fields.value,u)===s.value});l!==-1&&(o=l)}}var h=this.allowObjectBinding?i?this.value:this.getDataByValue(s.value):s.value;this.setProperties({index:o,text:s.text?s.text.toString():s.text,value:h},!0),this.detachChangeEvent(t)},e.prototype.detachChanges=function(t){var i;return typeof t=="string"||typeof t=="boolean"||typeof t=="number"?i=Object.defineProperties({},{value:{value:t,enumerable:!0},text:{value:t,enumerable:!0}}):i=t,i},e.prototype.detachChangeEvent=function(t){if(this.isSelected=!1,this.previousValue=this.value,this.activeIndex=this.enableVirtualization?this.getIndexByValue(this.value):this.index,this.typedString=p(this.text)?"":this.text,!this.initial){var i=this.detachChanges(this.itemData),n=void 0;typeof this.previousItemData=="string"||typeof this.previousItemData=="boolean"||typeof this.previousItemData=="number"?n=Object.defineProperties({},{value:{value:this.previousItemData,enumerable:!0},text:{value:this.previousItemData,enumerable:!0}}):n=this.previousItemData,this.setHiddenValue();var s={e:t,item:this.item,itemData:i,previousItem:this.previousSelectedLI,previousItemData:n,isInteracted:!!t,value:this.value,element:this.element,event:t};this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",s)}(p(this.value)||this.value==="")&&this.floatLabelType!=="Always"&&ue([this.inputWrapper.container],"e-valid-input")},e.prototype.setHiddenValue=function(){if(p(this.value)){for(;this.hiddenElement.firstChild;)this.hiddenElement.removeChild(this.hiddenElement.firstChild);this.hiddenElement.innerHTML=""}else{var t=this.allowObjectBinding&&!p(this.value)?H(this.fields.value?this.fields.value:"",this.value):this.value;if(this.hiddenElement.querySelector("option")){var i=this.hiddenElement.querySelector("option");i.textContent=this.text,i.setAttribute("value",t.toString())}else if(!p(this.hiddenElement)){var n=document.createElement("option");n.text=this.text,n.setAttribute("selected",""),this.hiddenElement.appendChild(n);var i=this.hiddenElement.querySelector("option");i.setAttribute("value",t.toString())}}},e.prototype.onFilterUp=function(t){if(!(t.ctrlKey&&t.keyCode===86)&&(this.isValidKey||t.keyCode===40||t.keyCode===38))switch(this.isValidKey=!1,this.filterArgs=t,this.firstItem=this.dataSource&&this.dataSource.length>0?this.dataSource[0]:null,t.keyCode){case 38:case 40:this.getModuleName()==="autocomplete"&&!this.isPopupOpen&&!this.preventAltUp&&!this.isRequested?(this.preventAutoFill=!0,this.searchLists(t)):this.preventAutoFill=!1,this.preventAltUp=!1,this.getModuleName()==="autocomplete"&&!p(this.ulElement)&&!p(this.ulElement.getElementsByClassName("e-item-focus")[0])&&Et(this.targetElement(),{"aria-activedescendant":this.ulElement.getElementsByClassName("e-item-focus")[0].id}),t.preventDefault();break;case 46:case 8:this.typedString=this.filterInput.value,!this.isPopupOpen&&this.typedString!==""||this.isPopupOpen&&this.queryString.length>0?(this.preventAutoFill=!0,this.searchLists(t)):this.typedString===""&&this.queryString===""&&this.getModuleName()!=="autocomplete"?(this.preventAutoFill=!0,this.searchLists(t)):this.typedString===""&&(this.list&&this.resetFocusElement(),this.activeIndex=null,this.getModuleName()!=="dropdownlist"&&(this.preventAutoFill=!0,this.searchLists(t),this.getModuleName()==="autocomplete"&&this.hidePopup())),t.preventDefault();break;default:this.isFiltering()&&this.getModuleName()==="combobox"&&p(this.list)&&(this.getInitialData=!0,this.renderList(),!this.isSecondClick&&!this.isDropDownClick&&this.executeCloneElements()),this.typedString=this.filterInput.value,this.preventAutoFill=!1,this.getInitialData||this.searchLists(t),(this.enableVirtualization&&this.getModuleName()!=="autocomplete"||this.getModuleName()==="autocomplete"&&!(this.dataSource instanceof fe)||this.getModuleName()==="autocomplete"&&this.dataSource instanceof fe&&this.totalItemCount!==0)&&this.getFilteringSkeletonCount();break}else this.isValidKey=!1},e.prototype.onFilterDown=function(t){switch(t.keyCode){case 13:break;case 40:case 38:this.queryString=this.filterInput.value,t.preventDefault();break;case 9:this.isPopupOpen&&this.getModuleName()!=="autocomplete"&&t.preventDefault();break;default:this.prevSelectPoints=this.getSelectionPoints(),this.queryString=this.filterInput.value;break}},e.prototype.removeFillSelection=function(){if(this.isInteracted){var t=this.getSelectionPoints();this.inputElement.setSelectionRange(t.end,t.end)}},e.prototype.getQuery=function(t){var i;if(!this.isCustomFilter&&this.allowFiltering&&this.filterInput){i=t?t.clone():this.query?this.query.clone():new He;var n=this.typedString===""?"contains":this.filterType,s=this.typeOfData(this.dataSource).typeof;if(!(this.dataSource instanceof fe)&&s==="string"||s==="number")i.where("",n,this.typedString,this.ignoreCase,this.ignoreAccent);else if(this.getModuleName()!=="combobox"||this.isFiltering()&&this.getModuleName()==="combobox"&&this.typedString!==""){var o=this.fields.text?this.fields.text:"";i.where(o,n,this.typedString,this.ignoreCase,this.ignoreAccent)}}else i=this.enableVirtualization&&!p(this.customFilterQuery)?this.customFilterQuery.clone():t?t.clone():this.query?this.query.clone():new He;if(this.enableVirtualization&&this.viewPortInfo.endIndex!==0){var a=this.getTakeValue(),l=!1;if(i){for(var h=0;h<i.queries.length;h++)if(i.queries[h].fn==="onSkip"){l=!0;break}}var u=0,c=0;if(i&&i.queries.length>0)for(var h=0;h<i.queries.length;h++)i.queries[h].fn==="onSkip"&&(c=i.queries[h].e.nos),i.queries[h].fn==="onTake"&&(u=a<=i.queries[h].e.nos?i.queries[h].e.nos:a);if(u<=0&&this.query&&this.query.queries.length>0)for(var h=0;h<this.query.queries.length;h++)this.query.queries[h].fn==="onTake"&&(u=a<=this.query.queries[h].e.nos?this.query.queries[h].e.nos:a);var d=!1;if(i&&i.queries.length>0)for(var h=0;h<i.queries.length;h++){if(i.queries[h].fn==="onSkip"){c=i.queries[h].e.nos,i.queries.splice(h,1),l=!1,--h;continue}i.queries[h].fn==="onTake"&&(u=i.queries[h].e.nos<=u?u:i.queries[h].e.nos,i.queries.splice(h,1),--h)}!d&&(this.allowFiltering||!this.isPopupOpen||!l)&&(c>0?i.skip(c):i.skip(this.virtualItemStartIndex)),this.isIncrementalRequest?i.take(this.incrementalEndIndex):u>0?i.take(u):i.take(a),i.requiresCount()}return i},e.prototype.getSelectionPoints=function(){var t=this.inputElement;return{start:Math.abs(t.selectionStart),end:Math.abs(t.selectionEnd)}},e.prototype.performFiltering=function(t){var i=this;this.checkAndResetCache(),this.isRequesting=!1;var n={preventDefaultAction:!1,text:this.filterInput?this.filterInput.value:"",updateData:function(s,o,a){n.cancel||(i.isCustomFilter=!0,i.customFilterQuery=o&&o.clone(),i.filteringAction(s,o,a))},baseEventArgs:t,cancel:!1};this.trigger("filtering",n,function(s){!s.cancel&&!i.isCustomFilter&&!s.preventDefaultAction&&i.filteringAction(i.dataSource,null,i.fields)})},e.prototype.searchLists=function(t){if(this.isTyped=!0,this.activeIndex=null,this.isListSearched=!0,this.filterInput.parentElement.querySelector("."+_e.clearIcon)){var i=this.filterInput.parentElement.querySelector("."+_e.clearIcon);i.style.visibility=this.filterInput.value===""?"hidden":"visible"}this.isDataFetched=!1,this.isFiltering()&&(this.typedString!==""&&this.debounceDelay>0?this.debouncedFiltering(t,this.debounceDelay):this.performFiltering(t))},e.prototype.filter=function(t,i,n){this.isCustomFilter=!0,this.filteringAction(t,i,n)},e.prototype.filteringAction=function(t,i,n){if(!p(this.filterInput)){this.beforePopupOpen=!(!this.isPopupOpen&&this.getModuleName()==="combobox"&&this.filterInput.value===""||this.getInitialData);var s=this.list.classList.contains(Ve.noData);if(this.filterInput.value.trim()===""&&!this.itemTemplate){if(this.actionCompleteData.isUpdated=!1,this.isTyped=!1,!p(this.actionCompleteData.ulElement)&&!p(this.actionCompleteData.list)){if(this.enableVirtualization&&(this.isFiltering()&&(this.isPreventScrollAction=!0,this.list.scrollTop=0,this.previousStartIndex=0,this.virtualListInfo=null),this.totalItemCount=this.dataSource&&this.dataSource.length?this.dataSource.length:0,this.resetList(t,n,i),s&&!this.list.classList.contains(Ve.noData))){if(!this.list.querySelector(".e-virtual-ddl-content")){var o=this.createElement("div",{className:"e-virtual-ddl-content"});o.style.cssText=this.getTransformValues(),this.list.appendChild(o).appendChild(this.list.querySelector(".e-list-parent"))}if(!this.list.querySelector(".e-virtual-ddl")){var a=this.createElement("div",{id:this.element.id+"_popup",className:"e-virtual-ddl"});a.style.cssText=this.GetVirtualTrackHeight(),this.list.parentElement.querySelector(".e-dropdownbase").appendChild(a)}}this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list)}this.isTyped=!0,!p(this.itemData)&&this.getModuleName()==="dropdownlist"&&(this.focusIndexItem(),this.setScrollPosition()),this.isNotSearchList=!0}else if(this.isNotSearchList=!1,i=this.filterInput.value.trim()===""?null:i,this.enableVirtualization&&this.isFiltering()&&this.isTyped&&(this.isPreventScrollAction=!0,this.list.scrollTop=0,this.previousStartIndex=0,this.virtualListInfo=null),this.resetList(t,n,i),this.getModuleName()==="dropdownlist"&&this.list.classList.contains(Ve.noData)&&(this.popupContentElement.setAttribute("role","status"),this.popupContentElement.setAttribute("id","no-record"),Et(this.filterInputObj.container,{"aria-activedescendant":"no-record"})),this.enableVirtualization&&s&&!this.list.classList.contains(Ve.noData)){if(!this.list.querySelector(".e-virtual-ddl-content")){var o=this.createElement("div",{className:"e-virtual-ddl-content"});o.style.cssText=this.getTransformValues(),this.list.appendChild(o).appendChild(this.list.querySelector(".e-list-parent"))}if(!this.list.querySelector(".e-virtual-ddl")){var a=this.createElement("div",{id:this.element.id+"_popup",className:"e-virtual-ddl"});a.style.cssText=this.GetVirtualTrackHeight(),this.list.parentElement.querySelector(".e-dropdownbase").appendChild(a)}}this.enableVirtualization&&this.getFilteringSkeletonCount(),this.renderReactTemplates(),this.filterInput&&this.filterInput.value===""&&this.getModuleName()==="combobox"&&this.executeCloneElements()}},e.prototype.setSearchBox=function(t){if(this.isFiltering()){var i=t.querySelector("."+_e.filterParent)?t.querySelector("."+_e.filterParent):this.createElement("span",{className:_e.filterParent});this.filterInput=this.createElement("input",{attrs:{type:"text"},className:_e.filterInput}),this.element.parentNode.insertBefore(this.filterInput,this.element);var n=!1;return ne.isDevice&&this.isDeviceFullScreen&&(n=!0),this.filterInputObj=xt.createInput({element:this.filterInput,buttons:n?[_e.backIcon,_e.filterBarClearIcon]:[_e.filterBarClearIcon],properties:{placeholder:this.filterBarPlaceholder}},this.createElement),p(this.cssClass)||(this.cssClass.split(" ").indexOf("e-outline")!==-1?Z([this.filterInputObj.container],"e-outline"):this.cssClass.split(" ").indexOf("e-filled")!==-1&&Z([this.filterInputObj.container],"e-filled")),Ct([this.filterInputObj.container],i),ts([i],t),Et(this.filterInput,{"aria-disabled":"false",role:"combobox",autocomplete:"off",autocapitalize:"off",spellcheck:"false"}),this.clearIconElement=this.filterInput.parentElement.querySelector("."+_e.clearIcon),!ne.isDevice&&this.clearIconElement&&(F.add(this.clearIconElement,"click",this.clearText,this),this.clearIconElement.style.visibility="hidden"),ne.isDevice?this.searchKeyModule=new hh(this.filterInput,{keyAction:this.mobileKeyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}):this.searchKeyModule=new hh(this.filterInput,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),F.add(this.filterInput,"input",this.onInput,this),F.add(this.filterInput,"keyup",this.onFilterUp,this),F.add(this.filterInput,"keydown",this.onFilterDown,this),F.add(this.filterInput,"blur",this.onBlurHandler,this),F.add(this.filterInput,"paste",this.pasteHandler,this),this.filterInputObj}else return aie},e.prototype.onInput=function(t){!p(t)&&!p(t.data)&&t.data.length>1&&this.autoFill&&(this.getModuleName()==="combobox"||this.getModuleName()==="autocomplete")&&(this.inputElement.value=t.data),this.isValidKey=!0,this.getModuleName()==="combobox"&&this.updateIconState(),ne.isDevice&&ne.info.name==="mozilla"&&(this.typedString=this.filterInput.value,this.preventAutoFill=!0,this.searchLists(t))},e.prototype.pasteHandler=function(t){var i=this;setTimeout(function(){i.typedString=i.filterInput.value,i.getModuleName()==="combobox"&&i.isFiltering()&&p(i.list)&&i.renderList(),i.searchLists(t)})},e.prototype.onActionFailure=function(t){r.prototype.onActionFailure.call(this,t),this.beforePopupOpen&&this.renderPopup()},e.prototype.getTakeValue=function(){return this.allowFiltering&&this.getModuleName()==="dropdownlist"&&ne.isDevice?Math.round(window.outerHeight/this.listItemHeight):this.itemCount},e.prototype.onActionComplete=function(t,i,n,s){var o=this;if(this.dataSource instanceof fe&&!p(n)&&!this.virtualGroupDataSource&&(this.totalItemCount=n.count),this.isNotSearchList&&!this.enableVirtualization){this.isNotSearchList=!1;return}if(this.getInitialData){this.itemTemplate&&this.element.tagName==="EJS-COMBOBOX"&&this.allowFiltering?setTimeout(function(){o.updateActionCompleteDataValues(t,i)},0):this.updateActionCompleteDataValues(t,i),this.enableVirtualization&&this.updateSelectElementData(this.allowFiltering),this.getInitialData=!1,this.isReactTemplateUpdate=!0,this.typedString=this.filterInput.value,this.searchLists(this.filterArgs);return}var a=this.itemCount;if(this.isActive||!p(t)){var l=this.selectedLI?this.selectedLI.cloneNode(!0):null;if(r.prototype.onActionComplete.call(this,t,i,n),this.skeletonCount=this.totalItemCount!==0&&this.totalItemCount<this.itemCount*2&&(!(this.dataSource instanceof fe)||this.dataSource instanceof fe&&this.totalItemCount<=this.itemCount)?0:this.skeletonCount,this.updateSelectElementData(this.allowFiltering),this.isRequested&&!p(this.searchKeyEvent)&&this.searchKeyEvent.type==="keydown"&&(this.isRequested=!1,this.keyActionHandler(this.searchKeyEvent),this.searchKeyEvent=null),this.isRequested&&!p(this.searchKeyEvent)&&(this.incrementalSearch(this.searchKeyEvent),this.searchKeyEvent=null),this.enableVirtualization||(this.list.scrollTop=0),p(t)||Et(t,{id:this.element.id+"_options",role:"listbox","aria-hidden":"false","aria-label":"listbox"}),this.initialRemoteRender){if(this.initial=!0,this.activeIndex=this.index,this.initialRemoteRender=!1,this.value&&this.dataSource instanceof fe){var h=p(this.fields.value)?this.fields.text:this.fields.value,u=this.allowObjectBinding&&!p(this.value)?H(h,this.value):this.value,c=this.fields.value.split("."),d=i.some(function(v){return p(v[h])&&c.length>1?o.checkFieldValue(v,c)===u:v[h]===u});this.enableVirtualization&&this.virtualGroupDataSource&&(d=this.virtualGroupDataSource.some(function(v){return p(v[h])&&c.length>1?o.checkFieldValue(v,c)===u:v[h]===u})),!d&&!this.enableVirtualization?this.dataSource.executeQuery(this.getQuery(this.query).where(new Tt(h,"equal",u))).then(function(v){v.result.length>0&&(o.enableVirtualization||o.addItem(v.result,i.length)),o.updateValues()}):this.updateValues()}else this.updateValues();this.initial=!1}else this.getModuleName()==="autocomplete"&&this.value&&this.setInputValue();if(this.getModuleName()!=="autocomplete"&&this.isFiltering()&&!this.isTyped){if((!this.actionCompleteData.isUpdated||!this.isCustomFilter&&!this.isFilterFocus||p(this.itemData)&&this.allowFiltering&&(this.dataSource instanceof fe||!p(this.dataSource)&&!p(this.dataSource.length)&&this.dataSource.length!==0))&&(this.itemTemplate&&(this.element.tagName==="EJS-COMBOBOX"||this.isReact)&&this.allowFiltering?setTimeout(function(){o.updateActionCompleteDataValues(t,i)},0):this.updateActionCompleteDataValues(t,i)),this.isDynamicData){var f=this.allowObjectBinding&&!p(this.value)?H(this.fields.value?this.fields.value:"",this.value):this.value;this.itemData=this.getDataByValue(f),this.selectedLI=this.getElementByValue(f),this.isDynamicData=!1}if((this.allowCustom||this.allowFiltering&&!this.isValueInList(i,this.value)&&this.dataSource instanceof fe)&&!this.enableVirtualization)this.addNewItem(i,l);else if((this.allowCustom||this.allowFiltering&&this.isValueInList(i,this.value))&&!this.enableVirtualization){var g=this.allowObjectBinding&&!p(this.value)?H(this.fields.value?this.fields.value:"",this.value):this.value,m=!p(this.value)&&l&&l.getAttribute("data-value")===g.toString();m&&this.addNewItem(i,l)}(!p(this.itemData)||p(this.itemData)&&this.enableVirtualization)&&(this.getSkeletonCount(),this.skeletonCount=this.totalItemCount!==0&&this.totalItemCount<this.itemCount*2&&(!(this.dataSource instanceof fe)||this.dataSource instanceof fe&&this.totalItemCount<=this.itemCount)?0:this.skeletonCount,this.UpdateSkeleton(),this.focusIndexItem()),this.enableVirtualization&&this.updateActionCompleteDataValues(t,i)}else if(this.enableVirtualization&&this.getModuleName()!=="autocomplete"&&!this.isFiltering()){var g=this.getItemData().value;this.activeIndex=this.getIndexByValue(g);var y=this.findListElement(this.list,"li","data-value",g);this.selectedLI=y}else this.enableVirtualization&&this.getModuleName()==="autocomplete"&&(this.activeIndex=this.skeletonCount);this.beforePopupOpen&&(this.renderPopup(n),this.enableVirtualization&&(this.list.querySelector(".e-virtual-list")||(this.UpdateSkeleton(),this.liCollections=this.list.querySelectorAll(".e-list-item"))),this.enableVirtualization&&a!==this.itemCount&&this.resetList(this.dataSource,this.fields))}},e.prototype.isValueInList=function(t,i){if(Array.isArray(t)){for(var n=0;n<t.length;n++)if(t[n]===i)return!0}else if(typeof t=="object"&&t!==null){for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&t[s]===i)return!0}return!1},e.prototype.checkFieldValue=function(t,i){var n=t;return i.forEach(function(s){n=n[s]}),n},e.prototype.updateActionCompleteDataValues=function(t,i){this.actionCompleteData={ulElement:t.cloneNode(!0),list:i,isUpdated:!0},this.actionData.list!==this.actionCompleteData.list&&this.actionCompleteData.ulElement&&this.actionCompleteData.list&&(this.actionData=this.actionCompleteData)},e.prototype.addNewItem=function(t,i){var n=this;if(!p(this.itemData)&&!p(i)){var s=this.getItemData().value,o=t.some(function(a){return(typeof a=="string"||typeof a=="number"||typeof a=="boolean")&&a===s||H(n.fields.value,a)===s});o||this.addItem(this.itemData)}},e.prototype.updateActionCompleteData=function(t,i,n){var s=this;this.getModuleName()!=="autocomplete"&&this.actionCompleteData.ulElement&&(this.itemTemplate&&this.element.tagName==="EJS-COMBOBOX"&&this.allowFiltering?setTimeout(function(){s.actionCompleteDataUpdate(t,i,n)},0):this.actionCompleteDataUpdate(t,i,n))},e.prototype.actionCompleteDataUpdate=function(t,i,n){n!==null?this.actionCompleteData.ulElement.insertBefore(t.cloneNode(!0),this.actionCompleteData.ulElement.childNodes[n]):this.actionCompleteData.ulElement.appendChild(t.cloneNode(!0)),this.isFiltering()&&this.actionCompleteData.list&&this.actionCompleteData.list.indexOf(i)<0&&this.actionCompleteData.list.push(i)},e.prototype.focusIndexItem=function(){var t=this.getItemData().value;this.activeIndex=this.enableVirtualization&&!p(t)||!this.enableVirtualization?this.getIndexByValue(t):this.activeIndex;var i=this.findListElement(this.list,"li","data-value",t);this.selectedLI=i,this.activeItem(i),this.enableVirtualization&&p(i)||this.removeFocus()},e.prototype.updateSelection=function(){var t=this.list.querySelector("."+Ve.selected);if(t)this.setProperties({index:this.getIndexByValue(t.getAttribute("data-value"))}),this.activeIndex=this.index;else{if(this.removeFocus(),this.allowFiltering&&this.actionCompleteData&&this.actionCompleteData.ulElement&&this.dataSource instanceof fe){var i=this.actionCompleteData.ulElement.querySelectorAll("."+_e.focus);i&&i.length&&ue(i,_e.focus)}this.list.querySelector("."+Ve.li).classList.add(_e.focus)}},e.prototype.updateSelectionList=function(){var t=this.list&&this.list.querySelector(".e-active");if(!t&&!p(this.value)&&this.getModuleName()!=="autocomplete"){var i=this.allowObjectBinding?H(this.fields.value?this.fields.value:"",this.value):this.value,n=this.findListElement(this.list,"li","data-value",i);n&&n.classList.add("e-active")}},e.prototype.removeFocus=function(){var t=this.list.querySelectorAll("."+_e.focus);t&&t.length&&ue(t,_e.focus)},e.prototype.renderPopup=function(t){var i=this;if(this.popupObj&&document.body.contains(this.popupObj.element)){this.refreshPopup();return}var n={cancel:!1};this.trigger("beforeOpen",n,function(s){i.iOSscrollPosition={x:document.documentElement.scrollLeft,y:document.documentElement.scrollTop};var o;if(s.cancel)i.beforePopupOpen=!1;else{var a=i.createElement("div",{id:i.element.id+"_popup",className:"e-ddl e-popup "+(i.cssClass!==null?i.cssClass:"")});a.setAttribute("aria-label",i.element.id),a.setAttribute("role","dialog");var l=i.setSearchBox(a);if(i.listContainerHeight=i.allowFiltering&&i.getModuleName()==="dropdownlist"&&ne.isDevice&&i.isDeviceFullScreen?mt(Math.round(window.outerHeight).toString()+"px"):mt(i.popupHeight),i.headerTemplate&&(i.setHeaderTemplate(a),i.isUpdateHeaderHeight=i.header.offsetHeight!==0),Ct([i.list],a),i.footerTemplate&&(i.setFooterTemplate(a),i.isUpdateFooterHeight=i.footer.offsetHeight!==0),document.body.appendChild(a),a.style.top="0px",o=a.clientHeight,i.enableVirtualization&&(i.itemTemplate||i.isAngular)){var h=a.querySelectorAll("li.e-list-item:not(.e-virtual-list)"),u=a.querySelectorAll("li.e-virtual-list"),c=h&&h.length>0?Math.ceil(h[0].getBoundingClientRect().height)+parseInt(window.getComputedStyle(h[0]).marginBottom,10):0,d=u&&u.length>0?Math.ceil(u[0].getBoundingClientRect().height)+parseInt(window.getComputedStyle(u[0]).marginBottom,10):0;c!==d&&u&&u.length>0&&u.forEach(function(O){O.parentNode.removeChild(O)}),i.listItemHeight=c}if(i.enableVirtualization&&!i.list.classList.contains(Ve.noData)){if(i.getSkeletonCount(),i.skeletonCount=i.totalItemCount<i.itemCount*2&&(!(i.dataSource instanceof fe)||i.dataSource instanceof fe&&i.totalItemCount<=i.itemCount)?0:i.skeletonCount,i.list.querySelector(".e-virtual-ddl-content"))i.list.getElementsByClassName("e-virtual-ddl-content")[0].style=i.getTransformValues();else{var f=i.createElement("div",{className:"e-virtual-ddl-content"});f.style.cssText=i.getTransformValues(),i.list.appendChild(f).appendChild(i.list.querySelector(".e-list-parent"))}if(i.UpdateSkeleton(),i.liCollections=i.list.querySelectorAll("."+Ve.li),i.virtualItemCount=i.itemCount,i.list.querySelector(".e-virtual-ddl"))i.list.getElementsByClassName("e-virtual-ddl")[0].style=i.GetVirtualTrackHeight();else{var g=i.createElement("div",{id:i.element.id+"_popup",className:"e-virtual-ddl"});g.style.cssText=i.GetVirtualTrackHeight(),a.querySelector(".e-dropdownbase").appendChild(g)}}if(a.style.visibility="hidden",i.popupHeight!=="auto"){if(i.searchBoxHeight=0,!p(l.container)&&i.getModuleName()!=="combobox"&&i.getModuleName()!=="autocomplete"&&(i.searchBoxHeight=l.container.parentElement.getBoundingClientRect().height,i.listContainerHeight=(parseInt(i.listContainerHeight,10)-i.searchBoxHeight).toString()+"px"),i.headerTemplate){i.header=i.header?i.header:a.querySelector(".e-ddl-header");var m=Math.round(i.header.getBoundingClientRect().height);i.listContainerHeight=(parseInt(i.listContainerHeight,10)-(m+i.searchBoxHeight)).toString()+"px"}if(i.footerTemplate){i.footer=i.footer?i.footer:a.querySelector(".e-ddl-footer");var m=Math.round(i.footer.getBoundingClientRect().height);i.listContainerHeight=(parseInt(i.listContainerHeight,10)-(m+i.searchBoxHeight)).toString()+"px"}i.list.style.maxHeight=(parseInt(i.listContainerHeight,10)-2).toString()+"px",a.style.maxHeight=mt(i.popupHeight)}else a.style.height="auto";var y=0,v=void 0;if(i.isPreventScrollAction=!0,!p(i.selectedLI)&&!p(i.activeIndex)&&i.activeIndex>=0||i.enableVirtualization?i.setScrollPosition():i.list.scrollTop=0,ne.isDevice&&i.isDeviceFullScreen&&!i.allowFiltering&&(i.getModuleName()==="dropdownlist"||i.isDropDownClick&&i.getModuleName()==="combobox")){y=i.getOffsetValue(a);var M=i.isEmptyList()?i.list:i.liCollections[0];p(i.inputElement)||(v=-(parseInt(getComputedStyle(M).textIndent,10)-parseInt(getComputedStyle(i.inputElement).paddingLeft,10)+parseInt(getComputedStyle(i.inputElement.parentElement).borderLeftWidth,10)))}i.createPopup(a,y,v),i.popupContentElement=i.popupObj.element.querySelector(".e-content"),i.getFocusElement(),i.checkCollision(a),ne.isDevice&&(i.popupObj.resolveCollision(),parseInt(i.popupWidth.toString(),10)>window.outerWidth&&!(i.getModuleName()==="dropdownlist"&&i.allowFiltering)&&i.popupObj.element.classList.add("e-wide-popup"),i.popupObj.element.classList.add(_e.device),(i.getModuleName()==="dropdownlist"||i.getModuleName()==="combobox"&&!i.allowFiltering&&i.isDropDownClick)&&(i.popupObj.collision={X:"fit",Y:"fit"}),i.isFilterLayout()&&i.isDeviceFullScreen&&(i.popupObj.element.classList.add(_e.mobileFilter),i.popupObj.position={X:0,Y:0},i.popupObj.dataBind(),Et(i.popupObj.element,{style:"left:0px;right:0px;top:0px;bottom:0px;"}),Z([document.body,i.popupObj.element],_e.popupFullScreen),i.setSearchBoxPosition(),i.backIconElement=l.container.querySelector(".e-back-icon"),i.clearIconElement=l.container.querySelector("."+_e.clearIcon),F.add(i.backIconElement,"click",i.clickOnBackIcon,i),F.add(i.clearIconElement,"click",i.clearText,i))),i.selectedLI&&i.fields.groupBy&&i.setScrollPosition(),a.style.visibility="visible",Z([a],"e-popup-close");for(var S=i.popupObj.getScrollableParent(i.inputWrapper.container),b=0,C=S;b<C.length;b++){var T=C[b];F.add(T,"scroll",i.scrollHandler,i)}p(i.list)||(i.unWireListEvents(),i.wireListEvents()),i.selectedElementID=i.selectedLI?i.selectedLI.id:null,i.enableVirtualization&&(i.notify("bindScrollEvent",{module:"VirtualScroll",component:i.getModuleName(),enable:i.enableVirtualization}),setTimeout(function(){(i.value||i.list.querySelector(".e-active"))&&(i.updateSelectionList(),i.viewPortInfo&&i.viewPortInfo.offsets.top?i.list.scrollTop=i.viewPortInfo.offsets.top:i.scrollBottom(!0,!0))},5)),Et(i.targetElement(),{"aria-expanded":"true","aria-owns":i.element.id+"_popup","aria-controls":i.element.id}),i.getModuleName()!=="dropdownlist"&&i.list.classList.contains("e-nodata")&&(Et(i.targetElement(),{"aria-activedescendant":"no-record"}),i.popupContentElement.setAttribute("role","status"),i.popupContentElement.setAttribute("id","no-record")),i.inputElement.setAttribute("aria-expanded","true"),i.inputElement.setAttribute("aria-controls",i.element.id+"_popup");var k=i.isFiltering()?i.filterInput.parentElement:i.inputWrapper.container;Z([k],[_e.inputFocus]);var N={name:"FadeIn",duration:100};i.beforePopupOpen=!0;var A=i.popupObj,E={popup:A,event:t,cancel:!1,animation:N};if(i.trigger("open",E,function(O){O.cancel?(i.beforePopupOpen=!1,i.destroyPopup()):(p(i.inputWrapper)||Z([i.inputWrapper.container],[_e.iconAnimation]),i.renderReactTemplates(),i.isReact&&i.isFiltering()&&i.dataSource instanceof fe&&i.list.querySelector("ul")&&!i.isSecondClick&&i.executeCloneElements(),p(i.popupObj)||(i.popupObj.show(new ro(O.animation),i.zIndex===1e3?i.element:null),i.isPopupRender=!0),i.isReact&&setTimeout(function(){if(i.popupHeight&&i.list&&i.popupHeight!=="auto"&&!(i.getModuleName()==="dropdownlist"&&i.allowFiltering)){var L=typeof i.popupHeight=="string"?parseInt(i.popupHeight,10):i.popupHeight;if(!i.isUpdateHeaderHeight&&i.headerTemplate&&i.header){var j=i.list.style.maxHeight===""?L:parseInt(i.list.style.maxHeight,10);i.list.style.maxHeight=(j-i.header.offsetHeight).toString()+"px",i.isUpdateHeaderHeight=!0}if(!i.isUpdateFooterHeight&&i.footerTemplate&&i.footer){var j=i.list.style.maxHeight===""?L:parseInt(i.list.style.maxHeight,10);i.list.style.maxHeight=(j-i.footer.offsetHeight).toString()+"px",i.isUpdateFooterHeight=!0}}},15),i.allowFiltering&&i.isDeviceFullScreen&&ne.isDevice&&ne.isIos&&document.documentElement.scrollIntoView())}),i.allowResize&&(i.getModuleName()!=="dropdownlist"||!(ne.isDevice&&i.isDeviceFullScreen&&i.allowFiltering))){var x=16;if(i.resizer=i.createElement("div",{id:i.element.id+"_resize-popup",className:_e.resizeIcon}),i.list&&i.list.parentElement){if(i.list.parentElement.classList.add("e-resize"),i.popupHeight.toString().toLowerCase()!=="auto"&&o>=parseInt(i.popupHeight.toString(),10)-2&&(i.list.parentElement.style.height="100%"),i.list.parentElement.style.paddingBottom=i.getModuleName()==="dropdownlist"&&i.allowFiltering&&i.searchBoxHeight?(i.searchBoxHeight+x).toString()+"px":x.toString()+"px",i.isReact&&i.footer){var D=i.list.style.maxHeight,z=i.list.parentElement.style.maxHeight,w=i.listContainerHeight;setTimeout(function(){i.footer=i.footer?i.footer:a.querySelector(".e-ddl-footer");var O=Math.round(i.footer.getBoundingClientRect().height);O>0&&(w=(parseInt(w,10)-O).toString()+"px",D=(parseInt(w,10)-2).toString()+"px",i.list.parentElement.style.paddingBottom=(parseInt(z,10)-parseInt(D,10)+x).toString()+"px")},1)}else(i.header||i.footer||i.itemTemplate)&&(i.list.parentElement.style.paddingBottom=(parseInt(i.list.parentElement.style.maxHeight,10)-parseInt(i.list.style.maxHeight,10)+x).toString()+"px");i.list.parentElement.appendChild(i.resizer),i.list.parentElement.style.width=i.resizeWidth+"px",i.list.parentElement.style.height=i.resizeHeight+"px",i.list.parentElement.style.maxHeight=i.resizeHeight+"px",i.list.style.maxHeight=i.resizeHeight+"px"}F.add(i.resizer,"mousedown",i.startResizing,i),F.add(i.resizer,"touchstart",i.startResizing,i)}}})},e.prototype.checkCollision=function(t){if(!ne.isDevice||ne.isDevice&&!(this.getModuleName()==="dropdownlist"||this.isDropDownClick)){var i=UI(t);i.length>0&&(t.style.marginTop=-parseInt(getComputedStyle(t).marginTop,10)+"px"),this.popupObj.resolveCollision()}},e.prototype.getOffsetValue=function(t){var i=getComputedStyle(t),n=parseInt(i.borderTopWidth,10),s=parseInt(i.borderBottomWidth,10);return this.setPopupPosition(n+s)},e.prototype.createPopup=function(t,i,n){var s=this;this.popupObj=new qI(t,{width:this.setWidth(),targetType:"relative",relateTo:this.inputWrapper.container,collision:this.enableRtl?{X:"fit",Y:"flip"}:{X:"flip",Y:"flip"},offsetY:i,enableRtl:this.enableRtl,offsetX:n,position:this.enableRtl?{X:"right",Y:"bottom"}:{X:"left",Y:"bottom"},zIndex:this.zIndex,close:function(){s.isDocumentClick||s.focusDropDown(),s.isReact&&s.clearTemplate(["headerTemplate","footerTemplate"]),s.isNotSearchList=!1,s.isDocumentClick=!1,s.destroyPopup(),s.isFiltering()&&s.actionCompleteData.list&&s.actionCompleteData.list.length>0?(s.isActive=!0,s.isReactTemplateUpdate&&s.isReact&&s.itemTemplate&&!s.enableVirtualization&&(s.actionCompleteData.ulElement=s.renderItems(s.actionCompleteData.list,s.fields),s.isReactTemplateUpdate=!1),s.enableVirtualization?s.onActionComplete(s.ulElement,s.listData,null,!0):s.onActionComplete(s.actionCompleteData.ulElement,s.actionCompleteData.list,null,!0)):s.enableVirtualization&&s.focusIndexItem()},open:function(){F.add(document,"mousedown",s.onDocumentClick,s),s.isPopupOpen=!0;var o=s.actionCompleteData&&s.actionCompleteData.ulElement&&s.actionCompleteData.ulElement.querySelector("li"),a=s.list.querySelector("ul li");!p(s.ulElement)&&!p(s.ulElement.getElementsByClassName("e-item-focus")[0])?Et(s.targetElement(),{"aria-activedescendant":s.ulElement.getElementsByClassName("e-item-focus")[0].id}):!p(s.ulElement)&&!p(s.ulElement.getElementsByClassName("e-active")[0])&&Et(s.targetElement(),{"aria-activedescendant":s.ulElement.getElementsByClassName("e-active")[0].id}),s.isFiltering()&&s.itemTemplate&&s.element.tagName===s.getNgDirective()&&o&&a&&o.textContent!==a.textContent&&s.element.tagName!=="EJS-COMBOBOX"&&s.cloneElements(),s.isFilterLayout()&&(ue([s.inputWrapper.container],[_e.inputFocus]),s.isFilterFocus=!0,s.filterInput.focus(),s.inputWrapper.clearButton&&Z([s.inputWrapper.clearButton],_e.clearIconHide)),s.activeStateChange()},targetExitViewport:function(){ne.isDevice||s.hidePopup()}})},e.prototype.isEmptyList=function(){return!p(this.liCollections)&&this.liCollections.length===0},e.prototype.getFocusElement=function(){},e.prototype.isFilterLayout=function(){return this.getModuleName()==="dropdownlist"&&this.allowFiltering},e.prototype.scrollHandler=function(){ne.isDevice&&(this.getModuleName()==="dropdownlist"&&!this.isFilterLayout()||this.getModuleName()==="combobox"&&!this.allowFiltering&&this.isDropDownClick)&&this.element&&!this.isElementInViewport(this.element)&&this.hidePopup()},e.prototype.isElementInViewport=function(t){var i=t.getBoundingClientRect();return i.top>=0&&i.left>=0&&i.bottom<=window.innerHeight&&i.right<=window.innerWidth},e.prototype.setSearchBoxPosition=function(){var t=this.filterInput.parentElement.getBoundingClientRect().height;this.popupObj.element.style.maxHeight="100%",this.popupObj.element.style.width="100%",this.list.style.maxHeight=window.innerHeight-t+"px",this.list.style.height=window.innerHeight-t+"px";var i=this.filterInput.parentElement.querySelector("."+_e.clearIcon);bt(this.filterInput),i.parentElement.insertBefore(this.filterInput,i)},e.prototype.setPopupPosition=function(t){var i,n=t,s=this.list.querySelector("."+_e.focus)||this.selectedLI,o=this.isEmptyList()?this.list:this.liCollections[0],a=this.isEmptyList()?this.list:this.liCollections[this.getItems().length-1],l=o.getBoundingClientRect().height;this.listItemHeight=l+parseInt(window.getComputedStyle(o).marginBottom,10);var h=this.list.offsetHeight/2,u=p(s)?o.offsetTop:s.offsetTop,c=a.offsetTop;if(c-h<u&&!p(this.liCollections)&&this.liCollections.length>0&&!p(s)){var d=this.list.offsetHeight/l,f=parseInt(getComputedStyle(this.list).paddingBottom,10);i=(d-(this.liCollections.length-this.activeIndex))*l-n+f,this.list.scrollTop=s.offsetTop}else u>h&&!this.enableVirtualization?(i=h-l/2,this.list.scrollTop=u-h+l/2):i=u;var g=this.inputWrapper.container.offsetHeight;return i=i+l+n-(l-g)/2,-i},e.prototype.setWidth=function(){var t=mt(this.popupWidth);if(t.indexOf("%")>-1){var i=this.inputWrapper.container.offsetWidth*parseFloat(t)/100;t=i.toString()+"px"}if(ne.isDevice&&t.indexOf("px")>-1&&!this.allowFiltering&&(this.getModuleName()==="dropdownlist"||this.isDropDownClick&&this.getModuleName()==="combobox")){var n=this.isEmptyList()?this.list:this.liCollections[0];t=parseInt(t,10)+(parseInt(getComputedStyle(n).textIndent,10)-parseInt(getComputedStyle(this.inputElement).paddingLeft,10)+parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth,10))*2+"px"}return t},e.prototype.scrollBottom=function(t,i,n){var s=this;if(i===void 0&&(i=!1),n===void 0&&(n=null),p(this.selectedLI)&&this.enableVirtualization&&(this.selectedLI=this.list.querySelector("."+Ve.li),!p(this.selectedLI)&&this.selectedLI.classList.contains("e-virtual-list")&&(this.selectedLI=this.liCollections[this.skeletonCount])),!p(this.selectedLI)){var o=this.selectedLI&&!isNaN(parseInt(window.getComputedStyle(this.selectedLI).marginBottom,10))?parseInt(window.getComputedStyle(this.selectedLI).marginBottom,10):0;this.isUpwardScrolling=!1;var a=this.list.querySelectorAll(".e-virtual-list").length,l=this.list.querySelector("li:last-of-type")?this.list.querySelector("li:last-of-type").getAttribute("data-value"):null,h=this.virtualListInfo&&this.virtualListInfo.startIndex?this.selectedLI.offsetTop+this.virtualListInfo.startIndex*(this.selectedLI.offsetHeight+o):this.selectedLI.offsetTop,u=this.list.offsetHeight,c=h-a*(this.selectedLI.offsetHeight+o)+(this.selectedLI.offsetHeight+o)-this.list.scrollTop,d=this.list.scrollTop+c-u,f=!1;d=t?d+parseInt(getComputedStyle(this.list).paddingTop,10)*2:d+parseInt(getComputedStyle(this.list).paddingTop,10);var g=h-a*(this.selectedLI.offsetHeight+o)+(this.selectedLI.offsetHeight+o)-this.list.scrollTop;if(g=this.fields.groupBy&&!p(this.fixedHeaderElement)?g-this.fixedHeaderElement.offsetHeight:g,this.activeIndex===0&&!this.enableVirtualization)this.list.scrollTop=0,f=this.isKeyBoardAction;else if(c>u||!(g>0&&this.list.offsetHeight>g)){var m=this.selectedLI?this.selectedLI.getAttribute("data-value"):null,y=n==="pageDown"?this.getPageCount()-2:1;!this.enableVirtualization||this.isKeyBoardAction||i?this.isKeyBoardAction&&this.enableVirtualization&&l&&m===l&&n!=="end"&&!this.isVirtualScrolling?(this.isPreventKeyAction=!0,this.enableVirtualization&&this.itemTemplate?this.list.scrollTop+=d:(this.enableVirtualization&&(y=n==="pageDown"?this.getPageCount()+1:y),this.list.scrollTop+=(this.selectedLI.offsetHeight+o)*y),this.isPreventKeyAction=this.IsScrollerAtEnd()?!1:this.isPreventKeyAction,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1):this.enableVirtualization&&n==="end"?(this.isPreventKeyAction=!1,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1,this.list.scrollTop=this.list.scrollHeight):(n==="pageDown"&&this.enableVirtualization&&!this.isVirtualScrolling&&(this.isPreventKeyAction=!1,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1),this.list.scrollTop=d):this.list.scrollTop=this.virtualListInfo&&this.virtualListInfo.startIndex?t&&this.virtualListInfo.startIndex?this.virtualListInfo.startIndex*this.listItemHeight+this.listItemHeight*2:this.virtualListInfo.startIndex*this.listItemHeight:0,f=this.isKeyBoardAction}this.isKeyBoardAction=f,this.enableVirtualization&&this.fields.groupBy&&this.fixedHeaderElement&&n==="down"&&setTimeout(function(){s.scrollStop(null,!0)},100)}},e.prototype.scrollTop=function(t){if(t===void 0&&(t=null),!p(this.selectedLI)){var i=this.selectedLI&&!isNaN(parseInt(window.getComputedStyle(this.selectedLI).marginBottom,10))?parseInt(window.getComputedStyle(this.selectedLI).marginBottom,10):0,n=this.list.querySelectorAll(".e-virtual-list").length,s=this.virtualListInfo&&this.virtualListInfo.startIndex?this.selectedLI.offsetTop+this.virtualListInfo.startIndex*(this.selectedLI.offsetHeight+i):this.selectedLI.offsetTop,o=s-n*(this.selectedLI.offsetHeight+i)-this.list.scrollTop,a=this.list.querySelector("li.e-list-item:not(.e-virtual-list)")?this.list.querySelector("li.e-list-item:not(.e-virtual-list)").getAttribute("data-value"):null;o=this.fields.groupBy&&!p(this.fixedHeaderElement)?o-this.fixedHeaderElement.offsetHeight:o;var l=s-n*(this.selectedLI.offsetHeight+i)+(this.selectedLI.offsetHeight+i)-this.list.scrollTop,h=this.enableVirtualization&&this.getModuleName()==="autocomplete"&&o<=0;if(this.activeIndex===0&&!this.enableVirtualization)this.list.scrollTop=0;else if(o<0||h){var u=this.selectedLI?this.selectedLI.getAttribute("data-value"):null,c=t==="pageUp"?this.getPageCount()-2:1;this.enableVirtualization&&(c=t==="pageUp"?this.getPageCount():c),this.enableVirtualization&&this.isKeyBoardAction&&a&&u===a&&t!=="home"&&!this.isVirtualScrolling?(this.isUpwardScrolling=!0,this.isPreventKeyAction=!0,this.list.scrollTop-=(this.selectedLI.offsetHeight+i)*c,this.isPreventKeyAction=this.list.scrollTop!==0?this.isPreventKeyAction:!1,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1):this.enableVirtualization&&t==="home"?(this.isPreventScrollAction=!1,this.isPreventKeyAction=!0,this.isKeyBoardAction=!1,this.list.scrollTo(0,0)):(t==="pageUp"&&this.enableVirtualization&&!this.isVirtualScrolling&&(this.isPreventKeyAction=!1,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1),this.list.scrollTop=this.list.scrollTop+o)}else l>0&&this.list.offsetHeight>l||(this.list.scrollTop=this.selectedLI.offsetTop-(this.fields.groupBy&&!p(this.fixedHeaderElement)?this.fixedHeaderElement.offsetHeight:0))}},e.prototype.IsScrollerAtEnd=function(){return this.list&&this.list.scrollTop+this.list.clientHeight>=this.list.scrollHeight},e.prototype.isEditTextBox=function(){return!1},e.prototype.isFiltering=function(){return this.allowFiltering},e.prototype.isPopupButton=function(){return!0},e.prototype.setScrollPosition=function(t){if(this.isPreventScrollAction=!0,p(t))this.scrollBottom(!0);else switch(t.action){case"pageDown":case"down":case"end":this.isKeyBoardAction=!0,this.scrollBottom(!1,!1,t.action);break;default:this.isKeyBoardAction=t.action==="up"||t.action==="pageUp"||t.action==="open",this.scrollTop(t.action);break}this.isKeyBoardAction=!1},e.prototype.clearText=function(){this.filterInput.value=this.typedString="",this.searchLists(null),this.enableVirtualization&&(this.list.scrollTop=0,this.totalItemCount=this.dataCount=this.dataSource&&this.dataSource.length?this.dataSource.length:0,this.list.getElementsByClassName("e-virtual-ddl")[0]&&(this.list.getElementsByClassName("e-virtual-ddl")[0].style=this.GetVirtualTrackHeight()),this.getSkeletonCount(),this.UpdateSkeleton(),this.liCollections=this.list.querySelectorAll(".e-list-item"),this.list.getElementsByClassName("e-virtual-ddl-content")[0]&&(this.list.getElementsByClassName("e-virtual-ddl-content")[0].style=this.getTransformValues()))},e.prototype.setEleWidth=function(t){p(t)||(typeof t=="number"?this.inputWrapper.container.style.width=mt(t):typeof t=="string"&&(this.inputWrapper.container.style.width=t.match(/px|%|em/)?t:mt(t)))},e.prototype.closePopup=function(t,i){var n=this,s=!p(this.filterInput)&&!p(this.filterInput.value)&&this.filterInput.value!=="";if(this.getModuleName()==="combobox"&&this.typedString,this.isTyped=!1,this.isVirtualTrackHeight=!1,!!(this.popupObj&&document.body.contains(this.popupObj.element)&&this.beforePopupOpen)){this.keyboardEvent=null,F.remove(document,"mousedown",this.onDocumentClick),this.isActive=!1,this.isDropDownClick=!1,this.preventAutoFill=!1;for(var o=this.popupObj.getScrollableParent(this.inputWrapper.container),a=0,l=o;a<l.length;a++){var h=l[a];F.remove(h,"scroll",this.scrollHandler)}if(ne.isDevice&&this.isFilterLayout()&&this.isDeviceFullScreen&&ue([document.body,this.popupObj.element],_e.popupFullScreen),this.isFilterLayout()){if(ne.isDevice||(this.searchKeyModule.destroy(),this.clearIconElement&&F.remove(this.clearIconElement,"click",this.clearText)),this.backIconElement&&(F.remove(this.backIconElement,"click",this.clickOnBackIcon),F.remove(this.clearIconElement,"click",this.clearText)),p(this.filterInput)||(F.remove(this.filterInput,"input",this.onInput),F.remove(this.filterInput,"keyup",this.onFilterUp),F.remove(this.filterInput,"keydown",this.onFilterDown),F.remove(this.filterInput,"blur",this.onBlurHandler),F.remove(this.filterInput,"paste",this.pasteHandler)),this.allowFiltering&&this.getModuleName()==="dropdownlist"&&(this.filterInput.removeAttribute("aria-activedescendant"),this.filterInput.removeAttribute("aria-disabled"),this.filterInput.removeAttribute("role"),this.filterInput.removeAttribute("autocomplete"),this.filterInput.removeAttribute("autocapitalize"),this.filterInput.removeAttribute("spellcheck")),this.filterInput.parentNode){this.filterInput.parentNode.removeChild(this.filterInput);for(var u=Array.prototype.slice.call(this.filterInput.attributes),c=0;c<u.length;c++)this.filterInput.removeAttribute(u[c].name)}this.filterInput=null}Et(this.targetElement(),{"aria-expanded":"false"}),this.inputElement.setAttribute("aria-expanded","false"),this.targetElement().removeAttribute("aria-owns"),this.targetElement().removeAttribute("aria-activedescendant"),this.inputWrapper.container.classList.remove(_e.iconAnimation),this.isFiltering()&&(this.actionCompleteData.isUpdated=!1),this.enableVirtualization&&(this.value==null||this.isTyped?(this.viewPortInfo.endIndex=this.viewPortInfo&&this.viewPortInfo.endIndex>0?this.viewPortInfo.endIndex:this.itemCount,(this.getModuleName()==="autocomplete"||this.getModuleName()==="dropdownlist"&&!p(this.typedString)&&this.typedString!==""||this.getModuleName()==="combobox"&&this.allowFiltering&&!p(this.typedString)&&this.typedString!=="")&&this.checkAndResetCache()):this.getModuleName()==="autocomplete"&&this.checkAndResetCache(),(this.getModuleName()==="dropdownlist"||this.getModuleName()==="combobox")&&this.skeletonCount!==0&&this.getSkeletonCount(!0)),this.beforePopupOpen=!1;var d={name:"FadeOut",duration:100,delay:t||0},f=this.popupObj,g={popup:f,cancel:!1,animation:d,event:i||null};this.trigger("close",g,function(y){if(n.getModuleName()==="dropdownlist"&&xt.destroy({element:n.filterInput,floatLabelType:n.floatLabelType,properties:{placeholder:n.filterBarPlaceholder},buttons:n.clearIconElement},n.clearIconElement),n.filterInputObj=null,!p(n.popupObj)&&!p(n.popupObj.element.querySelector(".e-fixed-head"))){var v=n.popupObj.element.querySelector(".e-fixed-head");v.parentNode.removeChild(v),n.fixedHeaderElement=null}y.cancel||(n.isPopupOpen&&n.allowFiltering&&n.isDeviceFullScreen&&ne.isDevice&&ne.isIos&&document.documentElement.scrollTo({top:n.iOSscrollPosition.y,left:n.iOSscrollPosition.x}),n.getModuleName()==="autocomplete"&&n.rippleFun(),n.isPopupOpen?(n.isPopupRender=!1,n.popupObj.hide(new ro(y.animation))):n.destroyPopup())}),ne.isDevice&&!g.cancel&&this.popupObj.element.classList.contains("e-wide-popup")&&this.popupObj.element.classList.remove("e-wide-popup");var m;this.dataSource instanceof fe?m=this.remoteDataCount:m=this.dataSource&&this.dataSource.length?this.dataSource.length:0,this.customFilterQuery=null,this.enableVirtualization&&this.isFiltering()&&s&&this.totalItemCount!==m&&(this.updateInitialData(),this.checkAndResetCache())}},e.prototype.updateInitialData=function(){var t=this.selectData;if(!p(t)){var i=this.renderItems(t,this.fields);if(this.list.scrollTop=0,this.virtualListInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:this.itemCount},this.getModuleName()==="combobox"&&(this.typedString=""),this.previousStartIndex=0,this.previousEndIndex=0,this.dataSource instanceof fe?this.remoteDataCount>=0?this.totalItemCount=this.dataCount=this.remoteDataCount:this.resetList(this.dataSource):this.totalItemCount=this.dataCount=this.dataSource&&this.dataSource.length?this.dataSource.length:0,this.list.getElementsByClassName("e-virtual-ddl")[0])this.list.getElementsByClassName("e-virtual-ddl")[0].style=this.GetVirtualTrackHeight();else if(!this.list.querySelector(".e-virtual-ddl")&&this.list.parentElement){var n=this.createElement("div",{id:this.element.id+"_popup",className:"e-virtual-ddl"});n.style.cssText=this.GetVirtualTrackHeight(),this.list.parentElement.querySelector(".e-dropdownbase").appendChild(n)}this.getModuleName()!=="autocomplete"&&this.totalItemCount!==0&&this.totalItemCount>this.itemCount*2&&this.getSkeletonCount(),this.UpdateSkeleton(),this.listData=t,this.updateActionCompleteDataValues(i,t),this.liCollections=this.list.querySelectorAll(".e-list-item"),this.list.getElementsByClassName("e-virtual-ddl-content")[0]&&(this.list.getElementsByClassName("e-virtual-ddl-content")[0].style=this.getTransformValues())}},e.prototype.destroyPopup=function(){this.isPopupOpen=!1,this.isFilterFocus=!1,this.inputElement.removeAttribute("aria-controls"),this.popupObj&&(this.resizer&&(F.remove(this.resizer,"mousedown",this.startResizing),F.remove(this.resizer,"touchstart",this.startResizing)),this.popupObj.destroy(),bt(this.popupObj.element))},e.prototype.clickOnBackIcon=function(){this.hidePopup(),this.focusIn()},e.prototype.render=function(){this.preselectedIndex=p(this.index)?null:this.index,this.element.tagName==="INPUT"?(this.inputElement=this.element,p(this.inputElement.getAttribute("role"))&&this.inputElement.setAttribute("role","combobox"),p(this.inputElement.getAttribute("type"))&&this.inputElement.setAttribute("type","text"),this.inputElement.setAttribute("aria-expanded","false")):(this.inputElement=this.createElement("input",{attrs:{role:"combobox",type:"text"}}),this.element.tagName!==this.getNgDirective()&&(this.element.style.display="none"),this.element.parentElement.insertBefore(this.inputElement,this.element),this.preventTabIndex(this.inputElement));var t=this.cssClass;!p(this.cssClass)&&this.cssClass!==""&&(t=this.cssClass.replace(/\s+/g," ").trim()),!p(xe(this.element,"fieldset"))&&xe(this.element,"fieldset").disabled&&(this.enabled=!1),this.inputWrapper=xt.createInput({element:this.inputElement,buttons:this.isPopupButton()?[_e.icon]:null,floatLabelType:this.floatLabelType,properties:{readonly:this.getModuleName()==="dropdownlist"?!0:this.readonly,placeholder:this.placeholder,cssClass:t,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton}},this.createElement),this.element.tagName===this.getNgDirective()?this.element.appendChild(this.inputWrapper.container):this.inputElement.parentElement.insertBefore(this.element,this.inputElement),this.hiddenElement=this.createElement("select",{attrs:{"aria-hidden":"true",tabindex:"-1",class:_e.hiddenElement}}),ts([this.hiddenElement],this.inputWrapper.container),this.hiddenElement.hasAttribute("aria-label")||this.hiddenElement.setAttribute("aria-label",this.getModuleName()),this.validationAttribute(this.element,this.hiddenElement),this.setReadOnly(),this.setFields(),this.inputWrapper.container.style.width=mt(this.width),this.inputWrapper.container.classList.add("e-ddl"),this.floatLabelType!=="Never"&&xt.calculateWidth(this.inputElement,this.inputWrapper.container),!p(this.inputWrapper.buttons[0])&&this.inputWrapper.container.getElementsByClassName("e-float-text-content")[0]&&this.floatLabelType!=="Never"&&this.inputWrapper.container.getElementsByClassName("e-float-text-content")[0].classList.add("e-icon"),this.updateFloatLabelOverflowWidth(),this.wireEvent(),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex");var i=this.element.getAttribute("id")?this.element.getAttribute("id"):Ic("ej2_dropdownlist");if(this.element.id=i,this.hiddenElement.id=i+"_hidden",this.targetElement().setAttribute("tabindex",this.tabIndex),(this.getModuleName()==="autocomplete"||this.getModuleName()==="combobox")&&!this.readonly?this.inputElement.hasAttribute("aria-label")||this.inputElement.setAttribute("aria-label",this.getModuleName()):this.getModuleName()==="dropdownlist"&&(this.targetElement().hasAttribute("aria-label")||Et(this.targetElement(),{"aria-label":this.getModuleName()}),this.inputElement.hasAttribute("aria-label")||this.inputElement.setAttribute("aria-label",this.getModuleName()),this.inputElement.setAttribute("aria-expanded","false")),Et(this.targetElement(),this.getAriaAttributes()),this.updateDataAttribute(this.htmlAttributes),this.setHTMLAttributes(),this.targetElement()===this.inputElement&&this.inputElement.removeAttribute("aria-labelledby"),this.value!==null||this.activeIndex!==null||this.text!==null)this.enableVirtualization&&(this.listItemHeight=this.getListHeight(),this.getSkeletonCount(),this.updateVirtualizationProperties(this.itemCount,this.allowFiltering),this.index!==null&&(this.activeIndex=this.index+this.skeletonCount)),this.initValue(),this.selectedValueInfo=this.viewPortInfo,this.enableVirtualization&&(this.activeIndex=this.activeIndex+this.skeletonCount);else if(this.element.tagName==="SELECT"&&this.element.options[0]){var n=this.element,s=n.selectedIndex;s>=0?(this.value=this.allowObjectBinding?this.getDataByValue(n.options[s].value):n.options[s].value,this.text=p(this.value)?null:n.options[s].textContent):this.index===null&&(this.index=-1),this.initValue()}this.setEnabled(),this.preventTabIndex(this.element),this.enabled||(this.targetElement().tabIndex=-1),this.initial=!1,this.element.style.opacity="",this.inputElement.onselect=function(a){a.stopImmediatePropagation()},this.inputElement.onchange=function(a){a.stopImmediatePropagation()},this.element.hasAttribute("autofocus")&&this.focusIn(),p(this.text)||this.inputElement.setAttribute("value",this.text),this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false");var o=this.inputWrapper.container.getElementsByClassName("e-float-text")[0];!p(this.element.id)&&this.element.id!==""&&!p(o)&&(o.id="label_"+this.element.id.replace(/ /g,"_"),Et(this.inputElement,{"aria-labelledby":o.id})),this.renderComplete(),this.listItemHeight=this.getListHeight(),this.getSkeletonCount(),this.enableVirtualization&&this.updateVirtualizationProperties(this.itemCount,this.allowFiltering),this.viewPortInfo.startIndex=this.virtualItemStartIndex=0,this.viewPortInfo.endIndex=this.virtualItemEndIndex=this.viewPortInfo.startIndex>0?this.viewPortInfo.endIndex:this.itemCount},e.prototype.getListHeight=function(){var t=this.createElement("div",{className:"e-dropdownbase"}),i=this.createElement("li",{className:"e-list-item"}),n=mt(this.popupHeight);t.style.height=parseInt(n,10).toString()+"px",t.appendChild(i),document.body.appendChild(t),this.virtualListHeight=t.getBoundingClientRect().height;var s=Math.ceil(i.getBoundingClientRect().height)+parseInt(window.getComputedStyle(i).marginBottom,10);return t.remove(),s},e.prototype.setFooterTemplate=function(t){var i;this.footer?this.isReact&&typeof this.footerTemplate=="function"?this.clearTemplate(["footerTemplate"]):this.footer.innerHTML="":(this.footer=this.createElement("div"),Z([this.footer],_e.footer));var n=this.dropdownCompiler(this.footerTemplate);typeof this.footerTemplate!="function"&&n?i=Xt(ii(this.footerTemplate,document).innerHTML.trim()):i=Xt(this.footerTemplate);var s=i({},this,"footerTemplate",this.footerTemplateId,this.isStringTemplate,null,this.footer);s&&s.length>0&&Ct(s,this.footer),Ct([this.footer],t)},e.prototype.setHeaderTemplate=function(t){var i;this.header?this.header.innerHTML="":(this.header=this.createElement("div"),Z([this.header],_e.header));var n=this.dropdownCompiler(this.headerTemplate);typeof this.headerTemplate!="function"&&n?i=Xt(ii(this.headerTemplate,document).innerHTML.trim()):i=Xt(this.headerTemplate);var s=i({},this,"headerTemplate",this.headerTemplateId,this.isStringTemplate,null,this.header);s&&s.length&&Ct(s,this.header);var o=t.querySelector("div.e-content");t.insertBefore(this.header,o)},e.prototype.setEnabled=function(){this.element.setAttribute("aria-disabled",this.enabled?"false":"true")},e.prototype.setOldText=function(t){this.text=t},e.prototype.setOldValue=function(t){this.value=t},e.prototype.refreshPopup=function(){!p(this.popupObj)&&document.body.contains(this.popupObj.element)&&(this.allowFiltering&&!(ne.isDevice&&this.isFilterLayout())||this.getModuleName()==="autocomplete")&&(ue([this.popupObj.element],"e-popup-close"),this.popupObj.refreshPosition(this.inputWrapper.container),this.popupObj.resolveCollision())},e.prototype.checkData=function(t){t.dataSource&&!p(Object.keys(t.dataSource))&&this.itemTemplate&&this.allowFiltering&&!(this.isListSearched&&t.dataSource instanceof fe)&&(this.list&&!this.isReact?this.list.innerHTML="":this.list=null,this.actionCompleteData={ulElement:null,list:null,isUpdated:!1}),this.isListSearched=!1;var i=Object.keys(t).indexOf("value")!==-1&&p(t.value),n=Object.keys(t).indexOf("text")!==-1&&p(t.text);this.getModuleName()!=="autocomplete"&&this.allowFiltering&&(i||n)&&(this.itemData=null),this.allowFiltering&&t.dataSource&&!p(Object.keys(t.dataSource))?(this.actionCompleteData={ulElement:null,list:null,isUpdated:!1},this.actionData=this.actionCompleteData):this.allowFiltering&&t.query&&!p(Object.keys(t.query))&&(this.actionCompleteData=this.getModuleName()==="combobox"?{ulElement:null,list:null,isUpdated:!1}:this.actionCompleteData,this.actionData=this.actionCompleteData)},e.prototype.updateDataSource=function(t,i){(this.inputElement.value!==""||!p(t)&&(p(t.dataSource)||!(t.dataSource instanceof fe)&&t.dataSource.length===0))&&this.clearAll(null,t),this.fields.groupBy&&t.fields&&!this.isGroupChecking&&this.list&&(F.remove(this.list,"scroll",this.setFloatingHeader),F.add(this.list,"scroll",this.setFloatingHeader,this)),(!(!p(t)&&(p(t.dataSource)||!(t.dataSource instanceof fe)&&t.dataSource.length===0))||t.dataSource instanceof fe||!p(t)&&Array.isArray(t.dataSource)&&!p(i)&&Array.isArray(i.dataSource)&&t.dataSource.length!==i.dataSource.length)&&(this.typedString="",this.resetList(this.dataSource)),!this.isCustomFilter&&!this.isFilterFocus&&document.activeElement!==this.filterInput&&this.checkCustomValue()},e.prototype.checkCustomValue=function(){var t=this.allowObjectBinding&&!p(this.value)?H(this.fields.value?this.fields.value:"",this.value):this.value;this.itemData=this.getDataByValue(t);var i=this.getItemData(),n=this.allowObjectBinding?this.itemData:i.value,s=p(n)?null:this.index;p(s)&&t===n||this.isAngular?this.setProperties({text:i.text?i.text.toString():i.text,value:n}):this.setProperties({text:i.text?i.text.toString():i.text,index:s,value:n})},e.prototype.updateInputFields=function(){this.getModuleName()==="dropdownlist"&&xt.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton)},e.prototype.onPropertyChanged=function(t,i){var n=this;!p(t.dataSource)&&!this.isTouched&&p(t.value)&&p(t.index)&&!p(this.preselectedIndex)&&!p(this.index)&&(t.index=this.index),(!p(t.value)||!p(t.index))&&(this.isTouched=!0),this.getModuleName()==="dropdownlist"&&(this.checkData(t),this.setUpdateInitial(["fields","query","dataSource"],t));for(var s=function(c){switch(c){case"query":case"dataSource":o.getSkeletonCount(),o.checkAndResetCache();break;case"htmlAttributes":o.setHTMLAttributes();break;case"width":o.setEleWidth(t.width),xt.calculateWidth(o.inputElement,o.inputWrapper.container);break;case"placeholder":xt.setPlaceholder(t.placeholder,o.inputElement);break;case"filterBarPlaceholder":o.filterInput&&xt.setPlaceholder(t.filterBarPlaceholder,o.filterInput);break;case"readonly":o.getModuleName()!=="dropdownlist"&&xt.setReadonly(t.readonly,o.inputElement),o.setReadOnly();break;case"cssClass":o.setCssClass(t.cssClass,i.cssClass),xt.calculateWidth(o.inputElement,o.inputWrapper.container);break;case"enableRtl":o.setEnableRtl();break;case"enabled":o.setEnable();break;case"text":if(o.fields.disabled&&(t.text=t.text&&!o.isDisabledItemByIndex(o.getIndexByValue(o.getValueByText(t.text)))?t.text:null),t.text===null){o.clearAll();break}if(o.enableVirtualization){o.updateValues(),o.updateInputFields(),o.notify("setCurrentViewDataAsync",{module:"VirtualScroll"});break}if(o.list||(o.dataSource instanceof fe&&(o.initialRemoteRender=!0),o.renderList()),!o.initialRemoteRender){var d=o.getElementByText(t.text);if(!o.checkValidLi(d))if(o.liCollections&&o.liCollections.length===100&&o.getModuleName()==="autocomplete"&&o.listData.length>100)o.setSelectionData(t.text,i.text,"text");else if(t.text&&o.dataSource instanceof fe){var f=o.getItems().length,g=p(o.fields.text)?o.fields.value:o.fields.text;o.typedString="",o.dataSource.executeQuery(o.getQuery(o.query).where(new Tt(g,"equal",t.text))).then(function(C){C.result.length>0?(n.addItem(C.result,f),n.updateValues()):n.setOldText(i.text)})}else o.getModuleName()==="autocomplete"?o.setInputValue(t,i):o.setOldText(i.text);o.updateInputFields()}break;case"value":if(o.fields.disabled&&(t.value=t.value!=null&&!o.isDisableItemValue(t.value)?t.value:null),t.value===null){o.clearAll();break}if(o.allowObjectBinding&&!p(t.value)&&!p(i.value)&&o.isObjectInArray(t.value,[i.value]))return{value:void 0};if(o.enableVirtualization){o.updateValues(),o.updateInputFields(),o.notify("setCurrentViewDataAsync",{module:"VirtualScroll"}),o.preventChange=o.isAngular&&o.preventChange?!o.preventChange:o.preventChange;break}if(o.notify("beforeValueChange",{newProp:t}),o.list||(o.dataSource instanceof fe&&(o.initialRemoteRender=!0),o.renderList()),!o.initialRemoteRender){var m=o.allowObjectBinding&&!p(t.value)?H(o.fields.value?o.fields.value:"",t.value):t.value,y=o.getElementByValue(m);if(!o.checkValidLi(y))if(o.liCollections&&o.liCollections.length===100&&o.getModuleName()==="autocomplete"&&o.listData.length>100)o.setSelectionData(t.value,i.value,"value");else if(t.value&&o.dataSource instanceof fe){var v=o.getItems().length,g=p(o.fields.value)?o.fields.text:o.fields.value;o.typedString="";var M=o.allowObjectBinding&&!p(t.value)?H(g,t.value):t.value;o.dataSource.executeQuery(o.getQuery(o.query).where(new Tt(g,"equal",M))).then(function(T){T.result.length>0?(n.addItem(T.result,v),n.updateValues()):n.setOldValue(i.value)})}else o.getModuleName()==="autocomplete"?o.setInputValue(t,i):o.setOldValue(i.value);o.updateInputFields(),o.preventChange=o.isAngular&&o.preventChange?!o.preventChange:o.preventChange}break;case"index":if(o.fields.disabled&&(t.index=t.index!=null&&!o.isDisabledItemByIndex(t.index)?t.index:null),t.index===null){o.clearAll();break}if(o.list||(o.dataSource instanceof fe&&(o.initialRemoteRender=!0),o.renderList()),!o.initialRemoteRender&&o.liCollections){var S=o.liCollections[t.index];o.checkValidLi(S)||(o.liCollections&&o.liCollections.length===100&&o.getModuleName()==="autocomplete"&&o.listData.length>100?o.setSelectionData(t.index,i.index,"index"):o.index=i.index),o.updateInputFields()}break;case"footerTemplate":o.popupObj&&o.setFooterTemplate(o.popupObj.element);break;case"headerTemplate":o.popupObj&&o.setHeaderTemplate(o.popupObj.element);break;case"valueTemplate":!p(o.itemData)&&o.valueTemplate!==null&&o.setValueTemplate();break;case"allowFiltering":o.allowFiltering&&(o.actionCompleteData={ulElement:o.ulElement,list:o.listData,isUpdated:!0},o.actionData=o.actionCompleteData,o.updateSelectElementData(o.allowFiltering));break;case"floatLabelType":xt.removeFloating(o.inputWrapper),xt.addFloating(o.inputElement,t.floatLabelType,o.placeholder,o.createElement),!p(o.inputWrapper.buttons[0])&&o.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0]&&o.floatLabelType!=="Never"&&o.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"showClearButton":o.inputWrapper.clearButton||(xt.setClearButton(t.showClearButton,o.inputElement,o.inputWrapper,null,o.createElement),o.bindClearEvent());break;default:{var b=o.getPropObject(c,t,i);r.prototype.onPropertyChanged.call(o,b.newProperty,b.oldProperty)}break}},o=this,a=0,l=Object.keys(t);a<l.length;a++){var h=l[a],u=s(h);if(typeof u=="object")return u.value}},e.prototype.checkValidLi=function(t){return this.isValidLI(t)?(this.setSelection(t,null),!0):!1},e.prototype.setSelectionData=function(t,i,n){var s=this,o;this.updateListValues=function(){if(n==="text")o=s.getElementByText(t),s.checkValidLi(o)||s.setOldText(i);else if(n==="value"){var a=s.fields.value?s.fields.value:"";s.allowObjectBinding&&!p(t)&&H(a,t),o=s.getElementByValue(t),s.checkValidLi(o)||s.setOldValue(i)}else n==="index"&&(o=s.liCollections[t],s.checkValidLi(o)||(s.index=i))}},e.prototype.updatePopupState=function(){this.beforePopupOpen&&(this.beforePopupOpen=!1,this.showPopup())},e.prototype.setReadOnly=function(){this.readonly?Z([this.inputWrapper.container],["e-readonly"]):ue([this.inputWrapper.container],["e-readonly"])},e.prototype.setInputValue=function(t,i){},e.prototype.setCssClass=function(t,i){p(i)||(i=i.replace(/\s+/g," ").trim()),p(t)||(t=t.replace(/\s+/g," ").trim()),xt.setCssClass(t,[this.inputWrapper.container],i),this.popupObj&&xt.setCssClass(t,[this.popupObj.element],i)},e.prototype.getRightIconsWidth=function(){for(var t=this.inputWrapper.container,i=0,n=".e-input-group-icon, .e-clear-icon",s=t.querySelectorAll(n),o=0;o<s.length;o++)i+=s[o].offsetWidth;return i},e.prototype.updateFloatLabelOverflowWidth=function(){var t=this.inputWrapper.container,i=t.querySelector(".e-float-text"),n=t.clientWidth-this.getRightIconsWidth();i&&n&&!(this.cssClass&&this.cssClass.split(" ").indexOf("e-outline")!==-1)&&(i.style.width=n+"px")},e.prototype.getModuleName=function(){return"dropdownlist"},e.prototype.showPopup=function(t){if(this.enabled){if(this.getModuleName()==="dropdownlist"&&this.beforePopupOpen&&!this.isPopupOpen&&(this.beforePopupOpen=!1),this.firstItem=this.dataSource&&this.dataSource.length>0?this.dataSource[0]:null,this.isReact&&this.getModuleName()==="combobox"&&this.itemTemplate&&this.isCustomFilter&&this.isAddNewItemTemplate&&(this.renderList(),this.isAddNewItemTemplate=!1),this.isFiltering()&&this.dataSource instanceof fe&&this.actionData.list!==this.actionCompleteData.list&&this.actionData.list&&this.actionData.ulElement&&(this.actionCompleteData=this.actionData,this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list,null,!0)),this.beforePopupOpen){this.refreshPopup();return}this.beforePopupOpen=!0,this.isFiltering()&&!this.isActive&&this.actionCompleteData.list&&this.actionCompleteData.list[0]?(this.isActive=!0,this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list,null,!0)):(p(this.list)||!Je(this.list)&&(this.list.classList.contains(Ve.noData)||this.list.querySelectorAll("."+Ve.li).length<=0))&&(this.isReact&&this.isFiltering()&&this.itemTemplate!=null&&(this.isSecondClick=!1),this.renderList(t)),this.enableVirtualization&&this.listData&&this.listData.length&&(!p(this.value)&&(this.getModuleName()==="dropdownlist"||this.getModuleName()==="combobox")&&this.removeHover(),this.beforePopupOpen||this.notify("setCurrentViewDataAsync",{module:"VirtualScroll"})),this.beforePopupOpen&&this.invokeRenderPopup(t),this.enableVirtualization&&!this.allowFiltering&&this.selectedValueInfo!=null&&this.selectedValueInfo.startIndex>0&&this.value!=null&&this.notify("dataProcessAsync",{module:"VirtualScroll",isOpen:!0}),!this.isSecondClick&&!this.isDropDownClick&&this.executeCloneElements()}},e.prototype.executeCloneElements=function(){var t=this,i=this.element.tagName===this.getNgDirective()&&this.itemTemplate?500:100;this.isReact&&this.isFiltering()&&this.itemTemplate!=null&&setTimeout(function(){t.cloneElements(),t.isSecondClick=!(t.isReact&&t.isFiltering()&&t.dataSource instanceof fe&&!t.list.querySelector("ul"))},i)},e.prototype.invokeRenderPopup=function(t){if(ne.isDevice&&this.isFilterLayout()){var i=this;window.onpopstate=function(){i.hidePopup()},history.pushState({},"")}!p(this.list)&&(!p(this.list.children[0])||this.list.classList.contains(Ve.noData))&&this.renderPopup(t)},e.prototype.renderHightSearch=function(){},e.prototype.hidePopup=function(t){if(this.isEscapeKey&&this.getModuleName()==="dropdownlist")if(p(this.inputElement)||xt.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton),this.isEscapeKey=!1,p(this.index))this.resetSelection();else{var i=this.allowObjectBinding?H(this.fields.value?this.fields.value:"",this.value):this.value,n=this.findListElement(this.ulElement,"li","data-value",i);this.selectedLI=this.liCollections[this.index]||n,this.selectedLI&&(this.updateSelectedItem(this.selectedLI,null,!0),this.valueTemplate&&this.itemData!==null&&this.setValueTemplate())}this.isVirtualTrackHeight=!1,this.customFilterQuery=null,this.closePopup(0,t);var s=this.getItemData(),o=!p(this.selectedLI);o&&this.enableVirtualization&&this.selectedLI.classList&&(o=this.selectedLI.classList.contains("e-active")),this.inputElement&&this.inputElement.value===""&&!this.isInteracted&&(this.isSelectCustom||o&&this.inputElement.value!==s.text)&&(this.isSelectCustom=!1,this.clearAll(t))},e.prototype.focusIn=function(t){if(this.enabled&&!this.targetElement().classList.contains(_e.disable)){var i=!1;this.preventFocus&&ne.isDevice&&(this.inputWrapper.container.tabIndex=1,this.inputWrapper.container.focus(),this.preventFocus=!1,i=!0),i||this.targetElement().focus(),Z([this.inputWrapper.container],[_e.inputFocus]),this.onFocus(t),this.floatLabelType!=="Never"&&xt.calculateWidth(this.inputElement,this.inputWrapper.container)}},e.prototype.focusOut=function(t){this.enabled&&(!this.enableVirtualization&&(this.getModuleName()==="combobox"||this.getModuleName()==="autocomplete")&&(this.isTyped=!0),this.hidePopup(t),this.targetElement()&&this.targetElement().blur(),ue([this.inputWrapper.container],[_e.inputFocus]),this.floatLabelType!=="Never"&&xt.calculateWidth(this.inputElement,this.inputWrapper.container))},e.prototype.disableItem=function(t){if(this.fields.disabled){this.list||this.renderList();var i=-1;if(this.liCollections&&this.liCollections.length>0&&this.listData&&this.fields.disabled){if(typeof t=="string")i=this.getIndexByValue(t);else if(typeof t=="object"){if(t instanceof HTMLLIElement){for(var n=0;n<this.liCollections.length;n++)if(this.liCollections[n]===t){i=this.getIndexByValue(t.getAttribute("data-value"));break}}else for(var s=JSON.parse(JSON.stringify(t))[this.fields.value],n=0;n<this.listData.length;n++)if(JSON.parse(JSON.stringify(this.listData[n]))[this.fields.value]===s){i=this.getIndexByValue(s);break}}else i=t;var o=i<this.liCollections.length&&i>-1;if(o&&!JSON.parse(JSON.stringify(this.listData[i]))[this.fields.disabled]){var a=this.liCollections[i];if(a){this.disableListItem(a);var l=JSON.parse(JSON.stringify(this.listData[i]));l[this.fields.disabled]=!0,this.listData[i]=l,this.dataSource=this.listData,a.classList.contains(_e.focus)&&this.removeFocus(),a.classList.contains(_e.selected)&&this.clear()}}}}},e.prototype.destroy=function(){if(this.isActive=!1,this.showClearButton&&(this.clearButton=document.getElementsByClassName("e-clear-icon")[0]),Wte(this.element.id),this.isReact&&this.clearTemplate(),this.hidePopup(),this.popupObj&&(this.isPopupRender=!1,this.popupObj.hide()),this.unWireEvent(),this.list&&this.unWireListEvents(),!(this.element&&!this.element.classList.contains("e-"+this.getModuleName()))){if(this.inputElement){for(var t=["readonly","aria-disabled","placeholder","aria-labelledby","aria-expanded","autocomplete","aria-readonly","autocapitalize","spellcheck","aria-autocomplete","aria-live","aria-describedby","aria-label"],i=0;i<t.length;i++)this.inputElement.removeAttribute(t[i]);this.inputElement.setAttribute("tabindex",this.tabIndex),this.inputElement.classList.remove("e-input"),xt.setValue("",this.inputElement,this.floatLabelType,this.showClearButton)}if(this.element.removeAttribute("tabindex"),this.element.style.display="block",this.inputWrapper.container&&this.inputWrapper.container.parentElement&&(this.inputWrapper.container.parentElement.tagName===this.getNgDirective()?bt(this.inputWrapper.container):(this.inputWrapper.container.parentElement.insertBefore(this.element,this.inputWrapper.container),bt(this.inputWrapper.container))),this.hiddenElement){this.hiddenElement.onchange&&(this.hiddenElement.onchange=null),this.hiddenElement.onchange=null,this.hiddenElement.onclick=null,this.hiddenElement.oninput=null;for(var n=Array.prototype.slice.call(this.hiddenElement.attributes),s=0;s<n.length;s++)this.hiddenElement.removeAttribute(n[s].name);for(var o=this.hiddenElement.children,i=0;i<o.length;i++){var a=o[i];a.onclick=null,a.onchange=null,a.textContent="";for(var l=Array.prototype.slice.call(a.attributes),s=0;s<l.length;s++)a.removeAttribute(l[s].name)}var h=this.hiddenElement.querySelector("option");for(h&&(h.removeAttribute("value"),h.removeAttribute("selected"),h.text="",h.innerHTML="",h=null);this.hiddenElement.firstChild;)this.hiddenElement.removeChild(this.hiddenElement.firstChild);if(this.hiddenElement.attributes)for(var u=Array.prototype.slice.call(this.hiddenElement.attributes),s=0;s<u.length;s++)this.hiddenElement.removeAttribute(u[s].name);this.hiddenElement.parentNode&&this.hiddenElement.parentNode.removeChild(this.hiddenElement),this.hiddenElement.innerHTML=""}this.filterInput=null,this.keyboardModule=null,this.list&&bt(this.list),this.ulElement&&bt(this.ulElement),this.popupContentElement&&bt(this.popupContentElement),this.popupObj&&this.popupObj.element&&(this.popupObj.element&&this.popupObj.element.parentNode&&this.popupObj.element.parentNode.removeChild(this.popupObj.element),bt(this.popupObj.element),this.popupObj.element=null),this.ulElement=null,this.list=null,this.clearIconElement=null,this.popupObj=null,this.popupContentElement=null,this.rippleFun=null,this.selectedLI=null,this.liCollections=null,this.item=null,this.footer=null,this.header=null,this.previousSelectedLI=null,this.valueTempElement=null,this.actionData.ulElement&&bt(this.actionData.ulElement),this.actionData.ulElement=null,this.actionCompleteData.ulElement&&bt(this.actionCompleteData.ulElement),this.actionCompleteData.ulElement=null,this.inputElement&&!p(this.inputElement.onchange)&&(this.inputElement.onchange=null),this.inputElement&&!p(this.inputElement.onselect)&&(this.inputElement.onselect=null),xt.destroy({element:this.inputElement,floatLabelType:this.floatLabelType,properties:this.properties,buttons:this.inputWrapper.container.querySelectorAll(".e-input-group-icon")[0]},this.clearButton),this.clearButton=null,this.inputElement=null,this.inputWrapper=null,r.prototype.destroy.call(this)}},e.prototype.getItems=function(){return this.list||(this.dataSource instanceof fe&&(this.initialRemoteRender=!0),this.renderList()),this.ulElement?r.prototype.getItems.call(this):[]},e.prototype.getDataByValue=function(t){return r.prototype.getDataByValue.call(this,t)},e.prototype.clear=function(){this.value=null},Ht([I(null)],e.prototype,"cssClass",void 0),Ht([I("100%")],e.prototype,"width",void 0),Ht([I(!0)],e.prototype,"enabled",void 0),Ht([I(!1)],e.prototype,"enablePersistence",void 0),Ht([I("300px")],e.prototype,"popupHeight",void 0),Ht([I("100%")],e.prototype,"popupWidth",void 0),Ht([I(null)],e.prototype,"placeholder",void 0),Ht([I(null)],e.prototype,"filterBarPlaceholder",void 0),Ht([I({})],e.prototype,"htmlAttributes",void 0),Ht([I(null)],e.prototype,"query",void 0),Ht([I(null)],e.prototype,"valueTemplate",void 0),Ht([I(null)],e.prototype,"headerTemplate",void 0),Ht([I(null)],e.prototype,"footerTemplate",void 0),Ht([I(!1)],e.prototype,"allowFiltering",void 0),Ht([I(300)],e.prototype,"debounceDelay",void 0),Ht([I(!0)],e.prototype,"isDeviceFullScreen",void 0),Ht([I(!1)],e.prototype,"readonly",void 0),Ht([I(!1)],e.prototype,"enableVirtualization",void 0),Ht([I(!1)],e.prototype,"allowResize",void 0),Ht([I(null)],e.prototype,"text",void 0),Ht([I(null)],e.prototype,"value",void 0),Ht([I(!1)],e.prototype,"allowObjectBinding",void 0),Ht([I(null)],e.prototype,"index",void 0),Ht([I("Never")],e.prototype,"floatLabelType",void 0),Ht([I(!1)],e.prototype,"showClearButton",void 0),Ht([Q()],e.prototype,"filtering",void 0),Ht([Q()],e.prototype,"change",void 0),Ht([Q()],e.prototype,"beforeOpen",void 0),Ht([Q()],e.prototype,"open",void 0),Ht([Q()],e.prototype,"close",void 0),Ht([Q()],e.prototype,"blur",void 0),Ht([Q()],e.prototype,"focus",void 0),Ht([Q()],e.prototype,"resizeStop",void 0),Ht([Q()],e.prototype,"resizing",void 0),Ht([Q()],e.prototype,"resizeStart",void 0),e=Ht([tn],e),e}(sie),hie=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Di=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},ON="e-atc-spinner-icon";_e.root="e-combobox";var uie={container:null,buttons:[]},cie=function(r){hie(e,r);function e(t,i){return r.call(this,t,i)||this}return e.prototype.preRender=function(){r.prototype.preRender.call(this)},e.prototype.getLocaleName=function(){return"combo-box"},e.prototype.wireEvent=function(){this.getModuleName()==="combobox"&&(F.add(this.inputWrapper.buttons[0],"mousedown",this.preventBlur,this),F.add(this.inputWrapper.container,"blur",this.onBlurHandler,this)),p(this.inputWrapper.buttons[0])||F.add(this.inputWrapper.buttons[0],"mousedown",this.dropDownClick,this),F.add(this.inputElement,"focus",this.targetFocus,this),this.readonly||(F.add(this.inputElement,"input",this.onInput,this),F.add(this.inputElement,"keyup",this.onFilterUp,this),F.add(this.inputElement,"keydown",this.onFilterDown,this),F.add(this.inputElement,"paste",this.pasteHandler,this),F.add(window,"resize",this.windowResize,this)),this.bindCommonEvent()},e.prototype.preventBlur=function(t){(!this.allowFiltering&&document.activeElement!==this.inputElement&&!document.activeElement.classList.contains(_e.input)&&ne.isDevice||!ne.isDevice)&&t.preventDefault()},e.prototype.onBlurHandler=function(t){var i=this.inputElement&&this.inputElement.value===""?null:this.inputElement&&this.inputElement.value,n=p(this.text)?this.text:this.text.replace(/\r\n|\n|\r/g,"");!p(this.listData)&&!p(i)&&i!==n&&this.customValue(t),r.prototype.onBlurHandler.call(this,t)},e.prototype.targetElement=function(){return this.inputElement},e.prototype.setOldText=function(t){xt.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton),this.customValue(),this.removeSelection()},e.prototype.setOldValue=function(t){this.allowCustom?(this.selectedLI=this.getElementByValue(this.value),this.valueMuteChange(this.value)):this.valueMuteChange(null),this.removeSelection(),this.setHiddenValue()},e.prototype.valueMuteChange=function(t){t=this.allowObjectBinding&&!p(t)?H(this.fields.value?this.fields.value:"",t):t;var i=p(t)?null:t.toString();xt.setValue(i,this.inputElement,this.floatLabelType,this.showClearButton);var n={};if(this.allowObjectBinding&&(t=this.getDataByValue(t),p(t))){var s=this.fields,o=!1,a=!1;if(this.allowObjectBinding){var l=Object.keys(this.value);l.forEach(function(c){if(c===s.value){a=!0;return}}),l.forEach(function(c){if(c===s.text){o=!0;return}})}n={text:a?o?H(s.text,this.value):H(s.value,this.value):null,value:a?this.value:null,index:null}}this.allowObjectBinding?this.setProperties(n,!0):this.setProperties({value:t,text:t&&t.toString(),index:null},!0),this.activeIndex=this.index;var h=this.fields,u={};u[h.text]=p(t)?null:t.toString(),u[h.value]=p(t)?null:t.toString(),this.itemData=u,this.item=null,(!this.allowObjectBinding&&this.previousValue!==this.value||this.allowObjectBinding&&this.previousValue&&this.value&&!this.isObjectInArray(this.previousValue,[this.value]))&&this.detachChangeEvent(null)},e.prototype.updateValues=function(){var t=this;if(this.fields.disabled&&(this.value!=null&&(this.value=this.isDisableItemValue(this.value)?null:this.value),this.text!=null&&(this.text=this.isDisabledItemByIndex(this.getIndexByValue(this.getValueByText(this.text)))?null:this.text),this.index!=null&&(this.index=this.isDisabledItemByIndex(this.index)?null:this.index,this.activeIndex=this.index)),p(this.value))if(this.text&&p(this.value)){var n=this.getElementByText(this.text);n?this.setSelection(n,null):(xt.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton),this.customValue())}else!p(this.activeIndex)&&!p(this.liCollections[this.activeIndex])&&this.setSelection(this.liCollections[this.activeIndex],null);else{var i=this.allowObjectBinding&&!p(this.value)?H(this.fields.value?this.fields.value:"",this.value):this.value,n=this.getElementByValue(i),s=!p(n);if(this.enableVirtualization&&this.value){var o=this.fields.value?this.fields.value:"",a=this.allowObjectBinding&&!p(this.value)?H(this.fields.value?this.fields.value:"",this.value):this.value;if(this.dataSource instanceof fe)this.dataSource.executeQuery(new He().where(new Tt(o,"equal",a))).then(function(c){if(c&&c.result&&c.result.length>0){t.itemData=c.result[0];var d=t.getItemData(),f=t.allowObjectBinding?t.itemData:d.value,g=t.allowObjectBinding&&!p(t.value)?H(t.fields.value?t.fields.value:"",t.value):t.value;(g===d.value&&t.text!==d.text.toString()||g!==d.value&&t.text===d.text.toString())&&(t.setProperties({text:d.text?d.text.toString():d.text,value:f},!0),t.setHiddenValue(),xt.setValue(t.text,t.inputElement,t.floatLabelType,t.showClearButton))}else t.allowCustom?(t.valueMuteChange(t.value),t.setHiddenValue(),xt.setValue(t.text,t.inputElement,t.floatLabelType,t.showClearButton)):t.valueMuteChange(null)});else{var l=new fe(this.dataSource).executeLocal(new He().where(new Tt(o,"equal",a)));if(l&&l.length>0){this.itemData=l[0],s=!0;var h=this.getItemData(),u=this.allowObjectBinding?this.getDataByValue(h.value):h.value;(this.value===h.value&&this.text!==h.text||this.value!==h.value&&this.text===h.text)&&(this.setProperties({text:h.text?h.text.toString():h.text,value:u}),p(n)&&(this.previousValue=this.value))}}}n?this.setSelection(n,null):!this.enableVirtualization&&this.allowCustom||this.allowCustom&&this.enableVirtualization&&!s&&!(this.dataSource instanceof fe)?this.valueMuteChange(this.value):(!this.enableVirtualization||this.enableVirtualization&&!(this.dataSource instanceof fe)&&!s)&&this.valueMuteChange(null)}this.setHiddenValue(),xt.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton)},e.prototype.updateIconState=function(){this.showClearButton&&(this.inputElement&&this.inputElement.value!==""&&!this.readonly?ue([this.inputWrapper.clearButton],_e.clearIconHide):Z([this.inputWrapper.clearButton],_e.clearIconHide))},e.prototype.getAriaAttributes=function(){var t={role:"combobox","aria-autocomplete":"both","aria-labelledby":this.hiddenElement.id,"aria-expanded":"false","aria-readonly":this.readonly?this.readonly.toString():"false",autocomplete:"off",autocapitalize:"off",spellcheck:"false"};return t},e.prototype.searchLists=function(t){this.isTyped=!0,this.isFiltering()?(r.prototype.searchLists.call(this,t),this.ulElement&&this.filterInput.value.trim()===""&&this.setHoverList(this.ulElement.querySelector("."+_e.li))):(this.ulElement&&this.inputElement.value===""&&this.preventAutoFill&&this.setHoverList(this.ulElement.querySelector("."+_e.li)),this.incrementalSearch(t))},e.prototype.getNgDirective=function(){return"EJS-COMBOBOX"},e.prototype.setSearchBox=function(){this.filterInput=this.inputElement;var t=this.isFiltering()||this.isReact&&this.getModuleName()==="combobox"?this.inputWrapper:uie;return t},e.prototype.onActionComplete=function(t,i,n,s){var o=this;r.prototype.onActionComplete.call(this,t,i,n),this.isSelectCustom&&this.removeSelection(),!this.preventAutoFill&&this.getModuleName()==="combobox"&&this.isTyped&&!this.enableVirtualization&&setTimeout(function(){o.inlineSearch()})},e.prototype.getFocusElement=function(){var t=this.isSelectCustom?{text:""}:this.getItemData(),i=p(this.list)?this.list:this.list.querySelector("."+_e.selected),n=t.text&&t.text.toString()===this.inputElement.value&&!p(i);if(n)return i;if((ne.isDevice&&!this.isDropDownClick||!ne.isDevice)&&!p(this.liCollections)&&this.liCollections.length>0){var s=this.inputElement.value,o=this.sortedData,a=this.typeOfData(o).typeof,l=xu(s,this.liCollections,this.filterType,!0,o,this.fields,a,this.ignoreAccent);if(this.enableVirtualization&&s!==""&&this.getModuleName()!=="autocomplete"&&this.isTyped&&!this.allowFiltering){var h=!1,u=this.viewPortInfo.endIndex>=this.incrementalEndIndex&&this.incrementalEndIndex<=this.totalItemCount,c=this.incrementalEndIndex===0;for((u||c)&&(h=!0,this.incrementalStartIndex=this.incrementalEndIndex,c?this.incrementalEndIndex=Math.min(100,this.totalItemCount):this.incrementalEndIndex=Math.min(this.incrementalEndIndex+100,this.totalItemCount),this.updateIncrementalInfo(this.incrementalStartIndex,this.incrementalEndIndex),h=!0),(this.viewPortInfo.startIndex!==0||h)&&this.updateIncrementalView(0,this.itemCount),l=xu(s,this.incrementalLiCollections,this.filterType,!0,o,this.fields,a);p(l.item)&&this.incrementalEndIndex<this.totalItemCount;){if(this.incrementalStartIndex=this.incrementalEndIndex,this.incrementalEndIndex=this.incrementalEndIndex+100>this.totalItemCount?this.totalItemCount:this.incrementalEndIndex+100,this.updateIncrementalInfo(this.incrementalStartIndex,this.incrementalEndIndex),h=!0,(this.viewPortInfo.startIndex!==0||h)&&this.updateIncrementalView(0,this.itemCount),l=xu(s,this.incrementalLiCollections,this.filterType,!0,o,this.fields,a),!p(l)){l.index=l.index+this.incrementalStartIndex;break}if(p(l)&&this.incrementalEndIndex>=this.totalItemCount){this.incrementalStartIndex=0,this.incrementalEndIndex=100>this.totalItemCount?this.totalItemCount:100;break}}var d=l.index-(this.itemCount/2-2)>0?l.index-(this.itemCount/2-2):0,f=this.viewPortInfo.startIndex+this.itemCount>this.totalItemCount?this.totalItemCount:this.viewPortInfo.startIndex+this.itemCount;if(d!==this.viewPortInfo.startIndex&&this.updateIncrementalView(d,f),p(l.item))this.updateIncrementalView(0,this.itemCount),this.list.getElementsByClassName("e-virtual-ddl-content")[0].style=this.getTransformValues(),this.list.scrollTop=0;else{var g=this.viewPortInfo.startIndex+(this.itemCount/2-2)<this.totalItemCount?this.viewPortInfo.startIndex+(this.itemCount/2-2):this.totalItemCount,m=this.viewPortInfo.startIndex+this.itemCount>this.totalItemCount?this.totalItemCount:this.viewPortInfo.startIndex+this.itemCount;this.updateIncrementalView(g,m),l.item=this.getElementByValue(l.item.getAttribute("data-value"))}l&&l.item&&(l.item=this.getElementByValue(l.item.getAttribute("data-value")))}var y=l.item,v=this.getItemData();if(!p(y)&&!this.enableVirtualization||this.enableVirtualization&&this.isTyped&&p(v)&&p(v.value)&&v.value.toString()===y.getAttribute("data-value").toString()){var M=this.getIndexByValue(y.getAttribute("data-value"))-1,S=parseInt(getComputedStyle(this.liCollections[0],null).getPropertyValue("height"),10);if(!isNaN(S)&&this.getModuleName()!=="autocomplete"){this.removeFocus();var b=this.fields.groupBy?this.liCollections[0].offsetHeight:0;if(!this.enableVirtualization)this.list.scrollTop=M*S+b;else{var C=this.list.getElementsByClassName("e-virtual-ddl-content")[0];if(C.style=this.getTransformValues(),this.enableVirtualization&&!this.fields.groupBy){var T=y.offsetTop,k=this.virtualListInfo&&this.virtualListInfo.startIndex?this.virtualListInfo.startIndex:0,N=y.offsetHeight,A=T+k*N,E=this.list.querySelectorAll(".e-virtual-list").length,x=E*N;this.list.scrollTop=A-x}}Z([y],_e.focus)}}else this.isSelectCustom&&this.inputElement.value.trim()!==""&&(this.removeFocus(),this.enableVirtualization||(this.list.scrollTop=0));return y}else return null},e.prototype.setValue=function(t){return(t&&t.type==="keydown"&&t.action==="enter"||t&&t.type==="click")&&this.removeFillSelection(),this.autofill&&this.getModuleName()==="combobox"&&t&&t.type==="keydown"&&t.action!=="enter"?(this.preventAutoFill=!1,this.inlineSearch(t),!1):r.prototype.setValue.call(this,t)},e.prototype.checkCustomValue=function(){var t=this.allowObjectBinding&&!p(this.value)?H(this.fields.value?this.fields.value:"",this.value):this.value;this.itemData=this.getDataByValue(t);var i=this.getItemData(),n=this.allowObjectBinding?this.itemData:i.value;this.allowCustom&&p(i.value)&&p(i.text)||this.setProperties({value:n},!this.allowCustom)},e.prototype.showSpinner=function(){p(this.spinnerElement)&&(this.spinnerElement=this.getModuleName()==="autocomplete"?this.inputWrapper.buttons[0]||this.inputWrapper.clearButton||xt.appendSpan("e-input-group-icon "+ON,this.inputWrapper.container,this.createElement):this.inputWrapper.buttons[0]||this.inputWrapper.clearButton,Z([this.spinnerElement],_e.disableIcon),Jh({target:this.spinnerElement,width:ne.isDevice?"16px":"14px"},this.createElement),oo(this.spinnerElement))},e.prototype.hideSpinner=function(){p(this.spinnerElement)||(wl(this.spinnerElement),ue([this.spinnerElement],_e.disableIcon),this.spinnerElement.classList.contains(ON)?bt(this.spinnerElement):this.spinnerElement.innerHTML="",this.spinnerElement=null)},e.prototype.setAutoFill=function(t,i){if(i||this.setHoverList(t),this.autofill&&!this.preventAutoFill){var n=this.getTextByValue(t.getAttribute("data-value")).toString(),s=this.getFormattedValue(t.getAttribute("data-value"));this.getModuleName()==="combobox"&&(!this.isSelected&&!this.allowObjectBinding&&this.previousValue!==s||this.allowObjectBinding&&this.previousValue&&s&&!this.isObjectInArray(this.previousValue,[this.getDataByValue(s)])?(this.updateSelectedItem(t,null),this.isSelected=!0,this.previousValue=this.allowObjectBinding?this.getDataByValue(this.getFormattedValue(t.getAttribute("data-value"))):this.getFormattedValue(t.getAttribute("data-value"))):this.updateSelectedItem(t,null,!0)),this.isAndroidAutoFill(n)||this.setAutoFillSelection(n,i)}},e.prototype.isAndroidAutoFill=function(t){if(ne.isAndroid){var i=this.getSelectionPoints(),n=this.prevSelectPoints.end,s=i.end,o=this.prevSelectPoints.start,a=i.start;return n!==0&&(n===t.length&&o===t.length||o>a&&n>s||n===s&&o===a)}else return!1},e.prototype.clearAll=function(t,i){(p(i)||!p(i)&&p(i.dataSource))&&r.prototype.clearAll.call(this,t),this.isFiltering()&&!p(t)&&t.target===this.inputWrapper.clearButton&&(this.typedString=this.filterInput.value,this.searchLists(t))},e.prototype.isSelectFocusItem=function(t){return!p(t)},e.prototype.inlineSearch=function(t){var i=t&&(t.action==="down"||t.action==="up"||t.action==="home"||t.action==="end"||t.action==="pageUp"||t.action==="pageDown"),n=i?this.liCollections[this.activeIndex]:this.getFocusElement();if(p(n))if(!p(this.inputElement)&&this.inputElement.value===""){if(this.activeIndex=null,!p(this.list)){this.enableVirtualization||(this.list.scrollTop=0);var o=this.list.querySelector("."+_e.li);this.setHoverList(o)}}else this.activeIndex=null,this.removeSelection(),this.liCollections&&this.liCollections.length>0&&!this.isCustomFilter&&this.removeFocus();else{if(!i){var s=this.getFormattedValue(n.getAttribute("data-value"));this.activeIndex=this.getIndexByValue(s),this.activeIndex=p(this.activeIndex)?null:this.activeIndex}this.preventAutoFill=this.inputElement.value===""?!1:this.preventAutoFill,this.setAutoFill(n,i)}},e.prototype.incrementalSearch=function(t){this.showPopup(t),p(this.listData)||(this.inlineSearch(t),t.preventDefault())},e.prototype.setAutoFillSelection=function(t,i){i===void 0&&(i=!1);var n=this.getSelectionPoints(),s=this.inputElement.value.substr(0,n.start);if(s&&s.toLowerCase()===t.substr(0,n.start).toLowerCase()){var o=s+t.substr(s.length,t.length);xt.setValue(o,this.inputElement,this.floatLabelType,this.showClearButton),this.inputElement.setSelectionRange(n.start,this.inputElement.value.length)}else i&&(xt.setValue(t,this.inputElement,this.floatLabelType,this.showClearButton),this.inputElement.setSelectionRange(0,this.inputElement.value.length))},e.prototype.getValueByText=function(t){return r.prototype.getValueByText.call(this,t,this.ignoreCase,this.ignoreAccent)},e.prototype.unWireEvent=function(){this.getModuleName()==="combobox"&&(F.remove(this.inputWrapper.buttons[0],"mousedown",this.preventBlur),F.remove(this.inputWrapper.container,"blur",this.onBlurHandler)),p(this.inputWrapper.buttons[0])||F.remove(this.inputWrapper.buttons[0],"mousedown",this.dropDownClick),this.inputElement&&(F.remove(this.inputElement,"focus",this.targetFocus),this.readonly||(F.remove(this.inputElement,"input",this.onInput),F.remove(this.inputElement,"keyup",this.onFilterUp),F.remove(this.inputElement,"keydown",this.onFilterDown),F.remove(this.inputElement,"paste",this.pasteHandler),F.remove(window,"resize",this.windowResize))),this.unBindCommonEvent()},e.prototype.setSelection=function(t,i){r.prototype.setSelection.call(this,t,i),!p(t)&&!this.autofill&&!this.isDropDownClick&&this.removeFocus()},e.prototype.selectCurrentItem=function(t){var i;if(this.isPopupOpen){if(this.isSelected?i=this.list.querySelector("."+_e.selected):i=this.list.querySelector("."+_e.focus),this.isDisabledElement(i))return;i&&(this.setSelection(i,t),this.isTyped=!1),this.isSelected&&(this.isSelectCustom=!1,this.onChangeEvent(t))}t.action==="enter"&&this.inputElement.value===""?this.clearAll(t):this.isTyped&&!this.isSelected&&p(i)&&this.customValue(t),this.hidePopup(t)},e.prototype.setHoverList=function(t){this.removeSelection(),this.isValidLI(t)&&!t.classList.contains(_e.selected)&&(this.removeFocus(),t.classList.add(_e.focus))},e.prototype.targetFocus=function(t){ne.isDevice&&!this.allowFiltering&&(this.preventFocus=!1),this.onFocus(t),xt.calculateWidth(this.inputElement,this.inputWrapper.container)},e.prototype.dropDownClick=function(t){t.preventDefault(),ne.isDevice&&!this.isFiltering()&&(this.preventFocus=!0),r.prototype.dropDownClick.call(this,t)},e.prototype.customValue=function(t){var i=this,n=this.getValueByText(this.inputElement.value);if(!this.allowCustom&&this.inputElement.value!==""){var s=this.previousValue,o=this.value;n=this.allowObjectBinding?this.getDataByValue(n):n,this.setProperties({value:n}),p(this.value)&&xt.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.autofill&&(!this.allowObjectBinding&&s===this.value||this.allowObjectBinding&&s&&this.isObjectInArray(s,[this.value]))&&(!this.allowObjectBinding&&o!==this.value||this.allowObjectBinding&&o&&!this.isObjectInArray(o,[this.value]))&&this.onChangeEvent(null)}else if(this.inputElement.value!==""){var a=this.value;if(p(n)){var l=this.inputElement.value===""?null:this.inputElement.value,h={text:l,item:{}};this.isObjectCustomValue=!0,this.initial?this.updateCustomValueCallback(l,h,a):this.trigger("customValueSpecifier",h,function(u){i.updateCustomValueCallback(l,u,a,t)})}else this.isSelectCustom=!1,n=this.allowObjectBinding?this.getDataByValue(n):n,this.setProperties({value:n}),(!this.allowObjectBinding&&a!==this.value||this.allowObjectBinding&&a&&this.value&&!this.isObjectInArray(a,[this.value]))&&this.onChangeEvent(t)}else this.allowCustom&&this.isFocused&&(this.isSelectCustom=!0)},e.prototype.updateCustomValueCallback=function(t,i,n,s){var o=this,a=this.fields,l=i.item,h={};l&&H(a.text,l)&&H(a.value,l)?h=l:(Ze(a.text,t,h),Ze(a.value,t,h)),this.itemData=h;var u={};if(this.allowObjectBinding){var c=this.listData&&this.listData.length>0?Object.keys(this.listData[0]):Object.keys(this.itemData);!(this.listData&&this.listData.length>0)&&(this.getModuleName()==="autocomplete"||this.getModuleName()==="combobox"&&this.allowFiltering)&&(c=this.firstItem?Object.keys(this.firstItem):Object.keys(this.itemData)),c.forEach(function(f){u[f]=f===a.value||f===a.text?H(a.value,o.itemData):null})}var d={text:H(a.text,this.itemData),value:this.allowObjectBinding?u:H(a.value,this.itemData),index:null};this.setProperties(d,!0),this.setSelection(null,null),this.isSelectCustom=!0,this.isObjectCustomValue=!1,(!this.allowObjectBinding&&n!==this.value||this.allowObjectBinding&&(n==null&&this.value!==null||n&&!this.isObjectInArray(n,[this.value])))&&this.onChangeEvent(s,!0)},e.prototype.onPropertyChanged=function(t,i){this.getModuleName()==="combobox"&&(this.checkData(t),this.setUpdateInitial(["fields","query","dataSource"],t,i));for(var n=0,s=Object.keys(t);n<s.length;n++){var o=s[n];switch(o){case"readonly":xt.setReadonly(this.readonly,this.inputElement),this.readonly?(F.remove(this.inputElement,"input",this.onInput),F.remove(this.inputElement,"keyup",this.onFilterUp),F.remove(this.inputElement,"keydown",this.onFilterDown)):(F.add(this.inputElement,"input",this.onInput,this),F.add(this.inputElement,"keyup",this.onFilterUp,this),F.add(this.inputElement,"keydown",this.onFilterDown,this)),this.setReadOnly();break;case"allowFiltering":this.setSearchBox(),this.isFiltering()&&this.getModuleName()==="combobox"&&p(this.list)&&r.prototype.renderList.call(this);break;case"allowCustom":break;default:{var a=this.getPropObject(o,t,i);r.prototype.onPropertyChanged.call(this,a.newProperty,a.oldProperty),this.isFiltering()&&o==="dataSource"&&p(this.list)&&this.itemTemplate&&this.getModuleName()==="combobox"&&r.prototype.renderList.call(this);break}}}},e.prototype.render=function(){r.prototype.render.call(this),this.setSearchBox(),this.renderComplete(),this.autoFill=this.autofill},e.prototype.getModuleName=function(){return"combobox"},e.prototype.addItem=function(t,i){r.prototype.addItem.call(this,t,i)},e.prototype.filter=function(t,i,n){r.prototype.filter.call(this,t,i,n)},e.prototype.showPopup=function(t){r.prototype.showPopup.call(this,t)},e.prototype.hidePopup=function(t){var i=this.inputElement&&this.inputElement.value===""?null:this.inputElement&&this.inputElement.value;if(!p(this.listData)){var n=this.isEscapeKey;this.isEscapeKey&&(xt.setValue(this.typedString,this.inputElement,this.floatLabelType,this.showClearButton),this.isEscapeKey=!1),this.autofill&&this.removeFillSelection();var s=this.isSelectCustom?{text:""}:this.getItemData(),o=p(s.text)?s.text:s.text.toString().replace(/\r\n|\n|\r/g,""),a=p(this.list)?null:this.list.querySelector("."+_e.selected);if(this.inputElement&&o===this.inputElement.value&&!p(a)){this.isSelected&&(this.onChangeEvent(t),this.isSelectCustom=!1),r.prototype.hidePopup.call(this,t);return}if(this.getModuleName()==="combobox"&&this.inputElement.value.trim()!==""){var l=this.sortedData,h=this.typeOfData(l).typeof,u=xu(this.inputElement.value,this.liCollections,"Equal",!0,l,this.fields,h);this.selectedLI=u.item,p(u.index)&&(u.index=xu(this.inputElement.value,this.liCollections,"StartsWith",!0,l,this.fields,h).index),this.activeIndex=u.index,p(this.selectedLI)?n&&(this.isSelectCustom=!0,this.removeSelection()):this.updateSelectedItem(this.selectedLI,null,!0)}!this.isEscapeKey&&this.isTyped&&!this.isInteracted&&this.customValue(t)}var c=this.allowObjectBinding&&!p(this.value)?H(this.fields.value?this.fields.value:"",this.value):this.value;p(this.listData)&&this.allowCustom&&!p(i)&&i!==c&&this.customValue(),r.prototype.hidePopup.call(this,t)},e.prototype.focusIn=function(){this.enabled&&(ne.isDevice&&!this.isFiltering()&&(this.preventFocus=!0),r.prototype.focusIn.call(this))},e.prototype.clear=function(){this.value=null},e.prototype.focusOut=function(t){r.prototype.focusOut.call(this,t)},e.prototype.getItems=function(){return r.prototype.getItems.call(this)},e.prototype.getDataByValue=function(t){return r.prototype.getDataByValue.call(this,t)},e.prototype.renderHightSearch=function(){},Di([I(!1)],e.prototype,"autofill",void 0),Di([I(!0)],e.prototype,"allowCustom",void 0),Di([I({})],e.prototype,"htmlAttributes",void 0),Di([I(!1)],e.prototype,"allowFiltering",void 0),Di([I(!0)],e.prototype,"isDeviceFullScreen",void 0),Di([I(null)],e.prototype,"query",void 0),Di([I(null)],e.prototype,"index",void 0),Di([I(!0)],e.prototype,"showClearButton",void 0),Di([Q()],e.prototype,"customValueSpecifier",void 0),Di([Q()],e.prototype,"filtering",void 0),Di([I(null)],e.prototype,"valueTemplate",void 0),Di([I("Never")],e.prototype,"floatLabelType",void 0),Di([I(null)],e.prototype,"filterBarPlaceholder",void 0),Di([I(null)],e.prototype,"cssClass",void 0),Di([I(null)],e.prototype,"headerTemplate",void 0),Di([I(null)],e.prototype,"footerTemplate",void 0),Di([I(null)],e.prototype,"placeholder",void 0),Di([I("100%")],e.prototype,"width",void 0),Di([I("300px")],e.prototype,"popupHeight",void 0),Di([I("100%")],e.prototype,"popupWidth",void 0),Di([I(!1)],e.prototype,"readonly",void 0),Di([I(null)],e.prototype,"text",void 0),Di([I(null)],e.prototype,"value",void 0),Di([I(!1)],e.prototype,"allowObjectBinding",void 0),e=Di([tn],e),e}(lie),die=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),bn=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};_e.root="e-autocomplete";_e.icon="e-input-group-icon e-ddl-icon e-search-icon";var pie=function(r){die(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.isFiltered=!1,n.searchList=!1,n}return e.prototype.preRender=function(){r.prototype.preRender.call(this)},e.prototype.getLocaleName=function(){return"auto-complete"},e.prototype.getNgDirective=function(){return"EJS-AUTOCOMPLETE"},e.prototype.getQuery=function(t){var i=t?t.clone():this.query?this.query.clone():new He,n=this.allowObjectBinding&&!p(this.value)?H(this.fields.value?this.fields.value:"",this.value):this.value,s=this.queryString===""&&!p(n)?"equal":this.filterType,o=this.queryString===""&&!p(n)?n:this.queryString;if(this.isFiltered){if(this.enableVirtualization&&!p(this.customFilterQuery))i=this.customFilterQuery.clone();else if(!this.enableVirtualization)return i}if(this.queryString!==null&&this.queryString!==""){var a=this.typeOfData(this.dataSource).typeof;if(!(this.dataSource instanceof fe)&&a==="string"||a==="number")i.where("",s,o,this.ignoreCase,this.ignoreAccent);else{var l=p(this.fields.value)?"":this.fields.value;i.where(l,s,o,this.ignoreCase,this.ignoreAccent)}}if(!p(this.suggestionCount)&&!this.enableVirtualization){if(this.suggestionCount!==20)for(var h=0;h<i.queries.length;h++)i.queries[h].fn==="onTake"&&i.queries.splice(h,1);i.take(this.suggestionCount)}if(this.enableVirtualization){var u=0,c=0,d=this.getTakeValue();if(i&&i.queries.length>0)for(var h=0;h<i.queries.length;h++)i.queries[h].fn==="onSkip"&&(c=i.queries[h].e.nos),i.queries[h].fn==="onTake"&&(u=d<=i.queries[h].e.nos?i.queries[h].e.nos:d);if(u<=0&&this.query&&this.query.queries.length>0){for(var h=0;h<this.query.queries.length;h++)if(this.query.queries[h].fn==="onTake"){var f=this.query.queries[h].e.nos;u=d<=f?f:d}}if(i&&i.queries.length>0)for(var h=0;h<i.queries.length;h++){if(i.queries[h].fn==="onSkip"){c=i.queries[h].e.nos,i.queries.splice(h,1),--h;continue}if(i.queries[h].fn==="onTake"){var g=i.queries[h].e.nos;u=g<=u?u:g,i.queries.splice(h,1),--h}}c>0&&this.virtualItemStartIndex<=c?i.skip(c):i.skip(this.virtualItemStartIndex),u>0&&d<=u?i.take(u):i.take(d),i.requiresCount()}return i},e.prototype.performFiltering=function(t){var i=this,n={preventDefaultAction:!1,text:this.filterInput?this.filterInput.value:null,updateData:function(s,o,a){n.cancel||(i.isFiltered=!0,i.customFilterQuery=o,i.filterAction(s,o,a))},cancel:!1};this.trigger("filtering",n,function(s){!s.cancel&&!i.isFiltered&&!s.preventDefaultAction&&(i.searchList=!0,i.filterAction(i.dataSource,null,i.fields,t))})},e.prototype.searchLists=function(t){if(this.isTyped=!0,this.isDataFetched=this.isSelectCustom=!1,this.firstItem=this.dataSource&&this.dataSource.length>0?this.dataSource[0]:null,this.checkAndResetCache(),p(this.list)&&r.prototype.renderList.call(this,t,!0),this.queryString=this.filterInput.value,t.type!=="mousedown"&&(t.keyCode===40||t.keyCode===38)){this.queryString=this.queryString===""?null:this.queryString,this.beforePopupOpen=!0,this.resetList(this.dataSource,this.fields,null,t);return}this.isSelected=!1,this.activeIndex=null,this.isRequesting=!1,this.queryString!==""&&this.debounceDelay>0?this.debouncedFiltering(t,this.debounceDelay):this.performFiltering(t)},e.prototype.filter=function(t,i,n){this.isFiltered=!0,this.filterAction(t,i,n)},e.prototype.filterAction=function(t,i,n,s){this.beforePopupOpen=!0;var o=this.list.classList.contains("e-nodata");if(this.queryString!==""&&this.queryString.length>=this.minLength){if(this.enableVirtualization&&this.isFiltering()&&this.isTyped&&(this.isPreventScrollAction=!0,this.list.scrollTop=0,this.previousStartIndex=0,this.virtualListInfo=null),this.resetList(t,n,i,s),o=this.list.classList.contains("e-nodata"),this.enableVirtualization&&!o){if(!this.list.querySelector(".e-virtual-ddl-content")&&this.list.querySelector(".e-list-parent")){var a=this.createElement("div",{className:"e-virtual-ddl-content"});a.style.cssText=this.getTransformValues(),this.list.appendChild(a).appendChild(this.list.querySelector(".e-list-parent"))}if(!this.list.querySelector(".e-virtual-ddl")&&this.list.parentElement){var a=this.createElement("div",{id:this.element.id+"_popup",className:"e-virtual-ddl"});a.style.cssText=this.GetVirtualTrackHeight(),this.list.parentElement.querySelector(".e-dropdownbase").appendChild(a)}}(this.getModuleName()==="autocomplete"&&!(this.dataSource instanceof fe)||this.getModuleName()==="autocomplete"&&this.dataSource instanceof fe&&this.totalItemCount!==0)&&this.getFilteringSkeletonCount()}else this.hidePopup(s),this.beforePopupOpen=!1;this.renderReactTemplates()},e.prototype.clearAll=function(t,i){(p(i)||!p(i)&&p(i.dataSource))&&(r.prototype.clearAll.call(this,t),this.checkAndResetCache()),this.beforePopupOpen&&this.hidePopup()},e.prototype.onActionComplete=function(t,i,n,s){this.enableVirtualization||(this.fixedHeaderElement=null),(this.getModuleName()==="autocomplete"&&!(this.dataSource instanceof fe)||this.getModuleName()==="autocomplete"&&this.dataSource instanceof fe&&this.totalItemCount!==0)&&this.getFilteringSkeletonCount(),r.prototype.onActionComplete.call(this,t,i,n);var o=this.list.querySelector("."+_e.li);p(o)||ue([o],_e.focus),!p(this.itemData)&&!this.enableVirtualization&&this.focusIndexItem(),this.postBackAction()},e.prototype.postBackAction=function(){if(this.autofill&&!p(this.liCollections[0])&&this.searchList){var t=[this.liCollections[0]],i=this.listData,n=this.typeOfData(i).typeof,s=xu(this.inputElement.value,t,"StartsWith",this.ignoreCase,i,this.fields,n);this.searchList=!1,p(s.item)||r.prototype.setAutoFill.call(this,this.liCollections[0],!0)}},e.prototype.setSelection=function(t,i){if(!this.isValidLI(t)){this.selectedLI=t;return}if(!p(i)&&i.type==="keydown"&&i.action!=="enter"&&i.action!=="tab"&&this.isValidLI(t)){var n=this.getFormattedValue(t.getAttribute("data-value"));if(this.activeIndex=this.getIndexByValue(n),this.setHoverList(t),this.selectedLI=t,this.setScrollPosition(i),this.autofill&&this.isPopupOpen){this.preventAutoFill=!1;var s=i&&i.action==="down"||i.action==="up"||i.action==="home"||i.action==="end"||i.action==="pageUp"||i.action==="pageDown";r.prototype.setAutoFill.call(this,t,s)}}else r.prototype.setSelection.call(this,t,i),this.isFiltered=!1},e.prototype.listOption=function(t,i){var n=this,s=r.prototype.listOption.call(this,t,i);if(p(s.itemCreated))s.itemCreated=function(a){n.highlight&&(n.element.tagName===n.getNgDirective()&&n.itemTemplate?setTimeout(function(){og(a.item,n.queryString,n.ignoreCase,n.filterType)},0):og(a.item,n.queryString,n.ignoreCase,n.filterType))};else{var o=s.itemCreated;s.itemCreated=function(a){n.highlight&&og(a.item,n.queryString,n.ignoreCase,n.filterType),o.apply(n,[a])}}return s},e.prototype.isFiltering=function(){return!0},e.prototype.renderPopup=function(t){this.enableVirtualization||(this.list.scrollTop=0),r.prototype.renderPopup.call(this,t)},e.prototype.isEditTextBox=function(){return!1},e.prototype.isPopupButton=function(){return this.showPopupButton},e.prototype.isSelectFocusItem=function(t){return!1},e.prototype.setInputValue=function(t,i){var n=i&&i.text?i.text:i&&i.value,s=t&&t.text?t.text:t&&t.value?t.value:this.value;if(this.allowObjectBinding&&(n=p(n)?n:H(this.fields.value?this.fields.value:"",n),s=p(s)?s:H(this.fields.value?this.fields.value:"",s)),s&&this.typedString===""&&!this.allowCustom&&!(this.dataSource instanceof fe)){var o=this.typeOfData(this.dataSource).typeof==="string"?"":this.fields.value,a=this.getItems().length,l=new He,h=this;new fe(this.dataSource).executeQuery(l.where(new Tt(o,"equal",s))).then(function(u){u.result.length>0?(h.value=o!==""?h.allowObjectBinding?u.result[0]:u.result[0][h.fields.value].toString():u.result[0].toString(),h.addItem(u.result,a),h.updateValues()):t&&t.text?h.setOldText(n):t&&t.value?h.setOldValue(n):h.updateValues()})}else t&&(t.text?this.setOldText(n):this.setOldValue(n))},e.prototype.showPopup=function(t){if(this.enabled){if(this.beforePopupOpen){this.refreshPopup();return}this.beforePopupOpen=!0,this.preventAutoFill=!0,p(this.list)?this.renderList(t):this.resetList(this.dataSource,this.fields,null,t)}},e.prototype.hidePopup=function(t){r.prototype.hidePopup.call(this,t),this.activeIndex=null,this.virtualListInfo=this.viewPortInfo,this.previousStartIndex=this.viewPortInfo.startIndex,this.startIndex=this.viewPortInfo.startIndex,this.previousEndIndex=this.viewPortInfo.endIndex},e.prototype.onPropertyChanged=function(t,i){this.getModuleName()==="autocomplete"&&this.setUpdateInitial(["fields","query","dataSource"],t);for(var n=0,s=Object.keys(t);n<s.length;n++){var o=s[n];switch(o){case"showPopupButton":if(this.showPopupButton){var a=xt.appendSpan(_e.icon,this.inputWrapper.container,this.createElement);this.inputWrapper.buttons[0]=a,xt.calculateWidth(this.inputElement,this.inputWrapper.container),!p(this.inputWrapper.buttons[0])&&!p(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])&&this.floatLabelType!=="Never"&&this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon"),this.inputWrapper&&this.inputWrapper.buttons&&this.inputWrapper.buttons[0]&&F.add(this.inputWrapper.buttons[0],"click",this.dropDownClick,this)}else bt(this.inputWrapper.buttons[0]),this.inputWrapper.buttons[0]=null;break;default:{var l=this.getPropObject(o,t,i);r.prototype.onPropertyChanged.call(this,l.newProperty,l.oldProperty);break}}}},e.prototype.renderHightSearch=function(){if(this.highlight)for(var t=0;t<this.liCollections.length;t++){var i=this.ulElement.querySelector(".e-active");i||(qte(this.liCollections[t]),og(this.liCollections[t],this.queryString,this.ignoreCase,this.filterType)),i=null}},e.prototype.getModuleName=function(){return"autocomplete"},e.prototype.render=function(){r.prototype.render.call(this)},bn([gt({value:null,iconCss:null,groupBy:null,disabled:null},CP)],e.prototype,"fields",void 0),bn([I(!0)],e.prototype,"ignoreCase",void 0),bn([I(!1)],e.prototype,"showPopupButton",void 0),bn([I(!1)],e.prototype,"highlight",void 0),bn([I(20)],e.prototype,"suggestionCount",void 0),bn([I({})],e.prototype,"htmlAttributes",void 0),bn([I(null)],e.prototype,"query",void 0),bn([I(1)],e.prototype,"minLength",void 0),bn([I("Contains")],e.prototype,"filterType",void 0),bn([Q()],e.prototype,"filtering",void 0),bn([I(null)],e.prototype,"index",void 0),bn([I("Never")],e.prototype,"floatLabelType",void 0),bn([I(null)],e.prototype,"valueTemplate",void 0),bn([I(null)],e.prototype,"filterBarPlaceholder",void 0),bn([I(!1)],e.prototype,"allowFiltering",void 0),bn([I(null)],e.prototype,"text",void 0),e=bn([tn],e),e}(cie),fie=function(){function r(e,t){this.parent=e,this.locator=t,this.addEventListener()}return r.prototype.getModuleName=function(){return"freeze"},r.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(cy,this.instantiateRenderer,this),this.parent.on(js,this.destroy,this))},r.prototype.instantiateRenderer=function(){this.parent.log("limitation",this.getModuleName())},r.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(cy,this.instantiateRenderer),this.parent.off(js,this.destroy))},r.prototype.destroy=function(){this.removeEventListener()},r}(),gie=function(){function r(e){this.parent=e}return r.prototype.renderWrapper=function(){this.wrapper=Be("div",{className:"e-virtualtable",styles:"position: absolute; transform: translate(0px, 0px);"}),this.parent.ganttChartModule.scrollElement.appendChild(this.wrapper),this.virtualTrack=Be("div",{className:"e-virtualtrack",styles:"position: relative; pointer-events: none; width: 100%;"}),this.parent.ganttChartModule.scrollElement.appendChild(this.virtualTrack),this.wrapper.appendChild(this.parent.ganttChartModule.chartBodyContent)},r.prototype.appendChildElements=function(e){this.wrapper.appendChild(e)},r.prototype.adjustTable=function(){var e=this.parent.treeGrid.getContent().querySelector(".e-content").querySelector(".e-virtualtable");if(this.parent.enableTimelineVirtualization){var t=document.getElementsByClassName("e-virtualtable")[1].style.transform,i=this.parent.treeGrid.element.getElementsByClassName("e-virtualtable")[0].style.transform,n=void 0;if(t!=="")n=t.match(/translate.*\((.+)\)/)[1].split(", ")[0];else{var s=this.parent.ganttChartModule.scrollElement.getElementsByClassName("e-virtualtable")[0].style.transform;n=s.match(/translate.*\((.+)\)/)[1].split(", ")[0]}var o=i.match(/translate.*\((.+)\)/)[1].split(", ")[1];this.parent.ganttChartModule.virtualRender.wrapper.style.transform="translate("+n+", "+o+")"}else this.parent.ganttChartModule.virtualRender.wrapper.style.transform=e.style.transform},r}(),mie=function(){function r(e){this.isExpandCollapseFromChart=!1,this.isExpandAll=!1,this.isCollapseAll=!1,this.isTouchMoved=!1,this.debounceTimeoutNext=0,this.debounceTimeout=0,this.isGanttElement=!1,this.previousPinchDistance=0,this.currentToolbarIndex=-1,this.isPinching=!1,this.preventScrollIntoView=!1,this.parent=e,this.chartTimelineContainer=null,this.rangeViewContainer=Be("div",{className:uC}),this.rangeViewContainer.setAttribute("role","button"),this.rangeViewContainer.setAttribute("aria-label","RangeContainer"),this.virtualRender=new gie(this.parent),this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.on("renderPanels",this.renderChartContainer,this),this.parent.on("recordsUpdated",this.renderChartElements,this),this.parent.on("dataReady",this.renderInitialContents,this),this.parent.on("tree-grid-created",this.renderChartContents,this),this.parent.on("destroy",this.destroy,this)},r.prototype.renderChartContents=function(){this.parent.notify("refreshDayMarkers",{}),this.wireEvents()},r.prototype.renderChartContainer=function(){this.chartElement=Be("div",{id:this.parent.element.id+"GanttChart",className:qJ}),this.parent.chartPane.appendChild(this.chartElement),this.renderTimelineContainer(),this.renderBodyContainers()},r.prototype.renderInitialContents=function(){this.parent.ganttChartModule.chartTimelineContainer.innerHTML="",this.parent.timelineModule.createTimelineSeries()},r.prototype.renderOverAllocationContainer=function(){for(var e=0;e<this.parent.flatData.length;e++){var t=this.parent.flatData[e];t.childRecords.length>0&&this.parent.dataOperation.updateOverlappingValues(t)}var i=this.parent.element.querySelector("."+uC);i&&(i.innerHTML=""),this.parent.treeGrid.grid.filterSettings.columns.length===0&&this.renderRangeContainer(this.parent.currentViewData)},r.prototype.renderChartElements=function(){if(this.parent.isFromOnPropertyChange)this.rangeViewContainer.innerHTML="",this.parent.updateProjectDates(this.parent.cloneProjectStartDate,this.parent.cloneProjectEndDate,this.parent.isTimelineRoundOff),this.parent.isFromOnPropertyChange=!1;else{this.parent.chartRowsModule.renderChartRows(),this.parent.predecessorModule&&this.parent.taskFields.dependency&&(this.parent.connectorLineIds=[],this.parent.updatedConnectorLineCollection=[],this.parent.predecessorModule.createConnectorLinesCollection()),this.parent.connectorLineModule.renderConnectorLines(this.parent.updatedConnectorLineCollection);for(var e=0;e<this.parent.chartRowsModule.ganttChartTableBody.children.length;e++)if(this.parent.chartRowsModule.ganttChartTableBody.children[e].children[0].children[1].children[4])this.parent.chartRowsModule.ganttChartTableBody.children[e].children[0].children[1].children[1].setAttribute("tabindex","-1"),this.parent.chartRowsModule.ganttChartTableBody.children[e].children[0].children[1].children[2].setAttribute("tabindex","-1"),this.parent.chartRowsModule.ganttChartTableBody.children[e].children[0].children[1].children[4].setAttribute("tabindex","-1");else if(this.parent.viewType==="ProjectView"){var t=this.parent.chartRowsModule.ganttChartTableBody.children[parseInt(e.toString(),10)].children[0].children[1].children[1];p(t)||this.parent.chartRowsModule.ganttChartTableBody.children[e].children[0].children[1].children[1].setAttribute("tabindex","-1")}else this.parent.chartRowsModule.ganttChartTableBody.children[parseInt(e.toString(),10)].children[0].children[1].children[0]&&this.parent.chartRowsModule.ganttChartTableBody.children[e].children[0].children[1].children[0].setAttribute("tabindex","-1");var i=this.parent.criticalPathModule;this.parent.enableCriticalPath&&i&&i.criticalPathCollection&&this.parent.criticalPathModule.criticalConnectorLine(i.criticalPathCollection,i.detailPredecessorCollection,this.parent.enableCriticalPath,i.predecessorCollectionTaskIds),this.parent.showOverAllocation&&this.renderOverAllocationContainer()}this.updateWidthAndHeight();var n=this.parent.loadChildOnDemand&&(this.parent.isExpandPerformed||!p(this.parent.isVirtualScroll)&&this.parent.isVirtualScroll);this.parent.isLoad&&!n&&this.parent.notify("selectRowByIndex",{}),this.parent.timelineModule.isZoomedToFit&&this.parent.timelineModule.processZoomToFit()},r.prototype.renderRangeContainer=function(e){var t=e.length,i,n,s;if(this.parent.treeGrid.grid.filterSettings.columns.length===0)for(i=0;i<t;i++)n=e[i],s=n.ganttProperties.workTimelineRanges,s&&this.renderRange(s,n)},r.prototype.getTopValue=function(e){var t=this.parent.expandedRecords,i=t.indexOf(e);if(e.parentItem&&i===-1){var n=this.parent.getRecordByID(e.parentItem.taskId);i=t.indexOf(n)}return e.expanded?(i+1)*this.parent.rowHeight:i*this.parent.rowHeight},r.prototype.getHierarchyChildRecords=function(e){for(var t=[],i=0,n=e;i<n.length;i++){var s=n[i];s.childRecords&&s.childRecords.length>0&&(t.push(s),this.collectHierarchyChildren(s.childRecords,t))}return t},r.prototype.collectHierarchyChildren=function(e,t){for(var i=0,n=e;i<n.length;i++){var s=n[i];s.childRecords&&s.childRecords.length>0&&(t.push(s),this.collectHierarchyChildren(s.childRecords,t))}},r.prototype.getRangeHeight=function(e){var t=Math.floor(this.parent.rowHeight-this.parent.chartRowsModule.taskBarHeight);if(!e.expanded&&e.hasChildRecords)return this.calculateCollapsedRowHeight(t);var i=this.calculateHierarchyChildLength(e);return this.calculateExpandedRowHeight(e.childRecords.length,i,t)},r.prototype.calculateCollapsedRowHeight=function(e){return this.parent.rowHeight-e},r.prototype.calculateHierarchyChildLength=function(e){if(!e.childRecords||e.childRecords.length===0)return 0;for(var t=this.getHierarchyChildRecords(e.childRecords),i=0,n=0,s=t;n<s.length;n++){var o=s[n];o.childRecords.length!==0&&o.expanded&&(i+=o.childRecords.length)}return i},r.prototype.calculateExpandedRowHeight=function(e,t,i){return(e+t)*this.parent.rowHeight-i},r.prototype.renderRange=function(e,t){var i=0,n=this.parent.currentViewData.indexOf(t);if(!this.parent.allowTaskbarOverlap&&this.parent.enableMultiTaskbar){var s=t.parentItem?this.parent.getParentTask(t.parentItem):null;if(t.parentItem&&s&&!s.expanded&&t.hasChildRecords&&!t.expanded)i=this.parent.getRowByIndex(this.parent.getRootParent(t,0).index).offsetTop;else{var o=this.parent.getRowByIndex(n).offsetTop;i=t.expanded?o+this.parent.rowHeight:o}}else i=this.getTopValue(t);var a=this.rangeViewContainer.querySelector(".rangeContainer"+t.ganttProperties.rowUniqueID);a&&a.remove();var l=Be("div",{className:"rangeContainer"+t.ganttProperties.rowUniqueID,styles:"top:"+i+"px; position: absolute;"});if(!(t.level===0&&!t.expanded&&p(t.parentItem)&&!this.parent.enableMultiTaskbar)&&!(t.level>0&&t.expanded&&!this.parent.getRecordByID(t.parentItem.taskId).expanded)){for(var h=0;h<e.length;h++){var u=void 0,c=this.parent.chartRowsModule.ganttChartTableBody.childNodes;if(!this.parent.allowTaskbarOverlap&&!t.expanded&&this.parent.enableMultiTaskbar){var s=this.parent.getRootParent(t,0);n=s.expanded?n:this.parent.currentViewData.indexOf(s),u=parseInt(c[n].style.height,10)-(this.parent.rowHeight-this.parent.chartRowsModule.taskBarHeight)}else u=this.getRangeHeight(t);var d=Be("div",{className:X1+" e-leftarc",styles:(this.parent.enableRtl?"right:":"left:")+((this.parent.enableRtl?e[h].left+e[h].width-5:e[h].left)+`px;
                top: `+Math.floor((this.parent.rowHeight-this.parent.chartRowsModule.taskBarHeight)/2)+`px;
                height: `+(u+1)+`px; border-right: 0px;
                z-index: `+(this.parent.viewType==="ProjectView"?t.childRecords.length>1?t.childRecords.length+1:t.childRecords.length:6))}),f=Be("div",{className:X1+" e-rightarc",styles:(this.parent.enableRtl?"right:":"left:")+((this.parent.enableRtl?e[h].left:e[h].left+e[h].width-5)+`px;
                top: `+Math.floor((this.parent.rowHeight-this.parent.chartRowsModule.taskBarHeight)/2)+"px; height: "+(u+1)+`px;
                border-left: 0px;
                z-index: `+(this.parent.viewType==="ProjectView"?t.childRecords.length>1?t.childRecords.length+1:t.childRecords.length:6))});l.appendChild(d),l.appendChild(f),this.rangeViewContainer.appendChild(l)}this.parent.ganttChartModule.chartBodyContent.appendChild(this.rangeViewContainer)}},r.prototype.renderTimelineContainer=function(){this.chartTimelineContainer=Be("div",{className:th}),this.parent.enableRtl&&(this.chartTimelineContainer.style.borderLeftWidth="1px",this.chartTimelineContainer.style.borderRightWidth="0px"),this.chartTimelineContainer.setAttribute("role","presentation"),this.chartElement.appendChild(this.chartTimelineContainer)},r.prototype.renderBodyContainers=function(){this.chartBodyContainer=Be("div",{className:Rj}),this.parent.enableHover&&this.chartBodyContainer.classList.add("e-chart-row-hover"),this.chartElement.appendChild(this.chartBodyContainer),this.scrollElement=Be("div",{className:GJ+" "+$J,styles:"position:relative;"}),this.chartBodyContainer.appendChild(this.scrollElement),this.chartBodyContent=Be("div",{className:Lg,styles:"position:relative; overflow:hidden "}),this.parent.virtualScrollModule&&this.parent.enableVirtualization||this.parent.enableTimelineVirtualization?this.parent.ganttChartModule.virtualRender.renderWrapper():this.scrollElement.appendChild(this.chartBodyContent),this.scrollObject=new kZ(this.parent);var e=0;!p(this.parent.toolbarModule)&&!p(this.parent.toolbarModule.element)&&(e=this.parent.toolbarModule.element.offsetHeight),this.scrollObject.setHeight(this.parent.ganttHeight-this.chartTimelineContainer.offsetHeight-e)},r.prototype.updateWidthAndHeight=function(){var e=36,t=this.parent.contentHeight===0?this.parent.flatData.length>1?e:0:this.parent.contentHeight,i=this.parent.element.getElementsByClassName("e-chart-scroll-container e-content")[0];if(t>=i.offsetHeight||this.parent.height==="auto"||i.offsetHeight-t<e)this.chartBodyContent.style.height=mt(t);else{var n=this.parent.element.getElementsByClassName("e-chart-rows-container")[0].offsetHeight;i.offsetHeight>=n?this.chartBodyContent.style.height=i.offsetHeight-17+"px":this.chartBodyContent.style.height=i.offsetHeight+"px"}if(this.parent.timelineModule.isZoomToFit&&this.parent.enableTimelineVirtualization?this.chartBodyContent.style.width=this.parent.enableTimelineVirtualization&&this.parent.timelineModule.totalTimelineWidth>this.parent.element.offsetWidth*3?mt(this.parent.element.offsetWidth*3):mt(this.parent.timelineModule.totalTimelineWidth-this.parent.timelineModule.clientWidthDifference):this.chartBodyContent.style.width=this.parent.enableTimelineVirtualization&&this.parent.timelineModule.totalTimelineWidth>this.parent.element.offsetWidth*3?mt(this.parent.element.offsetWidth*3):mt(this.parent.timelineModule.totalTimelineWidth),this.parent.timelineModule.isZoomedToFit&&this.parent.enableVirtualization){var s=Math.abs(this.parent.timelineModule.totalTimelineWidth-this.parent.element.getElementsByClassName("e-chart-scroll-container e-content")[0].clientWidth);this.parent.ganttChartModule.chartBodyContent.style.width=mt(this.parent.timelineModule.totalTimelineWidth-s)}this.setVirtualHeight(),this.parent.notify("updateHeight",{}),this.parent.updateGridLineContainerHeight(),this.updateLastRowBottomWidth()},r.prototype.setVirtualHeight=function(){if(this.parent.virtualScrollModule&&this.parent.enableVirtualization){var e=H("virtualTrack",this.parent.ganttChartModule.virtualRender);e.style.height=this.parent.treeGrid.element.getElementsByClassName("e-virtualtrack")[0].style.height;var t=H("wrapper",this.parent.ganttChartModule.virtualRender),i=this.parent.treeGrid.element.getElementsByClassName("e-virtualtable")[0].style.transform,n=document.getElementsByClassName("e-virtualtable")[1].style.transform;if(this.parent.enableTimelineVirtualization){var s=void 0;if(i==="translate(0px)"&&navigator.userAgent.includes("Firefox")&&(i="translate(0px, 0px)"),n!=="")s=n.match(/translate.*\((.+)\)/)[1].split(", ")[0];else{var o=this.parent.ganttChartModule.scrollElement.getElementsByClassName("e-virtualtable")[0].style.transform;s=o.match(/translate.*\((.+)\)/)[1].split(", ")[0]}var a=i.match(/translate.*\((.+)\)/)[1].split(", ")[1];t.style.transform="translate("+s+", "+a+")"}else t.style.transform=i}},r.prototype.updateLastRowBottomWidth=function(){if(this.parent.currentViewData.length>0&&this.parent.height!=="auto"){var e=this.parent.virtualScrollModule&&this.parent.enableVirtualization?this.parent.currentViewData:this.parent.expandedRecords,t=e[e.length-1],i=this.parent.currentViewData.indexOf(t),n=this.parent.getRowByIndex(i),s=this.parent.chartRowsModule.ganttChartTableBody;if(s.querySelectorAll(".e-chart-row-cell.e-chart-row-border.e-lastrow")&&ue(s.querySelectorAll(".e-chart-row-cell.e-chart-row-border.e-lastrow"),"e-lastrow"),this.chartBodyContent.clientHeight<this.chartBodyContainer.clientHeight&&n){Z(n.querySelectorAll("td"),"e-lastrow");var o=36,a=this.parent.flatData.length>1?o:0,l=this.parent.contentHeight===0?a:this.parent.contentHeight,h=this.parent.element.getElementsByClassName("e-chart-scroll-container e-content")[0];if(l>=h.offsetHeight||h.offsetHeight-l<o)this.chartBodyContent.style.height=mt(l);else{var u=this.parent.element.getElementsByClassName("e-chart-rows-container")[0].offsetHeight;h.offsetHeight>=u?this.chartBodyContent.style.height=h.offsetHeight-17+"px":this.chartBodyContent.style.height=h.offsetHeight+"px"}}}},r.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off("renderPanels",this.renderChartContainer),this.parent.off("recordsUpdated",this.renderChartElements),this.parent.off("dataReady",this.renderInitialContents),this.parent.off("tree-grid-created",this.renderChartContents),this.parent.off("destroy",this.destroy))},r.prototype.ganttChartMouseDown=function(e){var t=!1;if(e.type==="touchstart"&&e instanceof TouchEvent&&e.touches&&e.touches.length===2&&(this.initPinchDistance=this.calculatePinchDistance(e.touches[0],e.touches[1]),this.isPinching=!0),this.parent.allowTaskbarDragAndDrop&&this.parent.editModule&&this.parent.editSettings.allowTaskbarEditing&&!this.isPinching){var i=this.parent.editModule.taskbarEditModule.getTaskBarAction(e);if(i==="ChildDrag"||i==="ParentDrag"||i==="MilestoneDrag"||i==="ManualParentDrag"){var n={cancel:t,data:this.getRecordByTaskBar(e.target),target:e.target,chartRow:xe(e.target,"tr")};this.parent.trigger("rowDragStartHelper",n),t=n.cancel}}if(this.isTouchMoved&&(this.isTouchMoved=!1),!t&&!this.isPinching){e.which!==3&&this.parent.editSettings.allowTaskbarEditing&&(this.parent.notify("chartMouseDown",e),this.parent.element.tabIndex=0);var s=!1;this.parent.editSettings.allowTaskbarEditing&&(this.parent.element.querySelector(".e-left-resize-gripper")||this.parent.element.querySelector(".e-left-connectorpoint-outer-div"))&&(s=!0),(!s||e.button===2)&&this.parent.editSettings.allowEditing&&this.parent.treeGrid.element.getElementsByClassName("e-editedbatchcell").length>0&&this.parent.treeGrid.endEdit()}},r.prototype.calculatePinchDistance=function(e,t){var i=t.clientX-e.clientX,n=t.clientY-e.clientY;return Math.sqrt(i*i+n*n)},r.prototype.ganttChartMouseClick=function(e){this.parent.autoFocusTasks&&this.scrollToTarget(e),this.parent.notify("chartMouseClick",e)},r.prototype.ganttChartMouseUp=function(e){if(e.type==="touchend"){this.initPinchDistance=null,this.isPinching=!1;var t=this.parent.ganttChartModule.chartBodyContainer.querySelector(".e-taskbar-resize-div");p(t)||t.remove();var i=this.parent.ganttChartModule.chartBodyContainer.querySelector(".e-clone-taskbar")||this.parent.chartPane.querySelector(".e-clone-taskbar");if(!p(i)){var n=i.parentElement,s=n.parentElement;s.remove()}var o=this.parent.ganttChartModule.chartBodyContainer.querySelector(".e-gantt-false-line");p(o)||this.parent.editModule.taskbarEditModule.removeFalseLine(!0)}if(this.parent.editSettings.allowTaskbarEditing&&this.parent.notify("chartMouseUp",e),!this.parent.editSettings.allowEditing){var a=!1;if(this.parent.editSettings.allowTaskbarEditing&&H("editModule.taskbarEditModule.isMouseDragged",this.parent)&&H("editModule.taskbarEditModule.taskBarEditAction",this.parent)&&(a=!0),!a){var l=e.target,h=e.target.classList.contains(is)||xe(e.target,"."+is);xe(l,".e-gantt-parent-taskbar")&&!this.parent.editSettings.allowEditing&&!this.parent.isAdaptive?this.chartExpandCollapseRequest(e):!h&&this.parent.autoFocusTasks&&!this.isTouchMoved&&this.scrollToTarget(e)}}},r.prototype.scrollToTarget=function(e){var t=xe(e.target,"tr");if(t&&this.parent.element.contains(t)&&(this.parent.element.querySelectorAll(".e-chart-rows-container")[0].contains(e.target)||this.parent.element.querySelectorAll(".e-gridcontent")[0].contains(e.target))&&this.parent.currentViewData.length>0){var i=H("rowIndex",xe(e.target,"tr")),n=this.parent.currentViewData[i].ganttProperties.startDate,s=this.parent.currentViewData[i].ganttProperties.left;if(!p(n)){var o=this.parent.enableTimelineVirtualization?{}:this.parent.dataOperation.getTaskLeft(n,!1,this.parent.currentViewData[i].ganttProperties.calendarContext);this.parent.autoFocusTasks&&(this.parent.enableTimelineVirtualization?this.updateScrollLeft(s):this.updateScrollLeft(o))}}},r.prototype.updateScrollLeft=function(e){e=e>0?e:0,e=this.scrollElement.scrollWidth<=e?this.scrollElement.scrollWidth:e,(this.scrollElement.offsetWidth+this.parent.ganttChartModule.scrollElement.scrollLeft<e||this.scrollElement.scrollLeft>e)&&this.scrollObject.setScrollLeft(e-50,this.parent.enableRtl?-1:0)},r.prototype.mouseUp=function(e){e.type==="touchend"&&(this.initPinchDistance=null,this.isPinching=!1),!p(this.parent.editModule)&&!p(this.parent.editModule.taskbarEditModule)&&this.parent.editModule.taskbarEditModule.removeFalseLine(!1);var t=this.parent.element.querySelector(".e-taskbar-resize-div");if(p(t)||t.remove(),this.parent.allowTaskbarDragAndDrop&&this.parent.editModule&&this.parent.editModule.taskbarEditModule&&(this.parent.editModule.taskbarEditModule.previousLeftValue=0),this.parent.allowRowDragAndDrop){var i=this.parent.element.querySelector(".e-ganttdrag");i&&i.remove()}this.isGanttElement||this.parent.notify("chartMouseUp",e),this.isGanttElement=!1,this.isTouchMoved=!1},r.prototype.documentMouseUp=function(e){if(e.type==="touchend"&&(this.initPinchDistance=null,this.isPinching=!1,this.previousPinchDistance=0),this.isGanttElement=!0,(e.target.classList.contains("e-treegridexpand")||e.target.classList.contains("e-treegridcollapse"))&&H("isEditCollapse",this.parent.treeGrid)===!0&&Ze("isEditCollapse",!1,this.parent.treeGrid),this.parent.allowRowDragAndDrop){var t=this.parent.element.querySelector(".e-ganttdrag");t&&t.remove()}if(!(this.parent.isDestroyed||e.which===3)){var i=this.parent.ganttChartModule.chartBodyContainer.querySelector(".e-taskbar-resize-div");p(i)||i.remove();var n=this.parent.element.getElementsByClassName("e-clone-taskbar")[0];if(!p(n)){var s=n.parentElement,o=s.parentElement;o.remove()}var a=!1;if(this.parent.editSettings.allowTaskbarEditing&&H("editModule.taskbarEditModule.isMouseDragged",this.parent)&&H("editModule.taskbarEditModule.taskBarEditAction",this.parent)&&(a=!0),this.parent.notify("chartMouseUp",e),this.parent.showActiveElement&&(this.parent.showIndicator=!0,!e.target.classList.contains("e-split-bar")&&this.focusedElement&&(this.focusedElement.tabIndex=this.focusedElement.tabIndex===0?-1:this.focusedElement.tabIndex,ue([this.focusedElement],"e-active-container"))),!a){var l=e.target,h=e.target.classList.contains(is)||xe(e.target,"."+is);xe(l,".e-gantt-parent-taskbar")&&!this.parent.editSettings.allowEditing?this.chartExpandCollapseRequest(e):!h&&this.parent.autoFocusTasks&&!this.isTouchMoved&&this.scrollToTarget(e)}if(this.parent.editModule&&this.parent.editModule.taskbarEditModule&&this.parent.editModule.taskbarEditModule.removeFalseLine(!0),!a&&!p(this.parent.onTaskbarClick)){var l=e.target,u=xe(l,".e-gantt-parent-taskbar,.e-gantt-child-taskbar,.e-gantt-milestone");u&&this.onTaskbarClick(e,l,u)}}},r.prototype.onTaskbarClick=function(e,t,i){var n,s=xe(t,"tr");p(s)||(n=H("rowIndex",s));var o=this.getRecordByTarget(e),a={data:o,taskbarElement:i,rowIndex:n,target:t};this.parent.trigger("onTaskbarClick",a)},r.prototype.ganttChartLeave=function(e){this.parent.editSettings.allowTaskbarEditing&&this.parent.notify("chartMouseLeave",e)},r.prototype.ganttChartMove=function(e){if(e.type==="touchmove"&&this.isPinching===!0&&e instanceof TouchEvent&&e.touches&&e.touches.length===2){var t=this.calculatePinchDistance(e.touches[0],e.touches[1]);Math.abs(this.previousPinchDistance-t)>15&&(t>this.previousPinchDistance?this.parent.timelineModule.processZooming(!0):t<this.previousPinchDistance&&this.parent.timelineModule.processZooming(!1),this.previousPinchDistance=t)}if(e instanceof TouchEvent&&e.type==="touchmove"&&(this.isTouchMoved=!0),this.parent.editSettings.allowTaskbarEditing&&this.isPinching===!1){if(!this.parent.enableRtl&&this.parent.element.getElementsByClassName("e-clone-taskbar").length>0){var i=void 0;if(e.type==="touchmove"||e.type==="touchstart"||e.type==="touchend"?i=e.changedTouches[0].pageX:i=e.pageX,i<=this.parent.getOffsetRect(this.parent.ganttChartModule.chartElement).left)return}this.parent.notify("chartMouseMove",e),!p(this.parent.taskFields.dependency)&&this.parent.connectorLineEditModule&&this.parent.connectorLineEditModule.updateConnectorLineEditElement(e)}},r.prototype.contextClick=function(e){if(this.parent.allowFiltering&&this.parent.filterModule&&this.parent.filterModule.closeFilterOnContextClick(e.srcElement),this.parent.element.querySelectorAll(".e-focused").length>0&&this.parent.element.querySelectorAll(".e-focused").forEach(function(s){s.classList.remove("e-focused")}),this.parent.allowTaskbarDragAndDrop){var t=this.parent.chartPane.querySelector(".e-clone-taskbar");if(!p(t)){var i=t.parentElement,n=i.parentElement;n.remove()}}},r.prototype.mouseMoveHandler=function(e){if((this.parent.flatData.length||e.target.classList.contains("e-header-cell-label")||e.target.classList.contains("e-headercell"))&&!p(this.parent.onMouseMove)){var t=e.target,i={originalEvent:e},n=xe(t,".e-chart-row-cell,.e-connector-line-container,.e-event-markers,.e-header-cell-label,.e-rowcell,.e-headercell,.e-indicator-span");if(n){var s=void 0,o=xe(t,".e-rowcell,.e-chart-row-cell"),a=xe(t,".e-rowcell,.e-headercell");if(o&&(s=this.parent.ganttChartModule.getRecordByTarget(e),i.data=s),a){var l=H("cellIndex",a);i.column=this.parent.treeGrid.columns[l]}if(xe(t,".e-indicator-span")){var h=0,u=s.ganttProperties.indicators;if(u.length>1)for(h=0;h<u.length&&u[h].name!==n.innerText.trim();h++);i.indicator=u[h]}if(xe(t,".e-connector-line-container")){var c={};c.target=n,i.predecessor=this.parent.tooltipModule.getPredecessorTooltipData(c)}if(xe(t,".e-event-markers")){var c={};c.target=n,i.eventMarkers=this.parent.tooltipModule.getMarkerTooltipData(c)}t.classList.contains("e-header-cell-label")&&(i.date=new Date(t.dataset.content))}this.parent.trigger("onMouseMove",i)}},r.prototype.doubleClickHandler=function(e){var t=e.target,i=xe(t,"tr"),n=H("rowIndex",i),s=this.parent.ganttChartModule.getRecordByTarget(e);this.parent.editSettings.allowEditing&&this.parent.treeGrid.element.getElementsByClassName("e-editedbatchcell").length>0&&this.parent.treeGrid.endEdit(),this.parent.notify("chartDblClick",e);var o={row:i,rowData:s,rowIndex:n,target:t};this.recordDoubleClick(o)},r.prototype.recordDoubleClick=function(e){this.parent.trigger("recordDoubleClick",e)},r.prototype.getRecordByTarget=function(e){var t,i=xe(e.target,"div."+is);if(p(i)){if(i=xe(e.target,"tr"),i){var s=H("rowIndex",xe(e.target,"tr"));t=this.parent.currentViewData[s]}}else{var n=i.getAttribute("rowUniqueId");t=this.parent.getRecordByID(n)}return t},r.prototype.getChartRows=function(){return document.getElementById(this.parent.element.id+"GanttTaskTableBody")!==null?document.getElementById(this.parent.element.id+"GanttTaskTableBody").querySelectorAll(".e-chart-row"):null},r.prototype.chartExpandCollapseRequest=function(e){if(!this.parent.enableMultiTaskbar){var t=e.target,i=xe(t,".e-gantt-parent-taskbar"),n=this.getRecordByTarget(e),s=xe(t,"tr"),o=H("rowIndex",s),a=this.parent.treeGrid.getRows()[o],l={data:n,gridRow:a,chartRow:s,cancel:!1};this.isExpandCollapseFromChart=!0,i.classList.contains("e-row-expand")?this.collapseGanttRow(l):i.classList.contains("e-row-collapse")&&this.expandGanttRow(l)}},r.prototype.reRenderConnectorLines=function(){this.parent.connectorLineModule.dependencyViewContainer.innerHTML="",this.parent.connectorLineIds=[],this.parent.updatedConnectorLineCollection=[],this.parent.predecessorModule.createConnectorLinesCollection(),this.parent.connectorLineModule.renderConnectorLines(this.parent.updatedConnectorLineCollection);var e=this.parent.criticalPathModule;this.parent.enableCriticalPath&&e&&e.criticalPathCollection&&e.criticalConnectorLine(e.criticalPathCollection,e.detailPredecessorCollection,!0,e.predecessorCollectionTaskIds)},r.prototype.collapseGanttRow=function(e){var t=this;this.parent.trigger("collapsing",e,function(i){t.isExpandCollapseFromChart&&!H("cancel",i)&&t.collapsedGanttRow(i),t.isExpandCollapseFromChart=!1})},r.prototype.collapsedGanttRow=function(e){var t=this,i;if(this.parent.loadChildOnDemand&&this.parent.taskFields.hasChildMapping?i=this.parent.currentViewData.filter(function(o){return o.ganttProperties[t.parent.taskFields.id]===e.data[t.parent.taskFields.id]})[0]:i=H("data",e),p(e.gridRow)&&this.parent.enableVirtualization||p(e.chartRow)){i&&(i.expanded=!1);return}if(this.isExpandCollapseFromChart){this.expandCollapseChartRows("collapse",H("chartRow",e),i,null);var n=this.parent.taskFields.id;if(this.parent.loadChildOnDemand&&this.parent.taskFields.hasChildMapping){var s=this.parent.treeGrid.getCurrentViewRecords().filter(function(o){return o[n]===e.data[n]})[0];this.parent.treeGrid.collapseRow(H("gridRow",e),s)}else this.parent.treeGrid.collapseRow(H("gridRow",e),i);this.isExpandCollapseFromChart=!1}else this.expandCollapseChartRows("collapse",H("chartRow",e),i,null);this.parent.enableMultiTaskbar&&this.parent.chartRowsModule.refreshRecords([i],!0),H("chartRow",e).setAttribute("aria-expanded","false")},r.prototype.expandGanttRow=function(e){var t=this;this.parent.trigger("expanding",e,function(i){t.isExpandCollapseFromChart&&!H("cancel",i)&&t.expandedGanttRow(i),t.isExpandCollapseFromChart=!1})},r.prototype.expandedGanttRow=function(e){var t=this,i;if(this.parent.loadChildOnDemand&&this.parent.taskFields.hasChildMapping?i=this.parent.currentViewData.filter(function(o){return o.ganttProperties.taskId===e.data[t.parent.taskFields.id]})[0]:i=H("data",e),p(e.gridRow)&&this.parent.enableVirtualization||p(e.chartRow)){i&&(i.expanded=!0);return}if(this.isExpandCollapseFromChart){this.expandCollapseChartRows("expand",H("chartRow",e),i,null);var n=this.parent.taskFields.id;if(this.parent.loadChildOnDemand&&this.parent.taskFields.hasChildMapping){var s=this.parent.treeGrid.getCurrentViewRecords().filter(function(o){return o[n]===e.data[n]})[0];this.parent.treeGrid.expandRow(H("gridRow",e),s)}else this.parent.treeGrid.expandRow(H("gridRow",e),i);this.isExpandCollapseFromChart=!1}else this.parent.isExpandCollapseLevelMethod||this.expandCollapseChartRows("expand",H("chartRow",e),i,null),this.parent.isExpandCollapseLevelMethod=!1;this.parent.enableMultiTaskbar&&this.parent.chartRowsModule.refreshRecords([i],!0),H("chartRow",e).setAttribute("aria-expanded","true")},r.prototype.expandCollapseChartRows=function(e,t,i,n){var s;if(e==="expand"){s="table-row",n||(i.expanded=!0);for(var o=t.querySelectorAll(".e-row-collapse"),a=0;a<o.length;a++)Z([o[a]],"e-row-expand"),ue([o[a]],"e-row-collapse")}else if(e==="collapse"){s="none",n||(i.expanded=!1);for(var o=t.querySelectorAll(".e-row-expand"),a=0;a<o.length;a++)Z([o[a]],"e-row-collapse"),ue([o[a]],"e-row-expand")}if(!this.parent.enableVirtualization){for(var l=i.childRecords,h=this.getChartRows(),u=[],c=0;c<h.length;c++)h[c].classList.contains("gridrowtaskId"+i.ganttProperties.rowUniqueID+"level"+(i.level+1))&&u.push(h[c]);for(var c=0;c<u.length;c++)u[c].style.display=s,!p(l[c])&&l[c].childRecords&&l[c].childRecords.length&&(e==="collapse"||l[c].expanded||this.isExpandAll)&&this.expandCollapseChartRows(e,u[c],l[c],!0)}},r.prototype.expandCollapseAll=function(e){if(e==="expand")this.isExpandAll=!0,this.parent.treeGrid.expandAll();else if(this.isCollapseAll=!0,this.parent.treeGrid.collapseAll(),this.isCollapseAll&&!this.parent.allowTaskbarOverlap){var t=this.parent.enableRtl?this.parent.element.getElementsByClassName("e-content")[2].children[0].offsetHeight:this.parent.element.getElementsByClassName("e-content")[0].children[0].offsetHeight;this.parent.contentHeight=t,document.getElementsByClassName("e-chart-rows-container")[0].style.height=this.parent.contentHeight+"px"}this.isExpandAll=!1,this.isCollapseAll=!1},r.prototype.expandAtLevel=function(e){this.parent.treeGrid.expandAtLevel(e)},r.prototype.collapseAtLevel=function(e){this.parent.enableVirtualization&&(this.parent.isExpandCollapseLevelMethod=!0),this.parent.treeGrid.collapseAtLevel(e)},r.prototype.wireEvents=function(){var e=this,t=ne.isPointer,i=ne.touchStartEvent,n=ne.touchEndEvent,s=ne.touchMoveEvent,o=t?"pointerleave":"mouseleave";if(F.add(this.parent.chartPane,i,this.ganttChartMouseDown,this),F.add(this.parent.chartPane,o,this.ganttChartLeave,this),F.add(this.parent.chartPane,s,this.ganttChartMove,this),F.add(this.parent.chartPane,"wheel",this.onWheelZoom,this),this.parent.isAdaptive){var a;F.add(this.parent.chartRowsModule.ganttChartTableBody,"pointerdown",function(l){a?(clearTimeout(a),a=null,e.doubleClickHandler(l)):a=setTimeout(function(){a=null},200)},this),F.add(this.parent.chartPane,xl,this.ganttChartMouseClick,this),F.add(this.parent.chartPane,n,this.ganttChartMouseUp,this)}this.parent.isAdaptive||(F.add(this.parent.chartRowsModule.ganttChartTableBody,"dblclick",this.doubleClickHandler,this),F.add(this.parent.element,n,this.documentMouseUp,this),F.add(document,n,this.mouseUp,this)),F.add(this.parent.element,"mousemove",this.mouseMoveHandler,this),F.add(document.body,"contextmenu",this.contextClick,this),F.add(document,"mouseup",this.contextClick,this)},r.prototype.unWireEvents=function(){var e=ne.isPointer,t=ne.touchStartEvent,i=ne.touchEndEvent,n=ne.touchMoveEvent,s=e?"pointerleave":"mouseleave";p(this.parent.chartRowsModule.ganttChartTableBody)||F.remove(this.parent.chartRowsModule.ganttChartTableBody,t,this.ganttChartMouseDown),p(this.parent.chartPane)||(F.remove(this.parent.chartPane,s,this.ganttChartLeave),F.remove(this.parent.chartPane,n,this.ganttChartMove),F.remove(this.parent.chartPane,"wheel",this.onWheelZoom),F.remove(this.parent.chartPane,t,this.ganttChartMouseDown)),this.parent.isAdaptive&&(p(this.parent.chartPane)||(F.remove(this.parent.chartPane,xl,this.ganttChartMouseClick),F.remove(this.parent.chartPane,i,this.ganttChartMouseUp))),this.parent.isAdaptive||(p(this.parent.element)||F.remove(this.parent.element,i,this.documentMouseUp),p(document)||F.remove(document,i,this.mouseUp)),p(this.parent.element)||F.remove(this.parent.element,"mousemove",this.mouseMoveHandler),p(document)||(F.remove(document,"mouseup",this.contextClick),p(document.body)||F.remove(document.body,"contextmenu",this.contextClick)),p(this.parent.chartRowsModule.ganttChartTableBody)||F.remove(this.parent.chartRowsModule.ganttChartTableBody,"dblclick",this.doubleClickHandler)},r.prototype.onWheelZoom=function(e){if(e.ctrlKey){e.preventDefault();var t=e.deltaY<0,i=!1;Math.abs(e.deltaY)<75&&(i=!0),this.debounceTimeout&&(this.debounceTimeoutNext+20>this.debounceTimeout&&clearTimeout(this.debounceTimeout),(this.debounceTimeoutNext+20<=this.debounceTimeout||!this.debounceTimeoutNext)&&(this.debounceTimeoutNext=this.debounceTimeout)),this.debounceTimeout=setTimeout((function(){var n=Math.abs(e.deltaY),s=i?n>.5&&n<15:n>5&&n<=200;s&&this.parent.timelineModule.processZooming(t)}).bind(this),100)}},r.prototype.getRecordByTaskBar=function(e){var t=this.parent.flatData[this.getIndexByTaskBar(e)];return t},r.prototype.updateElement=function(e,t,i,n,s){if(this.parent.ganttColumns[parseInt(e.getAttribute("aria-colindex"),10)-1].field===this.parent.taskFields.progress){var o=s.index;do s.hasChildRecords&&(e=this.getNextElement(e,i,n)),t=this.parent.ganttColumns[parseInt(e.getAttribute("aria-colindex"),10)-1],o=this.parent.treeGrid.getRows().indexOf(e.parentElement);while(!t.allowEditing);this.parent.treeGrid.saveCell(),this.parent.treeGrid.editCell(o,this.parent.ganttColumns[parseInt(e.getAttribute("aria-colindex"),10)-1].field)}return e},r.prototype.onTabAction=function(e){this.parent.treeGrid.grid.enableHeaderFocus=this.parent.enableHeaderFocus;var t=document.getElementsByClassName("e-toolbar-item"),i=this.parent.editModule&&this.parent.editModule.cellEditModule&&this.parent.editModule.cellEditModule.isCellEdit;if(!(!i&&!this.parent.showActiveElement)){var n=i?e.target.closest(".e-rowcell"):e.target;this.parent.element.querySelectorAll(".e-focused").length>0&&(n=this.parent.element.querySelectorAll(".e-focused")[0]),n&&!(n.classList.contains("e-toolbar-item")||n.classList.contains("e-input")||n.classList.contains("e-btn"))&&(this.currentToolbarIndex=-1),(n.closest(".e-rowcell")||n.closest(".e-chart-row"))&&this.parent.focusModule.setActiveElement(n),this.focusedRowIndex=n.closest(".e-rowcell")?n.parentElement.rowIndex:n.closest(".e-chart-row")?n.closest(".e-chart-row").rowIndex:-1;var s=e.action==="tab",o=this.getNextElement(n,s,i);if(o&&(o==="noNextRow"||o.classList.contains("e-rowdragheader"))&&(o==="noNextRow"&&this.parent.treeGrid.element.getElementsByClassName("e-editedbatchcell").length>0&&this.parent.treeGrid.saveCell(),o=null),o&&n.classList.contains("e-headercell")){var a=parseInt(o.getAttribute("aria-colindex"),10)-1;if(e.action==="shiftTab"){for(;a!==-1&&!this.parent.treeGrid.columns[a].visible;)a=a-1;if(a!==-1)a=this.parent.allowRowDragAndDrop?a+1:a,o=document.getElementsByClassName("e-columnheader")[0].childNodes[a];else for(var l=document.getElementsByClassName("e-toolbar-item"),h=l.length-1;h>0;h--)if(!document.getElementsByClassName("e-toolbar-item")[h].classList.contains("e-hidden")){o=document.getElementsByClassName("e-toolbar-item")[h],this.currentToolbarIndex=h;break}}else{for(;!this.parent.treeGrid.columns[a].visible;)a=a+1;a=this.parent.allowRowDragAndDrop?a+1:a,o=document.getElementsByClassName("e-columnheader")[0].childNodes[a]}}if(this.parent.toolbarModule&&this.parent.toolbar.length>0&&(n.classList.contains("e-headercell")||n.classList.contains("e-toolbar-item")||n.classList.contains("e-treegrid")||n.classList.contains("e-input")||n.classList.contains("e-btn"))&&!o){var u=this.currentToolbarIndex!==-1?e.action==="tab"?this.currentToolbarIndex+1:this.currentToolbarIndex-1:e.action==="shiftTab"?t.length-1:1,c=!1;if(u!==-1&&(e.action==="shiftTab"||e.action==="tab"&&u<t.length))do t[u].classList.contains("e-hidden")?e.action==="tab"?u++:u--:(o=t[u],o.setAttribute("tabindex","-1"),o.querySelector(".e-btn")===n&&(e.action==="tab"?u++:u--,o=t[u]),o.querySelector(".e-btn")&&o.querySelector(".e-btn").setAttribute("tabindex","0"),c=!0,this.currentToolbarIndex=u);while(!c)}if(e.action==="tab"&&!o&&this.currentToolbarIndex===t.length-1&&(n.classList.contains("e-toolbar-item")||n.classList.contains("e-input")||n.classList.contains("e-btn"))){for(var h=0;h<this.parent.treeGrid.columns.length;h++)if(this.parent.treeGrid.columns[h].visible){o=document.getElementsByClassName("e-columnheader")[0].childNodes[h];break}}if(this.tempNextElement=o,!p(o)&&!p(o.cellIndex)&&(this.parent.allowRowDragAndDrop?(this.childrenIndex=o.cellIndex,this.nextElementIndex=o.cellIndex-1):(this.childrenIndex=o.cellIndex,this.nextElementIndex=o.cellIndex),this.nextElementIndex!==-1&&!this.parent.ganttColumns[this.nextElementIndex].allowEditing&&this.parent.ganttColumns[this.nextElementIndex].field!==this.parent.taskFields.id?this.isEditableElement=!0:this.isEditableElement=!1),p(o)||o==="noNextRow"){this.manageFocus(n,"remove",!0);return}if(typeof o!="string"){if(n.closest(".e-chart-row-cell")&&o.closest(".e-rowcell")&&(this.preventScrollIntoView=!0),(n.classList.contains("e-rowcell")||n.closest(".e-chart-row-cell")||n.classList.contains("e-headercell")||n.closest(".e-segmented-taskbar"))&&e.preventDefault(),s&&n.classList.contains("e-rowdragdrop")){this.parent.treeGrid.grid.notify("key-pressed",e);return}if(n.classList.contains("e-rowcell")&&o&&o.classList.contains("e-rowcell")||n.classList.contains("e-headercell")){if(s){if(this.parent.editSettings.allowNextRowEdit){var d=this.parent.currentViewData[this.focusedRowIndex],f=this.parent.ganttColumns[parseInt(o.getAttribute("aria-colindex"),10)-1].field;d.hasChildRecords?f===this.parent.taskFields.endDate||f===this.parent.taskFields.duration||f===this.parent.taskFields.dependency||f===this.parent.taskFields.progress||f===this.parent.taskFields.work||f===this.parent.taskFields.type||f==="taskType"?(this.parent.treeGrid.grid.endEdit(),this.parent.treeGrid.grid.notify("key-pressed",e)):f===this.parent.taskFields.name||f===this.parent.taskFields.startDate?this.parent.treeGrid.grid.notify("key-pressed",e):(this.parent.treeGrid.grid.notify("key-pressed",e),i&&this.parent.treeGrid.editCell(this.focusedRowIndex,f)):this.parent.treeGrid.grid.notify("key-pressed",e)}else if(!o||o&&!o.classList.contains("e-headercell")){n.classList.contains("e-headercell")&&this.manageFocus(n,"remove",!1);var g=this.parent.currentViewData[n.parentElement.rowIndex],m=o;if(g.hasChildRecords&&(this.parent.ganttColumns[parseInt(m.getAttribute("aria-colindex"),10)-1].field===this.parent.taskFields.progress||!this.parent.ganttColumns[parseInt(m.getAttribute("aria-colindex"),10)-1].allowEditing)&&this.parent.ganttColumns[parseInt(m.getAttribute("aria-colindex"),10)-1].field!==this.parent.taskFields.id&&n.classList.contains("e-editedbatchcell")){var y=void 0;for(m=this.updateElement(m,y,s,i,g);!this.parent.ganttColumns[parseInt(m.getAttribute("aria-colindex"),10)-1].allowEditing;)m=this.getNextElement(m,s,i);m=this.updateElement(m,y,s,i,g)}else(!o||n.classList.contains("e-editedbatchcell"))&&this.parent.treeGrid.grid.notify("key-pressed",e)}}else if(o&&!o.classList.contains("e-headercell")&&o.classList.contains("e-rowcell")&&!o.classList.contains("e-toolbar-item")){var g=this.parent.currentViewData[n.parentElement.rowIndex],m=o;if(g.hasChildRecords&&(this.parent.ganttColumns[parseInt(m.getAttribute("aria-colindex"),10)-1].field===this.parent.taskFields.progress||!this.parent.ganttColumns[parseInt(m.getAttribute("aria-colindex"),10)-1].allowEditing)&&this.parent.ganttColumns[parseInt(m.getAttribute("aria-colindex"),10)-1].field!==this.parent.taskFields.id&&n.classList.contains("e-editedbatchcell")){var y=void 0;for(m=this.updateElement(m,y,s,i,g);!this.parent.ganttColumns[parseInt(m.getAttribute("aria-colindex"),10)-1].allowEditing;)m=this.getNextElement(m,s,i);m=this.updateElement(m,y,s,i,g)}else if(parseInt(m.parentElement.getAttribute("aria-rowindex"),10)-1!==0&&parseInt(m.getAttribute("aria-colindex"),10)-1===0&&this.parent.ganttColumns[parseInt(m.getAttribute("aria-colindex"),10)-1].field===this.parent.taskFields.id&&n.classList.contains("e-editedbatchcell")){var v=n.parentElement.rowIndex,M=this.getNextRowElement(v,s,!0);m=this.getChildElement(M,s);var d=this.parent.flatData[parseInt(M.getAttribute("aria-rowindex"),10)-1];if(d.hasChildRecords&&(!this.parent.ganttColumns[parseInt(m.getAttribute("aria-colindex"),10)-1].allowEditing||this.parent.ganttColumns[parseInt(m.getAttribute("aria-colindex"),10)-1].field===this.parent.taskFields.progress)){var y=void 0;for(m=this.updateElement(m,y,s,i,d);!this.parent.ganttColumns[parseInt(m.getAttribute("aria-colindex"),10)-1].allowEditing;)m=this.getNextElement(m,s,i);m=this.updateElement(m,y,s,i,d)}else this.parent.treeGrid.grid.notify("key-pressed",e)}else this.parent.treeGrid.grid.notify("key-pressed",e)}}if(this.parent.element.querySelectorAll(".e-focused").length>0&&this.manageFocus(this.parent.element.querySelectorAll(".e-focused")[0],"remove",!1),!(this.parent.editModule&&this.parent.editModule.cellEditModule&&!p(this.parent.editModule.cellEditModule.editedColumn))&&o){n.classList.contains("e-rowcell")?this.manageFocus(n,"remove",!1):this.manageFocus(n,"remove",!0);var S=H("focusModule",this.parent.treeGrid.grid);if(o.classList.contains("e-rowcell")&&n.nextElementSibling||n.classList.contains("e-right-label-container")){if(!n.classList.contains("e-rowcell")&&(this.parent.treeGrid.grid.notify("key-pressed",e),this.parent.selectionModule)){var v=this.parent.enableVirtualization?this.parent.currentViewData[o.parentElement.rowIndex].index:o.parentElement.rowIndex;if(this.parent.selectionModule.selectRow(v),this.parent.selectionSettings.mode!=="Cell"){var b=this.parent.selectionModule.getSelectedRows();if(b.length>0){var C=b[0].querySelectorAll(".e-focus, .e-focused");C.length>0&&ue([C[0]],["e-focus","e-focused"])}}}this.manageFocus(o,"add",!1),S.currentInfo.element=o,S.currentInfo.elementToFocus=o,S.content.matrix.current=[o.parentElement.rowIndex,o.cellIndex]}else o&&(o.classList.contains("e-toolbar-item")||o.classList.contains("e-headercell")||o.classList.contains("e-rowcell"))?(this.manageFocus(n,"remove",!1),o.classList.contains("e-toolbar-item")||this.manageFocus(o,"add",!1),n.classList.contains("e-treegrid")&&e.preventDefault()):this.manageFocus(o,"add",!0);this.parent.focusModule.setActiveElement(o)}}}},r.prototype.getNextElement=function(e,t,i){var n=t?e.nextElementSibling:e.previousElementSibling;if(e.parentElement.classList.contains("e-taskbar-main-container")){if(this.parent.labelSettings.rightLabel&&t)return e.parentElement.nextElementSibling;if(!t&&this.parent.labelSettings.leftLabel)return e.parentElement.previousElementSibling}for(;n&&n.parentElement.classList.contains("e-row");){if(!n.matches(".e-hide")&&!n.matches(".e-rowdragdrop"))return n;n=t?n.nextElementSibling:n.previousElementSibling}if(!p(n)&&(n.classList.contains("e-taskbar-main-container")||n.classList.contains("e-right-connectorpoint-outer-div"))){var s=this.parent.currentViewData[this.focusedRowIndex];!p(s.ganttProperties.segments)&&s.ganttProperties.segments.length>0&&(n=n.classList.contains("e-right-connectorpoint-outer-div")?n.parentElement.nextElementSibling:n.getElementsByClassName("e-gantt-child-taskbar-inner-div")[0])}if(this.validateNextElement(n))return n;var o=-1,a=null,l=void 0;if(e.classList.contains("e-rowcell")&&i&&this.parent.editSettings.allowNextRowEdit)return o=e.parentElement.rowIndex,a=this.getNextRowElement(o,t,!0),l=this.getChildElement(a,t),l;if(e.classList.contains("e-rowcell"))if(o=e.parentElement.rowIndex,t)if(a=this.parent.getRowByIndex(o),this.parent.treeGrid.element.getElementsByClassName("e-editedbatchcell").length>0){a=this.getNextRowElement(o,t,!0);var h=this.getChildElement(a,t);return h}else{if(this.validateNextElement(a,"e-left-label-container"))return a.getElementsByClassName("e-left-label-container")[0];if(this.validateNextElement(a,"e-taskbar-main-container"))return a.getElementsByClassName("e-taskbar-main-container")[0];if(this.validateNextElement(a,"e-right-label-container"))return a.getElementsByClassName("e-right-label-container")[0]}else{if(a=this.getNextRowElement(o,t,!1),this.validateNextElement(a,"e-right-label-container"))return a.getElementsByClassName("e-right-label-container")[0];if(this.validateNextElement(a,"e-taskbar-main-container"))return a.getElementsByClassName("e-taskbar-main-container")[0];if(this.validateNextElement(a,"e-left-label-container"))return a.getElementsByClassName("e-left-label-container")[0]}else if(e.parentElement.classList.contains("e-chart-row-cell")||e.parentElement.parentElement.classList.contains("e-chart-row-cell")){if(o=xe(e,".e-chart-row").rowIndex,t){if(!t&&this.parent.virtualScrollModule&&this.parent.enableVirtualization){var u=this.parent.currentViewData[o];o=this.parent.flatData.indexOf(u)}a=this.getNextRowElement(o,t,!0)}else a=this.parent.treeGrid.getRows()[o];var c=this.getChildElement(a,t);return c}return n=e,null},r.prototype.getNextRowElement=function(e,t,i){var n=this.parent.expandedRecords,s=this.parent.currentViewData[e],o=n.indexOf(s),a=t?n[o+1]:n[o-1],l=this.parent.currentViewData.indexOf(a);return a?i?this.parent.treeGrid.getRows()[l]:this.parent.getRowByIndex(l):null},r.prototype.validateNextElement=function(e,t){if(e&&e.classList.contains("e-rowcell"))return!0;if(e&&t){var i=e.getElementsByClassName(t)[0];return!!(i&&i.hasChildNodes())}else if(e)return!!(!p(e)&&e.hasChildNodes());return!1},r.prototype.getChildElement=function(e,t){var i;if(e)for(i=t?e.children[0]:e.children[e.children.length-1];i;){if(!i.matches(".e-hide")&&!i.matches(".e-rowdragdrop"))return i;i=t?i.nextElementSibling:i.previousElementSibling}else return"noNextRow";return i},r.prototype.manageFocus=function(e,t,i,n){if(i){var s=null;if(e.classList.contains("e-left-label-container")||e.classList.contains("e-right-label-container"))s=e.getElementsByTagName("span")[0];else if(e.classList.contains("e-taskbar-main-container")||e.classList.contains("e-gantt-child-taskbar-inner-div")){var o=xe(e,".e-chart-row").rowIndex,a=this.parent.currentViewData[o],l=a.hasChildRecords?a.ganttProperties.isAutoSchedule?"e-gantt-parent-taskbar":"e-manualparent-main-container":a.ganttProperties.isMilestone?"e-gantt-milestone":!p(a.ganttProperties.segments)&&a.ganttProperties.segments.length>0?"e-segmented-taskbar":"e-gantt-child-taskbar";s=e.getElementsByClassName(l)[0],p(s)&&(s=e)}(e.classList.contains("e-right-label-temp-container")||e.classList.contains("e-left-label-temp-container")||e.classList.contains("e-indicator-span"))&&(t==="add"?(e.setAttribute("tabIndex","0"),Z([e],"e-active-container"),e.focus()):(ue([e],"e-active-container"),e.setAttribute("tabIndex","-1"),e.blur())),t==="add"&&!p(s)?(e.setAttribute("tabIndex","0"),Z([s],"e-active-container"),e.focus(),this.focusedElement=s):p(s)||(ue([s],"e-active-container"),e.setAttribute("tabIndex","-1"),e.blur())}else t==="add"?(e.setAttribute("tabIndex","0"),Z([e],["e-focused","e-focus"]),this.preventScrollIntoView||e.scrollIntoView({block:"nearest",inline:"nearest"}),this.preventScrollIntoView=!1,e.focus()):(e.setAttribute("tabIndex","-1"),ue([e],["e-focused","e-focus"]),e.blur())},r.prototype.getIndexByTaskBar=function(e){var t,i;if(e.classList.contains(is)?t=e:t=xe(e,"div."+is),p(t))t=xe(e,"tr."+jj),i=[].slice.call(this.parent.chartRowsModule.ganttChartTableBody.childNodes).indexOf(t);else{var n=t.getAttribute("rowUniqueId"),s=this.parent.getRecordByID(n);this.parent.enableVirtualization&&this.parent.enableMultiTaskbar?i=this.parent.flatData.indexOf(s):this.parent.pdfExportModule&&this.parent.pdfExportModule.helper.exportProps&&this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings&&this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth&&this.parent.pdfExportModule.isPdfExport&&s?i=this.parent.ids.indexOf(s.ganttProperties.taskId.toString()):i=this.parent.flatData.indexOf(s)}return i},r.prototype.destroy=function(){this.removeEventListener(),this.unWireEvents(),this.chartElement=null,this.rangeViewContainer=null,this.chartBodyContent=null,this.scrollElement=null,this.chartTimelineContainer=null,this.chartBodyContainer=null,p(this.scrollObject)||(this.scrollObject.destroy(),this.scrollObject=null)},r}(),vy=function(){return vy=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},vy.apply(this,arguments)},yie=function(){function r(e){this.isZoomIn=!1,this.isZooming=!1,this.isZoomToFit=!1,this.topTierCollection=[],this.bottomTierCollection=[],this.pdfExportTopTierCollection=[],this.pdfExportBottomTierCollection=[],this.restrictRender=!0,this.applyDstHour=!1,this.performedTimeSpanAction=!1,this.dstIncreaseHour=!1,this.fromDummyDate=!1,this.isZoomedToFit=!1,this.isZoomingAction=!1,this.increaseIteration=!1,this.isFirstLoop=!1,this.inconsistenceDstApplied=!1,this.parent=e,this.initProperties()}return r.prototype.initProperties=function(){this.timelineStartDate=null,this.timelineEndDate=null,this.totalTimelineWidth=0,this.customTimelineSettings=null,this.parent.isTimelineRoundOff=this.isZoomToFit?!1:!!p(this.parent.projectStartDate),this.parent.enablePersistence&&this.parent.isLoad&&(this.parent.timelineSettings=this.parent.currentZoomingLevel)},r.prototype.validateTimelineProp=function(){this.roundOffDays(),this.processTimelineProperty(),this.timelineWidthCalculation()},r.prototype.refreshTimeline=function(){this.initProperties(),this.processTimelineUnit(),(!this.parent.undoRedoModule||this.parent.undoRedoModule&&!this.parent.undoRedoModule.isZoomingUndoRedoProgress)&&this.parent.dataOperation.calculateProjectDates(),this.parent.isFromOnPropertyChange||this.parent.updateProjectDates(this.parent.cloneProjectStartDate,this.parent.cloneProjectEndDate,this.parent.isTimelineRoundOff);var e=this.parent.element.getElementsByClassName("e-timeline-header-container")[0].offsetHeight;this.parent.element.getElementsByClassName("e-gridcontent")[0].style.height="calc(100% - "+e+"px)",this.parent.element.getElementsByClassName("e-chart-scroll-container e-content")[0].style.height="calc(100% - "+e+"px)"},r.prototype.refreshTimelineByTimeSpan=function(){this.validateTimelineProp(),(!this.parent.pdfExportModule||this.parent.pdfExportModule&&!this.parent.pdfExportModule.isPdfExport||this.parent.pdfExportModule&&this.parent.pdfExportModule.isPdfExport&&this.parent.pdfExportModule.helper.exportProps&&!this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth)&&(this.parent.ganttChartModule.chartTimelineContainer.innerHTML=""),this.createTimelineSeries()},r.prototype.updateChartByNewTimeline=function(){this.parent.chartRowsModule.refreshChartByTimeline();var e=this.parent.element.getElementsByClassName("e-chart-scroll-container e-content")[0].scrollLeft;this.parent.element.getElementsByClassName("e-timeline-header-container")[0].scrollLeft=e,this.parent.notify("refreshDayMarkers",{})},r.prototype.processZooming=function(e){this.parent.isReact&&this.parent.clearTemplate(["TaskbarTemplate","ParentTaskbarTemplate","MilestoneTemplate","TaskLabelTemplate","RightLabelTemplate","LeftLabelTemplate"]),this.isZoomToFit=this.isZoomedToFit=!1,this.updateUndoRedo(e),this.parent.isProjectDateUpdated||this.parent.dateValidationModule.calculateProjectDates(),this.parent.zoomingProjectStartDate&&(this.parent.cloneProjectStartDate=this.parent.zoomingProjectStartDate,this.parent.cloneProjectEndDate=this.parent.zoomingProjectEndDate),this.parent.zoomingProjectStartDate=this.parent.zoomingProjectEndDate=null;var t=this.checkCurrentZoomingLevel();this.isZoomIn=e,this.isZooming=!0;var i=this.getZoomLevel(t,e);this.updateToolbar(i,e),i=this.parent.zoomingLevels.findIndex(function(o){return o.level===i});var n=this.parent.zoomingLevels[i],s={requestType:e?"beforeZoomIn":"beforeZoomOut",timeline:n,cancel:!1};this.parent.trigger("actionBegin",s),s.cancel||(this.parent.showLoadingIndicator(),n=s.timeline,this.changeTimelineSettings(n)),this.isZooming=!1},r.prototype.updateUndoRedo=function(e){var t=e?"ZoomIn":"ZoomOut";if(this.parent.undoRedoModule&&this.parent.isUndoRedoItemPresent(t)){this.parent.undoRedoModule.redoEnabled&&this.parent.undoRedoModule.disableRedo(),this.parent.undoRedoModule.createUndoCollection();var i={action:t,previousZoomingLevel:ie({},{},this.parent.currentZoomingLevel,!0)};i.previousZoomingLevel.bottomTier.format=this.customTimelineSettings.bottomTier.format,i.previousZoomingLevel.topTier.format=this.customTimelineSettings.topTier.format,this.parent.undoRedoModule.getUndoCollection[this.parent.undoRedoModule.getUndoCollection.length-1]=i}},r.prototype.getZoomLevel=function(e,t){var i=t?1:-1,n=e+i,s=this.parent.zoomingLevels.find(function(o){return o.level===n});return s?n:e},r.prototype.updateToolbar=function(e,t){this.parent.toolbarModule&&(t?e===this.parent.zoomingLevels[this.parent.zoomingLevels.length-1].level?(this.parent.toolbarModule.enableItems([this.parent.controlId+"_zoomin"],!1),this.parent.toolbarModule.enableItems([this.parent.controlId+"_zoomout"],!0)):this.parent.toolbarModule.enableItems([this.parent.controlId+"_zoomout"],!0):e===this.parent.zoomingLevels[0].level?(this.parent.toolbarModule.enableItems([this.parent.controlId+"_zoomout"],!1),this.parent.toolbarModule.enableItems([this.parent.controlId+"_zoomin"],!0)):this.parent.toolbarModule.enableItems([this.parent.controlId+"_zoomin"],!0))},r.prototype.changeTimelineSettings=function(e){var t=this;this.isZoomToFit||this.isZooming?this.isSingleTier=this.customTimelineSettings.topTier.unit==="None"||this.customTimelineSettings.bottomTier.unit==="None":this.isSingleTier=e.topTier.unit==="None"||e.bottomTier.unit==="None";var i=this.isSingleTier?this.customTimelineSettings.topTier.unit==="None"?"topTier":"bottomTier":null;Object.keys(this.customTimelineSettings).forEach(function(a){if(a!==i)t.customTimelineSettings[a]=typeof e[a]=="object"&&!p(e[a])?vy({},e[a]):e[a];else{var l=a==="topTier"?"bottomTier":"topTier",h="bottomTier";e[""+h].unit!=="None"&&(t.customTimelineSettings[l]=vy({},e[h]))}}),this.parent.isTimelineRoundOff=this.isZoomToFit?!1:!!p(this.parent.projectStartDate),this.processTimelineUnit(),this.parent.updateProjectDates(this.parent.cloneProjectStartDate,this.parent.cloneProjectEndDate,this.parent.isTimelineRoundOff);var n=this.parent.criticalPathModule;if(this.parent.enableCriticalPath&&n&&n.criticalPathCollection&&n.criticalConnectorLine(n.criticalPathCollection,n.detailPredecessorCollection,!0,n.predecessorCollectionTaskIds),this.isZooming||this.isZoomToFit){var s={requestType:this.isZoomIn?"AfterZoomIn":this.isZoomToFit?"AfterZoomToProject":"AfterZoomOut",timeline:this.parent.currentZoomingLevel};this.parent.trigger("actionComplete",s),this.parent.hideLoadingIndicator()}var o=this.topTier==="None"?"bottomTier":"topTier";this.parent.enableTimelineVirtualization&&(!this.parent.pdfExportModule||this.parent.pdfExportModule&&!this.parent.pdfExportModule.isPdfExport)&&(this.wholeTimelineWidth=this.calculateWidthBetweenTwoDate(o,this.parent.timelineModule.timelineStartDate,this.parent.timelineModule.timelineEndDate),this.wholeTimelineWidth<=this.totalTimelineWidth&&(this.wholeTimelineWidth=this.totalTimelineWidth),this.isZoomToFit?(this.clientWidthDifference=Math.abs(this.wholeTimelineWidth-this.parent.element.getElementsByClassName("e-chart-scroll-container e-content")[0].clientWidth)+1,this.parent.element.querySelectorAll(".e-chart-scroll-container")[0].querySelector(".e-virtualtrack").style.width=this.wholeTimelineWidth-this.clientWidthDifference+"px",p(this.parent.element.querySelectorAll(".e-timeline-header-container")[0].querySelector(".e-virtualtrack"))||(this.parent.element.querySelectorAll(".e-timeline-header-container")[0].querySelector(".e-virtualtrack").style.width=this.wholeTimelineWidth-this.clientWidthDifference+"px")):(this.parent.element.querySelectorAll(".e-chart-scroll-container")[0].querySelector(".e-virtualtrack").style.width=this.wholeTimelineWidth+"px",p(this.parent.element.querySelectorAll(".e-timeline-header-container")[0].querySelector(".e-virtualtrack"))||(this.parent.element.querySelectorAll(".e-timeline-header-container")[0].querySelector(".e-virtualtrack").style.width=this.wholeTimelineWidth+"px")),this.parent.ganttChartModule.updateWidthAndHeight())},r.prototype.processZoomToFit=function(){this.parent.isReact&&this.parent.clearTemplate(["TaskbarTemplate","ParentTaskbarTemplate","MilestoneTemplate","TaskLabelTemplate","RightLabelTemplate","LeftLabelTemplate"]),this.isZoomToFit=!0,this.isZooming=!1,this.isZoomedToFit=!0;var e={};this.parent.undoRedoModule&&!this.parent.undoRedoModule.isUndoRedoPerformed&&this.parent.isUndoRedoItemPresent("ZoomToFit")&&(this.parent.undoRedoModule.redoEnabled&&this.parent.undoRedoModule.disableRedo(),this.parent.undoRedoModule.createUndoCollection(),e.action="ZoomToFit",e.previousTimelineStartDate=ie([],[],[this.parent.cloneProjectStartDate],!0)[0],e.previousTimelineEndDate=ie([],[],[this.parent.cloneProjectEndDate],!0)[0],e.previousZoomingLevel=ie({},{},this.parent.currentZoomingLevel,!0),this.parent.undoRedoModule.getUndoCollection[this.parent.undoRedoModule.getUndoCollection.length-1]=e),this.parent.zoomingProjectStartDate||(this.parent.zoomingProjectStartDate=this.parent.cloneProjectStartDate,this.parent.zoomingProjectEndDate=this.parent.cloneProjectEndDate),this.parent.zoomingProjectStartDate>this.parent.cloneProjectStartDate&&(this.parent.cloneProjectStartDate=new Date(this.parent.allowUnscheduledTasks?this.parent.zoomingProjectStartDate:this.parent.cloneProjectStartDate)),p(this.parent.projectStartDate)&&p(this.parent.projectEndDate)&&this.parent.dataOperation.calculateProjectDates();var t,i=0;this.parent.timelineSettings.showWeekend||(i=this.calculateNonWorkingDaysBetweenDates(this.parent.cloneProjectStartDate,this.parent.cloneProjectEndDate));var n=this.parent.cloneProjectEndDate.getTime()-this.parent.cloneProjectStartDate.getTime();t=n/(1e3*3600*24),t=t-i;var s=this.parent.ganttChartModule.chartElement.offsetWidth,o=s/t,a,l,h,u=this.parent.zoomingLevels.slice(),c=u.sort(function(S,b){return!S.perDayWidth&&!b.perDayWidth?0:S.perDayWidth<b.perDayWidth?1:-1});if(o!==0){for(var d=0;d<c.length;d++){if(l=c[d],d===c.length-1){a=c[d];break}else h=c[d+1];if(o>=l.perDayWidth){a=c[d];break}if(o<l.perDayWidth&&o>h.perDayWidth){a=c[d+1];break}}var f=ie({},{},a,!0);p(this.parent.projectStartDate)&&this.roundOffDateToZoom(this.parent.cloneProjectStartDate,!0,o,f.bottomTier.unit,a),p(this.parent.projectEndDate)&&this.roundOffDateToZoom(this.parent.cloneProjectEndDate,!1,o,f.bottomTier.unit,a);var g=this.calculateNumberOfTimelineCells(f),m=this.parent.ganttChartModule.scrollElement.offsetHeight-17,y=this.parent.ganttChartModule.chartBodyContent.offsetHeight-1,v=y<=m?0:17;f.timelineUnitSize=Math.abs(s-v)/g;var M={requestType:"beforeZoomToProject",timeline:f};this.parent.toolbarModule&&this.parent.toolbarModule.enableItems([this.parent.controlId+"_zoomin",this.parent.controlId+"_zoomout"],!0),this.parent.trigger("actionBegin",M),M.cancel||(this.parent.showLoadingIndicator(),this.changeTimelineSettings(f),this.parent.isTimelineRoundOff=!!p(this.parent.projectStartDate)),this.isZoomToFit=!1}},r.prototype.bottomTierCellWidthCalc=function(e,t,i){var n;switch(e){case"Minutes":n=t.bottomTier.count*(60*1e3);break;case"Hour":n=t.bottomTier.count*(60*60*1e3);break;case"Week":n=t.bottomTier.count*(7*24*60*60*1e3);break;case"Day":n=t.bottomTier.count*(24*60*60*1e3);break;case"Month":{var s=new Date(i.getFullYear(),i.getMonth()+1,0).getDate();n=t.bottomTier.count*(60*60*24*s*1e3);break}case"Year":{var o=i.getFullYear()%400===0||i.getFullYear()%100!==0&&i.getFullYear()%4===0?366:365;n=t.bottomTier.count*(60*60*24*o*1e3);break}}return n},r.prototype.roundOffDateToZoom=function(e,t,i,n,s){var o=this.bottomTierCellWidthCalc(n,s,e);t?e.setTime(e.getTime()-o):e.setTime(e.getTime()+o)},r.prototype.calculateNumberOfTimelineCells=function(e){var t=new Date(this.parent.cloneProjectStartDate.getTime()),i=new Date(this.parent.cloneProjectEndDate.getTime());this.parent.dateValidationModule.updateDateWithTimeZone(t,i);var n,s=0;this.parent.timelineSettings.showWeekend||(s=this.calculateNonWorkingDaysBetweenDates(this.parent.cloneProjectStartDate,this.parent.cloneProjectEndDate)),n=Math.abs((i.getTime()-t.getTime())/(24*60*60*1e3)),n-=s;var o=e.bottomTier.count,a=e.bottomTier.unit;return a==="Day"?n/o:a==="Week"?n/o/7:a==="Month"?n/o/28:a==="Year"?n/o/(12*28):a==="Hour"?n*(24/o):n*(60*24/o)},r.prototype.processTimelineUnit=function(){var e=["timelineViewMode","timelineUnitSize","weekStartDay","weekendBackground"],t={topTier:["unit","format","count","formatter"],bottomTier:["unit","format","count","formatter"]},i=["Year","Month","Week","Day","Hour","Minutes"];this.customTimelineSettings=this.customTimelineSettings?this.customTimelineSettings:this.extendFunction(this.parent.timelineSettings,e,t),i.indexOf(this.customTimelineSettings.topTier.unit)===-1&&i.indexOf(this.customTimelineSettings.bottomTier.unit)===-1?(this.customTimelineSettings.topTier.unit=i.indexOf(this.customTimelineSettings.timelineViewMode)!==-1?this.customTimelineSettings.timelineViewMode:"Week",this.customTimelineSettings.bottomTier.unit=i.indexOf(this.customTimelineSettings.topTier.unit)!==5?i[i.indexOf(this.customTimelineSettings.topTier.unit)+1]:"None"):i.indexOf(this.customTimelineSettings.topTier.unit)!==-1&&i.indexOf(this.customTimelineSettings.bottomTier.unit)!==-1&&i.indexOf(this.customTimelineSettings.topTier.unit)>i.indexOf(this.customTimelineSettings.bottomTier.unit)?this.customTimelineSettings.bottomTier.unit=this.customTimelineSettings.topTier.unit:(this.customTimelineSettings.topTier.unit=i.indexOf(this.customTimelineSettings.topTier.unit)===-1?"None":this.customTimelineSettings.topTier.unit,this.customTimelineSettings.bottomTier.unit=i.indexOf(this.customTimelineSettings.bottomTier.unit)===-1?"None":this.customTimelineSettings.bottomTier.unit),this.topTier=this.customTimelineSettings.topTier.unit,this.bottomTier=this.customTimelineSettings.bottomTier.unit,this.previousIsSingleTier=this.isSingleTier,this.isSingleTier=this.topTier==="None"||this.bottomTier==="None"},r.prototype.processTimelineProperty=function(){this.customTimelineSettings.topTier.count=this.topTier==="None"?1:this.validateCount(this.customTimelineSettings.topTier.unit,this.customTimelineSettings.topTier.count,"topTier"),this.customTimelineSettings.bottomTier.count=this.customTimelineSettings.bottomTier.unit==="None"?1:this.validateCount(this.customTimelineSettings.bottomTier.unit,this.customTimelineSettings.bottomTier.count,"bottomTier"),this.customTimelineSettings.bottomTier.format=this.validateFormat(this.customTimelineSettings.bottomTier.unit,this.customTimelineSettings.bottomTier.format),this.customTimelineSettings.topTier.format=this.validateFormat(this.topTier,this.customTimelineSettings.topTier.format),this.customTimelineSettings.weekStartDay=this.customTimelineSettings.weekStartDay>=0&&this.customTimelineSettings.weekStartDay<=6?this.customTimelineSettings.weekStartDay:0,this.parent.pdfExportModule&&this.parent.pdfExportModule.helper.exportProps&&this.parent.pdfExportModule.isPdfExport&&this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth||this.checkCurrentZoomingLevel()},r.prototype.calculateZoomingLevelsPerDayWidth=function(){for(var e=this.parent.zoomingLevels,t=0;t<e.length;t++){var i=this.getPerDayWidth(e[t].timelineUnitSize,e[t].bottomTier.count,e[t].bottomTier.unit);e[t].perDayWidth=i}},r.prototype.checkCurrentZoomingLevel=function(){var e=this.customTimelineSettings.bottomTier.unit!=="None"?this.customTimelineSettings.bottomTier.count:this.customTimelineSettings.topTier.count,t=this.customTimelineSettings.bottomTier.unit!=="None"?this.customTimelineSettings.bottomTier.unit:this.customTimelineSettings.topTier.unit,i=this.customTimelineSettings.bottomTier.unit!=="None"?"bottomTier":"topTier",n=this.getCurrentZoomingLevel(t,e,i);return this.parent.toolbarModule&&(n===this.parent.zoomingLevels[this.parent.zoomingLevels.length-1].level?this.parent.toolbarModule.enableItems([this.parent.controlId+"_zoomin"],!1):n===this.parent.zoomingLevels[0].level&&this.parent.toolbarModule.enableItems([this.parent.controlId+"_zoomout"],!1)),this.parent.currentZoomingLevel=this.parent.zoomingLevels[n],n},r.prototype.getCurrentZoomingLevel=function(e,t,i){var n,s,o,a,l;this.parent.zoomingLevels.length||(this.parent.zoomingLevels=this.parent.getZoomingLevels());var h=this.parent.zoomingLevels.filter(function(f){return i==="bottomTier"?f.bottomTier.unit===e:f.topTier.unit===e});if(h.length===0){var u=this.getClosestUnit(e,"",!1);h=this.parent.zoomingLevels.filter(function(f){return i==="bottomTier"?f.bottomTier.unit===u:f.topTier.unit===u})}for(var c=h.sort(function(f,g){return i==="bottomTier"?!f.bottomTier.count||!g.bottomTier.count?0:f.bottomTier.count<g.bottomTier.count?1:-1:!f.topTier.count||!g.topTier.count?0:f.topTier.count<g.topTier.count?1:-1}),d=0;d<c.length;d++){if(l=c[d],d===c.length-1){n=c[d].level;break}else a=c[d+1];if(t>=l[""+i].count){s=c[d],o=c.filter(function(f){return i==="bottomTier"?f.bottomTier.count===s.bottomTier.count:f.topTier.count===s.topTier.count}),o.length>1?n=this.checkCollectionsWidth(o):n=o[0].level;break}else if(t<l[""+i].count&&t>a[""+i].count){s=c[d+1],o=c.filter(function(f){return i==="bottomTier"?f.bottomTier.count===s.bottomTier.count:f.topTier.count===s.topTier.count}),o.length>1?n=this.checkCollectionsWidth(o):n=o[0].level;break}}return n},r.prototype.getClosestUnit=function(e,t,i){var n=["Year","Month","Week","Day","Hour","Minutes"],s=n.indexOf(e);s===0&&(i=!0),this.isZoomIn||i?e=n[s+1]:e=n[s-1];var o=this.parent.zoomingLevels.filter(function(a){return a.bottomTier.unit===e});return o.length===0?(e==="Year"&&(i=!0),t=e,this.getClosestUnit(e,t,i)):e},r.prototype.checkCollectionsWidth=function(e){for(var t=e,i=this.customTimelineSettings.timelineUnitSize,n,s,o,a=t.sort(function(h,u){return h.timelineUnitSize<u.timelineUnitSize?1:-1}),l=0;l<a.length;l++){if(o=a[l],l===a.length-1){n=a[l].level;break}else s=a[l+1];if(i>=o.timelineUnitSize){n=a[l].level;break}else if(i<o.timelineUnitSize&&i>s.timelineUnitSize){n=a[l+1].level;break}}return n},r.prototype.updateTimelineHeaderHeight=function(){if(this.parent.timelineModule.isSingleTier?this.parent.element.classList.add(hy):this.parent.element.classList.remove(hy),this.previousIsSingleTier!==this.isSingleTier){var e=0;!p(this.parent.toolbarModule)&&!p(this.parent.toolbarModule.element)&&(e=this.parent.toolbarModule.element.offsetHeight),this.parent.ganttChartModule.scrollObject.setHeight(this.parent.ganttHeight-this.parent.ganttChartModule.chartTimelineContainer.offsetHeight-e),this.parent.treeGrid.height=this.parent.ganttHeight-e-this.parent.ganttChartModule.chartTimelineContainer.offsetHeight}},r.prototype.dateByLeftValue=function(e,t,i){var n=new Date(this.parent.timelineModule.timelineStartDate.toString()),s=24*60*60*1e3/this.parent.perDayWidth;if(this.parent.timelineSettings.showWeekend?n.setTime(n.getTime()+e*s):n=this.calculateDateExcludingNonWorkingDays(e,n),t&&!p(i.predecessorsName)&&i.predecessorsName!==""){n.setDate(n.getDate()-1);var o=this.parent.getCurrentDayEndTime(i.isAutoSchedule?i.autoEndDate:i.endDate);this.parent.dateValidationModule.setTime(o,n),n=this.parent.dateValidationModule.checkStartDate(n,i,!0)}var a=this.parent.timelineModule.bottomTier!=="None"?this.parent.timelineModule.topTier:this.parent.timelineModule.bottomTier;return a!=="Hour"&&a!=="Minutes"&&(this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString()))&&!this.parent.isInDst(n)?n.setTime(n.getTime()+60*60*1e3):!this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString()))&&this.parent.isInDst(n)&&n.setTime(n.getTime()-60*60*1e3)),n},r.prototype.calculateDateExcludingNonWorkingDays=function(e,t){var i=864e5/this.parent.perDayWidth,n=24*60*60*1e3,s=this.parent.nonWorkingDayIndex,o=Math.ceil(e*i/n),a=7,l=a-s.length,h=Math.floor(o/l),u=o%l,c=new Date(t);c.setDate(c.getDate()+h*a);for(var d=0;d<u;)c.setDate(c.getDate()+1),s.indexOf(c.getDay())===-1&&d++;return c},r.prototype.createTimelineSeries=function(){var e,t,i,n,s,o,a,l=this.isSingleTier?1:2,h=this.topTier==="None"?"bottomTier":"topTier";this.topTierCollection=[],this.bottomTierCollection=[];var u=!this.parent.pdfExportModule||this.parent.pdfExportModule&&!this.parent.pdfExportModule.isPdfExport||this.parent.pdfExportModule&&this.parent.pdfExportModule.isPdfExport&&this.parent.pdfExportModule.helper.exportProps&&!this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth;if(this.restrictRender===!0&&(this.wholeTimelineWidth=this.calculateWidthBetweenTwoDate(h,this.parent.timelineModule.timelineStartDate,this.parent.timelineModule.timelineEndDate)),this.parent.enableTimelineVirtualization&&this.wholeTimelineWidth>this.parent.element.offsetWidth*3){for(var c=0;c<l;c++){n=Be("table",{className:ih,styles:"display: block;"}),n.setAttribute("role","none"),s=Be("thead",{className:j1,styles:"display:block; border-collapse:collapse"});var d=this.createTimelineTemplate(h);e=Be("tr"),this.parent.enableHover&&e.classList.add("e-timeline-cell-hover"),Array.from(d.childNodes).forEach(function(f){e.appendChild(f)}),t=Be("td"),i=Be("div",{styles:"width: 20px"}),o=Be("div",{className:iZ}),a=Be("div",{className:nZ}),t.appendChild(i),e.appendChild(t),o.appendChild(e),s.appendChild(o),s.appendChild(a),n.appendChild(s),u&&this.parent.ganttChartModule.chartTimelineContainer.appendChild(n),h="bottomTier",e=null,this.restrictRender=!1}this.updateTimelineHeaderHeight(),this.timelineVirtualizationStyles()}else{for(var c=0;c<l;c++){n=Be("table",{className:ih,styles:"display: block;"}),n.setAttribute("role","none"),s=Be("thead",{className:j1,styles:"display:block; border-collapse:collapse"});var d=this.createTimelineTemplate(h);e=Be("tr"),this.parent.enableHover&&e.classList.add("e-timeline-cell-hover"),Array.from(d.childNodes).forEach(function(m){e.appendChild(m)}),t=Be("td"),i=Be("div",{styles:"width: 20px"}),t.appendChild(i),e.appendChild(t),s.appendChild(e),n.appendChild(s),u&&this.parent.ganttChartModule.chartTimelineContainer.appendChild(n),h="bottomTier",e=null}this.updateTimelineHeaderHeight(),this.wholeTimelineWidth=this.totalTimelineWidth}},r.prototype.timelineVirtualizationStyles=function(){var e=0,t=0,i=this.wholeTimelineWidth;if(this.parent.enableTimelineVirtualization){e=this.parent.enableTimelineVirtualization&&!p(this.parent.ganttChartModule.scrollObject.element.scrollLeft)&&this.parent.ganttChartModule.scrollObject.element.scrollLeft!==0?this.parent.ganttChartModule.scrollObject.getTimelineLeft():0,this.parent.enableRtl&&(e=-e);var n=this.parent.element.querySelectorAll(".e-chart-scroll-container")[0].querySelector(".e-virtualtable");(!this.parent.undoRedoModule||this.parent.undoRedoModule&&!this.parent.undoRedoModule.isZoomingUndoRedoProgress)&&(n.style.transform="translate("+e+"px, "+t+"px)");var s=this.parent.element.querySelectorAll(".e-chart-scroll-container")[0].querySelector(".e-virtualtrack");if(s.style.position="relative",s.style.width=i+"px",this.parent.ganttChartModule.scrollObject.isSetScrollLeft){var o=this.parent.element.querySelectorAll(".e-timeline-header-table-container")[0].querySelector(".e-virtualtable"),a=void 0;p(this.parent.element.querySelectorAll(".e-timeline-header-table-container")[1])||(a=this.parent.element.querySelectorAll(".e-timeline-header-table-container")[1].querySelector(".e-virtualtable")),o.style.transform="translate("+e+"px, "+t+"px)",p(a)||(a.style.transform="translate("+e+"px, "+t+"px)")}var l=this.parent.element.querySelectorAll(".e-timeline-header-table-container")[0].querySelector(".e-virtualtrack"),h=void 0;p(this.parent.element.querySelectorAll(".e-timeline-header-table-container")[1])||(h=this.parent.element.querySelectorAll(".e-timeline-header-table-container")[1].querySelector(".e-virtualtrack")),p(h)||(h.style.position="relative",h.style.width=i+"px"),l.style.position="relative",l.style.width=i+"px";var u=this.parent.connectorLineModule.svgObject;u.style.width=i+"px";var c=this.parent.element.querySelector("."+th);c.style.width="calc(100% - 17px)",(this.parent.timelineModule.isZooming||this.parent.timelineModule.isZoomToFit)&&(this.parent.ganttChartModule.scrollElement.scrollLeft=0,this.isZoomingAction=!0,this.parent.ganttChartModule.scrollObject.updateChartElementStyles())}},r.prototype.validateCount=function(e,t,i){var n=!p(t)&&parseInt(t.toString(),10)>0?parseInt(t.toString(),10):1,s=Math.abs(this.timelineRoundOffEndDate.getTime()-this.timelineStartDate.getTime()),o;switch(e){case"Year":o=Math.round(s/(1e3*3600*24)/(12*28)),n=n<=o?n:o>0?o:1,this.topTier!=="None"&&i==="bottomTier"&&(n=this.validateBottomTierCount(e,n));break;case"Month":o=Math.round(s/(1e3*3600*24)/28),n=n<=o?n:o>0?o+1:1,this.topTier!=="None"&&i==="bottomTier"&&(n=this.validateBottomTierCount(e,n));break;case"Week":o=Math.round(s/(1e3*3600*24)/7),n=n<=o?n:o>0?o:1,this.topTier!=="None"&&i==="bottomTier"&&(n=this.validateBottomTierCount(e,n));break;case"Day":o=Math.round(s/(1e3*3600*24)),n=n<=o?n:o>0?o:1,this.topTier!=="None"&&i==="bottomTier"&&(n=this.validateBottomTierCount(e,n));break;case"Hour":o=Math.round(s/(1e3*3600)),n=n<=o?n:o>0?o:1,this.topTier!=="None"&&i==="bottomTier"&&(n=this.validateBottomTierCount(e,n));break;case"Minutes":o=Math.round(s/(1e3*60)),n=n<=o?n:o>0?o:1,this.topTier!=="None"&&i==="bottomTier"&&(n=this.validateBottomTierCount(e,n));break}return t!==n&&this.isZooming&&this.parent.toolbarModule&&(i==="bottomTier"||this.isSingleTier)&&(this.isZoomIn?this.parent.toolbarModule.enableItems([this.parent.controlId+"_zoomin"],!1):this.parent.toolbarModule.enableItems([this.parent.controlId+"_zoomout"],!1)),n},r.prototype.validateBottomTierCount=function(e,t){var i;switch(e){case"Year":i=t<=this.customTimelineSettings.topTier.count?t:this.customTimelineSettings.topTier.count;break;case"Month":i=this.topTier==="Year"?t<=this.customTimelineSettings.topTier.count*12?t:this.customTimelineSettings.topTier.count*12:t<=this.customTimelineSettings.topTier.count?t:this.customTimelineSettings.topTier.count;break;case"Week":i=this.topTier==="Year"?t<=this.customTimelineSettings.topTier.count*(12*4)?t:this.customTimelineSettings.topTier.count*(12*4):this.topTier==="Month"?t<=this.customTimelineSettings.topTier.count*4?t:this.customTimelineSettings.topTier.count*4:t<=this.customTimelineSettings.topTier.count?t:this.customTimelineSettings.topTier.count;break;case"Day":i=this.topTier==="Year"?t<=this.customTimelineSettings.topTier.count*(12*28)?t:this.customTimelineSettings.topTier.count*(12*28):this.topTier==="Month"?t<=this.customTimelineSettings.topTier.count*28?t:this.customTimelineSettings.topTier.count*28:this.topTier==="Week"?t<=this.customTimelineSettings.topTier.count*7?t:this.customTimelineSettings.topTier.count*7:t<=this.customTimelineSettings.topTier.count?t:this.customTimelineSettings.topTier.count;break;case"Hour":i=this.topTier==="Year"?t<=this.customTimelineSettings.topTier.count*(12*28*24)?t:this.customTimelineSettings.topTier.count*(12*28*24):this.topTier==="Month"?t<=this.customTimelineSettings.topTier.count*(28*24)?t:this.customTimelineSettings.topTier.count*(28*24):this.topTier==="Week"?t<=this.customTimelineSettings.topTier.count*7*24?t:this.customTimelineSettings.topTier.count*7*24:this.topTier==="Day"?t<=this.customTimelineSettings.topTier.count*24?t:this.customTimelineSettings.topTier.count*24:t<=this.customTimelineSettings.topTier.count?t:this.customTimelineSettings.topTier.count;break;case"Minutes":i=this.topTier==="Year"?t<=this.customTimelineSettings.topTier.count*(12*28*24*60)?t:this.customTimelineSettings.topTier.count*(12*28*24*60):this.topTier==="Month"?t<=this.customTimelineSettings.topTier.count*(28*24*60)?t:this.customTimelineSettings.topTier.count*(28*24*60):this.topTier==="Week"?t<=this.customTimelineSettings.topTier.count*7*24*60?t:this.customTimelineSettings.topTier.count*7*24*60:this.topTier==="Day"?t<=this.customTimelineSettings.topTier.count*24*60?t:this.customTimelineSettings.topTier.count*24*60:this.topTier==="Hour"?t<=this.customTimelineSettings.topTier.count*60?t:this.customTimelineSettings.topTier.count*60:t<=this.customTimelineSettings.topTier.count?t:this.customTimelineSettings.topTier.count;break}return i},r.prototype.validateFormat=function(e,t){var i;switch(e){case"Week":i=t||"MMM dd, yyyy";break;case"Day":case"None":i=t||"";break;case"Hour":i=t||"H";break;case"Month":i=t||"MMM yyyy";break;case"Year":i=t||"yyyy";break;case"Minutes":i=t||"m";break}return i},r.prototype.extendFunction=function(e,t,i){for(var n=this,s={},o=0;o<t.length;o++)s[t[o]]=e[t[o]];return i&&Object.keys(i).forEach(function(a){s[a]=n.extendFunction(e[a],i[a],null)}),s},r.prototype.formatDateHeader=function(e,t,i){var n=new Date(t.getTime()),s;if(e==="")if(s=this.parent.globalize.formatDate(n,{format:"E"}),this.parent.locale==="zh")s=s.slice(1);else if(this.parent.locale==="ar"){var o=s;s=o}else s=s.slice(0,1);else s=this.parent.globalize.formatDate(n,{format:e}),i&&(s=this.updateHourInFormat(e,s,i.getHours()).updatedFormat);return s},r.prototype.isDateAffectedByDST=function(e){for(var t=new Date(e),i=t.getTimezoneOffset(),n=1;n<=3;n++){var s=new Date(t.getTime()-n*60*60*1e3),o=s.getTimezoneOffset();if(o!==i)return!0}return!1},r.prototype.calculateIteration=function(e,t,i,n){e.setHours(t.getHours()),this.isFirstLoop&&this.parent.isInDst(t)&&this.isDateAffectedByDST(t)&&(e.setHours(e.getHours()-1),this.increaseIteration=!0),this.isFirstLoop=!1,e.setMinutes(t.getMinutes()),e.setSeconds(t.getSeconds()),e.setMilliseconds(t.getMilliseconds());var s;if(i==="Hour"){var o=t.getHours();s=Math.ceil((24-o)/n)}else if(i==="Minutes"){var o=t.getHours(),a=t.getMinutes();s=Math.ceil((1440-(o*60+a))/n)}return this.increaseIteration&&(s+=1,this.increaseIteration=!1),{iterations:s,dummystartDate:e}},r.prototype.updateHourInFormat=function(e,t,i){var n=/(h{1,2})/,s=/(H{1,2})/,o=e.match(n)||e.match(s);if(!o)return{hasHour:!1,updatedFormat:t};var a=o[0],l=e.split(/[\s,:]+/),h=t.split(/[\s,:]+/),u=l.findIndex(function(g){return g.includes("h")||g.includes("H")});if(u===-1||u>=h.length)return{hasHour:!1,updatedFormat:t};function c(g,m){for(var y=String(g);y.length<m;)y="0"+y;return y}var d=c(i,a.length);h[u]=d;var f=h.join(" ");return{hasHour:!0,hourIndex:u,updatedFormat:f}},r.prototype.customFormat=function(e,t,i,n,s){return s=typeof s=="string"?H(s,window):s,s(e,t,i,n)},r.prototype.createTimelineTemplate=function(e){var t=!1,i=this.parent,n=Be("th"),s,o=e==="topTier"?i.timelineModule.customTimelineSettings.topTier.unit:i.timelineModule.customTimelineSettings.bottomTier.unit,a=e==="topTier"?i.timelineModule.customTimelineSettings.topTier.count:i.timelineModule.customTimelineSettings.bottomTier.count,l=i.timelineModule.customTimelineSettings.topTier,h=i.timelineModule.customTimelineSettings.bottomTier,u,c,d=this.parent.enableTimelineVirtualization&&this.parent.ganttChartModule.scrollObject.element.scrollLeft!==0?this.parent.ganttChartModule.scrollObject.getTimelineLeft():null,f=this.parent.enableTimelineVirtualization&&!p(d)?new Date(this.dateByLeftValue(d).toString()):new Date(this.parent.timelineModule.timelineStartDate.toString()),g=new Date(this.timelineRoundOffEndDate.toString()),m=[],y=new Set,v=0,M=this.parent.element.offsetWidth*3,S=this.parent.dataOperation.hasDSTTransition(f.getFullYear()),b=new Date(2e3,0,1,0,0,0,0),C=!1;this.isFirstLoop=!0;do{if(!this.parent.timelineSettings.showWeekend&&this.isNonWorkingDayHeader(o,e,f)){u=Math.abs(this.getIncrement(f,a,o,t,!0)),c=f.getTime()+u,f.setTime(c);continue}var T={};T.startDate=new Date(f.getTime());var k={};if((o==="Month"||o==="Hour")&&e==="bottomTier"&&a!==1&&m.length===0&&(t=!0),(o==="Hour"||o==="Minutes"&&a===60||l.unit==="Hour"&&h.unit==="Minutes")&&S){var N=this.calculateIteration(b,f,o,a),A=N.iterations;b.setTime(N.dummystartDate.getTime());for(var E=0;E<A;E++){T={},T.startDate=new Date(f.getTime()),f.getHours()!==b.getHours()&&(this.applyDstHour=!0),s=this.getHeaterTemplateString(new Date(f.toString()),o,e,!1,a,T,t,b);var x=new Date(f.toString()),D=x.getTime();y.has(D)||(y.add(D),m.push(x));var z=this.getIncrement(f,a,o,t,!0),w=z;(o==="Minutes"||o==="Hour")&&(this.dstIncreaseHour&&(this.fromDummyDate=!0,w=this.getIncrement(b,a,o,t,!0),this.dstIncreaseHour=!1,this.fromDummyDate=!1),b.setTime(b.getTime()+w),this.inconsistenceDstApplied?(f.setTime(f.getTime()+z-18e5),this.inconsistenceDstApplied=!1):f.setTime(f.getTime()+z)),t=!1,E===A-1&&f.getHours()!==0&&f.setHours(0),f.getHours()===23&&f.getHours()!==b.getHours()&&f.setHours(f.getHours()-1),f>=g&&(s=this.getHeaterTemplateString(m[m.length-1],o,e,!0,a,T),C=!0),n.appendChild(s);var O=e==="topTier"?this.topTierCollection:this.bottomTierCollection;if(T.endDate=new Date(f.getTime()),this.parent.pdfExportModule&&this.parent.pdfExportModule.isPdfExport&&this.parent.enableTimelineVirtualization?e==="topTier"?this.pdfExportTopTierCollection.push(T):this.pdfExportBottomTierCollection.push(T):O.push(T),v+=T.width,this.weekendEndDate=T.endDate>=g?g:T.endDate,C){C=!1;break}}this.applyDstHour=!1,o==="Hour"?k.day=Math.floor(A*a/24):o==="Minutes"&&(k.day=Math.floor(A*a/1440)),b=new Date(2e3,0,1,0,0,0,0)}else{if(s=this.getHeaterTemplateString(new Date(f.toString()),o,e,!1,a,T,t),m.push(new Date(f.toString())),t&&o==="Month"?c=this.calculateQuarterEndDate(f,a).getTime():(u=Math.abs(this.getIncrement(f,a,o,t,!0)),c=f.getTime()+u),t=!1,!this.parent.timelineSettings.showWeekend&&o==="Day"){for(var L=0,j=new Date(f);L<a;)j.setHours(0,0,0,0),j.setDate(j.getDate()+1),this.parent.nonWorkingDayIndex.indexOf(j.getDay())===-1&&L++;c=j.getTime()}f.setTime(c),(o==="Day"||o==="Month"||o==="Week")&&S&&f.setHours(0,0,0,0),f>=g&&(s=this.getHeaterTemplateString(m[m.length-1],o,e,!0,a,T)),n.appendChild(s);var O=e==="topTier"?this.topTierCollection:this.bottomTierCollection;T.endDate=new Date(f.getTime()),this.parent.pdfExportModule&&this.parent.pdfExportModule.isPdfExport&&this.parent.enableTimelineVirtualization?e==="topTier"?this.pdfExportTopTierCollection.push(T):this.pdfExportBottomTierCollection.push(T):O.push(T),v+=T.width,this.weekendEndDate=T.endDate>=g?g:T.endDate}}while(this.parent.enableTimelineVirtualization&&(!this.parent.pdfExportModule||this.parent.pdfExportModule&&!this.parent.pdfExportModule.isPdfExport)?v<M&&f<g:f<g);return n},r.prototype.isNonWorkingDayHeader=function(e,t,i){return(e==="Day"||e==="Hour"||e==="Minutes")&&this.parent.nonWorkingDayIndex.indexOf(i.getDay())!==-1},r.prototype.updateTimelineAfterZooming=function(e,t){var i,n,s,o,a=document.getElementsByClassName("e-chart-scroll-container e-content")[0];if(!p(a)&&!(this.parent.pdfExportModule&&this.parent.pdfExportModule.isPdfExport)){!this.parent.isLoad&&this.parent.splitterModule&&this.parent.splitterModule.splitterObject&&this.parent.splitterSettings.view==="Chart"?o=a.offsetWidth+this.parent.splitterModule.splitterObject.allPanes[0].offsetWidth:o=a.offsetWidth;var l=a.offsetHeight,h=document.getElementsByClassName("e-chart-rows-container")[0].offsetHeight;if(i=Math.abs(this.timelineStartDate.getTime()-e.getTime()),i=i/(1e3*3600*24),this.bottomTier==="None"?n=this.getPerDayWidth(this.customTimelineSettings.timelineUnitSize,this.customTimelineSettings.topTier.count,this.topTier):n=this.getPerDayWidth(this.customTimelineSettings.timelineUnitSize,this.customTimelineSettings.bottomTier.count,this.bottomTier),l<h?s=n*i+17:s=n*i,o>=s){var u=o-s;if(this.parent.timelineSettings.showWeekend)u=Math.round(u/n),e.setDate(e.getDate()+u);else{for(var c=864e5,d=c/n,f=Math.floor(o*d/c),g=this.parent.nonWorkingDayIndex.length,m=7-g,y=Math.floor(f/m),v=f%m,M=y*7+v,S=e.getDay();v>0;)S=(S+1)%7,this.parent.nonWorkingDayIndex.indexOf(S)===-1&&v--,M++;e.setDate(e.getDate()+M)}this.parent.timelineModule.timelineEndDate=e,t&&this.parent.updateProjectDates(this.timelineStartDate,this.timelineEndDate,this.parent.isTimelineRoundOff)}}},r.prototype.getTimelineRoundOffEndDate=function(e){var t=this.topTier==="None"?this.bottomTier:this.topTier,i=new Date(e.toString());return this.parent.isTimelineRoundOff&&(t==="Hour"?i.setMinutes(60):t==="Minutes"?i.setSeconds(60):i.setHours(24,0,0,0)),p(this.parent.projectEndDate)&&this.updateTimelineAfterZooming(i,!1),i},r.prototype.getIncrement=function(e,t,i,n,s){var o=new Date(e.getTime()),a=new Date(e.getTime()),l,h=!1,u=new Date(o);switch(i){case"Year":{o=e,a=new Date(e.getFullYear()+(t-1),11,31);var c=ns(e),d=this.resetToNextYear(e,t),f=d-c;l=this.adjustForDST(o,a,f,a.getTime()-o.getTime()+1e3*60*60*24,s,!0);break}case"Month":{o=e,a=new Date(e.getFullYear(),e.getMonth()+t,1);var c=ns(e),d=this.resetToNextMonth(e,t),g=d-c;l=this.adjustForDST(o,a,g,a.getTime()-o.getTime(),s,!0);break}case"Week":{var m=this.parent.timelineModule.customTimelineSettings.weekStartDay,y=e.getDay()<m?m-e.getDay():6-e.getDay()+m;t=y>0?t-1:0,a.setHours(24,0,0,0),y=e.getDay()<m&&y>0?y-1:y,a.setDate(a.getDate()+(y+7*t));var v=this.resetToNextDay(e),c=ns(e),d=v+(y+7*t)*24*60*60*1e3,M=d-c;l=this.adjustForDST(o,a,M,a.getTime()-o.getTime(),s,!0);break}case"Day":{a.setHours(24,0,0,0);var v=this.resetToNextDay(o),c=ns(o),d=v+(t-1)*24*60*60*1e3,S=d-c;l=a.getTime()-o.getTime()+1e3*60*60*24*(t-1);var b=new Date(o);b.setTime(b.getTime()+l),l=this.adjustForDST(o,b,S,b.getTime()-o.getTime(),s,!0);break}case"Hour":{a.setMinutes(60),a.setSeconds(0);var C=this.resetToNextHour(o),c=ns(o),d=C+(t-1)*60*60*1e3,T=d-c;l=a.getTime()-o.getTime()+1e3*60*60*(t-1);var b=new Date(o);b.setTime(b.getTime()+l),n&&t===12&&o.getHours()!==0&&b.setHours(0,0,0,0);var k=new Date(o);k.setHours(k.getHours()-t);var N=o.getTimezoneOffset()-k.getTimezoneOffset();N===-30&&(b.setMinutes(b.getMinutes()+30),this.inconsistenceDstApplied=!0),b.getHours()<u.getHours()+t&&(h=!0),l=this.adjustForDST(o,b,T,b.getTime()-o.getTime(),s,h);break}case"Minutes":{a.setSeconds(60);var A=this.resetToNextMinute(o),c=ns(o),d=A+(t-1)*60*1e3,E=d-c;l=a.getTime()-o.getTime()+1e3*60*(t-1);var b=new Date(o);b.setTime(b.getTime()+l),b.getMinutes()<=u.getMinutes()&&(h=!0),l=this.adjustForDST(o,b,E,b.getTime()-o.getTime(),s,h);break}}return l},r.prototype.resetToNextYear=function(e,t){var i=e.getFullYear()+t;return Date.UTC(i,0,1,0,0,0,0)},r.prototype.resetToNextMonth=function(e,t){var i=e.getFullYear(),n=e.getMonth();return Date.UTC(i,n+t,1,0,0,0,0)},r.prototype.resetToNextDay=function(e){var t=e.getFullYear(),i=e.getMonth(),n=e.getDate();return Date.UTC(t,i,n+1,0,0,0,0)},r.prototype.resetToNextHour=function(e){var t=e.getFullYear(),i=e.getMonth(),n=e.getDate(),s=e.getHours();return Date.UTC(t,i,n,s+1,0,0,0)},r.prototype.resetToNextMinute=function(e){var t=e.getFullYear(),i=e.getMonth(),n=e.getDate(),s=e.getHours(),o=e.getMinutes();return Date.UTC(t,i,n,s,o+1,0,0)},r.prototype.adjustForDST=function(e,t,i,n,s,o){if(!this.parent.dataOperation.hasDSTTransition(e.getFullYear())||this.inconsistenceDstApplied)return n;var a=n-i;return t.getTimezoneOffset()>e.getTimezoneOffset()&&s?(this.dstIncreaseHour=!0,this.fromDummyDate?i:o?n+60*60*1e3:n):(a>0?n-=a:a<0&&(n+=Math.abs(a)),i-n===0,n)},r.prototype.isWeekendHeaderCell=function(e,t,i){return(e==="Day"||e==="Hour"||e==="Minutes")&&(this.customTimelineSettings[t].count===1||e==="Hour"||e==="Minutes")&&this.parent.nonWorkingDayIndex.indexOf(i.getDay())!==-1},r.prototype.calculateQuarterEndDate=function(e,t){var i=e.getMonth();return t===3?i>=0&&i<=2?new Date(e.getFullYear(),3,1):i>=3&&i<=5?new Date(e.getFullYear(),6,1):i>=6&&i<=8?new Date(e.getFullYear(),9,1):new Date(e.getFullYear()+1,0,1):i>=0&&i<=5?new Date(e.getFullYear(),6,1):new Date(e.getFullYear()+1,0,1)},r.prototype.calculateTotalHours=function(e,t){var i=0;switch(e){case"Hour":i=1*t;break;case"Day":i=24*t;break;case"Week":i=7*24*t;break;case"Minutes":i=t/60;break}return i},r.prototype.getHeaterTemplateString=function(e,t,i,n,s,o,a,l){var h="",u,c=null;p(this.parent.timelineTemplate)||(c=this.parent.chartRowsModule.templateCompiler(this.parent.timelineTemplate));var d=i==="topTier"?this.parent.timelineModule.customTimelineSettings.topTier.format:this.parent.timelineModule.customTimelineSettings.bottomTier.format,f=i==="topTier"?this.parent.timelineModule.customTimelineSettings.topTier.formatter:this.parent.timelineModule.customTimelineSettings.bottomTier.formatter,g,m=this.getIncrement(e,s,t,a);if(!this.parent.timelineSettings.showWeekend&&((t==="Week"||t==="Month"||t==="Year")&&i==="topTier"&&this.parent.currentZoomingLevel.bottomTier.unit==="Day"||this.parent.currentZoomingLevel.bottomTier.unit==="Hour"||this.isZoomToFit)){var y=new Date(e),v=new Date(e),M=new Date(v.getTime()+m);M.setHours(0,0,0,0);var S=this.calculateNonWorkingDaysBetweenDates(y,M);m=m-S*24*60*60*1e3}g=Math.abs(m/(1e3*60*60*24)*this.parent.perDayWidth);var b=g;g=n?this.calculateWidthBetweenTwoDate(t,e,this.timelineRoundOffEndDate,o,n):a&&t!=="Hour"?this.calculateWidthBetweenTwoDate(t,e,this.calculateQuarterEndDate(e,s)):g,this.isFirstLoop&&this.parent.isInDst(e)&&e.getHours()===1&&this.isDateAffectedByDST(e)&&(g+=this.parent.perDayWidth/24),this.isFirstLoop=!1;var C=this.isWeekendHeaderCell(t,i,e),T=i==="topTier"?" e-gantt-top-cell-text":"";a&&e.getHours()===20&&s===12&&i==="bottomTier"&&this.parent.timelineModule.customTimelineSettings.bottomTier.unit==="Hour"&&e.setTime(e.getTime()-1e3*60*60*20);var k=new Date(e);if(this.parent.timelineSettings.showWeekend)k=new Date(e);else{var N=this.isWeekend(k);if(N)for(;this.parent.nonWorkingDayIndex.indexOf(k.getDay())!==-1;)k.setDate(k.getDate()+1)}var A=p(f)?this.parent.globalize.formatDate(k,{format:this.parent.getDateFormat()}):this.customFormat(k,d,i,t,f),E;if(this.applyDstHour?E=p(f)?this.formatDateHeader(d,k,l):this.customFormat(k,d,i,t,f):E=p(f)?this.formatDateHeader(d,k):this.customFormat(k,d,i,t,f),!p(c)){var x={date:A,tier:i,value:E};u=c(ie({},x),this.parent,"TimelineTemplate",this.parent.chartRowsModule.getTemplateID("TimelineTemplate"),!1,void 0,null,this.parent.root);var D=u[0];D instanceof HTMLElement&&(D.setAttribute("data-tier",i),D.setAttribute("date",A),D.setAttribute("value",E))}var z=this.parent.timelineModule.isSingleTier?tZ:ZJ,w=C?" "+eZ:"",O=Be("th",{className:""+z+w,styles:"width:"+g+"px;"+(C&&this.customTimelineSettings.weekendBackground?"background-color:"+this.customTimelineSettings.weekendBackground+";":"")});C&&this.parent.enableHover&&O.classList.add("e-weekend-cell-hover"),O.tabIndex=-1,O.setAttribute("aria-label",this.parent.localeObj.getConstant("timelineCell")+" "+A);var L=Be("div",{className:""+XJ+T,styles:"width:"+(g-1)+"px;"});return L.title=this.parent.timelineSettings.showTooltip?A:"",L.textContent=E,L.setAttribute("data-tier",i),this.parent.isReact&&!p(u)&&u.length>0&&(u[0].style.width="100%",u[0].style.height="100%"),!p(c)&&!p(u)&&u.length>0?Ct(u,O):O.append(L),h+=O.outerHTML,(this.isSingleTier||i==="topTier")&&!n?this.totalTimelineWidth=this.totalTimelineWidth+g:(this.isSingleTier||i==="topTier")&&n&&(this.totalTimelineWidth=this.totalTimelineWidth-b+g),o.value=E,o.isWeekend=C,o.width=g,O},r.prototype.calculateNonWorkingDaysBetweenDates=function(e,t){for(var i=864e5,n=Math.ceil((t.getTime()-e.getTime())/i),s=Math.floor(n/7),o=n%7,a=this.parent.nonWorkingDayIndex.length,l=s*a,h=e.getDay(),u=0;u<o;u++){var c=(h+u)%7;this.parent.nonWorkingDayIndex.indexOf(c)!==-1&&l++}return l},r.prototype.isWeekend=function(e){var t=e.getDay();return this.parent.nonWorkingDayIndex.indexOf(t)!==-1},r.prototype.calculateWidthBetweenTwoDate=function(e,t,i,n,s){var o=new Date(t.getTime()),a=new Date(i.getTime());this.parent.dateValidationModule.updateDateWithTimeZone(o,a);var l=a.getTime()-o.getTime(),h=l/(1e3*60*60*24);if(!this.parent.timelineSettings.showWeekend&&(this.parent.currentZoomingLevel.bottomTier.unit==="Day"||this.parent.currentZoomingLevel.bottomTier.unit==="Hour"||this.isZoomToFit)){var u=Math.floor(h/7),c=u*(7-this.parent.nonWorkingDayIndex.length),d=h%7;if(d>1||c>1){for(var f=0,g=new Date(o),m=0;m<d;m++){var y=g.getDay();this.parent.nonWorkingDayIndex.indexOf(y)===-1&&f++,g.setDate(g.getDate()+1)}var v=c+f;return v*this.parent.perDayWidth}else return this.isZoomToFit&&s?n.width:h*this.parent.perDayWidth}else return h*this.parent.perDayWidth},r.prototype.timelineWidthCalculation=function(){var e=this.customTimelineSettings.timelineUnitSize,t=this.customTimelineSettings.bottomTier.count,i=this.customTimelineSettings.topTier.count;this.bottomTierCellWidth=e,this.bottomTier==="None"?this.parent.perDayWidth=this.getPerDayWidth(e,i,this.topTier):this.parent.perDayWidth=this.getPerDayWidth(e,t,this.bottomTier),this.topTierCellWidth=this.bottomTier!=="None"?this.topTier==="Week"?this.parent.perDayWidth*7:this.topTier==="Hour"?this.parent.perDayWidth/24:this.topTier==="Minutes"?this.parent.perDayWidth/(24*60):this.parent.perDayWidth:e,this.topTierCellWidth=this.isSingleTier?this.topTierCellWidth:this.topTierCellWidth*i},r.prototype.getPerDayWidth=function(e,t,i){var n;switch(i){case"Year":n=e/t/(12*28);break;case"Month":n=e/t/28;break;case"Week":n=e/t/7;break;case"Day":n=e/t;break;case"Hour":n=24/t*e;break;case"Minutes":n=60*24/t*e;break}return n},r.prototype.roundOffDays=function(){var e=this.parent.cloneProjectStartDate,t=this.parent.cloneProjectEndDate,i=this.topTier==="None"?this.bottomTier:this.topTier;if(this.parent.isTimelineRoundOff){if(i==="Year")e=new Date(e.getFullYear(),0,1),t=new Date(t.getFullYear(),11,31);else if(i==="Month")e=new Date(e.getFullYear(),e.getMonth(),1),t=new Date(t.getFullYear(),t.getMonth()+1,0);else if(i==="Week"){var n=p(this.customTimelineSettings.weekStartDay)?0:this.parent.timelineModule.customTimelineSettings.weekStartDay,s=e.getDay()<n?e.getDate()-(7-n+e.getDay()):e.getDate()-e.getDay()+n;if(!this.parent.timelineSettings.showWeekend)for(;this.isWeekend(new Date(e.getFullYear(),e.getMonth(),s));)s++;e.setDate(s);var o=t.getDate()-t.getDay(),a=o+6+n;t.setDate(a)}i==="Hour"?e.setMinutes(0):i==="Minutes"?e.setSeconds(0):e.setHours(0,0,0,0)}this.timelineStartDate=e,this.timelineEndDate=t,this.timelineRoundOffEndDate=this.getTimelineRoundOffEndDate(this.timelineEndDate)},r.prototype.updateScheduleDatesByToolBar=function(e,t,i,n){var s=this;if(e==="Year"&&(t==="prevTimeSpan"?i.getMonth()===0?i=new Date(i.getFullYear()-1,0,1):i=new Date(i.getFullYear(),0,1):n.getMonth()===11?n=new Date(n.getFullYear()+1,0,1):n=new Date(n.getFullYear(),12,1)),e==="Month"&&(t==="prevTimeSpan"?i.getDate()===1?i=new Date(i.getFullYear(),i.getMonth()-1,1):i=new Date(i.getFullYear(),i.getMonth(),1):n=new Date(n.getFullYear(),n.getMonth()+1,1)),e==="Week"){var o=this.parent.timelineModule.customTimelineSettings.weekStartDay,a=void 0;if(t==="prevTimeSpan")if(this.parent.timelineSettings.showWeekend)a=i.getDay()<o?7-(o-i.getDay()):i.getDay()-o,i.setHours(0,0,0,0),a===0?i.setDate(i.getDate()-7):i.setDate(i.getDate()-a);else{var l=Array.from({length:7},function(f,g){return g}),h=l.filter(function(f){return s.parent.nonWorkingDayIndex.indexOf(f)===-1});if(i.setHours(0,0,0,0),this.parent.timelineModule.customTimelineSettings.weekStartDay>1)for(;;){i.setDate(i.getDate()-1);var u=i.getDay();if(h.indexOf(u)!==-1&&u===this.parent.timelineModule.customTimelineSettings.weekStartDay)break}else for(var c=0;c<h.length;){i.setDate(i.getDate()-1);var d=i.getDay();h.indexOf(d)!==-1&&c++}}else a=n.getDay()<o?o-n.getDay():7-n.getDay()+o,n.setHours(0,0,0,0),a===0?n.setDate(n.getDate()+6):n.setDate(n.getDate()+a)}if(e==="Day")if(t==="prevTimeSpan")if(i.getHours()===0){if(i.setTime(i.getTime()-1e3*60*60*24),!this.parent.timelineSettings.showWeekend)for(;this.parent.nonWorkingDayIndex.indexOf(i.getDay())!==-1;)i.setTime(i.getTime()-1e3*60*60*24)}else i.setHours(0);else if(n.getHours()===0){if(n.setTime(n.getTime()+1e3*60*60*24),!this.parent.timelineSettings.showWeekend)for(;this.parent.nonWorkingDayIndex.indexOf(n.getDay())!==-1;)n.setTime(n.getTime()+1e3*60*60*24)}else n.setHours(24);e==="Hour"&&(t==="prevTimeSpan"?i.getMinutes()===0?i.setTime(i.getTime()-1e3*60*60):i.setMinutes(0):n.getMinutes()===0?n.setTime(n.getTime()+1e3*60*60):n.setMinutes(60)),e==="Minutes"&&(t==="prevTimeSpan"?i.getSeconds()===0?i.setTime(i.getTime()-1e3*60):i.setSeconds(0):n.getSeconds()===0?n.setTime(n.getTime()+1e3*60):n.setSeconds(60)),this.parent.cloneProjectStartDate=i,this.parent.cloneProjectEndDate=n},r.prototype.updateTimeLineOnEditing=function(e,t){if(e[0].length>=1)for(var i=0;i<e.length;i++){var n=e[parseInt(i.toString(),10)],s=n.filter(function(b){return!p(b.ganttProperties.startDate)}),o=n.filter(function(b){return!p(b.ganttProperties.endDate)}),a=s.length>0?new Date(re.aggregates.min(s,"ganttProperties.startDate")):null,l=s.length>0?new Date(re.aggregates.min(o,"ganttProperties.endDate")):null,h=o.length>0?new Date(re.aggregates.max(o,"ganttProperties.endDate")):null,u=new Date(this.parent.dataOperation.checkStartDate(this.timelineStartDate).getTime()),c=new Date(this.parent.dataOperation.checkEndDate(this.timelineEndDate).getTime()),d=p(a)?null:this.parent.dataOperation.getTaskLeft(a,!1,s[0].ganttProperties.calendarContext),f=p(h)?null:this.parent.dataOperation.getTaskLeft(h,!1,o[0].ganttProperties.calendarContext),g=this.parent.dataOperation.getTaskLeft(u,!1,this.parent.defaultCalendarContext),m=this.parent.dataOperation.getTaskLeft(c,!1,this.parent.defaultCalendarContext),y=void 0,v=this.parent.editModule.taskbarEditModule,M=s.length>0?new Date(re.aggregates.min(s,"ganttProperties.startDate")).setHours(0,0,0,0):null,S=new Date(this.timelineStartDate.getTime()).setHours(0,0,0,0);!p(d)&&!p(v)&&(v.taskBarEditAction&&v.taskBarEditAction!=="RightResizing"||p(v.taskBarEditAction))&&M<=S&&(d<this.bottomTierCellWidth||d<=g)?(y="prevTimeSpan",a=a>this.timelineStartDate?this.timelineStartDate:a):a=this.timelineStartDate,!p(f)&&f>=(this.parent.enableTimelineVirtualization?this.wholeTimelineWidth:this.totalTimelineWidth)-this.bottomTierCellWidth&&f>m?(y=y==="prevTimeSpan"?"both":"nextTimeSpan",h=h<this.timelineEndDate?this.timelineEndDate:h):h=this.timelineEndDate,y?this.performTimeSpanAction(y,t,a,h):p(n[0].ganttProperties.segments)||this.parent.dataOperation.updateWidthLeft(n[0]),!p(a)&&!p(l)&&l<=a&&(t==="CellEditing"||t==="DialogEditing")&&this.parent.allowUnscheduledTasks?(a=new Date(Math.min(a.getTime(),l.getTime())),a=new Date(Math.min(a.getTime(),this.timelineStartDate.getTime())),this.performTimeSpanAction("prevTimeSpan",t,a,h)):p(l)&&l<=a&&(t==="CellEditing"||t==="DialogEditing")&&this.parent.allowUnscheduledTasks&&e[0].length===1&&!p(e[0][0].ganttProperties.endDate)&&p(n[0].ganttProperties.startDate)&&n[0].ganttProperties.endDate<=this.timelineStartDate&&(a=new Date(Math.min(e[0][0].ganttProperties.endDate.getTime(),a.getTime())),this.performTimeSpanAction("prevTimeSpan",t,a,h));break}},r.prototype.performTimeSpanAction=function(e,t,i,n,s){s=p(s)?this.parent.timelineModule.topTier==="None"?this.parent.timelineModule.bottomTier:this.parent.timelineModule.topTier:s;var o=new Date(this.parent.cloneProjectStartDate.getTime()),a=new Date(this.parent.cloneProjectEndDate.getTime());t!=="publicMethod"&&e==="both"?(this.updateScheduleDatesByToolBar(s,"prevTimeSpan",i,n),this.updateScheduleDatesByToolBar(s,"nextTimeSpan",new Date(this.parent.cloneProjectStartDate.getTime()),n)):this.updateScheduleDatesByToolBar(s,e,i,n);var l=this.timeSpanActionEvent("actionBegin",e,t);if(l.cancel)this.parent.cloneProjectStartDate=o,this.parent.cloneProjectEndDate=a;else{this.restrictRender=!0,this.performedTimeSpanAction=!0;var h=this.parent.ganttChartModule.scrollElement.scrollLeft;if(this.parent.updateProjectDates(l.projectStartDate,l.ProjectEndDate,l.isTimelineRoundOff,t),e==="prevTimeSpan"&&t==="publicMethod")this.parent.ganttChartModule.updateScrollLeft(0),this.parent.timelineModule.isZoomToFit=!1;else if(e==="nextTimeSpan"&&t==="publicMethod")this.parent.ganttChartModule.updateScrollLeft(this.parent.enableTimelineVirtualization?this.wholeTimelineWidth:this.totalTimelineWidth),this.parent.timelineModule.isZoomToFit=!1;else if(e==="nextTimeSpan"&&t==="TaskbarEditing"){var u=document.getElementsByClassName("e-chart-scroll-container e-content")[0].scrollLeft;this.parent.element.querySelector(".e-timeline-header-container").scrollLeft=u,this.parent.timelineModule.isZoomToFit=!1}t==="TaskbarEditing"&&this.parent.enableTimelineVirtualization&&this.wholeTimelineWidth>this.parent.element.offsetWidth*3&&(this.parent.ganttChartModule.scrollObject.setScrollLeft(h),this.parent.ganttChartModule.scrollObject.updateContent()),this.parent.timelineModule.timeSpanActionEvent("actionComplete",e,t)}},r.prototype.timeSpanActionEvent=function(e,t,i){var n={};return n.projectStartDate=new Date(this.parent.cloneProjectStartDate.getTime()),n.ProjectEndDate=new Date(this.parent.cloneProjectEndDate.getTime()),n.requestType=i==="publicMethod"?t:i==="beforeAdd"?"TimelineRefreshOnAdd":i==="TaskbarEditing"?"TimelineRefreshOnEdit":t,e==="actionBegin"&&(n.isTimelineRoundOff=this.parent.isTimelineRoundOff,n.cancel=!1),n.action="TimescaleUpdate",this.parent.trigger(e,n),n},r}(),bP=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),vie=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},jC=function(){function r(e){this.allowEditing=!0,this.edit={},this.disableHtmlEncode=!0,this.allowReordering=!0,this.showColumnMenu=!0,this.allowFiltering=!0,this.allowSorting=!0,this.allowResizing=!0,this.filter={},this.enableRowSpan=!0,this.enableColumnSpan=!0,ai(this,e)}return r.prototype.setProperties=function(e){for(var t=Object.keys(e),i=0;i<t.length;i++)if(this[t[parseInt(i.toString(),10)]]=e[t[parseInt(i.toString(),10)]],this.parent&&this.parent.isReact&&t[parseInt(i.toString(),10)]==="template"){var n="refreshReactColumnTemplateByUid";this.parent.clipboardModule.treeGridParent.renderModule[""+n](this.uid)}},r}(),Mie=function(r){bP(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return vie([I(null)],e.prototype,"columns",void 0),e}(jC);(function(r){bP(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e})(Mie);var Sie=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Cie=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},bie=function(r){Sie(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Cie([I("Spinner")],e.prototype,"indicatorType",void 0),e}(Xe),IP=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Yi=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Iie=function(r){IP(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Yi([I()],e.prototype,"field",void 0),Yi([I()],e.prototype,"operator",void 0),Yi([I()],e.prototype,"value",void 0),Yi([I()],e.prototype,"matchCase",void 0),Yi([I()],e.prototype,"ignoreAccent",void 0),Yi([I()],e.prototype,"predicate",void 0),Yi([I({})],e.prototype,"actualFilterValue",void 0),Yi([I({})],e.prototype,"actualOperator",void 0),Yi([I()],e.prototype,"type",void 0),Yi([I()],e.prototype,"ejpredicate",void 0),Yi([I()],e.prototype,"uid",void 0),Yi([I()],e.prototype,"isForeignKey",void 0),e}(Xe),Die=function(r){IP(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Yi([Li([],Iie)],e.prototype,"columns",void 0),Yi([I("FilterBar")],e.prototype,"type",void 0),Yi([I()],e.prototype,"mode",void 0),Yi([I(!0)],e.prototype,"showFilterBarStatus",void 0),Yi([I(1500)],e.prototype,"immediateModeDelay",void 0),Yi([I()],e.prototype,"operators",void 0),Yi([I(!1)],e.prototype,"ignoreAccent",void 0),Yi([I("Parent")],e.prototype,"hierarchyMode",void 0),e}(Xe),Tie=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),wie=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},xie=function(r){Tie(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return wie([I("Both")],e.prototype,"wrapMode",void 0),e}(Xe),Nie=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),nd="https://ej2.syncfusion.com/documentation/treegrid",Qg="https://ej2.syncfusion.com/documentation",Aie="[EJ2TreeGrid.Error]",h0=!1,RN=function(r){Nie(e,r);function e(t){var i=this;return ch.Inject(gy),i=r.call(this,t)||this,i}return e.prototype.getModuleName=function(){return"logger"},e.prototype.log=function(t,i){t instanceof Array||(t=[t]);for(var n=t,s=0;s<n.length;s++){var o=sP[n[parseInt(s.toString(),10)]],a=o.check(i,this.parent);if(a.success){var l=o.generateMessage(i,this.parent,a.options);l=l.replace("EJ2Grid","EJ2TreeGrid").replace("* Hierarchy Grid","").replace("* Grouping",""),h0&&n[parseInt(s.toString(),10)]==="primary_column_missing"&&(l=l.replace("Editing","Row DragAndDrop"),h0=!1);var h=l.indexOf("https"),u=l.substring(h);n[parseInt(s.toString(),10)]==="module_missing"?l=l.replace(u,nd+"/modules"):n[parseInt(s.toString(),10)]==="primary_column_missing"||n[parseInt(s.toString(),10)]==="selection_key_missing"?l=l.replace(u,Qg+"/api/treegrid/column/#isprimarykey"):n[parseInt(s.toString(),10)]==="grid_remote_edit"?l=l.replace(u,nd+"/edit"):n[parseInt(s.toString(),10)]==="virtual_height"?l=l.replace(u,nd+"/virtual"):n[parseInt(s.toString(),10)]==="check_datasource_columns"?l=l.replace(u,nd+"/columns"):n[parseInt(s.toString(),10)]==="locale_missing"&&(l=l.replace(u,nd+"/global-local/#localization")),n[parseInt(s.toString(),10)]==="datasource_syntax_mismatch"?!p(this.treeGridObj)&&!p(this.treeGridObj.dataStateChange)&&console[o.logType](l):console[o.logType](l)}}},e.prototype.treeLog=function(t,i,n){this.treeGridObj=n,t instanceof Array||(t=[t]);var s=t;n.allowRowDragAndDrop&&!n.columns.filter(function(u){return u.isPrimaryKey}).length&&(h0=!0,this.log("primary_column_missing",i));for(var o=0;o<s.length;o++){var a=Eie[s[parseInt(o.toString(),10)]],l=a.check(i,n);if(l.success){var h=a.generateMessage(i,n,l.options);console[a.logType](h)}}},e}(gy),Eie={mapping_fields_missing:{type:"mapping_fields_missing",logType:"error",check:function(r,e){var t={success:!1};return(p(e.idMapping)&&p(e.childMapping)&&p(e.parentIdMapping)||!p(e.idMapping)&&p(e.parentIdMapping)||p(e.idMapping)&&!p(e.parentIdMapping))&&(t={success:!0}),t},generateMessage:function(){return Aie+`: MAPPING FIELDS MISSING 
One of the following fields is missing. It is required for the hierarchical relationship of records in TreeGrid:
* childMapping
* idMapping
* parentIdMapping
Refer to the following documentation links for more details.
`+(Qg+"/api/treegrid#childmapping")+`
`+(Qg+"/api/treegrid#idmapping")+`
`+(Qg+"/api/treegrid#$parentidmapping")}}},kie="load",PC="rowDataBound",Lie="dataBound",_g="queryCellInfo",DP="beforeDataBound",zie="actionBegin",jN="dataStateChange",FC="actionComplete",Oie="rowSelecting",PN="rowSelected",TP="checkboxChange",FN="rowDeselected",BN="toolbarClick",Rie="resizeStop",Cd="expanded",UN="expanding",u0="collapsed",HN="collapsing",BC="remoteExpand",jie="localPagedExpandCollapse",VN="pagingActions",QN="printGrid-Init",_N="contextMenuOpen",YN="contextMenuClick",Pie="beforeCopy",Fie="beforePaste",Bie="crudAction",WN="beginEdit",Uie="beginAdd",qN="recordDoubleClick",GN="cellSave",$N="cellSaved",Hie="cellEdit",KN="batchDelete",JN="batchCancel",ZN="batchAdd",XN="beforeBatchDelete",eA="beforeBatchAdd",tA="beforeBatchSave",wP="batchSave",Vie="detailDataBound",Qie="rowDrag",_ie="rowDragStartHelper",Yie="rowDragStart",Wie="row-draging",qie="row-dropped",Gie="rowDeselecting",$ie="e-movablecontent",Kie="e-frozencontent",gu="actionFailure",Jie=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Zie=function(r){Jie(e,r);function e(t,i){var n=r.call(this,t.grid,i)||this;return n.treeCopyContent="",n.copiedUniqueIdCollection=[],n.treeGridParent=t,n.serviceLocator=i,n}return e.prototype.setCopyData=function(t){var i="copyContent",n="getCopyData",s="isSelect",o="uniqueID",a=this.treeGridParent.getCurrentViewRecords();if(window.getSelection().toString()===""){this.clipBoardTextArea.value=this[""+i]="";var l=this.treeGridParent.grid.getRows();if(this.treeGridParent.selectionSettings.mode!=="Cell"){for(var h=this.treeGridParent.getSelectedRowIndexes().sort(function(y,v){return y-v}),u=0;u<h.length;u++){u>0&&(this.treeCopyContent+=`
`);var c=h[parseInt(u.toString(),10)];if(!l[c].classList.contains("e-summaryrow")){var d=[].slice.call(l[c].querySelectorAll(".e-rowcell")),f=this.treeGridParent.getSelectedRecords()[parseInt(u.toString(),10)][""+o];this.copiedUniqueIdCollection.indexOf(f)===-1&&((this.treeGridParent.copyHierarchyMode==="Parent"||this.treeGridParent.copyHierarchyMode==="Both")&&this.parentContentData(a,c,l,t,u),this[""+n](d,!1,"	",t),this.treeCopyContent+=this[""+i],this.copiedUniqueIdCollection.push(f),this[""+i]="",(this.treeGridParent.copyHierarchyMode==="Child"||this.treeGridParent.copyHierarchyMode==="Both")&&this.childContentData(a,h[parseInt(u.toString(),10)],l,t))}}if(t){var g=this.treeGridParent.getVisibleColumns().map(function(y){return y.headerText});this[""+n](g,!1,"	",t),this.treeCopyContent=this[""+i]+`
`+this.treeCopyContent}var m={data:this.treeCopyContent,cancel:!1};if(this.treeGridParent.trigger(Pie,m),m.cancel)return;this.clipBoardTextArea.value=this[""+i]=m.data,ne.userAgent.match(/ipad|ipod|iphone/i)?this.clipBoardTextArea.setSelectionRange(0,this.clipBoardTextArea.value.length):this.clipBoardTextArea.select(),this[""+s]=!0,this.copiedUniqueIdCollection=[],this.treeCopyContent=""}else r.prototype.setCopyData.call(this,t)}},e.prototype.parentContentData=function(t,i,n,s,o){var a="getCopyData",l="copyContent",h="parentItem",u="uniqueID",c="level";if(!p(t[parseInt(i.toString(),10)][""+h])){for(var d=t[parseInt(i.toString(),10)][""+h][""+c],f=0;f<d+1;f++)for(var g=0;g<t.length;g++)if(!p(t[parseInt(i.toString(),10)][""+h])&&t[parseInt(g.toString(),10)][""+u]===t[parseInt(i.toString(),10)][""+h][""+u]){i=g;var m=[].slice.call(n[parseInt(i.toString(),10)].querySelectorAll(".e-rowcell")),y=t[parseInt(g.toString(),10)][""+u];if(this.copiedUniqueIdCollection.indexOf(y)===-1){this[""+a](m,!1,"	",s),o>0?this.treeCopyContent=this.treeCopyContent+this[""+l]+`
`:this.treeCopyContent=this[""+l]+`
`+this.treeCopyContent,this.copiedUniqueIdCollection.push(y),this[""+l]="";break}}}},e.prototype.copy=function(t){r.prototype.copy.call(this,t)},e.prototype.paste=function(t,i,n){r.prototype.paste.call(this,t,i,n)},e.prototype.getModuleName=function(){return"clipboard"},e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.childContentData=function(t,i,n,s){var o="getCopyData",a="copyContent",l="childRecords",h="hasChildRecords",u="uniqueID";if(t[parseInt(i.toString(),10)][""+h]){for(var c=t[parseInt(i.toString(),10)][""+l],d=0;d<c.length;d++)for(var f=0;f<t.length;f++)if(!p(c[parseInt(d.toString(),10)][""+u])&&t[parseInt(f.toString(),10)][""+u]===c[parseInt(d.toString(),10)][""+u]){if(!p(n[parseInt(f.toString(),10)])&&!n[parseInt(f.toString(),10)].classList.contains("e-summaryrow")){var g=[].slice.call(n[parseInt(f.toString(),10)].querySelectorAll(".e-rowcell")),m=t[parseInt(f.toString(),10)][""+u];this.copiedUniqueIdCollection.indexOf(m)===-1&&(this[""+o](g,!1,"	",s),this.treeCopyContent+=`
`+this[""+a],this[""+a]="",this.copiedUniqueIdCollection.push(m),this.childContentData(t,f,n,s))}break}}},e}(rP);function Dt(r){if(r.treeGrid&&r.treeGrid.isGantt)if(r.taskFields.hasChildMapping){if(r.dataSource instanceof fe){var e=r.dataSource.adaptor;return e instanceof vl||e instanceof k1||e instanceof L1||e instanceof aC||e instanceof hr}return!1}else return!1;else{if(r.dataSource instanceof fe){var e=r.dataSource.adaptor;return e instanceof vl||e instanceof k1||e instanceof L1||e instanceof aC||e instanceof hr}return!1}}function ti(r){return!!(r.dataSource&&"result"in r.dataSource)}function iA(r){for(var e=0;e<r.columns.length;e++)if(r.columns[parseInt(e.toString(),10)].showCheckbox)return!0;return!1}function Xie(r){return!!(!p(r.grid.searchSettings.key)&&r.grid.searchSettings.key!==""&&(r.searchSettings.hierarchyMode==="Child"||r.searchSettings.hierarchyMode==="None")||r.allowFiltering&&r.grid.filterSettings.columns.length&&(r.filterSettings.hierarchyMode==="Child"||r.filterSettings.hierarchyMode==="None"))}function Tc(r,e,t){var i=p(e.parentItem)?null:Xh(r,e.parentItem.uniqueID),n;return i!=null?r.initialRender&&!p(i[r.expandStateMapping])&&!i[r.expandStateMapping]?(i.expanded=!1,!1):i.expanded===!1?!1:i.parentItem?(n=Xh(r,i.parentItem.uniqueID),n&&r.initialRender&&!p(n[r.expandStateMapping])&&!n[r.expandStateMapping]?(n.expanded=!1,!1):n&&n.expanded===!1?!1:n?Tc(r,n):!0):!0:!0}function UC(r){var e=[];if(p(r)||!r.hasChildRecords&&!p(r.childRecords)&&!r.childRecords.length)return[];if(!p(r.childRecords))for(var t=r.childRecords.filter(function(o){return!o.isSummaryRow}),i=Object.keys(t),n=0,s=i.length;n<s;n++)e.push(t[parseInt(n.toString(),10)]),(t[parseInt(n.toString(),10)].hasChildRecords||!p(t[parseInt(n.toString(),10)].childRecords)&&t[parseInt(n.toString(),10)].childRecords.length)&&(e=e.concat(UC(t[parseInt(n.toString(),10)])));return e}function Ko(r){if(Dt(r)){var e=r.dataSource;return!p(e.ready)}return!0}function HC(r){for(var e=[],t,i,n=0;r&&n<r.length;n++){i=Object.keys(r[parseInt(n.toString(),10)]),t={};for(var s=0;s<i.length;s++)t[i[parseInt(s.toString(),10)]]=r[parseInt(n.toString(),10)][i[parseInt(s.toString(),10)]];e.push(t)}return e}function mu(r){return delete r.hasChildRecords,delete r.childRecords,delete r.index,delete r.parentItem,delete r.level,delete r.taskData,delete r.uniqueID,r}function Xh(r,e,t){{var i="uniqueIDCollection";return r[""+i][""+e]}}function nA(r){var e=window.getComputedStyle(r);return e.display==="none"||e.visibility==="hidden"}var ene=function(){function r(e){this.headerCheckboxFrameEl=null,this.checkboxColIndexCache=-2,this.parentSelectionCounters={},this.selectedUidMap=new Map,this.totalSelectableCount=0,this.headerSelectionState="uncheck",this.checkedItemCount=0,this.visibleUidIndex={},this.parent=e,this.selectedItems=[],this.selectedIndexes=[],this.filteredList=[],this.searchingRecords=[],this.addEventListener()}return r.prototype.getModuleName=function(){return"selection"},r.prototype.buildVisibleUidMap=function(){this.visibleUidIndex={};var e=this.parent.grid.currentViewData;if(e)for(var t=0,i=e.length;t<i;t++){var n=e[parseInt(t.toString(),10)];n&&n.uniqueID&&(this.visibleUidIndex[n.uniqueID]=t)}},r.prototype.addEventListener=function(){this.parent.on("dataBoundArg",this.headerCheckbox,this),this.parent.on("columnCheckbox",this.columnCheckbox,this),this.parent.on("updateGridActions",this.updateGridActions,this),this.parent.grid.on("colgroup-refresh",this.headerCheckbox,this),this.parent.on("checkboxSelection",this.checkboxSelection,this)},r.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off("dataBoundArg",this.headerCheckbox),this.parent.off("columnCheckbox",this.columnCheckbox),this.parent.grid.off("colgroup-refresh",this.headerCheckbox),this.parent.off("checkboxSelection",this.checkboxSelection),this.parent.off("updateGridActions",this.updateGridActions))},r.prototype.destroy=function(){this.resetSelectionCaches(),this.removeEventListener()},r.prototype.checkboxSelection=function(e){var t,i=It("target",e),n=he(i,"e-checkbox-wrapper"),s;if(n&&n.querySelectorAll(".e-treecheckselect").length>0){s=n.querySelector('input[type="checkbox"]');var o=[];this.parent.frozenRows?o.push(parseInt(i.closest("tr").getAttribute("aria-rowindex"),10)-1):o.push(i.closest("tr").rowIndex),this.selectCheckboxes(o);var a=s.nextElementSibling.classList.contains("e-check");this.triggerChkChangeEvent(s,a,i.closest("tr"))}else if(n&&n.querySelectorAll(".e-treeselectall").length>0&&this.parent.autoCheckHierarchy){var l=n.querySelector(".e-frame"),h=!l.classList.contains("e-check")&&!l.classList.contains("e-stop"),u=h;this.headerSelection(u),s=n.querySelector('input[type="checkbox"]'),this.triggerChkChangeEvent(s,u,i.closest("tr"))}!p(this.parent.parentQuery)&&this.parent.selectionSettings.persistSelection&&this.parent.columnModel.filter(function(c){return c.type==="checkbox"}).length>0&&Dt(this.parent)&&this.parent.parentQuery.length>0&&((t=this.parent.query.queries).push.apply(t,this.parent.parentQuery),this.parent.parentQuery=[])},r.prototype.triggerChkChangeEvent=function(e,t,i){var n=this.parent.getCurrentViewRecords()[i.rowIndex],s={checked:t,target:e,rowElement:i,rowData:e.classList.contains("e-treeselectall")?this.parent.getCheckedRecords():n};this.parent.trigger(TP,s)},r.prototype.getCheckboxcolumnIndex=function(){if(this.checkboxColIndexCache!==-2)return this.checkboxColIndexCache;for(var e,t=-1,i="stackedHeader",n="columnModel",s=this.parent[""+i]?this.parent[""+n]:this.parent.columns,o=0;o<s.length;o++)if(s[parseInt(o.toString(),10)].showCheckbox){e=s[parseInt(o.toString(),10)].uid;break}for(var a=this.parent.getHeaderContent().querySelectorAll(".e-headercelldiv"),l=0;l<a.length;l++){var h=a[parseInt(l.toString(),10)];if(h.getAttribute("data-mappinguid")===e){t=l;break}}return this.checkboxColIndexCache=p(t)?-1:t,this.checkboxColIndexCache},r.prototype.headerCheckbox=function(){if(this.buildVisibleUidMap(),this.totalSelectableCount=this.countSelectableRecords(this.resolveHeaderSelectionList(!0)),this.columnIndex=this.getCheckboxcolumnIndex(),this.columnIndex>-1){var e=this.parent.getHeaderContent().querySelectorAll(".e-headercelldiv")[this.columnIndex];if(e&&e.querySelectorAll(".e-treeselectall").length===0){var t=!1,i=this.parent.createElement("input",{className:"e-treeselectall",attrs:{type:"checkbox"}}),n=Kh(this.parent.createElement,!1,{checked:t,label:" "});n.classList.add("e-hierarchycheckbox"),n.insertBefore(i.cloneNode(),n.firstChild),p(e)||e.insertBefore(n,e.firstChild),this.headerCheckboxFrameEl=n.querySelector(".e-frame"),this.parent.autoCheckHierarchy&&this.headerSelection()}else e&&e.querySelectorAll(".e-treeselectall").length>0&&(this.headerCheckboxFrameEl=e.querySelector(".e-frame"),this.parent.autoCheckHierarchy&&this.headerSelection())}},r.prototype.renderColumnCheckbox=function(e){var t=this.parent.createElement("input",{className:"e-treecheckselect",attrs:{type:"checkbox","aria-label":"checkbox"}}),i=e.data;e.cell.classList.add("e-treegridcheckbox"),e.cell.setAttribute("aria-label","checkbox");var n=i.checkboxState==="check",s=Kh(this.parent.createElement,!1,{checked:n,label:" "});if(s.classList.add("e-hierarchycheckbox"),this.parent.allowTextWrap&&(s.querySelector(".e-frame").style.width="18px"),i.checkboxState==="indeterminate"){var o=s.querySelectorAll(".e-frame")[0];ue([o],["e-check","e-stop","e-uncheck"]),s.querySelector(".e-frame").classList.add("e-stop")}else if(i.checkboxState==="uncheck"){var o=s.querySelectorAll(".e-frame")[0];ue([o],["e-check","e-stop","e-uncheck"]),s.querySelector(".e-frame").classList.add("e-uncheck")}else if(i.checkboxState==="check"){var o=s.querySelectorAll(".e-frame")[0];ue([o],["e-check","e-stop","e-uncheck"]),s.querySelector(".e-frame").classList.add("e-check")}return s.insertBefore(t.cloneNode(),s.firstChild),s},r.prototype.columnCheckbox=function(e){var t=this.renderColumnCheckbox(e),i=e.cell.querySelector(".e-treecolumn-container");if(!p(i))e.cell.querySelector(".e-hierarchycheckbox")||i.insertBefore(t,i.querySelectorAll(".e-treecell")[0]);else{var n=this.parent.createElement("span",{className:"e-treecheckbox"}),s=e.cell.innerHTML;e.cell.innerHTML="",n.innerHTML=s;var o=this.parent.createElement("div",{className:"e-treecheckbox-container"});o.appendChild(t),o.appendChild(n),e.cell.appendChild(o)}},r.prototype.selectCheckboxes=function(e){for(var t=0;t<e.length;t++){var i=this.parent.getCurrentViewRecords()[e[parseInt(t.toString(),10)]],n=Xh(this.parent,i.uniqueID),s=n.checkboxState==="check"?"uncheck":"check";n.checkboxState=s,this.traverSelection(n,s,!1)}},r.prototype.traverSelection=function(e,t,i){var n=e.checkboxState;i||this.buildVisibleUidMap();var s=Array.isArray(e.childRecords)?e.childRecords:[];if((!s||s.length===0)&&this.parent.autoCheckHierarchy&&(s=this.getChildrenFromFlat(e)),this.parent.filterModule&&this.parent.filterModule.filteredResult.length>0&&s&&s.length&&(s=this.getFilteredChildRecords(s)),!this.parent.autoCheckHierarchy||!s||s.length===0){this.updateSelectedItems(e,t),i||(e.parentItem&&this.parent.autoCheckHierarchy&&this.updateParentSelection(e.parentItem),this.updateSelectedCollectionsAfterBulk(this.resolveHeaderSelectionList(),""),this.refreshVisibleCheckboxes(),this.parent.autoCheckHierarchy&&this.updateHeaderCheckboxState());return}for(var o=0,a=0,l=0,h=0;h<s.length;h++){var u=s[parseInt(h.toString(),10)];!u||u.isSummaryRow||(o++,this.updateSelectedItems(u,t,!0),u.hasChildRecords&&this.traverSelection(u,t,!0),u.checkboxState==="check"?a++:u.checkboxState==="indeterminate"&&l++)}e.uniqueID&&(this.parentSelectionCounters[e.uniqueID]={total:o,checked:a,indeterminate:l});var c=this.parentSelectionCounters[e.uniqueID],d=this.deriveParentState(e,c);if(t==="check"&&c.total>0&&c.checked===c.total&&c.indeterminate===0&&(d="check"),this.updateSelectedItems(e,d),!i&&e.parentItem&&this.parent.autoCheckHierarchy&&this.updateParentSelection(e.parentItem,n,d),!i){var f=this.resolveHeaderSelectionList();this.updateSelectedCollectionsAfterBulk(f,""),this.refreshVisibleCheckboxes(),this.updateHeaderCheckboxState()}},r.prototype.getFilteredChildRecords=function(e){var t=this,i=e.filter(function(n){return t.parent.filterModule.filteredResult.indexOf(n)>-1});return i},r.prototype.getChildrenFromFlat=function(e){var t=this.parent.flatData;if(!t||!e)return[];for(var i=e.uniqueID,n=[],s=0;s<t.length;s++){var o=t[parseInt(s.toString(),10)];if(!(!o||o.isSummaryRow)){var a=o.parentItem;a&&a.uniqueID===i&&n.push(o)}}return n},r.prototype.updateParentSelection=function(e,t,i){var n=Xh(this.parent,e.uniqueID);if(n){var s=this.buildSelectionSummary(n);t&&this.applySummaryDelta(s,t,-1),i&&this.applySummaryDelta(s,i,1),n.uniqueID&&(this.parentSelectionCounters[n.uniqueID]=s);var o=this.deriveParentState(n,s);if(n.checkboxState!==o){var a=n.checkboxState;n.checkboxState=o,this.updateSelectedItems(n,o),n.parentItem&&this.updateParentSelection(n.parentItem,a,o)}}},r.prototype.buildSelectionSummary=function(e,t){var i={total:0,checked:0,indeterminate:0},n=[];e&&Array.isArray(e.childRecords)&&e.childRecords.length?n=e.childRecords:n=this.getChildrenFromFlat(e),!t&&this.parent.filterModule&&this.parent.filterModule.filteredResult.length>0&&(n=this.getFilteredChildRecords(n));for(var s=0;s<n.length;s++){var o=n[parseInt(s.toString(),10)];!o||o.isSummaryRow||(i.total++,o.checkboxState==="check"?i.checked++:o.checkboxState==="indeterminate"&&i.indeterminate++)}return i},r.prototype.applySummaryDelta=function(e,t,i){t==="check"?e.checked=Math.max(0,e.checked+i):t==="indeterminate"&&(e.indeterminate=Math.max(0,e.indeterminate+i))},r.prototype.deriveParentState=function(e,t){var i=t.total,n=t.checked,s=t.indeterminate;return s>0||n>0&&n!==i?"indeterminate":n===i&&i>0?"check":"uncheck"},r.prototype.headerSelection=function(e){if(!p(this.parent.filterModule)&&this.parent.filterModule.filteredResult.length>0){var t=this.parent.filterModule.filteredResult;this.filteredList.length===0&&(this.filteredList=t),this.parent.grid.searchSettings.key.length?this.searchingRecords=t:this.filteredList!==t&&!this.parent.grid.searchSettings.key.length&&(this.filteredList=t,this.searchingRecords=[])}this.searchingRecords.length>0&&!p(e)?this.filteredList=this.searchingRecords:this.filteredList.length>0&&!this.parent.filterSettings.columns.length&&!this.parent.grid.searchSettings.key.length&&(this.filteredList=[]);var i=this.resolveHeaderSelectionList(!0);if(!p(e)){this.resetSelectionCaches();var n=e?"check":"uncheck";this.headerSelectionState=n,this.processHeaderSelection(i,n),this.finalizeParentsAfterBulk(i),this.updateSelectedCollectionsAfterBulk(i,""),this.refreshVisibleCheckboxes(),this.updateHeaderCheckboxState();return}this.totalSelectableCount=this.countSelectableRecords(i),this.updateHeaderCheckboxState()},r.prototype.finalizeParentsAfterBulk=function(e){for(var t=e,i=0;i<t.length;i++){var n=t[parseInt(i.toString(),10)];if(!(!n||!n.hasChildRecords)){var s=this.buildSelectionSummary(n,!0);this.parentSelectionCounters[n.uniqueID]=s;var o=this.deriveParentState(n,s);this.headerSelectionState==="check"&&s.total>0&&s.checked===s.total&&s.indeterminate===0?o="check":this.headerSelectionState==="uncheck"&&(o="uncheck"),n.checkboxState!==o&&this.updateSelectedItems(n,o)}}},r.prototype.processHeaderSelection=function(e,t){for(var i=0;i<e.length;i++){var n=e[parseInt(i.toString(),10)];if(n){var s=n.checkboxState;s!==t&&(n.checkboxState=t,this.updateSelectedItems(n,t,!0))}}},r.prototype.updateSelectedCollectionsAfterBulk=function(e,t){for(var i=!!(this.parent.filterModule&&this.parent.filterModule.filteredResult&&this.parent.filterModule.filteredResult.length),n=!!(this.parent.grid&&this.parent.grid.searchSettings&&this.parent.grid.searchSettings.key&&this.parent.grid.searchSettings.key.length),s=i||n||t==="refresh"||t==="searching",o=s?e:this.selectedItems.slice(),a=[],l=new Map,h=[],u=0,c=o;u<c.length;u++){var d=c[u];d.hasChildRecords&&s&&d.level===0&&this.parent.autoCheckHierarchy&&this.updateParentSelection(d),d.uniqueID&&d.checkboxState==="check"&&(a.push(d),l.set(d.uniqueID,!0))}if(!s){var f=this.parent.flatData;if(f)for(var g=0,m=f;g<m.length;g++){var y=m[g];!y||y.isSummaryRow||y.uniqueID&&y.checkboxState==="check"&&!l.has(y.uniqueID)&&(a.push(y),l.set(y.uniqueID,!0))}}this.selectedItems=a,this.selectedUidMap=l,this.buildVisibleUidMap();for(var v=0,M=this.selectedItems;v<M.length;v++){var d=M[v],S=this.visibleUidIndex[d.uniqueID];S!==void 0&&h.push(S)}this.selectedIndexes=h,this.checkedItemCount=this.selectedItems.length,this.totalSelectableCount=this.countSelectableRecords(e)},r.prototype.refreshVisibleCheckboxes=function(){this.buildVisibleUidMap();for(var e=this.parent.getCurrentViewRecords(),t=this.parent.uniqueIDCollection,i=0;e&&i<e.length;i++){var n=e[parseInt(i.toString(),10)];if(n){var s=n.uniqueID,o=t&&s!=null?t[String(s)]:n,a=o&&o.checkboxState?o.checkboxState:"uncheck",l=null,h=n.uid;if(h&&(l=this.parent.grid.getRowElementByUID(h)),!l){var u=this.parent.getRows();if(l=u&&u[parseInt(i.toString(),10)],(this.parent.frozenRows||this.parent.getFrozenColumns())&&!l){var c=this.parent.getDataRows();l=c&&c[parseInt(i.toString(),10)]}}if(l){var d=l.querySelector(".e-hierarchycheckbox .e-frame");if(d){ue([d],["e-check","e-stop","e-uncheck"]),d.classList.add(a==="indeterminate"?"e-stop":"e-"+a);var f=l.querySelector(".e-treecheckselect");f&&f.setAttribute("aria-checked",a==="check"?"true":a==="uncheck"?"false":"mixed")}}}}},r.prototype.resetSelectionCaches=function(){this.parentSelectionCounters={},this.selectedUidMap=new Map,this.selectedItems=[],this.selectedIndexes=[],this.totalSelectableCount=0,this.headerSelectionState="uncheck",this.checkedItemCount=0},r.prototype.countSelectableRecords=function(e){var t=0;if(!e)return t;for(var i=0;i<e.length;i++){var n=e[parseInt(i.toString(),10)];n&&!n.isSummaryRow&&t++}return t},r.prototype.resolveHeaderSelectionList=function(e){var t=[];if(Dt(this.parent))t=this.parent.getCurrentViewRecords();else{var i=!!(this.parent.filterModule&&this.parent.filterModule.filteredResult&&this.parent.filterModule.filteredResult.length),n=!!(this.parent.grid&&this.parent.grid.searchSettings&&this.parent.grid.searchSettings.key&&this.parent.grid.searchSettings.key.length);e?i?t=this.filteredList&&this.filteredList.length?this.filteredList:this.parent.filterModule.filteredResult:n&&this.searchingRecords&&this.searchingRecords.length?t=this.searchingRecords:t=this.parent.flatData:i?t=this.filteredList&&this.filteredList.length?this.filteredList:this.parent.filterModule.filteredResult:n&&this.searchingRecords&&this.searchingRecords.length?t=this.searchingRecords:t=this.parent.flatData}return t},r.prototype.updateHeaderCheckboxState=function(){var e=this.headerCheckboxFrameEl;if(e){var t=this.resolveHeaderSelectionList(!0);this.totalSelectableCount=this.countSelectableRecords(t);for(var i=0,n=0,s=t;n<s.length;n++){var o=s[n];o&&!o.isSummaryRow&&o.checkboxState==="check"&&i++}ue([e],["e-check","e-stop","e-uncheck"]),this.totalSelectableCount===0||i===0?e.classList.add("e-uncheck"):i===this.totalSelectableCount?e.classList.add("e-check"):e.classList.add("e-stop")}},r.prototype.updateSelectedItems=function(e,t,i){this.buildVisibleUidMap();var n=e.uniqueID,s=this.parent.uniqueIDCollection,o=s&&n!=null&&s[String(n)]?s[String(n)]:e,a=e.isSummaryRow===!0,l=o.checkboxState,h=this.visibleUidIndex[String(n)];if(o.checkboxState=t,!i){if(!a&&l!==t){if(t==="check")this.checkedItemCount++,this.selectedUidMap.has(String(n))||(o.uniqueID&&this.selectedUidMap.set(String(o.uniqueID),!0),this.selectedItems.push(o),h!==void 0&&this.selectedIndexes.indexOf(h)===-1&&this.selectedIndexes.push(h));else if((l==="check"||l==="indeterminate")&&(this.checkedItemCount>0&&this.checkedItemCount--,o&&o.uniqueID&&this.selectedUidMap.has(String(o.uniqueID)))){this.selectedUidMap.delete(String(o.uniqueID));var u=this.selectedItems.indexOf(o);if(u!==-1&&this.selectedItems.splice(u,1),h!==void 0){var c=this.selectedIndexes.indexOf(h);c>-1&&this.selectedIndexes.splice(c,1)}}}var d=null,f=e.uid;if(f&&(d=this.parent.grid.getRowElementByUID(f)),!d){var g=h!==void 0?h:typeof this.visibleUidIndex[String(n)]=="number"?this.visibleUidIndex[String(n)]:-1;g>-1&&(d=this.parent.getRows()[parseInt(g.toString(),10)],!d&&(this.parent.frozenRows||this.parent.getFrozenColumns())&&(d=this.parent.getDataRows()[parseInt(g.toString(),10)]))}if(d){var m=d.querySelector(".e-hierarchycheckbox .e-frame");m&&(ue([m],["e-check","e-stop","e-uncheck"]),m.classList.add(t==="indeterminate"?"e-stop":"e-"+t));var y=d.querySelector(".e-treecheckselect");y&&y.setAttribute("aria-checked",t==="check"?"true":t==="uncheck"?"false":"mixed")}}},r.prototype.updateGridActions=function(e){var t=e.requestType;if(iA(this.parent))if(this.parent.autoCheckHierarchy)if(t==="sorting"||t==="paging")this.updateSelectedCollectionsAfterBulk(this.resolveHeaderSelectionList(),""),this.refreshVisibleCheckboxes(),this.updateHeaderCheckboxState();else if(t==="delete"||e.action==="add"){var i=[];t==="delete"?i=e.data:i.push(e.data);for(var n=0;n<i.length;n++)t==="delete"&&this.updateSelectedItems(i[parseInt(n.toString(),10)],"uncheck",!1),p(i[parseInt(n.toString(),10)].parentItem)||this.updateParentSelection(i[parseInt(n.toString(),10)].parentItem);this.updateSelectedCollectionsAfterBulk(this.resolveHeaderSelectionList(!0),""),this.refreshVisibleCheckboxes(),this.parent.autoCheckHierarchy&&this.updateHeaderCheckboxState()}else e.requestType==="add"&&this.parent.autoCheckHierarchy?e.data.checkboxState="uncheck":(t==="filtering"||t==="searching"||t==="refresh")&&(this.updateSelectedCollectionsAfterBulk(this.resolveHeaderSelectionList(),t),this.refreshVisibleCheckboxes(),this.parent.autoCheckHierarchy&&this.updateHeaderCheckboxState());else(t==="filtering"||t==="searching"||t==="refresh"||t==="sorting"||t==="paging"||t==="expanding"||t==="expand"||t==="collapsing"||t==="collapse")&&!Dt(this.parent)&&(iA(this.parent)&&t==="refresh"&&this.parent.isVirtualExpandCollapse||(this.selectedItems=[],this.selectedUidMap=new Map,this.selectedIndexes=[]),(t==="filtering"||t==="searching"||t==="sorting")&&this.headerSelection(!1),this.refreshVisibleCheckboxes(),this.parent.autoCheckHierarchy&&this.updateHeaderCheckboxState())},r.prototype.getCheckedrecords=function(){return this.selectedItems},r.prototype.getCheckedRowIndexes=function(){this.buildVisibleUidMap();for(var e=[],t=0,i=this.selectedItems;t<i.length;t++){var n=i[t],s=n.uniqueID;s!==void 0&&this.visibleUidIndex[s]!==void 0&&e.push(this.visibleUidIndex[s])}return e},r}(),tne=function(){function r(e){this.parent=e,ch.Inject(sD),this.addEventListener()}return r.prototype.getModuleName=function(){return"print"},r.prototype.addEventListener=function(){this.parent.grid.on(QN,this.printTreeGrid,this)},r.prototype.removeEventListener=function(){this.parent.grid.off(QN,this.printTreeGrid)},r.prototype.printTreeGrid=function(e){var t=It("printgrid",e),i=It("element",e);t.addEventListener(_g,this.parent.grid.queryCellInfo),t.addEventListener(PC,this.parent.grid.rowDataBound),t.addEventListener(DP,this.parent.grid.beforeDataBound),Z([i],"e-treegrid")},r.prototype.print=function(){this.parent.grid.print()},r.prototype.destroy=function(){this.removeEventListener()},r}(),ine=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),rd=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},nne=function(r){ine(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return rd([I()],e.prototype,"fields",void 0),rd([I(!1)],e.prototype,"ignoreCase",void 0),rd([I("contains")],e.prototype,"operator",void 0),rd([I()],e.prototype,"key",void 0),rd([I()],e.prototype,"hierarchyMode",void 0),e}(Xe),rne=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ql=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},sne=function(r){rne(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return ql([I("Row")],e.prototype,"mode",void 0),ql([I("Flow")],e.prototype,"cellSelectionMode",void 0),ql([I("Single")],e.prototype,"type",void 0),ql([I(!1)],e.prototype,"persistSelection",void 0),ql([I("Default")],e.prototype,"checkboxMode",void 0),ql([I(!1)],e.prototype,"checkboxOnly",void 0),ql([I(!0)],e.prototype,"enableToggle",void 0),e}(Xe),one=function(){function r(e){this.parent=e,this.templateResult=null,this.parent.grid.on("template-result",this.columnTemplateResult,this),this.parent.grid.on("reactTemplateRender",this.reactTemplateRender,this)}return r.prototype.RowModifier=function(e){if(e.data){var t=e.data,i=t.parentItem;if(!p(t.parentItem)&&!Xie(this.parent)&&(!(this.parent.allowPaging&&this.parent.pageSettings.pageSizeMode!=="Root")||Dt(this.parent)&&!Ko(this.parent))){var n=this.parent.initialRender&&(!(p(i[this.parent.expandStateMapping])||i[this.parent.expandStateMapping])||this.parent.enableCollapseAll)||!Tc(this.parent,e.data,this.parent.grid.getCurrentViewRecords());if(n&&!p(e.row)){this.parent.toggleRowVisibility(e.row,"e-childrow-hidden");var s=this.parent.grid.getRowsObject();!this.parent.grid.isFrozenGrid()&&!p(e.row.getAttribute("data-uid"))&&(s.filter(function(y){return y.uid===e.row.getAttribute("data-uid")})[0].visible=!1)}}if(Dt(this.parent)&&!Ko(this.parent)){var o=this.parent,a=this.parent.getCurrentViewRecords().filter(function(y){return H(o.idMapping,y)===H(o.parentIdMapping,t)});if(a.length>0&&!a[0].isSummaryRow&&!p(e.row)){var l=a[0].expanded?"e-childrow-visible":"e-childrow-hidden";this.parent.toggleRowVisibility(e.row,l)}}var h=It("isSummaryRow",e.data);h&&Z([e.row],"e-summaryrow"),p(e.row)||(e.row.querySelector(".e-treegridexpand")?e.row.setAttribute("aria-expanded","true"):e.row.querySelector(".e-treegridcollapse")&&e.row.setAttribute("aria-expanded","false"),this.parent.enableCollapseAll&&this.parent.initialRender&&(p(t.parentItem)||this.parent.toggleRowVisibility(e.row,"e-childrow-hidden")));var u="dragStartData",c="draggedRecord";if(this.parent.rowDragAndDropModule&&this.parent.grid.rowDragAndDropModule&&(this.parent.grid.rowDragAndDropModule[""+u]||this.parent.rowDragAndDropModule[""+c])&&this.parent.getContentTable().scrollHeight<=this.parent.getContent().clientHeight){var d="lastRowBorder",f=this.parent.getVisibleRecords()[this.parent.getVisibleRecords().length-1];f.uniqueID===e.data.uniqueID&&!p(e.row)&&!e.row.cells[0].classList.contains("e-lastrowcell")&&this.parent[""+d](e.row,!0)}if(this.parent.isReact){var g="renderReactTemplates",m=this;m.parent[""+g](function(){m.parent.trigger(PC,e)})}else this.parent.trigger(PC,e)}},r.prototype.cellRender=function(e){if(e.data){var t=this.parent.grid,i=e.data,n,s=p(i.filterLevel),o=s?i.level:i.filterLevel,a=0,l,h=this.parent.getColumnByUid(e.column.uid),u=i.isSummaryRow,c=this.parent.getFrozenColumns();p(i.parentItem)?n=i.index:n=i.parentItem.index;var d,f="getVirtualColIndexByUid";if(this.parent.enableColumnVirtualization&&!this.parent.initialRender?d=this.parent[""+f](e.column.uid):d=t.getColumnIndexByUid(e.column.uid),d===this.parent.treeColumnIndex&&(e.requestType==="add"||e.requestType==="rowDragAndDrop"||e.requestType==="delete"||p(e.cell.querySelector(".e-treecell")))){var g=Be("div",{className:"e-treecolumn-container"}),m=Be("span",{className:"e-icons e-none"});m.style.width="10px",m.style.display="inline-block";for(var y=0;y<o;y++)a+=10,g.appendChild(m.cloneNode());var v=p(i.hasFilteredChildRecords)?i.hasChildRecords:i.hasFilteredChildRecords;if(v&&!p(i.childRecords)&&(this.parent.isFromGantt&&this.parent.loadChildOnDemand?v=i.hasChildRecords:v=i.childRecords.length!==0),v){Z([e.cell],"e-treerowcell"),e.cell.setAttribute("aria-expanded",i.expanded?"true":"false");var M=Be("span",{className:"e-icons"}),S=void 0;if(this.parent.initialRender)S=i.expanded&&(p(i[this.parent.expandStateMapping])||i[this.parent.expandStateMapping])&&!this.parent.enableCollapseAll;else if(S=!(!i.expanded||!Tc(this.parent,i,this.parent.grid.getCurrentViewRecords())),this.parent.editSettings.mode==="Cell"&&!Dt(this.parent)){var b=this.parent.flatData.find(function(L){return L.uniqueID===i.uniqueID});p(b)||(S=i.expanded!==b.expanded?b.expanded:i.expanded)}Z([M],S?"e-treegridexpand":"e-treegridcollapse"),a+=18,g.appendChild(M),m.style.width="4px",a+=7,g.appendChild(m.cloneNode())}else(o||!o&&!i.level)&&(a+=20,g.appendChild(m.cloneNode()),g.appendChild(m.cloneNode()));l=Be("span",{className:"e-treecell"}),this.parent.allowTextWrap&&(l.style.width="Calc(100% - "+a+"px)"),Z([e.cell],"e-gridrowindex"+n+"level"+i.level),this.updateTreeCell(e,l),g.appendChild(l),e.cell.appendChild(g)}else this.templateResult&&(this.templateResult=null);var C=t.getFrozenLeftColumnsCount()>0||t.getFrozenRightColumnsCount()>0;if(!C)c>this.parent.treeColumnIndex&&c>0&&t.getColumnIndexByUid(e.column.uid)===c?Z([e.cell],"e-gridrowindex"+n+"level"+i.level):c<this.parent.treeColumnIndex&&c>0&&(t.getColumnIndexByUid(e.column.uid)===c||t.getColumnIndexByUid(e.column.uid)===c-1)?Z([e.cell],"e-gridrowindex"+n+"level"+i.level):c===this.parent.treeColumnIndex&&c>0&&t.getColumnIndexByUid(e.column.uid)===this.parent.treeColumnIndex-1&&Z([e.cell],"e-gridrowindex"+n+"level"+i.level);else{var T=t.getFrozenRightColumns(),k=t.getFrozenLeftColumns(),N=t.getMovableColumns();T.length>0&&T[0].field===e.column.field?Z([e.cell],"e-gridrowindex"+n+"level"+i.level):k.length>0&&k[0].field===e.column.field?Z([e.cell],"e-gridrowindex"+n+"level"+i.level):N.length>0&&N[0].field===e.column.field&&Z([e.cell],"e-gridrowindex"+n+"level"+i.level)}if(!p(h)&&h.showCheckbox&&(this.parent.notify("columnCheckbox",e),this.parent.allowTextWrap)){var A=e.cell.querySelectorAll(".e-frame")[0],E=parseInt(A.style.width,16);a+=E,a+=10,t.getColumnIndexByUid(e.column.uid)===this.parent.treeColumnIndex?l=e.cell.querySelector(".e-treecell"):l=e.cell.querySelector(".e-treecheckbox"),l.style.width="Calc(100% - "+a+"px)"}if(u){Z([e.cell],"e-summarycell");var x=It(e.column.field,e.data);x=p(x)?null:x,e.cell.querySelector(".e-treecell")!=null?e.cell.querySelector(".e-treecell").innerHTML=x:e.column.template?e.cell.innerHTML=null:e.cell.innerHTML=x}this.parent.args=e;var D=H("columnModel",this.parent),z=D[this.parent.treeColumnIndex];if(p(this.parent.rowTemplate)&&!this.parent.isReact||this.parent.isReact&&!e.column.template)this.parent.trigger(_g,e);else if(this.parent.isReact&&z.field!==e.column.field){var w="renderReactTemplates",O=this;O.parent[""+w](function(){O.parent.trigger(_g,e)})}}},r.prototype.updateTreeCell=function(e,t){var i=H("columnModel",this.parent),n=i[this.parent.treeColumnIndex],s="templateFn",o=e.column.index;p(n.field)&&e.cell.setAttribute("aria-colindex",o+1+""),n.field===e.column.field&&!p(n.template)&&(e.column.template=n.template,e.column[""+s]=Si(e.column.template),e.cell.classList.add("e-templatecell"));var a=e.cell.querySelector(".e-treecell")!=null?e.cell.querySelector(".e-treecell").innerHTML:e.cell.innerHTML;if(typeof e.column.template=="object"&&this.templateResult)tr(t,this.templateResult),this.templateResult=null,e.cell.innerHTML="";else if(e.cell.classList.contains("e-templatecell")){var l=e.cell.children.length,h=this.parent.element.id+e.column.uid;if(n.field===e.column.field&&!p(n.template)){var u="portals",c="renderReactTemplates";if(this.parent.isReact&&typeof e.column.template!="string"){e.column[""+s](e.data,this.parent,"columnTemplate",h,null,null,t),p(this.parent.grid[""+u])&&(this.parent.grid[""+u]=this.parent[""+u]),this.parent.notify("renderReactTemplate",this.parent[""+u]);var d=this;d.parent[""+c](function(){d.parent.trigger(_g,e)})}else{var f="isStringTemplate",g=e.column[""+s](vte({index:""},e.data),this.parent,"template",h,this.parent[""+f]);tr(t,g)}delete e.column.template,delete e.column[""+s],e.cell.innerHTML=""}else for(var m=0;m<l;l=e.cell.children.length)t.appendChild(e.cell.children[parseInt(m.toString(),10)])}else t.innerHTML=a,e.cell.innerHTML=""},r.prototype.refreshReactColumnTemplateByUid=function(e){var t=this;this.parent.isReact&&this.parent.clearTemplate(["columnTemplate"],void 0,function(){var i="cells",n="index",s=t.parent.grid.getRowsObject(),o=t.parent.getDataRows(),a=t.parent.grid.getIndentCount(),l=t.parent.grid.getNormalizedColumnIndex(e);if(o.length!==0){for(var h=0;h<s.length;h++)if(s[parseInt(h.toString(),10)].isDataRow&&!p(s[parseInt(h.toString(),10)].index)){var u=s[parseInt(h.toString(),10)][""+i][parseInt(l.toString(),10)],c=new Ir(t.parent.grid,t.parent.grid.serviceLocator),d=o.length>=s.length?t.parent.getCellFromIndex(s[parseInt(h.toString(),10)].index,l-a):o[s[parseInt(h.toString(),10)].index].querySelector(".e-templatecell");c.refreshTD(d,u,s[parseInt(h.toString(),10)].data,{index:s[parseInt(h.toString(),10)][""+n]});var f=t.parent.getRows()[parseInt(h.toString(),10)].cells[parseInt(l.toString(),10)];t.cellRender({data:s[parseInt(h.toString(),10)].data,cell:f,column:u.column})}}})},r.prototype.columnTemplateResult=function(e){this.templateResult=e.template},r.prototype.reactTemplateRender=function(e,t){var i="renderReactTemplates",n="portals";this.parent[""+n]=e,this.parent.notify("renderReactTemplate",this.parent[""+n]),this.parent[""+i](t)},r.prototype.destroy=function(){this.parent.grid.off("template-result",this.columnTemplateResult),this.parent.grid.off("reactTemplateRender",this.reactTemplateRender)},r}(),ane=function(){function r(e){this.addedRecords="addedRecords",this.parent=e,this.parentItems=[],this.taskIds=[],this.hierarchyData=[],this.storedIndex=-1,this.sortedData=[],this.isSortAction=!1,this.addEventListener(),this.dataResults={},this.isSelfReference=!p(this.parent.parentIdMapping)}return r.prototype.addEventListener=function(){this.parent.on("updateRemoteLevel",this.updateParentRemoteData,this),this.parent.grid.on("sorting-begin",this.beginSorting,this),this.parent.on("updateAction",this.updateData,this),this.parent.on(BC,this.collectExpandingRecs,this),this.parent.on("dataProcessor",this.dataProcessor,this)},r.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(BC,this.collectExpandingRecs),this.parent.off("updateRemoteLevel",this.updateParentRemoteData),this.parent.off("updateAction",this.updateData),this.parent.off("dataProcessor",this.dataProcessor),this.parent.grid.off("sorting-begin",this.beginSorting))},r.prototype.destroy=function(){this.removeEventListener(),this.hierarchyData=null},r.prototype.isRemote=function(){return this.parent.dataSource instanceof fe},r.prototype.convertToFlatData=function(e){var t=this;if(this.parent.flatData=!p(e)&&Object.keys(e).length===0&&!(this.parent.dataSource instanceof fe)?this.parent.dataSource:[],this.parent.parentData=[],Dt(this.parent)&&!Ko(this.parent)&&e instanceof fe&&!(e instanceof Array)){var i=this.parent.dataSource;if(this.parent.parentIdMapping){if(this.parent.query=p(this.parent.query)?new He:this.parent.query,this.parent.parentIdMapping){var n=this.parent.query.params.filter(function(o){return o.key==="IdMapping"});this.parent.initialRender&&!n.length&&(this.parent.query.where(this.parent.parentIdMapping,"equal",null),this.parent.query.addParams("IdMapping",this.parent.idMapping))}if(!this.parent.hasChildMapping){var s=this.parent.query.clone();s.queries=[],s=s.select([this.parent.parentIdMapping]),s.isCountRequired=!0,i.executeQuery(s).then(function(o){t.parentItems=re.distinct(o.result,t.parent.parentIdMapping,!1);var a;o.result?a=0:a=1,a===0&&(Ze("grid.contentModule.isLoaded",!0,t.parent),p(t.zerothLevelData)||(Ze("cancel",!1,t.zerothLevelData),H("grid.renderModule",t.parent).dataManagerSuccess(t.zerothLevelData),t.zerothLevelData=null),t.parent.grid.hideSpinner())})}}}else e instanceof Array&&this.convertJSONData(e)},r.prototype.convertJSONData=function(e){if(this.hierarchyData=[],this.taskIds=[],!this.parent.idMapping)this.hierarchyData=e;else for(var t=Object.keys(e),i=0;i<t.length;i++){var n=e[parseInt(i.toString(),10)];this.hierarchyData.push(ie({},n)),p(n[this.parent.idMapping])||this.taskIds.push(n[this.parent.idMapping])}if(this.isSelfReference){for(var s=[],o=new fe(this.hierarchyData).executeLocal(new He().group(this.parent.parentIdMapping)),i=0;i<o.length;i++){var a=o[parseInt(i.toString(),10)],l=this.taskIds.indexOf(a.key);if(!p(a.key)&&l>-1){var h=a.items;this.hierarchyData[parseInt(l.toString(),10)][this.parent.childMapping]=h;continue}s.push.apply(s,a.items)}this.hierarchyData=this.selfReferenceUpdate(s)}if(Object.keys(this.hierarchyData).length)this.createRecords(this.hierarchyData);else{var u="isGantt",c=!(this.parent.dataSource instanceof fe)&&this.parent[""+u];this.parent.flatData=c?this.parent.dataSource:[]}this.storedIndex=-1},r.prototype.selfReferenceUpdate=function(e){for(var t=[];this.hierarchyData.length>0&&e.length>0;){var i=e.indexOf(this.hierarchyData[0]);i===-1?this.hierarchyData.shift():(t.push(this.hierarchyData.shift()),e.splice(i,1))}return t},r.prototype.updateParentRemoteData=function(e){var t=this,i="actionArgs";Dt(this.parent)&&this.parent.enableVirtualization&&e[""+i].requestType==="virtualscroll"&&this.parent.hideSpinner();var n=e.result;if(Dt(this.parent)&&this.parent.enableVirtualization&&(e[""+i].requestType==="virtualscroll"||e[""+i].action==="clearFilter"||e[""+i].searchString==="")&&(this.parent.query.expands=[]),!this.parent.hasChildMapping&&!this.parentItems.length&&this.parent.loadChildOnDemand)this.zerothLevelData=e,Ze("cancel",!0,e);else if(this.parent.loadChildOnDemand)for(var s=function(d){if(ti(o.parent)&&n[parseInt(d.toString(),10)].hasChildRecords&&o.parent.initialRender&&(n[parseInt(d.toString(),10)].expanded=!1),Dt(o.parent)&&o.parent.enableVirtualization){var f=[],g=o.parent;n.filter(function(M){M[""+g.parentIdMapping]===n[parseInt(d.toString(),10)][""+g.idMapping]&&f.push(M)}),f.length?n[parseInt(d.toString(),10)].expanded=!0:n[parseInt(d.toString(),10)].hasChildRecords&&(n[parseInt(d.toString(),10)].expanded=!1)}if(p(n[parseInt(d.toString(),10)].index)){if(n[parseInt(d.toString(),10)].taskData=ie({},n[parseInt(d.toString(),10)]),n[parseInt(d.toString(),10)].uniqueID=hs(o.parent.element.id+"_data_"),Ze("uniqueIDCollection."+n[parseInt(d.toString(),10)].uniqueID,n[parseInt(d.toString(),10)],o.parent),Dt(o.parent)&&o.parent.enableVirtualization&&n[parseInt(d.toString(),10)][""+o.parent.parentIdMapping]&&(p(n[parseInt(d.toString(),10)].level)||n[parseInt(d.toString(),10)].level===0)){var m=n[parseInt(d.toString(),10)][""+o.parent.parentIdMapping],y=n.find(function(M){return M[""+t.parent.idMapping]===m});if(y)n[parseInt(d.toString(),10)].level=y.level+1;else{var v=e.actual.flatData.find(function(M){return M[""+t.parent.idMapping]===m});p(v[""+o.parent.parentIdMapping])?n[parseInt(d.toString(),10)].level=1:n[parseInt(d.toString(),10)].level=v.level+1}}else n[parseInt(d.toString(),10)].level=0;n[parseInt(d.toString(),10)].index=Math.ceil(Math.random()*1e3),(n[parseInt(d.toString(),10)][o.parent.hasChildMapping]||o.parentItems.indexOf(n[parseInt(d.toString(),10)][o.parent.idMapping])!==-1)&&(n[parseInt(d.toString(),10)].hasChildRecords=!0),n[parseInt(d.toString(),10)].checkboxState="uncheck"}},o=this,a=0;a<n.length;a++)s(a);else{var l="dataResults",h="expandRecord";!p(n)&&!(!this.parent.loadChildOnDemand&&ti(this.parent)&&!p(this.parent[""+l][""+h]))&&!(Dt(this.parent)&&!this.parent.loadChildOnDemand&&e[""+i].isExpandCollapse&&this.parent.enableVirtualization)&&this.convertToFlatData(n)}if(Dt(this.parent)&&!this.parent.loadChildOnDemand&&e[""+i].isExpandCollapse&&this.parent.enableVirtualization||Dt(this.parent)&&this.parent.enableVirtualization&&this.parent.loadChildOnDemand?e.result=n:e.result=this.parent.loadChildOnDemand?n:this.parent.flatData,Dt(this.parent)&&this.parent.enableVirtualization&&!this.parent.loadChildOnDemand&&this.parent.grid.aggregates.length&&this.parent.grid.sortSettings.columns.length===0&&this.parent.grid.filterSettings.columns.length===0&&!this.parent.grid.searchSettings.key.length){var u="query",c=e[""+u].queries.filter(function(d){return d.fn==="onAggregates"});e.result=this.parent.summaryModule.calculateSummaryValue(c,this.parent.flatData,!0)}this.parent.notify("updateResults",e)},r.prototype.collectExpandingRecs=function(e,t){var i=this.parent.getRows(),n="name";if(this.parent.rowTemplate){var s=this.parent.getContentTable().rows;i=[].slice.call(s)}var o;if(e.rows.length>0){t||(e.record.expanded=!0);for(var a=0;a<e.rows.length;a++){if(this.parent.toggleRowVisibility(e.rows[parseInt(a.toString(),10)],"e-childrow-visible"),!this.parent.loadChildOnDemand){var l=e.rows[parseInt(a.toString(),10)].getElementsByClassName("e-treegridcollapse")[0];o=this.parent.rowTemplate?this.parent.grid.getCurrentViewRecords()[e.rows[parseInt(a.toString(),10)].rowIndex]:this.parent.grid.getRowObjectFromUID(e.rows[parseInt(a.toString(),10)].getAttribute("data-uid")).data,!p(l)&&o.expanded&&(Z([l],"e-treegridexpand"),ue([l],"e-treegridcollapse"));var h=[];h=i.filter(function(c){return c.querySelector(".e-gridrowindex"+o.index+"level"+(o.level+1))}),h.length&&o.expanded&&this.collectExpandingRecs({record:o,rows:h,parentRow:e.parentRow},!0)}var u=e.rows[parseInt(a.toString(),10)].querySelector(".e-detailrowcollapse");p(u)||this.parent.grid.detailRowModule.expand(u)}this.parent.grid.pageSettings.totalRecordsCount+=e.rows.length}else this.fetchRemoteChildData({action:e[""+n],record:e.record,rows:e.rows,parentRow:e.parentRow})},r.prototype.fetchRemoteChildData=function(e){var t=this,i={row:e.parentRow,data:e.record},n=this.parent.dataSource,s=this.parent.grid.getDataModule().generateQuery(),o=s.queries.filter(function(u){return u.fn!=="onPage"&&u.fn!=="onWhere"});s.queries=o,s.isCountRequired=!0;var a=parseInt(e.record[this.parent.idMapping],10);if(isNaN(a)&&(a=e.record[this.parent.idMapping].toString()),this.parent.enableVirtualization&&e.action==="remoteExpand"){s.take(this.parent.grid.pageSettings.pageSize);var l=[];l.push("ExpandingAction",a.toString()),s.expand(l)}else if(this.parent.enableVirtualization&&e.action==="collapse"){s.take(this.parent.grid.pageSettings.pageSize);var l=[];l.push("CollapsingAction",a.toString()),s.expand(l)}if(s.where(this.parent.parentIdMapping,"equal",e.record[this.parent.idMapping]),e.action==="remoteExpand"&&this.parent.grid.filterSettings&&this.parent.grid.filterSettings.columns.length){var h=this.parent.grid.getDataModule().generateQuery().queries.filter(function(u){return u.fn!=="onPage"&&typeof u.e.predicates<"u"});s.queries.push(h[0])}oo(this.parent.element),n.executeQuery(s).then(function(u){var c="remoteExpandedData",d="remoteCollapsedData",f="level",g=t.parent.grid.currentViewData.slice(),m,y=t.parent.idMapping;if(t.parent.isGantt&&t.parent.loadChildOnDemand&&t.parent.hasChildMapping){for(var v=0;v<t.parent.grid.currentViewData.length;v++)if(e.record[y]===t.parent.grid.currentViewData[v][y]){m=v;break}}else m=g.indexOf(e.record);if(t.parent.enableVirtualization&&(e.action==="collapse"||e.action==="remoteExpand")){g=[];for(var v=0;v<m;v++)g.push(t.parent.grid.currentViewData[parseInt(v.toString(),10)])}m===-1&&t.parent.grid.getRowsObject().forEach(function(z){z.data.uniqueID===e.record.uniqueID&&(m=z.index)});var M=It("actual.nextLevel",u),S=u.result,b=[];if(e.action==="remoteExpand"&&t.parent.grid.filterModule&&t.parent.grid.filterModule.value){for(var v=0;v<g.length;v++)Object.prototype.hasOwnProperty.call(g[parseInt(v.toString(),10)],t.parent.parentIdMapping)&&g[parseInt(v.toString(),10)][""+t.parent.parentIdMapping]!==null&&g[parseInt(v.toString(),10)].level===0&&(g.splice(v,1),v--);for(var v=0;v<S.length;v++)e.record[""+t.parent.idMapping]!==S[parseInt(v.toString(),10)][""+t.parent.idMapping]&&e.record[""+t.parent.idMapping]===S[parseInt(v.toString(),10)][""+t.parent.parentIdMapping]&&Object.prototype.hasOwnProperty.call(S,v)&&b.push(S[parseInt(v.toString(),10)]);S=b}if(t.parent.enableVirtualization&&e.action==="remoteExpand"){e.record.childRecords=[];for(var v=0;v<S.length;v++)e.record[""+t.parent.idMapping]!==S[parseInt(v.toString(),10)][""+t.parent.idMapping]&&e.record[""+t.parent.idMapping]===S[parseInt(v.toString(),10)][""+t.parent.parentIdMapping]&&Object.prototype.hasOwnProperty.call(S,v)&&e.record.childRecords.push(S[parseInt(v.toString(),10)])}else e.record.childRecords=S;for(var C=function(z){var w=S[parseInt(z.toString(),10)];if(t.parent.enableVirtualization&&w[""+t.parent.idMapping]===e.record[""+t.parent.idMapping]&&e.action==="remoteExpand")t.parent[""+c].push(e.record);else if(t.parent.enableVirtualization&&w[""+t.parent.idMapping]===e.record[""+t.parent.idMapping]&&e.action==="collapse")for(var O=0;O<t.parent[""+c].length;O++)e.record[""+t.parent.idMapping]===t.parent[""+c][parseInt(O.toString(),10)][""+t.parent.idMapping]&&t.parent[""+c].splice(O,1);if(w.taskData=ie({},w),w[""+t.parent.parentIdMapping]&&t.parent.enableVirtualization&&t.parent[""+c].length){for(var O=0;O<t.parent[""+c].length;O++)if(w[""+t.parent.parentIdMapping]===t.parent[""+c][parseInt(O.toString(),10)][""+t.parent.idMapping]){w.level=t.parent[""+c][parseInt(O.toString(),10)][""+f]+1;var L=t.parent[""+c][parseInt(O.toString(),10)];delete L.childRecords,w.parentItem=L,w.parentUniqueID=L.uniqueID}}else if(t.parent.enableVirtualization)if((w[""+t.parent.hasChildMapping]||t.parentItems.indexOf(w[""+t.parent.idMapping])!==-1)&&!(M&&!M[parseInt(z.toString(),10)]))p(w[""+t.parent.parentIdMapping])?(w.level=0,e.action==="remoteExpand"&&(w.childRecords=[],w.childRecords=e.record.childRecords)):w.level=e.record.level;else{var L=ie({},e.record);delete L.childRecords,w.parentItem=L,w.parentUniqueID=e.record.uniqueID}else{w.level=e.record.level+1;var L=ie({},e.record);delete L.childRecords,w.parentItem=L,w.parentUniqueID=e.record.uniqueID}if(w.index=Math.ceil(Math.random()*1e3),w.uniqueID=hs(t.parent.element.id+"_data_"),e.record[""+t.parent.idMapping]===w[""+t.parent.idMapping]&&(e.record.uniqueID=w.uniqueID),w.checkboxState="uncheck",t.parent.enableVirtualization&&p(w.level))for(var j=0;j<t.parent.grid.currentViewData.length;j++)t.parent.grid.currentViewData[parseInt(j.toString(),10)][""+t.parent.idMapping]===w[""+t.parent.parentIdMapping]&&(w.level=t.parent.grid.currentViewData[parseInt(j.toString(),10)].level+1);if(Ze("uniqueIDCollection."+w.uniqueID,w,t.parent),(w[""+t.parent.hasChildMapping]||t.parentItems.indexOf(w[""+t.parent.idMapping])!==-1)&&!(M&&!M[parseInt(z.toString(),10)]))if(w.hasChildRecords=!0,t.parent.enableVirtualization&&!t.parent.loadChildOnDemand){for(var O=0;O<t.parent[""+d].length;O++)w[""+t.parent.idMapping]===t.parent[""+d][parseInt(O.toString(),10)][""+t.parent.idMapping]&&(w.expanded=t.parent[""+d][parseInt(O.toString(),10)].expanded);if(e.action==="collapse"&&w[""+t.parent.idMapping]!==e.record[""+t.parent.idMapping]&&w.expanded!==!1)w.expanded=!0;else if(e.action==="collapse"&&w[""+t.parent.idMapping]===e.record[""+t.parent.idMapping])w.expanded=!1,t.parent[""+d].push(e.record);else if(e.action==="remoteExpand"){for(var O=0;O<t.parent.grid.currentViewData.length;O++)t.parent.grid.currentViewData[parseInt(O.toString(),10)][""+t.parent.idMapping]===w[""+t.parent.idMapping]&&S.splice(z,1,t.parent.grid.currentViewData[parseInt(O.toString(),10)]);if(w[t.parent.idMapping]===e.record[""+t.parent.idMapping])for(var O=0;O<t.parent[""+d].length;O++)e.record[""+t.parent.idMapping]===t.parent[""+d][parseInt(O.toString(),10)][""+t.parent.idMapping]&&t.parent[""+d].splice(O,1);w.expanded!==!1&&(w.expanded=!0)}}else t.parent.enableVirtualization&&w[""+t.parent.idMapping]===e.record[""+t.parent.idMapping]&&e.action!=="collapse"?w.expanded=!0:t.parent.enableVirtualization&&!t.parent.loadChildOnDemand||(w.expanded=!1);var B=g.some(function(V){return V[""+t.parent.idMapping]===w[t.parent.idMapping]});B||g.splice(m+z+1,0,w)},T=0;T<S.length;T++)C(T);var k=t.parent.idMapping;if(t.parent.enableVirtualization&&t.parent.loadChildOnDemand&&g.sort(function(z,w){return z[""+k]-w[""+k]}),Ze("result",g,u),Ze("action","beforecontentrender",u),t.parent.trigger(FC,u),wl(t.parent.element),t.parent.grid.aggregates.length>0&&!t.parent.enableVirtualization){var N=It("query",u),A="result";if(p(N)&&(N=H("grid.renderModule.data",t.parent).aggregateQuery(new He)),!p(N)){var E=N.queries.filter(function(z){return z.fn==="onAggregates"});u[""+A]=t.parent.summaryModule.calculateSummaryValue(E,u[""+A],!0)}}e.action==="remoteExpand"&&t.parent.allowPaging&&t.parent.pageSettings.pageSizeMode==="All"&&(t.parent.grid.pageSettings.totalRecordsCount=t.parent.grid.pageSettings.totalRecordsCount+S.length),t.parent.enableVirtualization&&(t.parent.grid.pageSettings.totalRecordsCount=u.count),u.count=t.parent.grid.pageSettings.totalRecordsCount;var x={};t.parent.enableVirtualization&&t.remoteVirtualAction(x);var D={index:m,childData:S};t.parent.enableInfiniteScrolling?t.parent.notify("infinite-remote-expand",D):H("grid.renderModule",t.parent).dataManagerSuccess(u,x),t.parent.trigger(Cd,i)})},r.prototype.remoteVirtualAction=function(e){e.requestType="refresh",Ze("isExpandCollapse",!0,e);var t=H("grid.contentModule",this.parent),i=H("currentInfo",t),n=H("prevInfo",t);i.loadNext&&this.parent.grid.pageSettings.currentPage===i.nextInfo.page&&!this.parent.loadChildOnDemand&&(this.parent.grid.pageSettings.currentPage=n.page)},r.prototype.beginSorting=function(){if(this.isSortAction=!0,Dt(this.parent)&&this.parent.enableVirtualization){var e=this.parent.query.queries.indexOf(this.parent.query.queries.filter(function(t){return t.fn==="onSortBy"})[0]);e!==-1&&this.parent.query.queries.splice(e,1),this.parent.grid.sortSettings.columns.length===0&&this.parent.query.sortBy(null,null)}},r.prototype.createRecords=function(e,t){for(var i=[],n=Object.keys(e),s=0,o=n.length;s<o;s++){var a=ie({},e[parseInt(s.toString(),10)]);a.taskData=e[parseInt(s.toString(),10)];var l=0;this.storedIndex++,Object.prototype.hasOwnProperty.call(a,"index")||(a.index=this.storedIndex);var h=a[this.parent.childMapping],u=!p(h)&&h.length>0,c=ti(this.parent),d=a[this.parent.hasChildMapping];if(u&&!c||d&&c?a.hasChildRecords=!0:a.hasChildRecords=!1,(!p(h)&&!c||d&&c)&&(this.parent.enableCollapseAll||!p(this.parent.dataStateChange)&&p(h)?a.expanded=!1:a.expanded=p(a[this.parent.expandStateMapping])?!0:a[this.parent.expandStateMapping]),Object.prototype.hasOwnProperty.call(a,"index")||(a.index=a.hasChildRecords?this.storedIndex:this.storedIndex),this.isSelfReference&&p(a[this.parent.parentIdMapping])&&this.parent.parentData.push(a),a.uniqueID=hs(this.parent.element.id+"_data_"),this.parent.uniqueIDCollection[a.uniqueID]=a,!p(t)){var f=ie({},t);delete f.childRecords,delete f[this.parent.childMapping],this.isSelfReference&&delete f.taskData[this.parent.childMapping],a.parentItem=f,a.parentUniqueID=f.uniqueID,l=t.level+1}Object.prototype.hasOwnProperty.call(a,"level")||(a.level=l),a.checkboxState="uncheck";var g="remoteCollapsedData";if(this.parent.enableVirtualization&&!this.parent.loadChildOnDemand&&Dt(this.parent)&&!this.parent.initialRender){if(!a.hasChildRecords&&p(a[""+this.parent.parentIdMapping])){a.hasChildRecords=!0;for(var m=0;m<this.parent[""+g].length;m++)this.parent[""+g][parseInt(m.toString(),10)][""+this.parent.idMapping]===a[""+this.parent.idMapping]&&(a.expanded=!1)}else a.level===0&&p(t)&&!a.hasChildRecords&&(a.level=a.level+1);a[""+this.parent.hasChildMapping]&&!p(a[""+this.parent.expandStateMapping])&&(a.expanded=a[""+this.parent.expandStateMapping],a.hasChildRecords=!0),this.parent.flatData.push(a)}else(p(a[""+this.parent.parentIdMapping])||a.parentItem)&&(p(this.parent.rowDropSettings.targetID)?this.parent.flatData.push(a):this.parent.rowDragAndDropModule.isDuplicateData(a)||this.parent.flatData.push(a),this.parent.infiniteScrollData.push(a));if(!this.isSelfReference&&a.level===0&&this.parent.parentData.push(a),!p(a[this.parent.childMapping]&&a[this.parent.childMapping].length)){var y=this.createRecords(a[this.parent.childMapping],a);a.childRecords=y}i.push(a)}return i},r.prototype.dataProcessor=function(e){var t=It("isExport",e),i=It("expresults",e),n=It("exportType",e),s=It("isPrinting",e),o,a=It("actionArgs",e),l=It("requestType",e),h=It("data",e),u=It("action",e),c=a,d=this.parent.getPrimaryKeyFieldNames()[0],f=It("data",c);!p(c)&&!p(c.action)&&c.action==="add"&&!p(c.data)&&p(c.data[""+d])&&(c.data[""+d]=e.result[c.index][""+d],f.taskData[""+d]=e.result[c.index][""+d]),(!p(a)&&Object.keys(a).length||l==="save")&&(l=l||a.requestType,h=h||It("data",a),u=u||It("action",a),this.parent.editSettings.mode==="Batch"&&(this.batchChanges=this.parent.grid.editModule.getBatchChanges()),this.parent.isLocalData&&this.updateAction(h,u,l)),t&&!p(i)?o=i:o=ti(this.parent)?H("result",this.parent.grid.dataSource):this.parent.grid.dataSource;var g=o instanceof fe?o.dataSource.json:o,m=ti(this.parent)?H("count",this.parent.dataSource):g.length,y=new He,v=It("query",e),M,S;if(p(v)||(M=v.queries.filter(function(K){return K.fn==="onWhere"}),S=v.queries.filter(function(K){return K.fn==="onSearch"})),this.parent.grid.allowFiltering&&this.parent.grid.filterSettings.columns.length||this.parent.grid.searchSettings.key.length>0||!p(v)&&(M.length||S.length)&&this.parent.isLocalData){p(v)&&(v=new He,v=H("grid.renderModule.data",this.parent).filterQuery(v),v=H("grid.renderModule.data",this.parent).searchQuery(v));var b=v.queries.filter(function(K){return K.fn==="onWhere"}),C=v.queries.filter(function(K){return K.fn==="onSearch"});y.queries=b.concat(C);var T=new fe(g).executeLocal(y);if(this.parent.notify("updateFilterRecs",{data:T}),g=this.dataResults.result,this.dataResults.result=null,this.parent.grid.aggregates.length>0){var k=It("query",e);if(p(v)&&(v=H("grid.renderModule.data",this.parent).aggregateQuery(new He)),!p(k)){var N=k.queries.filter(function(K){return K.fn==="onAggregates"});g=this.parent.summaryModule.calculateSummaryValue(N,g,!0)}}}if(this.parent.grid.aggregates.length&&this.parent.grid.sortSettings.columns.length===0&&this.parent.grid.filterSettings.columns.length===0&&!this.parent.grid.searchSettings.key.length){var A=It("query",e);p(A)&&(A=H("grid.renderModule.data",this.parent).aggregateQuery(new He));var N=A.queries.filter(function(le){return le.fn==="onAggregates"});g=this.parent.summaryModule.calculateSummaryValue(N,this.parent.flatData,!0)}if(this.parent.grid.sortSettings.columns.length>0||this.isSortAction){this.isSortAction=!1;for(var E=this.parent.parentData,k=It("query",e),x=new He,D=this.parent.grid.sortSettings.columns.length-1;D>=0;D--){var z="getColumnByField",w=this.parent.grid.renderModule.data[""+z](this.parent.grid.sortSettings.columns[parseInt(D.toString(),10)].field),O=w.sortComparer&&Ko(this.parent)?w.sortComparer.bind(w):this.parent.grid.sortSettings.columns[parseInt(D.toString(),10)].direction;x.sortBy(this.parent.grid.sortSettings.columns[parseInt(D.toString(),10)].field,O)}var L=new fe(E).executeLocal(x);if(this.parent.allowRowDragAndDrop&&!p(this.parent.rowDragAndDropModule.draggedRecord)&&this.parent.rowDragAndDropModule.droppedRecord.hasChildRecords&&this.parent.rowDragAndDropModule.dropPosition!=="middleSegment"){var j=L.indexOf(this.parent.rowDragAndDropModule.draggedRecord);L.splice(j,1);var B=L.indexOf(this.parent.rowDragAndDropModule.droppedRecord);this.parent.rowDragAndDropModule.droppedRecord.hasChildRecords&&this.parent.rowDragAndDropModule.dropPosition==="topSegment"?L.splice(B,0,this.parent.rowDragAndDropModule.draggedRecord):this.parent.rowDragAndDropModule.dropPosition==="bottomSegment"&&L.splice(B+1,0,this.parent.rowDragAndDropModule.draggedRecord)}var V={modifiedData:L,filteredData:g,srtQry:x};if(this.parent.notify("createSort",V),g=V.modifiedData,this.dataResults.result=null,this.sortedData=g,this.parent.notify("updateModel",{}),this.parent.grid.aggregates.length>0&&!p(k)){var ee=!1,W=It("query",e),N=W.queries.filter(function(me){return me.fn==="onAggregates"});g=this.parent.summaryModule.calculateSummaryValue(N,this.sortedData,ee)}}m=ti(this.parent)?H("count",this.parent.dataSource):g.length;var J=this.paging(g,m,t,s,n,e);g=J.result,m=J.count,e.result=g,e.count=m,this.parent.notify("updateResults",e)},r.prototype.paging=function(e,t,i,n,s,o){if(this.parent.allowPaging&&(!i||s==="CurrentPage")&&(!n||this.parent.printMode==="CurrentPage"))this.parent.notify(VN,{result:e,count:t,actionArgs:o}),e=this.dataResults.result,t=ti(this.parent)?H("count",this.parent.dataSource):this.dataResults.count;else if((this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&(!i||s==="CurrentPage")&&H("requestType",o)!=="save"){var a=this.parent.enableInfiniteScrolling?o:H("actionArgs",o);this.parent.notify(VN,{result:e,count:t,actionArgs:a}),e=this.dataResults.result,t=this.dataResults.count}var l="isPdfExport",h="isCollapsedStatePersist";if((n===!0||o[""+l]&&(p(o[""+h])||o[""+h]))&&this.parent.printMode==="AllPages"){for(var u=[],c=0;c<e.length;c++){var d=Tc(this.parent,e[parseInt(c.toString(),10)],this.parent.parentData);d&&u.push(e[parseInt(c.toString(),10)])}e=u,t=e.length}var f={result:e,count:t};return f},r.prototype.updateData=function(e){this.dataResults=e},r.prototype.updateAction=function(e,t,i){(i==="delete"||i==="save")&&this.parent.notify(Bie,{value:e,action:t||i}),i==="batchsave"&&this.parent.editSettings.mode==="Batch"&&this.parent.notify(wP,{})},r}(),Ha;(function(r){r[r.Add=0]="Add",r[r.Edit=1]="Edit",r[r.Update=2]="Update",r[r.Delete=3]="Delete",r[r.Cancel=4]="Cancel",r[r.Search=5]="Search",r[r.ExpandAll=6]="ExpandAll",r[r.CollapseAll=7]="CollapseAll",r[r.ExcelExport=8]="ExcelExport",r[r.PdfExport=9]="PdfExport",r[r.CsvExport=10]="CsvExport",r[r.Print=11]="Print",r[r.RowIndent=12]="RowIndent",r[r.RowOutdent=13]="RowOutdent"})(Ha||(Ha={}));var Yd;(function(r){r[r.AutoFit=0]="AutoFit",r[r.AutoFitAll=1]="AutoFitAll",r[r.SortAscending=2]="SortAscending",r[r.SortDescending=3]="SortDescending",r[r.Edit=4]="Edit",r[r.Delete=5]="Delete",r[r.Save=6]="Save",r[r.Cancel=7]="Cancel",r[r.PdfExport=8]="PdfExport",r[r.ExcelExport=9]="ExcelExport",r[r.CsvExport=10]="CsvExport",r[r.FirstPage=11]="FirstPage",r[r.PrevPage=12]="PrevPage",r[r.LastPage=13]="LastPage",r[r.NextPage=14]="NextPage",r[r.AddRow=15]="AddRow",r[r.RowIndent=16]="RowIndent",r[r.RowOutdent=17]="RowOutdent"})(Yd||(Yd={}));var lne=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ca=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},hne=function(r){lne(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Ca([I(12)],e.prototype,"pageSize",void 0),Ca([I(8)],e.prototype,"pageCount",void 0),Ca([I(1)],e.prototype,"currentPage",void 0),Ca([I()],e.prototype,"totalRecordsCount",void 0),Ca([I(!1)],e.prototype,"enableQueryString",void 0),Ca([I(!1)],e.prototype,"pageSizes",void 0),Ca([I(null)],e.prototype,"template",void 0),Ca([I("All")],e.prototype,"pageSizeMode",void 0),e}(Xe),xP=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Va=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},une=function(r){xP(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.intl=new of,t.templateFn={},t}return e.prototype.setFormatter=function(t){this.format&&(this.format.skeleton||this.format.format)&&(this.formatFn=this.getFormatFunction(this.format))},e.prototype.getFormatFunction=function(t){return t.type?this.intl.getDateFormat(t):this.intl.getNumberFormat(t)},e.prototype.getFormatter=function(){return this.formatFn},e.prototype.setTemplate=function(t){t===void 0&&(t={}),this.footerTemplate!==void 0&&(this.templateFn[no(We,We.Summary)]={fn:Xt(this.footerTemplate,t),property:"footerTemplate"})},e.prototype.getTemplate=function(t){return this.templateFn[no(We,t)]},e.prototype.setPropertiesSilent=function(t){this.setProperties(t,!0)},Va([I()],e.prototype,"type",void 0),Va([I()],e.prototype,"footerTemplate",void 0),Va([I()],e.prototype,"field",void 0),Va([I()],e.prototype,"format",void 0),Va([I()],e.prototype,"columnName",void 0),Va([I()],e.prototype,"customAggregate",void 0),e}(Xe),cne=function(r){xP(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Va([Li([],une)],e.prototype,"columns",void 0),Va([I(!0)],e.prototype,"showChildSummary",void 0),e}(Xe),dne=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ms=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},pne=function(r){dne(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Ms([I(!1)],e.prototype,"allowAdding",void 0),Ms([I(!1)],e.prototype,"allowEditing",void 0),Ms([I(!1)],e.prototype,"allowDeleting",void 0),Ms([I("Cell")],e.prototype,"mode",void 0),Ms([I("Top")],e.prototype,"newRowPosition",void 0),Ms([I(!0)],e.prototype,"allowEditOnDblClick",void 0),Ms([I(!0)],e.prototype,"showConfirmDialog",void 0),Ms([I(!1)],e.prototype,"showDeleteConfirmDialog",void 0),Ms([I("")],e.prototype,"template",void 0),Ms([I({})],e.prototype,"dialog",void 0),Ms([I(!1)],e.prototype,"allowNextRowEdit",void 0),e}(Xe),NP=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),My=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},fne=function(r){NP(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return My([I()],e.prototype,"field",void 0),My([I()],e.prototype,"direction",void 0),e}(Xe),gne=function(r){NP(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return My([Li([],fne)],e.prototype,"columns",void 0),My([I(!0)],e.prototype,"allowUnsort",void 0),e}(Xe);function c0(r,e,t,i,n,s,o){var a=r.value,l=r.action,h="changedRecords",u,c,d="addedRecords",f,g=e.grid.getPrimaryKeyFieldNames()[0],m=e.dataSource instanceof fe?e.dataSource.dataSource.json:e.dataSource,y=e.grid.dataSource,v=[],M=a,S=!1;if(e.editSettings.mode==="Batch"&&(f=e.grid.editModule.getBatchChanges()),l==="add"||l==="batchsave"&&e.editSettings.mode==="Batch"&&f[""+d].length){var b=mne(r,m,e,t,i,n,o);a=b.value,S=b.isSkip}if(a instanceof Array?v=HC(a):v.push(ie({},a)),!S&&(l!=="add"||e.editSettings.newRowPosition!=="Top"&&e.editSettings.newRowPosition!=="Bottom"))for(var C=0;C<v.length;C++){typeof v[parseInt(C.toString(),10)][""+g]=="object"&&(v[parseInt(C.toString(),10)]=v[parseInt(C.toString(),10)][""+g]);var T=v[parseInt(C.toString(),10)].taskData?Object.keys(v[parseInt(C.toString(),10)].taskData):Object.keys(v[parseInt(C.toString(),10)]);u=m.length===0&&y.length===1?y.length:m.length;for(var k=function(){if(m.length===0&&y.length===1&&y[parseInt(u.toString(),10)][""+g]===v[parseInt(C.toString(),10)][""+g]||m[parseInt(u.toString(),10)][""+g]===v[parseInt(C.toString(),10)][""+g])if(l==="delete"){var A=m[parseInt(u.toString(),10)];if(m.splice(u,1),t){if(!p(A[""+e.parentIdMapping])){for(var E=e.flatData.filter(function(O){return O[""+e.idMapping]===A[""+e.parentIdMapping]})[0],x=E?E[""+e.childMapping]:[],D=x.length-1;D>=0;D--)if(x[parseInt(D.toString(),10)][""+e.idMapping]===A[""+e.idMapping]){!e.enableImmutableMode&&E.childRecords.length===E.Children.length&&E.childRecords.splice(D,1),x.splice(D,1),x.length||(E.hasChildRecords=!1,to(g,E,l,e,t));break}}return"break"}}else{if(l==="edit"){for(c=0;c<T.length;c++)if(Object.prototype.hasOwnProperty.call(m[parseInt(u.toString(),10)],T[parseInt(c.toString(),10)])&&(e.editSettings.mode!=="Cell"||!p(f)&&f[""+h].length===0||T[parseInt(c.toString(),10)]===s)){var z=Xh(e,v[parseInt(C.toString(),10)].uniqueID);m[parseInt(u.toString(),10)][T[parseInt(c.toString(),10)]]=v[parseInt(C.toString(),10)][T[parseInt(c.toString(),10)]],z&&z.taskData&&(z.taskData[T[parseInt(c.toString(),10)]]=z[T[parseInt(c.toString(),10)]]=m[parseInt(u.toString(),10)][T[parseInt(c.toString(),10)]])}}else if(l==="add"||l==="batchsave"){var w=void 0;e.editSettings.newRowPosition==="Child"?m.length===0&&y.length===1?m.push(M.taskData):t?(M.taskData[""+e.parentIdMapping]=m[parseInt(u.toString(),10)][""+e.idMapping],m.splice(u+1,0,M.taskData)):(Object.prototype.hasOwnProperty.call(m[parseInt(u.toString(),10)],e.childMapping)||(m[parseInt(u.toString(),10)][""+e.childMapping]=[]),m[parseInt(u.toString(),10)][""+e.childMapping].push(M.taskData),to(g,m[parseInt(u.toString(),10)],l,e,t,M)):e.editSettings.newRowPosition==="Below"?(m.splice(u+1,0,M.taskData),p(M.parentItem)||to(g,m[u+1],l,e,t,M)):i?e.editSettings.newRowPosition==="Above"&&(m.splice(u,0,M.taskData),p(M.parentItem)||to(g,m[parseInt(u.toString(),10)],l,e,t,M)):(w=0,m.splice(w,0,M.taskData))}return"break"}else p(m[parseInt(u.toString(),10)][""+e.childMapping])||AP(m[parseInt(u.toString(),10)][""+e.childMapping],v[parseInt(C.toString(),10)],l,g,e,t,M,s)&&to(g,m[parseInt(u.toString(),10)],l,e,t)};u--&&u>=0;){var N=k();if(N==="break")break}}}function mne(r,e,t,i,n,s,o){var a,l=!1,h=t.grid.getCurrentViewRecords();switch(a=ie({},r.value),a=mu(a),t.editSettings.newRowPosition){case"Top":e.unshift(a),l=!0;break;case"Bottom":e.push(a),l=!0;break;case"Above":p(o)?(h.length===0||(a=ie({},h[n+1])),a=mu(a)):(a=ie({},o),a=mu(a));break;case"Below":case"Child":if(!p(o))a=ie({},o),a=mu(a);else{var u=t.grid.getPrimaryKeyFieldNames()[0],c=h.length>0?h[parseInt(n.toString(),10)]:[];!p(c)&&c[""+u]===r.value[""+u]||s!==-1&&e.length!==0?a=ie({},c):a=ie({},r.value),a=mu(a);var d="internalProperties";t.editModule[""+d].taskData=a}s===-1&&(e.unshift(a),l=!0)}return{value:a,isSkip:l}}function AP(r,e,t,i,n,s,o,a){for(var l=!1,h=r.length;h--&&h>=0;)if(r[parseInt(h.toString(),10)][""+i]===e[""+i]||s&&r[parseInt(h.toString(),10)][n.parentIdMapping]===e[n.idMapping])if(t==="edit"){for(var u=Object.keys(e),c=Xh(n,e.uniqueID),d=0;d<u.length;d++)if(Object.prototype.hasOwnProperty.call(r[parseInt(h.toString(),10)],u[parseInt(d.toString(),10)])&&(n.editSettings.mode!=="Cell"||u[parseInt(d.toString(),10)]===a)&&(c[u[parseInt(d.toString(),10)]]=c.taskData[u[parseInt(d.toString(),10)]]=r[parseInt(h.toString(),10)][u[parseInt(d.toString(),10)]]=e[u[parseInt(d.toString(),10)]],n.grid.editSettings.mode==="Normal"&&n.editSettings.mode==="Cell"&&!p(n.grid.editModule))){var f="editModule";n.grid.editModule[""+f].editRowIndex=e.index,n.grid.editModule[""+f].updateCurrentViewData(e)}break}else t==="add"||t==="batchsave"?n.editSettings.newRowPosition==="Child"?s?(o[""+n.parentIdMapping]=r[parseInt(h.toString(),10)][n.idMapping],r.splice(h+1,0,o),to(i,r[parseInt(h.toString(),10)],t,n,s,o)):(Object.prototype.hasOwnProperty.call(r[parseInt(h.toString(),10)],n.childMapping)||(r[parseInt(h.toString(),10)][n.childMapping]=[]),r[parseInt(h.toString(),10)][n.childMapping].push(o.taskData),to(i,r[parseInt(h.toString(),10)],t,n,s,o)):n.editSettings.newRowPosition==="Above"?(r.splice(h,0,o.taskData),p(o.parentItem)||to(i,r[parseInt(h.toString(),10)],t,n,s,o)):n.editSettings.newRowPosition==="Below"&&(r.splice(h+1,0,o.taskData),p(o.parentItem)||to(i,r[parseInt(h.toString(),10)],t,n,s,o)):(r.splice(h,1),r.length||(l=!0));else p(r[parseInt(h.toString(),10)][n.childMapping])||AP(r[parseInt(h.toString(),10)][n.childMapping],e,t,i,n,s,o,a)&&to(i,r[parseInt(h.toString(),10)],t,n,s);return l}function to(r,e,t,i,n,s){if((i.editSettings.newRowPosition==="Above"||i.editSettings.newRowPosition==="Below")&&(t==="add"||t==="batchsave")&&!p(s.parentItem)){var o=Xh(i,s.parentItem.uniqueID);o.childRecords.push(s)}else{var a=i.grid.getCurrentViewRecords(),l;if(a.map(function(v,M){if(v[""+r]===e[""+r]){l=M;return}}),i.enableVirtualization&&p(l)){var h=H("uniqueIDCollection."+s.parentUniqueID,i);e=h}if(p(l)||(e=a[parseInt(l.toString(),10)]),i.enableVirtualization&&p(e)&&!p(s)&&(e=H("uniqueIDCollection."+s.parentUniqueID,i)),!n&&!p(e.childRecords)&&e.childRecords.length?e.hasChildRecords=!0:e.hasChildRecords=!1,t==="add"||t==="batchsave"){e.expanded=!0,e.hasChildRecords=!0,i.sortSettings.columns.length&&p(s)&&(s=a.filter(function(v){return v.parentUniqueID===e.uniqueID?v:null}));var u=s?s instanceof Array?s[0]:s:a[l+1];i.editSettings.newRowPosition!=="Below"&&(Object.prototype.hasOwnProperty.call(e,"childRecords")?!p(s)&&e[""+r]!==s[""+r]&&(e.childRecords.some(function(v){return v.uniqueID===s.uniqueID})||e.childRecords.push(s)):e.childRecords=[],e.childRecords.indexOf(u)===-1&&e[""+r]!==s[""+r]&&e.childRecords.unshift(u),n&&(Object.prototype.hasOwnProperty.call(e,i.childMapping)||(e[i.childMapping]=[]),e[""+i.childMapping].indexOf(u)===-1&&e[""+r]!==s[""+r]&&e[i.childMapping].unshift(u)))}for(var c=i.grid.getPrimaryKeyFieldNames()[0],d=i.grid.dataSource instanceof fe?i.grid.dataSource.dataSource.json:i.grid.dataSource,f=0;f<d.length;f++)if(d[parseInt(f.toString(),10)][""+c]===e[""+c]){d[parseInt(f.toString(),10)]=e;break}i.grid.setRowData(r,e);var g=i.getRowByIndex(l);i.editSettings.mode==="Batch"&&(t==="add"?g=i.getRows()[i.grid.getCurrentViewRecords().indexOf(e)]:g=i.getRows()[i.grid.getRowIndexByPrimaryKey(e[""+r])]);var m=void 0;if((i.frozenRows||i.getFrozenColumns())&&(m=i.getRowByIndex(l)),!i.enableVirtualization&&!p(g)||!p(m)){var y=i.treeColumnIndex;i.allowRowDragAndDrop&&i.enableImmutableMode&&(y=y+1),i.renderModule.cellRender({data:e,cell:g.cells[parseInt(y.toString(),10)]?g.cells[parseInt(y.toString(),10)]:m.cells[y-i.getFrozenColumns()],column:i.grid.getColumns()[i.treeColumnIndex],requestType:t}),(i.enableImmutableMode&&i.action==="indenting"||i.action==="outdenting")&&i.renderModule.RowModifier({data:e,row:g})}}}var yne=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),d0=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},vne=function(r){yne(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return d0([I(!1)],e.prototype,"enableCache",void 0),d0([I(3)],e.prototype,"maxBlocks",void 0),d0([I(3)],e.prototype,"initialBlocks",void 0),e}(Xe),Mne=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Gl=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Sne=function(r){Mne(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Gl([I("startsWith")],e.prototype,"operator",void 0),Gl([I(!1)],e.prototype,"ignoreAccent",void 0),Gl([I(null)],e.prototype,"headerTemplate",void 0),Gl([I(null)],e.prototype,"template",void 0),Gl([I(null)],e.prototype,"footerTemplate",void 0),Gl([I(!0)],e.prototype,"enableSearching",void 0),Gl([I(null)],e.prototype,"renderCustomColumnChooser",void 0),e}(Xe),Cne=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Se=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},EP=function(r){Cne(e,r);function e(i,n){var s=r.call(this,i,n)||this;s.dataResults={},s.uniqueIDCollection={},s.uniqueIDFilterCollection={},s.changedRecords="changedRecords",s.deletedRecords="deletedRecords",s.addedRecords="addedRecords",s.indentOutdentAction="indentOutdentAction",s.isFromChartSide=!1,s.modifiedRecords=[],s.stackedHeader=!1,s.freezeColumnRefresh=!0,s.componentRefresh=rr.prototype.refresh,s.isComponentRefresh=!1,s.isVirtualExpandCollapse=!1,s.objectEqualityChecker=function(a,l){if(a){for(var h=Object.keys(a),u=!0,c=["Children","childRecords","taskData","uniqueID","parentItem","parentUniqueID","index"],d=0;d<h.length;d++)if(a[h[parseInt(d.toString(),10)]]!==l[h[parseInt(d.toString(),10)]]&&c.indexOf(h[parseInt(d.toString(),10)])===-1){var f=a[h[parseInt(d.toString(),10)]]instanceof Date&&l[h[parseInt(d.toString(),10)]]instanceof Date;if(!f||a[h[parseInt(d.toString(),10)]].getTime()!==l[h[parseInt(d.toString(),10)]].getTime()){u=!1;break}}return u}else return!1},t.Inject(ene,RN),Ze("mergePersistData",s.mergePersistTreeGridData,s);var o="Logger";return p(s.injectedModules[""+o])||ch.Inject(gy),s.injectedModules.filter(function(a){a.prototype.getModuleName()==="freeze"&&ch.Inject(fie)}),s.grid=new ch,s}t=e,e.prototype.excelExport=function(i,n,s,o){return this.allowExcelExport?this.excelExportModule.Map(i,n,s,o,!1):null},e.prototype.csvExport=function(i,n,s,o){return this.allowExcelExport?this.excelExportModule.Map(i,n,s,o,!0):null},e.prototype.pdfExport=function(i,n,s,o){return this.allowPdfExport?this.pdfExportModule.Map(i,n,s,o):null},e.prototype.serverExcelExport=function(i){this.isExcel=!0,this.exportTreeGrid(i)},e.prototype.serverPdfExport=function(i){this.isExcel=!1,this.exportTreeGrid(i)},e.prototype.serverCsvExport=function(i){this.isExcel=!0,this.exportTreeGrid(i)},e.prototype.exportTreeGrid=function(i){var n=this,s=n.grid.getDataModule().generateQuery(!0),o=new hr().processQuery(new fe({url:""}),s),a=JSON.parse(o.data),l=JSON.parse(this.addOnPersist(["allowPaging","pageSettings","sortSettings","allowPdfExport","allowExcelExport","aggregates","filterSettings","columns","locale","searchSettings","idMapping","parentIdMapping","childMapping","treeColumnIndex"])),h=["field","headerText","type","format","visible","template","index","width","textAlign","headerTextAlign","columns"];l.filterSettings.columns=a.where,l.searchSettings.fields=a.search&&a.search[0].fields||[],l.sortSettings.columns=a.sorted,l.columns=this.setHeaderText(l.columns,h);var u=this.createElement("form",{id:"ExportForm"});u.style.display="none";var c=this.createElement("input",{id:"treeGridInput",attrs:{name:"treeGridModel"}});c.value=JSON.stringify(l),u.method="POST",u.action=i,u.appendChild(c),document.body.appendChild(u),u.submit(),u.remove()},e.prototype.setHeaderText=function(i,n){for(var s=0;s<i.length;s++){var o=this.getColumnByUid(i[parseInt(s.toString(),10)].uid);this.stackedHeader&&p(o)&&(o=p(i[parseInt(s.toString(),10)].field)?i[parseInt(s.toString(),10)]:this.getColumnByField(i[parseInt(s.toString(),10)].field)),i[parseInt(s.toString(),10)].headerText=o.headerText,p(o.template)||(i[parseInt(s.toString(),10)].template="true"),i[parseInt(s.toString(),10)].format&&(i[parseInt(s.toString(),10)].format=yP(this.getFormat(o.format),o.type,!1,this.currencyCode),!this.isExcel&&(o.type==="datetime"||o.type==="date")&&(i[parseInt(s.toString(),10)].format=i[parseInt(s.toString(),10)].format.toString().replace("AM/PM","tt")),i[parseInt(s.toString(),10)].type=o.type),i[parseInt(s.toString(),10)].columns&&this.setHeaderText(i[parseInt(s.toString(),10)].columns,n);for(var a=Object.keys(i[parseInt(s.toString(),10)]),l=0;l<a.length;l++)n.indexOf(a[parseInt(l.toString(),10)])<0&&delete i[parseInt(s.toString(),10)][a[parseInt(l.toString(),10)]]}return i},e.prototype.getFormat=function(i){return typeof i=="object"?p(i.format)?i.skeleton:i.format:i},e.prototype.getModuleName=function(){return"treegrid"},e.prototype.refreshLayout=function(){this.componentRefresh()},e.prototype.setProperties=function(i,n){r.prototype.setProperties.call(this,i,n)},e.prototype.preRender=function(){this.isComponentRefresh&&(this.grid=new ch),this.TreeGridLocale(),this.initProperties(),this.defaultLocale={Above:"Above",Below:"Below",Child:"Child",AddRow:"Add Row",ExpandAll:"Expand All",CollapseAll:"Collapse All",RowIndent:"Indent",RowOutdent:"Outdent"},this.l10n=new so("treegrid",this.defaultLocale,this.locale),this.isSelfReference&&p(this.childMapping)&&(this.childMapping="Children")},e.prototype.sortByColumn=function(i,n,s){this.sortModule&&this.sortModule.sortColumn(i,n,s)},e.prototype.clearSorting=function(){this.sortModule&&this.sortModule.clearSorting()},e.prototype.removeSortColumn=function(i){this.sortModule&&this.sortModule.removeSortColumn(i)},e.prototype.search=function(i){this.grid.search(i)},e.prototype.autoFitColumns=function(i){this.resizeModule.autoFitColumns(i),this.updateColumnModel()},e.prototype.reorderColumns=function(i,n){this.grid.reorderColumns(i,n)},e.prototype.TreeGridLocale=function(){if(!p(this.locale)){var i=so.locale,n={};Ze(this.locale,{},n);var s=void 0;s={},s=It(this.locale,i);var o=void 0;o={},o=It(this.getModuleName(),s),Ze("grid",o,It(this.locale,n)),so.load(n)}},e.prototype.print=function(){this.printModule.print()},e.prototype.treeGridkeyActionHandler=function(i){if(this.allowKeyboard){var n=void 0,s=void 0,o=void 0,a=void 0,l=void 0;switch(i.action){case"ctrlDownArrow":this.expandAll();break;case"ctrlUpArrow":this.collapseAll();break;case"ctrlShiftUpArrow":n=i.target,o=n.closest(".e-rowcell"),p(o)||(a=o.closest("tr"),!p(a)&&!p(a.getElementsByClassName("e-treegridexpand")[0])&&this.expandCollapseRequest(a.querySelector(".e-treegridexpand")));break;case"ctrlShiftDownArrow":n=i.target,o=n.closest(".e-rowcell"),p(o)||(a=o.closest("tr"),!p(a)&&!p(a.getElementsByClassName("e-treegridcollapse")[0])&&this.expandCollapseRequest(a.querySelector(".e-treegridcollapse")));break;case"downArrow":if(!this.enableVirtualization&&p(this.rowTemplate)&&(n=i.target,p(n.querySelectorAll(".e-rowcell"))||(n=he(n,"e-rowcell")),!p(n)&&(s=n.parentElement,!p(s)))){var h=s.cellIndex;if(h&&this.grid.getColumnByIndex(h).editType==="dropdownedit"&&p(this.grid.getColumnByIndex(h).edit.obj)&&(s=n),l=this.findnextRowElement(s),l!==null){var u=n.cellIndex,c=l.children[parseInt(u.toString(),10)];if(!p(c)&&!this.grid.isEdit){var d=this.grid.getContent().querySelectorAll(".e-rowcell.e-focused, .e-rowcell.e-focus");d.forEach(function(y){ue([y],["e-focused","e-focus"])}),Z([c],["e-focused","e-focus"])}}else{var f=this.grid.getContent().querySelector(".e-table tbody");s&&f&&s!==f.lastElementChild&&this.clearSelection()}}break;case"upArrow":if(!this.enableVirtualization&&p(this.rowTemplate)&&(n=i.target,p(n.querySelectorAll(".e-rowcell"))||(n=he(n,"e-rowcell")),!p(n)&&(s=n.parentElement,!p(s)))){var h=s.cellIndex;if(h&&this.grid.getColumnByIndex(h).editType==="dropdownedit"&&p(this.grid.getColumnByIndex(h).edit.obj)&&(s=n),l=this.findPreviousRowElement(s),l!==null){var g=n.cellIndex;if(!p(g)){var m=l.children[parseInt(g.toString(),10)];if(!p(m)&&!this.grid.isEdit){var d=this.grid.getContent().querySelectorAll(".e-rowcell.e-focused, .e-rowcell.e-focus");d.forEach(function(M){ue([M],["e-focused","e-focus"])}),Z([m],["e-focused","e-focus"])}}}else this.clearSelection()}}}},e.prototype.findnextRowElement=function(i){var n=i.nextElementSibling;return n!==null&&(n.className.indexOf("e-summaryrow")!==-1||n.classList.contains("e-childrow-hidden"))&&(n=this.findnextRowElement(n)),n},e.prototype.findPreviousRowElement=function(i){var n=i.previousElementSibling;return n!==null&&(n.className.indexOf("e-summaryrow")!==-1||n.classList.contains("e-childrow-hidden"))&&(n=this.findPreviousRowElement(n)),n},e.prototype.initProperties=function(){this.defaultLocale={},this.flatData=[],this.infiniteScrollData=[],this.remoteCollapsedData=[],this.remoteExpandedData=[],this.parentData=[],this.columnModel=[],this.isExpandAll=!1,this.isCollapseAll=!1,this.freezeColumnRefresh=!0,this.componentRefresh=rr.prototype.refresh,this.isComponentRefresh=!1,this.keyConfigs={ctrlDownArrow:"ctrl+downarrow",ctrlUpArrow:"ctrl+uparrow",ctrlShiftUpArrow:"ctrl+shift+uparrow",ctrlShiftDownArrow:"ctrl+shift+downarrow",downArrow:"downArrow",upArrow:"upArrow"},this.isLocalData=!(this.dataSource instanceof fe)||this.dataSource.dataSource.offline||!p(this.dataSource.ready)||this.dataSource.adaptor instanceof ly,this.isSelfReference=!p(this.parentIdMapping)},e.prototype.wireEvents=function(){F.add(this.grid.element,"click",this.mouseClickHandler,this),F.add(this.element,"touchend",this.mouseClickHandler,this),this.keyboardModule=new hh(this.element,{keyAction:this.treeGridkeyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}),this.allowKeyboard&&(this.element.tabIndex=this.element.tabIndex===-1?0:this.element.tabIndex)},e.prototype.requiredModules=function(){var i=[],n="splitFrozenCount",s="mergedColumns";if(this[""+s]&&(this.grid[""+s]=this[""+s]),p(this.changedProperties.columns)&&this.grid[""+n](this.getColumns()),this.isDestroyed)return i;i.push({member:"filter",args:[this,this.filterSettings],name:"Filter"}),p(this.toolbar)||i.push({member:"toolbar",args:[this],name:"Toolbar"}),this.contextMenuItems&&i.push({member:"contextMenu",args:[this],name:"ContextMenu"}),this.allowPaging&&i.push({member:"pager",args:[this,this.pageSettings],name:"Page"}),this.allowReordering&&i.push({member:"reorder",args:[this],name:"Reorder"}),this.allowSorting&&i.push({member:"sort",args:[this],name:"Sort"}),this.aggregates.length>0&&i.push({member:"summary",args:[this],name:"Aggregate"}),this.resizeCheck()&&i.push({member:"resize",args:[this],name:"Resize"}),this.allowExcelExport&&i.push({member:"ExcelExport",args:[this],name:"ExcelExport"});var o=this.injectedModules.filter(function(l){return l.prototype.getModuleName()==="freeze"}),a=Array.isArray(this.columns)&&this.columns.some(function(l){return!!l.freeze});return(this.frozenColumns||this.frozenRows||this.getFrozenColumns()||a)&&o.length>0&&i.push({member:"freeze",args:[this],name:"Freeze"}),this.detailTemplate&&i.push({member:"detailRow",args:[this],name:"DetailRow"}),this.allowPdfExport&&i.push({member:"PdfExport",args:[this],name:"PdfExport"}),this.showColumnMenu&&i.push({member:"columnMenu",args:[this],name:"ColumnMenu"}),this.showColumnChooser&&i.push({member:"ColumnChooser",args:[this],name:"ColumnChooser"}),this.extendRequiredModules(i),i},e.prototype.resizeCheck=function(){var i=!!(this.showColumnMenu&&(!this.columnMenuItems||this.columnMenuItems.filter(function(s){return s==="AutoFit"||s==="AutoFitAll"}).length)),n=!!(this.contextMenuItems&&this.contextMenuItems.filter(function(s){return s==="AutoFit"||s==="AutoFitAll"}).length);return this.allowResizing||i||n},e.prototype.extendRequiredModules=function(i){var n=this.injectedModules.filter(function(s){return s.prototype.getModuleName()==="rowDragAndDrop"});(this.allowRowDragAndDrop||n.length)&&(!p(this.toolbar)&&(this.toolbar.includes("Indent")||this.toolbar.includes("Outdent"))&&(this.isIndentEnabled=!0),i.push({member:"rowDragAndDrop",args:[this],name:"RowDD"})),(this.editSettings.allowAdding||this.editSettings.allowDeleting||this.editSettings.allowEditing)&&i.push({member:"edit",args:[this],name:"Edit"}),!p(this.columns)&&this.isCommandColumn(this.columns)&&i.push({member:"commandColumn",args:[this],name:"CommandColumn"}),this.allowSelection&&i.push({member:"selection",args:[this],name:"Selection"}),this.enableVirtualization&&i.push({member:"virtualScroll",args:[this],name:"VirtualScroll"}),this.enableInfiniteScrolling&&i.push({member:"infiniteScroll",args:[this],name:"InfiniteScroll"}),i.push({member:"logger",args:[this.grid]})},e.prototype.isCommandColumn=function(i){var n=this;return i.some(function(s){return s.columns?n.isCommandColumn(s.columns):!!(s.commands||s.commandsTemplate)})},e.prototype.unwireEvents=function(){this.grid&&this.grid.element&&F.remove(this.grid.element,"click",this.mouseClickHandler),this.element&&(F.remove(this.element,"touchend",this.mouseClickHandler),this.keyboardModule&&(this.keyboardModule.destroy(),this.keyboardModule=null),this.allowKeyboard&&this.element.removeAttribute("tabIndex"))},e.prototype.log=function(i,n){this.loggerModule&&this.loggerModule.treeLog(i,n,this)},e.prototype.render=function(){var i=this;this.isReact&&(this.grid.isReact=!0,this.grid.portals=[]),this.isVue&&(this.grid.isVue=!0,this.grid.vueInstance=this.vueInstance),Jh({target:this.element},this.createElement),this.log(["mapping_fields_missing"]),this.renderModule=new one(this),this.dataModule=new ane(this),this.printModule=new tne(this),this.trigger(kie),this.autoGenerateColumns(),this.initialRender=!0,p(this.dataSource)||this.convertTreeData(this.dataSource),this.loadGrid(),this.element.classList.contains("e-treegrid")&&this.rowDropSettings.targetID&&(this.grid.rowDropSettings.targetID+="_gridcontrol"),this.addListener();var n=Be("div",{id:this.element.id+"_gridcontrol",className:"e-treelistgrid"});Z([this.element],"e-treegrid"),!p(this.height)&&typeof this.height=="string"&&this.height.indexOf("%")!==-1&&(this.element.style.height=this.height),!p(this.width)&&typeof this.width=="string"&&this.width.indexOf("%")!==-1&&(this.element.style.width=this.width),this.element.appendChild(n);var s=this.grid.requiredModules;this.grid.requiredModules=function(){var c=[];c=s.apply(this);for(var d=0;d<c.length;d++)c[parseInt(d.toString(),10)].member==="virtualscroll"&&(c[parseInt(d.toString(),10)].member="treeVirtualScroll");return c};var o="root";this.grid[""+o]=this[""+o]?this[""+o]:this,this.grid.appendTo(n),this.actionFailureHandler();var a=this.element.getElementsByClassName("e-gridcontent")[0].childNodes[0];a.setAttribute("tabindex","0");var l=this.element.getElementsByClassName("e-content")[0].querySelector(".e-table");p(l)||l.setAttribute("role","treegrid"),this.isIndentEnabled&&this.refreshToolbarItems(),this.updateColumnModel(),this.wireEvents(),this.renderComplete();var h="destroyTemplate",u=this.grid[""+h];this.grid[""+h]=function(c,d,f){u.apply(i.grid);var g="portals";i.isReact&&p(i[""+g])?p(f)||f():i.clearTemplate(c,d,f)}},e.prototype.actionFailureHandler=function(){var i=this,n=[],s=this.getPrimaryKeyFieldNames(),o=this.flatData.length;(this.editSettings.allowAdding||this.editSettings.allowDeleting||this.editSettings.allowEditing)&&s.length===0&&o!==0&&n.push("For the CRUD actions, it is necessary to enable Primary Key field for the unique data column."),this.allowRowDragAndDrop&&s.length===0&&o!==0&&n.push("For the Row Drag and Drop actions, it is necessary to enable Primary Key field for the unique data column."),this.allowPaging&&this.enableVirtualization&&n.push("Paging is not allowed in virtualization case."),o===0&&this.columns.length===0&&n.push("Either of the Data source or columns should be given."),this.frozenColumns>0&&this.columnModel.filter(function(c){return c.isFrozen}).length>0&&n.push("Use only one attribute for Frozen either IsFrozen or FrozenColumns."),this.enableVirtualization&&!p(this.detailTemplate)&&n.push("Virtual scrolling is not compatible with the detail template"),(this.frozenColumns>0||this.frozenRows>0||this.columnModel.filter(function(c){return c.isFrozen}))&&(!p(this.detailTemplate)||!p(this.rowTemplate))&&n.push("Frozen rows and columns are not supported with the Detail template and row template."),(this.frozenColumns>0||this.columnModel.filter(function(c){return c.isFrozen}).length>0||this.frozenRows>0)&&this.editSettings.allowEditing&&this.editSettings.mode==="Cell"&&n.push("Frozen rows and columns are not supported with cell editing."),this.allowSelection&&!p(this.rowTemplate)&&n.push("Selection is not supported in RowTemplate"),!this.allowExcelExport&&this.action==="csvExport"&&n.push("CSV export is not allowed when allowExcelExport is disabled."),!this.allowPdfExport&&this.action==="pdfExport"&&n.push("PDF export is not allowed when allowPdfExport is disabled"),!this.allowExcelExport&&this.action==="excelExport"&&n.push("Excel export is not allowed when allowExcelExport is disabled."),this.treeColumnIndex>=this.columns.length&&n.push("TreeColumnIndex value should not exceed the total column count."),this.enableVirtualization&&(this.columnModel.some(function(c){return/%$/.test(c.width)})||/%$/.test(this.height.toString()))&&n.push("column width and height should be in pixels"),this.childMapping!=="Children"&&!p(this.idMapping)&&n.push("Both IdMapping and ChildMapping should not be used together for tree grid rendering."),(!p(this.idMapping)&&p(this.parentIdMapping)||p(this.idMapping)&&!p(this.parentIdMapping))&&n.push("IdMapping and ParentIdMapping properties should be defined and vice versa.");var a=this.columnModel.filter(function(c){return c.showCheckbox}),l=this.columns[this.treeColumnIndex];a.length!==0&&(a!==l&&n.push("ShowCheckbox column should not be defined other than the tree column."),a.length>1&&n.push("Only one column can have the ShowCheckbox option enabled."));var h;if(this.treeColumnIndex!==null&&this.treeColumnIndex!==-1&&this.treeColumnIndex<this.columns.length&&(h=this.columnModel.filter(function(c){return c.textAlign==="Right"&&c.field===i.columnModel[i.treeColumnIndex].field}),h.length!==0&&n.push("TextAlign right for the tree column is not applicable.")),n.length>0){var u={error:{}};n.forEach(function(c,d){u.error[parseInt(d.toString(),10)]=c}),this.trigger(gu,u)}},e.prototype.refreshToolbarItems=function(){var i=this.toolbarModule.getToolbar(),n=this.element.id+"_gridcontrol_indent",s=this.element.id+"_gridcontrol_outdent",o=i.querySelector("#"+n).parentElement,a=i.querySelector("#"+s).parentElement;o.classList.add("e-hidden"),a.classList.add("e-hidden")},e.prototype.afterGridRender=function(){p(this.grid.clipboardModule)||this.grid.clipboardModule.destroy(),this.clipboardModule=this.grid.clipboardModule=new Zie(this,this.grid.serviceLocator)},e.prototype.convertTreeData=function(i){if(ti(this)&&(i=H("result",i)),i instanceof Array&&i.length>0&&Object.prototype.hasOwnProperty.call(i[0],"level")){this.flatData=i;for(var n=function(h,u){var c=s.flatData[parseInt(h.toString(),10)];Ze("uniqueIDCollection."+c.uniqueID,c,s),c.level===0&&!s.parentData.some(function(d){return d.uniqueID===c.uniqueID})&&s.parentData.push(c)},s=this,o=0,a=this.flatData.length;o<a;o++)n(o,a)}else if(ti(this)){var l=H("result",this.dataSource);this.dataModule.convertToFlatData(l)}else this.dataModule.convertToFlatData(i)},e.prototype.bindGridProperties=function(){this.bindedDataSource(),this.grid.enableRtl=this.enableRtl,this.grid.allowKeyboard=this.allowKeyboard,this.grid.columns=this.getGridColumns(this.columns),this.grid.allowExcelExport=this.allowExcelExport,this.grid.allowPdfExport=this.allowPdfExport,this.grid.query=this.query,this.grid.columnQueryMode=this.columnQueryMode,this.grid.allowPaging=this.allowPaging,this.grid.pageSettings=Bt(this.pageSettings),this.grid.pagerTemplate=this.pagerTemplate,this.grid.showColumnMenu=this.showColumnMenu,this.grid.allowSorting=this.allowSorting,this.grid.allowMultiSorting=this.allowMultiSorting,this.grid.allowFiltering=this.allowFiltering,this.grid.enableVirtualization=this.enableVirtualization,this.grid.enableColumnVirtualization=this.enableColumnVirtualization,this.grid.enableInfiniteScrolling=this.enableInfiniteScrolling,this.grid.infiniteScrollSettings=this.infiniteScrollSettings,this.grid.enableVirtualMaskRow=this.enableVirtualMaskRow,this.grid.loadingIndicator=this.loadingIndicator,this.grid.width=this.width,this.grid.height=this.height,this.grid.enableAltRow=this.enableAltRow,this.grid.allowReordering=this.allowReordering,this.grid.allowTextWrap=this.allowTextWrap,this.grid.allowResizing=this.allowResizing,this.grid.enableHover=this.enableHover,this.grid.enableAutoFill=this.enableAutoFill,this.grid.enableAdaptiveUI=this.enableAdaptiveUI,this.grid.enableImmutableMode=this.enableImmutableMode,this.grid.allowRowDragAndDrop=this.allowRowDragAndDrop,this.grid.rowDropSettings=Bt(this.rowDropSettings),this.grid.rowHeight=this.rowHeight,this.grid.gridLines=this.gridLines,this.grid.allowSelection=this.allowSelection,this.grid.toolbar=Bt(this.getGridToolbar()),this.grid.toolbarTemplate=this.toolbarTemplate,this.grid.showColumnChooser=this.showColumnChooser,this.grid.columnChooserSettings=this.columnChooserSettings,this.grid.filterSettings=Bt(this.filterSettings),this.grid.selectionSettings=Bt(this.selectionSettings),this.grid.sortSettings=Bt(this.sortSettings),this.grid.searchSettings=Bt(this.searchSettings),this.grid.aggregates=Bt(this.aggregates),this.grid.textWrapSettings=Bt(this.textWrapSettings),this.grid.printMode=Bt(this.printMode),this.grid.locale=Bt(this.locale),this.grid.selectedRowIndex=this.selectedRowIndex,this.grid.contextMenuItems=Bt(this.getContextMenu()),this.grid.columnMenuItems=Bt(this.columnMenuItems),this.grid.editSettings=this.getGridEditSettings(),this.grid.rowTemplate=Bt(this.rowTemplate),this.grid.detailTemplate=Bt(this.detailTemplate),this.grid.frozenRows=this.frozenRows,this.grid.frozenColumns=this.frozenColumns,this.grid.clipMode=Bt(this.clipMode),this.grid.enableColumnSpan=this.enableColumnSpan,this.grid.enableRowSpan=this.enableRowSpan;var i="templateDotnetInstance";this.grid[""+i]=this[""+i];var n="isJsComponent";this.grid[""+n]=!0;var s="enableHtmlSanitizer";this.grid[""+s]=this.enableHtmlSanitizer,this.grid.enableStickyHeader=this.enableStickyHeader,this.grid.emptyRecordTemplate=this.emptyRecordTemplate,this.grid.isRowSelectable=this.isRowSelectable;var o="isTreeGrid";this.grid[""+o]=!0},e.prototype.triggerEvents=function(i){this.trigger(It("name",i),i)},e.prototype.IsExpandCollapseClicked=function(i){if(!this.isFromChartSide&&!p(i.target)&&(i.target.classList.contains("e-treegridexpand")||i.target.classList.contains("e-treegridcollapse")||i.target.classList.contains("e-summarycell"))&&!this.selectionSettings.checkboxOnly&&(!p(i.data)&&i.data.hasChildRecords||i.rowIndex!==-1&&p(i.data))){i.cancel=!0;return}},e.prototype.bindGridEvents=function(){var i=this;this.grid.rowSelecting=function(n){i.IsExpandCollapseClicked(n),!p(n.data)&&i.selectionSettings.persistSelection&&i.columnModel.filter(function(s){return s.type==="checkbox"}).length>0&&Dt(i)&&(!p(n.data.parentItem)||n.isHeaderCheckboxClicked)&&(i.parentQuery=i.query.queries.filter(function(s){return s.e.field===i.parentIdMapping}),i.query.queries=i.query.queries.slice(0,0)),i.pageSettings.pageSizeMode==="Root"&&(i.grid.selectionModule.totalRecordsCount=i.grid.currentViewData.length),n.cancel||i.trigger(Oie,n)},this.grid.rowDeselecting=function(n){i.IsExpandCollapseClicked(n),!p(n.data)&&i.selectionSettings.persistSelection&&i.columnModel.filter(function(s){return s.type==="checkbox"}).length>0&&Dt(i)&&(i.parentQuery=i.query.queries.filter(function(s){return s.e.field===i.parentIdMapping}),i.query.queries=i.query.queries.slice(0,0)),i.trigger(Gie,n)},this.grid.rowSelected=function(n){i.enableVirtualization&&i.virtualScrollModule.updateSelection(n),i.selectedRowIndex=i.grid.selectedRowIndex,i.notify(PN,n),i.trigger(PN,n)},this.grid.rowDeselected=function(n){i.selectedRowIndex=i.grid.selectedRowIndex,p(n.data)||i.notify(FN,n),i.trigger(FN,n)},this.grid.resizeStop=function(n){i.updateColumnModel(),i.trigger(Rie,n)},this.grid.excelQueryCellInfo=function(n){i.notify("excelCellInfo",n),n=i.dataResults},this.grid.excelAggregateQueryCellInfo=function(n){i.notify("excelAggregateCellInfo",n),n=i.dataResults},this.grid.pdfAggregateQueryCellInfo=function(n){i.notify("pdfAggregateCellInfo",n),n=i.dataResults},this.grid.pdfQueryCellInfo=function(n){i.notify("pdfCellInfo",n),n=i.dataResults},this.grid.checkBoxChange=function(n){i.trigger(TP,n)},this.grid.pdfExportComplete=this.triggerEvents.bind(this),this.grid.excelExportComplete=this.triggerEvents.bind(this),this.grid.excelHeaderQueryCellInfo=this.triggerEvents.bind(this),this.grid.pdfHeaderQueryCellInfo=this.triggerEvents.bind(this),this.grid.dataSourceChanged=this.triggerEvents.bind(this),this.grid.recordDoubleClick=this.triggerEvents.bind(this),this.grid.cellDeselected=this.triggerEvents.bind(this),this.grid.cellDeselecting=this.triggerEvents.bind(this),this.grid.columnMenuOpen=this.triggerEvents.bind(this),this.grid.columnMenuClick=this.triggerEvents.bind(this),this.grid.cellSelected=this.triggerEvents.bind(this),this.grid.headerCellInfo=this.triggerEvents.bind(this),this.grid.resizeStart=this.triggerEvents.bind(this),this.grid.resizing=this.triggerEvents.bind(this),this.grid.columnDrag=this.triggerEvents.bind(this),this.grid.columnDragStart=this.triggerEvents.bind(this),this.grid.columnDrop=this.triggerEvents.bind(this),this.grid.beforePrint=this.triggerEvents.bind(this),this.grid.beforeCopy=this.triggerEvents.bind(this),this.grid.beforePaste=function(n){for(var s=i.getRows(),o="rowIndex";s[n[""+o]].classList.contains("e-summaryrow");)n[""+o]++;i.trigger(Fie,n)},this.grid.load=function(){if(i.grid.on("initial-end",i.afterGridRender,i),!p(i.loggerModule)){var n="loggerModule";i.loggerModule=i.grid[""+n]=new RN(i.grid)}},this.grid.printComplete=this.triggerEvents.bind(this),this.grid.actionFailure=function(n){i.trigger(gu,n)},this.extendedGridDataBoundEvent(),this.extendedGridEvents(),this.extendedGridActionEvents(),this.extendedGridEditEvents(),this.bindGridDragEvents(),this.bindCallBackEvents()},e.prototype.lastRowBorder=function(i,n){for(var s=0;s<i.cells.length;s++)n?Z([i.cells[parseInt(s.toString(),10)]],"e-lastrowcell"):ue([i.cells[parseInt(s.toString(),10)]],"e-lastrowcell")},e.prototype.isPixelHeight=function(){return this.height!=="auto"&&this.height.toString().indexOf("%")===-1},e.prototype.extendedGridDataBoundEvent=function(){var i=this;this.grid.dataBound=function(s){if(i.lastRowBorderEventListener(),i.updateRowTemplate(),i.updateColumnModel(),i.updateAltRow(i.getRows()),i.notify("dataBoundArg",s),Dt(i)&&!Ko(i)&&!i.hasChildMapping){var o=void 0;i.dataResults.result?o=0:o=1,Ze("grid.contentModule.isLoaded",!(o>0),i)}if(i.isPixelHeight()&&i.initialRender){for(var a=i.getContentTable().rows,l=[].slice.call(a),h=l.length-1;h>0;h--)if(!nA(l[parseInt(h.toString(),10)])){l[parseInt(h.toString(),10)].nextElementSibling&&i.lastRowBorder(l[parseInt(h.toString(),10)],!0);break}}var u="action";if(i.enableVirtualization&&i.selectionSettings.persistSelection&&(i.dataResults[""+u]==="expand"||i.dataResults[""+u]==="collapse")){var c="refreshPersistSelection";if(i.grid.selectionModule[""+c](),i.grid.selectionSettings.type==="Single"){var d="updateRowSelection",f=i.getCurrentViewRecords().indexOf(i.grid.selectionModule.data);i.grid.selectionModule[""+d](i.getRows()[parseInt(f.toString(),10)],f)}}if(i.enableVirtualization&&i.selectionSettings.persistSelection&&!p(i.virtualScrollModule.prevSelectedRecord))for(var h=0;h<i.virtualScrollModule.prevSelectedRecord.length;h++){var d="updateRowSelection",f=i.getCurrentViewRecords().indexOf(i.virtualScrollModule.prevSelectedRecord[parseInt(h.toString(),10)]);i.grid.selectionModule[""+d](i.getRows()[parseInt(f.toString(),10)],f)}i.trigger(Lie,s),i.initialRender=!1};var n=this;this.grid.beforeDataBound=function(s){var o="dataSource",a=It("action",s);if((Dt(n)&&!Ko(n)||ti(this))&&a!=="edit")n.notify("updateRemoteLevel",s),s=n.dataResults;else if(n.flatData.length===0&&Ko(n)&&n.dataSource instanceof fe){var l=n.dataSource;n.dataModule.convertToFlatData(l.dataSource.json),s.result=n.grid.dataSource[""+o].json=n.flatData}if(!Dt(n)&&!ti(this)&&!p(n.dataSource)&&(this.isPrinting&&Ze("isPrinting",!0,s),n.notify("dataProcessor",s)),ie(s,n.dataResults),n.enableImmutableMode&&(s.result=s.result.slice()),n.initialRender&&(this.contentModule.objectEqualityChecker=n.objectEqualityChecker),!this.isPrinting){var h=new mi;return n.trigger(DP,s,function(u){h.resolve(u)}),h}},this.grid.log=function(s,o){i.loggerModule&&i.loggerModule.log(s,o)}},e.prototype.lastRowBorderEventListener=function(){this.grid.on("last-rowcell-border-updated",this.lastRowCellBorderUpdated,this)},e.prototype.bindCallBackEvents=function(){var i=this;this.grid.toolbarClick=function(n){if(!(n.item.id===i.grid.element.id+"_excelexport"&&i.allowExcelExport===!1||n.item.id===i.grid.element.id+"_pdfexport"&&i.allowPdfExport===!1||n.item.id===i.grid.element.id+"_csvexport"&&i.allowExcelExport===!1)){var s=new mi;return i.trigger(BN,n,function(o){o.cancel||i.notify(BN,n),s.resolve(o)}),s}},this.grid.cellSelecting=function(n){var s="actualTarget",o=i.grid.selectionModule[""+s];!p(o)&&(o.classList.contains("e-treegridexpand")||o.classList.contains("e-treegridcollapse"))&&(n.cancel=!0);var a=new mi;return i.trigger(It("name",n),n,function(l){a.resolve(l)}),a},this.grid.beginEdit=function(n){if(!p(n.row)&&n.row.classList.contains("e-summaryrow")){n.cancel=!0;return}var s=new mi;return i.trigger(WN,n,function(o){s.resolve(o)}),s}},e.prototype.extendedGridEditEvents=function(){var i=this;this.grid.dataStateChange=function(n){i.isExpandRefresh?(i.isExpandRefresh=!1,i.grid.dataSource={result:i.flatData,count:H("count",i.grid.dataSource)}):(n.action.requestType!=="infiniteScroll"&&(i.infiniteScrollData=[]),i.trigger(jN,n))},this.grid.cellSave=function(n){if(i.grid.isContextMenuOpen()){var s=i.grid.contextMenuModule.contextMenu.element.getElementsByClassName("e-selected")[0];(p(s)||s.id!==i.element.id+"_gridcontrol_cmenu_Save")&&(n.cancel=!0)}var o=new mi;return i.trigger(GN,n,function(a){a.cancel||i.notify(GN,a),o.resolve(a)}),o},this.grid.cellSaved=function(n){i.trigger($N,n),i.notify($N,n)},this.grid.cellEdit=function(n){var s="promise",o=new mi;return n[""+s]=o,i.notify(Hie,n),o},this.grid.batchAdd=function(n){i.trigger(ZN,n),i.notify(ZN,n)},this.grid.beforeBatchSave=function(n){i.trigger(tA,n),i.notify(tA,n)},this.grid.beforeBatchAdd=function(n){i.trigger(eA,n),i.notify(eA,n)},this.grid.batchDelete=function(n){i.trigger(KN,n),i.notify(KN,n)},this.grid.beforeBatchDelete=function(n){i.trigger(XN,n),i.notify(XN,n)},this.grid.batchCancel=function(n){i.editSettings.mode!=="Cell"&&i.trigger(JN,n),i.notify(JN,n)}},e.prototype.updateRowTemplate=function(){var i=this;this.rowTemplate&&(this.isReact&&this.getContentTable().rows.length===0?setTimeout(function(){if(i.treeColumnRowTemplate(),i.enableCollapseAll)for(var n=i.getCurrentViewRecords(),s=i.getContentTable().rows,o=0;o<s.length;o++){var a={data:n[parseInt(o.toString(),10)],row:s[parseInt(o.toString(),10)]};i.renderModule.RowModifier(a)}},0):this.treeColumnRowTemplate())},e.prototype.bindedDataSource=function(){var i="dataSource",n="isDataAvailable",s="adaptor",o="ready";if(this.dataSource&&ti(this)){var a=this.flatData,l=H("count",this.dataSource);this.grid.dataSource={result:a,count:l}}else this.grid.dataSource=this.dataSource instanceof fe?new fe(this.dataSource.dataSource,this.dataSource.defaultQuery,this.dataSource.adaptor,this.hasPreAndPostMiddleware(this.dataSource)?this.dataSource:void 0):this.flatData;if(this.dataSource instanceof fe&&(this.dataSource.dataSource.offline||this.dataSource.ready)){this.grid.dataSource[""+i].json=HC(this.dataSource[""+i].json),this.grid.dataSource[""+o]=this.dataSource.ready;var h=this;p(this.grid.dataSource[""+o])||this.grid.dataSource[""+o].then(function(u){var c=h.grid.dataSource;c[""+i].offline=!0,c[""+n]=!0,c[""+i].json=u.result,c[""+s]=new ay})}},e.prototype.extendedGridActionEvents=function(){var i=this;this.grid.actionBegin=function(n){if(n.requestType==="sorting"&&n.target&&n.target.parentElement&&n.target.parentElement.classList.contains("e-hierarchycheckbox")){n.cancel=!0;return}var s=It("requestType",n);if(s==="reorder"&&i.notify("getColumnIndex",{}),Dt(i)&&i.enableVirtualization&&(n.requestType==="virtualscroll"?(i.query.expand("VirtualScrollingAction"),i.showSpinner()):n.requestType==="searching"&&n.searchString===""?i.query.expand("ClearSearchingAction"):n.action==="clearFilter"&&i.query.expand("ClearFilteringAction")),i.notify("actionBegin",{editAction:n}),!Dt(i)&&!p(i.filterModule)&&!ti(i)&&i.grid.filterSettings.columns.length===0&&i.grid.searchSettings.key.length===0&&(i.notify("clearFilters",{flatData:i.grid.dataSource}),i.grid.setProperties({dataSource:i.dataResults.result},!0),p(i.grid.changedProperties.dataSource)&&(i.grid.renderModule.data.dataManager=i.grid.dataSource instanceof fe?i.grid.dataSource:p(i.grid.dataSource)?new fe:new fe(i.grid.dataSource),i.grid.renderModule.data.isQueryInvokedFromData=!0,i.grid.query=i.grid.query instanceof He?i.grid.query:new He)),i.action!=="indenting"&&i.action!=="outdenting"){var o=new mi;return i.trigger(zie,n,function(a){a.cancel||i.notify(WN,a),o.resolve(a)}),o}},this.grid.actionComplete=function(n){if(i.notify("actioncomplete",n),i.updateColumnModel(),i.updateTreeGridModel(),n.requestType==="reorder"&&i.notify("setColumnIndex",{}),i.notify("actionComplete",{editAction:n}),n.requestType==="add"&&i.editSettings.newRowPosition!=="Top"&&i.editSettings.newRowPosition!=="Bottom"&&i.notify(Uie,n),n.requestType==="batchsave"&&i.notify(wP,n),i.notify("updateGridActions",n),i.isVirtualExpandCollapse=!1,n.requestType==="save"&&i.aggregates.map(function(u){return u.showChildSummary===!0}).length&&i.grid.refresh(),n.action==="filter"&&!n.isCollapseMaintain&&i.filterModule.currentFilterObject!==""&&i.enableVirtualization&&!i.initialRender&&!i.expandStateMapping&&!(Dt(i)&&i.enableVirtualization)&&i.expandAll(),n.requestType==="searching"&&!n.isCollapseMaintain&&i.searchSettings.key!==""&&i.enableVirtualization&&!i.initialRender&&!i.expandStateMapping&&!(Dt(i)&&i.enableVirtualization)&&i.expandAll(),n.action==="clearFilter"&&i.enableCollapseAll&&i.collapseAll(),i.action==="indenting"||i.action==="outdenting"){i.action=i.action==="indenting"?"indented":"outdented";var s=[i.selectedRecords],o={data:s,dropIndex:i.dropIndex,dropPosition:i.dropPosition,modifiedRecords:i.modifiedRecords,requestType:i.action,row:i.selectedRows};i.trigger(FC,o);var a=i.getCurrentViewRecords().filter(function(u){return u.uniqueID===s[0].uniqueID});a.length||i.refreshToolbarItems(),i.action="",i.selectedRecords=i.selectedRows=i.modifiedRecords=[]}else{if(i.grid.isFrozenGrid()&&i.enableVirtualization&&n.tableName==="movable"){var l=i.grid.element.querySelector("."+$ie),h=i.grid.element.querySelector("."+Kie);l.style.height=h.style.height="auto"}i.trigger(FC,n)}}},e.prototype.extendedGridEvents=function(){var i=this,n=this;this.grid.recordDoubleClick=function(s){i.trigger(qN,s),i.notify(qN,s)},this.grid.detailDataBound=function(s){i.notify("detaildataBound",s),i.trigger(Vie,s)},this.grid.rowDataBound=function(s){p(this.isPrinting)?Ze("isPrinting",!1,s):Ze("isPrinting",this.isPrinting,s),n.renderModule.RowModifier(s)},this.grid.queryCellInfo=function(s){p(this.isPrinting)?Ze("isPrinting",!1,s):Ze("isPrinting",this.isPrinting,s),n.renderModule.cellRender(s)},this.grid.contextMenuClick=function(s){i.notify(YN,s),i.trigger(YN,s)},this.grid.contextMenuOpen=function(s){i.notify(_N,s),i.trigger(_N,s)},this.grid.queryCellInfo=function(s){i.renderModule.cellRender(s)}},e.prototype.bindGridDragEvents=function(){var i=this;this.grid.rowDragStartHelper=function(n){i.trigger(_ie,n)},this.grid.rowDragStart=function(n){i.trigger(Yie,n)},this.grid.rowDrag=function(n){if(i.grid.isEdit){n.cancel=!0;return}i.notify(Wie,n),i.trigger(Qie,n)},this.grid.rowDrop=function(n){if(i.grid.isEdit){n.cancel=!0;return}i.notify(qie,n),n.cancel=!0}},e.prototype.loadGrid=function(){this.bindGridProperties(),this.bindGridEvents(),Ze("registeredTemplate",this.registeredTemplate,this.grid);var i="viewContainerRef";Ze("viewContainerRef",this[""+i],this.grid)},e.prototype.autoGenerateColumns=function(){var i=this;if(!this.columns.length&&!this.dataModule.isRemote()&&Object.keys(this.dataSource).length){this.columns=[];var n=this.dataSource[0],s=Object.keys(n);this.columns=s.filter(function(o){return[i.childMapping,i.parentIdMapping].indexOf(o)===-1})}},e.prototype.getGridEditSettings=function(){var i={},n="guid";switch(i.allowAdding=this.editSettings.allowAdding,i.allowEditing=this.editSettings.allowEditing,i.allowDeleting=this.editSettings.allowDeleting,i.newRowPosition=this.editSettings.newRowPosition==="Bottom"?"Bottom":"Top",i.allowEditOnDblClick=this.editSettings.allowEditOnDblClick,i.showConfirmDialog=this.editSettings.showConfirmDialog,i.template=this.editSettings.template,i.showDeleteConfirmDialog=this.editSettings.showDeleteConfirmDialog,i.allowNextRowEdit=this.editSettings.allowNextRowEdit,i[""+n]=this.editSettings[""+n],i.dialog=this.editSettings.dialog,this.editSettings.mode){case"Dialog":i.mode=this.editSettings.mode;break;case"Batch":i.mode=this.editSettings.mode;break;case"Row":i.mode="Normal";break;case"Cell":i.mode="Normal",i.showConfirmDialog=!1;break}return i},e.prototype.getContextMenu=function(){if(this.contextMenuItems){for(var i=[],n=0;n<this.contextMenuItems.length;n++)switch(this.contextMenuItems[parseInt(n.toString(),10)]){case"AddRow":case Yd.AddRow:i.push({text:this.l10n.getConstant("AddRow"),target:".e-content",id:this.element.id+"_gridcontrol_cmenu_AddRow",items:[{text:this.l10n.getConstant("Above"),id:"Above"},{text:this.l10n.getConstant("Below"),id:"Below"},{text:this.l10n.getConstant("Child"),id:"Child"}]});break;case"Indent":case Yd.RowIndent:i.push({text:this.l10n.getConstant("RowIndent"),target:".e-content",iconCss:"e-indent e-icons",id:this.element.id+"_gridcontrol_cmenu_Indent"});break;case"Outdent":case Yd.RowOutdent:i.push({text:this.l10n.getConstant("RowOutdent"),target:".e-content",iconCss:"e-outdent e-icons",id:this.element.id+"_gridcontrol_cmenu_Outdent"});break;default:i.push(this.contextMenuItems[parseInt(n.toString(),10)])}return i}else return null},e.prototype.getGridToolbar=function(){if(this.toolbar){this.l10n=new so("treegrid",this.defaultLocale,this.locale);for(var i=[],n=void 0,s=0;s<this.toolbar.length;s++)switch(this.toolbar[parseInt(s.toString(),10)]){case"Search":case Ha.Search:i.push("Search");break;case"Print":case Ha.Print:i.push("Print");break;case"ExpandAll":case Ha.ExpandAll:n=this.l10n.getConstant("ExpandAll"),i.push({text:n,tooltipText:n,prefixIcon:"e-expand",id:this.element.id+"_gridcontrol_expandall"});break;case"CollapseAll":case Ha.CollapseAll:n=this.l10n.getConstant("CollapseAll"),i.push({text:n,tooltipText:n,prefixIcon:"e-collapse",id:this.element.id+"_gridcontrol_collapseall"});break;case"Indent":case Ha.RowIndent:n=this.l10n.getConstant("RowIndent"),i.push({text:n,tooltipText:n,prefixIcon:"e-indent",id:this.element.id+"_gridcontrol_indent"});break;case"Outdent":case Ha.RowOutdent:n=this.l10n.getConstant("RowOutdent"),i.push({text:n,tooltipText:n,prefixIcon:"e-outdent",id:this.element.id+"_gridcontrol_outdent"});break;default:i.push(this.toolbar[parseInt(s.toString(),10)])}return i}else return null},e.prototype.getGridColumns=function(i,n,s){n===void 0&&(n=!0),s===void 0&&(s=0);var o=i,a="columns";n&&(this.columnModel=[]);var l,h;this.columnModel.length===0&&(s=s===0?-1:s);for(var u=[],c=0;c<o.length;c++){s=s+1;var d=this.grid.getColumnByUid(o[parseInt(c.toString(),10)].uid);if(h=d||{},l={},typeof this.columns[parseInt(c.toString(),10)]=="string")h.field=l.field=this.columns[parseInt(c.toString(),10)];else for(var f=Object.keys(o[parseInt(c.toString(),10)]),g=0;g<f.length;g++){var m=f[parseInt(g.toString(),10)];s===this.treeColumnIndex&&m==="template"?l[""+m]=o[parseInt(c.toString(),10)][""+m]:m==="columns"&&!p(o[parseInt(c.toString(),10)][""+m])?(h[""+m]=this.getGridColumns(o[parseInt(c.toString(),10)][""+m],!1,this.columnModel.length-1),l[""+m]=o[parseInt(c.toString(),10)][""+m]):this.initialRender&&!p(d)&&this.enablePersistence&&m==="edit"?h[""+m]=l[""+m]=d[""+m]:(!d||m!=="sortComparer")&&(h[""+m]=l[""+m]=o[parseInt(c.toString(),10)][""+m])}l[""+a]||this.columnModel.push(new jC(l)),u.push(h),!p(this.columnModel[this.treeColumnIndex])&&this.enableRtl&&h.field===this.columnModel[this.treeColumnIndex].field&&(p(this.treeColumnTextAlign)&&(this.treeColumnTextAlign=this.columnModel[this.treeColumnIndex].textAlign,this.treeColumnField=this.columnModel[this.treeColumnIndex].field),h.textAlign="Right")}return u},e.prototype.lastRowCellBorderUpdated=function(){var i=this.getContentTable().querySelectorAll("tr.e-row"),n=Array.from(i).filter(function(o){return!o.classList.contains("e-childrow-hidden")});if(n.length>0){var s=n[n.length-1];this.lastRowBorder(s,!0)}},e.prototype.onPropertyChanged=function(i){for(var n=Object.keys(i),s=!1,o=0,a=n;o<a.length;o++){var l=a[o];switch(l){case"columns":p(i.columns)||this.refreshColumns(),s=!0;break;case"treeColumnIndex":this.grid.refreshColumns();break;case"allowPaging":this.grid.allowPaging=this.allowPaging;break;case"pageSettings":this.grid.pageSettings=Bt(this.pageSettings),s=!0;break;case"enableVirtualization":this.grid.enableVirtualization=this.enableVirtualization;break;case"enableColumnVirtualization":this.grid.enableColumnVirtualization=this.enableColumnVirtualization;break;case"toolbar":this.grid.toolbar=this.getGridToolbar();break;case"allowSelection":this.grid.allowSelection=this.allowSelection;break;case"selectionSettings":this.grid.selectionSettings=Bt(this.selectionSettings);break;case"allowSorting":this.grid.allowSorting=this.allowSorting;break;case"allowMultiSorting":this.grid.allowMultiSorting=this.allowMultiSorting;break;case"sortSettings":this.grid.sortSettings=Bt(this.sortSettings);break;case"searchSettings":this.grid.searchSettings=Bt(this.searchSettings);break;case"allowFiltering":this.grid.allowFiltering=this.allowFiltering;break;case"filterSettings":this.initialRender||(this.grid.filterSettings=Bt(this.filterSettings));break;case"showColumnMenu":this.grid.showColumnMenu=this.showColumnMenu;break;case"allowRowDragAndDrop":this.grid.allowRowDragAndDrop=this.allowRowDragAndDrop;break;case"aggregates":this.grid.aggregates=Bt(this.aggregates);break;case"enableInfiniteScrolling":this.grid.enableInfiniteScrolling=this.enableInfiniteScrolling;break;case"dataSource":if(this.isLocalData=!(this.dataSource instanceof fe)||!p(this.dataSource.ready)||this.dataSource.adaptor instanceof ly,this.convertTreeData(this.dataSource),this.isLocalData){if(ti(this)){var h=H("count",this.dataSource);this.grid.dataSource={result:this.flatData,count:h}}else{var u=this.dataSource;this.grid.dataSource=u instanceof fe?new fe(u.dataSource,u.defaultQuery,u.adaptor):this.flatData}this.enableVirtualization&&(this.grid.contentModule.isDataSourceChanged=!0)}else this.bindedDataSource(),this.enableVirtualization&&(this.grid.contentModule.removeEventListener(),this.grid.contentModule.eventListener("on"),this.grid.contentModule.renderTable());break;case"query":this.grid.query=this.query;break;case"enableCollapseAll":i[""+l]?this.collapseAll():this.expandAll();break;case"expandStateMapping":this.grid.refresh();break;case"gridLines":this.grid.gridLines=this.gridLines;break;case"rowTemplate":this.grid.rowTemplate=Bt(this.rowTemplate);break;case"frozenRows":this.grid.frozenRows=this.frozenRows;break;case"frozenColumns":this.grid.frozenColumns=this.frozenColumns;break;case"rowHeight":this.grid.rowHeight=this.rowHeight,this.refresh();break;case"height":!p(this.height)&&typeof this.height=="string"&&this.height.indexOf("%")!==-1&&(this.element.style.height=this.height),this.grid.height=this.height;break;case"width":!p(this.width)&&typeof this.width=="string"&&this.width.indexOf("%")!==-1&&(this.element.style.width=this.width),this.grid.width=this.width;break;case"locale":this.grid.locale=this.locale,this.TreeGridLocale(),this.grid.toolbar=this.getGridToolbar(),this.grid.contextMenuItems=this.getContextMenu();break;case"selectedRowIndex":this.grid.selectedRowIndex=this.selectedRowIndex;break;case"enableAltRow":this.grid.enableAltRow=this.enableAltRow;break;case"enableHover":this.grid.enableHover=this.enableHover;break;case"enableAutoFill":this.grid.enableAutoFill=this.enableAutoFill;break;case"columnChooserSettings":this.grid.columnChooserSettings=Bt(this.columnChooserSettings);break;case"enableAdaptiveUI":this.grid.enableAdaptiveUI=this.enableAdaptiveUI;break;case"enableImmutableMode":this.grid.enableImmutableMode=this.enableImmutableMode;break;case"allowExcelExport":this.grid.allowExcelExport=this.allowExcelExport;break;case"allowPdfExport":this.grid.allowPdfExport=this.allowPdfExport;break;case"enableRtl":p(this.treeColumnField)||this.updateTreeColumnTextAlign(),this.grid.enableRtl=this.enableRtl;break;case"allowReordering":this.grid.allowReordering=this.allowReordering;break;case"allowResizing":this.grid.allowResizing=this.allowResizing;break;case"textWrapSettings":this.grid.textWrapSettings=Bt(this.textWrapSettings);break;case"allowTextWrap":this.grid.allowTextWrap=Bt(this.allowTextWrap),this.grid.refresh();break;case"contextMenuItems":this.grid.contextMenuItems=this.getContextMenu();break;case"showColumnChooser":this.grid.showColumnChooser=this.showColumnChooser;break;case"detailTemplate":this.grid.detailTemplate=Bt(this.detailTemplate);break;case"columnMenuItems":this.grid.columnMenuItems=Bt(this.columnMenuItems);break;case"enableStickyHeader":this.grid.enableStickyHeader=this.enableStickyHeader;break;case"emptyRecordTemplate":this.grid.emptyRecordTemplate=this.emptyRecordTemplate;break;case"isRowSelectable":this.grid.isRowSelectable=this.isRowSelectable;break;case"editSettings":this.grid.isEdit&&this.grid.editSettings.mode==="Normal"&&i[""+l].mode&&(i[""+l].mode==="Cell"||i[""+l].mode==="Row")&&this.grid.closeEdit(),this.grid.editSettings=this.getGridEditSettings();break;case"enableRowSpan":case"enableColumnSpan":this.grid.enableRowSpan=this.enableRowSpan,this.grid.enableColumnSpan=this.enableColumnSpan,this.refreshColumns();break}}s&&(this.isFrozenGrid()?this.refreshLayout():this.grid.refresh())},e.prototype.updateTreeColumnTextAlign=function(){var i=this.grid.getColumnByField(this.treeColumnField);i.textAlign=this.enableRtl?"Right":this.treeColumnTextAlign,this.grid.refreshColumns()},e.prototype.destroy=function(){this.isComponentRefresh=!0;var i=this.element;if(i){var n=!!(i.querySelector(".e-gridheader")&&i.querySelector(".e-gridcontent"));n&&this.unwireEvents(),this.removeListener(),this.dataModule&&this.dataModule.destroy(),this.grid&&(this.grid.dataSource=null,this.grid.destroy()),n&&r.prototype.destroy.call(this),this.infiniteScrollData=null,this.remoteCollapsedData=null,this.remoteExpandedData=null,this.parentData=null;for(var s=["dataModule","sortModule","renderModule","filterModule","printModule","clipboardModule","excelExportModule","pdfExportModule","toolbarModule","summaryModule","reorderModule","resizeModule","pagerModule","keyboardModule","columnMenuModule","contextMenuModule","editModule","virtualScrollModule","selectionModule","detailRow","rowDragAndDropModule","freezeModule"],o=0;o<s.length;o++)this[s[parseInt(o.toString(),10)]]&&(this[s[parseInt(o.toString(),10)]]=null);this.dataResults=null,this.uniqueIDCollection={},this.uniqueIDFilterCollection={},this.element.innerHTML="",this.grid=null}},e.prototype.dataBind=function(){p(this.grid)||(!p(this.rowDropSettings.targetID)&&p(document.getElementById(this.grid.rowDropSettings.targetID))&&(document.getElementById(this.rowDropSettings.targetID).id=this.grid.rowDropSettings.targetID,this.rowDropSettings.targetID=this.grid.rowDropSettings.targetID),r.prototype.dataBind.call(this),this.grid.dataBind())},e.prototype.getPersistData=function(){for(var i=["pageSettings","sortSettings","filterSettings","columns","searchSettings","selectedRowIndex","treeColumnIndex","scrollPosition"],n={pageSettings:["template","pageSizes","pageSizeMode","enableQueryString","totalRecordsCount","pageCount"],filterSettings:["type","mode","showFilterBarStatus","immediateModeDelay","ignoreAccent","hierarchyMode"],searchSettings:["fields","operator","ignoreCase"],sortSettings:[],columns:[],selectedRowIndex:[],scrollPosition:[]},s=["filter","edit","filterBarTemplate","headerTemplate","template","commandTemplate","commands","dataSource"],o=0;o<i.length;o++)for(var a=this[i[parseInt(o.toString(),10)]],l=0,h=n[i[parseInt(o.toString(),10)]];!p(h)&&l<h.length;l++){var u=h[parseInt(l.toString(),10)];delete a[""+u]}return this.ignoreInArrays(s,this.columns),this.addOnPersist(i)},e.prototype.ignoreInArrays=function(i,n){for(var s=0;s<n.length;s++)n[parseInt(s.toString(),10)].columns?(this.ignoreInColumn(i,n[parseInt(s.toString(),10)]),this.ignoreInArrays(i,n[parseInt(s.toString(),10)].columns)):this.ignoreInColumn(i,n[parseInt(s.toString(),10)])},e.prototype.ignoreInColumn=function(i,n){if(p(n.template))for(var s=0;s<i.length;s++)delete n[i[parseInt(s.toString(),10)]],n.filter={}},e.prototype.mouseClickHandler=function(i){var n=this;if(p(i.touches)){var s=i.target;(s.classList.contains("e-treegridexpand")||s.classList.contains("e-treegridcollapse"))&&!this.isEditCollapse&&!this.grid.isEdit&&this.expandCollapseRequest(s);var o="isEllipsisTooltip";if((s.classList.contains("e-treegridexpand")||s.classList.contains("e-treegridcollapse"))&&this.grid[""+o]()&&this.grid.toolTipObj.close(),this.isEditCollapse=!1,this.notify("checkboxSelection",{target:s}),this.grid.isCheckBoxSelection&&!this.grid.isPersistSelection&&this.aggregates.map(function(d){return d.showChildSummary===!0}).length){var a=this.grid.getHeaderContent().querySelector(".e-checkselectall"),l=this.grid.getSelectedRowIndexes().length,h=this.getCurrentViewRecords().length;if(h>0&&l===h){var u=a.nextElementSibling;ue([u],["e-stop","e-uncheck"]),Z([u],["e-check"])}}if((s.classList.contains("e-flmenu-cancelbtn")||s.classList.contains("e-flmenu-okbtn")||s.classList.contains("e-content")||s.classList.contains("e-rowcell"))&&!p(this.grid.filterModule)&&this.isReact&&!p(this.grid.filterModule.column)&&this.grid.filterModule.column.filterTemplate){var c=document.getElementById(this.grid.filterModule.filterModule.dlgObj.element.id);this.grid.filterModule.fltrDlgDetails.isOpen=!1,this.grid.filterModule.filterModule.dlgObj&&!this.grid.filterModule.filterModule.dlgObj.isDestroyed&&c&&this.clearTemplate(["filterTemplate"],void 0,function(){n.grid.filterModule.filterModule.dlgObj.destroy()})}}},e.prototype.getRows=function(){return this.grid.getRows()},e.prototype.getPager=function(){return this.grid.getPager()},e.prototype.addRecord=function(i,n,s){if(this.editModule){var o="isAddedRowByMethod";this.editModule[""+o]=!0,this.editModule.addRecord(i,n,s)}},e.prototype.closeEdit=function(){this.grid.editModule&&this.editModule.closeEdit()},e.prototype.saveCell=function(){this.grid.editModule&&this.grid.editModule.saveCell()},e.prototype.updateCell=function(i,n,s){this.grid.editModule&&this.grid.editModule.updateCell(i,n,s)},e.prototype.updateRow=function(i,n){if(this.grid.editModule)if(p(i))this.grid.editModule.updateRow(i,n);else{var s=this.grid.getCurrentViewRecords()[parseInt(i.toString(),10)];ie(s,n),this.grid.editModule.updateRow(i,s)}},e.prototype.deleteRecord=function(i,n){if(p(i)&&p(n)||this.getSelectedRecords().length<=0){var s="The provided value for the fieldName and data is undefined. Please ensure the fieldName and data contains number.";this.trigger(gu,{error:s})}this.grid.editModule&&this.grid.editModule.deleteRecord(i,n)},e.prototype.startEdit=function(i){this.grid.editModule&&this.grid.editModule.startEdit(i)},e.prototype.editCell=function(i,n){this.editModule&&this.editModule.editCell(i,n)},e.prototype.enableToolbarItems=function(i,n){this.grid.toolbarModule&&this.grid.toolbarModule.enableItems(i,n)},e.prototype.endEdit=function(){this.grid.editModule&&this.grid.editModule.endEdit()},e.prototype.openColumnChooser=function(i,n){this.columnChooserModule&&this.columnChooserModule.openColumnChooser(i,n)},e.prototype.deleteRow=function(i){this.grid.editModule&&this.grid.editModule.deleteRow(i)},e.prototype.getPrimaryKeyFieldNames=function(){return this.grid.getPrimaryKeyFieldNames()},e.prototype.setCellValue=function(i,n,s){this.grid.setCellValue(i,n,s);var o=this.grid.getRowIndexByPrimaryKey(i),a=this.getCurrentViewRecords()[parseInt(o.toString(),10)];c0({value:a,action:"edit"},this,this.isSelfReference,a.index,this.grid.selectedRowIndex,n)},e.prototype.setRowData=function(i,n){var s=this.getCurrentViewRecords(),o=this.grid.getPrimaryKeyFieldNames()[0],a=0,l={};s.some(function(f){return f[""+o]===i?(l=f,!0):!1}),a=l.level,n.level=a,n.index=l.index,n.childRecords=l.childRecords,n.taskData=l.taskData,n.uniqueID=l.uniqueID,n.parentItem=l.parentItem,n.checkboxState=l.checkboxState,n.hasChildRecords=l.hasChildRecords,n.parentUniqueID=l.parentUniqueID,n.expanded=l.expanded,this.grid.setRowData(i,n);var h=this.getVisibleRecords();if(h.length>0&&i===h[h.length-1][""+o]){var u=this.getContentTable(),c=u.scrollHeight,d=this.getContent().clientHeight;this.lastRowBorder(this.getRows()[s.indexOf(l)],c<=d)}},e.prototype.goToPage=function(i){this.grid.pagerModule&&this.grid.pagerModule.goToPage(i)},e.prototype.updateExternalMessage=function(i){this.pagerModule&&this.grid.pagerModule.updateExternalMessage(i)},e.prototype.getCellFromIndex=function(i,n){return this.grid.getCellFromIndex(i,n)},e.prototype.getColumnByField=function(i){return ao(this.columnModel,function(n){if(n.field===i)return n})[0]},e.prototype.getColumnByUid=function(i){var n=this.initialRender?this.grid.columns:this.columns,s="columnModel";return this.grid.columns.length!==this.columnModel.length&&(n=this.grid[""+s]),ao(n,function(o){if(o.uid===i)return o})[0]},e.prototype.getColumnFieldNames=function(){return this.grid.getColumnFieldNames()},e.prototype.getFooterContent=function(){return this.grid.getFooterContent()},e.prototype.getFooterContentTable=function(){return this.grid.getFooterContentTable()},e.prototype.showColumns=function(i,n){this.grid.showColumns(i,n),this.updateColumnModel()},e.prototype.hideColumns=function(i,n){this.grid.hideColumns(i,n),this.updateColumnModel()},e.prototype.getColumnHeaderByField=function(i){return this.grid.getColumnHeaderByField(i)},e.prototype.getColumnHeaderByIndex=function(i){return this.grid.getColumnHeaderByIndex(i)},e.prototype.getColumnHeaderByUid=function(i){return this.grid.getColumnHeaderByUid(i)},e.prototype.getColumnIndexByField=function(i){return this.grid.getColumnIndexByField(i)},e.prototype.getVirtualColIndexByUid=function(i){var n="columnModel",s=ao(this.grid[""+n],function(o,a){if(o.uid===i)return a})[0];return p(s)?-1:s},e.prototype.getColumnIndexByUid=function(i){return this.grid.getColumnIndexByUid(i)},e.prototype.getColumns=function(i){return this.updateColumnModel(this.grid.getColumns(i)),this.columnModel},e.prototype.updateColumnModel=function(i){var n,s,o=p(i)?this.grid.getColumns():i;this.treeColumnIndex!==-1&&this.columnModel[this.treeColumnIndex]&&!p(this.columnModel[this.treeColumnIndex].template)&&(n=this.columnModel[this.treeColumnIndex].template,s=this.columnModel[this.treeColumnIndex].field);var a;if(!this.enableColumnVirtualization||this.enableColumnVirtualization&&this.columnModel.length===o.length){this.columnModel=[];for(var l=0;l<o.length;l++){a={};for(var h=0,u=Object.keys(o[parseInt(l.toString(),10)]);h<u.length;h++){var c=u[h];a[""+c]=o[parseInt(l.toString(),10)][""+c]}this.columnModel.push(new jC(a)),s===this.columnModel[parseInt(l.toString(),10)].field&&this.columnModel[parseInt(l.toString(),10)].type!=="checkbox"&&!p(n)&&n!==""&&(this.columnModel[parseInt(l.toString(),10)].template=n)}}var d="deepMerge";if(this[""+d]=["columns"],this.grid.columns.length!==this.columnModel.length&&(this.stackedHeader=!0),this.stackedHeader&&!p(this.detailTemplate)){var f="Stacked header is not compatible with the detail template";this.trigger(gu,{error:f})}return this.stackedHeader&&this.allowResizing&&!p(this.columns)&&this.updateColumnsWidth(this.columns),!this.stackedHeader&&!p(this.columns)&&ai(this.columns,this.columnModel),this[""+d]=void 0,this.columnModel},e.prototype.updateColumnsWidth=function(i){var n=this;i.forEach(function(s){if(!p(s)&&s.columns)n.updateColumnsWidth(s.columns);else if(!p(s)&&s.field){var o=n.grid.getColumnByField(s.field);p(o)||(s.width=o.width)}})},e.prototype.getContent=function(){return this.grid.getContent()},e.prototype.mergePersistTreeGridData=function(){var i="mergePersistGridData";this.grid[""+i].apply(this)},e.prototype.mergeColumns=function(i,n){var s="mergeColumns";this.grid[""+s].apply(this,[i,n])},e.prototype.setFrozenCount=function(){var i="setFrozenCount";this.grid[""+i].apply(this)},e.prototype.splitFrozenCount=function(i){var n="splitFrozenCount",s=this.frozenColumns>0?this.grid:this;this.grid[""+n].apply(s,[i])},e.prototype.removeBorder=function(i){var n="removeBorder";this.grid[""+n].apply(this.grid,[i])},e.prototype.frozenLeftBorderColumns=function(i){var n="frozenLeftBorderColumns";this.grid[""+n].apply(this.grid,[i])},e.prototype.frozenRightBorderColumns=function(i){var n="frozenRightBorderColumns";this.grid[""+n].apply(this.grid,[i])},e.prototype.isFrozenGrid=function(){var i=Array.isArray(this.columns)&&this.columns.some(function(n){return!!n.freeze});return this.frozenColumns>0||this.frozenRows>0||this.getFrozenColumns()>0||i},e.prototype.updateTreeGridModel=function(){this.setProperties({filterSettings:It("properties",this.grid.filterSettings)},!0),this.setProperties({pageSettings:It("properties",this.grid.pageSettings)},!0),this.setProperties({searchSettings:It("properties",this.grid.searchSettings)},!0),this.setProperties({sortSettings:It("properties",this.grid.sortSettings)},!0)},e.prototype.hasPreAndPostMiddleware=function(i){return i&&typeof i.applyPreRequestMiddlewares=="function"&&typeof i.applyPostRequestMiddlewares=="function"},e.prototype.getContentTable=function(){return this.grid.getContentTable()},e.prototype.getDataRows=function(){for(var i=[],n=this.grid.getDataRows(),s=0,o=n.length;s<o;s++)n[parseInt(s.toString(),10)].classList.contains("e-summaryrow")||i.push(n[parseInt(s.toString(),10)]);return i},e.prototype.getCurrentViewRecords=function(){var i="isSummaryRow";return this.grid.currentViewData.filter(function(n){return p(n[""+i])})},e.prototype.getBatchChanges=function(){return this.grid.editModule.getBatchChanges()},e.prototype.getHeaderContent=function(){return this.grid.getHeaderContent()},e.prototype.getHeaderTable=function(){return this.grid.getHeaderTable()},e.prototype.getRowByIndex=function(i){return this.grid.getRowByIndex(i)},e.prototype.getRowInfo=function(i){return this.grid.getRowInfo(i)},e.prototype.getUidByColumnField=function(i){return this.grid.getUidByColumnField(i)},e.prototype.getVisibleColumns=function(){return this.columnModel.filter(function(i){return i.visible})},e.prototype.showSpinner=function(){oo(this.element)},e.prototype.hideSpinner=function(){wl(this.element)},e.prototype.refresh=function(){this.uniqueIDCollection={},this.convertTreeData(this.dataSource),ti(this)||(this.dataSource instanceof fe?this.grid.setProperties({dataSource:new fe(this.dataSource.dataSource,this.dataSource.defaultQuery,this.dataSource.adaptor,this.hasPreAndPostMiddleware(this.dataSource)?this.dataSource:void 0)},!0):this.grid.dataSource=this.flatData),this.grid.refresh()},e.prototype.getCheckedRecords=function(){return this.selectionModule.getCheckedrecords()},e.prototype.getVisibleRecords=function(){var i=[],n=this.getCurrentViewRecords();if(this.allowPaging)i=n;else for(var s=0;s<n.length;s++)i.push(n[parseInt(s.toString(),10)]),n[parseInt(s.toString(),10)].expanded||(s+=UC(n[parseInt(s.toString(),10)]).length);return i},e.prototype.getCheckedRowIndexes=function(){return this.selectionModule.getCheckedRowIndexes()},e.prototype.selectCheckboxes=function(i){this.selectionModule.selectCheckboxes(i)},e.prototype.refreshColumns=function(i){p(i)||i?(this.grid.columns=this.getGridColumns(this.columns),this.getTreeColumn(),this.isFrozenGrid()||this.grid.refreshColumns()):this.grid.setProperties({columns:this.getGridColumns(this.columns)},!0)},e.prototype.getTreeColumn=function(){var i="columnModel",n=this[""+i][this.treeColumnIndex],s=this.getColumns(),o=It("field",n),a=s.findIndex(function(l){return It("field",l)===o});p(a)||this.setProperties({treeColumnIndex:a},!0)},e.prototype.refreshHeader=function(){this.grid.refreshHeader()},e.prototype.expandCollapseRequest=function(i){if(this.editSettings.mode==="Batch"){var n="dialogObj",s="showDialog";if((this.getBatchChanges()[this.changedRecords].length||this.getBatchChanges()[this.deletedRecords].length||this.getBatchChanges()[this.addedRecords].length)&&this.editSettings.showConfirmDialog){var o=this.grid.editModule[""+n];this.grid.editModule[""+s]("CancelEdit",o),this.targetElement=i;return}}if(this.rowTemplate){var a=i.closest(".e-treerowcell").parentElement,l=this.getCurrentViewRecords()[a.rowIndex];i.classList.contains("e-treegridexpand")?this.collapseRow(a,l):this.expandRow(a,l)}else{var h=this.grid.getRowInfo(i),l=h.rowData;if(this.grid.isFrozenGrid()&&this.enableVirtualization&&!Object.keys(l).length){var u="freezeRows";l=this.grid.contentModule[""+u].filter(function(d){return d.uid===h.row.getAttribute("data-uid")})[0].data}this.enableImmutableMode&&(l=this.getCurrentViewRecords()[h.rowIndex]),i.classList.contains("e-treegridexpand")?this.collapseRow(h.row,l):this.expandRow(h.row,l)}},e.prototype.expandRow=function(i,n,s,o){var a=this;this.isCollapseAll=!1;var l=this.parentData;if(this.enableVirtualization||(l=this.flatData.filter(function(c){return c.hasChildRecords})),n=this.getCollapseExpandRecords(i,n),!(p(i)&&p(n))){if(!p(i)&&i.cells&&i.cells[0].classList.contains("e-lastrowcell")&&this.lastRowBorder(i,!1),this.isExpandAll&&!Dt(this)){var h={data:l,row:i,cancel:!1},u=!1;this.grid.pagerModule&&!p(this.grid.pagerModule.pagerObj.pagerdropdownModule)&&(u=!!this.grid.pagerModule.pagerObj.pagerdropdownModule.dropDownListObject.value),this.isExpandingEventTriggered?(!this.allowPaging||u&&this.grid.pagerModule.pagerObj.pagerdropdownModule.dropDownListObject.value==="All")&&!this.expandAllPrevent&&this.isExpandingEventTriggered&&this.expandRows(i,n,l):this.trigger(UN,h,function(c){a.expandAllPrevent=c.cancel,!c.cancel&&!p(n)&&(c.expandAll&&a.expandCollapseAllChildren(n,"expand",s,o),a.expandRows(i,n,l))}),this.isExpandingEventTriggered=!0}else if(!this.isExpandAll||this.isExpandAll&&Dt(this)){var h={data:n,row:i,cancel:!1};this.trigger(UN,h,function(d){d.cancel||(d.expandAll&&a.expandCollapseAllChildren(n,"expand",s,o),a.expandRows(i,n,l))})}}},e.prototype.expandRows=function(i,n,s){this.expandCollapse("expand",i,n);var o="Children";if(!(Dt(this)&&!Ko(this))&&(!ti(this)||!p(n[""+o]))){var a={data:n,row:i};p(this.expandStateMapping)||this.updateExpandStateMapping(a.data,!0),this.isExpandAll&&!this.isExpandedEventTriggered?(this.isExpandedEventTriggered=!0,a={data:s,row:i},this.trigger(Cd,a)):!this.isExpandAll&&this.enableVirtualization&&this.selectionSettings.persistSelection&&!p(this.virtualScrollModule.prevSelectedRecord)?this.virtualScrollModule.prevSelectedRecord=[]:this.isExpandAll||this.trigger(Cd,a)}},e.prototype.expandCollapseAllChildren=function(i,n,s,o){if(!(!p(s)&&i[this.getPrimaryKeyFieldNames()[0]]!==s||!p(o)&&o!==i.level)){var a=UC(i).filter(function(h){return h.hasChildRecords});a.unshift(i);for(var l=0;l<a.length;l++)this.expandCollapse(n,null,a[parseInt(l.toString(),10)])}},e.prototype.getCollapseExpandRecords=function(i,n){return this.allowPaging&&this.pageSettings.pageSizeMode==="All"&&this.isExpandAll&&p(n)&&!Dt(this)?n=this.flatData.filter(function(s){return s.hasChildRecords}):p(n)&&!p(i)&&(this.detailTemplate?n=this.grid.getCurrentViewRecords()[parseInt(i.getAttribute("aria-rowindex"),10)-1]:this.enableVirtualization&&(this.isCollapseAll||this.isExpandAll)?i.rowIndex===-1?n=this.grid.getCurrentViewRecords()[parseInt(i.getAttribute("aria-rowindex"),10)-1]:n=this.grid.getCurrentViewRecords()[i.rowIndex]:this.rowTemplate?n=this.grid.getCurrentViewRecords()[i.rowIndex]:n=this.grid.getCurrentViewRecords()[parseInt(i.getAttribute("aria-rowindex"),10)-1]),n},e.prototype.collapseRow=function(i,n,s){var o=this;this.isExpandAll=!1;var a=this.parentData;if(this.enableVirtualization||(a=this.flatData.filter(function(h){return h.hasChildRecords})),n=this.getCollapseExpandRecords(i,n),!(p(i)&&p(n))){if(this.isCollapseAll&&!Dt(this)){var l={data:a,row:i,cancel:!1};this.isCollapsingEventTriggered?!this.allowPaging&&!this.collapseAllPrevent&&this.isCollapsingEventTriggered&&this.collapseRows(i,n,a):this.trigger(HN,l,function(h){o.collapseAllPrevent=h.cancel,h.cancel||(h.collapseAll&&o.expandCollapseAllChildren(n,"collapse",s),o.collapseRows(i,n,a))}),this.isCollapsingEventTriggered=!0}else if(!this.isCollapseAll||this.isCollapseAll&&Dt(this)){var l={data:n,row:i,cancel:!1};this.trigger(HN,l,function(u){u.cancel||o.collapseRows(i,n,a)})}}},e.prototype.collapseRows=function(i,n,s){this.expandCollapse("collapse",i,n);var o={data:n,row:i};if(!Dt(this)&&(p(this.expandStateMapping)||this.updateExpandStateMapping(o.data,!1),this.isCollapseAll&&!this.isCollapsedEventTriggered?(this.isCollapsedEventTriggered=!0,o={data:s,row:i},this.trigger(u0,o)):this.isCollapseAll||this.trigger(u0,o),this.enableInfiniteScrolling)){var a=this.grid.getContent().firstElementChild.scrollHeight,l=this.grid.getContent().firstElementChild.scrollTop;a-l<this.grid.getRowHeight()+ +this.height&&this.grid.getContent().firstElementChild.scrollBy(0,this.grid.getRowHeight())}},e.prototype.updateExpandStateMapping=function(i,n){var s=i;if(s.length)for(var o=0;o<s.length;o++)s[parseInt(o.toString(),10)][this.expandStateMapping]=n,c0({value:s[parseInt(o.toString(),10)],action:"edit"},this,this.isSelfReference,s[parseInt(o.toString(),10)].index,this.grid.selectedRowIndex,this.expandStateMapping);else i[""+this.expandStateMapping]=n,c0({value:i,action:"edit"},this,this.isSelfReference,i.index,this.grid.selectedRowIndex,this.expandStateMapping)},e.prototype.expandAtLevel=function(i){if((this.allowPaging&&this.pageSettings.pageSizeMode==="All"||this.enableVirtualization)&&!Dt(this)){var n=this.grid.dataSource.filter(function(o){return o.hasChildRecords&&o.level===i&&(o.expanded=!0),o.hasChildRecords&&o.level===i});this.expandAction(n,null,i,!0)}else{var n=this.getRecordDetails(i),s=It("records",n);this.expandAction(s,null,i)}},e.prototype.expandByKey=function(i){this.expandCollapseActionByKey(i,"Expand")},e.prototype.expandAction=function(i,n,s,o){o===void 0&&(o=!1);for(var a=function(u){if(!p(i[parseInt(u.toString(),10)].parentItem)){var c=i[parseInt(u.toString(),10)].parentItem.uniqueID,d=l.flatData.filter(function(f){return f.uniqueID===c});Dt(l)&&(d=l.getCurrentViewRecords().filter(function(f){return f.uniqueID===c})),d[0].expanded===!1?(i.push(d[0]),d[0].expanded=!0):Tc(l,d[0],l.parentData)||d[0].expanded&&d[0].parentItem!==void 0&&i.push(d[0])}o||l.expandRow(null,i[parseInt(u.toString(),10)],n,s)},l=this,h=0;h<i.length;h++)a(h);o&&this.expandRow(null,i,n,s)},e.prototype.getRecordDetails=function(i){var n=this.getRows().filter(function(a){return a.className.indexOf("level"+i)!==-1&&(a.querySelector(".e-treegridcollapse")||a.querySelector(".e-treegridexpand"))}),s=this.getCurrentViewRecords().filter(function(a){return a.level===i&&a.hasChildRecords}),o={records:s,rows:n};return o},e.prototype.collapseAtLevel=function(i){if((this.allowPaging&&this.pageSettings.pageSizeMode==="All"||this.enableVirtualization)&&!Dt(this)){var n=this.grid.dataSource.filter(function(a){return a.hasChildRecords&&a.level===i&&(a.expanded=!1),a.hasChildRecords&&a.level===i});this.collapseAction(n,null,!0)}else{var s=this.getRecordDetails(i),o=It("records",s);this.collapseAction(o)}},e.prototype.collapseByKey=function(i){this.expandCollapseActionByKey(i,"Collapse")},e.prototype.expandCollapseActionByKey=function(i,n){var s=this.getPrimaryKeyFieldNames()[0],o=Dt(this)?this.getCurrentViewRecords():this.grid.dataSource;if(!p(s)){var a=o.filter(function(l){return l[""+s].toString()===i.toString()});n==="Expand"?this.expandAction(a,i,null):this.collapseAction(a,i)}},e.prototype.collapseAction=function(i,n,s){if(s===void 0&&(s=!1),s)this.collapseRow(null,i);else for(var o=0;o<i.length;o++)this.collapseRow(null,i[parseInt(o.toString(),10)],n);if(!this.grid.contentModule.isDataSourceChanged&&this.enableVirtualization&&this.getRows()&&this.parentData.length===this.getRows().length){var a="endIndex";this.grid.contentModule.startIndex=-1,this.grid.contentModule[""+a]=-1}},e.prototype.expandAll=function(){if(this.getCurrentViewRecords().length===0){var i="The provided value for the datasource is undefined. Please ensure to add the dataSource.";this.trigger(gu,{error:i})}if(this.isExpandedEventTriggered=!1,this.isExpandingEventTriggered=!1,this.editSettings.mode==="Batch"){var n="dialogObj",s="showDialog",o=this.getBatchChanges?this.getBatchChanges():{},a=Array.isArray(o.changedRecords)?o.changedRecords:[],l=Array.isArray(o.deletedRecords)?o.deletedRecords:[],h=Array.isArray(o.addedRecords)?o.addedRecords:[],u=a.length>0||l.length>0||h.length>0;if(u&&this.editSettings.showConfirmDialog){var c=this.grid.editModule[""+n];this.grid.editModule[""+s]("CancelEdit",c);return}}this.expandCollapseAll("expand")},e.prototype.collapseAll=function(){if(this.getCurrentViewRecords().length===0){var i="The provided value for the datasource is undefined. Please ensure to add the dataSource.";this.trigger(gu,{error:i})}if(this.isCollapsedEventTriggered=!1,this.isCollapsingEventTriggered=!1,this.editSettings.mode==="Batch"){var n="dialogObj",s="showDialog",o=this.getBatchChanges?this.getBatchChanges():{},a=Array.isArray(o.changedRecords)?o.changedRecords:[],l=Array.isArray(o.deletedRecords)?o.deletedRecords:[],h=Array.isArray(o.addedRecords)?o.addedRecords:[],u=a.length>0||l.length>0||h.length>0;if(u&&this.editSettings.showConfirmDialog){var c=this.grid.editModule[""+n];this.grid.editModule[""+s]("CancelEdit",c);return}}this.expandCollapseAll("collapse")},e.prototype.expandCollapseAll=function(i){var n;if(this.rowTemplate?n=[].slice.call(this.grid.getContentTable().querySelectorAll("tr")).filter(function(l){return l.querySelector(".e-treegrid"+(i==="expand"?"collapse":"expand"))}):n=this.getRows().filter(function(l){return l.querySelector(".e-treegrid"+(i==="expand"?"collapse":"expand"))}),!n.length&&this.getRows().length&&n.push(this.getRows()[0]),this.isExpandAll=!0,this.isCollapseAll=!0,(this.allowPaging&&(this.pageSettings.pageSizeMode==="All"||this.pageSettings.pageSizeMode==="Root")||this.enableVirtualization||this.enableInfiniteScrolling)&&!Dt(this)){if(this.flatData.filter(function(l){l.hasChildRecords&&(l.expanded=i!=="collapse")}),n.length)for(var s=0;s<n.length;s++)if(i==="collapse"){var o=this.frozenRows?this.getCurrentViewRecords()[parseInt(n[parseInt(s.toString(),10)].getAttribute("aria-rowindex"),10)-1]:this.getCurrentViewRecords()[n[parseInt(s.toString(),10)].rowIndex];p(o)||this.collapseRow(n[parseInt(s.toString(),10)])}else this.enableVirtualization?n[0].getAttribute("aria-expanded")!=="true"&&this.expandRow(n[0]):this.expandRow(n[parseInt(s.toString(),10)]);else if(this.allowPaging){var a=this.enableCollapseAll;this.setProperties({enableCollapseAll:!0},!0),this.grid.pagerModule.goToPage(1),this.setProperties({enableCollapseAll:a},!0)}}else for(var s=0;s<n.length;s++)i==="collapse"?this.collapseRow(n[parseInt(s.toString(),10)]):this.expandRow(n[parseInt(s.toString(),10)]);this.isExpandAll=!1,this.isCollapseAll=!1},e.prototype.expandCollapse=function(i,n,s,o){var a=this,l={row:n,data:s,childData:[],requestType:i},h=this.grid.currentViewData.filter(function(E){return E.parentUniqueID===s.uniqueID}),u;(!Dt(this)&&i==="expand"&&this.isSelfReference&&ti(this)&&!h.length||i==="collapse"||this.isExpandAll&&!this.loadChildOnDemand&&!Dt(this)&&this.isSelfReference&&ti(this))&&this.updateChildOnDemand(l);var c=this.getRows();if(this.rowTemplate){var d=this.getContentTable().rows;c=[].slice.call(d)}var f;if(p(n)?(f=this.grid.currentViewData.indexOf(s),n=c[parseInt(f.toString(),10)]):f=+n.getAttribute("aria-rowindex")-1,p(n)||n.setAttribute("aria-expanded",i==="expand"?"true":"false"),(this.allowPaging&&(this.pageSettings.pageSizeMode==="All"||this.pageSettings.pageSizeMode==="Root")||this.enableVirtualization)&&!Dt(this)&&!ti(this))this.notify(jie,{action:i,row:n,record:s});else{var g=void 0;if(i==="expand"){if(g="e-childrow-visible",o||(s.expanded=!0,this.flatData.forEach(function(E){E.expanded=E.uniqueID===s.uniqueID&&E.expanded!==s.expanded?s.expanded:E.expanded}),this.uniqueIDCollection[s.uniqueID].expanded=s.expanded),p(n)||(u=n.getElementsByClassName("e-treegridcollapse")[0]),o&&!p(s[this.expandStateMapping])&&s[this.expandStateMapping]&&p(u)&&(u=n.getElementsByClassName("e-treegridexpand")[0]),p(u))return;u.classList.contains("e-treegridexpand")||Z([u],"e-treegridexpand"),ue([u],"e-treegridcollapse")}else{if(g="e-childrow-hidden",(!o||ti(this))&&(s.expanded=!1,this.flatData.forEach(function(E){E.expanded=E.uniqueID===s.uniqueID&&E.expanded!==s.expanded?s.expanded:E.expanded}),this.uniqueIDCollection[s.uniqueID].expanded=s.expanded),p(n)||(u=n.getElementsByClassName("e-treegridexpand")[0]),o&&!p(s[this.expandStateMapping])&&!s[this.expandStateMapping]&&p(u)&&(u=n.getElementsByClassName("e-treegridcollapse")[0]),p(u))return;u.classList.contains("e-treegridcollapse")||Z([u],"e-treegridcollapse"),ue([u],"e-treegridexpand")}n.querySelectorAll(".e-treerowcell")[0].setAttribute("aria-expanded",i==="expand"?"true":"false");var m=c.filter(function(E){return E.classList.contains("e-griddetailrowindex"+s.index+"level"+(s.level+1))});if(Dt(this)&&!Ko(this))this.remoteExpand(i,n,s);else{(!ti(this)||h.length||i==="collapse")&&this.localExpand(i,n,s);var y=this.getVisibleRecords()[this.getVisibleRecords().length-1].index,v=this.getRowByIndex(y),M=v?v.nextElementSibling&&v.nextElementSibling.classList.contains("e-detailrow")?v.nextElementSibling:v:null;this.grid.getContentTable().clientHeight<=this.grid.getContent().clientHeight&&!p(M)&&!M.cells[0].classList.contains("e-lastrowcell")&&this.lastRowBorder(M,!0)}if(ti(this)&&i==="expand"){var S=this.getCurrentViewRecords(),b=S.filter(function(E){return Tc(a,E,a.parentData)});this.dataResults.result=b}if(!p(u)&&u.closest(".e-treerowcell").classList.contains("e-cellselectionbackground")&&(u.closest(".e-treerowcell").classList.remove("e-cellselectionbackground"),u.closest(".e-treerowcell").removeAttribute("aria-selected")),this.isPixelHeight()&&!n.cells[0].classList.contains("e-lastrowcell")){var C=this.getRows(),d=this.getContentTable().rows;C=[].slice.call(d);for(var T=C.length-1;T>=0;T--)if(!nA(C[parseInt(T.toString(),10)])){var k=this.getContentTable(),N=k.scrollHeight,A=this.getContent().clientHeight;this.lastRowBorder(C[parseInt(T.toString(),10)],N<=A);break}}this.notify("rowExpandCollapse",{detailrows:m,action:g,record:s,row:n}),this.updateAltRow(c)}},e.prototype.updateChildOnDemand=function(i){var n=this;if(i.requestType==="collapse"&&ti(this)){for(var s=this.flatData.slice(),o=0;o<s.length;o++)s[parseInt(o.toString(),10)].parentUniqueID===i.data.uniqueID&&(s.splice(o,1),o=o-1);this.dataResults.result=s;return}var a=new mi,l="childDataBind",h;this.query?(h=this.grid.getDataModule().getStateEventArgument(this.query),h.action=i):h=i,i[""+l]=a.resolve;var u=i.data;this.trigger(jN,h),a.promise.then(function(){if(i.childData.length){ti(n)&&(n.flatData=n.dataResults.result),n.enableInfiniteScrolling&&ti(n)&&(n.flatData=n.infiniteScrollData);for(var c=n.flatData,d=0,f=0;f<c.length;f++)if(c[parseInt(f.toString(),10)].taskData===u.taskData){d=f;break}for(var g=H("result",n.dataSource),m=HC(i.childData),y=u[n.childMapping]&&u[n.childMapping].length>m.length?u[n.childMapping].length:m.length,f=0;f<y;f++)u[n.childMapping]&&g.filter(function(b,C){b[n.parentIdMapping]===u[n.idMapping]&&g.splice(C,1)}),m[parseInt(f.toString(),10)]?(m[parseInt(f.toString(),10)].level=u.level+1,m[parseInt(f.toString(),10)].index=Math.ceil(Math.random()*1e3),m[parseInt(f.toString(),10)].parentItem=ie({},u),m[parseInt(f.toString(),10)].taskData=ie({},m[parseInt(f.toString(),10)]),delete m[parseInt(f.toString(),10)].parentItem.childRecords,delete m[parseInt(f.toString(),10)].taskData.parentItem,m[parseInt(f.toString(),10)].parentUniqueID=u.uniqueID,m[parseInt(f.toString(),10)].uniqueID=hs(n.element.id+"_data_"),Ze("uniqueIDCollection."+m[parseInt(f.toString(),10)].uniqueID,m[parseInt(f.toString(),10)],n),(!p(m[parseInt(f.toString(),10)][n.childMapping])||m[parseInt(f.toString(),10)][n.hasChildMapping]&&ti(n))&&(m[parseInt(f.toString(),10)].hasChildRecords=!0),ti(n)&&u[n.childMapping]&&u[n.childMapping][parseInt(f.toString(),10)]?c.splice(d+1+f,0,m[parseInt(f.toString(),10)]):c.splice(d+1+f,u[n.childMapping]&&u[n.childMapping][parseInt(f.toString(),10)]?1:0,m[parseInt(f.toString(),10)])):c.splice(d+1+f,1);c[parseInt(d.toString(),10)][""+n.childMapping]=m,c[parseInt(d.toString(),10)].childRecords=m,c[parseInt(d.toString(),10)].expanded=!0,Ze("uniqueIDCollection."+c[parseInt(d.toString(),10)].uniqueID,c[parseInt(d.toString(),10)],n);for(var v=0;v<i.childData.length;v++)g.push(i.childData[parseInt(v.toString(),10)])}ti(n)&&!n.loadChildOnDemand&&i.requestType==="expand"&&(n.dataResults.expandRecord={},n.dataResults.expandRecord=i.data),n.isExpandRefresh=!0;var M=n.getContentTable().parentElement.scrollTop;n.grid.refresh(),n.enableInfiniteScrolling&&(n.getContentTable().parentElement.scrollTop=M),n.trigger(Cd,i)})},e.prototype.remoteExpand=function(i,n,s){var o=this.getRows(),a="fetchRemoteChildData",l=H("isCollapseAll",this)?"collapseAll":"refresh";if(this.grid.contentModule.requestType=l,this.rowTemplate){var h=this.getContentTable().rows;o=[].slice.call(h)}var u={data:s,row:n},c=[];if(c=o.filter(function(f){return f.querySelector(".e-gridrowindex"+s.index+"level"+(s.level+1))||f.querySelector(".e-gridrowindex"+s.index+"level0.e-summarycell")}),i==="expand"){this.notify(BC,{record:s,rows:c,parentRow:n});var d={row:n,data:s};c.length>0&&this.trigger(Cd,d)}else i==="collapse"&&this.enableVirtualization?this.dataModule[""+a]({action:i,record:u.data,rows:null,parentRow:u.row}):(this.collapseRemoteChild({record:s,rows:c}),this.trigger(u0,u))},e.prototype.localExpand=function(i,n,s){var o,a=n.nextElementSibling&&n.nextElementSibling.classList.contains("e-detailrow")?n.nextElementSibling:null,l=this.grid.currentViewData.filter(function(N){return N.parentUniqueID===s.uniqueID});this.isPixelHeight()&&n.cells[0].classList.contains("e-lastrowcell")?this.lastRowBorder(n,!1):this.isPixelHeight()&&a&&a.cells[0].classList.contains("e-lastrowcell")&&this.lastRowBorder(n.nextElementSibling,!1);var h,u,c=this.getRows();if(this.rowTemplate){var d=this.getContentTable().rows;c=[].slice.call(d)}var f=i==="expand"?"e-childrow-visible":"e-childrow-hidden",g=this.getPrimaryKeyFieldNames()[0];if(this.enableImmutableMode&&!this.allowPaging){o=[];for(var m=0;m<l.length;m++){var y=this.grid.getRowIndexByPrimaryKey(l[parseInt(m.toString(),10)][""+g]);o.push(this.getRows()[parseInt(y.toString(),10)])}}else o=c.filter(function(N){return N.querySelector(".e-gridrowindex"+s.index+"level"+(s.level+1))});var v=this.grid.getFrozenLeftColumnsCount()>0||this.grid.getFrozenRightColumnsCount()>0;(this.frozenRows||this.frozenColumns||this.getFrozenColumns()||v)&&(h=this.getRows().filter(function(N){return N.querySelector(".e-gridrowindex"+s.index+"level"+(s.level+1))})),v&&(u=this.getRows().filter(function(N){return N.querySelector(".e-gridrowindex"+s.index+"level"+(s.level+1))}));var M=this.grid.getRowsObject(),S=this.grid.currentViewData,b=S.filter(function(N){return N.uniqueID===s.uniqueID}),C=S.indexOf(b[0]);!p(M[parseInt(C.toString(),10)].visible)&&M[parseInt(C.toString(),10)].visible!==!1&&(M[parseInt(C.toString(),10)].visible=!0),this.detailTemplate&&c.forEach(function(N){N.classList.contains("e-detailrow")&&N.style.display==="none"&&(N.style.display="")});for(var T=c.filter(function(N){return N.classList.contains("e-griddetailrowindex"+s.index+"level"+(s.level+1))}),m=0;m<o.length;m++){if(p(o[parseInt(m.toString(),10)])||this.toggleRowVisibility(o[parseInt(m.toString(),10)],f),!p(o[parseInt(m.toString(),10)])&&!this.allowPaging&&!(this.enableVirtualization||this.enableInfiniteScrolling||Dt(this)||ti(this))){p(M[o[parseInt(m.toString(),10)].rowIndex])||(M[o[parseInt(m.toString(),10)].rowIndex].visible=f!=="e-childrow-hidden");var k=S.filter(function(A){return A.uniqueID===b[0].parentUniqueID});!p(k[0])&&c[S.indexOf(k[0])].getElementsByClassName("e-treegridcollapse").length&&(M[parseInt(C.toString(),10)].visible=!1)}p(h)||this.toggleRowVisibility(h[parseInt(m.toString(),10)],f),p(u)||this.toggleRowVisibility(u[parseInt(m.toString(),10)],f),this.notify("childRowExpand",{row:o[parseInt(m.toString(),10)]}),!p(l)&&!p(l[parseInt(m.toString(),10)].childRecords)&&l[parseInt(m.toString(),10)].childRecords.length>0&&(i!=="expand"||p(l[parseInt(m.toString(),10)].expanded)||l[parseInt(m.toString(),10)].expanded)&&(this.expandCollapse(i,o[parseInt(m.toString(),10)],l[parseInt(m.toString(),10)],!0),this.frozenColumns<=this.treeColumnIndex&&!p(h)&&this.expandCollapse(i,h[parseInt(m.toString(),10)],l[parseInt(m.toString(),10)],!0))}for(var m=0;m<T.length;m++)!p(T[parseInt(m.toString(),10)])&&!this.allowPaging&&!(this.enableVirtualization||this.enableInfiniteScrolling||Dt(this)||ti(this))&&(M[T[parseInt(m.toString(),10)].rowIndex].visible=f!=="e-childrow-hidden",this.toggleRowVisibility(T[parseInt(m.toString(),10)],f));!this.allowPaging&&!(this.enableVirtualization||this.enableInfiniteScrolling||Dt(this)||ti(this))&&this.grid.notify("refresh-Expand-and-Collapse",{rows:this.grid.getRowsObject()})},e.prototype.toggleRowVisibility=function(i,n){i&&(i.classList.remove("e-childrow-hidden","e-childrow-visible","e-hide"),i.classList.add(n))},e.prototype.updateAltRow=function(i){if(this.enableAltRow&&!this.rowTemplate)for(var n=0,s=0;i&&s<i.length;s++){var o=i[parseInt(s.toString(),10)];o.classList.contains("e-childrow-hidden")||(o.classList.contains("e-altrow")&&ue([o],"e-altrow"),n%2!==0&&!o.classList.contains("e-summaryrow")&&!o.classList.contains("e-detailrow")&&Z([o],"e-altrow"),!o.classList.contains("e-summaryrow")&&!o.classList.contains("e-detailrow")&&n++)}},e.prototype.treeColumnRowTemplate=function(){var i=this.getContentTable().rows;i=[].slice.call(i);for(var n=this.grid.getRowsObject(),s=0;s<i.length;s++){var o=this.grid.getContentTable().rows[parseInt(s.toString(),10)].cells[this.treeColumnIndex],a=i[parseInt(s.toString(),10)],l=n.length!==0?n[parseInt(s.toString(),10)].data:new Object,h={data:l,row:a,cell:o,column:this.getColumns()[this.treeColumnIndex]};this.renderModule.cellRender(h)}},e.prototype.collapseRemoteChild=function(i,n){!p(n)&&!n&&this.loadChildOnDemand&&(i.record.expanded=!1);var s=i.rows,o,a,l=[],h=[],u=this.getFrozenLeftColumnsCount()>0||this.getFrozenRightColumnsCount()>0;u&&(l=this.getRows().filter(function(v){return v.querySelector(".e-gridrowindex"+i.record.index+"level"+(i.record.level+1))}),h=this.getRows().filter(function(v){return v.querySelector(".e-gridrowindex"+i.record.index+"level"+(i.record.level+1))}));for(var c=0;c<s.length;c++){this.toggleRowVisibility(s[parseInt(c.toString(),10)],"e-childrow-hidden"),o=s[parseInt(c.toString(),10)];var d=s[parseInt(c.toString(),10)].querySelector(".e-detailrowexpand");if(p(d)||this.grid.detailRowModule.collapse(d),u&&(this.toggleRowVisibility(l[parseInt(c.toString(),10)],"e-childrow-hidden"),this.toggleRowVisibility(h[parseInt(c.toString(),10)],"e-childrow-hidden"),s[parseInt(c.toString(),10)].querySelector(".e-treecolumn-container .e-treegridexpand")||(l[parseInt(c.toString(),10)].querySelector(".e-treecolumn-container .e-treegridexpand")?o=l[parseInt(c.toString(),10)]:h[parseInt(c.toString(),10)].querySelector(".e-treecolumn-container .e-treegridexpand")&&(o=h[parseInt(c.toString(),10)]))),o.querySelector(".e-treecolumn-container .e-treegridexpand")){var f=o.querySelector(".e-treecolumn-container .e-treegridexpand");a=this.rowTemplate?this.grid.getCurrentViewRecords()[s[parseInt(c.toString(),10)].rowIndex]:this.grid.getRowObjectFromUID(s[parseInt(c.toString(),10)].getAttribute("data-Uid")).data,!p(f)&&a.expanded&&(ue([f],"e-treegridexpand"),Z([f],"e-treegridcollapse"));for(var g=[],m=this.getRows(),y=0;y<m.length;y++)m[parseInt(y.toString(),10)].querySelector(".e-gridrowindex"+a.index+"level"+(a.level+1))&&g.push(m[parseInt(y.toString(),10)]);g.length&&a.expanded&&this.collapseRemoteChild({record:a,rows:g},!1)}}this.grid.pageSettings.totalRecordsCount-=s.length},e.prototype.sanitize=function(i){return this.enableHtmlSanitizer&&typeof i=="string"?St.sanitize(i):i},e.prototype.addListener=function(){this.on("updateResults",this.updateResultModel,this),this.grid.on("initial-end",this.afterGridRender,this),this.grid.on("partial-filter-update",this.partialFilterUpdate,this),this.grid.on("get-row-cells",this.getCellsByTableName,this)},e.prototype.updateResultModel=function(i){this.dataResults=i},e.prototype.removeListener=function(){this.isDestroyed||(this.off("updateResults",this.updateResultModel),this.grid.off("initial-end",this.afterGridRender),this.grid.off("last-rowcell-border-updated",this.lastRowCellBorderUpdated),this.grid.off("partial-filter-update",this.partialFilterUpdate),this.grid.off("get-row-cells",this.getCellsByTableName))},e.prototype.getCellsByTableName=function(i){if(Array.isArray(i.elements)||(i.elements=[]),i.rowIndex<this.grid.getDataRows().length){var n=[].slice.call(this.grid.getDataRows()[parseInt(i.rowIndex.toString(),10)].getElementsByClassName("e-rowcell"));Array.prototype.push.apply(i.elements,n)}},e.prototype.partialFilterUpdate=function(i){var n=i.gridFiltered;this.notify("updateFilterRecs",{data:n})},e.prototype.filterByColumn=function(i,n,s,o,a,l,h,u){this.grid.filterByColumn(i,n,s,o,a,l,h,u)},e.prototype.clearFiltering=function(){this.grid.clearFiltering()},e.prototype.removeFilteredColsByField=function(i,n){this.grid.removeFilteredColsByField(i,n)},e.prototype.selectRow=function(i,n){this.grid.selectRow(i,n)},e.prototype.selectRows=function(i){this.grid.selectRows(i)},e.prototype.clearSelection=function(){p(this.grid.selectionModule)||(this.grid.selectionModule.actualTarget=null),this.grid.clearSelection()},e.prototype.copy=function(i){this.clipboardModule.copy(i)},e.prototype.paste=function(i,n,s){this.clipboardModule.paste(i,n,s)},e.prototype.selectCell=function(i,n){this.grid.selectCell(i,n)},e.prototype.getSelectedRows=function(){return this.grid.getSelectedRows()},e.prototype.getMovableCellFromIndex=function(i,n){return this.grid.getCellFromIndex(i,n)},e.prototype.getMovableDataRows=function(){return this.grid.getDataRows()},e.prototype.getMovableRowByIndex=function(i){return this.grid.getRowByIndex(i)},e.prototype.getMovableRows=function(){return this.grid.getRows()},e.prototype.getFrozenRightRowByIndex=function(i){return this.grid.getRowByIndex(i)},e.prototype.getFrozenRightRows=function(){return this.grid.getRows()},e.prototype.getFrozenRightDataRows=function(){return this.grid.getDataRows()},e.prototype.getFrozenRightCellFromIndex=function(i,n){return this.grid.getCellFromIndex(i,n)},e.prototype.getFrozenLeftColumnHeaderByIndex=function(i){return this.grid.getColumnHeaderByIndex(i)},e.prototype.getFrozenRightColumnHeaderByIndex=function(i){return this.grid.getColumnHeaderByIndex(i)},e.prototype.getMovableColumnHeaderByIndex=function(i){return this.grid.getColumnHeaderByIndex(i)},e.prototype.getMovableColumnsCount=function(){return this.grid.getMovableColumnsCount()},e.prototype.getFrozenLeftColumnsCount=function(){return this.grid.getFrozenLeftColumnsCount()},e.prototype.getFrozenRightColumnsCount=function(){return this.grid.getFrozenRightColumnsCount()},e.prototype.getFrozenLeftColumns=function(){return this.updateColumnModel(this.grid.getFrozenLeftColumns()),this.columnModel},e.prototype.getFrozenRightColumns=function(){return this.updateColumnModel(this.grid.getFrozenRightColumns()),this.columnModel},e.prototype.getVisibleMovableCount=function(){return this.grid.getVisibleMovableCount()},e.prototype.getVisibleFrozenRightCount=function(){return this.grid.getVisibleFrozenRightCount()},e.prototype.getVisibleFrozenLeftCount=function(){return this.grid.getVisibleFrozenLeftCount()},e.prototype.getMovableColumns=function(){return this.updateColumnModel(this.grid.getMovableColumns()),this.columnModel},e.prototype.getFrozenColumns=function(){return this.getFrozenCount(!p(this.columns)&&this.columns,0)+this.frozenColumns},e.prototype.getFrozenCount=function(i,n){for(var s=0,o=i.length;s<o;s++)i[parseInt(s.toString(),10)].columns?n=this.getFrozenCount(i[parseInt(s.toString(),10)].columns,n):i[parseInt(s.toString(),10)].isFrozen&&n++;return n},e.prototype.getSelectedRowIndexes=function(){return this.grid.getSelectedRowIndexes()},e.prototype.getSelectedRowCellIndexes=function(){return this.grid.getSelectedRowCellIndexes()},e.prototype.getSelectedRecords=function(){return this.grid.getSelectedRecords()},e.prototype.getDataModule=function(){return{baseModule:this.grid.getDataModule(),treeModule:this.dataModule}},e.prototype.reorderRows=function(i,n,s){p(this.rowDragAndDropModule)||this.rowDragAndDropModule.reorderRows(i,n,s)},e.prototype.indent=function(i){p(this.rowDragAndDropModule)||(i=i,this.rowDragAndDropModule[this.indentOutdentAction](i,"indent"))},e.prototype.outdent=function(i){p(this.rowDragAndDropModule)||(i=i,this.rowDragAndDropModule[this.indentOutdentAction](i,"outdent"))},e.prototype.getPageSizeByHeight=function(i){if(p(i)){var n=document.getElementById(this.element.id);if(n)i=n.clientHeight;else{var s=this.element;i=s&&(s.offsetHeight||s.clientHeight)||0}}if(this.allowTextWrap&&this.textWrapSettings.wrapMode==="Header"||!this.allowTextWrap){var o=0;typeof i=="string"&&i.indexOf("%")!==-1&&(i=parseInt(i,10)/100*this.element.clientHeight);var a=this.grid.getNoncontentHeight()+this.grid.getRowHeight();if(i>a){var l=0,h=this.grid.getNoncontentHeight(),u=document.getElementsByClassName("e-pagerexternalmsg")[0];u&&(h+=u.clientHeight),l=i-h,o=l/this.grid.getRowHeight()}return this.frozenRows>0&&(o=o+this.frozenRows),o>0?Math.floor(o):0}else return 0};var t;return Se([I(0)],e.prototype,"frozenRows",void 0),Se([I(0)],e.prototype,"frozenColumns",void 0),Se([I("Ellipsis")],e.prototype,"clipMode",void 0),Se([I([])],e.prototype,"columns",void 0),Se([I(null)],e.prototype,"childMapping",void 0),Se([I(null)],e.prototype,"hasChildMapping",void 0),Se([I(0)],e.prototype,"treeColumnIndex",void 0),Se([I(null)],e.prototype,"idMapping",void 0),Se([I(null)],e.prototype,"parentIdMapping",void 0),Se([I(!1)],e.prototype,"enableCollapseAll",void 0),Se([I(null)],e.prototype,"expandStateMapping",void 0),Se([I(!1)],e.prototype,"allowRowDragAndDrop",void 0),Se([I([])],e.prototype,"dataSource",void 0),Se([I()],e.prototype,"query",void 0),Se([I()],e.prototype,"cloneQuery",void 0),Se([I("AllPages")],e.prototype,"printMode",void 0),Se([I(!1)],e.prototype,"allowPaging",void 0),Se([I(!0)],e.prototype,"loadChildOnDemand",void 0),Se([I(!1)],e.prototype,"allowTextWrap",void 0),Se([gt({},xie)],e.prototype,"textWrapSettings",void 0),Se([I(!1)],e.prototype,"allowReordering",void 0),Se([I(!1)],e.prototype,"allowResizing",void 0),Se([I(!1)],e.prototype,"autoCheckHierarchy",void 0),Se([gt({},hne)],e.prototype,"pageSettings",void 0),Se([gt({},aP)],e.prototype,"rowDropSettings",void 0),Se([I("USD")],e.prototype,"currencyCode",void 0),Se([I()],e.prototype,"pagerTemplate",void 0),Se([I(!1)],e.prototype,"showColumnMenu",void 0),Se([I(!1)],e.prototype,"showColumnChooser",void 0),Se([gt({},Sne)],e.prototype,"columnChooserSettings",void 0),Se([I(!1)],e.prototype,"allowSorting",void 0),Se([I(!0)],e.prototype,"allowMultiSorting",void 0),Se([gt({},gne)],e.prototype,"sortSettings",void 0),Se([Li([],cne)],e.prototype,"aggregates",void 0),Se([gt({},pne)],e.prototype,"editSettings",void 0),Se([I(!1)],e.prototype,"allowFiltering",void 0),Se([I()],e.prototype,"detailTemplate",void 0),Se([gt({},Die)],e.prototype,"filterSettings",void 0),Se([gt({},nne)],e.prototype,"searchSettings",void 0),Se([I()],e.prototype,"toolbar",void 0),Se([I()],e.prototype,"toolbarTemplate",void 0),Se([I("Default")],e.prototype,"gridLines",void 0),Se([I()],e.prototype,"contextMenuItems",void 0),Se([I()],e.prototype,"columnMenuItems",void 0),Se([I()],e.prototype,"rowTemplate",void 0),Se([I("Parent")],e.prototype,"copyHierarchyMode",void 0),Se([I(null)],e.prototype,"rowHeight",void 0),Se([I(!0)],e.prototype,"enableAltRow",void 0),Se([I(!0)],e.prototype,"allowKeyboard",void 0),Se([I(!1)],e.prototype,"enableHover",void 0),Se([I(!1)],e.prototype,"enableAutoFill",void 0),Se([I(!1)],e.prototype,"enableAdaptiveUI",void 0),Se([I(!1)],e.prototype,"enableImmutableMode",void 0),Se([I(!1)],e.prototype,"enableStickyHeader",void 0),Se([I()],e.prototype,"emptyRecordTemplate",void 0),Se([I("auto")],e.prototype,"height",void 0),Se([I("auto")],e.prototype,"width",void 0),Se([gt({},bie)],e.prototype,"loadingIndicator",void 0),Se([I(!0)],e.prototype,"enableVirtualMaskRow",void 0),Se([I(!1)],e.prototype,"enableVirtualization",void 0),Se([I(!1)],e.prototype,"enableColumnVirtualization",void 0),Se([I(!1)],e.prototype,"enableHtmlSanitizer",void 0),Se([I(!1)],e.prototype,"enableInfiniteScrolling",void 0),Se([gt({},vne)],e.prototype,"infiniteScrollSettings",void 0),Se([I("All")],e.prototype,"columnQueryMode",void 0),Se([I(!0)],e.prototype,"allowSelection",void 0),Se([I(-1)],e.prototype,"selectedRowIndex",void 0),Se([I(null)],e.prototype,"isRowSelectable",void 0),Se([gt({},sne)],e.prototype,"selectionSettings",void 0),Se([I(!1)],e.prototype,"allowExcelExport",void 0),Se([I(!1)],e.prototype,"allowPdfExport",void 0),Se([I(!1)],e.prototype,"enableColumnSpan",void 0),Se([I(!1)],e.prototype,"enableRowSpan",void 0),Se([Q()],e.prototype,"created",void 0),Se([Q()],e.prototype,"load",void 0),Se([Q()],e.prototype,"expanding",void 0),Se([Q()],e.prototype,"expanded",void 0),Se([Q()],e.prototype,"collapsing",void 0),Se([Q()],e.prototype,"collapsed",void 0),Se([Q()],e.prototype,"cellSave",void 0),Se([Q()],e.prototype,"cellSaved",void 0),Se([Q()],e.prototype,"actionBegin",void 0),Se([Q()],e.prototype,"actionComplete",void 0),Se([Q()],e.prototype,"beginEdit",void 0),Se([Q()],e.prototype,"batchAdd",void 0),Se([Q()],e.prototype,"batchDelete",void 0),Se([Q()],e.prototype,"batchCancel",void 0),Se([Q()],e.prototype,"beforeBatchAdd",void 0),Se([Q()],e.prototype,"beforeBatchDelete",void 0),Se([Q()],e.prototype,"beforeBatchSave",void 0),Se([Q()],e.prototype,"cellEdit",void 0),Se([Q()],e.prototype,"actionFailure",void 0),Se([Q()],e.prototype,"dataBound",void 0),Se([Q()],e.prototype,"dataSourceChanged",void 0),Se([Q()],e.prototype,"dataStateChange",void 0),Se([Q()],e.prototype,"recordDoubleClick",void 0),Se([Q()],e.prototype,"rowDataBound",void 0),Se([Q()],e.prototype,"detailDataBound",void 0),Se([Q()],e.prototype,"queryCellInfo",void 0),Se([Q()],e.prototype,"rowSelecting",void 0),Se([Q()],e.prototype,"rowSelected",void 0),Se([Q()],e.prototype,"rowDeselecting",void 0),Se([Q()],e.prototype,"rowDeselected",void 0),Se([Q()],e.prototype,"headerCellInfo",void 0),Se([Q()],e.prototype,"cellSelecting",void 0),Se([Q()],e.prototype,"columnMenuOpen",void 0),Se([Q()],e.prototype,"columnMenuClick",void 0),Se([Q()],e.prototype,"cellSelected",void 0),Se([Q()],e.prototype,"cellDeselecting",void 0),Se([Q()],e.prototype,"cellDeselected",void 0),Se([Q()],e.prototype,"resizeStart",void 0),Se([Q()],e.prototype,"resizing",void 0),Se([Q()],e.prototype,"resizeStop",void 0),Se([Q()],e.prototype,"columnDragStart",void 0),Se([Q()],e.prototype,"columnDrag",void 0),Se([Q()],e.prototype,"columnDrop",void 0),Se([Q()],e.prototype,"checkboxChange",void 0),Se([Q()],e.prototype,"printComplete",void 0),Se([Q()],e.prototype,"beforePrint",void 0),Se([Q()],e.prototype,"toolbarClick",void 0),Se([Q()],e.prototype,"beforeDataBound",void 0),Se([Q()],e.prototype,"contextMenuOpen",void 0),Se([Q()],e.prototype,"contextMenuClick",void 0),Se([Q()],e.prototype,"beforeCopy",void 0),Se([Q()],e.prototype,"beforePaste",void 0),Se([Q()],e.prototype,"rowDrag",void 0),Se([Q()],e.prototype,"rowDragStart",void 0),Se([Q()],e.prototype,"rowDragStartHelper",void 0),Se([Q()],e.prototype,"rowDrop",void 0),Se([Q()],e.prototype,"pdfQueryCellInfo",void 0),Se([Q()],e.prototype,"pdfHeaderQueryCellInfo",void 0),Se([Q()],e.prototype,"excelQueryCellInfo",void 0),Se([Q()],e.prototype,"pdfAggregateQueryCellInfo",void 0),Se([Q()],e.prototype,"excelAggregateQueryCellInfo",void 0),Se([Q()],e.prototype,"excelHeaderQueryCellInfo",void 0),Se([Q()],e.prototype,"beforeExcelExport",void 0),Se([Q()],e.prototype,"excelExportComplete",void 0),Se([Q()],e.prototype,"beforePdfExport",void 0),Se([Q()],e.prototype,"pdfExportComplete",void 0),e=t=Se([tn],e),e}(rr),bne=function(){function r(e){this.allowEditing=!0,this.allowReordering=!0,this.showColumnMenu=!0,this.allowResizing=!0,this.allowSorting=!0,this.allowFiltering=!0,this.edit={},ai(this,e)}return r}(),Ine=function(){function r(e){var t=this;this.isPersist=!1,this.setCancelArgs=!1,this.isDateColumnCellEdit=!1,this.previousScroll={top:0,left:0},this.queryCellInfo=function(i){t.parent.trigger("queryCellInfo",i)},this.headerCellInfo=function(i){t.parent.trigger("headerCellInfo",i)},this.rowDataBound=function(i){t.parent.trigger("rowDataBound",i)},this.columnMenuOpen=function(i){t.parent.notify("columnMenuOpen",i),t.parent.trigger("columnMenuOpen",i),document.querySelector(".e-colmenu").addEventListener("mousemove",function(){var n=document.querySelector(".e-filter-popup"),s=document.querySelector(".e-filter-item");p(n)||s.classList.contains("e-focused")||ot(t.parent.filterModule.filterMenuElement)})},this.columnMenuClick=function(i){t.parent.trigger("columnMenuClick",i)},this.objectEqualityChecker=function(i,n){if(i){for(var s=Object.keys(i),o=!0,a=["Children","childRecords","taskData","uniqueID","parentItem","parentUniqueID","ganttProperties"],l=0;l<s.length;l++){var h=i[s[parseInt(l.toString(),10)]]instanceof Date?new Date(i[s[parseInt(l.toString(),10)]]).getTime():i[s[parseInt(l.toString(),10)]],u=n[s[parseInt(l.toString(),10)]]instanceof Date?new Date(n[s[parseInt(l.toString(),10)]]).getTime():n[s[parseInt(l.toString(),10)]];if(h!==u&&a.indexOf(s[l])===-1){t.parent.modifiedRecords.push(n),o=!1;break}}return o}else return!1},this.parent=e,this.parent.treeGrid=new EP,this.parent.treeGrid.allowSelection=!1,this.parent.treeGrid.allowKeyboard=this.parent.allowKeyboard,this.parent.treeGrid["${enableHtmlSanitizer}"]=this.parent.enableHtmlSanitizer,this.parent.treeGrid.enableImmutableMode=this.parent.enableImmutableMode,this.parent.treeGrid.enableHover=this.parent.enableHover,this.treeGridColumns=[],!this.parent.isLocaleChanged&&this.parent.isLoad&&(this.parent.previousGanttColumns=ie([],[],this.parent.columns,!0)),this.validateGanttColumns(),this.parent.isLocaleChanged&&(this.parent.isLocaleChanged=!1),this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.on("renderPanels",this.createContainer,this),this.parent.on("chartScroll",this.updateScrollTop,this),this.parent.on("destroy",this.destroy,this),this.parent.treeGrid.on("renderReactTemplate",this.renderReactTemplate,this),this.parent.treeGrid.grid.on("beforeSetPartialRecords",this.setPartialSelectionForGrid,this)},r.prototype.renderReactTemplate=function(e){for(var t="portals",i=0,n=e;i<n.length;i++){var s=n[i];this.parent[t].indexOf(s)===-1&&this.parent[t].push(s)}this.parent.renderTemplates()},r.prototype.createContainer=function(){this.treeGridElement=Be("div",{id:"treeGrid"+this.parent.element.id,className:"e-gantt-tree-grid"});var e=Be("div",{className:"e-gantt-temp-header"});this.parent.treeGridPane.appendChild(this.treeGridElement),this.treeGridElement.appendChild(e),this.parent.treeGridPane.classList.add("e-temp-content")},r.prototype.renderTreeGrid=function(){this.composeProperties(),this.bindEvents();var e="root";this.parent.treeGrid[e]=this.parent[e]?this.parent[e]:this.parent,Ze("registeredTemplate",this.registeredTemplate,this.parent.treeGrid);var t="viewContainerRef";Ze("viewContainerRef",this.parent[""+t],this.parent.treeGrid),this.treeGridElement.contains(this.parent.treeGrid.element)||this.parent.treeGrid.appendTo(this.treeGridElement),this.parent.treeGrid.grid&&this.parent.toolbarModule&&this.parent.isReact&&(this.parent.treeGrid.grid.portals=this.parent.portals),this.wireEvents()},r.prototype.composeProperties=function(){if(this.parent.treeGrid.enableAdaptiveUI=this.parent.enableAdaptiveUI,this.parent.treeGrid.hasChildMapping=this.parent.taskFields.hasChildMapping,this.parent.treeGrid.query=this.parent.query,this.parent.treeGrid.locale=this.parent.locale,this.parent.treeGrid.loadChildOnDemand=this.parent.loadChildOnDemand,this.parent.treeGrid.isFromGantt=!0,this.parent.treeGrid.parentIdMapping=this.parent.taskFields.parentID,this.parent.taskFields.parentID&&(this.parent.treeGrid.idMapping=this.parent.taskFields.id),this.parent.treeGrid.showColumnMenu=this.parent.showColumnMenu,this.parent.treeGrid.enableCollapseAll=this.parent.collapseAllParentTasks,this.parent.treeGrid.columnMenuItems=this.parent.columnMenuItems,this.parent.treeGrid.enableRtl=this.parent.enableRtl,this.parent.treeGrid.childMapping=p(this.parent.taskFields.child)?"":this.parent.taskFields.child,this.parent.treeGrid.treeColumnIndex=this.parent.treeColumnIndex,this.parent.treeGrid.columns=this.treeGridColumns,this.parent.treeGrid.loadingIndicator=this.parent.loadingIndicator,this.parent.treeGrid.enableVirtualMaskRow=this.parent.enableVirtualMaskRow,this.parent.dataSource instanceof Object&&Dp(this.parent)){this.parent.treeGrid.hasChildMapping="isParent";var e=H("count",this.parent.dataSource);this.parent.treeGrid.dataSource={result:this.parent.flatData,count:e}}else this.parent.treeGrid.loadChildOnDemand&&this.parent.taskFields.hasChildMapping?this.parent.treeGrid.dataSource=this.parent.dataSource:(this.parent.treeGrid.hasChildMapping=null,this.parent.treeGrid.dataSource=this.parent.flatData);this.parent.treeGrid.expandStateMapping=this.parent.taskFields.expandState;var t="isGantt";this.parent.treeGrid[t]=!0,this.parent.treeGrid.rowHeight=this.parent.rowHeight,this.parent.treeGrid.gridLines=this.parent.gridLines,(this.parent.searchSettings.fields.length!==0||this.parent.searchSettings.key!=="")&&(this.parent.treeGrid.searchSettings=this.parent.searchSettings);var i="isJsComponent";this.parent.treeGrid[i]=!0,this.parent.treeGrid.height=this.parent.element.getElementsByClassName("e-chart-scroll-container e-content")[0].offsetHeight-(this.parent.flatData.length===0?0:19),this.parent.treeGrid.emptyRecordTemplate=this.parent.emptyRecordTemplate},r.prototype.getContentDiv=function(){return this.treeGridElement.querySelector(".e-content")},r.prototype.getHeaderDiv=function(){return this.treeGridElement.querySelector(".e-headercontent")},r.prototype.getScrollbarWidth=function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar";var t=document.createElement("div");e.appendChild(t),this.parent.element.appendChild(e);var i=e.offsetWidth-t.offsetWidth;return e.parentNode.removeChild(e),i},r.prototype.ensureScrollBar=function(){var e=this.getContentDiv(),t=this.getHeaderDiv(),i=this.getScrollbarWidth(),n=/Android|Mac|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);i===0&&navigator.userAgent.includes("Firefox")?(t.style.cssText+="width: calc(100% + 6px);",e.style.cssText+="width: calc(100% + 6px);"):i!==0?e.style.cssText+="width: calc(100% + "+i+"px);":e.classList.add("e-gantt-scroll-padding"),i===0&&n&&(t.style.cssText+="width: calc(100% + 17px);")},r.prototype.bindEvents=function(){this.parent.treeGrid.dataBound=this.dataBound.bind(this),this.parent.treeGrid.collapsing=this.collapsing.bind(this),this.parent.treeGrid.collapsed=this.collapsed.bind(this),this.parent.treeGrid.expanding=this.expanding.bind(this),this.parent.treeGrid.expanded=this.expanded.bind(this),this.parent.treeGrid.actionBegin=this.actionBegin.bind(this),this.parent.treeGrid.actionComplete=this.treeActionComplete.bind(this),this.parent.treeGrid.created=this.created.bind(this),this.parent.treeGrid.actionFailure=this.actionFailure.bind(this),this.parent.treeGrid.headerCellInfo=this.headerCellInfo.bind(this),this.parent.treeGrid.rowDataBound=this.rowDataBound.bind(this),this.parent.treeGrid.columnMenuOpen=this.columnMenuOpen.bind(this),this.parent.treeGrid.columnMenuClick=this.columnMenuClick.bind(this),this.parent.treeGrid.beforeDataBound=this.beforeDataBound.bind(this),this.parent.treeGrid.dataStateChange=this.dataStateChange.bind(this),this.parent.queryCellInfo!=null&&(this.parent.treeGrid.queryCellInfo=this.queryCellInfo.bind(this))},r.prototype.beforeDataBound=function(e){if(this.parent.enableHover){var t=this.treeGridElement.querySelector(".e-columnheader");t.classList.add("e-headercell-hover")}this.parent.filterModule&&this.parent.treeGrid.filterModule&&(this.parent.filterModule.filteredResult=this.parent.treeGrid.filterModule.filteredResult);var i={result:e.result};this.parent.trigger("beforeDataBound",i),!p(this.parent.selectionModule)&&this.parent.selectionSettings&&this.parent.selectionSettings.persistSelection&&this.parent.selectionModule.getSelectedRowIndexes().length>0&&e.actionArgs.requestType==="sorting"&&(this.isPersist=!0),this.parent.updatedRecords=this.parent.virtualScrollModule&&this.parent.enableVirtualization?H("virtualScrollModule.visualData",this.parent.treeGrid):H("result",e);var n=e.actionArgs||null,s=!n||n.requestType!=="sorting"||n.columnName!=="WBSCode",o=!n||n.requestType!=="filtering";this.parent.enableWBS&&!this.parent.isVirtualScroll&&s&&o&&this.parent.generateWBSCodes(this.parent.updatedRecords),this.parent.virtualScrollModule&&this.parent.enableVirtualization&&this.parent.updateContentHeight(e),Ze("contentModule.objectEqualityChecker",this.objectEqualityChecker,this.parent.treeGrid.grid),this.parent.isExpandPerformed=!1},r.prototype.dataBound=function(e){if(this.parent.isReact&&this.parent.clearTemplate(["TaskbarTemplate","ParentTaskbarTemplate","MilestoneTemplate","TaskLabelTemplate","RightLabelTemplate","LeftLabelTemplate"]),this.ensureScrollBar(),this.parent.treeDataBound(e),this.parent.dataOperation.validatedGanttData&&this.parent.dataOperation.validatedGanttData.size>0&&this.parent.isLoad){var t={type:"refresh",modifiedTasks:this.parent.dataOperation.getValidatedTaskData()};this.parent.trigger("actionComplete",t),this.parent.dataOperation.validatedGanttData.clear()}this.parent.isLoad=!1,this.parent.isVirtualScroll&&((this.parent.enableVirtualMaskRow&&this.parent.enableVirtualization||this.parent.enableVirtualization&&!this.parent.enableVirtualMaskRow&&this.parent.loadingIndicator.indicatorType==="Shimmer"||this.parent.loadingIndicator.indicatorType==="Shimmer")&&this.parent.hideMaskRow(),this.parent.editModule&&this.parent.editModule.cellEditModule&&(this.parent.editModule.cellEditModule.isCellEdit=!1),this.parent.isVirtualScroll=!1,!p(this.parent.selectionModule)&&!p(this.parent.toolbarModule)&&this.parent.toolbarModule.refreshToolbarItems()),this.prevCurrentView=ie([],[],this.parent.currentViewData,!0)},r.prototype.dataStateChange=function(e){e.action&&e.action.requestType==="refresh"&&(this.parent.treeGrid.dataSource={result:H("result",this.parent.treeGrid.dataSource),count:H("count",this.parent.treeGrid.dataSource)}),this.parent.trigger("dataStateChange",e)},r.prototype.collapsing=function(e){var t,i=H("data",e),n=i.length;if(!this.parent.ganttChartModule.isExpandCollapseFromChart)if(p(n))t=this.createExpandCollapseArgs(e,null),this.parent.ganttChartModule.collapseGanttRow(t),Ze("cancel",H("cancel",t),e);else{for(var s=0;s<n;s++)t=this.createExpandCollapseArgs(e,i[s]),this.parent.ganttChartModule.collapseGanttRow(t);Ze("cancel",H("cancel",t),e)}},r.prototype.expanding=function(e){var t,i=H("data",e),n=i.length;if(!this.parent.ganttChartModule.isExpandCollapseFromChart)if(p(n))t=this.createExpandCollapseArgs(e,null),this.parent.ganttChartModule.expandGanttRow(t),Ze("cancel",H("cancel",t),e);else{for(var s=0;s<n;s++)t=this.createExpandCollapseArgs(e,i[s]),this.parent.ganttChartModule.expandGanttRow(t);Ze("cancel",H("cancel",t),e)}},r.prototype.collapsed=function(e){var t=e.data,i=t&&t.expanded;if(!this.parent.enableVirtualization&&this.parent.loadChildOnDemand&&this.parent.taskFields.hasChildMapping&&!i&&(e.data[this.parent.taskFields.expandState]=!1),!this.parent.ganttChartModule.isExpandCollapseFromChart&&!this.parent.isExpandCollapseLevelMethod){var n=void 0,s=H("data",e),o=s.length;if(p(o))n=this.createExpandCollapseArgs(e,null),this.parent.ganttChartModule.collapsedGanttRow(n);else for(var a=0;a<o;a++)n=this.createExpandCollapseArgs(e,s[a]),this.parent.ganttChartModule.collapsedGanttRow(n);!this.parent.ganttChartModule.isCollapseAll&&n.gridRow&&!this.parent.allowTaskbarOverlap&&(n.gridRow.style.height=n.chartRow.style.height,this.parent.contentHeight=this.parent.enableRtl?this.parent.element.getElementsByClassName("e-content")[2].children[0].offsetHeight:this.parent.element.getElementsByClassName("e-content")[0].children[0].offsetHeight,document.getElementsByClassName("e-chart-rows-container")[0].style.height=this.parent.contentHeight+"px")}this.parent.expandedRecords=this.parent.getExpandedRecords(this.parent.currentViewData),this.parent.showOverAllocation&&this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData),this.parent.enableVirtualization||this.parent.updateContentHeight(),this.parent.ganttChartModule.updateWidthAndHeight(),this.parent.ganttChartModule.reRenderConnectorLines(),this.parent.hideLoadingIndicator(),this.parent.trigger("collapsed",e)},r.prototype.expanded=function(e){if(!this.parent.ganttChartModule.isExpandCollapseFromChart&&!this.parent.isExpandCollapseLevelMethod){var t=void 0,i=H("data",e),n=i.length;if(p(n))t=this.createExpandCollapseArgs(e,null),this.parent.ganttChartModule.expandedGanttRow(t);else for(var s=0;s<n;s++)t=this.createExpandCollapseArgs(e,i[s]),this.parent.ganttChartModule.expandedGanttRow(t);!this.parent.ganttChartModule.isExpandAll&&e.row&&!this.parent.allowTaskbarOverlap&&(e.row.style.height=this.parent.rowHeight+"px",this.parent.contentHeight=this.parent.enableRtl?this.parent.element.getElementsByClassName("e-content")[2].children[0].offsetHeight:this.parent.element.getElementsByClassName("e-content")[0].children[0].offsetHeight,document.getElementsByClassName("e-chart-rows-container")[0].style.height=this.parent.contentHeight+"px")}this.parent.expandedRecords=this.parent.getExpandedRecords(this.parent.currentViewData),this.parent.showOverAllocation&&this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData),this.parent.enableVirtualization||this.parent.updateContentHeight(),this.parent.ganttChartModule.updateWidthAndHeight(),this.parent.ganttChartModule.reRenderConnectorLines(),this.parent.hideLoadingIndicator(),this.parent.isCollapseAll=!1,this.parent.trigger("expanded",e),this.parent.isExpandPerformed=!0},r.prototype.actionBegin=function(e){if(e.type==="save"&&e.column&&e.columnName===this.parent.taskFields.dependency&&e.value&&this.parent.viewType==="ProjectView"){var t=e.value,i=t.split(",").map(function(N){return N.trim()}).filter(Boolean);if(i.length===0)return;for(var n=this.parent.ids,s=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/,o=/[A-Za-z]/,a=new Set(["FS","FF","SF","SS"]),l=e.rowData.ganttProperties.taskId.toString(),h=[],u=0,c=i;u<c.length;u++){var d=c[u],f=this.parent.predecessorModule.processPredecessorElement(d,n,!1,s,o,a);if(p(f))break;var g=this.parent.connectorLineEditModule.idFromPredecessor(d);if(!(!g||g.length===0)){var m={from:g[0],to:l,type:f.predecessorText};if(this.parent.allowParentDependency){this.parent.cyclicValidator.resolve();var y=this.parent.cyclicValidator.wouldCreateCycleWhenAdding(m).wouldCreate;y&&h.push({from:m.from,to:m.to,type:m.type,text:d})}}}if(h.length>0){var v=h.map(function(N){return"Task ID "+N.from+" to Task ID "+N.to+" ("+N.type+")"}),M="Cyclic dependency detected for: "+v.join(", ")+". Please provide valid dependency.",S=new Set(h.map(function(N){return N.text})),b=i.filter(function(N){return!S.has(N)}),C=b.join(",");e.rowData[this.parent.taskFields.dependency]=e.rowData.ganttProperties.predecessorsName=C===""?null:C,this.parent.trigger("actionFailure",{error:M})}}if(this.parent.undoRedoModule&&(e.requestType==="filtering"||e.requestType==="searching"||e.requestType==="sorting"||e.requestType==="filterAfterOpen")&&(this.parent.undoRedoModule.canUpdateIndex=!1),e.requestType==="filterchoicerequest"){var T=H("filterModel.dlg",e);T&&(T.classList.add("e-grid-popup"),T.style.display="none")}e&&e.type==="save"&&e.rowData&&e.rowData.ganttProperties&&(this.perviousStartDate=e.rowData.ganttProperties.startDate,this.perviousEndDate=e.rowData.ganttProperties.endDate),this.parent.notify("actionBegin",e);var k=H("doubleClickTarget",this.parent.treeGrid.editModule);k!==null&&Ze("doubleClickTarget",null,this.parent.treeGrid.editModule),this.parent.trigger("actionBegin",e),this.parent.trigger("cellSave",e),e.requestType!=="virtualscroll"&&e.type!=="edit"&&e.requestType!=="beginEdit"&&!e.cancel&&this.parent.showLoadingIndicator()},r.prototype.created=function(e){this.updateKeyConfigSettings()},r.prototype.actionFailure=function(e){this.parent.trigger("actionFailure",e)},r.prototype.createExpandCollapseArgs=function(e,t){var i,n=H("data",e),s=n.length;if(p(s)){var l=H("data",e),o=H("row",e);i=this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(l)];var a={data:l,gridRow:o,chartRow:i,cancel:!1};return a}else{var o=H("row",e);i=this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(t)];var a={data:t,gridRow:o,chartRow:i,cancel:!1};return a}},r.prototype.maxLimits=function(e){switch(e){case"day":return 1e3;case"minute":return 24e3;case"hour":return 144e4;default:return 1e3}},r.prototype.isGuID=function(e){var t=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return t.test(e)},r.prototype.splitByLastOffset=function(e){var t=e.lastIndexOf("+"),i=e.lastIndexOf("-"),n=Math.max(t,i),s="";if(n===-1)return s=null;s=e.substring(n);var o=Number(s.match(/\d+/));return o=this.isGuID(e)?0:o,o},r.prototype.updatePredecessorLimits=function(e,t,i){var n=this,s=e.map(function(o){var a="",l=n.splitByLastOffset(o);if(!isNaN(l)&&l>=i){var h=o.split(/[\+\-]/),u=t.split(","),c=u.findIndex(function(d){return d.trim().toLowerCase()===h[0].trim().toLowerCase()});c!==-1&&(a=u[c],h.pop())}else a=o;return a});return s.join(",")},r.prototype.treeActionComplete=function(e){var t=this,i,n=null,s=!1,o=ie({},e);if(H("requestType",e)==="reorder"&&this.parent.undoRedoModule&&!this.parent.undoRedoModule.isFromUndoRedo&&this.parent.isUndoRedoItemPresent("ColumnReorder")){this.parent.undoRedoModule.redoEnabled&&this.parent.undoRedoModule.disableRedo(),this.parent.undoRedoModule.createUndoCollection();var a={};a.action="ColumnReorder",a.fromIndex=ie([],[],[e.fromIndex],!0)[0],a.toIndex=ie([],[],[e.toIndex],!0)[0],a.toColumn=ie([],[],[this.parent.treeGrid.columns[e.toIndex].field],!0)[0],a.fromColumn=ie([],[],[this.parent.treeGrid.columns[e.fromIndex].field],!0)[0],this.parent.undoRedoModule.getUndoCollection[this.parent.undoRedoModule.getUndoCollection.length-1]=a}if(H("requestType",e)==="columnstate"&&this.parent.undoRedoModule&&!this.parent.undoRedoModule.isFromUndoRedo&&this.parent.isUndoRedoItemPresent("ColumnState")){this.parent.undoRedoModule.redoEnabled&&this.parent.undoRedoModule.disableRedo(),this.parent.undoRedoModule.createUndoCollection();var a={action:"ColumnState"};a.showhideColumns=ie([],[],e.columns,!0),this.parent.undoRedoModule.getUndoCollection[this.parent.undoRedoModule.getUndoCollection.length-1]=a}if(H("requestType",e)==="sorting"){if(this.parent.undoRedoModule&&this.parent.isUndoRedoItemPresent("Sorting")){if(this.parent.undoRedoModule.currentAction&&this.parent.undoRedoModule.currentAction.sortColumns&&this.parent.undoRedoModule.currentAction.sortColumns.length>1&&this.parent.undoRedoModule.sortedColumnsLength++,(!this.parent.undoRedoModule.currentAction||this.parent.undoRedoModule.currentAction.sortColumns&&this.parent.undoRedoModule.sortedColumnsLength!==this.parent.undoRedoModule.currentAction.sortColumns.length)&&!this.parent.undoRedoModule.isFromUndoRedo){this.parent.undoRedoModule.redoEnabled&&this.parent.undoRedoModule.disableRedo(),this.parent.undoRedoModule.createUndoCollection();var a={action:"Sorting"};a.sortColumns=[],a.sortColumns=this.parent.undoRedoModule.previousSortedColumns,this.parent.undoRedoModule.getUndoCollection[this.parent.undoRedoModule.getUndoCollection.length-1]=a}this.parent.undoRedoModule.previousSortedColumns=this.parent.treeGrid.sortSettings.columns}this.parent.notify("updateModel",{}),LI(o,"isFrozen")}else if(H("requestType",e)==="filtering"){if(this.parent.undoRedoModule&&!this.parent.undoRedoModule.isFromUndoRedo&&this.parent.isUndoRedoItemPresent("Filtering")){this.parent.undoRedoModule.redoEnabled&&this.parent.undoRedoModule.disableRedo(),this.parent.undoRedoModule.createUndoCollection();var a={action:"Filtering"};a.filteredColumns=ie([],[],e.columns,!0),this.parent.undoRedoModule.getUndoCollection[this.parent.undoRedoModule.getUndoCollection.length-1]=a}this.parent.notify("updateModel",{})}else if(H("type",e)==="save"&&(n=p(e.column)?null:e.column.field,n&&e.previousData===e.data[n]&&(s=!0),this.parent.editModule&&this.parent.editModule.cellEditModule)){var l=H("data",e);if(!p(n)&&(n===this.parent.taskFields.startDate||n===this.parent.taskFields.endDate)&&e.previousData instanceof Date&&p(e.data[n])&&(this.isDateColumnCellEdit=!0),!p(l)&&!p(this.parent.getTaskByUniqueID(l.uniqueID))&&(this.parent.getTaskByUniqueID(l.uniqueID).taskData[this.parent.taskFields.duration]=l.taskData[this.parent.taskFields.duration],p(l.taskData[this.parent.taskFields.resourceInfo])||(this.parent.getTaskByUniqueID(l.uniqueID).taskData[this.parent.taskFields.resourceInfo]=l.taskData[this.parent.taskFields.resourceInfo])),BJ(this.currentEditRow)&&e.column&&e.column.edit&&e.column.field===this.parent.taskFields.resourceInfo){var h=this.parent.taskFields.resourceInfo;this.currentEditRow=(i={},i[h]=l.resources,i)}if(e.data[this.parent.taskFields.dependency]&&e.column.field===this.parent.taskFields.dependency){var u=e.data[this.parent.taskFields.dependency].split(","),c=this.maxLimits(this.parent.durationUnit);e.data[this.parent.taskFields.dependency]=this.updatePredecessorLimits(u,e.previousData,c)}this.parent.editModule.cellEditModule.initiateCellEdit(e,this.currentEditRow),this.parent.editModule.cellEditModule.isCellEdit=!1,this.currentEditRow={}}if(H("requestType",e)==="filterAfterOpen"&&this.parent.notify("actionComplete",e),H("requestType",e)==="searching"){if(this.parent.undoRedoModule&&this.parent.isUndoRedoItemPresent("Search")){if(!this.parent.undoRedoModule.isFromUndoRedo){this.parent.undoRedoModule.redoEnabled&&this.parent.undoRedoModule.disableRedo(),this.parent.undoRedoModule.createUndoCollection();var a={action:"Search"};a.searchString=this.parent.undoRedoModule.searchString,this.parent.undoRedoModule.getUndoCollection[this.parent.undoRedoModule.getUndoCollection.length-1]=a}this.parent.undoRedoModule.searchString=this.parent.treeGrid.searchSettings.key}this.parent.notify("actionComplete",e)}if(!p(this.parent.toolbarModule)&&!p(H("batchChanges",e))&&this.parent.toolbarModule.refreshToolbarItems(),this.parent.isCancelled&&(Ze("requestType","cancel",o),Ze("action","CellEditing",o),this.parent.isCancelled=!1),H("requestType",e)==="refresh"&&p(H("type",e))&&this.parent.addDeleteRecord){if(this.parent.selectedRowIndex!==-1)if(this.parent.editModule.isAdded&&!p(this.parent.selectionModule)&&this.parent.selectionSettings&&this.parent.selectionSettings.persistSelection){var d=this.parent.selectionModule.selectedRowIndexes;if(d.length>1&&this.parent.selectionSettings.persistSelection)for(var f=0;f<d.length;f++){var g=this.parent.flatData[d[f].toString()];this.parent.selectRows(g)}}else this.parent.selectRow(this.parent.selectedRowIndex),this.parent.selectedRowIndex>this.parent.currentViewData.length-1&&(this.parent.selectedRowIndex=-1);else{if(!p(this.parent.selectionModule)&&this.parent.selectionSettings&&this.parent.selectionSettings.persistSelection&&this.parent.editModule&&!this.parent.editModule.isAdded)for(var m=this.parent.selectionModule.getSelectedRecords(),y=function(b){var C=m[b][v.parent.taskFields.id],T=v.parent.editModule.deletedRecord.some(function(k){return k.ganttProperties.taskId===C});T&&m.splice(b,1)},v=this,f=m.length-1;f>=0;f--)y(f);var M=0,S=this.parent.enableVirtualization?this.parent.flatData:this.parent.currentViewData;S.map(function(b,C){!p(t.parent.currentSelection)&&b.ganttProperties.taskId===t.parent.currentSelection[t.parent.taskFields.id]&&(t.parent.viewType==="ResourceView"&&b.ganttProperties.rowUniqueID===t.parent.currentSelection.rowUniqueID||t.parent.viewType!=="ResourceView")&&(M=C)}),this.addedRecord=!0,this.parent.selectRow(p(M)?0:M)}this.parent.isExpandPerformed||(this.parent.addDeleteRecord=!1),this.parent.isExpandPerformed=!1}if(this.parent.undoRedoModule&&(this.parent.undoRedoModule.isFromUndoRedo=!1),H("requestType",e)==="refresh"&&this.parent.initiateEditAction(!1),!s&&!this.setCancelArgs&&!this.parent.isDynamicDataUpdate&&this.parent.trigger("actionComplete",o),this.parent.isDynamicDataUpdate&&(this.parent.isDynamicDataUpdate=!1),this.parent.showOverAllocation&&!this.parent.allowTaskbarOverlap){for(var f=0;f<this.parent.currentViewData.length;f++)this.parent.currentViewData[f].hasChildRecords&&!this.parent.currentViewData[f].expanded&&this.parent.chartRowsModule.updateDragDropRecords(this.parent.currentViewData[f]);this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData)}e.type!=="save"&&this.parent.hideLoadingIndicator()},r.prototype.updateKeyConfigSettings=function(){delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.delete,delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.insert,delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.upArrow,delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.downArrow,delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.ctrlHome,delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.ctrlEnd,delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.enter,delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.tab,delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.shiftTab,delete this.parent.treeGrid.keyboardModule.keyConfigs.enter,delete this.parent.treeGrid.keyboardModule.keyConfigs.upArrow,delete this.parent.treeGrid.keyboardModule.keyConfigs.downArrow,delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlShiftUpArrow,delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlShiftDownArrow,delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlUpArrow,delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlDownArrow,delete this.parent.treeGrid.keyboardModule.keyConfigs.tab,delete this.parent.treeGrid.keyboardModule.keyConfigs.shiftTab},r.prototype.wireEvents=function(){var e=this.parent.treeGrid.element.querySelector(".e-content");e&&F.add(e,"scroll",this.scrollHandler,this),this.parent.isAdaptive&&F.add(this.parent.treeGridPane,"click",this.treeGridClickHandler,this)},r.prototype.unWireEvents=function(){var e=this.parent.treeGrid.element&&this.parent.treeGrid.element.querySelector(".e-content");e&&F.remove(e,"scroll",this.scrollHandler),this.parent.isAdaptive&&F.remove(this.parent.treeGridPane,"click",this.treeGridClickHandler)},r.prototype.scrollHandler=function(e){var t=this.parent.treeGrid.element.querySelector(".e-content");t.scrollTop!==this.previousScroll.top&&this.parent.notify("grid-scroll",{top:t.scrollTop}),this.previousScroll.top=t.scrollTop,this.parent.contextMenuModule&&this.parent.contextMenuModule.isOpen&&this.parent.contextMenuModule.contextMenu.close()},r.prototype.validateGanttColumns=function(){var e=this.parent,t=e.columns.length,i=this.parent.taskFields;this.parent.columnMapping={},this.parent.columnByField={},this.parent.customColumns=[],this.parent.ganttColumns=[];for(var n=["id","name","startDate","endDate","duration","dependency","progress","baselineStartDate","baselineEndDate","baselineDuration","resourceInfo","notes","work","manual","type","milestone","segments","constraintType","constraintDate"],s=function(u){var c={};typeof e.columns[u]=="string"?c.field=e.columns[u]:c=e.columns[u],c.isFrozen=c.isFrozen?c.isFrozen:void 0,c.freeze=c.freeze?c.freeze:void 0;var d=[];if(n.length>0&&(d=n.filter(function(g){return c.field===i[g]})),d.length===0)return c.field===o.parent.resourceFields.group||(c.field!=="WBSCode"&&c.field!=="WBSPredecessor"&&o.parent.customColumns.push(c.field),c.headerText=p(c.headerText)?c.field:c.headerText,c.width=c.width?c.width:150,c.field==="WBSCode"?c.allowEditing=!1:c.allowEditing=p(c.allowEditing)?!0:c.allowEditing,(c.field==="WBSCode"||c.field==="WBSPredecessor")&&(c.clipMode="EllipsisWithTooltip"),c.editType===void 0&&(c.type==="date"?c.editType="datepickeredit":c.type==="datetime"?c.editType="datetimepickeredit":c.editType="stringedit"),c.type=c.type?c.type:"string",c.type==="checkbox"&&(o.parent.selectionSettings.type="Multiple"),o.bindTreeGridColumnProperties(c,!0)),"continue";var f=n.indexOf(d[0]);n.splice(f,1),o.createTreeGridColumn(c,!0),o.parent.columnMapping[d[0]]=c.field},o=this,a=0;a<t;a++)s(a);for(var l=0;l<n.length;l++){var h={};p(i[n[l]])||(h.field=i[n[l]],this.createTreeGridColumn(h,t===0),this.parent.columnMapping[n[l]]=h.field)}if(this.parent.viewType!=="ProjectView"){var h={};this.composeUniqueIDColumn(h),this.createTreeGridColumn(h,!0)}},r.prototype.getLocalizedConstraintTypeText=function(e){return this.parent.localeObj.getConstant("constraintType"+e)},r.prototype.createTreeGridColumn=function(e,t){var i=this,n=this.parent.taskFields,s=this.parent.previousGanttColumns.filter(function(h){return e.field===h.field})[0];if(e.disableHtmlEncode=p(e.disableHtmlEncode)?this.parent.disableHtmlEncode:e.disableHtmlEncode,n.id!==e.field&&(e.clipMode=e.clipMode?e.clipMode:"EllipsisWithTooltip"),n.id===e.field)this.composeIDColumn(e);else if(n.name===e.field)this.parent.isLocaleChanged&&s?e.headerText=p(s.headerText)?this.parent.localeObj.getConstant("name"):s.headerText:e.headerText=p(e.headerText)?this.parent.localeObj.getConstant("name"):e.headerText,e.width=e.width?e.width:150,e.editType=e.editType?e.editType:"stringedit",e.type=e.type?e.type:"string";else if(n.startDate===e.field)this.parent.isLocaleChanged&&s?e.headerText=p(s.headerText)?this.parent.localeObj.getConstant("startDate"):s.headerText:e.headerText=p(e.headerText)?this.parent.localeObj.getConstant("startDate"):e.headerText,e.editType=e.editType?e.editType:this.parent.getDateFormat().toLowerCase().indexOf("hh")!==-1?"datetimepickeredit":"datepickeredit",e.format=e.format?e.format:{type:"date",format:this.parent.getDateFormat()},e.width=e.width?e.width:150,e.edit&&e.edit.params?e.edit.params.renderDayCell=this.parent.renderWorkingDayCell.bind(this.parent):e.edit?e.edit.params={renderDayCell:this.parent.renderWorkingDayCell.bind(this.parent)}:e.edit={params:{renderDayCell:this.parent.renderWorkingDayCell.bind(this.parent)}};else if(n.baselineStartDate===e.field||n.baselineEndDate===e.field){var o=n.baselineEndDate===e.field?"baselineEndDate":"baselineStartDate";e.width=e.width?e.width:150,this.parent.isLocaleChanged&&s?e.headerText=p(s.headerText)?this.parent.localeObj.getConstant(o):s.headerText:e.headerText=p(e.headerText)?this.parent.localeObj.getConstant(o):e.headerText,e.format=e.format?e.format:{type:"date",format:this.parent.getDateFormat()},e.editType=e.editType?e.editType:this.parent.getDateFormat().toLowerCase().indexOf("hh")!==-1?"datetimepickeredit":"datepickeredit"}else if(n.endDate===e.field)this.parent.isLocaleChanged&&s?e.headerText=p(s.headerText)?this.parent.localeObj.getConstant("endDate"):s.headerText:e.headerText=p(e.headerText)?this.parent.localeObj.getConstant("endDate"):e.headerText,e.format=e.format?e.format:{type:"date",format:this.parent.getDateFormat()},e.editType=e.editType?e.editType:this.parent.getDateFormat().toLowerCase().indexOf("hh")!==-1?"datetimepickeredit":"datepickeredit",e.width=e.width?e.width:150,e.edit&&e.edit.params?e.edit.params.renderDayCell=this.parent.renderWorkingDayCell.bind(this.parent):e.edit?e.edit.params={renderDayCell:this.parent.renderWorkingDayCell.bind(this.parent)}:e.edit={params:{renderDayCell:this.parent.renderWorkingDayCell.bind(this.parent)}};else if(n.constraintDate===e.field)this.parent.isLocaleChanged&&s?e.headerText=p(s.headerText)?this.parent.localeObj.getConstant("constraintDate"):s.headerText:e.headerText=p(e.headerText)?this.parent.localeObj.getConstant("constraintDate"):e.headerText,e.format=e.format?e.format:{type:"date",format:this.parent.getDateFormat()},e.editType=e.editType?e.editType:this.parent.getDateFormat().toLowerCase().indexOf("hh")!==-1?"datetimepickeredit":"datepickeredit",e.width=e.width?e.width:150,e.edit&&e.edit.params?e.edit.params.renderDayCell=this.parent.renderWorkingDayCell.bind(this.parent):e.edit?e.edit.params={renderDayCell:this.parent.renderWorkingDayCell.bind(this.parent)}:e.edit={params:{renderDayCell:this.parent.renderWorkingDayCell.bind(this.parent)}};else if(n.duration===e.field)e.width=e.width?e.width:150,this.parent.isLocaleChanged&&s?e.headerText=p(s.headerText)?this.parent.localeObj.getConstant("duration"):s.headerText:e.headerText=p(e.headerText)?this.parent.localeObj.getConstant("duration"):e.headerText,e.valueAccessor=e.valueAccessor?e.valueAccessor:!p(e.edit)&&!p(e.edit.read)?null:this.durationValueAccessor.bind(this),e.editType=e.editType?e.editType:"stringedit",e.type=e.type?e.type:"string";else if(n.progress===e.field)this.composeProgressColumn(e);else if(n.dependency===e.field)this.parent.isLocaleChanged&&s?e.headerText=p(s.headerText)?this.parent.localeObj.getConstant("dependency"):s.headerText:e.headerText=p(e.headerText)?this.parent.localeObj.getConstant("dependency"):e.headerText,e.width=e.width?e.width:150,e.editType=e.editType?e.editType:"stringedit",e.type="string",e.allowFiltering=e.allowFiltering!==!1,e.valueAccessor=e.valueAccessor?e.valueAccessor:this.dependencyValueAccessor.bind(this),p(e.filter)&&this.parent.locale!=="en-US"&&(e.filter={ui:{create:function(h){var u=Be("input",{className:"flm-input"});h.target.appendChild(u),i.dropInstance=new pie({dataSource:i.changeLocale(i.parent.treeGrid.grid.dataSource),fields:{text:i.parent.taskFields.dependency,value:i.parent.taskFields.dependency},placeholder:i.parent.localeObj.getConstant("enterValue"),popupHeight:"200px"}),i.dropInstance.appendTo(u)},write:function(h){i.dropInstance.value=h.filteredValue},read:function(h){h.fltrObj.filterByColumn(h.column.field,h.operator,i.changeDelocale(i.dropInstance.value))}}});else if(n.resourceInfo===e.field)this.composeResourceColumn(e);else if(n.notes===e.field){if(s&&this.parent.isLocaleChanged?e.headerText=p(s.headerText)?this.parent.localeObj.getConstant("notes"):s.headerText:e.headerText=p(e.headerText)?this.parent.localeObj.getConstant("notes"):e.headerText,e.width=e.width?e.width:150,e.editType=e.editType?e.editType:"stringedit",!this.parent.showInlineNotes&&!e.template){var a=function(){return`<div class="e-ganttnotes-info">
                            <span class="e-icons e-notes-info"></span>
                        </div>`};e.template=_s(a)}}else if(n.baselineDuration===e.field)e.width=e.width?e.width:150,this.parent.isLocaleChanged&&s?e.headerText=p(s.headerText)?this.parent.localeObj.getConstant("baselineDuration"):s.headerText:e.headerText=p(e.headerText)?this.parent.localeObj.getConstant("baselineDuration"):e.headerText,e.valueAccessor=e.valueAccessor?e.valueAccessor:!p(e.edit)&&!p(e.edit.read)?null:this.baselineDurationValueAccessor.bind(this),e.editType=e.editType?e.editType:"stringedit",e.type=e.type?e.type:"string";else if(n.work===e.field)s&&this.parent.isLocaleChanged?e.headerText=p(s.headerText)?this.parent.localeObj.getConstant("work"):s.headerText:e.headerText=p(e.headerText)?this.parent.localeObj.getConstant("work"):e.headerText,e.width=e.width?e.width:150,e.valueAccessor=e.valueAccessor?e.valueAccessor:this.workValueAccessor.bind(this),e.editType=e.editType?e.editType:"numericedit";else if(n.type===e.field)s&&this.parent.isLocaleChanged?e.headerText=p(s.headerText)?this.parent.localeObj.getConstant("taskType"):s.headerText:e.headerText=p(e.headerText)?this.parent.localeObj.getConstant("taskType"):e.headerText,e.width=e.width?e.width:150,e.editType="dropdownedit",e.valueAccessor=e.valueAccessor?e.valueAccessor:this.taskTypeValueAccessor.bind(this);else if(n.manual===e.field&&this.parent.taskMode==="Custom")s&&this.parent.isLocaleChanged?e.headerText=p(s.headerText)?this.parent.localeObj.getConstant("taskMode"):s.headerText:e.headerText=p(e.headerText)?this.parent.localeObj.getConstant("taskMode"):e.headerText,e.width=e.width?e.width:120,e.editType=e.editType?e.editType:"dropdownedit",e.valueAccessor=e.valueAccessor?e.valueAccessor:this.modeValueAccessor.bind(this),e.edit={params:{query:new He,dataSource:[{id:1,text:this.parent.localeObj.getConstant("manual"),value:!0},{id:2,text:this.parent.localeObj.getConstant("auto"),value:!1}],fields:{text:"text",value:"value"}}};else if(n.constraintType===e.field){s&&this.parent.isLocaleChanged?e.headerText=p(s.headerText)?this.parent.localeObj.getConstant("constraintType"):s.headerText:e.headerText=p(e.headerText)?this.parent.localeObj.getConstant("constraintType"):e.headerText,e.width=e.width?e.width:160,e.editType=e.editType?e.editType:"dropdownedit";var l=Object.keys(ki).filter(function(h){return!isNaN(Number(ki[h]))}).map(function(h){return{text:i.getLocalizedConstraintTypeText(h),value:ki[h]}});e.valueAccessor=e.valueAccessor?e.valueAccessor:this.constraintTypeValueAccessor.bind(this),e.edit={params:{dataSource:l,fields:{text:"text",value:"value"},query:new He}}}this.bindTreeGridColumnProperties(e,t)},r.prototype.changeLocale=function(e){var t=this,i=[],n=e.map(function(s){return s.ganttProperties.predecessorsName});return n.map(function(s){if(!p(s)){var o="",a=s.split(",");a.map(function(l,h){l.includes("FS")?(o+=l.replace("FS",t.parent.localeObj.getConstant("FS")),o+=a.length!==h+1?",":""):l.includes("FF")?(o+=l.replace("FF",t.parent.localeObj.getConstant("FF")),o+=a.length!==h+1?",":""):l.includes("SS")?(o+=l.replace("SS",t.parent.localeObj.getConstant("SS")),o+=a.length!==h+1?",":""):l.includes("SF")&&(o+=l.replace("SF",t.parent.localeObj.getConstant("SF")),o+=a.length!==h+1?",":"")}),i.push(o)}}),i},r.prototype.changeDelocale=function(e){var t=this.parent.localeObj.getConstant("FF"),i=this.parent.localeObj.getConstant("FS"),n=this.parent.localeObj.getConstant("SS"),s=this.parent.localeObj.getConstant("SF");if(!p(e)){var o=e.split(","),a="";return o.map(function(l,h){l.includes(t)?(a+=l.replace(t,"FF"),a+=o.length!==h+1?",":""):l.includes(i)?(a+=l.replace(i,"FS"),a+=o.length!==h+1?",":""):l.includes(n)?(a+=l.replace(n,"SS"),a+=o.length!==h+1?",":""):l.includes(s)?(a+=l.replace(s,"SF"),a+=o.length!==h+1?",":""):(a+=l,a+=o.length!==h+1?",":"")}),a}return null},r.prototype.composeResourceColumn=function(e){var t=this.parent.previousGanttColumns.filter(function(i){return e.field===i.field})[0];t&&this.parent.isLocaleChanged?e.headerText=p(t.headerText)?this.parent.localeObj.getConstant("resourceName"):t.headerText:e.headerText=p(e.headerText)?this.parent.localeObj.getConstant("resourceName"):e.headerText,e.width=e.width?e.width:150,e.type="string",e.valueAccessor=e.valueAccessor?e.valueAccessor:this.resourceValueAccessor.bind(this),e.allowFiltering=e.allowFiltering!==!1},r.prototype.getResourceIds=function(e){var t=H(this.parent.taskFields.resourceInfo,e.taskData),i=[];if(p(t))return t;for(var n=0;n<t.length;n++)i.push(typeof t[n]=="object"?t[n][this.parent.resourceFields.id]:t[n]);return i},r.prototype.composeIDColumn=function(e){var t=this.parent.viewType==="ProjectView",i=this.parent.dataSource?this.parent.dataSource.length:0,n;if(e.isPrimaryKey=!!t,this.parent.isLocaleChanged){var s=this.parent.previousGanttColumns.filter(function(a){return e.field===a.field})[0];s&&(e.headerText=p(s.headerText)?this.parent.localeObj.getConstant("id"):s.headerText)}else e.headerText=p(e.headerText)?this.parent.localeObj.getConstant("id"):e.headerText;e.width=e.width?e.width:100;for(var o=0;o<i;o++)if(!p(this.parent.dataSource[o][this.parent.taskFields.id])){n=this.parent.dataSource[o][this.parent.taskFields.id];break}typeof n=="string"||p(n)?(this.parent.viewType==="ResourceView"?e.allowEditing=e.allowEditing?e.allowEditing:!1:e.allowEditing=e.allowEditing?e.allowEditing:!0,e.editType=e.editType?e.editType:"stringedit"):(e.allowEditing=e.allowEditing?e.allowEditing:!1,e.editType=e.editType?e.editType:"numericedit"),e.valueAccessor=t?null:this.idValueAccessor.bind(this)},r.prototype.composeUniqueIDColumn=function(e){e.field="rowUniqueID",e.isPrimaryKey=!0,e.headerText="UniqueID",e.allowEditing=!1,e.visible=!1},r.prototype.composeProgressColumn=function(e){var t=this.parent.previousGanttColumns.filter(function(i){return e.field===i.field})[0];this.parent.isLocaleChanged&&t?e.headerText=p(t.headerText)?this.parent.localeObj.getConstant("progress"):t.headerText:e.headerText=p(e.headerText)?this.parent.localeObj.getConstant("progress"):e.headerText,e.width=e.width?e.width:150,e.editType=e.editType?e.editType:"numericedit"},r.prototype.bindTreeGridColumnProperties=function(e,t){for(var i={},n={},s=0,o=Object.keys(e);s<o.length;s++){var a=o[s];i[a]=n[a]=e[a]}for(var l=["template","editTemplate","filterTemplate","filter_itemTemplate","headerTemplate","formatter"],h=0,u=l;h<u.length;h++){var a=u[h];a in e&&e[a]!=null&&(i[a]=n[a]=e[a])}n.field===this.parent.taskFields.constraintDate&&("type"in n||(n.editType==="datepickeredit"?n.type="date":n.editType==="datetimepickeredit"&&(n.type="datetime"),i.type=n.type)),this.parent.columnByField[n.field]=n,this.parent.ganttColumns.push(new bne(n)),t&&this.treeGridColumns.push(i)},r.prototype.durationValueAccessor=function(e,t,i){if(!p(t)&&!p(t.ganttProperties)){var n=t.ganttProperties;return this.parent.dataOperation.getDurationString(n.duration,n.durationUnit)}else if(this.parent.loadChildOnDemand&&this.parent.taskFields.hasChildMapping)return this.parent.dataOperation.getDurationString(parseInt(t[this.parent.taskFields.duration],10),this.parent.durationUnit);return""},r.prototype.dependencyValueAccessor=function(e,t,i){var n=this;if(t&&t.ganttProperties&&!p(t.ganttProperties.predecessorsName)){var s="",o=t.ganttProperties.predecessorsName,a=o.split(",");return a.map(function(l,h){l.includes("FS")?(s+=l.replace("FS",n.parent.localeObj.getConstant("FS")),s+=a.length!==h+1?",":""):l.includes("FF")?(s+=l.replace("FF",n.parent.localeObj.getConstant("FF")),s+=a.length!==h+1?",":""):l.includes("SS")?(s+=l.replace("SS",n.parent.localeObj.getConstant("SS")),s+=a.length!==h+1?",":""):l.includes("SF")&&(s+=l.replace("SF",n.parent.localeObj.getConstant("SF")),s+=a.length!==h+1?",":"")}),s}return""},r.prototype.resourceValueAccessor=function(e,t,i){var n;return p(t)||(n=t.ganttProperties),p(n)?"":n.resourceNames},r.prototype.workValueAccessor=function(e,t,i){var n=t.ganttProperties;return p(n)?"":this.parent.dataOperation.getWorkString(n.work,n.workUnit)},r.prototype.taskTypeValueAccessor=function(e,t,i){var n=t.ganttProperties;return p(n)?"":n.taskType},r.prototype.modeValueAccessor=function(e,t,i){return t[e]?"Manual":"Auto"},r.prototype.constraintTypeValueAccessor=function(e,t,i){var n=Object.keys(ki).find(function(s){return ki[s]===t[e]});return this.getLocalizedConstraintTypeText(n)},r.prototype.baselineDurationValueAccessor=function(e,t,i){if(!p(t)&&!p(t.ganttProperties)){var n=t.ganttProperties;return this.parent.dataOperation.getDurationString(n.baselineDuration,n.durationUnit)}else if(this.parent.loadChildOnDemand&&this.parent.taskFields.hasChildMapping)return this.parent.dataOperation.getDurationString(parseInt(t[this.parent.taskFields.baselineDuration],10),this.parent.durationUnit);return""},r.prototype.idValueAccessor=function(e,t,i){return t.level===0?"R-"+t.ganttProperties.taskId:"T-"+t.ganttProperties.taskId},r.prototype.updateScrollTop=function(e){var t=H("top",e);this.treeGridElement.querySelector(".e-content").scrollTop=t,this.previousScroll.top=this.treeGridElement.querySelector(".e-content").scrollTop},r.prototype.treeGridClickHandler=function(e){this.parent.notify("treeGridClick",e)},r.prototype.setPartialSelectionForGrid=function(e){e.isResetPartialRecords=this.parent.addDeleteRecord},r.prototype.removeEventListener=function(){this.parent.off("renderPanels",this.createContainer),this.parent.off("chartScroll",this.updateScrollTop),this.parent.off("destroy",this.destroy),this.parent.treeGrid.off("reactTemplateRender",this.renderReactTemplate),this.parent.treeGrid.grid.off("beforeSetPartialRecords",this.setPartialSelectionForGrid)},r.prototype.destroy=function(){this.removeEventListener(),this.unWireEvents(),this.parent.treeGrid.element&&this.parent.treeGrid.destroy()},r}(),Dne=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),rA=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},hD=function(r){Dne(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return rA([I(null)],e.prototype,"from",void 0),rA([I(null)],e.prototype,"to",void 0),e}(Xe),Tne=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ba=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},wne=function(r){Tne(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return ba([I(!1)],e.prototype,"allowEditing",void 0),ba([I(!1)],e.prototype,"allowAdding",void 0),ba([I(!1)],e.prototype,"allowDeleting",void 0),ba([I("Auto")],e.prototype,"mode",void 0),ba([I("Top")],e.prototype,"newRowPosition",void 0),ba([I(!1)],e.prototype,"showDeleteConfirmDialog",void 0),ba([I(!1)],e.prototype,"allowTaskbarEditing",void 0),ba([I(!1)],e.prototype,"allowNextRowEdit",void 0),e}(Xe),xne=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ag=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Nne=function(r){xne(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return ag([I(null)],e.prototype,"day",void 0),ag([I(null)],e.prototype,"label",void 0),ag([I(null)],e.prototype,"cssClass",void 0),ag([I("50px")],e.prototype,"top",void 0),e}(Xe),Ane=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),sd=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Ene=function(r){Ane(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return sd([Li([],oP)],e.prototype,"columns",void 0),sd([I("Menu")],e.prototype,"type",void 0),sd([I()],e.prototype,"operators",void 0),sd([I(!1)],e.prototype,"ignoreAccent",void 0),sd([I("Parent")],e.prototype,"hierarchyMode",void 0),e}(Xe),kne=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),od=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Lne=function(r){kne(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return od([I([])],e.prototype,"fields",void 0),od([I(!1)],e.prototype,"ignoreCase",void 0),od([I("contains")],e.prototype,"operator",void 0),od([I("")],e.prototype,"key",void 0),od([I("Parent")],e.prototype,"hierarchyMode",void 0),e}(Xe),zne=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),lg=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},uD=function(r){zne(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return lg([I(null)],e.prototype,"from",void 0),lg([I(null)],e.prototype,"to",void 0),lg([I(null)],e.prototype,"label",void 0),lg([I(null)],e.prototype,"cssClass",void 0),e}(Xe),One=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),p0=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Rne=function(r){One(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return p0([I(null)],e.prototype,"rightLabel",void 0),p0([I(null)],e.prototype,"leftLabel",void 0),p0([I(null)],e.prototype,"taskLabel",void 0),e}(Xe),jne=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ad=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Pne=function(r){jne(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return ad([I("Row")],e.prototype,"mode",void 0),ad([I("Flow")],e.prototype,"cellSelectionMode",void 0),ad([I("Single")],e.prototype,"type",void 0),ad([I(!1)],e.prototype,"persistSelection",void 0),ad([I(!1)],e.prototype,"enableToggle",void 0),e}(Xe),Fne=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ld=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Bne=function(r){Fne(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return ld([I(null)],e.prototype,"position",void 0),ld([I(-1)],e.prototype,"columnIndex",void 0),ld([I(4)],e.prototype,"separatorSize",void 0),ld([I(null)],e.prototype,"minimum",void 0),ld([I("Default")],e.prototype,"view",void 0),e}(Xe),Une=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ui=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Hne=function(r){Une(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return ui([I(null)],e.prototype,"id",void 0),ui([I(null)],e.prototype,"name",void 0),ui([I(null)],e.prototype,"parentID",void 0),ui([I(null)],e.prototype,"hasChildMapping",void 0),ui([I(null)],e.prototype,"startDate",void 0),ui([I(null)],e.prototype,"endDate",void 0),ui([I(null)],e.prototype,"dependency",void 0),ui([I(null)],e.prototype,"progress",void 0),ui([I(null)],e.prototype,"child",void 0),ui([I(null)],e.prototype,"milestone",void 0),ui([I(null)],e.prototype,"duration",void 0),ui([I(null)],e.prototype,"durationUnit",void 0),ui([I(null)],e.prototype,"cssClass",void 0),ui([I(null)],e.prototype,"baselineStartDate",void 0),ui([I(null)],e.prototype,"baselineEndDate",void 0),ui([I(null)],e.prototype,"baselineDuration",void 0),ui([I(null)],e.prototype,"resourceInfo",void 0),ui([I(null)],e.prototype,"expandState",void 0),ui([I(null)],e.prototype,"indicators",void 0),ui([I(null)],e.prototype,"notes",void 0),ui([I(null)],e.prototype,"work",void 0),ui([I(null)],e.prototype,"manual",void 0),ui([I(null)],e.prototype,"type",void 0),ui([I(null)],e.prototype,"segments",void 0),ui([I(null)],e.prototype,"segmentId",void 0),ui([I(null)],e.prototype,"constraintType",void 0),ui([I(null)],e.prototype,"constraintDate",void 0),ui([I(null)],e.prototype,"calendarId",void 0),e}(Xe),kP=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Or=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},sA=function(r){kP(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Or([I("")],e.prototype,"format",void 0),Or([I("None")],e.prototype,"unit",void 0),Or([I(1)],e.prototype,"count",void 0),Or([I(null)],e.prototype,"formatter",void 0),e}(Xe),Vne=function(r){kP(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Or([I("Week")],e.prototype,"timelineViewMode",void 0),Or([gt({},sA)],e.prototype,"topTier",void 0),Or([gt({},sA)],e.prototype,"bottomTier",void 0),Or([I(33)],e.prototype,"timelineUnitSize",void 0),Or([I(0)],e.prototype,"weekStartDay",void 0),Or([I(null)],e.prototype,"weekendBackground",void 0),Or([I(!0)],e.prototype,"showTooltip",void 0),Or([I(!0)],e.prototype,"updateTimescaleView",void 0),Or([I(!0)],e.prototype,"showWeekend",void 0),e}(Xe),Qne=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),yu=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},_ne=function(r){Qne(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return yu([I(!0)],e.prototype,"showTooltip",void 0),yu([I()],e.prototype,"taskbar",void 0),yu([I()],e.prototype,"baseline",void 0),yu([I()],e.prototype,"connectorLine",void 0),yu([I()],e.prototype,"editing",void 0),yu([I()],e.prototype,"timeline",void 0),e}(Xe),LP=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Sy=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Yne=function(r){LP(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Sy([I()],e.prototype,"field",void 0),Sy([I()],e.prototype,"direction",void 0),e}(Xe),Wne=function(r){LP(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Sy([Li([],Yne)],e.prototype,"columns",void 0),Sy([I(!0)],e.prototype,"allowUnsort",void 0),e}(Xe),qne=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),hg=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Gne=function(r){qne(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return hg([I(null)],e.prototype,"id",void 0),hg([I(null)],e.prototype,"name",void 0),hg([I(null)],e.prototype,"unit",void 0),hg([I(null)],e.prototype,"group",void 0),e}(Xe),$ne=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Kne=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Jne=function(r){$ne(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Kne([I("Spinner")],e.prototype,"indicatorType",void 0),e}(Xe),Zne=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),oA=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Xne=function(r){Zne(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return oA([I()],e.prototype,"dayOfWeek",void 0),oA([Li([],hD)],e.prototype,"timeRange",void 0),e}(Xe),ere=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),f0=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},zP=function(r){ere(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return f0([I(null)],e.prototype,"from",void 0),f0([I(null)],e.prototype,"to",void 0),f0([I(null)],e.prototype,"label",void 0),e}(Xe),OP=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Gu=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},tre=function(r){OP(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Gu([Li([{from:8,to:12},{from:13,to:17}],hD)],e.prototype,"workingTime",void 0),Gu([Li([],uD)],e.prototype,"holidays",void 0),Gu([Li([],zP)],e.prototype,"exceptions",void 0),e}(Xe),ire=function(r){OP(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Gu([I(null)],e.prototype,"calendarId",void 0),Gu([Li([],uD)],e.prototype,"holidays",void 0),Gu([Li([],zP)],e.prototype,"exceptions",void 0),e}(Xe),nre=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),aA=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},rre=function(r){nre(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return aA([gt({},tre)],e.prototype,"projectCalendar",void 0),aA([Li([],ire)],e.prototype,"taskCalendars",void 0),e}(Xe),sre=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ore=function(r){sre(e,r);function e(t){var i=r.call(this,t)||this;return i.taskBarHeight=0,i.milestoneHeight=0,i.milesStoneRadius=0,i.baselineTop=0,i.baselineHeight=8,i.isGridRowRefreshed=!1,i.touchLeftConnectorpoint="",i.touchRightConnectorpoint="",i.dropSplit=!1,i.refreshedTr=[],i.refreshedData=[],i.isUpdated=!0,i.tagRegex=/<\/?(\w+)([^>]*?)(\/?)>/g,i.attributeRegex=/([\w-]+)\s*=\s*"([^"]*)"/g,i.taskBaselineTemplateNode=null,i.handleTouchMove=function(n){i.parent.ganttChartModule.ganttChartMove(n)},i.handleTouchEnd=function(n){i.parent.ganttChartModule.documentMouseUp(n)},i.parent=t,i.initPublicProp(),i.addEventListener(),i}return e.prototype.initPublicProp=function(){this.ganttChartTableBody=null},e.prototype.addEventListener=function(){this.parent.on("renderPanels",this.createChartTable,this),this.parent.on("dataReady",this.initiateTemplates,this),this.parent.on("destroy",this.destroy,this)},e.prototype.refreshChartByTimeline=function(){this.taskTable.style.width=mt(this.parent.enableTimelineVirtualization?this.parent.timelineModule.wholeTimelineWidth:this.parent.timelineModule.totalTimelineWidth);var t=H("prevProjectStartDate",this.parent.dataOperation),i=!1;t&&(i=t.getTime()===this.parent.cloneProjectStartDate.getTime()),this.isUpdated=!!(this.parent.isFromOnPropertyChange&&i&&H("mutableData",this.parent.treeGrid.grid.contentModule)),this.refreshGanttRows(),this.isUpdated=!0},e.prototype.createChartTable=function(){this.taskTable=Be("table",{className:KJ+" "+(ne.info.name==="safari"?null:JJ),id:"GanttTaskTable"+this.parent.element.id,styles:"position: absolute; width: "+(this.parent.enableTimelineVirtualization?this.parent.timelineModule.wholeTimelineWidth:this.parent.timelineModule.totalTimelineWidth)+"px;"+(ne.info.name==="safari"?"border-spacing: 0.25px;":""),attrs:{cellspacing:"0.25px"}});var t=Be("colgroup"),i=Be("col",{styles:"width:"+this.parent.timelineModule.totalTimelineWidth+"px;"});t.appendChild(i),this.taskTable.appendChild(t),this.ganttChartTableBody=Be("tbody",{id:this.parent.element.id+"GanttTaskTableBody"}),this.taskTable.appendChild(this.ganttChartTableBody),this.parent.ganttChartModule.chartBodyContent.appendChild(this.taskTable)},e.prototype.initiateTemplates=function(){this.taskTable.style.width=mt(this.parent.enableTimelineVirtualization?this.parent.timelineModule.wholeTimelineWidth:this.parent.timelineModule.totalTimelineWidth),this.initChartHelperPrivateVariable(),this.initializeChartTemplate()},e.prototype.renderChartRows=function(){this.createTaskbarTemplate(),this.parent.isGanttChartRendered=!0},e.prototype.getIndicatorNode=function(t){var i='<label class="'+Pi+" "+vZ+'" style="display: inline-flex; align-items: center; margin-top: 0; line-height:'+this.parent.rowHeight+"px;"+(this.parent.enableRtl?"right:":"left:")+this.getIndicatorleft(t.date)+'px;"><i class="'+t.iconClass+'" style="margin-right: 3px;"></i> </label>';return this.createDivElement(i)},e.prototype.getIndicatorleft=function(t){t=this.parent.dateValidationModule.getDateFromFormat(t);var i=this.parent.dataOperation.getTaskLeft(t,!1,this.parent.defaultCalendarContext);return i},e.prototype.getChildTaskbarNode=function(t,i){var n=null,s=this.templateData,o;if(this.parent.enableRtl?o="right:":o="left:",this.childTaskbarTemplateFunction)n=this.childTaskbarTemplateFunction(ie({index:t},s),this.parent,"TaskbarTemplate",this.getTemplateID("TaskbarTemplate"),!1,void 0,i[0],this.parent.treeGrid.root);else{var a="",l="",h=void 0,u=void 0;s.ganttProperties.startDate&&s.ganttProperties.endDate&&s.ganttProperties.duration&&(h=this.createDivElement('<div class="'+B1+" "+Vs+" "+(s.ganttProperties.isAutoSchedule?"":Jf)+'"style="width:'+s.ganttProperties.width+"px;height:"+this.taskBarHeight+'px; margin-top :-1px"></div>'),u=this.createDivElement('<div class="'+$c+" "+Kc+" "+(s.ganttProperties.isAutoSchedule?"":mZ)+'" style="border-style:'+(s.ganttProperties.progressWidth?"solid;":"none;")+"width:"+s.ganttProperties.progressWidth+"px;height:100%;border-top-right-radius:"+this.getBorderRadius(s.ganttProperties)+"px;border-bottom-right-radius:"+this.getBorderRadius(s.ganttProperties)+'px;"></div>'));var c=Be("div");if(this.taskLabelTemplateFunction&&!p(u)&&u.length>0){var d=this.taskLabelTemplateFunction(ie({index:t},s),this.parent,"TaskLabelTemplate",this.getTemplateID("TaskLabelTemplate"),!1,void 0,u[0]);d&&d.length>0&&(Ct(d,c),a=c.innerHTML,a=this.getTaskLabel(this.parent.labelSettings.taskLabel),a=a==="isCustomTemplate"?c.innerHTML:a,this.parent.enableHtmlSanitizer&&typeof a=="string"&&(a=St.sanitize(a)))}else{var f=this.parent.labelSettings.taskLabel;a=this.getTaskLabel(f),a=a==="isCustomTemplate"?this.parent.labelSettings.taskLabel:a,this.parent.enableHtmlSanitizer&&typeof a=="string"&&(a=St.sanitize(a))}a.indexOf("null")===-1&&(this.getTaskLabel(this.parent.labelSettings.taskLabel)==="isCustomTemplate"&&!this.isTemplate(this.parent.labelSettings.taskLabel)&&(a=""),isNaN(parseInt(a,10))?l='<span class="'+Hs+'" style="line-height:'+(this.taskBarHeight-1)+"px; text-align:"+(this.parent.enableRtl?"right;":"left;")+"display:inline-block;width:"+(s.ganttProperties.width-10)+"px; height:"+this.taskBarHeight+'px;"></span>':l='<span class="'+Hs+'" style="line-height:'+(this.taskBarHeight-1)+"px;"+(this.parent.viewType==="ResourceView"?"text-align:"+(this.parent.enableRtl?"right;":"left;"):"")+ +(this.parent.viewType==="ResourceView"?"display:inline-flex;":"")+ +(this.parent.viewType==="ResourceView"?s.ganttProperties.width-10:"")+"px; height:"+this.taskBarHeight+'px;"></span>');var g=!p(s.ganttProperties.segments)&&s.ganttProperties.segments.length>0?this.splitTaskbar(s,a):s.ganttProperties.startDate&&s.ganttProperties.endDate&&s.ganttProperties.duration?l:s.ganttProperties.startDate&&!s.ganttProperties.endDate&&!s.ganttProperties.duration?'<div class="'+$c+" "+Vs+" "+J1+" "+(s.ganttProperties.isAutoSchedule?"":Jf)+'"style="'+o+s.ganttProperties.left+"px; height:"+this.taskBarHeight+'px;"></div>':s.ganttProperties.endDate&&!s.ganttProperties.startDate&&!s.ganttProperties.duration?'<div class="'+$c+" "+Vs+" "+Z1+" "+(s.ganttProperties.isAutoSchedule?"":Jf)+'"style="'+o+s.ganttProperties.left+"px; height:"+this.taskBarHeight+'px;"></div>':s.ganttProperties.duration&&!s.ganttProperties.startDate&&!s.ganttProperties.endDate?'<div class="'+$c+" "+Vs+" "+MZ+" "+(s.ganttProperties.isAutoSchedule?"":Jf)+'"style="'+o+s.ganttProperties.left+"px; width:"+s.ganttProperties.width+"px; height:"+this.taskBarHeight+'px;"></div>':"";if(s.ganttProperties.segments&&s.ganttProperties.segments.length>0){var m=this.getSplitProgressResizerNode();g=g+m}if(s.ganttProperties.startDate&&s.ganttProperties.endDate&&s.ganttProperties.duration&&(p(s.ganttProperties.segments)||!p(s.ganttProperties.segments)&&s.ganttProperties.segments.length===0)){if(g!==""&&!p(u)&&u.length>0){var y=this.createDivElement(g)[0];this.parent.disableHtmlEncode?y.innerText=a:y.innerHTML=a;var v=this.parent.labelSettings.taskLabel;v&&v.elementRef&&y.appendChild(c),u[0].appendChild(y),u[0].querySelectorAll(".e-task-label")[0].textContent!==""&&!this.isTemplate(v)&&u[0].querySelectorAll(".e-task-label")[0].children[0]&&this.parent.disableHtmlEncode&&u[0].querySelectorAll(".e-task-label")[0].children[0].remove(),u[0].querySelectorAll(".e-task-label")[0].textContent===""&&v&&!v.elementRef&&c.innerHTML!==""&&(u[0].querySelectorAll(".e-task-label")[0].textContent=v)}!p(h)&&h.length>0&&h[0].appendChild([].slice.call(u)[0]),n=h}else n=this.createDivElement(g)}return this.parent.enableRtl&&!p(n)&&n[0]&&n[0].querySelector(".e-task-label")&&(n[0].querySelector(".e-task-label").style.marginLeft="15px",n[0].querySelector(".e-task-label").style.marginRight="8px",n[0].querySelector(".e-gantt-child-progressbar")&&(n[0].querySelector(".e-gantt-child-progressbar").style.textAlign="left")),n},e.prototype.splitTaskbar=function(t,i){for(var n="",s=0;s<t.ganttProperties.segments.length;s++){var o=t.ganttProperties.segments[s],a=void 0;o.showProgress?a="initial":a="hidden";var l=s===0?"e-segment-first":s===t.ganttProperties.segments.length-1?"e-segment-last":"e-segment-inprogress";n+='<div class="'+B1+" "+l+" "+Vs+'  e-segmented-taskbar"style="width:'+o.width+"px;position: absolute;"+(this.parent.enableRtl?"right:":"left:")+o.left+"px;height:"+this.taskBarHeight+"px; overflow:"+a+';" data-segment-index = "'+s+'" aria-label = "'+this.generateSpiltTaskAriaLabel(o,t.ganttProperties)+'"> '+this.getSplitTaskbarLeftResizerNode()+'<div class="'+$c+" "+Kc+' " style="border-style:'+(o.progressWidth?"solid;":"none;")+"display:"+(o.progressWidth>=0?"block;":"none;")+"width:"+o.progressWidth+"px;height:100%;text-align:"+(this.parent.enableRtl?"left;":"right;")+"border-top-right-radius:"+this.getSplitTaskBorderRadius(o)+"px;border-bottom-right-radius:"+this.getSplitTaskBorderRadius(o)+'px;"><span class="'+Hs+'" style="line-height:'+(this.taskBarHeight-1)+"px;display:"+(o.showProgress?"inline;":"none;")+"height:"+this.taskBarHeight+'px;">'+i+"</span></div>"+this.getSplitTaskbarRightResizerNode(o)+"</div></div>"}return n},e.prototype.getSplitTaskbarLeftResizerNode=function(){var t=!p(document.body.className)&&document.body.className.includes("e-bigger")?5:-2,i='<div class="'+H1+" "+Kf+'" style="'+(this.parent.enableRtl?"right:":"left:")+t+"px;height:"+this.taskBarHeight+'px;z-index:1"></div>';return i},e.prototype.getSplitTaskbarRightResizerNode=function(t){var i=!p(document.body.className)&&document.body.className.includes("e-bigger")?-17:-10,n='<div class="'+V1+" "+Kf+'" style="'+(this.parent.enableRtl?"right:":"left:")+(t.width+i)+"px;height:"+this.taskBarHeight+'px;z-index:1"></div>';return n},e.prototype.getSplitProgressResizerNode=function(){var t=this.parent.enableRtl?this.templateData.ganttProperties.progressWidth+8:this.templateData.ganttProperties.progressWidth-6,i='<div class="'+Q1+'" style="'+(this.parent.enableRtl?"right:":"left:")+t+"px;margin-top:"+(this.taskBarHeight-4)+'px;"><div class="'+_1+'"><div class="'+Y1+'"></div><div class="'+W1+'"></div></div>';return i},e.prototype.getSegmentIndex=function(t,i){var n=-1,s=i.ganttProperties,o=s.segments;if(!p(o)){o.sort(function(d,f){return d.startDate.getTime()-f.startDate.getTime()});for(var a=o.length,l=0;l<a;l++){var h=o[l];if(t.getTime()===s.startDate.getTime())this.dropSplit=!0,n=0;else if(t.getTime()===h.startDate.getTime()){this.dropSplit=!0;var u=h.startDate;u.setDate(u.getDate()+1),u=h.startDate=this.parent.dataOperation.checkStartDate(u,s,!1),h.startDate=u;var c=h.endDate;c=this.parent.dataOperation.getEndDate(u,h.duration,s.durationUnit,s,!1),h.endDate=c,l===o.length-1&&this.parent.setRecordValue("endDate",c,s,!0),this.incrementSegments(o,l,i),n=h.segmentIndex}else h.endDate=this.parent.dataOperation.getEndDate(h.startDate,h.duration,s.durationUnit,s,!1),t.getTime()>=h.startDate.getTime()&&t.getTime()<=h.endDate.getTime()&&(n=h.segmentIndex);this.parent.setRecordValue("segments",s.segments,s,!0)}}return n===-1&&(this.dropSplit=!0),n},e.prototype.mergeTask=function(t,i){var n=i.length,s=this.parent.taskFields,o=this.parent.flatData.filter(function(b){return b[s.id]===t?b:null})[0];if(this.parent.undoRedoModule&&!this.parent.undoRedoModule.isUndoRedoPerformed){var a={};if(a.action="MergeTaskbar",this.parent.isUndoRedoItemPresent("Edit")){this.parent.editModule&&this.parent.editModule.taskbarEditModule.isDragged&&this.parent.getUndoActions().length>0&&this.parent.undoRedoModule.getUndoCollection.splice(this.parent.undoRedoModule.getUndoCollection.length-1,1),this.parent.undoRedoModule.createUndoCollection();var l=this.parent.previousFlatData[o.index];a.modifiedRecords=ie([],[l],[],!0),this.parent.undoRedoModule.getUndoCollection[this.parent.undoRedoModule.getUndoCollection.length-1]=a}}var h=o.ganttProperties.segments;i=i.sort(function(b,C){return C.firstSegmentIndex-b.firstSegmentIndex});for(var u=0;u<n;u++){var c=h[i[u].firstSegmentIndex],d=h[i[u].secondSegmentIndex],f=c.duration+d.duration,g=this.parent.dataOperation.getEndDate(c.startDate,f,o.ganttProperties.durationUnit,o.ganttProperties,!1),m={startDate:c.startDate,endDate:g,duration:f},y=i[u].firstSegmentIndex;h.splice(y,2,m),this.parent.setRecordValue("segments",h,o.ganttProperties,!0),this.parent.dataOperation.updateMappingData(o,"segments"),h.length===1?(this.parent.setRecordValue("endDate",g,o.ganttProperties,!0),this.parent.setRecordValue("EndDate",g,o,!0),this.parent.setRecordValue("segments",null,o.ganttProperties,!0),this.parent.dataOperation.updateMappingData(o,"segments")):o.ganttProperties.endDate!==h[h.length-1].endDate&&this.parent.setRecordValue("endDate",h[h.length-1].endDate,o.ganttProperties,!0)}var v;!p(o[s.segments])&&!p(o[s.segments][0])&&(v=Object.keys(o[s.segments][0]));for(var M=[],S=0;S<h.length;S++)!p(v)&&!M[S]&&(M[S]={}),!p(v)&&v.indexOf("StartDate")!==-1&&(M[S][s.startDate]=h[S].startDate),!p(v)&&v.indexOf("EndDate")!==-1&&(M[S][s.endDate]=h[S].endDate),!p(v)&&v.indexOf("Duration")!==-1&&(M[S][s.duration]=h[S].duration);o[s.segments]=M,this.updateSegment(o.ganttProperties.segments,t),this.refreshChartAfterSegment(o,"mergeSegment")},e.prototype.updateSegment=function(t,i){var n=this;if(!p(this.parent.taskFields.segmentId)&&this.parent.segmentData.length>0)if(p(t)){var h=this.parent.segmentData.filter(function(c){return i!==c[n.parent.taskFields.segmentId]});this.parent.segmentData=h}else{for(var s=[],o=0;o<t.length;o++){var a={},l=t[o];a[this.parent.taskFields.segmentId]=i,p(this.parent.taskFields.startDate)||(a[this.parent.taskFields.startDate]=l.startDate),p(this.parent.taskFields.duration)||(a[this.parent.taskFields.duration]=l.duration),p(this.parent.taskFields.endDate)||(a[this.parent.taskFields.endDate]=l.endDate),s.push(a)}for(var h=this.parent.segmentData.filter(function(u){return i!==u[n.parent.taskFields.segmentId]}),o=0;o<s.length;o++)h.push(s[o]);this.parent.segmentData=h}},e.prototype.refreshChartAfterSegment=function(t,i){this.parent.setRecordValue("segments",this.parent.dataOperation.setSegmentsInfo(t,!1),t.ganttProperties,!0),this.parent.dataOperation.updateMappingData(t,"segments"),this.parent.dataOperation.updateWidthLeft(t),this.parent.dataOperation.updateParentItems(t),t.ganttProperties.sharedTaskUniqueIds&&t.ganttProperties.sharedTaskUniqueIds.length>1&&this.parent.editModule.updateSharedTask(t),this.parent.predecessorModule&&this.parent.taskFields.dependency?(this.parent.predecessorModule.updatedRecordsDateByPredecessor(),this.parent.connectorLineModule.removePreviousConnectorLines(this.parent.flatData),this.parent.connectorLineEditModule.refreshEditedRecordConnectorLine(this.parent.flatData),t.parentItem&&this.parent.getParentTask(t.parentItem).ganttProperties.isAutoSchedule&&this.parent.isInPredecessorValidation&&this.parent.dataOperation.updateParentItems(t.parentItem),this.refreshRecords(this.parent.currentViewData)):this.refreshRecords(this.parent.currentViewData);var n=this.ganttChartTableBody.querySelectorAll("tr")[this.parent.currentViewData.indexOf(t)],s={requestType:i,rowData:t,modifiedRecords:this.parent.editedRecords,modifiedTaskData:UJ(this.parent.editedRecords)};this.triggerQueryTaskbarInfoByIndex(n,t),this.parent.selectionModule&&this.parent.selectionModule.clearSelection();var o=s.rowData.taskData[this.parent.taskFields.segments];if(this.parent.timezone&&o!=null)for(var a=0;a<o.length;a++)o[a][this.parent.taskFields.startDate]=this.parent.dateValidationModule.remove(s.rowData.ganttProperties.segments[a].startDate,this.parent.timezone),this.parent.taskFields.endDate&&(o[a][this.parent.taskFields.endDate]=this.parent.dateValidationModule.remove(s.rowData.ganttProperties.segments[a].endDate,this.parent.timezone));this.parent.trigger("actionComplete",s),this.parent.hideLoadingIndicator(),Ze("isEdit",!1,this.parent.contextMenuModule),Ze("isEdit",!1,this.parent)},e.prototype.splitTask=function(t,i){var n=this.parent.taskFields,s=i,o=this.parent.flatData.filter(function(M){return M[n.id]===t?M:null})[0];if(this.parent.undoRedoModule&&!this.parent.undoRedoModule.isUndoRedoPerformed){var a={};a.action="MergeTaskbar",this.parent.isUndoRedoItemPresent("Edit")&&(this.parent.undoRedoModule.createUndoCollection(),a.modifiedRecords=ie([],[o],[],!0),this.parent.undoRedoModule.getUndoCollection[this.parent.undoRedoModule.getUndoCollection.length-1]=a)}var l=o.ganttProperties;this.dropSplit=!1;var h=-1,u=l.segments,c=l.calendarContext;if(p(i.length)||i.length<0){var d=this.parent.dataOperation.checkStartDate(s,l,!1);if(d.getTime()!==l.startDate.getTime()&&l.isAutoSchedule){if(!p(u)&&u.length>0&&(h=this.getSegmentIndex(d,o)),this.dropSplit===!1&&s.getTime()>l.startDate.getTime()&&s.getTime()<l.endDate.getTime()){u=h!==-1?u:[];var f=h!==-1?u[h].startDate:new Date(l.startDate.getTime()),g=h!==-1?u[h].endDate:new Date(l.endDate.getTime()),m=this.parent.dataOperation.getDuration(f,g,l.durationUnit,l.isAutoSchedule,l.isMilestone,void 0,c);this.parent.setRecordValue("segments",this.splitSegmentedTaskbar(f,g,s,h,u,o,m),l,!0);for(var y=[],v=0;v<u.length;v++)y[v]||(y[v]={}),y[v][n.startDate]=u[v].startDate,y[v][n.endDate]=u[v].endDate,y[v][n.duration]=u[v].duration;o[n.segments]=y,h!==-1&&this.incrementSegments(u,h+1,o),this.parent.setRecordValue("endDate",u[u.length-1].endDate,l,!0),this.parent.taskFields.endDate&&this.parent.dataOperation.updateMappingData(o,"endDate")}this.updateSegment(o.ganttProperties.segments,t),this.refreshChartAfterSegment(o,"splitTaskbar")}}else i.sort(function(M,S){return M.getTime()-S.getTime()}),this.parent.setRecordValue("segments",this.constructSegments(i,o.ganttProperties),o.ganttProperties,!0),this.updateSegment(o.ganttProperties.segments,t),this.refreshChartAfterSegment(o,"splitTask")},e.prototype.constructSegments=function(t,i){for(var n=[],s,o=new Date,a,l,h=0;h<t.length+1&&(o=h===0?i.startDate:o,o=this.parent.dataOperation.checkStartDate(o,i,!1),a=h!==t.length?new Date(t[h].getTime())>i.endDate?i.endDate:new Date(t[h].getTime()):i.endDate,a=this.parent.dataOperation.checkEndDate(a,i,!1),l=this.parent.dataOperation.getDuration(o,a,i.durationUnit,i.isAutoSchedule,i.isMilestone,void 0,i.calendarContext),a.getTime()>=o.getTime()&&(s={startDate:o,endDate:a,duration:l},n.push(s)),h!==t.length);h++)o=new Date(t[h].getTime()),o.setDate(t[h].getDate()+1);return n},e.prototype.splitSegmentedTaskbar=function(t,i,n,s,o,a,l){var h=a.ganttProperties,u=h.calendarContext,c,d;this.parent.includeWeekend||u.exceptionsRanges.length>0?c=-1:c=this.parent.nonWorkingDayIndex.indexOf(n.getDay());var f=c===-1?0:c===0||c===1?1:2;t=this.parent.dataOperation.checkStartDate(t,h,!1);var g=new Date(n.getTime());g=this.parent.dataOperation.checkEndDate(g,h,!1);for(var m=0;m<2;m++){if(this.parent.weekWorkingTime.length>0){var y=this.parent.getCurrentDayEndTime(g);this.setTime(y,g)}var v={startDate:t,endDate:g,duration:this.parent.dataOperation.getDuration(t,g,h.durationUnit,h.isAutoSchedule,h.isMilestone,void 0,u),offsetDuration:1};this.parent.includeWeekend||u.exceptionsRanges.length>0?d=-1:d=this.parent.nonWorkingDayIndex.indexOf(g.getDay()),s!==-1&&(o.splice(s,1),s=-1),o.push(v);var M=this.parent.timelineModule.customTimelineSettings.bottomTier.unit;if(M==="Hour"||M==="Minutes"){t=new Date(n.getTime()),t=this.parent.dataOperation.checkStartDate(t,h,!1);var S=this.parent.timelineModule.customTimelineSettings.bottomTier.count,b=this.parent.timelineModule.customTimelineSettings.bottomTier.unit,C=this.parent.timelineModule.getIncrement(t,S,b),T=t.getTime()+C;t.setTime(T+f),g=new Date(i.getTime()),C=this.parent.timelineModule.getIncrement(g,S,b),T=g.getTime()+C,g.setTime(T+f)}else{t=new Date(n.getTime()),t.setDate(t.getDate()+1+f);var k=this.parent.getCurrentDayStartTime(t);if(this.setTime(k,t),t=this.parent.dataOperation.checkStartDate(t,h,!1),!this.parent.taskFields.duration&&f<=0&&t.setDate(t.getDate()+1),g=new Date(i.getTime()),g<t&&g.setDate(g.getDate()+1),this.isOnHolidayOrWeekEnd(g,!0,u))do g.setDate(g.getDate()+1);while(this.isOnHolidayOrWeekEnd(g,!0,u));(!this.parent.includeWeekend||u.exceptionsRanges.length===0)&&(g=this.getNextWorkingDay(g,u))}if(d!==-1){var N=l-v.duration;g=this.parent.dataOperation.getEndDate(t,N,h.durationUnit,h,!1)}else g=this.parent.dataOperation.checkEndDate(g,h,!1)}return o.sort(function(A,E){return A.startDate.getTime()-E.startDate.getTime()}),o},e.prototype.incrementSegments=function(t,i,n){for(var s=n.ganttProperties,o=i+1;o<t.length;o++){var a=t[o],l=o!==0?new Date(t[o-1].endDate.getTime()):new Date(a.startDate.getTime());this.parent.dataOperation.fromSegments=!0,l=this.parent.dataOperation.getEndDate(l,a.offsetDuration,s.durationUnit,s,!1),this.parent.dataOperation.fromSegments=!1,l=this.parent.dataOperation.checkStartDate(l,s,!1),a.startDate=l;var h=a.endDate=this.parent.dataOperation.getEndDate(l,a.duration,s.durationUnit,s,!1);a.endDate=h,o===t.length-1&&(this.parent.setRecordValue("endDate",h,s,!0),this.parent.taskFields.endDate&&this.parent.dataOperation.updateMappingData(n,"endDate"))}t.sort(function(u,c){return u.startDate.getTime()-c.startDate.getTime()}),this.parent.setRecordValue("segments",t,s,!0),this.parent.dataOperation.updateMappingData(n,"segments")},e.prototype.calculateLeftValue=function(t){var i=this.parent.renderBaseline?.45:!p(document.body.className)&&document.body.className.includes("e-bigger")?.7:.62,n=Math.floor(this.parent.rowHeight*i);return!p(this.parent.taskbarHeight)&&this.parent.taskbarHeight<=n||p(this.parent.taskbarHeight)&&t<=36||t<=36?1:-1/12*(t-36)+1},e.prototype.getMilestoneNode=function(t,i){var n=null,s=this.templateData,o=this.parent.rowHeight,a=this.calculateLeftValue(o);if(this.milestoneTemplateFunction)n=this.milestoneTemplateFunction(ie({index:t},s),this.parent,"MilestoneTemplate",this.getTemplateID("MilestoneTemplate"),!1,void 0,i[0],this.parent.treeGrid.root);else{var l='<div class="'+q1+'" style="width:'+(this.parent.renderBaseline?this.taskBarHeight:this.taskBarHeight-6)+"px;height:"+(this.parent.renderBaseline?this.taskBarHeight:this.taskBarHeight-6)+"px;position:absolute;transform: rotate(45deg);left:"+a+'px;"> </div>';n=this.createDivElement(l)}return n},e.prototype.getTaskBaselineNode=function(){var t=this.templateData,i='<div class="'+Cn+' " role="term" style="margin-top:'+this.baselineTop+"px;"+(this.parent.enableRtl?"right:":"left:")+t.ganttProperties.baselineLeft+"px;width:"+t.ganttProperties.baselineWidth+"px;height:"+this.baselineHeight+"px;"+(this.baselineColor?"background-color: "+this.baselineColor+";":"")+'"></div>';return this.createDivElement(i)},e.prototype.updateTaskBaselineNode=function(t){var i='<div class="'+Cn+' " role="term" style="margin-top:'+this.baselineTop+"px;"+(this.parent.enableRtl?"right:":"left:")+t.ganttProperties.baselineLeft+"px;width:"+t.ganttProperties.baselineWidth+"px;height:"+this.baselineHeight+"px;"+(this.baselineColor?"background-color: "+this.baselineColor+";":"")+'"></div>';return this.createDivElement(i)},e.prototype.getMilestoneBaselineNode=function(){var t=this.templateData,i=this.parent.renderBaseline?5:2,n='<div class="'+U1+'" style="width:'+(this.parent.renderBaseline?this.taskBarHeight:this.taskBarHeight-10)+"px;height:"+(this.parent.renderBaseline?this.taskBarHeight:this.taskBarHeight-10)+"px;position:absolute;transform:rotate(45deg);"+(this.parent.enableRtl?"right:":"left:")+(this.parent.enableRtl?t.ganttProperties.left-this.milestoneHeight/2+3:t.ganttProperties.baselineLeft-this.milestoneHeight/2+1)+"px;"+(this.baselineColor?"background-color: "+this.baselineColor+";":"")+"margin-top:"+(-Math.floor(this.parent.rowHeight-this.milestoneMarginTop)+i+2)+'px"> </div>';return this.createDivElement(n)},e.prototype.getLeftLabelNode=function(t){var i=this.leftLabelContainer();this.generateTaskLabelAriaLabel("left")!==""&&i[0].setAttribute("aria-label",this.generateTaskLabelAriaLabel("left"));var n=null;if(this.leftTaskLabelTemplateFunction)n=this.leftTaskLabelTemplateFunction(ie({index:t},this.templateData),this.parent,"LeftLabelTemplate",this.getTemplateID("LeftLabelTemplate"),!1,void 0,i[0],this.parent.treeGrid.root);else{var s=this.parent.labelSettings.leftLabel,o=this.getTaskLabel(s);o&&(o=o==="isCustomTemplate"?s:o,n=this.getLableText(o,P1),this.parent.enableHtmlSanitizer&&typeof o=="string"&&(o=St.sanitize(o),o=o==="isCustomTemplate"?s:o,n=this.getLableText(o,P1)))}return n&&n.length>0&&(n[0].data==="null"&&(n[0].data=""),Ct(n,i[0])),this.parent.enableRtl&&(i[0].style.paddingLeft="25px",i[0].style.paddingRight="0px"),i},e.prototype.getLableText=function(t,i){var n=this.parent.renderBaseline?(this.parent.rowHeight-this.taskBarHeight)/2:this.taskBarMarginTop,s=Be("div",{className:i,styles:"height:"+this.taskBarHeight+"px;margin-top:"+n+"px;"}),o=Be("span",{className:Pi}),a=this.parent.disableHtmlEncode?"textContent":"innerHTML";o[a]=t,s.appendChild(o);var l=Be("div");return l.appendChild(s),l.childNodes},e.prototype.getRightLabelNode=function(t){var i=this.rightLabelContainer();this.generateTaskLabelAriaLabel("right")!==""&&i[0].setAttribute("aria-label",this.generateTaskLabelAriaLabel("right"));var n=null;if(this.rightTaskLabelTemplateFunction)n=this.rightTaskLabelTemplateFunction(ie({index:t},this.templateData),this.parent,"RightLabelTemplate",this.getTemplateID("RightLabelTemplate"),!1,void 0,i[0],this.parent.treeGrid.root);else{var s=this.parent.labelSettings.rightLabel,o=this.getTaskLabel(s);o&&(o=o==="isCustomTemplate"?s:o,n=this.getLableText(o,F1),this.parent.enableHtmlSanitizer&&typeof o=="string"&&(o=St.sanitize(o),o=o==="isCustomTemplate"?s:o,n=this.getLableText(o,F1)))}return n&&n.length>0&&(n[0].data==="null"&&(n[0].data=""),Ct(n,i[0])),this.parent.enableRtl&&(i[0].style.marginLeft="0px",i[0].style.paddingRight="25px"),i},e.prototype.getManualTaskbar=function(){var t=this.templateData,i=this.taskBarHeight/2-1,n=t.ganttProperties.startDate&&t.ganttProperties.endDate&&(t.ganttProperties.duration||t.hasChildRecords)?'<div class="'+KM+'" style="width:'+t.ganttProperties.width+"px;height:"+i/5+"px;border-left-width:"+i/5+"px; border-bottom:"+i/5+'px solid transparent;"></div>':!t.ganttProperties.startDate&&!t.ganttProperties.endDate&&t.ganttProperties.duration?'<div class="'+KM+" "+yZ+'" style="width:'+t.ganttProperties.width+"px;height:"+(i/5+1)+"px;border-left-width:"+i/5+"px; border-bottom:"+i/5+'px solid transparent;"></div>':'<div class="'+KM+" "+(t.ganttProperties.startDate?J1:Z1)+'" style="width:'+t.ganttProperties.width+"px;height:"+i*2+"px;border-left-width:"+i/5+"px; border-bottom:"+i/5+'px solid transparent;"></div>',s=n+(t.ganttProperties.startDate&&t.ganttProperties.endDate&&(t.ganttProperties.duration||t.hasChildRecords)||t.ganttProperties.duration?'<div class="e-gantt-manualparenttaskbar-left" style='+(this.parent.enableRtl?"margin-right:0px;":"")+'"height:'+i+"px;border-left-width:"+i/5+"px; border-bottom:"+i/5+'px solid transparent;"></div><div class="e-gantt-manualparenttaskbar-right" style="'+(this.parent.enableRtl?"margin-right:-8px;":"")+(this.parent.enableRtl?"right:":"left:")+(t.ganttProperties.width-Math.floor((i/5+8)/5))+"px;height:"+i+"px;border-right-width:"+i/5+"px;border-bottom:"+i/5+'px solid transparent;"></div></div>':""),o='<div class="'+fZ+'"style='+(this.parent.enableRtl?"right:":"left:")+(t.ganttProperties.left-t.ganttProperties.autoLeft)+"px;width:"+t.ganttProperties.width+"px;height:"+i+"px;cursor:"+(this.parent.editSettings.allowTaskbarEditing?"move;":"default;")+"</div>",a='<div class="'+gZ+'" style="width:'+(this.parent.renderBaseline?this.taskBarHeight-3:this.taskBarHeight-7)+"px;height:"+(this.parent.renderBaseline?this.taskBarHeight-3:this.taskBarHeight-7)+"px;position:absolute;transform: rotate(45deg);top:"+(this.parent.rowHeight>40?0:2)+"px;left:"+(this.parent.renderBaseline?2:1)+'px;"> </div>';return this.createDivElement(t.ganttProperties.duration===0&&t.hasChildRecords&&!t.ganttProperties.isAutoSchedule?a+s:o+s)},e.prototype.getParentTaskbarNode=function(t,i){var n=null,s=this.templateData;if(this.parentTaskbarTemplateFunction&&s.ganttProperties.autoDuration!==0&&!s.ganttProperties.isMilestone)n=this.parentTaskbarTemplateFunction(ie({index:t},s),this.parent,"ParentTaskbarTemplate",this.getTemplateID("ParentTaskbarTemplate"),!1,void 0,i[0],this.parent.treeGrid.root);else{var o="",a=void 0,l=this.taskBarHeight/5,h=this.createDivElement('<div class="'+oZ+" "+this.getExpandClass(s)+" "+G1+'" style="width:'+(s.ganttProperties.isAutoSchedule?s.ganttProperties.width:s.ganttProperties.autoWidth)+"px;height:"+(s.ganttProperties.isAutoSchedule?this.taskBarHeight:l*3)+"px;margin-top:"+(s.ganttProperties.isAutoSchedule?-1:l*2)+'px; "></div>'),u=this.createDivElement('<div class="'+aZ+" "+this.getExpandClass(s)+" "+$1+'" style="border-style:'+(s.ganttProperties.progressWidth?"solid;":"none;")+"width:"+s.ganttProperties.progressWidth+"px;border-top-right-radius:"+this.getBorderRadius(s)+"px;border-bottom-right-radius:"+this.getBorderRadius(s)+'px;height:100%;"></div>'),c=Be("div");if(this.taskLabelTemplateFunction){var d=this.taskLabelTemplateFunction(ie({index:t},s),this.parent,"TaskLabelTemplate",this.getTemplateID("TaskLabelTemplate"),!1,void 0,u[0]);d&&d.length>0&&(Ct(d,c),o=c.innerHTML,o=this.getTaskLabel(this.parent.labelSettings.taskLabel),o=o==="isCustomTemplate"?c.innerHTML:o,this.parent.enableHtmlSanitizer&&typeof o=="string"&&(o=St.sanitize(o)))}else o=this.getTaskLabel(this.parent.labelSettings.taskLabel),o=o==="isCustomTemplate"?this.parent.labelSettings.taskLabel:o,this.parent.enableHtmlSanitizer&&typeof o=="string"&&(o=St.sanitize(o));if(o.indexOf("null")===-1){this.getTaskLabel(this.parent.labelSettings.taskLabel)==="isCustomTemplate"&&!this.isTemplate(this.parent.labelSettings.taskLabel)&&(o=""),isNaN(parseInt(o,10))?a='<span class="'+Hs+'" style="line-height:'+(s[this.parent.taskFields.manual]&&s.hasChildRecords?Math.floor(60/100*this.taskBarHeight):this.taskBarHeight-1)+"px; text-align:"+(this.parent.enableRtl?"right;":"left;")+"display:inline-block;width:"+(s.ganttProperties.width-10)+"px; height:"+this.taskBarHeight+'px;"></span>':a='<span class="'+Hs+'" style="line-height:'+(s[this.parent.taskFields.manual]&&s.hasChildRecords?Math.floor(60/100*this.taskBarHeight):this.taskBarHeight-1)+"px;"+(this.parent.viewType==="ResourceView"?"display:inline-flex;":"")+(this.parent.viewType==="ResourceView"?"width:"+(s.ganttProperties.width-10):"")+"px; height:"+(this.taskBarHeight-1)+"px;"+(this.parent.viewType==="ResourceView"?"display: inline-flex;":"")+(this.parent.viewType==="ResourceView"?"width:"+(s.ganttProperties.width-10):"")+"px; height:"+this.taskBarHeight+'px;"></span>';var f=this.createDivElement(a)[0];this.parent.disableHtmlEncode?f.innerText=o:f.innerHTML=o;var g=this.parent.labelSettings.taskLabel;g&&g.elementRef&&f.appendChild(c),u[0].appendChild(f),u[0].querySelectorAll(".e-task-label")[0].textContent!==""&&!this.isTemplate(g)&&u[0].querySelectorAll(".e-task-label")[0].children[0]&&this.parent.disableHtmlEncode&&u[0].querySelectorAll(".e-task-label")[0].children[0].remove(),u[0].querySelectorAll(".e-task-label")[0].textContent===""&&g&&!g.elementRef&&c.innerHTML!==""&&(u[0].querySelectorAll(".e-task-label")[0].textContent=g)}var m='<div class="'+pZ+'" style="width:'+(this.parent.renderBaseline?this.taskBarHeight-3:this.taskBarHeight-7)+"px;height:"+(this.parent.renderBaseline?this.taskBarHeight-3:this.taskBarHeight-7)+"px;position:absolute;transform: rotate(45deg);top:"+(this.parent.rowHeight>40?0:2)+"px;left:"+(this.parent.renderBaseline?2:1)+'px;"> </div>';h[0].appendChild([].slice.call(u)[0]),n=s.ganttProperties.isMilestone?this.createDivElement(s.ganttProperties.isAutoSchedule?m:""):h}return this.parent.enableRtl&&!p(n)&&n[0]&&n[0].querySelector(".e-task-label")&&(n[0].querySelector(".e-task-label").style.marginLeft="15px",n[0].querySelector(".e-task-label").style.marginRight="8px",n[0].querySelector(".e-gantt-parent-progressbar")&&(n[0].querySelector(".e-gantt-parent-progressbar").style.textAlign="left")),n},e.prototype.getTableTrNode=function(t,i,n){var s=this,o=Be("table"),a=this.parent.gridLines==="Horizontal"||this.parent.gridLines==="Both"?"e-chart-row-border":"",l,h;if(this.parent.treeGridModule.isPersist)setTimeout(function(){!p(s.parent.treeGrid.grid)&&!p(s.parent.treeGrid.grid.contentModule)&&!p(s.parent.treeGrid.grid.contentModule.getRows())&&(h=s.parent.treeGrid.grid.contentModule.getRows()[t],h&&h.isSelected?l="e-active":l="")},0);else{var u=i.ganttProperties.taskId,c=!1;if(n&&u){u=u.toString(),h=n;var d=h.find(function(y){return y.data[s.parent.taskFields.id]&&y.data[s.parent.taskFields.id].toString()===u});c=!!(d&&d.isSelected)}else h=this.parent.treeGrid.grid.contentModule.getRows()[t],c=!!(h&&h.isSelected);l=c?"e-active":""}var f=o.querySelector("tbody");f||(f=document.createElement("tbody"),o.appendChild(f));var g=document.createElement("tr");g.classList.add(this.getRowClassName(this.templateData),jj),l&&g.classList.add(l),g.style.display=this.getExpandDisplayProp(this.templateData),g.style.height=this.parent.rowHeight+"px";var m=document.createElement("td");return a?m.classList.add(hC,a):m.classList.add(hC),m.style.width=this.parent.timelineModule.totalTimelineWidth+"px",g.appendChild(m),f.appendChild(g),o.childNodes},e.prototype.initializeChartTemplate=function(){p(this.parent.parentTaskbarTemplate)||(this.parentTaskbarTemplateFunction=this.templateCompiler(this.parent.parentTaskbarTemplate)),!p(this.parent.labelSettings.leftLabel)&&this.isTemplate(this.parent.labelSettings.leftLabel)&&(this.leftTaskLabelTemplateFunction=this.templateCompiler(this.parent.labelSettings.leftLabel)),!p(this.parent.labelSettings.rightLabel)&&this.isTemplate(this.parent.labelSettings.rightLabel)&&(this.rightTaskLabelTemplateFunction=this.templateCompiler(this.parent.labelSettings.rightLabel)),!p(this.parent.labelSettings.taskLabel)&&this.isTemplate(this.parent.labelSettings.taskLabel)&&(this.taskLabelTemplateFunction=this.templateCompiler(this.parent.labelSettings.taskLabel)),p(this.parent.taskbarTemplate)||(this.childTaskbarTemplateFunction=this.templateCompiler(this.parent.taskbarTemplate)),p(this.parent.milestoneTemplate)||(this.milestoneTemplateFunction=this.templateCompiler(this.parent.milestoneTemplate))},e.prototype.createDivElement=function(t){var i=document.createElement("div"),n=this.parseTemplate(t);return n.forEach(function(s){return i.appendChild(s)}),i.childNodes},e.prototype.parseTemplate=function(t){var i=this,n=this.parseHtmlStringToElementTree(t);return n.map(function(s){return i.constructElementFromNode(s)})},e.prototype.parseHtmlStringToElementTree=function(t){for(var i=[],n=[],s,o=0;(s=this.tagRegex.exec(t))!==null;){var a=s[0],l=s[1],h=s[2],u=h===void 0?"":h,c=t.substring(o,s.index).trim();o=this.tagRegex.lastIndex;var d={tagName:l,attributes:u,children:[]};a.startsWith("</")?(n.length>0&&c&&(n[n.length-1].value=c),n.pop()):a.endsWith("/>")||(n.length>0?n[n.length-1].children.push(d):i.push(d),n.push(d))}return i},e.prototype.constructElementFromNode=function(t){var i=this,n=document.createElement(t.tagName);return t.value&&(n.textContent=t.value),this.setAttributes(n,t.attributes),t.children.forEach(function(s){var o=i.constructElementFromNode(s);n.appendChild(o)}),n},e.prototype.setAttributes=function(t,i){var n;function s(l){return l.replace(/style=([^"'\s][^ >]*)/g,'style="$1"')}for(i=s(i);(n=this.attributeRegex.exec(i))!==null;){var o=n[1],a=n[2];o==="class"?t.className=a:o==="style"?t.style.cssText=this.cleanStyleString(a):t.setAttribute(o,a)}},e.prototype.cleanStyleString=function(t){return t.split(";").map(function(i){return i.trim()}).filter(Boolean).join("; ")},e.prototype.isTemplate=function(t){for(var i=!1,n=0;n<this.parent.ganttColumns.length;n++)if(t===this.parent.ganttColumns[n].field){i=!0;break}return typeof t!="string"||t.indexOf("#")===0||t.indexOf("<")>-1||t.indexOf("$")>-1||!i?i=!0:i=!1,i},e.prototype.getTemplateID=function(t){var i=this.parent.element.id;return i+t},e.prototype.leftLabelContainer=function(){var t='<div class="'+(this.leftTaskLabelTemplateFunction?rZ:qn)+' " tabindex="-1" role="term" style="height:'+(this.parent.rowHeight-2)+"px;width:"+this.taskNameWidth(this.templateData)+'"></div>';return this.createDivElement(t)},e.prototype.taskbarContainer=function(){var t=this.templateData,i=!!(this.parent.editModule&&this.parent.editSettings.allowTaskbarEditing&&this.parent.editModule.taskbarEditModule.taskBarEditAction==="ParentResizing"),n='<div class="'+is+" "+this.parent.getUnscheduledTaskClass(t.ganttProperties)+" "+(t.ganttProperties.cssClass?t.ganttProperties.cssClass:"")+'"  tabindex="-1" role="term" style="'+(t.ganttProperties.isMilestone&&!i&&!(t.hasChildRecords&&!t.ganttProperties.isAutoSchedule)?"width:"+this.milestoneHeight+"px;height:"+this.milestoneHeight+"px;margin-top:"+this.milestoneMarginTop+"px;"+(this.parent.enableRtl?"right:":"left:")+(t.ganttProperties.left-this.milestoneHeight/2)+"px;cursor:"+(this.parent.editSettings.allowTaskbarEditing?"move;":"default;"):"width:"+t.ganttProperties.width+"px;margin-top:"+this.taskBarMarginTop+"px;"+(this.parent.enableRtl?"right:":"left:")+(!t.hasChildRecords||t.ganttProperties.isAutoSchedule?t.ganttProperties.left:t.ganttProperties.autoLeft)+"px;height:"+this.taskBarHeight+"px;cursor:"+(this.parent.editSettings.allowTaskbarEditing?"move;":"default;"))+'"></div>';return this.createDivElement(n)},e.prototype.rightLabelContainer=function(){var t='<div class="'+(this.rightTaskLabelTemplateFunction?sZ:Gn)+'"  tabindex="-1" role="term" style="'+(this.parent.enableRtl?"right:":"left:")+this.getRightLabelLeft(this.templateData)+"px; height:"+(this.parent.rowHeight-2)+'px;"></div>';return this.createDivElement(t)},e.prototype.childTaskbarLeftResizer=function(){var t=!p(document.body.className)&&document.body.className.includes("e-bigger")?5:-2,i='<div class="'+H1+" "+Kf+'"style="'+(this.parent.enableRtl?"right:":"left:")+t+"px;height:"+this.taskBarHeight+'px;z-index:1"></div>';return this.createDivElement(i)},e.prototype.childTaskbarRightResizer=function(){var t=!p(document.body.className)&&document.body.className.includes("e-bigger")?-17:-11,i='<div class="'+V1+" "+Kf+'"style="'+(this.parent.enableRtl?"right:":"left:")+(this.templateData.ganttProperties.width+t)+"px;height:"+this.taskBarHeight+'px;z-index:1"></div>';return this.createDivElement(i)},e.prototype.childTaskbarProgressResizer=function(){var t=this.parent.enableRtl?this.templateData.ganttProperties.progressWidth+8:this.templateData.ganttProperties.progressWidth-6,i='<div class="'+Q1+'"style="'+(this.parent.enableRtl?"right:":"left:")+t+"px;margin-top:"+(this.taskBarHeight-4)+'px;"><div class="'+_1+'"><div class="'+Y1+'"></div><div class="'+W1+'"></div></div>';return this.createDivElement(i)},e.prototype.getLeftPointNode=function(){var t=this.templateData,i=!p(document.body.className)&&document.body.className.includes("e-bigger")?12:0,n=!p(document.body.className)&&document.body.className.includes("e-bigger")?6:3,s=-(2+this.connectorPointWidth+i),o=-(this.connectorPointWidth+n),a=Math.floor(this.milesStoneRadius-this.connectorPointWidth/2),l;!this.templateData.ganttProperties.isAutoSchedule&&this.templateData.hasChildRecords&&this.parent.allowParentDependency?l="":l="margin-top:"+this.connectorPointMargin+"px";var h=!0;t.hasChildRecords&&!this.parent.allowParentDependency&&(h=!1);var u='<div class="'+AZ+'" style="'+(t.ganttProperties.isMilestone?"margin-top:"+a+"px;left:"+o+"px;":l+";left:"+s+"px;")+'"><div class="'+(h?wZ:"")+" "+this.parent.getUnscheduledTaskClass(t.ganttProperties)+'" style="width: '+this.connectorPointWidth+"px;"+(this.parent.enableRtl?"margin-right:2px;":"")+"height: "+this.connectorPointWidth+'px;">'+this.touchLeftConnectorpoint+"</div></div>";return this.createDivElement(u)},e.prototype.getRightPointNode=function(){var t=this.templateData,i=!p(document.body.className)&&document.body.className.includes("e-bigger")?-12:0,n=-(3+i),s=Math.floor(this.milesStoneRadius-this.connectorPointWidth/2),o;!this.templateData.ganttProperties.isAutoSchedule&&this.templateData.hasChildRecords&&this.parent.allowParentDependency?o="":o="margin-top:"+this.connectorPointMargin+"px";var a=!0;t.hasChildRecords&&!this.parent.allowParentDependency&&(a=!1);var l='<div class="'+NZ+'" style="'+(t.ganttProperties.isMilestone?"left:"+(!p(document.body.className)&&document.body.className.includes("e-bigger")?this.milestoneHeight+5:this.milestoneHeight-2)+"px;margin-top:"+s+"px;":"left:"+(t.ganttProperties.width+n)+"px;"+o+";")+'"><div class="'+(a?xZ:"")+" "+this.parent.getUnscheduledTaskClass(t.ganttProperties)+'" style="width:'+this.connectorPointWidth+"px;height:"+this.connectorPointWidth+'px;">'+this.touchRightConnectorpoint+"</div></div>";return this.createDivElement(l)},e.prototype.getTaskLabel=function(t){var i=this.parent.ganttColumns.length,n=null;if(!p(t)&&t!=="")if(t===this.parent.taskFields.resourceInfo)n=this.getResourceName(this.templateData);else{for(var s=0;s<i;s++)if(t===this.parent.ganttColumns[s].field){n=this.getFieldValue(this.templateData[t]).toString();break}if(p(n))return"isCustomTemplate"}else n="";return n},e.prototype.getExpandDisplayProp=function(t){return t=this.templateData,!p(t.filterLevel)||this.parent.getExpandStatus(t)?"table-row":"none"},e.prototype.getRowClassName=function(t){t=this.templateData;var i="gridrowtaskId",n=t.parentItem;return n&&(i+=n.taskId.toString()),i+="level",i+=t.level.toString(),i},e.prototype.getBorderRadius=function(t){t=this.templateData;var i=t.ganttProperties.width-t.ganttProperties.progressWidth;return i<=4?4-i:0},e.prototype.getSplitTaskBorderRadius=function(t){var i=t.width-t.progressWidth;return i<=4?4-i:0},e.prototype.taskNameWidth=function(t){t=this.templateData;var i=t.ganttProperties,n;return t.ganttProperties.isMilestone?n=t.ganttProperties.left-this.parent.getTaskbarHeight()/2:t.hasChildRecords&&!i.isAutoSchedule?this.parent.allowUnscheduledTasks?n=i.left<i.autoLeft?i.left:i.autoLeft:n=i.autoStartDate.getTime()<i.startDate.getTime()?i.autoLeft:i.left:n=t.ganttProperties.left,n<0&&(n=0),n+"px"},e.prototype.getRightLabelLeft=function(t){t=this.templateData;var i=t.ganttProperties,n,s,o;return t.ganttProperties.isMilestone?t.ganttProperties.left+this.parent.getTaskbarHeight()/2:t.hasChildRecords&&!i.isAutoSchedule?(this.parent.allowUnscheduledTasks?(n=i.left<i.autoLeft?i.autoLeft:i.left,o=i.autoWidth):(n=i.autoStartDate.getTime()<i.startDate.getTime()?i.autoLeft:i.left,s=i.autoEndDate.getTime()<i.endDate.getTime()?this.parent.dataOperation.getTaskLeft(i.endDate,i.isMilestone,i.calendarContext):this.parent.dataOperation.getTaskLeft(i.autoEndDate,i.isMilestone,i.calendarContext),o=s-n),n+o):t.ganttProperties.left+t.ganttProperties.width},e.prototype.getExpandClass=function(t){return t=this.templateData,t.expanded?cZ:!t.expanded&&t.hasChildRecords?dZ:""},e.prototype.getFieldValue=function(t){return p(t)?"":t},e.prototype.getResourceName=function(t){t=this.templateData;var i=null;if(!p(t.ganttProperties.resourceInfo)){var n=t.ganttProperties.resourceInfo.length;if(n>0){for(var s=0;s<n;s++){var o=t.ganttProperties.resourceInfo[s][this.parent.resourceFields.name],a=t.ganttProperties.resourceInfo[s][this.parent.resourceFields.unit];a!==100&&(o+="["+a+"%]"),p(i)?i=o:i+=" , "+o}return i}else return""}return""},e.prototype.initChartHelperPrivateVariable=function(){var t=this.parent.renderBaseline?.45:!p(document.body.className)&&document.body.className.includes("e-bigger")?.7:.62,i=this.parent.renderBaseline?4:2,n=this.parent.renderBaseline?1.13:.82;if(this.parent.rowHeight=p(this.parent.rowHeight)?36:this.parent.rowHeight,this.baselineColor=!p(this.parent.baselineColor)&&this.parent.baselineColor!==""?this.parent.baselineColor:null,this.taskBarHeight=p(this.parent.taskbarHeight)||this.parent.taskbarHeight>=this.parent.rowHeight?Math.floor(this.parent.rowHeight*t):this.parent.taskbarHeight,this.parent.renderBaseline){var s=void 0;this.taskBarHeight+this.baselineHeight<=this.parent.rowHeight?s=this.taskBarHeight:s=this.taskBarHeight-(this.baselineHeight+1),this.taskBarHeight=s}this.milestoneHeight=Math.floor(this.taskBarHeight*n),this.taskBarMarginTop=Math.floor((this.parent.rowHeight-this.taskBarHeight)/i),this.milestoneMarginTop=Math.floor((this.parent.rowHeight-this.milestoneHeight)/2),this.milesStoneRadius=Math.floor(this.milestoneHeight/2),this.baselineTop=-(Math.floor(this.parent.rowHeight-(this.taskBarHeight+this.taskBarMarginTop))-4),this.connectorPointWidth=this.parent.isAdaptive?Math.round(this.taskBarHeight/2):9,this.connectorPointMargin=Math.floor(this.taskBarHeight/2-this.connectorPointWidth/1.5)},e.prototype.refreshGanttRows=function(){if(this.parent.currentViewData=this.parent.treeGrid.getCurrentViewRecords().slice(),this.createTaskbarTemplate(),this.parent.showOverAllocation){for(var t=0;t<this.parent.currentViewData.length;t++){var i=this.parent.currentViewData[t];i.childRecords.length>0&&(this.parent.setRecordValue("workTimelineRanges",this.parent.dataOperation.mergeRangeCollections(i.ganttProperties.workTimelineRanges,!0),i.ganttProperties,!0),this.parent.dataOperation.calculateRangeLeftWidth(i.ganttProperties.workTimelineRanges,i.ganttProperties.calendarContext))}this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData)}this.parent.ganttChartModule.updateLastRowBottomWidth()},e.prototype.createTaskbarTemplate=function(){var t=this,i,n=[].slice.call(this.ganttChartTableBody.querySelectorAll("tr"));this.ganttChartTableBody.innerHTML="";var s=[],o=this.parent.treeGridModule.prevCurrentView;if(this.refreshedTr=[],this.refreshedData=[],this.parent.enableImmutableMode&&o&&o.length>0&&this.isUpdated){for(var a={},l=[],h=this.parent.treeGrid.getPrimaryKeyFieldNames()[0],u=0;u<o.length;u++)l[u]=n[u],a[o[u][h]]=u;for(var c=0;c<this.parent.currentViewData.length;c++){var d=a[this.parent.currentViewData[c][h]],f=this.parent.modifiedRecords.indexOf(this.parent.currentViewData[c]);if(p(d)||f!==-1||this.parent.isFromRenderBaseline){var g=this.getGanttChartRow(c,this.parent.currentViewData[c]);this.ganttChartTableBody.appendChild(g),this.refreshedTr.push(this.ganttChartTableBody.querySelectorAll("tr")[c]),this.refreshedData.push(this.parent.currentViewData[c])}else this.ganttChartTableBody.appendChild(l[d]);this.ganttChartTableBody.querySelectorAll("tr")[c].setAttribute("aria-rowindex",(c+1).toString())}}else{for(var m=this.parent.treeGrid.grid.contentModule.getRows(),y=Be("tbody",{id:this.parent.element.id+"GanttTaskTableBody"}),u=0;u<this.parent.currentViewData.length;u++){var v=this.parent.currentViewData[u];!v.expanded&&this.parent.enableMultiTaskbar&&s.push(v);var g=this.getGanttChartRow(u,v,m);v.hasChildRecords&&!v.expanded&&this.parent.enableMultiTaskbar&&!this.parent.allowTaskbarOverlap&&this.updateDragDropRecords(v,g),y.appendChild(g),this.parent.enableImmutableMode&&(this.refreshedTr.push(y.querySelectorAll("tr")[u]),this.refreshedData.push(this.parent.currentViewData[u])),this.parent.selectionModule&&this.parent.allowSelection&&this.parent.selectionModule.maintainSelectedRecords(parseInt(g.getAttribute("aria-rowindex"),10)-1)}(i=this.ganttChartTableBody).replaceChildren.apply(i,y.childNodes),this.ganttChartTableBody.childNodes.forEach(function(b){b instanceof Element&&(b.addEventListener("touchmove",t.handleTouchMove),b.addEventListener("touchend",t.handleTouchEnd))}),this.parent.initialChartRowElements=this.parent.ganttChartModule.getChartRows()}if(this.parent.enableCriticalPath&&this.parent.criticalPathModule){var M=this.parent.criticalPathModule;M.criticalPathCollection&&this.parent.criticalPathModule.criticalConnectorLine(M.criticalPathCollection,M.detailPredecessorCollection,!0,M.predecessorCollectionTaskIds)}if(this.parent.renderTemplates(),this.triggerQueryTaskbarInfo(),this.parent.modifiedRecords=[],this.parent.showOverAllocation&&this.updateOverlapped(),s.length)for(var S=0;S<s.length;S++)s[S].hasChildRecords&&(this.parent.isGanttChartRendered=!0,this.parent.chartRowsModule.refreshRecords([s[S]]));this.parent.isGanttChartRendered=!0,this.parent.renderTemplates()},e.prototype.getGanttChartRow=function(t,i,n){this.templateData=i;var s=this.getTableTrNode(t,i,n),o=this.getLeftLabelNode(t),a=this.taskbarContainer();a[0].setAttribute("aria-label",this.generateAriaLabel(this.templateData)),a[0].setAttribute("rowUniqueId",this.templateData.ganttProperties.rowUniqueID);var l,h;if(l=this.getLeftPointNode(),(this.templateData.ganttProperties.isAutoSchedule&&this.parent.viewType==="ProjectView"||!this.templateData.hasChildRecords)&&a[0].appendChild([].slice.call(l)[0]),this.templateData.hasChildRecords){var u=void 0;if(!this.parent.enableMultiTaskbar||this.parent.enableMultiTaskbar&&this.templateData.expanded)u=this.getParentTaskbarNode(t,a);else{a=[];for(var c=0;c<this.templateData.childRecords.length;c++){this.templateData=this.templateData.childRecords[c];var d=this.taskbarContainer();d[0].setAttribute("aria-label",this.generateAriaLabel(this.templateData)),d[0].setAttribute("rowUniqueId",this.templateData.ganttProperties.rowUniqueID),this.parent.allowParentDependency?(l=this.getLeftPointNode(),(this.templateData.ganttProperties.isAutoSchedule||!this.templateData.hasChildRecords)&&d[0].appendChild([].slice.call(l)[0])):(l=this.getLeftPointNode(),d[0].appendChild([].slice.call(l)[0])),this.appendChildTaskbars(i,t,d,h,a)}}if(!this.templateData.ganttProperties.isAutoSchedule){var f=this.getManualTaskbar();if(!p(f[0])){if(this.parent.allowParentDependency){l=this.getLeftPointNode(),f[0].appendChild([].slice.call(l)[0]);var g=this.getRightPointNode();f[0].appendChild([].slice.call(g)[0])}a[0].appendChild([].slice.call(f)[0])}}if(this.templateData.ganttProperties.autoDuration!==0&&!this.templateData.ganttProperties.isMilestone&&u&&u.length>0)Ct(u,a[0]);else if(this.templateData.ganttProperties.duration===0&&this.templateData.ganttProperties.isMilestone&&this.templateData.ganttProperties.isAutoSchedule){var m=this.getMilestoneNode(t,a);m&&m.length>0&&Ct(m,a[0])}this.parent.renderBaseline&&this.templateData.ganttProperties.baselineStartDate&&this.templateData.ganttProperties.baselineEndDate&&(this.taskBaselineTemplateNode=this.templateData.ganttProperties.baselineStartDate.getTime()===this.templateData.ganttProperties.baselineEndDate.getTime()||!p(this.templateData.ganttProperties.baselineStartDate)&&!p(this.templateData.ganttProperties.startDate)&&this.templateData.ganttProperties.baselineStartDate.getTime()===this.templateData.ganttProperties.startDate.getTime()&&!p(this.templateData.ganttProperties.baselineEndDate)&&!p(this.templateData.ganttProperties.endDate)&&this.templateData.ganttProperties.baselineEndDate.getTime()===this.templateData.ganttProperties.endDate.getTime()&&this.templateData.ganttProperties.isMilestone?this.getMilestoneBaselineNode():this.getTaskBaselineNode()),(!this.parent.enableMultiTaskbar||this.parent.enableMultiTaskbar&&this.templateData.expanded)&&(this.parent.allowParentDependency&&(this.templateData.ganttProperties.isAutoSchedule&&this.parent.viewType==="ProjectView"||!this.templateData.hasChildRecords)?(h=this.getRightPointNode(),a[0].appendChild([].slice.call(h)[0])):this.parent.allowParentDependency||(h=this.getRightPointNode(),a[0].appendChild([].slice.call(h)[0])))}else this.appendChildTaskbars(i,t,a,h);var y=this.getRightLabelNode(t);if(this.parent.enableMultiTaskbar&&this.templateData.hasChildRecords&&!this.templateData.expanded){var v=Be("div",{className:"e-collapse-parent"});s[0].childNodes[0].childNodes[0].appendChild(v);for(var c=0;c<a.length;c++)Z([a[c]],"collpse-parent-border"),s[0].childNodes[0].childNodes[0].childNodes[0].appendChild([].slice.call(a)[c]);s[0].childNodes[0].childNodes[0].appendChild([].slice.call(o)[0]),y&&y.length>0&&s[0].childNodes[0].childNodes[0].appendChild([].slice.call(y)[0]),this.templateData.ganttProperties.indicators&&this.templateData.ganttProperties.indicators.length>0&&this.appendIndicators(t,s)}else s[0].childNodes[0].childNodes[0].appendChild([].slice.call(o)[0]),s[0].childNodes[0].childNodes[0].appendChild([].slice.call(a)[0]),this.templateData.ganttProperties.indicators&&this.templateData.ganttProperties.indicators.length>0&&this.appendIndicators(t,s),y&&y.length>0&&s[0].childNodes[0].childNodes[0].appendChild([].slice.call(y)[0]);p(this.taskBaselineTemplateNode)||s[0].childNodes[0].childNodes[0].appendChild([].slice.call(this.taskBaselineTemplateNode)[0]),this.taskBaselineTemplateNode=null;var M=s[0].childNodes[0];return this.setAriaRowIndex(i,M),M},e.prototype.setAriaRowIndex=function(t,i){var n=this,s=this.parent.treeGrid.getCurrentViewRecords(),o=this.parent.virtualScrollModule&&this.parent.enableVirtualization?H("virtualScrollModule.visualData",this.parent.treeGrid):s,a;if(this.parent.loadChildOnDemand&&this.parent.taskFields.hasChildMapping){var l=this.parent.treeGrid.grid.contentModule.rows,h=l.filter(function(u){if(u.data[n.parent.taskFields.id]===t.ganttProperties.taskId)return u})[0];i.setAttribute("data-rowindex",h.index.toString()),i.setAttribute("aria-rowindex",(h.index+1).toString())}else a=o.indexOf(t),i.setAttribute("aria-rowindex",(a+1).toString())},e.prototype.triggerQueryTaskbarInfo=function(){if(this.parent.queryTaskbarInfo)for(var t=this.parent.enableImmutableMode?this.refreshedTr.length:this.ganttChartTableBody.querySelectorAll("tr").length,i,n,s=0;s<t;s++){i=this.parent.enableImmutableMode?this.refreshedTr[s]:this.ganttChartTableBody.querySelectorAll("tr")[s],n=this.refreshedData.length>0?this.refreshedData[s]:this.parent.currentViewData[s];var o=!p(n.ganttProperties.segments)&&n.ganttProperties.segments.length;if(o>0)for(var a=0;a<o;a++){var l=i.getElementsByClassName("e-segmented-taskbar"),h=l[a];this.triggerQueryTaskbarInfoByIndex(h,n)}else i&&this.triggerQueryTaskbarInfoByIndex(i,n)}},e.prototype.appendIndicators=function(t,i){for(var n,s,o,a=this.templateData.ganttProperties.indicators,l=0;l<a.length;l++){if(n=this.getIndicatorNode(a[l]),n[0].setAttribute("aria-label",a[l].name),a[l].name.indexOf("$")>-1||a[l].name.indexOf("#")>-1)s=this.templateCompiler(a[l].name),o=s(ie({index:t},this.templateData),this.parent,"indicatorLabelText");else{var h=Be("Text");h.innerHTML=a[l].name,this.parent.enableHtmlSanitizer&&typeof a[l].name=="string"&&(a[l].name=St.sanitize(a[l].name)),o=h.childNodes}n[0].appendChild([].slice.call(o)[0]),n[0].title=p(a[l].tooltip)?"":a[l].tooltip,i[0].childNodes[0].childNodes[0].appendChild([].slice.call(n)[0])}},e.prototype.appendChildTaskbars=function(t,i,n,s,o){if(this.templateData.ganttProperties.isMilestone){var a=this.getMilestoneNode(i,n);a&&a.length>0&&Ct(a,n[0]),this.parent.renderBaseline&&this.templateData.ganttProperties.baselineStartDate&&this.templateData.ganttProperties.baselineEndDate&&(this.taskBaselineTemplateNode=this.templateData.ganttProperties.baselineStartDate.getTime()===this.templateData.ganttProperties.baselineEndDate.getTime()||!p(this.templateData.ganttProperties.baselineStartDate)&&!p(this.templateData.ganttProperties.startDate)&&this.templateData.ganttProperties.baselineStartDate.getTime()===this.templateData.ganttProperties.startDate.getTime()&&!p(this.templateData.ganttProperties.baselineEndDate)&&!p(this.templateData.ganttProperties.endDate)&&this.templateData.ganttProperties.baselineEndDate.getTime()===this.templateData.ganttProperties.endDate.getTime()&&this.templateData.ganttProperties.isMilestone?this.getMilestoneBaselineNode():this.getTaskBaselineNode()),o&&(o.push(n[0]),this.templateData=t)}else{var l=al(this.templateData.ganttProperties),h=null,u=null,c=null;if(!p(l)){(l||this.templateData.ganttProperties.duration)&&l&&(p(this.templateData.ganttProperties.segments)||this.templateData.ganttProperties.segments.length<=0)&&(h=this.childTaskbarProgressResizer(),c=this.childTaskbarLeftResizer(),u=this.childTaskbarRightResizer());var d=this.getChildTaskbarNode(i,n);if(c&&n[0].appendChild([].slice.call(c)[0]),d&&d.length>0)if(this.templateData.ganttProperties.segments&&this.templateData.ganttProperties.segments.length>0){var f=this.templateData.ganttProperties.segments.length,g='<div class="e-gantt-split-container-line"></div>',m=null;m=this.createDivElement(g),n[0].appendChild([].slice.call(m)[0]);for(var y=0;y<f;y++)Ct(d,n[0])}else Ct(d,n[0]);h&&n[0].appendChild([].slice.call(h)[0]),u&&n[0].appendChild([].slice.call(u)[0])}this.parent.renderBaseline&&this.templateData.ganttProperties.baselineStartDate&&this.templateData.ganttProperties.baselineEndDate&&(this.taskBaselineTemplateNode=this.templateData.ganttProperties.baselineStartDate.getTime()===this.templateData.ganttProperties.baselineEndDate.getTime()||!p(this.templateData.ganttProperties.baselineStartDate)&&!p(this.templateData.ganttProperties.startDate)&&this.templateData.ganttProperties.baselineStartDate.getTime()===this.templateData.ganttProperties.startDate.getTime()&&!p(this.templateData.ganttProperties.baselineEndDate)&&!p(this.templateData.ganttProperties.endDate)&&this.templateData.ganttProperties.baselineEndDate.getTime()===this.templateData.ganttProperties.endDate.getTime()&&this.templateData.ganttProperties.isMilestone?this.getMilestoneBaselineNode():this.getTaskBaselineNode())}this.parent.allowParentDependency&&(this.templateData.ganttProperties.isAutoSchedule&&this.parent.viewType==="ProjectView"||!this.templateData.hasChildRecords)?(s=this.getRightPointNode(),n[0].appendChild([].slice.call(s)[0])):this.parent.allowParentDependency||(s=this.getRightPointNode(),n[0].appendChild([].slice.call(s)[0])),o&&(o.push(n[0]),this.templateData=t)},e.prototype.customizeTaskbars=function(t,i,n){var s=this,o,a;t.ganttProperties.segments&&t.ganttProperties.segments.length>0&&i&&i.parentElement&&i.parentElement.parentElement&&i.parentElement.parentElement.parentElement&&(a=i.parentElement.parentElement.parentElement);var l,h={data:t,rowElement:i,taskbarElement:n,taskbarType:t.hasChildRecords?"ParentTask":t.ganttProperties.isMilestone?"Milestone":"ChildTask"},u=this.getClassName(h);if(h.taskbarType==="Milestone")h.milestoneColor=n.querySelector(u[0])?getComputedStyle(n.querySelector(u[0])).backgroundColor:null,h.baselineColor=i.querySelector(u[1])?getComputedStyle(i.querySelector(u[1])).backgroundColor:i.querySelector("."+Cn)?getComputedStyle(i.querySelector("."+Cn)).backgroundColor:null;else if(n){var c=n.querySelector(u[0]),d=n.querySelector(u[1]);h.taskbarBgColor=p(c)?null:n.classList.contains(Vs)?getComputedStyle(n).backgroundColor:getComputedStyle(n.querySelector(u[0])).backgroundColor,h.taskbarBorderColor=p(c)?null:n.classList.contains(Vs)?getComputedStyle(n).backgroundColor:getComputedStyle(n.querySelector(u[0])).outlineColor,h.progressBarBgColor=p(d)?null:n.classList.contains(Kc)?getComputedStyle(n).backgroundColor:getComputedStyle(n.querySelector(u[1])).backgroundColor,a?h.baselineColor=a.querySelector("."+Cn)?getComputedStyle(a.querySelector("."+Cn)).backgroundColor:null:h.baselineColor=i.querySelector("."+Cn)?getComputedStyle(i.querySelector("."+Cn)).backgroundColor:null,h.taskLabelColor=n.querySelector("."+Hs)?getComputedStyle(n.querySelector("."+Hs)).color:null}a?(h.rightLabelColor=a.querySelector("."+Gn)&&a.querySelector("."+Gn).querySelector("."+Pi)?getComputedStyle(a.querySelector("."+Gn).querySelector("."+Pi)).color:null,h.leftLabelColor=a.querySelector("."+qn)&&a.querySelector("."+qn).querySelector("."+Pi)?getComputedStyle(a.querySelector("."+qn).querySelector("."+Pi)).color:null):(h.rightLabelColor=i.querySelector("."+Gn)&&i.querySelector("."+Gn).querySelector("."+Pi)?getComputedStyle(i.querySelector("."+Gn).querySelector("."+Pi)).color:null,h.leftLabelColor=i.querySelector("."+qn)&&i.querySelector("."+qn).querySelector("."+Pi)?getComputedStyle(i.querySelector("."+qn).querySelector("."+Pi)).color:null),this.parent.trigger("queryTaskbarInfo",h,function(f){s.updateQueryTaskbarInfoArgs(f,o,l)})},e.prototype.triggerQueryTaskbarInfoByIndex=function(t,i){if(!p(t)){var n,s=i;if(!p(i.ganttProperties.segments)&&i.ganttProperties.segments.length>0)n=t,t&&this.customizeTaskbars(i,t,n);else if(this.parent.enableMultiTaskbar)for(var o=t.querySelectorAll("."+is),a=0;a<o.length;a++){n=o[a],s=!i.expanded&&i.hasChildRecords?i.childRecords[a]:s;var l=this.parent.viewType==="ResourceView"?n.getAttribute("rowUniqueId"):s.ganttProperties.taskId.toString();if(s.ganttProperties.segments&&s.ganttProperties.segments.length>0&&s.parentItem&&!i.expanded&&(l=this.parent.viewType==="ResourceView"?i.ganttProperties.rowUniqueID:i.ganttProperties.taskId.toString()),t=this.parent.getRowByID(l),t=t||n.querySelector(".e-gantt-child-taskbar"),p(t)&&s.ganttProperties.isMilestone&&(t=n),t){var h=t.querySelectorAll(".e-segmented-taskbar");if(h&&h.length>0)for(var u=t.querySelector('.e-taskbar-main-container[rowuniqueid="'+s.ganttProperties.rowUniqueID+'"]')||t,c=u.querySelectorAll(".e-segmented-taskbar"),d=0;d<c.length;d++)n=c[d],this.customizeTaskbars(s,c[d],n);else this.customizeTaskbars(s,t,n)}}else{var f=t.querySelector("."+is);t&&this.customizeTaskbars(s,t,f)}}},e.prototype.updateQueryTaskbarInfoArgs=function(t,i,n){var s=t.rowElement,o=this.parent.enableVirtualization?t.rowElement:t.taskbarElement,a=this.getClassName(t),l;t.data.ganttProperties.segments&&t.data.ganttProperties.segments.length>0&&(l=s.parentElement.parentElement.parentElement),t.taskbarType==="Milestone"?(o.querySelector(a[0])&&getComputedStyle(o.querySelector(a[0])).backgroundColor!==t.milestoneColor&&(o.querySelector(a[0]).style.backgroundColor=t.milestoneColor),s.querySelector(a[1])&&getComputedStyle(s.querySelector(a[1])).backgroundColor!==t.baselineColor&&(s.querySelector(a[1]).style.backgroundColor=t.baselineColor),s.querySelector("."+Cn)&&getComputedStyle(s.querySelector("."+Cn)).borderTopColor!==t.baselineColor&&(s.querySelector("."+Cn).style.backgroundColor=t.baselineColor)):o&&(o.querySelector(a[0])&&getComputedStyle(o.querySelector(a[0])).backgroundColor!==t.taskbarBgColor&&(t.taskbarType==="ChildTask"?o.querySelector(a[0]).style.background=t.taskbarBgColor:o.querySelector(a[0]).style.backgroundColor=t.taskbarBgColor),o.querySelector(a[0])&&getComputedStyle(o.querySelector(a[0])).outlineColor!==t.taskbarBorderColor&&(o.querySelector(a[0]).style.outlineColor=t.taskbarBorderColor),o.querySelector(a[1])&&getComputedStyle(o.querySelector(a[1])).backgroundColor!==t.progressBarBgColor&&(o.querySelector(a[1]).style.backgroundColor=t.progressBarBgColor),o.classList.contains(Vs)&&getComputedStyle(o).backgroundColor!==t.taskbarBgColor&&(t.taskbarType==="ChildTask"?o.style.background=t.taskbarBgColor:o.style.backgroundColor=t.taskbarBgColor),o.classList.contains(Vs)&&getComputedStyle(o).outlineColor!==t.taskbarBorderColor&&(o.style.outlineColor=t.taskbarBorderColor),o.classList.contains(Kc)&&getComputedStyle(o).backgroundColor!==t.progressBarBgColor&&(o.style.backgroundColor=t.progressBarBgColor),o.querySelector("."+Hs)&&getComputedStyle(o.querySelector("."+Hs)).color!==t.taskLabelColor&&(o.querySelector("."+Hs).style.color=t.taskLabelColor),l?l.querySelector("."+Cn)&&getComputedStyle(l.querySelector("."+Cn)).backgroundColor!==t.baselineColor&&(l.querySelector("."+Cn).style.backgroundColor=t.baselineColor):s.querySelector("."+Cn)&&getComputedStyle(s.querySelector("."+Cn)).backgroundColor!==t.baselineColor&&(s.querySelector("."+Cn).style.backgroundColor=t.baselineColor)),l?(l.querySelector("."+qn)&&l.querySelector("."+qn).querySelector("."+Pi)&&getComputedStyle(l.querySelector("."+qn).querySelector("."+Pi)).color!==t.leftLabelColor&&(l.querySelector("."+qn).querySelector("."+Pi).style.color=t.leftLabelColor),l.querySelector("."+Gn)&&l.querySelector("."+Gn).querySelector("."+Pi)&&getComputedStyle(l.querySelector("."+Gn).querySelector("."+Pi)).color!==t.rightLabelColor&&(l.querySelector("."+Gn).querySelector("."+Pi).style.color=t.rightLabelColor)):(s.querySelector("."+qn)&&s.querySelector("."+qn).querySelector("."+Pi)&&getComputedStyle(s.querySelector("."+qn).querySelector("."+Pi)).color!==t.leftLabelColor&&(s.querySelector("."+qn).querySelector("."+Pi).style.color=t.leftLabelColor),s.querySelector("."+Gn)&&s.querySelector("."+Gn).querySelector("."+Pi)&&getComputedStyle(s.querySelector("."+Gn).querySelector("."+Pi)).color!==t.rightLabelColor&&(s.querySelector("."+Gn).querySelector("."+Pi).style.color=t.rightLabelColor))},e.prototype.getClassName=function(t){var i=[];return i.push("."+(t.taskbarType==="ParentTask"?G1:t.taskbarType==="ChildTask"?Vs:q1)),i.push("."+(t.taskbarType==="ParentTask"?$1:t.taskbarType==="ChildTask"?Kc:U1)),i},e.prototype.templateCompiler=function(t){if(!p(t)&&t!=="")try{return typeof t!="function"&&document.querySelectorAll(t).length?Xt(document.querySelector(t).innerHTML.trim(),this.parent):Xt(t,this.parent)}catch{return Xt(t,this.parent)}return null},e.prototype.updateOverlapped=function(){for(var t=0;t<this.parent.treeGrid.parentData.length;t++)for(var i=this.parent.treeGrid.parentData[t].childRecords,n=0;n<i.length;n++){i[n+1]&&(i[n].ganttProperties.eOverlapped=void 0);for(var s=n+1;s<i.length;s++)i[s].ganttProperties.eOverlapped=void 0,i[n].ganttProperties.startDate.getTime()<i[s].ganttProperties.endDate.getTime()&&i[n].ganttProperties.endDate.getTime()>i[s].ganttProperties.startDate.getTime()?(i[s].ganttProperties.eOverlapped=!0,i[n].ganttProperties.eOverlapped=!0):(p(i[s].ganttProperties.eOverlapped)&&(i[s].ganttProperties.eOverlapped=!1),p(i[n].ganttProperties.eOverlapped)&&(i[n].ganttProperties.eOverlapped=!1))}},e.prototype.updateDragDropRecords=function(t,i){var n=t.childRecords,s=this.parent.currentViewData.indexOf(t),o=this.parent.enableRtl?this.parent.element.getElementsByClassName("e-content")[2].children[0].offsetHeight:this.parent.element.getElementsByClassName("e-content")[0].children[0].offsetHeight;i||(i=this.ganttChartTableBody.childNodes[s]),this.parent.ganttChartModule.isExpandAll||this.parent.ganttChartModule.isCollapseAll?i.style.height=this.parent.treeGrid.getRowByIndex(s).style.height=this.parent.rowHeight+"px":i.style.height=this.parent.treeGrid.getRows()[s].style.height=this.parent.rowHeight+"px",this.parent.contentHeight=o;var a=[],l=0;if(t){for(var h=0;h<n.length;h++)for(var u=h+1;u<n.length;u++)for(var c=i.getElementsByClassName("e-taskbar-main-container"),d=0;d<c.length;d++){var f=this.parent.viewType==="ResourceView"?n[u].rowUniqueID:n[u].ganttProperties.rowUniqueID;if(n[h].ganttProperties.startDate.getTime()<n[u].ganttProperties.endDate.getTime()&&n[h].ganttProperties.endDate.getTime()>n[u].ganttProperties.startDate.getTime()){if(c[d].getAttribute("rowuniqueid")===f&&a.indexOf(f)===-1){a.push(f),l++,i.children[0].style.verticalAlign="baseline",i.getElementsByClassName("e-taskbar-main-container")[d].style.marginTop=l*this.parent.rowHeight+this.taskBarMarginTop+"px";var g=typeof this.parent.rowHeight=="string"?parseInt(this.parent.rowHeight,10):this.parent.rowHeight,m=parseInt(i.style.height,10),y=m+g;this.parent.ganttChartModule.isExpandAll||this.parent.ganttChartModule.isCollapseAll?i.style.height=this.parent.treeGrid.getRowByIndex(s).style.height=y+"px":i.style.height=this.parent.treeGrid.getRows()[s].style.height=y+"px"}}else c[d].getAttribute("rowuniqueid")===f&&a.indexOf(f)===-1&&this.parent.rowDragAndDropModule&&this.parent.rowDragAndDropModule.draggedRecord&&c[d].getAttribute("rowuniqueid")===this.parent.rowDragAndDropModule.draggedRecord.rowUniqueID&&this.parent.rowDragAndDropModule.draggedRecord.rowUniqueID===n[u].rowUniqueID&&(i.getElementsByClassName("e-taskbar-main-container")[d].style.marginTop=this.parent.editModule.taskbarEditModule.draggedRecordMarginTop)}this.parent.contentHeight=this.parent.enableRtl?this.parent.element.getElementsByClassName("e-content")[2].children[0].offsetHeight:this.parent.element.getElementsByClassName("e-content")[0].children[0].offsetHeight,document.getElementsByClassName("e-chart-rows-container")[0].style.height=this.parent.contentHeight+"px"}},e.prototype.setRowHeight=function(t,i,n,s,o){var a=s?n.getRowByIndex(t):n.getRows()[t];a&&(a.style.height=i+"px"),o&&(o.style.height=i+"px")},e.prototype.refreshRow=function(t,i,n){var s=this,o=this.ganttChartTableBody.childNodes[t],a;if(n?a=this.parent.previousFlatData[t]:a=this.parent.currentViewData[t],t!==-1&&a){var l=a;if(!this.parent.allowTaskbarOverlap&&l.expanded){var h=this.parent.ganttChartModule.isExpandAll||this.parent.ganttChartModule.isCollapseAll;if(this.setRowHeight(t,this.parent.rowHeight,this.parent.treeGrid,h,o),this.parent.freezeModule&&l.hasChildRecords)for(var u=this.parent.viewType==="ResourceView"?"rowUniqueID":"taskId",c=0,d=l.childRecords;c<d.length;c++){var f=d[c],g=n?this.parent.ids.indexOf(f.ganttProperties[u].toString()):this.parent.currentViewData.indexOf(f);this.setRowHeight(g,this.parent.rowHeight,this.parent.treeGrid,h)}}if(l.hasChildRecords&&!l.expanded&&this.parent.enableMultiTaskbar)o.replaceChild(this.getGanttChartRow(t,l).childNodes[0],o.childNodes[0]),this.parent.renderBaseline&&l.childRecords.forEach(function(D){p(D.ganttProperties.baselineStartDate&&D.ganttProperties.baselineEndDate)||o.childNodes[0].appendChild(s.updateTaskBaselineNode(D)[0])});else if(this.parent.allowTaskbarDragAndDrop&&!l.expanded)o.replaceWith(this.getGanttChartRow(t,l));else if(o.replaceChild(this.getGanttChartRow(t,l).childNodes[0],o.childNodes[0]),this.parent.enableMultiTaskbar&&l.parentItem){var m=l.parentItem.taskId,y=this.parent.getRecordByID(m);if(!y.expanded){var v=this.parent.getRowByID(m);v.replaceChild(this.getGanttChartRow(Number(m),y).childNodes[0],v.childNodes[0])}}if(this.parent.renderTemplates(),this.parent.showOverAllocation&&this.parent.allowTaskbarOverlap&&(l.hasChildRecords||l.parentItem&&this.parent.editedRecords.every(function(D){return D.ganttProperties.taskId.toString()!==l.parentItem.taskId.toString()})))if(i)this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);else{var M=l.hasChildRecords?l:this.parent.getRecordByID(l.parentItem.taskId);this.parent.dataOperation.updateOverlappingValues(M),this.parent.ganttChartModule.renderRangeContainer([M])}var S=!p(l.ganttProperties.segments)&&l.ganttProperties.segments.length;if(S>0)for(var b=0;b<S;b++){var C=o.getElementsByClassName("e-segmented-taskbar"),T=C[b];this.triggerQueryTaskbarInfoByIndex(T,l)}else if(this.triggerQueryTaskbarInfoByIndex(o,l),this.parent.enableMultiTaskbar&&l.parentItem&&this.parent.queryTaskbarInfo&&!this.parent.getParentTask(l.parentItem).expanded){var k=l.parentItem.index,N=void 0;n?N=this.parent.previousFlatData[k]:N=this.parent.currentViewData[k],this.triggerQueryTaskbarInfoByIndex(this.ganttChartTableBody.querySelectorAll("tr")[k],N)}var A=this.parent.viewType==="ProjectView"?l.ganttProperties.taskId:l.ganttProperties.rowUniqueID;!this.parent.ganttChartModule.isExpandAll&&!this.parent.ganttChartModule.isCollapseAll&&!this.isGridRowRefreshed&&this.parent.treeGrid.grid.setRowData(A,l),l.hasChildRecords&&!l.expanded&&this.parent.enableMultiTaskbar&&!this.parent.allowTaskbarOverlap&&this.updateDragDropRecords(a,o),l.hasChildRecords&&this.parent.showOverAllocation&&!this.parent.allowTaskbarOverlap&&(this.parent.dataOperation.updateOverlappingValues(l),this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData));var E=this.parent.ganttChartModule.tempNextElement;this.parent.ganttChartModule.isEditableElement&&E&&(this.parent.treeGrid.grid.focusModule.focus(),Z([this.parent.treeGrid.getRows()[parseInt(o.getAttribute("aria-rowindex"),10)-1].children[this.parent.ganttChartModule.childrenIndex]],"e-focused"),this.parent.ganttChartModule.tempNextElement=null);var x=this.parent.treeGrid.grid.getRowObjectFromUID(this.parent.treeGrid.grid.getDataRows()[t].getAttribute("data-uid"));p(x)||(x.data=l)}},e.prototype.updateResourceTaskbarElement=function(t,i){var n=t.querySelector(".e-taskbar-main-container");this.parent.viewType==="ProjectView"&&t.querySelector(".e-collapse-parent")&&(n=t.querySelector(".e-collapse-parent")),t.querySelector(".e-collapse-parent")===null&&Z([n],"collpse-parent-border");var s=t.querySelector("."+is).getAttribute("rowUniqueId"),o=this.parent.getRecordByID(s);if(!p(o)&&o.ganttProperties.segments&&o.ganttProperties.segments.length>0)for(var a=n.getElementsByClassName("e-segmented-taskbar"),l=0;l<a.length;l++)this.triggerQueryTaskbarInfoByIndex(a[l],o);else if(this.parent.queryTaskbarInfo){var h=n.querySelector(".e-gantt-child-taskbar");p(h)||this.triggerQueryTaskbarInfoByIndex(h,o)}var u="";o&&!p(o.ganttProperties.eOverlapIndex)&&(u=o.ganttProperties.eOverlapIndex.toString());var c=n.cloneNode(!0);c.style.zIndex=u,i[0].childNodes[0].childNodes[0].childNodes[0].appendChild(c)},e.prototype.refreshRecords=function(t,i,n){if(this.parent.isGanttChartRendered){if(this.parent.renderTemplates(),this.parent.enableMultiTaskbar){var s=[];s=new fe(t).executeLocal(new He().sortBy("expanded","Descending")),t=s}!this.parent.ganttChartModule.isExpandAll&&!this.parent.ganttChartModule.isCollapseAll&&this.parent.treeGrid.grid.element.querySelectorAll(".e-templatecell").length>0&&this.parent.isReact&&(this.isGridRowRefreshed=!0,this.parent.treeGrid.grid.refresh());for(var o=0;o<t.length;o++){var a=void 0;n?a=this.parent.ids.indexOf(t[o].ganttProperties.taskId.toString()):a=this.parent.currentViewData.indexOf(t[o]),(!this.parent.enableMultiTaskbar||this.parent.enableMultiTaskbar&&(t[o].expanded||!this.parent.isLoad))&&this.refreshRow(a,i,n)}this.isGridRowRefreshed=!1,this.parent.ganttChartModule.updateLastRowBottomWidth()}},e.prototype.removeEventListener=function(){var t=this;this.parent.isDestroyed||(this.ganttChartTableBody.childNodes.forEach(function(i){i instanceof Element&&(i.removeEventListener("touchmove",t.handleTouchMove),i.removeEventListener("touchend",t.handleTouchEnd))}),this.parent.off("renderPanels",this.createChartTable),this.parent.off("dataReady",this.initiateTemplates),this.parent.off("destroy",this.destroy))},e.prototype.destroy=function(){this.removeEventListener()},e.prototype.generateAriaLabel=function(t){t=this.templateData;var i="",n=this.parent.localeObj.getConstant("name"),s=this.parent.localeObj.getConstant("startDate"),o=this.parent.localeObj.getConstant("endDate"),a=this.parent.localeObj.getConstant("duration"),l=t.ganttProperties.taskName,h=t.ganttProperties.startDate,u=t.ganttProperties.endDate,c=t.ganttProperties.duration;return t.ganttProperties.isMilestone?i=n+" "+l+" "+s+" "+this.parent.getFormatedDate(h):(l&&(i+=n+" "+l+" "),h&&(i+=s+" "+this.parent.getFormatedDate(h)+" "),u&&(i+=o+" "+this.parent.getFormatedDate(u)+" "),c&&(i+=a+" "+this.parent.getDurationString(c,t.ganttProperties.durationUnit))),i},e.prototype.generateBaselineAriaLabel=function(t){t=this.templateData;var i="",n=this.parent.localeObj.getConstant("name"),s=this.parent.localeObj.getConstant("startDate"),o=this.parent.localeObj.getConstant("endDate"),a=t.ganttProperties.taskName,l=t.ganttProperties.baselineStartDate,h=t.ganttProperties.baselineEndDate;return i+="Baseline ",i+=n+" "+a+" ",i+=s+" "+this.parent.getFormatedDate(l)+" ",i+=o+" "+this.parent.getFormatedDate(h)+" ",i},e.prototype.generateSpiltTaskAriaLabel=function(t,i){var n="",s=this.parent.localeObj.getConstant("startDate"),o=this.parent.localeObj.getConstant("endDate"),a=this.parent.localeObj.getConstant("duration"),l=t.startDate,h=t.endDate,u=t.duration;return l&&(n+=s+" "+this.parent.getFormatedDate(l)+" "),h&&(n+=o+" "+this.parent.getFormatedDate(h)+" "),u&&(n+=a+" "+this.parent.getDurationString(u,i.durationUnit)),n},e.prototype.generateTaskLabelAriaLabel=function(t){var i="";return t==="left"&&this.parent.labelSettings.leftLabel&&!this.leftTaskLabelTemplateFunction?i+=this.parent.localeObj.getConstant("leftTaskLabel")+" "+this.getTaskLabel(this.parent.labelSettings.leftLabel):t==="right"&&this.parent.labelSettings.rightLabel&&!this.rightTaskLabelTemplateFunction&&(i+=this.parent.localeObj.getConstant("rightTaskLabel")+" "+this.getTaskLabel(this.parent.labelSettings.rightLabel)),i},e}(tD),VC=function(){return VC=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},VC.apply(this,arguments)},are=function(){function r(e){this.parentRecord=[],this.parentIds=[],this.parentPredecessors=[],this.validatedParentIds=[],this.storeId=null,this.isChildRecordValidated=[],this.validatedOffsetIds=[],this.parent=e,this.dateValidateModule=this.parent.dateValidationModule}return r.prototype.ensurePredecessorCollection=function(){var e=this.parent.predecessorsCollection,t=this.parent.flatData,i=new Map;if(t!=null)for(var n=0,s=t;n<s.length;n++){var o=s[n];i.set(o.ganttProperties.rowUniqueID.toString(),o)}for(var a=0,l=e;a<l.length;a++){var h=l[a];(!h.hasChildRecords&&!this.parent.allowParentDependency||this.parent.allowParentDependency)&&this.ensurePredecessorCollectionHelper(h,h.ganttProperties,i)}},r.prototype.ensurePredecessorCollectionHelper=function(e,t,i){i===void 0&&(i=null);var n=t.predecessorsName;if(n&&(typeof n=="string"||typeof n=="number"))this.parent.setRecordValue("predecessor",this.calculatePredecessor(n,e,i),t,!0);else if(n&&typeof n=="object"&&n.length){for(var s=[],o=0;o<n.length;o++){var a=n[o],l={};l.from=H("from",a)?H("from",a):n[o],l.to=H("to",a)?H("to",a):t.rowUniqueID,l.type=H("type",a)?H("type",a):"FS";var h=H("offset",a);if(p(h))l.offset=0,p(this.parent.durationUnit)||(l.offsetUnit=this.parent.durationUnit.toLocaleLowerCase());else if(typeof h=="string"){var u=this.getOffsetDurationUnit(H("offset",a));l.offset=u.duration,l.offsetUnit=u.durationUnit}else l.offset=parseFloat(h.toString()),p(this.parent.durationUnit)||(l.offsetUnit=this.parent.durationUnit.toLocaleLowerCase());var c=this.checkIsParent(l.from.toString());c||s.push(l)}this.parent.setRecordValue("predecessor",s,t,!0)}this.parent.setRecordValue("predecessorsName",this.getPredecessorStringValue(e),t,!0),this.parent.setRecordValue("taskData."+this.parent.taskFields.dependency,t.predecessorsName,e),this.parent.setRecordValue(this.parent.taskFields.dependency,t.predecessorsName,e)},r.prototype.updateUnscheduledDependency=function(e){for(var t=this.parent.taskFields,i=p(e[t.dependency])?[]:e[t.dependency].toString().split(","),n=0;n<i.length;n++){var s=parseInt(i[n],10);if(!isNaN(s)){var o=this.parent.connectorLineModule.getRecordByID(s.toString()),a=p(o)?null:ie({},{},o.taskData,!0);if(!p(a)&&p(a[t.startDate])&&p(a[t.duration])&&p(a[t.endDate])){a[t.duration]=1;var l=void 0,h=o.parentItem;if(h){for(var u=this.parent.getParentTask(o.parentItem);u&&!u.ganttProperties.startDate;)u=this.parent.getParentTask(u.parentItem);l=u?u.ganttProperties.startDate:this.parent.cloneProjectStartDate}else l=this.parent.cloneProjectStartDate;a[t.startDate]=l,this.parent.updateRecordByID(a)}}}},r.prototype.checkIsParent=function(e){var t=!1,i=this.parent.connectorLineModule.getRecordByID(e);return i.hasChildRecords&&(t=!0),t},r.prototype.getRootParent=function(e){var t=e;return e.parentItem&&(t=this.parent.flatData.filter(function(i){return i.uniqueID===e.parentUniqueID})[0],t.parentItem&&(t=this.getRootParent(t))),t},r.prototype.validateParentPredecessor=function(e,t){if(e&&t){if(t.hasChildRecords&&!e.hasChildRecords){if(e.parentUniqueID===t.uniqueID)return!1;do if(e.parentItem&&(e=this.parent.flatData[this.parent.ids.indexOf(e.parentItem.taskId)],e.uniqueID===t.uniqueID))return!1;while(e.parentItem)}else if(!t.hasChildRecords&&e.hasChildRecords){if(t.parentUniqueID===e.uniqueID)return!1;do if(t.parentItem&&(t=this.parent.flatData[this.parent.ids.indexOf(t.parentItem.taskId)],t.uniqueID===e.uniqueID))return!1;while(t.parentItem)}else if(t.hasChildRecords&&e.hasChildRecords){if(t.parentItem&&e.parentItem){if(e.parentUniqueID===t.uniqueID||e.uniqueID===t.parentUniqueID)return!1}else if(!t.parentItem&&e.parentItem){var i=this.getRootParent(e);if(i.uniqueID===t.uniqueID)return!1}else if(t.parentItem&&!e.parentItem){var n=this.getRootParent(t);if(n.uniqueID===e.uniqueID)return!1}}}return!0},r.prototype.calculatePredecessor=function(e,t,i){i===void 0&&(i=null);for(var n=e.toString(),s=[],o=[],a=this.parent.viewType==="ResourceView",l=this.parent.viewType==="ProjectView",h=this.parent.allowParentDependency,u=a?this.parent.getTaskIds():this.parent.ids,c=a?t.ganttProperties.taskId.toString():t.ganttProperties.rowUniqueID.toString(),d=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/,f=/[A-Za-z]/,g=new Set(["FS","FF","SF","SS"]),m=n.replace(/\s+/g,"").split(","),y=0,v=m;y<v.length;y++){var M=v[y],S=this.processPredecessorElement(M,u,a,d,f,g);if(S){var b=S.match,C=S.predecessorText,T=S.offsetValue,k=S.values,N=k.length>1?T+k[1]:"0",A=this.getOffsetDurationUnit(N),E={from:b[0],type:C,isDrawn:!1,to:c,offsetUnit:A.durationUnit,offset:A.duration};h?this.handleParentDependency(E,s,o,i,l):this.checkIsParent(b[0])||s.push(E)}}return this.handleUndoRedoParentRecords(o),this.removeDuplicatePredecessors(s)},r.prototype.processPredecessorElement=function(e,t,i,n,s,o){var a=[],l="+",h="FS",u=this.processElementFormat(e,n,t,i,o);u.isGuid;var c=u.processedValues,d=u.processedOffset;a=c,l=d;var f=this.extractAndValidateMatch(a[0],t,i);return f?(h=this.determinePredecessorType(e,f,s,o),{match:f,predecessorText:h,offsetValue:l,values:a}):null},r.prototype.processElementFormat=function(e,t,i,n,s){var o=e.split("-"),a=[],l="+",h=!1;if(o.length>=5){var u=e.substring(0,36);if(t.test(u)){h=!0;var c=o[4]+(o[5]?"-"+o[5]:"");if(c.includes("+")){var d=c.split("+");a=[e.slice(0,-(d[1].length+1)).trim(),d[1].trim()],l="+"}else if(c.includes("-")){var d=c.split("-");d.length>1?(a=[e.slice(0,-(d[1].length+1)).trim(),d[1].trim()],l="-"):a=[e]}else a=[e];return{isGuid:h,processedValues:a,processedOffset:l}}}var f=e.includes("+")?"+":e.includes("-")?"-":null;if(f!==null){var g=e.lastIndexOf(f),m=e.substring(0,g),y=e.substring(g+1),v=m.slice(-2).toUpperCase(),M=m;s.has(v)||(M=m+"FS");var S=M.slice(0,-2).trim(),b=n?"T"+S:S;i.indexOf(b)===-1||y===""?(a=[e],l="+"):(a=[M,y],l=f)}else{var v=e.slice(-2).toUpperCase();if(s.has(v)){var S=e.slice(0,-2),b=n?"T"+S:S;i.indexOf(b)===-1?a=[e]:a=[e]}else a=[e]}return{isGuid:h,processedValues:a,processedOffset:l}},r.prototype.extractAndValidateMatch=function(e,t,i){var n=i?"T"+e:e;if(t.indexOf(n)!==-1)return[e];if(t.indexOf(e)!==-1)return[e];var s=e.split(" ");s.length===1&&(e.indexOf(" ")!==-1?s=e.match(/(\d+|[A-z]+)/g)||[]:e.length>2&&(s=[e.slice(0,-2),e.slice(-2)]));var o=i?"T"+s[0]:s[0];return t.indexOf(o)!==-1?s:null},r.prototype.determinePredecessorType=function(e,t,i,n){if(t.length>1){var s=t[1].toUpperCase();if(n.has(s))return s;var o="The provided dependency type, "+s+", is invalid. Please ensure that the Dependency Type is FS or FF or SS or SF";return this.parent.trigger("actionFailure",{error:o}),"FS"}if(e.indexOf("-")!==-1&&i.test(e)){var s=e.slice(-2).toUpperCase();return n.has(s)?s:"FS"}return"FS"},r.prototype.handleParentDependency=function(e,t,i,n,s){var o=null,a=null;if(s&&n&&n.size>0?(o=n.get(e.from),a=n.get(e.to)):(o=this.parent.connectorLineModule.getRecordByID(e.from),a=this.parent.connectorLineModule.getRecordByID(e.to)),a&&o){var l=this.validateParentPredecessor(o,a);l&&(t.push(e),o.hasChildRecords&&i.indexOf(o)===-1&&this.parent.editModule&&this.parent.editModule.cellEditModule&&this.parent.editModule.cellEditModule.isCellEdit&&i.push(ie([],[],[o],!0)[0]))}else t.push(e)},r.prototype.handleUndoRedoParentRecords=function(e){if(e.length>0&&this.parent.undoRedoModule&&this.parent.editModule&&this.parent.editModule.cellEditModule&&this.parent.editModule.cellEditModule.isCellEdit){var t=this.parent.undoRedoModule.getUndoCollection,i=t[t.length-1];i&&(i.connectedRecords=e)}},r.prototype.removeDuplicatePredecessors=function(e){for(var t=new Map,i=0,n=e;i<n.length;i++){var s=n[i],o=s.from+"-"+s.to;t.set(o,s)}return Array.from(t.values())},r.prototype.generatePredecessorValue=function(e,t){if(e.offset!==0){t+=e.offset>0?"+"+e.offset+" ":e.offset+" ";var i=e.offset!==1;e.offsetUnit==="day"?t+=i?this.parent.localeObj.getConstant("days"):this.parent.localeObj.getConstant("day"):e.offsetUnit==="hour"?t+=i?this.parent.localeObj.getConstant("hours"):this.parent.localeObj.getConstant("hour"):t+=i?this.parent.localeObj.getConstant("minutes"):this.parent.localeObj.getConstant("minute")}return t},r.prototype.getPredecessorStringValue=function(e){var t=e.ganttProperties.predecessor,i="",n,s=[];if(t)for(var o=t.length,a=0;a<o;a++){var l=t[a],h="",u=this.parent.viewType==="ResourceView"?e.ganttProperties.taskId:e.ganttProperties.rowUniqueID;if(l.from!==u.toString()){if(h=l.from+l.type,typeof e.ganttProperties.taskId=="string"?(s[0]=h.slice(0,-2),s[1]=h.slice(-2),n=s[0]+" "+s[1]):n=h,h=n,l.offset!==0){h+=l.offset>0?"+"+l.offset+" ":l.offset+" ";var c=l.offset!==1;l.offsetUnit==="day"?h+=c?this.parent.localeObj.getConstant("days"):this.parent.localeObj.getConstant("day"):l.offsetUnit==="hour"?h+=c?this.parent.localeObj.getConstant("hours"):this.parent.localeObj.getConstant("hour"):h+=c?this.parent.localeObj.getConstant("minutes"):this.parent.localeObj.getConstant("minute")}i.length>0?i=i+","+h:i=h}}return i},r.prototype.getOffsetDurationUnit=function(e){var t=0,i;p(this.parent.durationUnit)||(i=this.parent.durationUnit.toLocaleLowerCase());var n=this.parent.durationUnitEditText;if(typeof e=="string"){for(var s=e.match(/[^0-9]+|[0-9]+/g),o=0;o<s.length;o++)s[o]=s[o].trim();s[0]==="-"&&s[1]?(s[1]=s[0]+s[1],s.shift()):s[0]==="+"&&s.shift(),s[1]==="."&&!isNaN(parseInt(s[2],10))&&(s[0]+=s[1]+s[2],s.splice(1,2)),s&&s.length<=2&&(t=parseFloat(s[0]),i=s[1]?s[1].toLowerCase().trim():"",H("minute",n).indexOf(i)!==-1?i="minute":H("hour",n).indexOf(i)!==-1?i="hour":H("day",n).indexOf(i)!==-1?i="day":p(this.parent.durationUnit)||(i=this.parent.durationUnit.toLocaleLowerCase()))}else t=e,p(this.parent.durationUnit)||(i=this.parent.durationUnit.toLocaleLowerCase());if(isNaN(t)){var a="The provided value for the offset field is invalid.Please ensure the offset field contains only valid numeric values";this.parent.trigger("actionFailure",{error:a}),t=0,p(this.parent.durationUnit)||(i=this.parent.durationUnit.toLocaleLowerCase())}return{duration:t,durationUnit:i}},r.prototype.updatePredecessors=function(e){e===void 0&&(e=null);for(var t=this.parent.predecessorsCollection,i,n=t.length,s=0;s<n;s++)i=t[s],(!i.hasChildRecords&&!this.parent.allowParentDependency||this.parent.allowParentDependency)&&(this.updatePredecessorHelper(i,t,e),!i.ganttProperties.isAutoSchedule&&this.parent.editSettings.allowEditing&&(this.validatedOffsetIds=[],this.calculateOffset(i)))},r.prototype.updatePredecessorHelper=function(e,t,i){i===void 0&&(i=null);var n=e.ganttProperties.predecessor,s,o=n.length;t=p(t)?[]:t;for(var a=0;a<o;a++){var l=n[a];this.parent.viewType==="ProjectView"&&!p(i)?s=i.get(l.from):s=this.parent.connectorLineModule.getRecordByID(l.from);var h=this.parent.viewType==="ResourceView"?e.ganttProperties.taskId:e.ganttProperties.rowUniqueID;if(l.from!==h.toString()&&s){var u=void 0;s.ganttProperties.predecessor?(u=ie([],s.ganttProperties.predecessor,[],!0),u.push(l),this.parent.setRecordValue("predecessor",u,s.ganttProperties,!0)):(u=[],u.push(l),this.parent.setRecordValue("predecessor",u,s.ganttProperties,!0),t.push(s))}}},r.prototype.traverseParents=function(e,t){this.parent.dataOperation.updateParentItems(e,t)},r.prototype.updatedRecordsDateByPredecessor=function(e){var t=this;if(e===void 0&&(e=null),!(!this.parent.autoCalculateDateScheduling||this.parent.isLoad&&this.parent.treeGrid.loadChildOnDemand&&this.parent.taskFields.hasChildMapping)){var i=this.parent.flatData,n=i.length;if(n!==0){if(p(e)){e=new Map;for(var s=0,o=i;s<o.length;s++){var a=o[s];e.set(a.ganttProperties.rowUniqueID.toString(),a)}}for(var l=new Set,h=this.parent.viewType==="ProjectView",u=this.parent.allowParentDependency,c=new Set,d=0;d<n;d++){var f=i[d],g=f.ganttProperties;if(g.predecessorsName){var m=f.ganttProperties.taskId.toString();c.has(m)||this.validatePredecessorDates(f,e),f.hasChildRecords&&g.startDate&&u&&this.updateChildItems(f);var y=g.predecessor;if(y&&y.length>1)for(var v=f.ganttProperties.taskId.toString(),M=0,S=y;M<S.length;M++){var b=S[M],C=h?e.get(b.to):this.parent.connectorLineModule.getRecordByID(b.to);C&&C.ganttProperties.taskId.toString()!==v&&(this.validatePredecessorDates(C,e),c.add(C.ganttProperties.taskId.toString()))}if(f.parentItem||f.hasChildRecords){var T=f.parentItem?f.parentItem.taskId:f.ganttProperties.taskId;l.add(T)}}}this.parent.isLoad||l.forEach(function(k){if(l.has(k)){var N=h?e.get(k):t.parent.getRecordByID(k);N&&t.traverseParents(N,!0)}}),this.parent.dataOperation.processedParentItems.clear()}}},r.prototype.updateParentPredecessor=function(e){if(e===void 0&&(e=null),this.parent.enablePredecessorValidation)for(var t=this.parentPredecessors.length,i=t-1;i>=0;i--){var n=this.parentPredecessors[i];this.validatePredecessorDates(n,e),n.ganttProperties.startDate&&this.updateChildItems(n)}},r.prototype.validatePredecessorDates=function(e,t){t===void 0&&(t=null);var i=e.ganttProperties.predecessor;if(!(!i||i.length===0)){var n=this.parent.viewType==="ResourceView",s=this.parent.viewType==="ProjectView",o=this.parent.allowParentDependency,a=this.parent.allowTaskbarDragAndDrop,l=this.parent.validateManualTasksOnLinking,h=this.parent.isLoad,u=s&&!p(t),c=n?e.ganttProperties.taskId.toString():e.ganttProperties.rowUniqueID.toString(),d=i.filter(function(T){return T.to===c});if(d.length!==0){var f=d[0],g,m,y=null,v=null;u?(g=t.get(f.from),m=t.get(f.to)):(g=this.parent.connectorLineModule.getRecordByID(f.from),m=this.parent.connectorLineModule.getRecordByID(f.to));var M=this.parent.taskFields;if(this.parent.autoCalculateDateScheduling&&this.parent.isLoad){if(m&&m[M.startDate]){var S=m[M.startDate];this.parent.dataOperation.resolveAndApplyWorkingTimes(S),y=new Date(S.getTime())}if(m&&m[M.endDate]){var b=m[M.endDate];this.parent.dataOperation.resolveAndApplyWorkingTimes(null,b),v=new Date(b.getTime())}}if(o&&g&&g.hasChildRecords&&this.parent.dataOperation.updateParentItems(g),s&&a){if(p(m)){var C=this.parent.editModule.taskbarEditModule.previousIds.indexOf(f.to);C!==-1&&(m=this.parent.editModule.taskbarEditModule.previousFlatData[C])}else if(p(g)){var C=this.parent.editModule.taskbarEditModule.previousIds.indexOf(f.from);C!==-1&&(g=this.parent.editModule.taskbarEditModule.previousFlatData[C])}}o&&h&&this.parentPredecessors.indexOf(e)===-1&&(e.hasChildRecords||m&&m.hasChildRecords)&&this.parentPredecessors.push(e),m&&(m.ganttProperties.isAutoSchedule||l)&&this.validateChildGanttRecord(g,m,t,d),this.parent.autoCalculateDateScheduling&&this.parent.isLoad&&p(m[M.constraintDate])&&(m[M.startDate]&&y&&y.getTime()!==m[M.startDate].getTime()||m[M.endDate]&&v&&v.getTime()!==m[M.endDate].getTime())&&this.parent.dataOperation.validatedGanttData.set(m.ganttProperties.taskId,m)}}},r.prototype.getConstraintDate=function(e,t,i,n){var s=null;switch(e){case ki.AsSoonAsPossible:case ki.AsLateAsPossible:return null;case ki.MustStartOn:case ki.StartNoEarlierThan:if(!n)return t;s=t;break;case ki.MustFinishOn:case ki.FinishNoEarlierThan:case ki.StartNoLaterThan:case ki.FinishNoLaterThan:if(!n)return i;s=i;break;default:return null}return s&&(typeof n=="string"&&(n=new Date(n)),n instanceof Date&&n.setHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds())),n},r.prototype.validateChildGanttRecord=function(e,t,i,n){if(i===void 0&&(i=null),this.parent.editedPredecessorRecords.indexOf(t)===-1&&!(e&&p(al(e.ganttProperties)))&&!(t&&p(al(t.ganttProperties)))){var s=this.parent.isInPredecessorValidation,o=this.parent.validateManualTasksOnLinking,a=t.ganttProperties;if(!(!s||!(a.isAutoSchedule||o))){var l=this.parent.viewType==="ResourceView",h=this.parent.taskFields,u=h.constraintDate&&h.constraintType,c=this.parent.isLoad,d=this.parent.isFromOnPropertyChange,f=this.parent.updateOffsetOnTaskbarEdit,g=l?a.taskId.toString():a.rowUniqueID.toString(),m;if(!p(n))m=n;else{var y=a.predecessor;m=y.filter(function(N){return N.to===g})}m.length===0&&this.parent.undoRedoModule&&this.parent.undoRedoModule.isUndoRedoPerformed&&e.ganttProperties.predecessor.length>0&&(m=e.ganttProperties.predecessor.filter(function(N){return N.to===t.ganttProperties.taskId.toString()}));var v=this.getPredecessorDate(t,m,i);this.parent.setRecordValue("startDate",v,a,!0),this.parent.dataOperation.updateMappingData(t,"startDate"),u&&f&&this.calculateOffset(t);var M=a.segments;if((p(M)||M.length===0)&&this.dateValidateModule.calculateEndDate(t),this.parent.dataOperation.updateWidthLeft(t),!c&&!d&&t.parentItem&&s&&this.parent.getParentTask(t.parentItem).ganttProperties.isAutoSchedule){var S=t.parentItem.uniqueID;this.parentIds.indexOf(S)===-1&&(this.parentIds.push(S),this.parentRecord.push(t.parentItem))}if(u){var b=a.constraintType,C=a.startDate,T=a.endDate,k=this.getConstraintDate(b,C,T,a.constraintDate);this.parent.setRecordValue("constraintDate",k,a,!0),this.parent.autoCalculateDateScheduling&&this.parent.isLoad&&a.constraintDate&&C.getTime()!==a.constraintDate.getTime()&&this.parent.dataOperation.validatedGanttData.set(t.ganttProperties.taskId,t),this.parent.dataOperation.updateMappingData(t,"constraintDate")}}}},r.prototype.filterPredecessorsByTarget=function(e,t,i){if(!e||!Array.isArray(e)||!t||!t.ganttProperties||!i)return[];var n=i==="ResourceView"?t.ganttProperties.taskId:t.ganttProperties.rowUniqueID;return e.filter(function(s){return s.to===n.toString()})},r.prototype.getPredecessorDate=function(e,t,i){i===void 0&&(i=null);var n=this.filterPredecessorsByTarget(t,e,this.parent.viewType);if(!n||n.length===0)return null;for(var s=this.parent.viewType==="ProjectView",o=s&&!p(i),a=this.parent.allowTaskbarDragAndDrop,l=!p(this.parent.taskFields.constraintDate)&&!p(this.parent.taskFields.constraintType),h=this.parent.editModule,u=!l&&h&&h.cellEditModule&&!h.cellEditModule.isCellEdit&&!h.dialogModule.isFromEditDialog&&!this.parent.updateOffsetOnTaskbarEdit&&!this.parent.isLoad,c=null,d=n.length,f=0;f<d;f++){var g=n[f],m=void 0,y=void 0;if(o?(m=i.get(g.from),y=i.get(g.to)):(m=this.parent.connectorLineModule.getRecordByID(g.from),y=this.parent.connectorLineModule.getRecordByID(g.to)),s&&a&&!(p(y)&&p(m))&&(p(y)&&(y=this.getRecord(m,y,g)),p(m)&&(m=this.getRecord(m,y,g))),u){var v=this.getOffsetForPredecessor(g,this.parent.connectorLineModule.getRecordByID(g.from),y);if(g.offset!==v&&v>=0)return y.ganttProperties.startDate}if(y&&m){var M=this.getValidatedStartDate(y.ganttProperties,m.ganttProperties,g);(c===null||this.dateValidateModule.compareDates(M,c)===1)&&(c=M)}}return l&&(c=this.dateValidateModule.getDateByConstraint(e.ganttProperties,c,d>0)),c},r.prototype.getValidatedStartDate=function(e,t,i){var n=i.type,s=i.offset,o,a,l=e.calendarContext;switch(n){case"FS":o=this.dateValidateModule.getValidEndDate(t),(!e.isMilestone||s!==0)&&(o=this.dateValidateModule.checkStartDate(o,e)),s!==0&&(o=this.updateDateByOffset(o,i,e)),e.isMilestone?a=o:a=this.dateValidateModule.checkStartDate(o,e);break;case"FF":case"SF":if(o=n==="FF"?this.dateValidateModule.getValidEndDate(t):this.dateValidateModule.getValidStartDate(t),s!==0&&(o=this.updateDateByOffset(o,i,e)),!e.isMilestone){var h=new Date(o);h.setDate(h.getDate()-1),this.parent.allowUnscheduledTasks&&p(e.endDate)&&p(e.duration)?o=this.dateValidateModule.checkStartDate(o,e):o=this.dateValidateModule.checkEndDate(o,e)}if(e.segments&&e.segments.length!==0){var u=this.dateValidateModule.getDuration(e.startDate,e.endDate,e.durationUnit,e.isAutoSchedule,e.isMilestone,void 0,l);a=this.dateValidateModule.getStartDate(o,u,e.durationUnit,e)}else a=this.dateValidateModule.getStartDate(o,e.duration,e.durationUnit,e);break;case"SS":o=this.dateValidateModule.getValidStartDate(t),s!==0&&(o=this.updateDateByOffset(o,i,e)),e.isMilestone?a=o:a=this.dateValidateModule.checkStartDate(o,e);break}return a},r.prototype.updateDateByOffset=function(e,t,i){var n,s=t.offset,o=t.offsetUnit;return s<0&&!p(e)?n=this.dateValidateModule.getStartDate(this.dateValidateModule.checkEndDate(e,i),s*-1,o,i,!0):(p(e)||(n=this.dateValidateModule.getEndDate(e,s,o,i,!1)),i.isMilestone||(n=this.dateValidateModule.checkStartDate(n,i))),n},r.prototype.createConnectorLinesCollection=function(e){var t=e||this.parent.currentViewData,i=this.parent.pdfExportModule,n=i&&i.isPdfExport;if(n){var s=i.helper&&i.helper.exportProps,o=s&&s.fitToWidthSettings;if(s&&o&&o.isFitToWidth){var a=s.exportType,l=i.helper.beforeSinglePageExport;t=a==="CurrentViewData"?l.cloneCurrentViewData:l.cloneFlatData}}var h=t.length,u,c,d;this.parent.pdfExportModule&&this.parent.pdfExportModule.isPdfExport&&this.parent.pdfExportModule.helper.exportProps&&this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings&&this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth&&this.parent.pdfExportModule.isPdfExport?this.parent.connectorLineModule.expandedRecords=this.parent.virtualScrollModule&&this.parent.enableVirtualization?this.parent.pdfExportModule.helper.beforeSinglePageExport.cloneFlatData:this.parent.getExpandedRecords(this.parent.pdfExportModule.helper.beforeSinglePageExport.cloneFlatData):this.parent.connectorLineModule.expandedRecords=this.parent.virtualScrollModule&&this.parent.enableVirtualization?this.parent.updatedRecords:this.parent.expandedRecords;var f=this.parent.flatData,g=n?null:new Map;if(!n&&!p(f))for(var m=0,y=f;m<y.length;m++){var v=y[m];g.set(v.ganttProperties.rowUniqueID.toString(),v)}var M=this.parent.ganttChartModule.getChartRows(),S=!p(M)&&M[0]&&M[0].offsetHeight;for(u=0;u<h;u++){if(this.parent.editModule&&this.parent.editModule.deletedTaskDetails.length>0){var b=t[u].parentItem;if(b){var C=p(g)?this.parent.getRecordByID(b.taskId.toString()):g.get(b.taskId.toString());this.parent.setRecordValue("parentItem",this.parent.dataOperation.getCloneParent(C),t[u])}}this.parent.undoRedoModule&&this.parent.undoRedoModule.canUpdateIndex&&(t[u].index=u,t[u].parentItem&&this.parent.getParentTask(t[u].parentItem)&&(t[u].parentItem.index=this.parent.getParentTask(t[u].parentItem).index)),c=t[u],d=c.ganttProperties.predecessor,d&&this.addPredecessorsCollection(d,g,S)}},r.prototype.addPredecessorsCollection=function(e,t,i){t===void 0&&(t=null),i===void 0&&(i=0);var n,s,o,a,l;if(e)for(n=e.length,s=0;s<n;s++){o=e[s];var h="from",u="to";if(o[h]===o[u])break;this.parent.viewType==="ProjectView"&&!p(t)?(a=t.get(o[h]),l=t.get(o[u])):(a=this.parent.connectorLineModule.getRecordByID(o[h]),l=this.parent.connectorLineModule.getRecordByID(o[u]));var c=!0;(a&&a.hasChildRecords&&!a.expanded||l&&l.hasChildRecords&&!l.expanded)&&!this.parent.allowTaskbarOverlap&&this.parent.viewType==="ProjectView"&&(c=!1),c&&this.parent.connectorLineModule.expandedRecords&&this.parent.connectorLineModule.expandedRecords.indexOf(a)!==-1&&this.parent.connectorLineModule.expandedRecords.indexOf(l)!==-1&&this.updateConnectorLineObject(a,l,o,i)}},r.prototype.updateConnectorLineObject=function(e,t,i,n){n===void 0&&(n=0);var s=this.parent.connectorLineModule.createConnectorLineObject(e,t,i,n);if(s){if(t.isCritical&&e.isCritical&&(s.isCritical=!0),this.parent.connectorLineIds.length>0&&this.parent.connectorLineIds.indexOf(s.connectorLineId)===-1||this.parent.connectorLineIds.length===0)this.parent.updatedConnectorLineCollection.push(s),this.parent.connectorLineIds.push(s.connectorLineId);else if(this.parent.connectorLineIds.indexOf(s.connectorLineId)!==-1){var o=this.parent.connectorLineIds.indexOf(s.connectorLineId);this.parent.updatedConnectorLineCollection[o]=s}i.isDrawn=!0}return s},r.prototype.shouldUpdatePredecessor=function(e,t,i,n,s){if(p(t)||p(t.ganttProperties)||p(t.ganttProperties.taskId)||p(e)||p(e.ganttProperties))return!1;if(!s&&p(i)&&p(n))return!0;var o=e.ganttProperties.predecessor;if(p(o)||!Array.isArray(o))return!1;var a=o.find(function(v){return v.to===t.ganttProperties.taskId.toString()});if(p(a))return!1;var l=a.type,h=e.ganttProperties,u=t.ganttProperties;if(p(h)||p(u))return!1;var c=h.startDate,d=h.endDate,f=u.startDate,g=u.endDate,m=a.offset,y=a.offsetUnit;switch(m!==0&&(m>0?(c&&(c=this.parent.dataOperation.getEndDate(c,Math.abs(m),y,h,!1)),d&&(d=this.parent.dataOperation.getEndDate(d,Math.abs(m),y,h,!1))):(f&&(f=this.parent.dataOperation.getEndDate(f,Math.abs(m),y,h,!1)),g&&(g=this.parent.dataOperation.getEndDate(g,Math.abs(m),y,h,!1)))),l){case"FS":return(f??g)<(d??c);case"SS":return(f??g)<(c??d);case"SF":return(g??f)<(c??d);case"FF":return(g??f)<(d??c);default:return!1}},r.prototype.handleTaskUpdate=function(e,t){var i,n,s=this.parent.previousRecords[e.uniqueID],o;s&&s.ganttProperties&&(o=s.ganttProperties,this.parent.editModule.isDialogEditing?(i=null,n=null,this.parent.editModule.isDialogEditing=!1):(i=o.startDate,n=o.endDate));var a=o&&"predecessor"in o,l=this.shouldUpdatePredecessor(e,t,i,n,a);(this.parent.updateOffsetOnTaskbarEdit||l)&&(this.validateChildGanttRecord(e,t),t.hasChildRecords&&t.ganttProperties.isAutoSchedule&&this.updateChildItems(t))},r.prototype.validateAllChildPredecessorsWithUpdate=function(e){for(var t=[],i=e.childRecords.length-1;i>=0;i--)t.push(e.childRecords[i]);for(;t.length>0;){var n=t.pop(),s=n.ganttProperties;if(this.isChildRecordValidated.indexOf(s.taskId)===-1){if(this.isChildRecordValidated.push(s.taskId),s.predecessor&&s.predecessor.length>0)for(var o=0;o<s.predecessor.length;o++){var a=s.predecessor[o],l=void 0;a.to!==e.ganttProperties.taskId.toString()?l=a.to:l=a.from;var h=this.parent.flatData[this.parent.ids.indexOf(l)];h&&(this.validatePredecessor(h,[],""),h.hasChildRecords&&this.parent.editModule.editedRecord.hasChildRecords&&this.updateChildItems(h),this.isValidatedParentTaskID=h.ganttProperties.taskId)}if(n.hasChildRecords)for(var i=n.childRecords.length-1;i>=0;i--)t.push(n.childRecords[i])}}},r.prototype.validatePredecessor=function(e,t,i){if(this.parent.isInPredecessorValidation&&e.ganttProperties.predecessor){var n=this.parent.editModule.taskbarEditModule,s=void 0;n&&(s=n.taskBarEditRecord);for(var o=e.ganttProperties.predecessor,a=void 0,l=null,h=void 0,u=void 0,c=this.parent.viewType==="ResourceView"?e.ganttProperties.taskId.toString():e.ganttProperties.rowUniqueID.toString(),d=o.filter(function(E){return E.to===c?E:null}),f=o.filter(function(E){return E.from===c?E:null}),g=void 0,m=0;m<d.length;m++){h=d[m],a=this.parent.connectorLineModule.getRecordByID(h.from),l=this.parent.connectorLineModule.getRecordByID(h.to),l.parentItem&&(g=this.parent.getTaskByUniqueID(l.parentItem.uniqueID),this.parent.editModule.updateParentRecords.indexOf(g)===-1&&this.parent.editModule.updateParentRecords.push(g)),a.parentItem&&(g=this.parent.getTaskByUniqueID(a.parentItem.uniqueID),this.parent.editModule.updateParentRecords.indexOf(g)===-1&&this.parent.editModule.updateParentRecords.push(g)),this.parent.viewType==="ProjectView"&&this.parent.allowTaskbarDragAndDrop&&!(p(l)&&p(a))&&(l=p(l)?this.getRecord(a,l,h):l,a=p(a)?this.getRecord(a,l,h):a),this.parent.isInPredecessorValidation&&l.ganttProperties.isAutoSchedule?this.parent.isValidationEnabled=!0:this.parent.isValidationEnabled=!1;var y=this.parent.viewType==="ResourceView"?e.ganttProperties.taskId:e.ganttProperties.rowUniqueID;(y.toString()===h.to||y.toString()===h.from)&&(!i||i==="predecessor")&&(this.handleTaskUpdate(a,l),this.parent.editModule.editedRecord&&this.parent.editModule.editedRecord.hasChildRecords&&!this.parent.editModule.editedRecord.parentItem&&(this.isValidatedParentTaskID=l.ganttProperties.taskId))}for(var m=0;m<f.length;m++){if(u=f[m],a=this.parent.connectorLineModule.getRecordByID(u.from),l=this.parent.connectorLineModule.getRecordByID(u.to),l.parentItem&&(g=this.parent.getTaskByUniqueID(l.parentItem.uniqueID),this.parent.editModule.updateParentRecords.indexOf(g)===-1&&this.parent.editModule.updateParentRecords.push(g)),a.parentItem&&(g=this.parent.getTaskByUniqueID(a.parentItem.uniqueID),this.parent.editModule.updateParentRecords.indexOf(g)===-1&&this.parent.editModule.updateParentRecords.push(g)),this.parent.viewType==="ProjectView"&&this.parent.allowTaskbarDragAndDrop&&!(p(l)&&p(a))&&(l=p(l)?this.getRecord(a,l,u):l,a=p(a)?this.getRecord(a,l,u):a),this.parent.isInPredecessorValidation&&l.ganttProperties.isAutoSchedule?this.parent.isValidationEnabled=!0:this.parent.isValidationEnabled=!1,i!=="predecessor"&&this.parent.isValidationEnabled){if(this.handleTaskUpdate(a,l),this.parent.editModule.editedRecord&&l){var v=a.parentItem?this.getRootParent(a):null;l.hasChildRecords&&(!this.parent.editModule.editedRecord.hasChildRecords||!l.parentItem&&(!v||v&&v.ganttProperties.taskId===this.parent.editModule.editedRecord.ganttProperties.taskId))&&this.isValidatedParentTaskID!==l.ganttProperties.taskId&&(this.updateChildItems(l),this.validateAllChildPredecessorsWithUpdate(l),this.isValidatedParentTaskID=l.ganttProperties.taskId),this.parent.editModule.editedRecord.hasChildRecords&&!this.parent.editModule.editedRecord.parentItem&&(this.isValidatedParentTaskID=l.ganttProperties.taskId)}}else!l.ganttProperties.isAutoSchedule&&this.parent.updateOffsetOnTaskbarEdit&&(this.validatedOffsetIds=[],this.calculateOffset(l));if(a.expanded===!1||l.expanded===!1){l&&this.validatePredecessor(l,void 0,"successor");continue}if(l){if(this.parent.editModule.isFirstCall){var M=this.parent.viewType==="ResourceView"?this.parent.getTaskIds():this.parent.ids;this.storeId=JSON.parse(JSON.stringify(M)),this.parent.editModule.isFirstCall=!1}if(this.storeId){var S=void 0,b=l[this.parent.taskFields.id].toString();if(this.parent.viewType==="ResourceView"){var C="T"+b;S=this.storeId.includes(C)?this.storeId.indexOf(C):-1}else S=this.storeId.indexOf(b);S!==-1&&(this.storeId=this.storeId.slice(0,S).concat(this.storeId.slice(S+1)),this.validatePredecessor(l,void 0,"successor"))}else this.validatePredecessor(l,void 0,"successor")}}l&&!l.hasChildRecords&&l.parentItem&&this.validatedParentIds.indexOf(l.parentItem.taskId)===-1&&this.validatedParentIds.push(l.parentItem.taskId);var T=!0;if(l&&l.hasChildRecords&&this.validatedParentIds.indexOf(l.ganttProperties.taskId.toString())!==-1&&(T=!1),T)if(l&&l.ganttProperties.taskId!==this.isValidatedParentTaskID&&s){if(n.taskBarEditAction!=="ParentDrag"&&n.taskBarEditAction!=="ChildDrag"&&!s.hasChildRecords&&l.hasChildRecords&&(this.updateChildItems(l),this.isValidatedParentTaskID=l.ganttProperties.taskId),l.parentItem){this.parent.dataOperation.updateParentItems(l,!0);var k=this.parent.getParentTask(l.parentItem),S=this.storeId&&this.storeId.indexOf(k[this.parent.taskFields.id].toString())!==-1?this.storeId.indexOf(k[this.parent.taskFields.id].toString()):-1;if(k.ganttProperties.predecessor&&k.ganttProperties.predecessor.length>0&&S!==-1){for(var N=0;N<k.ganttProperties.predecessor.length;N++)if(k.ganttProperties.predecessor[N].to!==k.ganttProperties.taskId.toString()){var A=this.parent.flatData[this.parent.ids.indexOf(k.ganttProperties.predecessor[N].to)];A&&A.parentItem&&this.validateChildGanttRecord(l,A)}}}}else l&&l.hasChildRecords&&this.isValidatedParentTaskID!==l.ganttProperties.taskId&&!s&&(this.updateChildItems(l),this.isValidatedParentTaskID=l.ganttProperties.taskId)}},r.prototype.updateChildItems=function(e){var t=this,i=e.ganttProperties.calendarContext;if(e.childRecords.length>0&&this.validatedChildItems&&this.validatedChildItems.length>0){var n=!0;if(n=!e.childRecords.some(function(y){return t.validatedChildItems.includes(y)}),!n)return}var s=this.parent.previousRecords[e.uniqueID],o;p(s)||p(s)&&!p(s.ganttProperties)?o=new Date(e.ganttProperties.startDate.getTime()):p(s.ganttProperties.startDate)||(o=new Date(s.ganttProperties.startDate.getTime()));var a=e.ganttProperties.startDate,l=[],h,u,c,d,f;if(this.getUpdatableChildRecords(e,l),l.length!==0){!p(o)&&!p(a)&&o.getTime()>a.getTime()?(h=this.parent.dateValidationModule.checkStartDate(a),u=this.parent.dateValidationModule.checkEndDate(o,e.ganttProperties),d=!1):(h=this.parent.dateValidationModule.checkStartDate(o),u=this.parent.dateValidationModule.checkEndDate(a,e.ganttProperties),d=!0),!p(h)&&!p(u)&&h.getTime()>=u.getTime()?f=0:f=this.parent.dateValidationModule.getDuration(h,u,e.ganttProperties.durationUnit,!0,!1,void 0,i);for(var g=0;g<l.length;g++)if(l[g].ganttProperties.isAutoSchedule)if(f>0){var m=al(l[g].ganttProperties)||l[g].ganttProperties.startDate?l[g].ganttProperties.startDate:l[g].ganttProperties.endDate?l[g].ganttProperties.endDate:new Date(o.toString());d?c=this.parent.dateValidationModule.getEndDate(this.parent.dateValidationModule.checkStartDate(m,l[g].ganttProperties,l[g].ganttProperties.isMilestone),f,l[g].ganttProperties.durationUnit,l[g].ganttProperties,!1):c=this.parent.dateValidationModule.getStartDate(this.parent.dateValidationModule.checkEndDate(m,l[g].ganttProperties),f,l[g].ganttProperties.durationUnit,l[g].ganttProperties),this.calculateDateByRoundOffDuration(l[g],c),this.parent.isOnEdit&&this.validatedChildItems.indexOf(l[g])===-1&&this.validatedChildItems.push(l[g])}else p(s)&&(c=o,l[g].ganttProperties.startDate.getTime()<=c.getTime()&&this.calculateDateByRoundOffDuration(l[g],c),this.parent.isOnEdit&&this.validatedChildItems.indexOf(l[g])===-1&&this.validatedChildItems.push(l[g]))}},r.prototype.getUpdatableChildRecords=function(e,t){for(var i=e.childRecords,n=0,s=i;n<s.length;n++){var o=s[n];o.ganttProperties.isAutoSchedule&&(t.push(o),o.hasChildRecords&&this.getUpdatableChildRecords(o,t))}},r.prototype.calculateDateByRoundOffDuration=function(e,t){var i=e,n=i.ganttProperties,s=new Date(t.getTime());if(!p(n.endDate)&&p(n.startDate)){var o=this.parent.dateValidationModule.checkStartDate(s,n,null);this.parent.setRecordValue("endDate",this.parent.dateValidationModule.checkEndDate(o,i.ganttProperties),n,!0)}else this.parent.setRecordValue("startDate",this.parent.dateValidationModule.checkStartDate(s,n,!1),n,!0),p(n.duration)||this.parent.dateValidationModule.calculateEndDate(i);this.parent.dataOperation.updateWidthLeft(e),this.parent.dataOperation.updateTaskData(i)},r.prototype.getRecord=function(e,t,i){var n,s;return p(t)?(n=this.parent.editModule.taskbarEditModule.previousIds.indexOf(i.to),s=this.parent.editModule.taskbarEditModule.previousFlatData[n]):p(e)&&(n=this.parent.editModule.taskbarEditModule.previousIds.indexOf(i.from),s=this.parent.editModule.taskbarEditModule.previousFlatData[n]),s},r.prototype.getValidPredecessor=function(e){var t=this,i=[];if(!p(e)){var n=e.ganttProperties.predecessor;n&&n.length>0&&(i=n.filter(function(s){var o=t.parent.viewType==="ResourceView"?e.ganttProperties.taskId:e.ganttProperties.rowUniqueID;return s.from!==o.toString()}))}return i},r.prototype.compareObjects=function(e,t){var i=Object.keys(e).filter(function(s){return s!=="offset"}),n=Object.keys(t).filter(function(s){return s!=="offset"});return i.length!==n.length?!1:i.every(function(s){return e[s]===t[s]})},r.prototype.getOffsetForPredecessor=function(e,t,i){var n=0;if((t.ganttProperties.startDate||t.ganttProperties.endDate)&&(i.ganttProperties.startDate||i.ganttProperties.endDate)){var s=void 0,o=void 0,a=void 0,l=void 0;switch(e.type){case"FS":s=new Date((t.ganttProperties.endDate||t.ganttProperties.startDate).getTime()),o=new Date((i.ganttProperties.startDate||i.ganttProperties.endDate).getTime());break;case"SS":s=new Date((t.ganttProperties.startDate||t.ganttProperties.endDate).getTime()),o=new Date((i.ganttProperties.startDate||i.ganttProperties.endDate).getTime());break;case"SF":s=new Date((t.ganttProperties.startDate||t.ganttProperties.endDate).getTime()),o=new Date((i.ganttProperties.endDate||i.ganttProperties.startDate).getTime());break;case"FF":s=new Date((t.ganttProperties.endDate||t.ganttProperties.startDate).getTime()),o=new Date((i.ganttProperties.endDate||i.ganttProperties.startDate).getTime());break}if(s.getTime()<o.getTime())s=this.dateValidateModule.checkStartDate(s),o=this.dateValidateModule.checkEndDate(o,null),l=!1;else{var h=new Date(s.getTime());s=this.dateValidateModule.checkStartDate(o),o=this.dateValidateModule.checkEndDate(h,null),l=!0}s.getTime()<o.getTime()&&(a=this.dateValidateModule.getDuration(s,o,e.offsetUnit,!0,!1,void 0,i.ganttProperties.calendarContext),this.parent.durationUnit===e.offsetUnit&&(t.ganttProperties.startDate&&p(t.ganttProperties.endDate)||p(t.ganttProperties.startDate)&&t.ganttProperties.endDate)&&(a-=1),n=l?-a:a)}return n},r.prototype.calculateOffset=function(e,t){var i=this;if(!(!this.parent.autoCalculateDateScheduling||this.parent.isLoad&&this.parent.treeGrid.loadChildOnDemand&&this.parent.taskFields.hasChildMapping)&&e&&al(e.ganttProperties)!==null){var n=ie([],e.ganttProperties.predecessor,[],!0),s=this.parent.predecessorModule.getValidPredecessor(e);if(s.length>0){this.cumulativePredecessorChanges=n;for(var o=function(m){var y=s[parseInt(m.toString(),10)],v=a.parent.connectorLineModule.getRecordByID(y.from);if(a.parent.undoRedoModule&&a.parent.undoRedoModule.isUndoRedoPerformed&&a.parent.viewType==="ProjectView"){var M=v.ganttProperties.predecessor.filter(function(k){return k.from===s[m].from&&k.to===s[m].to});M.length===0&&v.ganttProperties.predecessor.push(s[m])}var S=a.getOffsetForPredecessor(y,v,e),b=z1(y,"from",n,"to");b!==-1&&(n[b].offset=S);var C=ie([],v.ganttProperties.predecessor,[],!0),T=z1(y,"from",C,"to");T!==-1&&(C[T].offset=S),a.parent.setRecordValue("predecessor",C,v.ganttProperties,!0)},a=this,l=0;l<s.length;l++)o(l)}else{var h=e.ganttProperties.predecessor;h&&h.length>0&&h.forEach(function(m){i.validatedOffsetIds.indexOf(m.to)===-1&&(i.parent.viewType==="ResourceView"?(i.validatedOffsetIds.push(m.to),i.calculateOffset(i.parent.getRecordByID(i.parent.taskIds.indexOf("T"+m.to).toString()),!0)):i.calculateOffset(i.parent.getRecordByID(m.to),!0))})}if(t)this.parent.setRecordValue("predecessor",n,e.ganttProperties,!0);else if(s.length===0&&(this.cumulativePredecessorChanges=[]),n&&n.length>0&&this.cumulativePredecessorChanges&&this.cumulativePredecessorChanges.length>0){var u=n.map(function(m){var y=i.cumulativePredecessorChanges.find(function(v){return i.compareObjects(v,m)});return y?VC({},y):null}).filter(function(m){return m!==null});this.parent.setRecordValue("predecessor",u,e.ganttProperties,!0)}var c=this.parent.predecessorModule.getPredecessorStringValue(e);if(this.parent.setRecordValue("taskData."+this.parent.taskFields.dependency,c,e),this.parent.setRecordValue(this.parent.taskFields.dependency,c,e),this.parent.setRecordValue("predecessorsName",c,e.ganttProperties,!0),this.validatedOffsetIds.indexOf(e.ganttProperties.taskId.toString())===-1&&this.validatedOffsetIds.push(e.ganttProperties.taskId.toString()),e.hasChildRecords)for(var l=0;l<e.childRecords.length;l++)this.validatedOffsetIds.indexOf(e.childRecords[l].ganttProperties.taskId.toString())===-1&&e.childRecords[l].ganttProperties.predecessor&&e.childRecords[l].ganttProperties.predecessor.length>0&&this.calculateOffset(e.childRecords[l]);if(e.parentItem)for(var d=e.parentItem;d;){var f=this.parent.getRecordByID(d.taskId),g=f.ganttProperties.taskId.toString();if(this.validatedOffsetIds.indexOf(g)===-1&&f.ganttProperties.predecessor&&f.ganttProperties.predecessor.length>0){this.calculateOffset(f);break}d=f.parentItem}}},r}(),wv=function(){function r(e){this.svgLink="http://www.w3.org/2000/svg",this.rootId=e}return r.prototype.getOptionValue=function(e,t){return e[t]},r.prototype.createSvg=function(e){return p(e.id)&&(e.id=this.rootId+"_svg"),this.svgObj=document.getElementById(e.id),p(document.getElementById(e.id))&&(this.svgObj=document.createElementNS(this.svgLink,"svg")),this.svgObj=this.setElementAttributes(e,this.svgObj),this.setSVGSize(e.width,e.height),this.svgObj},r.prototype.setSVGSize=function(e,t){var i=document.getElementById(this.rootId),n=p(i)?null:i.getBoundingClientRect();p(this.width)||this.width<=0?this.svgObj.setAttribute("width",e?e.toString():n.width.toString()):this.svgObj.setAttribute("width",this.width.toString()),p(this.height)||this.height<=0?this.svgObj.setAttribute("height",t?t.toString():"450"):this.svgObj.setAttribute("height",this.height.toString())},r.prototype.drawPath=function(e){var t=document.getElementById(e.id);return t===null&&(t=document.createElementNS(this.svgLink,"path")),t=this.setElementAttributes(e,t),t},r.prototype.drawLine=function(e){var t=document.getElementById(e.id);return t===null&&(t=document.createElementNS(this.svgLink,"line")),t=this.setElementAttributes(e,t),t},r.prototype.drawRectangle=function(e){var t=document.getElementById(e.id);return t===null&&(t=document.createElementNS(this.svgLink,"rect")),t=this.setElementAttributes(e,t),t},r.prototype.drawCircle=function(e){var t=document.getElementById(e.id);return t===null&&(t=document.createElementNS(this.svgLink,"circle")),t=this.setElementAttributes(e,t),t},r.prototype.drawPolyline=function(e){var t=document.getElementById(e.id);return t===null&&(t=document.createElementNS(this.svgLink,"polyline")),t=this.setElementAttributes(e,t),t},r.prototype.drawEllipse=function(e){var t=document.getElementById(e.id);return t===null&&(t=document.createElementNS(this.svgLink,"ellipse")),t=this.setElementAttributes(e,t),t},r.prototype.drawPolygon=function(e){var t=document.getElementById(e.id);return t===null&&(t=document.createElementNS(this.svgLink,"polygon")),t=this.setElementAttributes(e,t),t},r.prototype.drawImage=function(e){var t=document.createElementNS(this.svgLink,"image");return t.setAttributeNS(null,"height",e.height.toString()),t.setAttributeNS(null,"width",e.width.toString()),t.setAttributeNS("http://www.w3.org/1999/xlink","href",e.href),t.setAttributeNS(null,"x",e.x.toString()),t.setAttributeNS(null,"y",e.y.toString()),t.setAttributeNS(null,"id",e.id),t.setAttributeNS(null,"visibility",e.visibility),p(this.getOptionValue(e,"clip-path"))||t.setAttributeNS(null,"clip-path",this.getOptionValue(e,"clip-path")),p(e.preserveAspectRatio)||t.setAttributeNS(null,"preserveAspectRatio",e.preserveAspectRatio),t},r.prototype.createText=function(e,t){var i=document.createElementNS(this.svgLink,"text");return i=this.setElementAttributes(e,i),p(t)||(i.textContent=t),i},r.prototype.createTSpan=function(e,t){var i=document.createElementNS(this.svgLink,"tspan");return i=this.setElementAttributes(e,i),p(t)||(i.textContent=t),i},r.prototype.createTitle=function(e){var t=document.createElementNS(this.svgLink,"title");return t.textContent=e,t},r.prototype.createDefs=function(){var e=document.createElementNS(this.svgLink,"defs");return e},r.prototype.createClipPath=function(e){var t=document.createElementNS(this.svgLink,"clipPath");return t=this.setElementAttributes(e,t),t},r.prototype.createForeignObject=function(e){var t=document.createElementNS(this.svgLink,"foreignObject");return t=this.setElementAttributes(e,t),t},r.prototype.createGroup=function(e){var t=document.createElementNS(this.svgLink,"g");return t=this.setElementAttributes(e,t),t},r.prototype.createPattern=function(e,t){var i=document.createElementNS(this.svgLink,t);return i=this.setElementAttributes(e,i),i},r.prototype.createRadialGradient=function(e,t,i){var n;if(p(e[0].colorStop))n=e[0].color.toString();else{var s={id:this.rootId+"_"+t+"radialGradient",cx:i.cx+"%",cy:i.cy+"%",r:i.r+"%",fx:i.fx+"%",fy:i.fy+"%"};this.drawGradient("radialGradient",s,e),n="url(#"+this.rootId+"_"+t+"radialGradient)"}return n},r.prototype.createLinearGradient=function(e,t,i){var n;if(p(e[0].colorStop))n=e[0].color.toString();else{var s={id:this.rootId+"_"+t+"linearGradient",x1:i.x1+"%",y1:i.y1+"%",x2:i.x2+"%",y2:i.y2+"%"};this.drawGradient("linearGradient",s,e),n="url(#"+this.rootId+"_"+t+"linearGradient)"}return n},r.prototype.drawGradient=function(e,t,i){var n=this.createDefs(),s=document.createElementNS(this.svgLink,e);s=this.setElementAttributes(t,s);for(var o=0;o<i.length;o++){var a=document.createElementNS(this.svgLink,"stop");a.setAttribute("offset",i[o].colorStop),a.setAttribute("stop-color",i[o].color),a.setAttribute("stop-opacity",i[o].opacity?i[o].opacity:"1"),p(i[o].style)||(a.style.cssText=i[o].style),s.appendChild(a)}return n.appendChild(s),n},r.prototype.drawClipPath=function(e){var t=this.createDefs(),i=this.createClipPath({id:e.id});e.id=e.id+"_Rect";var n=this.drawRectangle(e);return i.appendChild(n),t.appendChild(i),t},r.prototype.drawCircularClipPath=function(e){var t=this.createDefs(),i=this.createClipPath({id:e.id});e.id=e.id+"_Circle";var n=this.drawCircle(e);return i.appendChild(n),t.appendChild(i),t},r.prototype.setElementAttributes=function(e,t){for(var i=Object.keys(e),n=0;n<i.length;n++)i[n]==="style"?t.style.cssText=e[i[n]]:t.setAttribute(i[n],e[i[n]]);return t},r.prototype.createCanvas=function(){return null},r}();function lre(r){var e;switch(r){case"Highcontrast":case"HighContrast":e={tooltipFill:"#ffffff",tooltipBoldLabel:"#000000",tooltipLightLabel:"#000000",tooltipHeaderLine:"#969696",textStyle:{fontFamily:"Segoe UI",color:"#000000",fontWeight:null,size:"12px",headerTextSize:"12px",boldTextSize:"12px"}};break;case"MaterialDark":case"FabricDark":case"BootstrapDark":e={tooltipFill:r==="MaterialDark"?"#F4F4F4":r==="FabricDark"?"#A19F9D":"#F0F0F0",tooltipBoldLabel:r==="MaterialDark"?"rgba(18, 18, 18, 1)":r==="FabricDark"?"#DADADA":"#1A1A1A",tooltipLightLabel:r==="MaterialDark"?"rgba(18, 18, 18, 1)":r==="FabricDark"?"#DADADA":"#1A1A1A",tooltipHeaderLine:"#9A9A9A",textStyle:r==="MaterialDark"?{fontFamily:"Roboto",color:"rgba(18, 18, 18, 1)",fontWeight:null,size:"12px",headerTextSize:"12px",boldTextSize:"12px"}:r==="FabricDark"?{fontFamily:"Segoe UI",color:"#DADADA",fontWeight:null,size:"12px",headerTextSize:"12px",boldTextSize:"12px"}:{fontFamily:"Helvetica",color:"#1A1A1A",fontWeight:null,size:"12px",headerTextSize:"12px",boldTextSize:"12px"}};break;case"Bootstrap4":e={tooltipFill:"#212529",tooltipBoldLabel:"#F9FAFB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"rgba(255, 255, 255, 0.2)",textStyle:{fontFamily:"Helvetica",color:"#F9FAFB",fontWeight:null,size:"12px",headerTextSize:"12px",boldTextSize:"12px"}};break;case"Tailwind3":e={tooltipFill:"#111827",tooltipBoldLabel:"#F9FAFB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#D1D5DB",textStyle:{fontFamily:"Inter",color:"#F9FAFB",fontWeight:"500",size:"12px",headerTextSize:"12px",boldTextSize:"12px"}};break;case"Tailwind3Dark":e={tooltipFill:"#F9FAFB",tooltipBoldLabel:"#1F2937",tooltipLightLabel:"#1F2937",tooltipHeaderLine:"#374151",textStyle:{fontFamily:"Inter",color:"#1F2937",fontWeight:null,size:"12px",headerTextSize:"12px",boldTextSize:"12px"}};break;case"Tailwind":e={tooltipFill:"#111827",tooltipBoldLabel:"#F9FAFB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#6B7280",textStyle:{fontFamily:"Inter",color:"#F9FAFB",fontWeight:null,size:"12px",headerTextSize:"12px",boldTextSize:"12px"}};break;case"TailwindDark":e={tooltipFill:"#E9ECEF",tooltipBoldLabel:"#1F2937",tooltipLightLabel:"#1F2937",tooltipHeaderLine:"#9CA3AF",textStyle:{fontFamily:"Inter",color:"#1F2937",fontWeight:null,size:"12px",headerTextSize:"12px",boldTextSize:"12px"}};break;case"Bootstrap5":e={tooltipFill:"#000000E5",tooltipBoldLabel:"#FFFFFF",tooltipLightLabel:"#FFFFFF",tooltipHeaderLine:"#FFFFFF",textStyle:{fontFamily:"Segoe UI",color:"#FFFFFF",fontWeight:null,size:"12px",headerTextSize:"16px",boldTextSize:"14px"}};break;case"Bootstrap5Dark":e={tooltipFill:"#FFFFFFE5",tooltipBoldLabel:"#212529",tooltipLightLabel:"#212529",tooltipHeaderLine:"#212529",textStyle:{fontFamily:"Helvetica",color:"#212529",fontWeight:null,size:"12px",headerTextSize:"16px",boldTextSize:"14px"}};break;case"Fluent":e={tooltipFill:"#FFFFFF",tooltipBoldLabel:"#323130",tooltipLightLabel:"#323130",tooltipHeaderLine:"#D2D0CE",textStyle:{fontFamily:"Segoe UI",color:"#323130",fontWeight:null,size:"12px",headerTextSize:"12px",boldTextSize:"12px"}};break;case"FluentDark":e={tooltipFill:"#323130",tooltipBoldLabel:"#F3F2F2",tooltipLightLabel:"#F3F2F1",tooltipHeaderLine:"#3B3A39",textStyle:{fontFamily:"Segoe UI",color:"#F3F2F1",fontWeight:null,size:"12px",headerTextSize:"12px",boldTextSize:"12px"}};break;case"Fluent2":e={tooltipFill:"#FFFFFF",tooltipBoldLabel:"#242424",tooltipLightLabel:"#242424",tooltipHeaderLine:"#D2D0CE",textStyle:{fontFamily:"Segoe UI",color:"#242424",fontWeight:null,size:"12px",headerTextSize:"12px",boldTextSize:"12px"}};break;case"Fluent2Dark":e={tooltipFill:"#292929",tooltipBoldLabel:"#FFFFFF",tooltipLightLabel:"#FFFFFF",tooltipHeaderLine:"#3B3A39",textStyle:{fontFamily:"Segoe UI",color:"#FFFFFF",fontWeight:null,size:"12px",headerTextSize:"12px",boldTextSize:"12px"}};break;case"Fluent2HighContrast":e={tooltipFill:"#000000",tooltipBoldLabel:"#FFFFFF",tooltipLightLabel:"#FFFFFF",tooltipHeaderLine:"#3B3A39",textStyle:{fontFamily:"Segoe UI",color:"#FFFFFF",fontWeight:null,size:"12px",headerTextSize:"12px",boldTextSize:"12px"}};break;case"Material3":e={tooltipFill:"#313033",tooltipBoldLabel:"#F4EFF4",tooltipLightLabel:"#F4EFF4",tooltipHeaderLine:"#F4EFF4",textStyle:{fontFamily:"Roboto",color:"#F4EFF4",fontWeight:null,size:"12px",headerTextSize:"12px",boldTextSize:"12px"}};break;case"Material3Dark":e={tooltipFill:"#E6E1E5",tooltipBoldLabel:"#313033",tooltipLightLabel:"#313033",tooltipHeaderLine:"#313033",textStyle:{fontFamily:"Roboto",color:"#313033",fontWeight:null,size:"12px",headerTextSize:"12px",boldTextSize:"12px"}};break;default:e={tooltipFill:r==="Material"?"#000816":r==="Fabric"?"#FFFFFF":"#212529",tooltipBoldLabel:r==="Material"?"rgba(249, 250, 251, 1)":r==="Fabric"?"#333333":"#F9FAFB",tooltipLightLabel:r==="Material"?"rgba(249, 250, 251, 1)":r==="Fabric"?"#333333":"#F9FAFB",tooltipHeaderLine:r==="Fabric"?"#D2D0CE":"#ffffff",textStyle:r==="Material"?{fontFamily:"Roboto",color:"rgba(249, 250, 251, 1)",fontWeight:null,size:"12px",headerTextSize:"12px",boldTextSize:"12px"}:r==="Fabric"?{fontFamily:"Segoe UI",color:"#333333",fontWeight:null,size:"12px",headerTextSize:"12px",boldTextSize:"12px"}:{fontFamily:"Helvetica",color:"#F9FAFB",fontWeight:null,size:"12px",headerTextSize:"12px",boldTextSize:"12px"}};break}return e}var RP=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();function ug(r,e,t,i){var n=r||"",s=document.getElementById("chartmeasuretext");if(s===null&&(s=Be("text",{id:"chartmeasuretext"}),document.body.appendChild(s)),typeof r=="string"&&(r.indexOf("<")>-1||r.indexOf(">")>-1)){for(var o=r.split(" "),a=0;a<o.length;a++)o[a].indexOf("<br/>")===-1&&(o[a]=o[a].replace(/[<>]/g,"&"));r=o.join(" ")}s.innerHTML=n.indexOf("<br>")>-1||n.indexOf("<br/>")>-1?n:r,s.style.position="fixed",s.style.fontSize=e.size||(i?t.headerTextSize:t.size),s.style.fontStyle=e.fontStyle||t.fontStyle,s.style.fontFamily=e.fontFamily||t.fontFamily,s.style.visibility="hidden",s.style.top="-100",s.style.left="0",s.style.whiteSpace="nowrap",s.style.lineHeight="normal";var l=s.clientWidth,h=s.clientHeight,u=s.style.fontWeight;return s.style.fontWeight=e.fontWeight||t.fontWeight,new bd(s.style.fontWeight==="bold"&&u==="normal"?Math.max(l,s.clientWidth):s.clientWidth,s.style.fontWeight==="bold"&&u==="normal"?Math.max(h,s.clientHeight):s.clientHeight)}function lA(r,e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),r>=t.x-i&&r<=t.x+t.width+i&&e>=t.y-n&&e<=t.y+t.height+n}function hre(r,e,t,i,n,s,o,a,l,h,u){u===void 0&&(u="");var c="",d=t.x,f=t.y,g=t.x+t.width,m=t.y+t.height;return s?(c=c.concat("M "+d+" "+(f+e)+" Q "+d+" "+f+" "+(d+r)+" "+f+"  L "+(g-r)+" "+f+" Q "+g+" "+f+" "+g+" "+(f+e)),c=c.concat(" L "+g+" "+(m-e)+" Q "+g+" "+m+" "+(g-r)+" "+m),n!==0&&(u==="RangeNavigator"?i.x-n>g/2?(c=c.concat(" L "+(i.x+n)+" "+m),c=c.concat(" L "+(l+n)+" "+(m+n)+" L "+i.x+" "+m)):(c=c.concat(" L "+i.x+" "+m),c=c.concat(" L "+(l-n)+" "+(m+n)+" L "+(i.x-n)+" "+m)):(c=c.concat(" L "+(i.x+n)+" "+m),c=c.concat(" L "+l+" "+(m+n)+" L "+(i.x-n)+" "+m))),i.x-n>d||n===0?c=c.concat(" L "+(d+r)+" "+m+" Q "+d+" "+m+" "+d+" "+(m-e)+" z"):c=c.concat(" L "+d+" "+(m+e)+" z")):o?(c=c.concat("M "+d+" "+(f+e)+" Q "+d+" "+f+" "+(d+r)+" "+f+" L "+(i.x-n)+" "+f),c=c.concat(" L "+l+" "+i.y),c=c.concat(" L "+(i.x+n)+" "+f),c=c.concat(" L "+(g-r)+" "+f+" Q "+g+" "+f+" "+g+" "+(f+e)),c=c.concat(" L "+g+" "+(m-e)+" Q "+g+" "+m+" "+(g-r)+" "+m+" L "+(d+r)+" "+m+" Q "+d+" "+m+" "+d+" "+(m-e)+" z")):a?(c=c.concat("M "+d+" "+(f+e)+" Q "+d+" "+f+" "+(d+r)+" "+f),c=c.concat(" L "+(g-r)+" "+f+" Q "+g+" "+f+" "+g+" "+((u==="RangeNavigator"?0:f+e)+" L "+g+" "+(u==="RangeNavigator"?0:i.y-n))),c=u==="RangeNavigator"?c.concat(" L "+(g+n)+" 0"):c.concat(" L "+(g+n)+" "+h),c=u==="RangeNavigator"?c.concat(" L "+g+" "+(i.y-e)):c.concat(" L "+g+" "+(i.y+n)),c=c.concat(" L "+g+" "+(m-e)+" Q "+g+" "+m+" "+(g-r)+" "+m),c=c.concat(" L "+(d+r)+" "+m+" Q "+d+" "+m+" "+d+" "+(m-e)+" z")):(c=c.concat("M "+(d+r)+" "+f+" Q "+d+" "+f+" "+d+" "+((u==="RangeNavigator"?0:f+e)+" L "+d+" "+(u==="RangeNavigator"?0:i.y-n))),c=u==="RangeNavigator"?c.concat(" L "+(d-n)+" 0"):c.concat(" L "+(d-n)+" "+h),c=u==="RangeNavigator"?c.concat(" L "+d+" "+(i.y-e)):c.concat(" L "+d+" "+(i.y+n)),c=c.concat(" L "+d+" "+(m-e)+" Q "+d+" "+m+" "+(d+r)+" "+m),c=c.concat(" L "+(g-r)+" "+m+" Q "+g+" "+m+" "+g+" "+(m-e)+" L "+g+" "+(f+e)+" Q "+g+" "+f+" "+(g-r)+" "+f+" z")),c}var bd=function(){function r(e,t){this.width=e,this.height=t}return r}(),hd=function(){function r(e,t,i,n){this.x=e,this.y=t,this.width=i,this.height=n}return r}(),ure=function(){function r(e,t){this.isRight=t,this.isBottom=e}return r}(),jP=function(){function r(e){this.id=e}return r}(),cre=function(r){RP(e,r);function e(t,i,n,s,o,a,l,h){a===void 0&&(a="");var u=r.call(this,t)||this;return u.transform="",u.baseLine="auto",u.labelRotation=0,u.x=i,u.y=n,u.anchor=s,u.text=o,u.transform=a,u.baseLine=l,u.labelRotation=h,u}return e}(jP);function Er(r){return document.getElementById(r)}function cg(r){var e=Er(r);e&&ot(e)}function dre(r,e,t,i,n,s,o){var a=new wv(""),l=pre(r,t,e,n,i),h=a["draw"+l.functionName](l.renderOption);return h.setAttribute("role",s),h.setAttribute("aria-label",o),h}function pre(r,e,t,i,n){var s,o="Path",a=e.width,l=e.height,h=r.x,u=r.y,c=r.x+-a/2,d=r.y+-l/2;switch(t){case"Circle":case"Bubble":o="Ellipse",ai(i,{rx:a/2,ry:l/2,cx:h,cy:u});break;case"Plus":s="M "+c+" "+u+" L "+(h+a/2)+" "+u+" M "+h+" "+(u+l/2)+" L "+h+" "+(u+-l/2),ai(i,{d:s,stroke:i.fill});break;case"Cross":s="M "+c+" "+(u+-l/2)+" L "+(h+a/2)+" "+(u+l/2)+" M "+c+" "+(u+l/2)+" L "+(h+a/2)+" "+(u+-l/2),ai(i,{d:s,stroke:i.fill});break;case"HorizontalLine":s="M "+c+" "+u+" L "+(h+a/2)+" "+u,ai(i,{d:s,stroke:i.fill});break;case"VerticalLine":s="M "+h+" "+(u+l/2)+" L "+h+" "+(u+-l/2),ai(i,{d:s,stroke:i.fill});break;case"Diamond":s="M "+c+" "+u+" L "+h+" "+(u+-l/2)+" L "+(h+a/2)+" "+u+" L "+h+" "+(u+l/2)+" L "+c+" "+u+" z",ai(i,{d:s});break;case"Rectangle":s="M "+c+" "+(u+-l/2)+" L "+(h+a/2)+" "+(u+-l/2)+" L "+(h+a/2)+" "+(u+l/2)+" L "+c+" "+(u+l/2)+" L "+c+" "+(u+-l/2)+" z",ai(i,{d:s});break;case"Triangle":s="M "+c+" "+(u+l/2)+" L "+h+" "+(u+-l/2)+" L "+(h+a/2)+" "+(u+l/2)+" L "+c+" "+(u+l/2)+" z",ai(i,{d:s});break;case"InvertedTriangle":s="M "+(h+a/2)+" "+(u-l/2)+" L "+h+" "+(u+l/2)+" L "+(h-a/2)+" "+(u-l/2)+" L "+(h+a/2)+" "+(u-l/2)+" z",ai(i,{d:s});break;case"Pentagon":for(var f=72,g=void 0,m=void 0,y=0;y<=5;y++)g=a/2*Math.cos(Math.PI/180*(y*f)),m=l/2*Math.sin(Math.PI/180*(y*f)),y===0?s="M "+(h+g)+" "+(u+m)+" ":s=s.concat("L "+(h+g)+" "+(u+m)+" ");s=s.concat("Z"),ai(i,{d:s});break;case"Image":o="Image",ai(i,{href:n,height:l,width:a,x:c,y:d});break;case"Star":{for(var v=5,M=Math.min(a,l)/2,S=M/2,b=Math.PI/v,C="",y=0;y<2*v;y++){var T=y%2===0?M:S,k=h+T*Math.cos(y*b-Math.PI/2),N=u+T*Math.sin(y*b-Math.PI/2);C+=(y===0?"M":"L")+k+","+N}C+="Z",ai(i,{d:C});break}}return{renderOption:i,functionName:o}}var fre=function(r){RP(e,r);function e(t,i,n,s,o,a,l){var h=r.call(this,t)||this;return h.opacity=o,h.fill=i,h.stroke=s,h["stroke-width"]=n,h["stroke-dasharray"]=a,h.d=l,h}return e}(jP);function gre(r,e,t,i,n){var s={},o=new wv("");s={id:r.id,x:r.x,y:r.y,fill:t,"font-size":e.size||n.size,"font-style":e.fontStyle||n.fontStyle,"font-family":e.fontFamily||n.fontFamily,"font-weight":e.fontWeight||n.fontWeight,"text-anchor":r.anchor,transform:r.transform,opacity:e.opacity,"dominant-baseline":r.baseLine};var a=typeof r.text=="string"?r.text:r.text[0],l=o.createText(s,a);return i&&i.appendChild(l),l}var Ln=function(){function r(e,t){this.x=e,this.y=t}return r}(),pf=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),it=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},mre=function(r){pf(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return it([I(null)],e.prototype,"size",void 0),it([I("")],e.prototype,"color",void 0),it([I("Segoe UI")],e.prototype,"fontFamily",void 0),it([I("Normal")],e.prototype,"fontWeight",void 0),it([I("Normal")],e.prototype,"fontStyle",void 0),it([I(1)],e.prototype,"opacity",void 0),it([I(null)],e.prototype,"headerTextSize",void 0),it([I(null)],e.prototype,"boldTextSize",void 0),e}(Xe),yre=function(r){pf(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return it([I("")],e.prototype,"color",void 0),it([I(1)],e.prototype,"width",void 0),it([I("")],e.prototype,"dashArray",void 0),e}(Xe),vre=function(r){pf(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return it([I(0)],e.prototype,"x",void 0),it([I(0)],e.prototype,"y",void 0),it([I(0)],e.prototype,"width",void 0),it([I(0)],e.prototype,"height",void 0),e}(Xe),hA=function(r){pf(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return it([I(0)],e.prototype,"x",void 0),it([I(0)],e.prototype,"y",void 0),e}(Xe);(function(r){pf(e,r);function e(t,i){return r.call(this,t,i)||this}return e.prototype.preRender=function(){this.allowServerDataBinding=!1,this.initPrivateVariable(),this.isCanvas||this.removeSVG(),this.createTooltipElement()},e.prototype.initPrivateVariable=function(){this.renderer=new wv(this.element.id),this.themeStyle=lre(this.theme),this.formattedText=[],this.padding=5,this.highlightPadding=3,this.areaMargin=10,this.isFirst=!0,this.markerPoint=[]},e.prototype.removeSVG=function(){var t=document.getElementById(this.element.id+"_svg"),i=document.getElementById(this.element.id+"parent_template");this.blazorTemplate&&kr(this.element.id+"parent_template_blazorTemplate"),t&&t.parentNode&&ot(t),i&&i.parentNode&&ot(i)},e.prototype.render=function(){if(this.fadeOuted=!1,this.template)this.updateTemplateFn(),this.createTemplate(this.areaBounds,this.location);else{this.renderText(this.isFirst);var t={cancel:!1,name:"tooltipRender",tooltip:this};this.trigger("tooltipRender",t);var i=this.renderTooltipElement(this.areaBounds,this.location);this.drawMarker(i.isBottom,i.isRight,this.markerSize)}this.trigger("loaded",{tooltip:this});var n=document.getElementById("chartmeasuretext");n&&ot(n),this.allowServerDataBinding=!0},e.prototype.createTooltipElement=function(){if(this.textElements=[],!this.template||this.shared){this.enableRTL&&this.element.setAttribute("dir","ltr");var t=this.renderer.createSvg({id:this.element.id+"_svg"});this.element.appendChild(t);var i=document.getElementById(this.element.id+"_group");i||(i=this.renderer.createGroup({id:this.element.id+"_group"}),i.setAttribute("transform","translate(0,0)")),t.appendChild(i);var n=this.renderer.drawPath({id:this.element.id+"_path","stroke-width":(this.theme==="Fabric"||this.theme==="Fluent"||this.theme==="Fluent2"||this.theme==="Fluent2HighContrast")&&!this.border.width?1:this.border.width,fill:this.fill||this.themeStyle.tooltipFill,opacity:(this.theme==="TailwindDark"||this.theme==="Tailwind"||this.theme==="Tailwind3Dark"||this.theme==="Tailwind3"||this.theme==="Bootstrap5"||this.theme==="Bootstrap5Dark"||this.theme.indexOf("Fluent2")>-1)&&this.opacity===.75?1:this.opacity,stroke:this.border.color||(this.theme==="Fabric"||this.theme==="Fluent"||this.theme==="Fluent2"?"#D2D0CE":this.border.color)});i.appendChild(n)}},e.prototype.drawMarker=function(t,i,n){if(this.shapes.length<=0)return null;var s,o=0,a=this.renderer.createGroup({id:this.element.id+"_trackball_group"}),l=Er(this.element.id+"_group");if(!l)return null;for(var h=(this.enableRTL?this.elementSize.width-n/2:this.marginX*2+n/2)+(i?this.arrowPadding:0),u=0,c=this.shapes;u<c.length;u++){var d=c[u];if(d!=="None"){if(s=new fre(this.element.id+"_Trackball_"+o,this.palette[o],1,"#cccccc",1,null),this.markerPoint[o]){var f=0;this.header.indexOf("<br")>-1&&(f=this.header.split(/<br.*?>/g).length+o);var g=this.formattedText&&this.formattedText.length>=2?this.getTooltipTextContent(this.formattedText[1])+", "+this.getTooltipTextContent(this.formattedText[0]):"";a.appendChild(dre(new Ln(h,this.markerPoint[o]-this.padding+(t?this.arrowPadding:f)),d,new bd(n,n),this.markerImage,s,"img",g))}o++}}l.appendChild(a)},e.prototype.renderTooltipElement=function(t,i){var n=Er(this.element.id),s=new Ln(0,0),o=new Ln(0,0),a=Er(this.element.id+"_svg"),l=Er(this.element.id+"_group"),h=Er(this.element.id+"_path"),u,c=!1,d=!1,f=!1,g=0,m=0;if(!p(l)){if(this.header!==""&&this.showHeaderLine&&(this.elementSize.height+=this.marginY),this.isFixed){var y=this.elementSize.width+2*this.marginX,v=this.elementSize.height+2*this.marginY;u=new hd(i.x,i.y,y,v)}else this.content.length>1?(u=this.sharedTooltipLocation(t,this.location.x,this.location.y),c=!0):(u=this.tooltipLocation(t,i,s,o),this.inverted?(d=u.x<i.x+this.clipBounds.x,g=d?0:this.arrowPadding,this.allowHighlight&&(u.x+=d?this.highlightPadding:-(2*this.highlightPadding))):(c=u.y<i.y+this.clipBounds.y,f=!c,m=c?0:this.arrowPadding));if(this.header!==""&&this.showHeaderLine){var M=2,S=0,b=this.isWrap?this.wrappedText:this.header;if(this.isWrap&&typeof b=="string"&&(b.indexOf("<")>-1||b.indexOf(">")>-1)){var C=b.split("<br>");M=C.length}this.header.indexOf("<br")>-1&&(S=5*(this.header.split(/<br.*?>/g).length-1));var T="properties",k=ie({},this.textStyle,null,!0)[T],N=ug(this.isWrap?this.wrappedText:this.header,k,this.themeStyle.textStyle).height+this.marginY*M+(f?this.arrowPadding:0)+(this.isWrap?5:S),A=this.marginX*3+(!d&&!c&&!f?this.arrowPadding:0),E="M "+A+" "+N+"L "+(u.width+(!d&&!c&&!f?this.arrowPadding:0)-this.marginX*2)+" "+N,x=this.renderer.drawPath({id:this.element.id+"_header_path","stroke-width":1,fill:null,opacity:this.theme==="Material3"||this.theme==="Material3Dark"?.2:.8,stroke:this.themeStyle.tooltipHeaderLine,d:E});l.appendChild(x)}var D=this.border.width/2,z=new hd(D+g,D+m,u.width-D,u.height-D);if(l.setAttribute("opacity","1"),this.enableAnimation&&!this.isFirst&&!this.crosshair?this.animateTooltipDiv(n,u):this.updateDiv(n,u.x,u.y),a.setAttribute("height",(u.height+this.border.width+(this.inverted?0:this.arrowPadding)+5).toString()),a.setAttribute("width",(u.width+this.border.width+(this.inverted?this.arrowPadding:0)+5).toString()),a.setAttribute("opacity","1"),p(this.tooltipPlacement)||(c=this.tooltipPlacement.indexOf("Top")>-1,f=this.tooltipPlacement.indexOf("Bottom")>-1,d=this.tooltipPlacement.indexOf("Left")>-1),h.setAttribute("d",hre(this.rx,this.ry,z,s,this.arrowPadding,c,f,d,o.x,o.y,this.controlName)),this.enableShadow&&this.theme!=="Bootstrap4"||this.theme.indexOf("Fluent2")>-1){var w=this.element.id+"_shadow";this.theme==="Tailwind"||this.theme==="TailwindDark"||this.theme==="Tailwind3"||this.theme==="Tailwind3Dark"||this.theme==="Bootstrap5"||this.theme==="Bootstrap5Dark"?h.setAttribute("box-shadow","0px 1px 2px rgba(0, 0, 0, 0.06), 0px 1px 3px rgba(0, 0, 0, 0.1)"):h.setAttribute("filter",ne.isIE?"":"url(#"+w+")");var O='<filter id="'+w+'" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="3"/>';this.theme.indexOf("Fluent2")>-1?O+='<feOffset dx="-1" dy="3.6" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="0.2"/>':O+='<feOffset dx="3" dy="3" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="0.5"/>',O+='</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';var L=this.renderer.createDefs();L.setAttribute("id",this.element.id+"SVG_tooltip_definition"),l.appendChild(L),L.innerHTML=O}var j=(this.theme==="Fabric"||this.theme==="Fluent"||this.theme==="Fluent2")&&!this.border.color?"#D2D0CE":this.theme==="Fluent2HighContrast"?"#FFFFFF":this.border.color;h.setAttribute("stroke",j),p(this.border.dashArray)||h.setAttribute("stroke-dasharray",this.border.dashArray),this.changeText(new Ln(g,m),f,!d&&!c&&!f),this.revert&&(this.inverted=!this.inverted,this.revert=!1)}return new ure(f,!d&&!c&&!f)},e.prototype.changeText=function(t,i,n){var s=document.getElementById(this.element.id+"_text");i&&s.setAttribute("transform","translate(0,"+this.arrowPadding+")"),n&&s.setAttribute("transform","translate("+this.arrowPadding+" 0)")},e.prototype.findFormattedText=function(){this.formattedText=[],this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim()!==""&&(this.formattedText=this.formattedText.concat(this.header)),this.formattedText=this.formattedText.concat(this.content)},e.prototype.renderText=function(t){var i=0,n=0,s=0,o,a="properties",l=ie({},this.textStyle,null,!0)[a],h=Er(this.element.id+"_group"),u,c,d="",f,g;this.findFormattedText(),this.isWrap=!1;var m=document.body.getAttribute("dir")==="rtl",y=m&&!this.enableRTL?"end":"start";this.leftSpace=this.areaBounds.x+this.location.x,this.rightSpace=this.areaBounds.x+this.areaBounds.width-this.leftSpace;var v=this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim(),M=this.header.indexOf("<b>")>-1&&this.header.indexOf("</b>")>-1,S=ug(this.formattedText[0],l,this.themeStyle.textStyle).width+2*this.marginX+this.arrowPadding,b=this.location.x-S<this.location.x,C=this.areaBounds.x+this.areaBounds.width<this.location.x+S,T,k=v!==""&&this.showHeaderLine?this.marginY:0,N=!0,A=!0;this.markerPoint=[];var E=this.shapes.length>0?10:0,x=this.shapes.length>0?5:0,D=4,z,w="12px",O="400",L=this.themeStyle.tooltipLightLabel,j=22/parseFloat(w)*parseFloat(l.size||this.themeStyle.textStyle.size),B=[],V=0;(!t||this.isCanvas)&&(cg(this.element.id+"_text"),cg(this.element.id+"_header_path"),cg(this.element.id+"_trackball_group"),cg(this.element.id+"SVG_tooltip_definition")),this.controlName==="Chart"&&parseFloat(w)<parseFloat(l.size||this.themeStyle.textStyle.headerTextSize)&&(V=parseFloat(l.size||this.themeStyle.textStyle.size)-parseFloat(w));for(var ee=new cre(this.element.id+"_text",this.marginX*2,V+this.marginY*2+this.padding*2+(this.marginY===2?this.controlName==="RangeNavigator"?5:3:0),y,""),W=gre(ee,l,l.color||this.themeStyle.tooltipBoldLabel,h,this.themeStyle.textStyle),J=this.formattedText.length===1&&this.formattedText[0].indexOf(" : <b>")>-1,K=this.header!=="",le=K&&M?16:13,me=0,pe=this.formattedText.length;me<pe;me++)if(c=this.formattedText[me].replace(/<(b|strong)>/g,"<b>").replace(/<\/(b|strong)>/g,"</b>").split(/<br.*?>/g),this.isTextWrap&&this.header!==this.formattedText[me]&&this.formattedText[me].indexOf("<br")===-1&&(z=Math.round(this.leftSpace>this.rightSpace?this.leftSpace/le:this.rightSpace/le),c=this.formattedText[me].match(new RegExp(".{1,"+z+"}","g"))),me===0&&!J&&this.isTextWrap&&(this.leftSpace<S||b)&&(this.rightSpace<S||C)&&(z=Math.round(this.leftSpace>this.rightSpace?this.leftSpace/le:this.rightSpace/le),T=v!==""?v:this.formattedText[me],c=T.match(new RegExp(".{1,"+z+"}","g")),this.wrappedText=M?"<b>"+c.join("<br>")+"</b>":c.join("<br>"),this.isWrap=c.length>1),c[0]!==""){(me!==0||v==="")&&this.markerPoint.push((v!==""&&this.showHeaderLine?this.marginY:0)+ee.y+i-(V!==0?V/this.markerSize*(parseFloat(l.size||this.themeStyle.textStyle.headerTextSize)/this.markerSize):0));for(var P=0,ve=c.length;P<ve;P++){o=c[P].replace(/<b>/g,"<br><b>").replace(/<\/b>/g,"</b><br>").replace(/:/g,this.enableRTL?"<br>: <br>":"<br>:<br>").split("<br>"),this.enableRTL&&o.length>0&&c[P].match(/:/g)&&(o[0]=o[0].trim(),o.reverse()),s=0,A=!0,i+=j;for(var X=0,De=o.length;X<De;X++)if(f=o[X],this.enableRTL&&f!==""&&this.isRTLText(f)&&(f=f.concat("")),!/\S/.test(f)&&f!==""&&(f=" "),!A&&f===" "||f.replace(/<b>/g,"").replace(/<\/b>/g,"").trim()!==""){s+=f!==" "?D:0,A&&!N?(this.header.indexOf("<br")>-1&&me!==0&&(k+=this.header.split(/<br.*?>/g).length),g={x:this.marginX*2+(E+x),dy:j+(A?k:0),fill:""},k=null):N&&A?g={x:v===""?this.marginX*2+(E+x):this.marginX*2+(this.isWrap?E+x:0)}:g={},A=!1,u=this.renderer.createTSpan(g,""),W.appendChild(u),f.indexOf("<b>")>-1||M&&X===0&&me===0&&(K||this.isWrap)?(O="600",L=this.themeStyle.tooltipBoldLabel,d="font-weight:"+O,l.fontWeight=O,u.setAttribute("fill",this.textStyle.color||L)):(d=O==="600"?"font-weight:"+O:"",l.fontWeight=O,u.setAttribute("fill",this.textStyle.color||L)),(f.indexOf("</b>")>-1||M&&X===De-1&&me===0&&(K||this.isWrap))&&(O="Normal",L=this.themeStyle.tooltipLightLabel),d!==""&&(u.style.fontWeight=d.split("font-weight:")[1],u.style.color=u.getAttribute("fill")),u.style.fontFamily="inherit",u.style.fontStyle="inherit",u.style.fontSize=this.header===this.formattedText[me]?l.size||this.themeStyle.textStyle.headerTextSize:f.indexOf("<b>")>-1||f.indexOf("</b>")>-1?l.size||this.themeStyle.textStyle.boldTextSize:l.size||this.themeStyle.textStyle.size,u.style.fontWeight=this.header===this.formattedText[me]&&(this.header.indexOf("<b>")===-1||this.header.indexOf("</b>")===-1)?this.textStyle.fontWeight||(this.theme.indexOf("Tailwind3")>-1?"500":"600"):f.indexOf("<b>")>-1||f.indexOf("</b>")>-1?this.theme.indexOf("Bootstrap5")>-1?this.textStyle.fontWeight||"600":"bold":(f.indexOf("<b>")===-1||f.indexOf("</b>")===-1)&&(this.theme.indexOf("Bootstrap5")>-1||this.theme.indexOf("Tailwind3")>-1)?this.textStyle.fontWeight||(this.theme.indexOf("Tailwind3")>-1?"500":"600"):this.textStyle.fontWeight||l.fontWeight;var Fe=ie({},this.textStyle,null,!0)[a];Fe.fontWeight=u.style.fontWeight,Fe.size=u.style.fontSize,N=!1,u.textContent=f=this.getTooltipTextContent(f),s+=ug(f,Fe,this.themeStyle.textStyle).width}s-=D,n=Math.max(n,s),B.push(s)}}this.elementSize=new bd(n+(n>0?2*this.marginX:0),i),this.elementSize.width+=E+x;var Re=W.childNodes[0];if(v!==""&&Re&&!this.isWrap){l.fontWeight="600";var U=(this.elementSize.width+2*this.padding)/2-ug(v,l,this.themeStyle.textStyle,!0).width/2;Re.setAttribute("x",U.toString())}this.renderContentRTL(W,K,E+x,B)},e.prototype.renderContentRTL=function(t,i,n,s){if(this.enableRTL)for(var o=void 0,a=i?1:0,l=0;l<t.childNodes.length;l++)o=t.childNodes[l],(!i||l>0)&&!p(o.getAttribute("x"))&&(o.setAttribute("x",(this.elementSize.width-(n+s[a])).toString()),a++)},e.prototype.getTooltipTextContent=function(t){var i=t.match(/<[a-zA-Z\/](.|\n)*?>/g);if(p(i))return t;for(var n=this.isRTLText(t),s=0;s<i.length;s++)this.isValidHTMLElement(i[s].replace("<","").replace("/","").replace(">","").trim())&&(t=t.replace(i[s],n?"":""));return t},e.prototype.isValidHTMLElement=function(t){return document.createElement(t).toString()!=="[object HTMLUnknownElement]"},e.prototype.isRTLText=function(t){return/[\u0590-\u07FF\u200F\u202B\u202E\uFB1D-\uFDFD\uFE70-\uFEFC]/.test(t)},e.prototype.createTemplate=function(t,i){var n={cancel:!1,name:"tooltipRender",tooltip:this};this.trigger("tooltipRender",n);var s=document.getElementById(this.element.id);this.isCanvas&&this.removeSVG();var o=p(s)?null:s.firstElementChild;if(o&&ot(o),n.cancel)ot(Er(this.element.id+"_tooltip"));else{var a=Be("div",{id:this.element.id+"parent_template"}),l=void 0;if(this.controlName==="Chart"&&this.shared)for(var h=0;h<this.data.length;h++){var u=this.templateFn(this.data[h],this.controlInstance,a.id,a.id+"_blazorTemplate","");h===0?l=u:u.length>1?l[h].outerHTML=u[h].outerHTML||u[h].textContent:l[l.length-1].outerHTML+=u[0].outerHTML}else l=this.templateFn(this.data,this.controlInstance,a.id,a.id+"_blazorTemplate","");for(;l&&l.length>0;)l.length===1?(a.appendChild(l[0]),l=null):a.appendChild(l[0]);p(s)||s.appendChild(a);var c=this.isCanvas?a:this.element,d=c.getBoundingClientRect();this.padding=0,this.elementSize=new bd(d.width,d.height);var f=this.shared?this.sharedTooltipLocation(t,this.location.x,this.location.y):this.tooltipLocation(t,i,new Ln(0,0),new Ln(0,0));if(this.enableAnimation&&!this.isFirst&&!this.crosshair?this.animateTooltipDiv(this.element,f):this.updateDiv(c,f.x,f.y),this.blazorTemplate){var g=function(){var y=Er(m.element.id).getBoundingClientRect();m.elementSize=new bd(y.width,y.height);var v=m.tooltipLocation(t,i,new Ln(0,0),new Ln(0,0));m.updateDiv(Er(m.element.id),v.x,v.y)},m=this;g.bind(m,t,i),this.element.id+"",this.blazorTemplate.name,this.blazorTemplate.parent}}},e.prototype.sharedTooltipLocation=function(t,i,n){var s=this.elementSize.width+2*this.marginX,o=this.elementSize.height+2*this.marginY,a=new hd(i+2*this.padding,n-o-this.padding,s,o);return a.y<t.y&&(a.y+=a.height+2*this.padding),a.y+a.height>t.y+t.height&&(a.y=Math.max(t.y+t.height-(a.height+2*this.padding),t.y)),a.x+a.width>t.x+t.width&&(a.x=t.x+this.location.x-(a.width+4*this.padding)),a.x<t.x&&(a.x=t.x),a},e.prototype.getCurrentPosition=function(t,i,n,s){var o=this.tooltipPlacement,a=this.clipBounds.x,l=this.clipBounds.y,h=this.offset,u=this.elementSize.width+2*this.marginX,c=this.elementSize.height+2*this.marginY,d=new Ln(i.x,i.y);return o==="Top"||o==="Bottom"?(d=new Ln(d.x+a-this.elementSize.width/2-this.padding,d.y+l-this.elementSize.height-2*this.padding-this.arrowPadding-h),n.x=s.x=u/2,o==="Bottom"&&(d.y=i.y+l+h),t.x+t.width<d.x+u?(d.x=t.width>u?t.x+t.width-u+6:t.x,n.x=s.x=t.width>u?t.x+i.x-d.x:i.x):t.x>d.x&&(d.x=t.x,n.x=s.x=i.x)):(d=new Ln(d.x+a+h,d.y+l-this.elementSize.height/2-this.padding),n.y=s.y=c/2,o==="Left"&&(d.x=i.x+a-h-(u+this.arrowPadding)),t.y+t.height<d.y+c?(d.y=t.height>c?t.y+t.height-c+6:t.y,n.y=s.y=t.height>c?t.y+i.y-d.y:i.y):t.y>d.y&&(d.y=t.y,n.y=s.y=i.y)),new hd(d.x,d.y,u,c)},e.prototype.tooltipLocation=function(t,i,n,s){if(!p(this.tooltipPlacement)){var o=this.getCurrentPosition(t,i,n,s);return o}var a=new Ln(i.x,i.y),l=this.elementSize.width+2*this.marginX,h=this.elementSize.height+2*this.marginY,u=this.offset,c=this.clipBounds.x,d=this.clipBounds.y,f=this.clipBounds.width;this.clipBounds.height;var g=t.x,m=t.y;return this.outOfBounds=!1,this.inverted?(a=new Ln(a.x+c+u,a.y+d-this.elementSize.height/2-this.padding),n.y=s.y=h/2,(a.x+l+this.arrowPadding>g+t.width||this.isNegative)&&(a.x=(i.x>t.width+t.x?t.width:i.x)+c-u-(l+this.arrowPadding)),i.x>f&&(a.x=f+c-(l+this.arrowPadding)),a.x<g&&(a.x=(i.x<0?0:i.x)+c+u),a.x+l+this.arrowPadding>g+t.width&&(a.x=(i.x>t.width+t.x?t.width:i.x)+c-u-(l+this.arrowPadding)),a.y<=m&&(n.y-=m-a.y,s.y-=m-a.y,a.y=m),a.y+h>=m+t.height&&(n.y+=a.y+h-(m+t.height),s.y+=a.y+h-(m+t.height),a.y-=a.y+h-(m+t.height)),a.x+l>=g+t.width&&this.controlName==="Chart"&&(n.x+=a.x+l-(g+t.width),s.x+=a.x+l-(g+t.width),a.x-=a.x+l-(g+t.width),a.x=a.x-this.arrowPadding-this.padding),n.y+this.arrowPadding>h-this.ry&&(n.y=h-this.ry-this.arrowPadding,s.y=h),n.y-this.arrowPadding<this.ry&&(n.y=s.y=this.ry+this.arrowPadding),this.controlName==="Chart"&&((a.y+n.y<this.areaMargin+this.arrowPadding||t.y+t.height-(a.y+n.y)<this.areaMargin+this.arrowPadding)&&(this.outOfBounds=!0),(!lA(a.x,a.y,t)||this.outOfBounds)&&(this.inverted=!this.inverted,a=new Ln(i.x+c-this.padding-this.elementSize.width/2,i.y+d-this.elementSize.height-2*this.padding-u-this.arrowPadding),this.revert=!0,s.x=n.x=l/2,s.y=n.y=0,(a.y<m||this.isNegative)&&(a.y=(i.y<0?0:i.y)+u+d),a.y+this.arrowPadding+h>m+t.height&&(a.y=Math.min(i.y,m+t.height)+d-this.elementSize.height-2*this.padding-u-this.arrowPadding),s.x=l/2,a.x<g&&(s.x-=g-a.x,n.x-=g-a.x,a.x=g),a.x+l>t.width+g&&(n.x+=a.x+l-(t.width+g),s.x+=a.x+l-(t.width+g),a.x-=a.x+l-(t.width+g)),this.arrowPadding+n.x>l-this.rx&&(s.x=l-this.rx-this.arrowPadding,n.x=l-this.rx-this.arrowPadding),n.x-this.arrowPadding<this.rx&&(n.x=s.x=this.rx+this.arrowPadding)))):(a=new Ln(a.x+c-this.elementSize.width/2-this.padding,a.y+d-this.elementSize.height-2*(this.allowHighlight?this.highlightPadding:this.padding)-this.arrowPadding-u),n.x=s.x=l/2,(a.y<m||this.isNegative)&&this.controlName!=="Progressbar"&&(a.y=(i.y<0?0:i.y)+d+u),a.y+h+this.arrowPadding>m+t.height&&(a.y=Math.min(i.y,m+t.height)+d-this.elementSize.height-2*this.padding-this.arrowPadding-u),(a.x+l>g+t.width&&a.y<m||this.isNegative)&&this.controlName!=="Progressbar"&&(a.y=(i.y<0?0:i.y)+d+u),s.x=l/2,a.x<g&&this.controlName!=="Progressbar"&&(n.x-=g-a.x,s.x-=g-a.x,a.x=g),a.x+l>g+t.width&&this.controlName!=="Progressbar"&&(n.x+=a.x+l-(g+t.width),s.x+=a.x+l-(g+t.width),a.x-=a.x+l-(g+t.width)),a.x<g&&this.controlName!=="Progressbar"&&(n.x-=g-a.x,s.x-=g-a.x,a.x=g),n.x+this.arrowPadding>l-this.rx&&(n.x=l-this.rx-this.arrowPadding,s.x=l-this.rx-this.arrowPadding),n.x-this.arrowPadding<this.rx&&(n.x=s.x=this.rx+this.arrowPadding),this.controlName==="Chart"&&((t.x+t.width-(a.x+n.x)<this.areaMargin+this.arrowPadding||a.x+n.x<this.areaMargin+this.arrowPadding)&&(this.outOfBounds=!0),this.template&&a.y<0&&(a.y=i.y+d+u),(!lA(a.x,a.y,t)||this.outOfBounds)&&(this.inverted=!this.inverted,this.revert=!0,a=new Ln(i.x+u+c,i.y+d-this.elementSize.height/2-this.padding),s.x=n.x=0,s.y=n.y=h/2,(a.x+this.arrowPadding+l>g+t.width||this.isNegative)&&(a.x=(i.x>g+t.width?t.width:i.x)+c-u-(this.arrowPadding+l)),a.x<g&&(a.x=(i.x<0?0:i.x)+u+c),a.y<=m&&(s.y-=m-a.y,n.y-=m-a.y,a.y=m),a.y+h>=t.height+m&&(n.y+=a.y+h-(t.height+m),s.y+=a.y+h-(t.height+m),a.y-=a.y+h-(t.height+m)),this.arrowPadding+n.y>h-this.ry&&(n.y=h-this.arrowPadding-this.ry,s.y=h),n.y-this.arrowPadding<this.ry&&(n.y=this.arrowPadding+this.ry,s.y=0)))),new hd(a.x,a.y,l,h)},e.prototype.animateTooltipDiv=function(t,i){var n=this,s=parseFloat(t.style.left),o=parseFloat(t.style.top),a=this.duration===0&&ol==="Enable"?300:this.duration;if(this.controlName==="Chart"&&this.shared&&!this.enableRTL){var l=this.element.style.transform.split(/[(),\s]+/);s=parseFloat(l[1]),o=parseFloat(l[2]),t.style.transition="transform "+a+"ms ease"}var h;new ro({}).animate(t,{duration:a,progress:function(u){h=u.timeStamp/u.duration,t.style.animation=null,n.controlName==="Chart"&&n.shared&&!n.enableRTL?(t.style.transform="translate("+(s+(i.x-s))+"px,"+(o+i.y-o)+"px)",t.style.left="",t.style.top=""):n.controlName==="Chart"&&n.showNearestTooltip?(t.style.transition="left "+u.duration+"ms ease-out, top "+u.duration+"ms ease-out",t.style.left=i.x+"px",t.style.top=i.y+"px"):(t.style.left=s+h*(i.x-s)+"px",t.style.top=o+h*(i.y-o)+"px",t.style.transform=n.controlName==="RangeNavigator"?t.style.transform:"")},end:function(u){n.updateDiv(t,i.x,i.y),n.trigger("animationComplete",{tooltip:n})}})},e.prototype.updateDiv=function(t,i,n){this.controlName==="Chart"&&this.shared&&!this.crosshair&&!this.enableRTL?(t.style.transform="translate("+i+"px,"+n+"px)",t.style.left="",t.style.top=""):(t.style.left=i+"px",t.style.top=n+"px",t.style.transform=this.controlName==="RangeNavigator"?t.style.transform:"")},e.prototype.updateTemplateFn=function(){if(this.template)try{typeof this.template!="function"&&document.querySelectorAll(this.template).length?this.templateFn=Xt(document.querySelector(this.template).innerHTML.trim()):this.templateFn=Xt(this.template)}catch{this.templateFn=Xt(this.template)}},e.prototype.fadeOut=function(){var t=this,i=this.isCanvas&&!this.template?Er(this.element.id+"_svg"):Er(this.element.id),n=Er(this.element.id);if(i){var s=i.firstChild;if(s&&s.nodeType!==Node.ELEMENT_NODE&&(s=i.firstElementChild),this.isCanvas&&!this.template&&(s=document.getElementById(this.element.id+"_group")?document.getElementById(this.element.id+"_group"):s),!s)return null;var o=parseFloat(s.getAttribute("opacity"));o=p(o)?1:o,new ro({}).animate(s,{duration:200,progress:function(a){t.progressAnimation(s,o,a.timeStamp/a.duration)},end:function(){t.fadeOuted=!0,t.endAnimation(s),n.style.transition=""}})}},e.prototype.progressAnimation=function(t,i,n){t.style.animation="",t.setAttribute("opacity",(i-n).toString())},e.prototype.endAnimation=function(t){t.setAttribute("opacity","0"),this.template&&(t.style.display="none"),this.trigger("animationComplete",{tooltip:this})},e.prototype.getPersistData=function(){var t=[];return this.addOnPersist(t)},e.prototype.getModuleName=function(){return"tooltip"},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.element.classList.remove("e-tooltip")},e.prototype.onPropertyChanged=function(t,i){this.blazorTemplate&&kr(this.element.id+"parent_template_blazorTemplate"),this.isFirst=!1,this.render()},it([I(!1)],e.prototype,"enable",void 0),it([I(!1)],e.prototype,"shared",void 0),it([I(!1)],e.prototype,"crosshair",void 0),it([I(!1)],e.prototype,"enableShadow",void 0),it([I(null)],e.prototype,"fill",void 0),it([I("")],e.prototype,"header",void 0),it([I(.75)],e.prototype,"opacity",void 0),it([gt({size:"12px",fontWeight:null,color:null,fontStyle:"Normal",fontFamily:null},mre)],e.prototype,"textStyle",void 0),it([I(null)],e.prototype,"template",void 0),it([I(!0)],e.prototype,"enableAnimation",void 0),it([I(300)],e.prototype,"duration",void 0),it([I(!1)],e.prototype,"inverted",void 0),it([I(!1)],e.prototype,"isNegative",void 0),it([gt({color:null,width:null},yre)],e.prototype,"border",void 0),it([I([])],e.prototype,"content",void 0),it([I(10)],e.prototype,"markerSize",void 0),it([gt({x:0,y:0},hA)],e.prototype,"clipBounds",void 0),it([I([])],e.prototype,"palette",void 0),it([I([])],e.prototype,"shapes",void 0),it([I("")],e.prototype,"markerImage",void 0),it([gt({x:0,y:0},hA)],e.prototype,"location",void 0),it([I(0)],e.prototype,"offset",void 0),it([I(4)],e.prototype,"rx",void 0),it([I(4)],e.prototype,"ry",void 0),it([I(5)],e.prototype,"marginX",void 0),it([I(5)],e.prototype,"marginY",void 0),it([I(7)],e.prototype,"arrowPadding",void 0),it([I(null)],e.prototype,"data",void 0),it([I("Material")],e.prototype,"theme",void 0),it([gt({x:0,y:0,width:0,height:0},vre)],e.prototype,"areaBounds",void 0),it([I(null)],e.prototype,"availableSize",void 0),it([I()],e.prototype,"blazorTemplate",void 0),it([I(!1)],e.prototype,"isCanvas",void 0),it([I(!1)],e.prototype,"isTextWrap",void 0),it([I(!1)],e.prototype,"isFixed",void 0),it([I(null)],e.prototype,"tooltipPlacement",void 0),it([I(null)],e.prototype,"controlInstance",void 0),it([I("")],e.prototype,"controlName",void 0),it([I(!1)],e.prototype,"showNearestTooltip",void 0),it([Q()],e.prototype,"tooltipRender",void 0),it([Q()],e.prototype,"loaded",void 0),it([Q()],e.prototype,"animationComplete",void 0),it([I(!1)],e.prototype,"enableRTL",void 0),it([I(!1)],e.prototype,"allowHighlight",void 0),it([I(!0)],e.prototype,"showHeaderLine",void 0),e=it([tn],e),e})(rr);var Mre=function(){function r(e){this.transform="",this.connectorLinePath="",this.arrowPath="",this.taskLineValue=0,this.expandedRecords=[],this.parent=e,this.dependencyViewContainer=Be("div",{className:SZ}),Object.assign(this.dependencyViewContainer.style,{width:"100%",height:"100%",zIndex:2,position:"absolute",pointerEvents:"none"}),this.renderer=new wv(this.parent.element.id),this.initPublicProp(),this.svgObject=this.renderer.createSvg({id:this.parent.element.id+"_svg"}),this.svgObject.setAttribute("height","100%"),this.svgObject.setAttribute("width","100%")}return r.prototype.getconnectorLineGap=function(e){var t=0;return t=e.milestoneChild?this.parent.chartRowsModule.milestoneMarginTop/2+this.parent.chartRowsModule.milestoneHeight/2:this.parent.chartRowsModule.taskBarMarginTop/2+this.parent.chartRowsModule.taskBarHeight/2,t},r.prototype.initPublicProp=function(){this.lineColor=this.parent.connectorLineBackground,this.lineStroke=this.parent.connectorLineWidth>4?4:this.parent.connectorLineWidth,this.createConnectorLineTooltipTable()},r.prototype.getTaskbarMidpoint=function(e){return Math.floor(e?this.parent.chartRowsModule.milestoneMarginTop+this.parent.chartRowsModule.milestoneHeight/2:this.parent.chartRowsModule.taskBarMarginTop+this.parent.chartRowsModule.taskBarHeight/2)+1},r.prototype.createConnectorLineObject=function(e,t,i,n){n===void 0&&(n=0);var s={},o;this.parent.pdfExportModule&&this.parent.pdfExportModule.isPdfExport&&this.parent.pdfExportModule.helper.exportProps&&this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings&&this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth?o=this.parent.pdfExportModule.helper.beforeSinglePageExport.cloneFlatData:o=this.parent.pdfExportModule&&this.parent.pdfExportModule.isPdfExport?this.parent.flatData:this.expandedRecords;var a,l;if(this.parent.pdfExportModule&&this.parent.pdfExportModule.isPdfExport&&this.parent.pdfExportModule.helper.exportProps&&this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings&&this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth){var h=this.parent.flatData.filter(function(M){return M.ganttProperties.taskId.toString()===e.ganttProperties.taskId.toString()})[0],u=this.parent.flatData.filter(function(M){return M.ganttProperties.taskId.toString()===t.ganttProperties.taskId.toString()})[0];a=h.index,l=u.index}else a=o.indexOf(e),l=o.indexOf(t);var c=e.ganttProperties,d=t.ganttProperties,f;this.parent.pdfExportModule&&this.parent.pdfExportModule.isPdfExport&&this.parent.pdfExportModule.helper.exportProps&&this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings&&this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth?f=this.parent.virtualScrollModule&&this.parent.enableVirtualization?this.parent.pdfExportModule.helper.beforeSinglePageExport.cloneFlatData:this.parent.getExpandedRecords(this.parent.pdfExportModule.helper.beforeSinglePageExport.cloneFlatData):f=this.parent.virtualScrollModule&&this.parent.enableVirtualization?this.parent.currentViewData:this.parent.expandedRecords,s.parentIndexInCurrentView=f.indexOf(e),s.childIndexInCurrentView=f.indexOf(t);var g=this.parent.virtualScrollModule&&this.parent.enableVirtualization;if(!g&&(s.parentIndexInCurrentView===-1||s.childIndexInCurrentView===-1)||s.parentIndexInCurrentView===-1&&s.childIndexInCurrentView===-1)return null;if(s.parentLeft=c.isMilestone?c.left-this.parent.chartRowsModule.milestoneHeight/2:c.left,s.childLeft=d.isMilestone?d.left-this.parent.chartRowsModule.milestoneHeight/2:d.left,s.parentWidth=c.width===0||c.isMilestone?Math.floor(this.parent.chartRowsModule.milestoneHeight):c.width,s.childWidth=d.width===0||d.isMilestone?Math.floor(this.parent.chartRowsModule.milestoneHeight):d.width,s.parentIndex=a,s.childIndex=l,n===0){var m=this.parent.ganttChartModule.getChartRows();s.rowHeight=!p(m)&&m[0]&&m[0].offsetHeight}else s.rowHeight=n;s.type=i.type;var y=this.parent.viewType==="ResourceView"?c.taskId:c.rowUniqueID,v=this.parent.viewType==="ResourceView"?d.taskId:d.rowUniqueID;return s.connectorLineId="parent"+y+"child"+v,s.milestoneParent=!!c.isMilestone,s.milestoneChild=!!d.isMilestone,s.parentEndPoint=s.parentLeft+s.parentWidth,s.childEndPoint=s.childLeft+s.childWidth,p(al(c))||p(al(d))?null:s},r.prototype.renderConnectorLines=function(e){var t,i=[];this.svgObject.innerHTML="";for(var n=0;n<e.length;n++)t=this.getConnectorLineTemplate(e[n]),this.svgObject.appendChild(t),i.push(e[n]);for(var s=this.parent.connectorLineModule.svgObject.childNodes,o=0;o<s.length;o++)for(var a=s[o].childNodes,l=0;l<a.length;l++){var h="Connector Line "+this.parent.connectorLineModule.generateAriaLabel(i[o]);a[l].setAttribute("aria-label",h),a[l].setAttribute("role","img")}this.parent.ganttChartModule.chartBodyContent.insertBefore(this.dependencyViewContainer,this.parent.ganttChartModule.chartBodyContent.lastChild),this.dependencyViewContainer.appendChild(this.svgObject);for(var o=0;o<this.svgObject.children.length;o++)this.svgObject.children[o].children[0].setAttribute("tabindex","-1")},r.prototype.getParentPosition=function(e){if(e.parentIndex<e.childIndex){if(e.type==="FF")return e.childLeft+e.childWidth>=e.parentLeft+e.parentWidth?"FFType2":"FFType1";if(e.parentLeft<e.childLeft&&e.childLeft>e.parentLeft+e.parentWidth+25){if(e.type==="FS")return"FSType1";if(e.type==="SF")return"SFType1";if(e.type==="SS")return"SSType2"}else if(e.parentLeft<e.childLeft&&e.childLeft<e.parentLeft+e.parentWidth||e.parentLeft===e.childLeft||e.parentLeft>e.childLeft){if(e.parentLeft>e.childLeft+e.childWidth+25&&e.type==="SF")return"SFType2";if(e.parentLeft>e.childLeft){if(e.type==="SS")return"SSType1";if(e.type==="SF")return"SFType1"}if(e.type==="FS")return"FSType2";if(e.type==="SS")return"SSType2";if(e.type==="SF")return"SFType1"}else if(e.parentLeft<e.childLeft){if(e.type==="FS")return"FSType2";if(e.type==="SS")return"SSType2";if(e.type==="SF")return"SFType1"}}else if(e.parentIndex>e.childIndex){if(e.parentLeft<e.childLeft&&e.childLeft>e.parentLeft+e.parentWidth){if(e.type==="FS")return 30>=e.childLeft-(e.milestoneParent?e.parentLeft+e.parentWidth+4:e.parentLeft+e.parentWidth)?"FSType3":"FSType4";if(e.childLeft+e.childWidth>e.parentLeft+e.parentWidth){if(e.type==="SS")return"SSType4";if(e.type==="FF")return"FFType4";if(e.type==="SF")return"SFType4"}}else if(e.parentLeft<e.childLeft&&e.childLeft<e.parentLeft+e.parentWidth||e.parentLeft===e.childLeft||e.parentLeft>e.childLeft){if(e.childLeft+e.childWidth<=e.parentLeft+e.parentWidth){if(e.type==="FF")return"FFType3";if(e.type==="SF")return e.childLeft+e.childWidth+25<e.parentLeft?"SFType3":"SFType4";if(e.type==="SS")return e.childLeft<=e.parentLeft?"SSType3":"SSType4"}else if(e.childLeft+e.childWidth>e.parentLeft+e.parentWidth){if(e.type==="FF")return"FFType4";if(e.type==="SF")return"SFType4";if(e.type==="SS")return e.childLeft<=e.parentLeft?"SSType3":"SSType4"}if(e.type==="FS")return"FSType3"}else if(e.parentLeft<e.childLeft){if(e.type==="FS")return"FSType3";if(e.type==="SS")return"SSType4";if(e.type==="FF")return"FFType4";if(e.type==="SF")return"SFType4"}}return null},r.prototype.getHeightValue=function(){return this.parent.showOverAllocation&&!this.parent.allowTaskbarOverlap?this.parentRowIndexHeight>this.childRowIndexHeight?this.parentRowIndexHeight-this.childRowIndexHeight:this.childRowIndexHeight-this.parentRowIndexHeight:this.parentRowIndexHeight>this.childRowIndexHeight?this.parentRowIndexHeight-this.childRowIndexHeight:this.childRowIndexHeight-this.parentRowIndexHeight},r.prototype.getInnerElementWidthSSType2=function(e){return e.parentLeft===e.childLeft?10:e.childLeft-e.parentLeft},r.prototype.getInnerElementLeftSSType2=function(e){return e.parentLeft===e.childLeft?e.parentLeft-20:e.parentLeft-10},r.prototype.getInnerChildWidthSSType2=function(e){return e.parentLeft+e.parentWidth<e.childLeft?10:e.parentLeft===e.childLeft?20:e.parentLeft+e.parentWidth>=e.childLeft?10:e.childLeft-e.parentLeft},r.prototype.calculateAdjustments=function(e,t,i){var n=this.parent.renderBaseline?.45:!p(document.body.className)&&document.body.className.includes("e-bigger")?.7:.62,s=Math.floor(this.parent.rowHeight*n);if(p(this.parent.taskbarHeight)&&e<=36||!p(this.parent.taskbarHeight)&&this.parent.taskbarHeight<=s||!t)return{adjustY1:0,adjustX:0,adjustY2:0,adjustZ:0};var o=i==="FSType2"||i==="FSType3"||i==="FSType4"||i==="SSType1"||i==="SSType2"||i==="SSType4"||i==="SFType2"?12:24,a=(e-36)/o,l=-(e-36)/4,h=-2*(e-36)/24;return e<=36?{adjustY1:0,adjustX:0,adjustY2:0,adjustZ:0}:{adjustY1:a,adjustX:l,adjustZ:h}},r.prototype.shouldAdjustForBaseline=function(e,t){if(!this.parent.renderBaseline||!(e.milestoneParent||e.milestoneChild)||e.milestoneParent&&e.milestoneChild)return 0;switch(t){case"FSType1":case"FSType2":return e.milestoneParent?-this.parent.chartRowsModule.milestoneMarginTop/2:this.parent.chartRowsModule.taskBarMarginTop;case"FSType3":case"FFType2":case"SFType2":case"SSType2":return e.milestoneParent?this.parent.chartRowsModule.milestoneMarginTop/2:-this.parent.chartRowsModule.taskBarMarginTop;case"FSType4":case"FFType3":case"SFType4":case"FFType4":case"SFType3":case"SFType1":return e.milestoneParent?-this.parent.chartRowsModule.milestoneMarginTop/2:this.parent.chartRowsModule.taskBarMarginTop;case"SSType3":case"SSType4":return e.milestoneParent?-this.parent.chartRowsModule.taskBarMarginTop:this.parent.chartRowsModule.taskBarMarginTop;case"SSType1":case"FFType1":return e.milestoneParent?this.parent.chartRowsModule.taskBarMarginTop:-this.parent.chartRowsModule.milestoneMarginTop/2;default:return 0}},r.prototype.updateParentChildRowsHeight=function(e){var t=this.parent.currentViewData.length-1,i=this.parent.ganttChartModule.getChartRows();this.parentRowIndexHeight=e.parentIndexInCurrentView*e.rowHeight,this.childRowIndexHeight=e.childIndexInCurrentView*e.rowHeight,this.lastRowIndexHeight=t*e.rowHeight;var n=0;if(!this.parent.allowTaskbarOverlap&&this.parent.enableMultiTaskbar){this.parentRowIndexHeight=this.childRowIndexHeight=this.lastRowIndexHeight=0;for(var s=0;s<t;s++){var o=i[s];o&&o.style.display!=="none"&&(n<e.parentIndexInCurrentView&&(this.parentRowIndexHeight+=i[s].offsetHeight),n<e.childIndexInCurrentView&&(this.childRowIndexHeight+=i[s].offsetHeight),this.lastRowIndexHeight+=i[s].offsetHeight,n++)}}},r.prototype.getConnectorLineTemplate=function(e){var t=this.getInnerChildWidthSSType2(e),i=this.getInnerElementWidthSSType2(e),n=this.getInnerElementLeftSSType2(e);this.updateParentChildRowsHeight(e);var s=this.getHeightValue(),o=!!e.milestoneChild,a=this.getPosition(e,this.getParentPosition(e),s),l=this.getPosition(e,this.getParentPosition(e),s),h=l.top;if(this.parent.renderBaseline){var u=this.parent.rowHeight/36*5;e.milestoneParent&&e.milestoneChild||(e.milestoneParent?-u:e.milestoneChild)}var c=a.height,d=0,f=0,g=0,m=0,y=0;if(this.parent.showOverAllocation&&!this.parent.allowTaskbarOverlap){for(var v=0;v<this.parent.currentViewData.length;v++)this.parent.getRowByIndex(v).style.display!=="none"&&y<e.parentIndex&&(y++,g=g+this.parent.getRowByIndex(v).offsetHeight);y=0;for(var M=0;M<this.parent.currentViewData.length;M++)this.parent.getRowByIndex(M).style.display!=="none"&&y<e.childIndex&&(y++,m=m+this.parent.getRowByIndex(M).offsetHeight)}var S=this.parent.connectorLineModule.expandedRecords;if(S[e.parentIndex]&&S[e.childIndex]&&this.parent.allowParentDependency){var b=S[e.parentIndex].hasChildRecords,C=S[e.childIndex].hasChildRecords,T=S[e.parentIndex].ganttProperties.isAutoSchedule,k=S[e.childIndex].ganttProperties.isAutoSchedule,N=!0;(b&&T&&!C||C&&k&&!b||b&&T&&k&&C||!b&&!C)&&(N=!1),N&&(b&&!T&&C&&!k?f=-11:b&&!T&&C&&!k||(e.childIndex>e.parentIndex?!b&&C?d=-11:(d=11,f=-11):b&&!C?d=-11:(d=11,f=-11)),this.parent.currentViewData[e.parentIndex].ganttProperties.isMilestone?e.parentIndex>e.childIndex?(f=-11,d=12):(e.type==="SS"||e.type==="FF")&&(f=-5):this.parent.currentViewData[e.childIndex].ganttProperties.isMilestone?e.parentIndex>e.childIndex?(f=5,d=-10):e.parentIndex<e.childIndex&&(e.type==="SS"||e.type==="FF")&&(f=-10):(e.parentIndex<e.childIndex&&T&&!k||e.childIndex<e.parentIndex&&!T&&k)&&(f=0,d=-11),h+=f)}var A=this.getParentPosition(e);if(A){var E=this.getParentPosition(e),x=this.parent.rowHeight,D=this.calculateAdjustments(x,o,E);this.transform=this.parent.enableRtl?"translate("+(this.parent.enableTimelineVirtualization?this.parent.timelineModule.wholeTimelineWidth:this.parent.timelineModule.totalTimelineWidth)+", 0) scale(-1, 1)":"",this.connectorId="ConnectorLine"+e.connectorLineId,this.groupObject=this.renderer.createGroup({id:this.connectorId,transform:this.transform,style:"pointer-events: stroke",class:CZ}),this.connectorPath=this.renderer.drawPath({class:bZ,d:this.connectorLinePath,fill:"transparent","stroke-width":this.lineStroke}),this.arrowlinePath=this.renderer.drawPath({d:this.arrowPath,class:TZ});var z=this.lineColor&&!this.parent.enableCriticalPath?this.lineColor:"";this.connectorPath.style.stroke=z,this.arrowlinePath.style.fill=z,this.groupObject.appendChild(this.connectorPath),this.groupObject.appendChild(this.arrowlinePath);var w=this.shouldAdjustForBaseline(e,A);if(A==="FSType1"&&(this.taskLineValue=e.milestoneChild?1:0,this.x1=e.parentEndPoint+(e.milestoneParent||e.milestoneChild?-1:0),this.x2=e.milestoneParent?e.childLeft-(e.parentLeft+e.parentWidth+10)+this.lineStroke-10+1:e.childLeft-(e.parentLeft+e.parentWidth+10)+this.lineStroke-10,this.y1=h,this.y2=c+this.taskLineValue+d-this.lineStroke,this.connectorLinePath="M "+this.x1+" "+(this.y1-w)+" L "+(this.x1+this.x2+D.adjustZ)+" "+(this.y1-w)+" L "+(this.x1+this.x2+D.adjustZ)+" "+(this.y1+this.y2+D.adjustY1)+" L "+(this.x1+this.x2+12+D.adjustX)+" "+(this.y1+this.y2+D.adjustY1),this.arrowPath="M "+(this.x1+this.x2+20+D.adjustX)+" "+(this.y1+this.y2+D.adjustY1)+" L "+(this.x1+this.x2+12+D.adjustX)+" "+(this.y1+this.y2-(4+this.lineStroke)+D.adjustY1)+" L "+(this.x1+this.x2+12+D.adjustX)+" "+(this.y1+this.y2+4+D.adjustY1)+" Z"),A==="FSType2"&&(this.x1=e.parentLeft,this.x2=e.parentWidth+(e.milestoneParent?-1:0),this.x3=this.x2+(e.milestoneParent?11:10),this.x4=e.parentWidth-(e.parentEndPoint-e.childLeft+20),this.y1=h,this.y2=c+d-this.getconnectorLineGap(e)-this.lineStroke,this.y3=this.getconnectorLineGap(e),this.y4=this.parent.allowTaskbarOverlap?this.y1+this.y2-(this.y1+this.y2)%e.rowHeight:m,this.connectorLinePath="M "+(this.x1+this.x2)+" "+(this.y1-w)+"  L "+(this.x1+this.x3)+" "+(this.y1-w)+" L "+(this.x1+this.x3)+" "+this.y4+" L "+(this.x1+this.x4+D.adjustZ)+" "+this.y4+" L "+(this.x1+this.x4+D.adjustZ)+" "+(this.y1+this.y2+this.y3+D.adjustY1)+" L "+(this.x1+this.x4+12+D.adjustX)+" "+(this.y1+this.y2+this.y3+D.adjustY1),this.arrowPath="M "+(this.x1+this.x4+20+D.adjustX)+" "+(this.y1+this.y2+this.y3+D.adjustY1)+" L "+(this.x1+this.x4+12+D.adjustX)+" "+(this.y1+this.y2+this.y3-(4+this.lineStroke)+D.adjustY1)+" L "+(this.x1+this.x4+12+D.adjustX)+" "+(this.y1+this.y2+this.y3+4+this.lineStroke+D.adjustY1)+" Z"),A==="FSType3"&&(this.taskLineValue=e.milestoneChild?1:0,this.point1=h,this.x1=e.childLeft+(e.milestoneChild?-1:0)+(e.milestoneParent?1:0)-20,this.x2=e.parentEndPoint-e.childLeft+30,this.y1=this.point1,this.y2=this.point1+c+d-this.getconnectorLineGap(e)-this.lineStroke+this.taskLineValue,this.y3=this.getconnectorLineGap(e),this.y4=this.y2-this.y2%e.rowHeight,this.connectorLinePath="M "+(this.x1+12)+" "+(this.y1-w+D.adjustY1)+" L "+this.x1+" "+(this.y1-w+D.adjustY1)+" L "+this.x1+" "+this.y4+" L "+(this.x1+this.x2)+" "+this.y4+" L "+(this.x1+this.x2)+" "+(this.y2+this.y3)+" L "+(this.x1+this.x2-12)+" "+(this.y2+this.y3),this.arrowPath="M "+(this.x1+20+D.adjustX)+" "+(this.y1-w+D.adjustY1)+" L "+(this.x1+12+D.adjustX)+" "+(this.y1-(4+this.lineStroke)-w+D.adjustY1)+" L "+(this.x1+12+D.adjustX)+" "+(this.y1+4+this.lineStroke-w+D.adjustY1)+" Z"),A==="FSType4"&&(this.point1=h,this.taskLineValue=this.parent.renderBaseline?this.taskLineValue:0,this.x1=e.parentEndPoint+(e.milestoneChild?-1:0)+(e.milestoneParent?1:0),this.x2=e.childLeft-e.parentEndPoint-20,this.y1=this.point1+(e.milestoneChild?-1:0),this.y2=this.point1+c+d-this.lineStroke+1+this.taskLineValue,this.connectorLinePath="M "+(this.x1+this.x2+12)+" "+(this.y1+D.adjustY1)+" L "+(this.x1+this.x2)+" "+(this.y1+D.adjustY1)+" L "+(this.x1+this.x2)+" "+(this.y2-w)+" L "+this.x1+" "+(this.y2-w),this.arrowPath="M "+(this.x1+this.x2+20+D.adjustX)+" "+(this.y1+D.adjustY1)+" L "+(this.x1+this.x2+12+D.adjustX)+" "+(this.y1-(4+this.lineStroke)+D.adjustY1)+" L "+(this.x1+this.x2+12+D.adjustX)+" "+(this.y1+4+this.lineStroke+D.adjustY1)+" Z"),A==="SSType4"){var O=D.adjustX!==0?D.adjustX+2:D.adjustX;this.taskLineValue=this.parent.renderBaseline?this.taskLineValue:0,this.point1=c+this.taskLineValue+d,this.x1=e.parentLeft-10,this.x2=e.childLeft-e.parentLeft,this.y1=h,this.y2=this.y1+this.point1,this.connectorLinePath="M "+(this.x1+this.x2+O)+" "+this.y1+" L "+this.x1+" "+this.y1+" L "+this.x1+" "+(this.y2-w)+" L "+(this.x1+10)+" "+(this.y2-w),this.arrowPath="M "+(this.x1+this.x2+8+O)+" "+this.y1+" L "+(this.x1+this.x2+O)+" "+(this.y1-(4+this.lineStroke))+" L "+(this.x1+this.x2+O)+" "+(this.y1+4+this.lineStroke)+" Z"}if(A==="SSType3"&&(this.taskLineValue=this.parent.renderBaseline?this.taskLineValue:e.milestoneChild?1:0,this.point1=c+this.taskLineValue+d-(this.lineStroke-1),this.x1=e.childLeft-20,this.y1=h,this.x2=e.parentLeft-e.childLeft+21,this.y2=this.y1+this.point1,this.connectorLinePath="M "+(this.x1+12+D.adjustX)+" "+this.y1+" L "+this.x1+" "+this.y1+" L "+this.x1+" "+(this.y2-w)+" L "+(this.x1+this.x2)+" "+(this.y2-w),this.arrowPath="M "+(this.x1+20+D.adjustX)+" "+this.y1+" L "+(this.x1+12+D.adjustX)+" "+(this.y1-(4+this.lineStroke))+" L "+(this.x1+12+D.adjustX)+" "+(this.y1+4+this.lineStroke)+" Z"),A==="SSType2"){var O=D.adjustX!==0?D.adjustX+2:D.adjustX;this.taskLineValue=this.parent.renderBaseline?this.taskLineValue:e.milestoneChild?1:0,this.point1=c+this.taskLineValue+d-this.lineStroke,this.x1=n,this.x2=t+1,this.y1=h,this.y2=this.y1+this.point1,this.connectorLinePath="M "+(this.x1+this.x2)+" "+this.y1+" L "+this.x1+" "+this.y1+" L "+this.x1+" "+(this.y2+D.adjustY1-w)+" L "+(this.x1+i+O)+" "+(this.y2+D.adjustY1-w),this.arrowPath="M "+(this.x1+i+8+O)+" "+(this.y2+D.adjustY1-w)+" L "+(this.x1+i+O)+" "+(this.y2-(4+this.lineStroke)+D.adjustY1-w)+" L "+(this.x1+i+O)+" "+(this.y2+4+this.lineStroke+D.adjustY1-w)+" Z"}if(A==="SSType1"&&(this.taskLineValue=this.parent.renderBaseline?this.taskLineValue:e.milestoneChild?1:0,this.point1=c+this.taskLineValue+d-this.lineStroke,this.x1=e.childLeft-20,this.x2=e.parentLeft-e.childLeft+21,this.y1=h,this.y2=this.y1+this.point1,this.connectorLinePath="M "+(this.x1+this.x2)+" "+this.y1+" L "+this.x1+" "+this.y1+" L "+this.x1+" "+(this.y2+D.adjustY1-w)+" L "+(this.x1+12+D.adjustX)+" "+(this.y2+D.adjustY1-w),this.arrowPath="M "+(this.x1+20+D.adjustX)+" "+(this.y2+D.adjustY1-w)+" L "+(this.x1+12+D.adjustX)+" "+(this.y2-(4+this.lineStroke)+D.adjustY1-w)+" L "+(this.x1+12+D.adjustX)+" "+(this.y2+4+this.lineStroke+D.adjustY1-w)+" Z"),A==="FFType1"){var O=D.adjustX!==0?D.adjustX+11:D.adjustX;this.taskLineValue=this.parent.renderBaseline?this.taskLineValue:e.milestoneChild?1:0,this.x1=e.childEndPoint,this.x2=e.parentEndPoint+(e.milestoneParent?-1:0),this.x3=e.milestoneParent?22:21,this.x4=e.milestoneChild?4:8,this.y1=h,this.y2=c+this.taskLineValue+d-this.lineStroke+1;var L=this.parent.renderBaseline?0:O;this.connectorLinePath="M "+this.x2+" "+this.y1+" L "+(this.x2+this.x3)+" "+this.y1+" L "+(this.x2+this.x3)+" "+(this.y1+this.y2+D.adjustY1-w)+" L "+(this.x1+this.x4)+" "+(this.y1+this.y2+D.adjustY1-w),this.arrowPath="M "+(this.x1+L)+" "+(this.y1+this.y2+D.adjustY1-w)+" L "+(this.x1+8+L)+" "+(this.y1+this.y2-(4+this.lineStroke)+D.adjustY1-w)+" L "+(this.x1+8+L)+" "+(this.y1+this.y2+4+this.lineStroke+D.adjustY1-w)+" Z"}if(A==="FFType2"){var O=D.adjustX!==0?D.adjustX+11:D.adjustX;this.taskLineValue=this.parent.renderBaseline?this.taskLineValue:e.milestoneChild?1:0,this.x1=e.parentEndPoint,this.x2=e.childEndPoint+(e.milestoneParent?22:21),this.x3=e.childEndPoint+(e.milestoneChild?9:8),this.y1=h,this.y2=c+this.taskLineValue+d-this.lineStroke+1;var L=this.parent.renderBaseline?0:O;this.connectorLinePath="M "+this.x1+" "+this.y1+" L "+this.x2+" "+this.y1+" L "+this.x2+" "+(this.y1+this.y2+D.adjustY1-w)+" L "+this.x3+" "+(this.y1+this.y2+D.adjustY1-w),this.arrowPath="M "+(this.x3-8+L)+" "+(this.y1+this.y2+D.adjustY1-w)+" L "+(this.x3+L)+" "+(this.y1+this.y2-(4+this.lineStroke)+D.adjustY1-w)+" L "+(this.x3+L)+" "+(this.y1+this.y2+4+this.lineStroke+D.adjustY1-w)+" Z"}if(A==="FFType3"){var O=D.adjustX!==0?D.adjustX+11:D.adjustX;this.taskLineValue=this.parent.renderBaseline?this.taskLineValue:0,this.x1=e.childEndPoint,this.x2=this.x1+(e.milestoneChild?4:8),this.x3=e.parentEndPoint-e.childEndPoint+(e.milestoneChild?16:10),this.x4=e.parentEndPoint+(e.milestoneParent?-1:0),this.y1=h,this.y2=c+this.taskLineValue+d-this.lineStroke+1;var L=this.parent.renderBaseline?0:O;this.connectorLinePath="M "+this.x2+" "+this.y1+" L "+(this.x2+this.x3)+" "+this.y1+" L "+(this.x2+this.x3)+" "+(this.y1+this.y2-w)+" L "+this.x4+" "+(this.y1+this.y2-w),this.arrowPath="M "+(this.x1+L)+" "+this.y1+" L "+(this.x1+8+L)+" "+(this.y1-(4+this.lineStroke))+" L "+(this.x1+8+L)+" "+(this.y1+4+this.lineStroke)+" Z"}if(A==="FFType4"){var O=D.adjustX!==0?D.adjustX+11:D.adjustX;this.taskLineValue=this.parent.renderBaseline?this.taskLineValue:0,this.x1=e.parentEndPoint,this.x2=e.childEndPoint+(e.milestoneChild?7:8),this.x3=this.x2+(e.milestoneChild?12:11),this.y1=h,this.y2=c+this.taskLineValue+d-this.lineStroke+1;var L=this.parent.renderBaseline?0:O;this.connectorLinePath="M "+this.x2+" "+this.y1+" L "+this.x3+" "+this.y1+" L "+this.x3+" "+(this.y1+this.y2-w)+" L "+this.x1+" "+(this.y1+this.y2-w),this.arrowPath="M "+(this.x2-8+L)+" "+this.y1+" L "+(this.x2+L)+" "+(this.y1-(4+this.lineStroke))+" L "+(this.x2+L)+" "+(this.y1+4+this.lineStroke)+" Z"}if(A==="SFType4"){var O=D.adjustX!==0?D.adjustX+11:D.adjustX;this.taskLineValue=this.parent.renderBaseline?this.taskLineValue:e.milestoneChild?-1:0,this.point1=this.taskLineValue+c+d-this.getconnectorLineGap(e)-(this.lineStroke-1),this.point2=h,this.x1=e.parentLeft-10,this.x2=this.x1+(e.childEndPoint-e.parentLeft+18),this.x3=this.x2+(e.milestoneChild?16:11),this.y1=this.point2,this.y2=this.y1+this.point1,this.y3=this.getconnectorLineGap(e),this.y4=this.y2-this.y2%e.rowHeight;var L=this.parent.renderBaseline?0:O;this.connectorLinePath="M "+this.x2+" "+(this.y1-D.adjustY1)+" L "+this.x3+" "+(this.y1-D.adjustY1)+" L "+this.x3+" "+this.y4+" L "+this.x1+" "+this.y4+" L "+this.x1+" "+(this.y2+this.y3-w)+" L "+(this.x1+11)+" "+(this.y2+this.y3-w),this.arrowPath="M "+(this.x2-8+L)+" "+(this.y1-D.adjustY1)+" L "+(this.x2+L)+" "+(this.y1-(4+this.lineStroke)-D.adjustY1)+" L "+(this.x2+L)+" "+(this.y1+4+this.lineStroke-D.adjustY1)+" Z"}if(A==="SFType3"){var O=D.adjustX!==0?D.adjustX+11:D.adjustX;this.taskLineValue=this.parent.renderBaseline?this.taskLineValue:0,this.point1=e.parentLeft-(e.childEndPoint+(e.milestoneParent?23:20))+1,this.point2=h,this.x1=e.childEndPoint,this.x2=this.x1+(e.milestoneChild?9:8),this.x3=this.x2+(e.milestoneChild?17:11),this.y1=this.point2,this.y2=this.y1+c+d-(this.lineStroke-1)+this.taskLineValue;var L=this.parent.renderBaseline?0:O;this.connectorLinePath="M "+this.x2+" "+this.y1+" L "+this.x3+" "+this.y1+" L "+this.x3+" "+(this.y2-w)+" L "+(this.x3+this.point1)+" "+(this.y2-w),this.arrowPath="M "+(this.x2-8+L)+" "+this.y1+" L "+(this.x2+L)+" "+(this.y1-(4+this.lineStroke))+" L "+(this.x2+L)+" "+(this.y1+4+this.lineStroke)+" Z"}if(A==="SFType1"){var O=D.adjustX!==0?D.adjustX+11:D.adjustX;this.taskLineValue=this.parent.renderBaseline?this.taskLineValue:e.milestoneChild?1:0,this.point1=c+d-this.getconnectorLineGap(e)+this.taskLineValue-this.lineStroke,this.point2=this.getconnectorLineGap(e),this.x1=e.parentLeft-10,this.y1=h,this.x2=e.childEndPoint-e.parentLeft+31,this.y2=this.y1+this.point1,this.x3=e.childEndPoint-e.parentLeft+18,this.y3=this.y2-this.y2%e.rowHeight;var L=this.parent.renderBaseline?0:O;this.connectorLinePath="M "+(this.x1+11)+" "+(this.y1-w)+" L "+this.x1+" "+(this.y1-w)+" L "+this.x1+" "+this.y3+" L "+(this.x1+this.x2)+" "+this.y3+" L "+(this.x1+this.x2)+" "+(this.y2+this.point2+D.adjustY1)+" L "+(this.x1+this.x3)+" "+(this.y2+this.point2+D.adjustY1),this.arrowPath="M "+(this.x1+this.x3-8+L)+" "+(this.y2+this.point2+D.adjustY1)+" L "+(this.x1+this.x3+L)+" "+(this.y2+this.point2-(4+this.lineStroke)+D.adjustY1)+" L "+(this.x1+this.x3+L)+" "+(this.y2+this.point2+4+this.lineStroke+D.adjustY1)+" Z"}if(A==="SFType2"){var O=D.adjustX!==0?D.adjustX+11:D.adjustX;this.taskLineValue=this.parent.renderBaseline?this.taskLineValue:0,this.x1=e.childEndPoint,this.y1=h,this.x2=e.parentLeft-e.childEndPoint,this.y2=this.y1+c+this.taskLineValue+d-this.lineStroke;var L=this.parent.renderBaseline?0:O;this.connectorLinePath="M "+(this.x1+this.x2+1)+" "+this.y1+" L "+(this.x1+this.x2-10)+" "+this.y1+" L "+(this.x1+this.x2-10)+" "+(this.y2+D.adjustY1-w)+" L "+(this.x1+8)+" "+(this.y2+D.adjustY1-w),this.arrowPath="M "+(this.x1+L)+" "+(this.y2+D.adjustY1-w)+" L "+(this.x1+8+L)+" "+(this.y2-(4+this.lineStroke)+D.adjustY1-w)+" L "+(this.x1+8+L)+" "+(this.y2+4+this.lineStroke+D.adjustY1-w)+" Z"}this.connectorPath.setAttribute("d",this.connectorLinePath),this.arrowlinePath.setAttribute("d",this.arrowPath)}return this.groupObject},r.prototype.getPosition=function(e,t,i){var n=0,s=0,o=!!e.milestoneParent,a=!!e.milestoneChild,l=this.getTaskbarMidpoint(o)-(this.lineStroke-1),h=this.getTaskbarMidpoint(a)-(this.lineStroke-1),u=e.parentIndexInCurrentView!==-1,c=e.childIndexInCurrentView!==-1;return t==="SSType1"||t==="SSType2"||t==="FFType1"||t==="FFType2"||t==="SFType2"?(n=u?this.parentRowIndexHeight+l:0,s=u&&c?i:c?this.childRowIndexHeight+l:this.lastRowIndexHeight+l):t==="SSType3"||t==="SSType4"||t==="FSType4"||t==="FFType3"||t==="FFType4"||t==="SFType4"||t==="SFType3"?(n=c?this.childRowIndexHeight+h:0,s=u&&c?i:u?this.parentRowIndexHeight+h:this.lastRowIndexHeight+h):t==="FSType3"?(n=c?this.childRowIndexHeight+l:0,s=u&&c?i:u?this.parentRowIndexHeight+h:this.lastRowIndexHeight+l):(t==="SFType1"||t==="FSType1"||t==="FSType2")&&(n=u?this.parentRowIndexHeight+h:0,s=u&&c?i:c?this.childRowIndexHeight+h:this.lastRowIndexHeight+h),{top:n,height:s}},r.prototype.createConnectorLineTooltipTable=function(){this.tooltipTable=Be("table",{className:".e-tooltiptable",styles:"margin-top:0px",attrs:{cellspacing:"2px",cellpadding:"2px"}});var e=Be("tbody");e.innerHTML="",this.tooltipTable.appendChild(e)},r.prototype.getConnectorLineTooltipInnerTd=function(e,t,i,n){var s=this,o=document.createElement("tbody"),a=function(l,h,u,c){var d=document.createElement("tr");d.id=l;var f=document.createElement("td");f.style.padding="2px",f.textContent=s.parent.localeObj.getConstant(h);var g=document.createElement("td");g.textContent=u;var m=document.createElement("td");return m.style.padding="2px",m.textContent=s.parent.localeObj.getConstant(c),d.append(f,g,m),d};return o.appendChild(a("fromPredecessor","from",e,t)),o.appendChild(a("toPredecessor","to",i||"",n||"")),o},r.prototype.generateAriaLabel=function(e){var t=e.type,i=this.expandedRecords,n=i[e.parentIndex].ganttProperties.taskName,s=i[e.childIndex].ganttProperties.taskName,o=this.parent.localeObj.getConstant("start"),a=this.parent.localeObj.getConstant("finish"),l="";return t==="FS"?l=n+" "+a+" to "+s+" "+o:t==="FF"?l=n+" "+a+" to "+s+" "+a:t==="SS"?l=n+" "+o+" to "+s+" "+o:l=n+" "+o+" to "+s+" "+a,l},r.prototype.getRecordByID=function(e){if(p(e))return null;if(this.parent.pdfExportModule&&this.parent.pdfExportModule.isPdfExport&&this.parent.pdfExportModule.helper.exportProps&&this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings&&this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth){var t=this.parent.pdfExportModule.helper.beforeSinglePageExport.cloneFlatData.filter(function(i){return i.ganttProperties.taskId.toString()===e.toString()})[0];return t}else return this.parent.viewType==="ResourceView"?this.parent.flatData[this.parent.getTaskIds().indexOf("T"+e.toString())]:this.parent.getRecordByID(e)},r.prototype.removePreviousConnectorLines=function(e){for(var t=pa(e),i=Object.keys(e),n=0;n<i.length;n++){var s=t?e[i[n]]:e[n],o=s.ganttProperties,a=o&&o.predecessor;if(a&&a.length>0)for(var l=0,h=a;l<h.length;l++){var u=h[l],c="parent"+u.from+"child"+u.to;this.removeConnectorLineById(c)}}},r.prototype.removeConnectorLineById=function(e){var t=this.parent.connectorLineModule.dependencyViewContainer.querySelector("#ConnectorLine"+e.replace(/([.])/g,"\\$1"));p(t)||ot(t)},r}(),PP=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),di=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},dg="e-splitter",g0="e-splitter-horizontal",m0="e-splitter-vertical",Ia="e-pane",Da="e-pane-horizontal",Ta="e-pane-vertical",$l="e-split-bar",uA="e-split-bar-horizontal",cA="e-split-bar-vertical",oi="e-static-pane",ud="e-scrollable",vu="e-resize-handler",y0="e-resizable-split-bar",Kl="e-split-bar-hover",wa="e-split-bar-active",cd="e-hide-handler",Sre="e-splitter-touch",dA="e-disabled",pA="e-rtl",Cre="e-icons",dd="e-collapsible",xa="e-navigate-arrow",Jl="e-arrow-right",zo="e-arrow-left",Oo="e-arrow-up",Zl="e-arrow-down",In="e-icon-hidden",rn="e-expanded",qt="e-collapsed",pd="e-pane-hidden",Ro="e-resizable",v0="e-last-bar",bre=1,Ire=function(r){PP(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return di([I()],e.prototype,"size",void 0),di([I(!1)],e.prototype,"collapsible",void 0),di([I(!1)],e.prototype,"collapsed",void 0),di([I(!0)],e.prototype,"resizable",void 0),di([I(null)],e.prototype,"min",void 0),di([I(null)],e.prototype,"max",void 0),di([I()],e.prototype,"content",void 0),di([I("")],e.prototype,"cssClass",void 0),e}(Xe),Dre=function(r){PP(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.needsID=!0,n}return e.prototype.onPropertyChanged=function(t,i){if(this.element.classList.contains(dg))for(var n=0,s=Object.keys(t);n<s.length;n++){var o=s[n];switch(o){case"height":this.setSplitterSize(this.element,t.height,"height");break;case"width":this.setSplitterSize(this.element,t.width,"width");break;case"cssClass":this.setCssClass(this.element,t.cssClass);break;case"enabled":this.isEnabled(this.enabled);break;case"enableReversePanes":this.setReversePane();break;case"separatorSize":this.setSeparatorSize(t.separatorSize);break;case"orientation":this.changeOrientation(t.orientation);break;case"paneSettings":{if(t.paneSettings instanceof Array&&i.paneSettings instanceof Array)this.clearTemplate(),this.destroyPaneSettings(),this.allBars=[],this.allPanes=[],this.createSplitPane(this.element),this.addSeparator(this.element),this.getPanesDimensions(),this.setRTL(this.enableRtl),this.isCollapsed();else{var a=Object.keys(t.paneSettings),l=a.some(function(b){return!p(t.paneSettings[b].content)});if(this.isReact&&l){for(var h=0,u=0;u<this.paneSettings.length;u++)typeof this.paneSettings[u].content=="function"&&(h=h+1);var c=h===this.paneSettings.length;c&&this.clearTemplate()}for(var d=0;d<a.length;d++)for(var f=parseInt(Object.keys(t.paneSettings)[d],10),g=Object.keys(t.paneSettings[f]).length,m=0;m<g;m++){var y=Object.keys(t.paneSettings[f])[m];switch(y){case"content":{var v=Object(t.paneSettings[f])[""+y];p(v)||(this.allPanes[f].innerHTML="",this.setTemplate(v,this.allPanes[f]));break}case"resizable":{var M=Object(t.paneSettings[f])[""+y];this.resizableModel(f,M);break}case"collapsible":this.collapsibleModelUpdate(f);break;case"collapsed":t.paneSettings[f].collapsed?this.isCollapsed(f):this.collapsedOnchange(f);break;case"cssClass":this.setCssClass(this.allPanes[f],t.paneSettings[f].cssClass);break;case"size":{var S=Object(t.paneSettings[f])[""+y];S!==""&&!p(S)&&this.updatePaneSize(S,f);break}}}}break}case"enableRtl":this.setRTL(t.enableRtl);break}}},e.prototype.updatePaneSize=function(t,i){this.allPanes[i].style.flexBasis=t;for(var n=[],s,o=0,a=0;a<this.allPanes.length;a++)!this.paneSettings[a].size&&this.allPanes[a].innerText!==""?(n[o]=a,o++):this.paneSettings[a].size&&(s=this.orientation==="Horizontal"?this.allPanes[i].offsetWidth:this.allPanes[i].offsetHeight);s=this.orientation==="Horizontal"?this.allBars[0].offsetWidth*this.allBars.length+s:this.allBars[0].offsetHeight*this.allBars.length+s;for(var l=(this.orientation==="Horizontal"?this.element.offsetWidth:this.element.offsetHeight)-s-this.border*2,h=l/n.length,u=0;u<n.length;u++)this.allPanes[n[u]].style.flexBasis!==""&&(this.allPanes[n[u]].style.flexBasis=h+"px");this.allPanes[i].classList.add(oi)},e.prototype.initializeValues=function(){this.allPanes=[],this.paneOrder=[],this.separatorOrder=[],this.allBars=[],this.previousCoordinates={},this.currentCoordinates={},this.updatePrePaneInPercentage=!1,this.updateNextPaneInPercentage=!1,this.panesDimensions=[],this.border=0,this.validDataAttributes=["data-size","data-min","data-max","data-collapsible","data-resizable","data-content","data-collapsed"],this.validElementAttributes=["data-orientation","data-width","data-height"],this.iconsDelay=300,this.templateElement=[],this.collapseFlag=!1,this.expandFlag=!0},e.prototype.preRender=function(){this.initializeValues(),this.onReportWindowSize=this.reportWindowSize.bind(this),this.onMouseMoveHandler=this.onMouseMove.bind(this),this.onMouseUpHandler=this.onMouseUp.bind(this),this.onTouchMoveHandler=this.onMouseMove.bind(this),this.onTouchEndHandler=this.onMouseUp.bind(this),this.wrapper=this.element.cloneNode(!0),this.wrapperParent=this.element.parentElement,ue([this.wrapper],["e-control","e-lib",dg]);var t=this.orientation==="Horizontal"?g0:m0;Z([this.element],t);var i=ne.info.name,n=i==="msie"?"e-ie":"";this.setCssClass(this.element,n),ne.isDevice&&Z([this.element],Sre)},e.prototype.getPersistData=function(){return this.addOnPersist(["paneSettings"])},e.prototype.getModuleName=function(){return"splitter"},e.prototype.render=function(){this.checkDataAttributes(),this.setCssClass(this.element,this.cssClass),this.isEnabled(this.enabled),this.setDimension(this.getHeight(this.element),this.getWidth(this.element)),this.createSplitPane(this.element),this.addSeparator(this.element),this.getPanesDimensions(),this.setPaneSettings(),this.setRTL(this.enableRtl),this.enableReversePanes&&this.setReversePane(),this.collapseFlag=!0,this.isCollapsed(),this.collapseFlag=!1,F.add(document,"touchstart click",this.onDocumentClick,this),this.renderComplete(),this.element.ownerDocument.defaultView.addEventListener("resize",this.onReportWindowSize,!0),F.add(this.element,"keydown",this.onMove,this)},e.prototype.onDocumentClick=function(t){!t.target.classList.contains($l)&&!p(this.currentSeparator)&&(this.currentSeparator.classList.remove(Kl),this.currentSeparator.classList.remove(wa))},e.prototype.checkPaneSize=function(t){var i=this.orientation==="Horizontal"?this.previousPane.offsetWidth:this.previousPane.offsetHeight,n=this.orientation==="Horizontal"?this.nextPane.offsetWidth:this.nextPane.offsetHeight,s=p(this.separatorSize)?bre:this.separatorSize;if(this.previousPane.style.flexBasis.indexOf("%")>0||this.previousPane.style.flexBasis.indexOf("p")>0||this.nextPane.style.flexBasis.indexOf("%")>0){var o=this.updatePaneFlexBasis(this.previousPane),a=this.updatePaneFlexBasis(this.nextPane);this.totalPercent=o+a,this.totalWidth=this.convertPercentageToPixel(this.totalPercent+"%"),t.type==="keydown"&&!p(t.keyCode)&&((t.keyCode===39||t.keyCode===40)&&n>0&&this.getMinInPixel(this.paneSettings[this.nextPaneIndex].min)<this.convertPercentageToPixel(a-1+"%")?(this.previousPane.style.flexBasis=o+1+"%",this.nextPane.style.flexBasis=a-1+"%"):(t.keyCode===37||t.keyCode===38)&&i>0&&this.getMinInPixel(this.paneSettings[this.prevPaneIndex].min)<this.convertPercentageToPixel(o-1+"%")&&(this.previousPane.style.flexBasis=o-1+"%",this.nextPane.style.flexBasis=a+1+"%"))}else this.totalWidth=this.orientation==="Horizontal"?this.previousPane.offsetWidth+this.nextPane.offsetWidth:this.previousPane.offsetHeight+this.nextPane.offsetHeight,t.type==="keydown"&&!p(t.keyCode)&&((t.keyCode===39||t.keyCode===40)&&n>0&&this.getMinInPixel(this.paneSettings[this.nextPaneIndex].min)<n+s?(this.addStaticPaneClass(),this.previousPane.style.flexBasis=i+s+"px",this.nextPane.style.flexBasis=n<s?"0px":n-s+"px"):(t.keyCode===37||t.keyCode===38)&&i>0&&this.getMinInPixel(this.paneSettings[this.prevPaneIndex].min)<i-s&&(this.addStaticPaneClass(),this.previousPane.style.flexBasis=i<s?"0px":i-s+"px",this.nextPane.style.flexBasis=n+s+"px"))},e.prototype.onMove=function(t){if(this.allPanes.length>1){var i=this.getSeparatorIndex(this.currentSeparator),n=this.previousPane.classList.contains(qt),s=this.previousPane.classList.contains(rn),o=this.nextPane.classList.contains(qt);(this.orientation!=="Horizontal"&&t.keyCode===38||this.orientation==="Horizontal"&&t.keyCode===39||this.orientation==="Horizontal"&&t.keyCode===37||this.orientation!=="Horizontal"&&t.keyCode===40)&&(!s&&!o&&!n||s&&!o)&&document.activeElement.classList.contains($l)&&this.paneSettings[i].resizable&&this.paneSettings[i+1].resizable?(t.preventDefault(),this.checkPaneSize(t),this.triggerResizing(t)):t.keyCode===13&&this.paneSettings[i].collapsible&&document.activeElement.classList.contains($l)&&this.currentSeparator.classList.contains(wa)&&(this.previousPane.classList.contains(qt)?(this.expand(i),Z([this.currentSeparator],wa)):(this.collapse(i),Z([this.currentSeparator],wa)))}},e.prototype.getMinInPixel=function(t){if(p(t))return 0;var i=this.convertPixelToNumber(t.toString());t.indexOf("%")>0&&(i=this.convertPercentageToPixel(t));var n=this.convertPixelToNumber(i.toString());return n},e.prototype.sanitizeHelper=function(t){if(this.enableHtmlSanitizer){var i=St.beforeSanitize(),n={cancel:!1,helper:null};ie(i,i,n),this.trigger("beforeSanitizeHtml",i),i.cancel&&!p(i.helper)?t=i.helper(t):i.cancel||(t=St.serializeValue(i,t))}return t},e.prototype.checkDataAttributes=function(){for(var t,i,n=0;n<this.validElementAttributes.length;n++)i=this.element.getAttribute(this.validElementAttributes[n]),p(i)||(t=this.removeDataPrefix(this.validElementAttributes[n]),this[t]=i);for(var s=0;s<this.element.children.length;s++)for(var o=0;o<this.validDataAttributes.length;o++)if(i=this.element.children[s].getAttribute(this.validDataAttributes[o]),!p(i)){t=this.removeDataPrefix(this.validDataAttributes[o]),i=t==="collapsible"||t==="resizable"?i==="true":i,p(this.paneSettings[s])&&(this.paneSettings[s]={size:"",min:null,max:null,content:"",resizable:!0,collapsible:!1,collapsed:!1});var a=this.paneSettings[s][t];(t==="resizable"||t==="collapsible"||t==="collapsed")&&(this.paneSettings[s][t]=i),(p(a)||a==="")&&(this.paneSettings[s][t]=i)}},e.prototype.destroyPaneSettings=function(){[].slice.call(this.element.children).forEach(function(t){bt(t)}),this.restoreElem()},e.prototype.setPaneSettings=function(){for(var t=this.allPanes.length,i=[],n={size:"",min:null,max:null,content:"",resizable:!0,collapsed:!1,collapsible:!1,cssClass:""},s=0;s<t;s++)p(this.paneSettings[s])?i[s]=n:i[s]=this.paneSettings[s];this.setProperties({paneSettings:i},!0)},e.prototype.checkArrow=function(t,i){return this.allBars[t].querySelector("."+xa+"."+i)},e.prototype.removeDataPrefix=function(t){return t.slice(t.lastIndexOf("-")+1)},e.prototype.setRTL=function(t){t?Z([this.element],pA):ue([this.element],pA)},e.prototype.setReversePane=function(){this.allPanes=this.allPanes.reverse(),this.allBars=this.allBars.reverse(),Z([this.allBars[this.allBars.length-1]],v0),ue([this.allBars[0]],v0),this.setProperties({paneSettings:this.paneSettings.reverse()},!0),this.enableReversePanes?this.element.setAttribute("dir","rtl"):this.element.removeAttribute("dir")},e.prototype.setSplitterSize=function(t,i,n){var s=n==="width"?{width:mt(i)}:{height:mt(i)};Ci(t,s)},e.prototype.getPanesDimensions=function(){for(var t=0;t<this.allPanes.length;t++)this.orientation==="Horizontal"?this.panesDimensions.push(this.allPanes[t].getBoundingClientRect().width):this.panesDimensions.push(this.allPanes[t].getBoundingClientRect().height)},e.prototype.setCssClass=function(t,i){i&&Z([t],i.split(i.indexOf(",")>-1?",":" "))},e.prototype.hideResizer=function(t){Z([ii("."+vu,t)],cd)},e.prototype.showResizer=function(t){!p(this.previousPane)&&this.previousPane.classList.contains(Ro)&&!p(this.nextPane)&&this.nextPane.classList.contains(Ro)&&ue([ii("."+vu,t)],cd)},e.prototype.resizableModel=function(t,i){var n=t===this.allBars.length?t-1:t,s=t;F.remove(this.allBars[n],"mousedown",this.onMouseDown),i?(F.add(this.allBars[n],"mousedown",this.onMouseDown,this),this.isResizable()&&(this.showResizer(this.allBars[n]),ue([ii("."+vu,this.allBars[n])],cd),this.allBars[n].classList.add(y0),t===this.allBars.length?this.allPanes[t].classList.add(Ro):this.allPanes[n].classList.add(Ro),this.updateResizablePanes(s))):(this.updateResizablePanes(s),this.hideResizer(this.allBars[n]),this.allBars[n].classList.remove(y0),t===this.allBars.length?this.allPanes[t].classList.remove(Ro):this.allPanes[n].classList.remove(Ro))},e.prototype.collapsibleModelUpdate=function(t){var i=t===this.allBars.length?t-1:t,n=this.orientation==="Horizontal"?this.checkArrow(i,zo):this.checkArrow(i,Oo),s=this.orientation==="Horizontal"?this.checkArrow(i,Jl):this.checkArrow(i,Zl);this.paneCollapsible(this.allPanes[t],t),this.updateCollapseIcons(i,s,n)},e.prototype.collapseArrow=function(t,i){return ln("."+i,this.allBars[t])[0]},e.prototype.updateIsCollapsed=function(t,i,n){if(!p(t)){var s=void 0,o=t===this.allBars.length,a=o?t-1:t;!o&&this.allPanes[t+1].classList.contains(qt)&&t!==0?s=this.collapseArrow(a-1,n):s=o?this.collapseArrow(a,n):this.collapseArrow(a,i),s.click()}},e.prototype.isCollapsed=function(t){var i=this;if(!(!p(t)&&this.paneSettings[t].collapsed&&p(this.allPanes[t].classList.contains(qt)))){if(this.expandFlag=!1,p(t)){for(var h=0;h<this.allPanes.length;h++)!p(this.paneSettings[h])&&this.paneSettings[h].collapsed&&this.updateIsCollapsed(h,this.targetArrows().collapseArrow,this.targetArrows().lastBarArrow);for(var h=this.allPanes.length-1;h>=0;h--)if(!p(this.paneSettings[h])&&this.paneSettings[h].collapsed&&!this.allPanes[h].classList.contains(qt)){var u=this.orientation==="Horizontal"?Jl:Zl;if(h!==0){var n=this.collapseArrow(h-1,u);n.click()}if(!this.nextPane.classList.contains(qt)){var n=this.collapseArrow(h-1,u);n.click()}}}else{this.collapseFlag=!0;var n=void 0,s=t===this.allBars.length,o=s?t-1:t;!s&&this.allPanes[t+1].classList.contains(qt)&&t!==0?n=this.collapseArrow(o-1,this.targetArrows().lastBarArrow):n=s?this.collapseArrow(o,this.targetArrows().lastBarArrow):this.collapseArrow(o,this.targetArrows().collapseArrow);var a={target:n},l=this.beforeAction(a);this.trigger("beforeCollapse",l,function(c){if(!c.cancel){var d=[];d[0]=t;for(var f=1,g=0;g<i.allPanes.length;g++)i.allPanes[g].classList.contains(qt)&&(d[f]=g,f++);d=d.sort(),i.updateIsCollapsed(t,i.targetArrows().collapseArrow,i.targetArrows().lastBarArrow);for(var g=0;g<d.length;g++)i.allPanes[d[g]].classList.contains(qt)||i.updateIsCollapsed(d[g],i.targetArrows().collapseArrow,i.targetArrows().lastBarArrow);for(var g=d.length;g>0;g--)if(!i.allPanes[d[g-1]].classList.contains(qt)){var m=i.targetArrows();i.updateIsCollapsed(d[g-1],m.collapseArrow,m.lastBarArrow)}var y=i.afterAction(a);i.trigger("collapsed",y),i.collapseFlag=!1}})}this.expandFlag=!0}},e.prototype.targetArrows=function(){return this.splitterProperty(),{collapseArrow:this.orientation==="Horizontal"?zo:Oo,lastBarArrow:this.orientation==="Vertical"?Zl:Jl}},e.prototype.collapsedOnchange=function(t){!p(this.paneSettings[t])&&!p(this.paneSettings[t].collapsed)&&this.allPanes[t].classList.contains(qt)&&this.updateIsCollapsed(t,this.targetArrows().lastBarArrow,this.targetArrows().collapseArrow)},e.prototype.isEnabled=function(t){t?ue([this.element],dA):Z([this.element],dA)},e.prototype.setSeparatorSize=function(t){for(var i=p(t)?"auto":t+"px",n=this.orientation==="Horizontal"?uA:cA,s=0;s<this.allBars.length;s++){var o=ln("."+n,this.element)[s],a=ln("."+vu,o)[0];this.orientation==="Horizontal"?(o.style.width=i,p(a)||(a.style.width=i)):(o.style.height=i,p(a)||(a.style.height=i))}},e.prototype.changeOrientation=function(t){var i=t==="Vertical";this.element.classList.remove(i?g0:m0),this.element.classList.add(i?m0:g0);for(var n=0;n<this.allPanes.length;n++)this.allPanes[n].classList.remove(i?Da:Ta),this.allPanes[n].classList.add(i?Ta:Da);for(var n=0;n<this.allBars.length;n++)bt(this.allBars[n]);this.allBars=[],this.addSeparator(this.element)},e.prototype.checkSplitPane=function(t,i){var n=this.collectPanes(t.parentElement.children)[i];return n},e.prototype.collectPanes=function(t){for(var i=[],n=0;n<t.length;n++)t[n].classList.contains(Ia)&&i.push(t[n]);return i},e.prototype.getPrevPane=function(t){return this.enableReversePanes?this.getOrderPane(t+1):this.getOrderPane(t-1)},e.prototype.getNextPane=function(t){return this.enableReversePanes?this.getOrderPane(t-1):this.getOrderPane(t+1)},e.prototype.getOrderPane=function(t){for(var i,n=0;n<this.element.children.length;n++)parseInt(this.element.children[n].style.order,10)===t&&(i=this.element.children[n]);return i},e.prototype.getOrderIndex=function(t,i){var n,s;i==="pane"?s=this.allPanes:s=this.allBars;for(var o=0;o<s.length;o++)parseInt(s[o].style.order,10)===t&&(n=o);return n},e.prototype.updateSeparatorSize=function(t){var i=p(this.separatorSize)?"1px":this.separatorSize+"px";this.orientation==="Horizontal"?t.style.width=i:t.style.height=i},e.prototype.addResizeHandler=function(t){var i=this.createElement("div");Z([i],[vu,Cre]),this.updateSeparatorSize(i),t.appendChild(i)},e.prototype.getHeight=function(t){var i=this.height;return i=t.style.height!==""&&this.height==="100%"?t.style.height:this.height,i},e.prototype.getWidth=function(t){var i=this.width;return i=t.style.width!==""&&this.width==="100%"?t.style.width:this.width,i},e.prototype.setDimension=function(t,i){Ci(this.element,{height:t,width:i})},e.prototype.updateCollapseIcons=function(t,i,n){p(this.paneSettings[t])||p(this.paneSettings[t].collapsible)||(this.paneSettings[t].collapsible?ue([n],[In]):Z([n],[In]),p(this.paneSettings[t+1])||(this.paneSettings[t+1].collapsible?ue([i],[In]):Z([i],[In])),p(this.paneSettings[t+1])||this.paneSettings[t+1].collapsible&&(this.paneSettings[t+1].collapsible?ue([i],[In]):Z([i],[In])))},e.prototype.updateIconClass=function(){this.orientation==="Horizontal"?(this.leftArrow=zo,this.rightArrow=Jl):(this.leftArrow=Oo,this.rightArrow=Zl)},e.prototype.createSeparator=function(t){var i=this.createElement("div");this.allBars.push(i);var n=this.createElement("button"),s=this.createElement("button");n.setAttribute("tabindex","-1"),s.setAttribute("tabindex","-1"),n.setAttribute("aria-label","Toggle navigation"),s.setAttribute("aria-label","Toggle navigation"),n.setAttribute("type","button"),s.setAttribute("type","button");var o=p(this.separatorSize)?"1px":this.separatorSize+"px",a=this;return this.orientation==="Horizontal"?(this.updateIconClass(),Z([s],[xa,zo,In]),Z([n],[xa,Jl,In]),Z([i],[$l,uA]),i.style.width=o):(Z([n],[xa,Zl,In]),Z([s],[xa,Oo,In]),Z([i],[$l,cA]),this.updateIconClass(),i.style.height=o),this.addMouseActions(i),i.appendChild(s),this.addResizeHandler(i),i.appendChild(n),this.updateCollapseIcons(t,n,s),i.setAttribute("tabindex","-1"),i.setAttribute("aria-hidden","true"),this.enableReversePanes?i.setAttribute("dir","ltr"):i.removeAttribute("dir"),i.addEventListener("focus",function(){i.classList.add(wa),a.currentSeparator=i,a.getPaneDetails()}),i.addEventListener("blur",function(){i.classList.remove(wa)}),i},e.prototype.updateResizablePanes=function(t){this.getPaneDetails(),this.isResizable()?this.allPanes[t].classList.add(Ro):this.allPanes[t].classList.remove(Ro)},e.prototype.addSeparator=function(t){for(var i=this.allPanes.length,n=t.children,s,o=0;o<i;o++)if(o<i-1){if(s=this.createSeparator(o),Ci(s,{order:o*2+1}),this.separatorOrder.push(o*2+1),n[o].parentNode.appendChild(s),this.currentSeparator=s,s.setAttribute("role","separator"),s.setAttribute("aria-valuenow",o.toString()),p(this.orientation)||s.setAttribute("aria-orientation",this.orientation.toLowerCase()),this.wireClickEvents(),!p(s))if(this.isResizable()){F.add(s,"mousedown",this.onMouseDown,this);var a=ne.info.name==="msie"?"pointerdown":"touchstart";F.add(s,a,this.onMouseDown,this),s.classList.add(y0),this.updateResizablePanes(o)}else Z([ii("."+vu,s)],cd)}else s&&Z([s],v0),i>1&&this.updateResizablePanes(o);if(ne.info.name==="msie")for(var l=this.element.querySelectorAll(".e-splitter .e-resize-handler"),o=0;o<l.length;o++){var h=p(this.separatorSize)?1:this.separatorSize;l[o].style.paddingLeft=h/2+"px",l[o].style.paddingRight=h/2+"px"}},e.prototype.isResizable=function(){var t=!1;return(!p(this.paneSettings[this.getPreviousPaneIndex()])&&this.paneSettings[this.getPreviousPaneIndex()].resizable&&!p(this.paneSettings[this.getNextPaneIndex()])&&this.paneSettings[this.getNextPaneIndex()].resizable||p(this.paneSettings[this.getNextPaneIndex()]))&&(t=!0),t},e.prototype.addMouseActions=function(t){var i=this,n,s;t.addEventListener("mouseenter",function(){n=setTimeout(function(){Z([t],[Kl])},i.iconsDelay)}),t.addEventListener("mouseleave",function(){clearTimeout(n),ue([t],[Kl])}),t.addEventListener("mouseout",function(){clearTimeout(s)}),t.addEventListener("mouseover",function(){s=setTimeout(function(){Z([t],[Kl])})})},e.prototype.getEventType=function(t){return t.indexOf("mouse")>-1?"mouse":"touch"},e.prototype.updateCurrentSeparator=function(t){this.currentSeparator=this.isSeparator(t)?t.parentElement:t},e.prototype.isSeparator=function(t){return!t.classList.contains($l)},e.prototype.isMouseEvent=function(t){var i=!1;return(this.getEventType(t.type)==="mouse"||!p(t.pointerType)&&this.getEventType(t.pointerType)==="mouse")&&(i=!0),i},e.prototype.updateCursorPosition=function(t,i){if(this.isMouseEvent(t))this.changeCoordinates({x:t.pageX,y:t.pageY},i);else{var n=ne.info.name!=="msie"?t.touches[0]:t;this.changeCoordinates({x:n.pageX,y:n.pageY},i)}},e.prototype.changeCoordinates=function(t,i){i==="previous"?this.previousCoordinates=t:this.currentCoordinates=t},e.prototype.reportWindowSize=function(){var t=this,i=this.allPanes.length;if(!document.body.contains(this.element)){document.defaultView.removeEventListener("resize",this.onReportWindowSize);return}for(var n=0;n<i;n++)if(p(this.paneSettings[n].size)&&this.allPanes[n].classList.remove(oi),i-1===n){var s=this.element.querySelectorAll("."+oi).length;s===i&&this.allPanes[n].style.flexBasis===""&&ue([this.allPanes[n]],oi)}i>0&&setTimeout(function(){t.updateSplitterSize(!0)},200)},e.prototype.updateSplitterSize=function(t){for(var i=0,n=[],s=0,o=this.element.children,a=0,l=o.length;a<l;a++)i+=this.orientation==="Horizontal"?o[a].offsetWidth:o[a].offsetHeight;for(var h=0,l=this.allBars.length;h<l;h++)i+=this.orientation==="Horizontal"?parseInt(getComputedStyle(this.allBars[h]).marginLeft,10)+parseInt(getComputedStyle(this.allBars[h]).marginLeft,10):parseInt(getComputedStyle(this.allBars[h]).marginTop,10)+parseInt(getComputedStyle(this.allBars[h]).marginBottom,10);for(var u=this.orientation==="Horizontal"?this.element.offsetWidth-(this.border*2+i):this.element.offsetHeight-(this.border*2+i),a=0,l=this.allPanes.length;a<l;a++)(this.allPanes[a].innerText===""?!this.paneSettings[a].size||this.allPanes[a].innerText!=="":!this.paneSettings[a].size&&this.allPanes[a].innerText!=="")&&(n[s]=a,s++);for(var c=u/n.length,h=0,l=n.length;h<l;h++)this.allPanes[n[h]].style.flexBasis!==""&&(this.allPanes[n[h]].style.flexBasis=this.orientation==="Horizontal"?this.allPanes[n[h]].offsetWidth+c+"px":this.allPanes[n[h]].offsetHeight+c+"px");if(this.allPanes.length===2&&t){for(var d=this.allPanes.length,f=void 0,g=void 0,m=0,y=void 0,v=void 0,a=0;a<d;a++)if(!p(this.paneSettings[a].min)&&(g=this.convertPixelToNumber(this.paneSettings[a].min.toString()),this.paneSettings[a].min.indexOf("%")>0&&(g=this.convertPercentageToPixel(this.paneSettings[a].min)),f=this.convertPixelToNumber(g.toString()),(this.orientation==="Horizontal"?this.allPanes[a].offsetWidth:this.allPanes[a].offsetHeight)<f)){a===m?(y=this.allPanes[a],v=this.allPanes[a+1]):(y=this.allPanes[a],v=this.allPanes[a-1]);var M=f-(this.orientation==="Horizontal"?this.allPanes[a].offsetWidth:this.allPanes[a].offsetHeight),S=y.style.flexBasis.indexOf("%")>-1,b=this.orientation==="Horizontal"?y.offsetWidth:y.offsetHeight;!p(y)&&y.style.flexBasis!==""&&y.classList.contains(oi)&&(y.style.flexBasis=S?this.convertPixelToPercentage(b+M)+"%":b+M+"px");var C=this.orientation==="Horizontal"?v.offsetWidth:v.offsetHeight;!p(v)&&v.style.flexBasis!==""&&!v.classList.contains(oi)&&(v.style.flexBasis=v.style.flexBasis.indexOf("%")>-1?this.convertPixelToPercentage(C-M)+"%":C-M+"px")}}},e.prototype.wireResizeEvents=function(){document.addEventListener("mousemove",this.onMouseMoveHandler,!0),document.addEventListener("mouseup",this.onMouseUpHandler,!0);var t=ne.info.name==="msie"?"pointermove":"touchmove",i=ne.info.name==="msie"?"pointerup":"touchend";document.addEventListener(t,this.onTouchMoveHandler,!0),document.addEventListener(i,this.onTouchEndHandler,!0)},e.prototype.unwireResizeEvents=function(){this.element.ownerDocument.defaultView.removeEventListener("resize",this.onReportWindowSize);var t=ne.info.name==="msie"?"pointermove":"touchmove",i=ne.info.name==="msie"?"pointerup":"touchend";document.removeEventListener("mousemove",this.onMouseMoveHandler,!0),document.removeEventListener("mouseup",this.onMouseUpHandler,!0),document.removeEventListener(t,this.onTouchMoveHandler,!0),document.removeEventListener(i,this.onTouchEndHandler,!0)},e.prototype.wireClickEvents=function(){F.add(this.currentSeparator,"touchstart click",this.clickHandler,this)},e.prototype.clickHandler=function(t){if(!t.target.classList.contains(xa)){var i=ln("."+dg+" > ."+$l+"."+Kl);i.length>0&&ue(i,Kl),t.target.classList.add(Kl)}this.splitterDetails(t);var n=t.target;(n.classList.contains(zo)||n.classList.contains(Jl)||n.classList.contains(Zl)||n.classList.contains(Oo))&&(!this.nextPane.classList.contains(pd)&&!this.previousPane.classList.contains(pd)?this.collapseAction(t):this.expandAction(t),this.updateSplitterSize())},e.prototype.expandAction=function(t){var i=this,n=this.beforeAction(t);this.expandFlag?this.trigger("beforeExpand",n,function(s){s.cancel||i.expandPane(t);var o=i.afterAction(t);i.trigger("expanded",o)}):this.expandPane(t)},e.prototype.getIcon=function(t){var i=t.target.className.split(" ").filter(function(n){return n!==xa&&n!==In});return i[0]},e.prototype.expandPane=function(t){this.removeStaticPanes();var i=this.element.querySelectorAll("."+qt).length,n=!this.previousPane.classList.contains(qt)&&this.previousPane.classList.contains(oi)&&!this.nextPane.classList.contains(qt)&&!this.nextPane.classList.contains(rn)&&this.nextPane.nextElementSibling.classList.contains(Ia)&&!this.nextPane.nextElementSibling.classList.contains(oi)&&i!==this.allPanes.length-2,s=[qt,pd],o=this.getIcon(t),a=o===zo||o===Oo,l=a?this.nextPane:this.previousPane,h=a?this.previousPane:this.nextPane,u=a?this.nextPaneIndex:this.prevPaneIndex;ue([l],s),l.setAttribute("aria-hidden","false");var c=this.element.querySelectorAll("."+qt).length;if(c>0)h.classList.contains(qt)||(Z([h],rn),h.setAttribute("aria-expanded","true"));else if(c===0)for(var d=0;d<this.allPanes.length;d++)this.allPanes[d].classList.contains(qt)||(ue([this.allPanes[d]],rn),this.allPanes[d].setAttribute("aria-expanded","false"));this.expandFlag&&this.updatePaneSettings(u,!1),this.updateIconsOnExpand(t,o),this.updateFlexGrow(),n&&(this.previousPane.classList.remove(rn),this.previousPane.setAttribute("aria-expanded","false"),this.previousPane.style.flexGrow="")},e.prototype.updateFlexGrow=function(){for(var t=0,i=0;i<this.element.children.length;i++)this.element.children[i].classList.contains(qt)&&(t=t+1);for(var n=t===this.allPanes.length-2,s=this.allPanes,o=0;o<s.length;o++)s[o].style.flexGrow="",n&&this.allPanes[o].classList.contains(qt)&&this.paneSettings[o].size&&o!==this.allPanes.length-1&&(s[o].style.flexGrow=""),s[o].classList.contains(rn)?s[o].style.flexGrow="1":s[o].classList.contains(qt)&&(s[o].style.flexGrow="0")},e.prototype.hideTargetBarIcon=function(t,i){Z([ii("."+i,t)],In)},e.prototype.showTargetBarIcon=function(t,i){ue([ii("."+i,t)],In)},e.prototype.updateIconsOnCollapse=function(t,i){this.splitterProperty();var n=this.arrow,s=this.currentBarIndex===this.allBars.length-1?this.prevBar:this.nextBar,o=this.currentBarIndex===this.allBars.length-1?this.currentBarIndex-1:this.currentBarIndex+1;if(t.target.classList.contains(In))this.resizableModel(this.currentBarIndex,!1),p(s)||this.resizableModel(o,!0),!this.paneSettings[this.prevPaneIndex].collapsible||!this.paneSettings[this.nextPaneIndex].collapsible?(p(s)||this.hideTargetBarIcon(s,i),this.hideTargetBarIcon(this.currentSeparator,n)):(p(s)||this.hideTargetBarIcon(s,n),this.showTargetBarIcon(this.currentSeparator,n));else if(this.splitInstance.prevPaneCollapsed||this.splitInstance.nextPaneCollapsed)if(this.paneSettings[this.prevPaneIndex].collapsible&&this.paneSettings[this.nextPaneIndex].collapsible){if(this.resizableModel(this.currentBarIndex,!1),this.hideTargetBarIcon(this.currentSeparator,i),!p(s)){var a=o,l=o+1,h=this.getCollapseCount(a,l);this.paneSettings[a].collapsible&&this.paneSettings[l].collapsible&&(h===1?(this.hideTargetBarIcon(s,n),this.resizableModel(o,!1)):h===2&&(this.hideBarIcons(s),this.resizableModel(o,!1)),(!this.paneSettings[a].collapsible||!this.paneSettings[l].collapsible)&&this.hideTargetBarIcon(s,i))}}else this.showTargetBarIcon(this.currentSeparator,n),this.hideTargetBarIcon(this.currentSeparator,i),this.resizableModel(this.currentBarIndex,!1)},e.prototype.collapseAction=function(t){var i=this,n=this.beforeAction(t);this.collapseFlag?this.collapsePane(t):this.trigger("beforeCollapse",n,function(s){if(!s.cancel){i.collapsePane(t);var o=i.afterAction(t);i.trigger("collapsed",o)}})},e.prototype.collapsePane=function(t){this.removeStaticPanes();var i=this.element.querySelectorAll("."+qt).length,n=this.previousPane.classList.contains(oi)&&!this.previousPane.classList.contains(qt)&&!this.nextPane.classList.contains(qt)&&this.nextPane.nextElementSibling.classList.contains(Ia)&&!this.nextPane.nextElementSibling.classList.contains(oi)&&!this.nextPane.nextElementSibling.classList.contains(qt)&&i!==this.allPanes.length-2||this.nextPane.classList.contains(qt)&&!this.previousPane.classList.contains(oi)&&this.nextPane.classList.contains(oi),s=[qt,pd],o=this.getIcon(t),a=o===zo||o===Oo,l=a?this.previousPane:this.nextPane,h=a?this.nextPane:this.previousPane,u=a?this.prevPaneIndex:this.nextPaneIndex;ue([l],rn),l.setAttribute("aria-expanded","false"),Z([l],s),l.setAttribute("aria-hidden","true");var c=l.style.flexBasis==="";if(c)Z([h],rn),h.setAttribute("aria-expanded","true");else{for(var d=!0,f=0;f<this.allPanes.length;f++)if(!this.allPanes[f].classList.contains(qt)&&this.allPanes[f].style.flexBasis===""&&!this.allPanes[f].classList.contains(qt)&&!this.allPanes[f].classList.contains(rn)){Z([this.allPanes[f]],rn),this.allPanes[f].setAttribute("aria-expanded","true"),d=!1;break}d&&(Z([h],rn),h.setAttribute("aria-expanded","true"))}this.collapseFlag||this.updatePaneSettings(u,!0),this.updateIconsOnCollapse(t,o),this.updateFlexGrow(),n&&(this.nextPane.classList.remove(rn),this.nextPane.style.flexGrow="")},e.prototype.removeStaticPanes=function(){for(var t=0;t<this.allPanes.length;t++)p(this.paneSettings[t].size)&&this.allPanes[t].classList.remove(oi)},e.prototype.beforeAction=function(t){var i={element:this.element,event:t,pane:[this.previousPane,this.nextPane],index:[this.prevPaneIndex,this.nextPaneIndex],separator:this.currentSeparator,cancel:!1};return i},e.prototype.updatePaneSettings=function(t,i){var n=this.paneSettings;n[t].collapsed=i,this.setProperties({paneSettings:n},!0)},e.prototype.splitterProperty=function(){this.splitInstance={currentBarIndex:this.currentBarIndex,nextPaneCollapsible:this.nextPane.classList.contains(dd),prevPaneCollapsible:this.previousPane.classList.contains(dd),prevPaneExpanded:this.previousPane.classList.contains(rn),nextPaneExpanded:this.nextPane.classList.contains(rn),nextPaneCollapsed:this.nextPane.classList.contains(qt),prevPaneCollapsed:this.previousPane.classList.contains(qt),nextPaneIndex:this.getNextPaneIndex(),prevPaneIndex:this.getPreviousPaneIndex(),nextPaneNextEle:this.nextPane.nextElementSibling,prevPanePreEle:this.previousPane.previousElementSibling}},e.prototype.showCurrentBarIcons=function(){ue([ii("."+this.arrow,this.currentSeparator)],In)},e.prototype.hideBarIcons=function(t){Z([ii("."+this.arrow,t)],In)},e.prototype.getCollapseCount=function(t,i){var n=0;return this.allPanes[t].classList.contains(qt)&&(n=n+1),this.allPanes[i].classList.contains(qt)&&(n=n+1),n},e.prototype.checkResizableProp=function(t,i){return!!(this.paneSettings[t].resizable&&this.paneSettings[i].resizable)},e.prototype.updateIconsOnExpand=function(t,i){this.splitterProperty();var n=this.arrow,s=this.currentBarIndex===this.allBars.length-1?this.prevBar:this.nextBar,o=this.currentBarIndex===this.allBars.length-1?this.currentBarIndex-1:this.currentBarIndex+1;if(t.target.classList.contains(In))!this.paneSettings[this.prevPaneIndex].collapsible&&!this.paneSettings[this.nextPaneIndex].collapsible&&this.checkResizableProp(this.prevPaneIndex,this.nextPaneIndex)&&this.resizableModel(this.currentBarIndex,!0);else if(!this.splitInstance.prevPaneCollapsed&&!this.splitInstance.nextPaneCollapsed)if(this.paneSettings[this.prevPaneIndex].collapsible&&this.paneSettings[this.nextPaneIndex].collapsible){if(this.showCurrentBarIcons(),this.checkResizableProp(this.prevPaneIndex,this.nextPaneIndex)?this.resizableModel(this.currentBarIndex,!0):this.resizableModel(this.currentBarIndex,!1),!p(s)){var a=o,l=o+1,h=this.getCollapseCount(a,l);this.paneSettings[a].collapsible&&this.paneSettings[l].collapsible&&(h===0?(this.showTargetBarIcon(s,i),this.showTargetBarIcon(s,n),this.checkResizableProp(a,l)&&this.resizableModel(o,!0)):h===1&&(this.hideBarIcons(s),this.allPanes[a].classList.contains(rn)||this.allPanes[l].classList.contains(rn)?this.showTargetBarIcon(s,n):this.showTargetBarIcon(s,i),this.resizableModel(o,!1)))}}else this.hideTargetBarIcon(this.currentSeparator,i),this.showTargetBarIcon(this.currentSeparator,n),!this.splitInstance.prevPaneCollapsed&&!this.splitInstance.nextPaneCollapsed?this.checkResizableProp(this.prevPaneIndex,this.nextPaneIndex)&&this.resizableModel(this.currentBarIndex,!0):this.resizableModel(this.currentBarIndex,!1)},e.prototype.afterAction=function(t){var i={element:this.element,event:t,pane:[this.previousPane,this.nextPane],index:[this.prevPaneIndex,this.nextPaneIndex],separator:this.currentSeparator};return i},e.prototype.currentIndex=function(t){this.currentBarIndex=this.getOrderIndex(parseInt(t.target.parentElement.style.order,10),"splitbar")},e.prototype.getSeparatorIndex=function(t){var i=[].slice.call(this.allBars);return i=this.enableReversePanes?i.reverse():i,i.indexOf(t)},e.prototype.getPrevBar=function(t){var i=this.allBars[t-1];return i},e.prototype.getNextBar=function(t){var i=this.allBars[t+1];return i},e.prototype.updateBars=function(t){this.prevBar=this.getPrevBar(t),this.nextBar=this.getNextBar(t)},e.prototype.splitterDetails=function(t){this.orientation==="Horizontal"?this.arrow=t.target.classList.contains(zo)?Jl:zo:this.arrow=t.target.classList.contains(Oo)?Zl:Oo,this.updateCurrentSeparator(t.target),this.currentIndex(t),this.updateBars(this.currentBarIndex),this.getPaneDetails()},e.prototype.triggerResizing=function(t){var i={element:this.element,event:t,pane:[this.previousPane,this.nextPane],index:[this.prevPaneIndex,this.nextPaneIndex],paneSize:[this.prePaneDimenson,this.nextPaneDimension],separator:this.currentSeparator};this.trigger("resizing",i)},e.prototype.onMouseDown=function(t){var i=this;t.preventDefault();var n=t.target;if(!n.classList.contains(xa)){this.updateCurrentSeparator(n),Z([this.currentSeparator],wa),this.updateCursorPosition(t,"previous"),this.getPaneDetails();for(var s={element:this.element,event:t,pane:[this.previousPane,this.nextPane],index:[this.getPreviousPaneIndex(),this.getNextPaneIndex()],separator:this.currentSeparator,cancel:!1},o=0;o<this.element.querySelectorAll("iframe").length;o++)this.element.querySelectorAll("iframe")[o].style.pointerEvents="none";this.trigger("resizeStart",s,function(a){a.cancel||(i.wireResizeEvents(),i.checkPaneSize(t))})}},e.prototype.updatePaneFlexBasis=function(t){var i;if(t.style.flexBasis.indexOf("%")>0)i=this.removePercentageUnit(t.style.flexBasis);else if(t.style.flexBasis!=="")i=this.convertPixelToPercentage(this.convertPixelToNumber(t.style.flexBasis));else{var n=this.orientation==="Horizontal"?t.offsetWidth:t.offsetHeight;i=this.convertPixelToPercentage(n)}return i},e.prototype.removePercentageUnit=function(t){return parseFloat(t.slice(0,t.indexOf("%")))},e.prototype.convertPercentageToPixel=function(t,i){var n=t.toString(),s;if(n.indexOf("%")>-1){s=parseFloat(n.slice(0,n.indexOf("%")));var o=void 0;p(i)?o=this.orientation==="Horizontal"?this.element.offsetWidth:this.element.offsetHeight:o=this.panesDimensions[this.allPanes.indexOf(i)],s=Math.ceil(o*(s/100))}else s=parseInt(n,10);return s},e.prototype.convertPixelToPercentage=function(t){var i=this.orientation==="Horizontal"?this.element.offsetWidth:this.element.offsetHeight;return t/i*100},e.prototype.convertPixelToNumber=function(t){return t=t.toString(),t.indexOf("p")>-1?parseFloat(t.slice(0,t.indexOf("p"))):parseFloat(t)},e.prototype.calcDragPosition=function(t,i){var n=this.orientation==="Horizontal"?this.currentCoordinates.x-t:this.currentCoordinates.y-t,s;return s=n/i,s=s>1?1:s<0?0:s,s*i},e.prototype.getSeparatorPosition=function(t){this.updateCursorPosition(t,"current");var i=this.orientation==="Horizontal"?this.element.getBoundingClientRect().left+window.scrollX:this.element.getBoundingClientRect().top+window.scrollY,n=this.orientation==="Horizontal"?this.element.offsetWidth:this.element.offsetHeight;return this.calcDragPosition(i,n)},e.prototype.getMinMax=function(t,i,n){var s=n==="min"?0:null,o=null;return n==="min"?!p(this.paneSettings[t])&&!p(this.paneSettings[t].min)&&(o=this.paneSettings[t].min):!p(this.paneSettings[t])&&!p(this.paneSettings[t].max)&&(o=this.paneSettings[t].max),this.paneSettings.length>0&&!p(this.paneSettings[t])&&!p(o)?(o.indexOf("%")>0&&(o=this.convertPercentageToPixel(o).toString()),this.convertPixelToNumber(o)):s},e.prototype.getPreviousPaneIndex=function(){var t=this.enableReversePanes?parseInt(this.currentSeparator.style.order,10)+1:parseInt(this.currentSeparator.style.order,10)-1;return this.getOrderIndex(t,"pane")},e.prototype.getNextPaneIndex=function(){var t=this.enableReversePanes?parseInt(this.currentSeparator.style.order,10)-1:parseInt(this.currentSeparator.style.order,10)+1;return this.getOrderIndex(t,"pane")},e.prototype.getPaneDetails=function(){var t=null,i=null;if(this.order=parseInt(this.currentSeparator.style.order,10),this.allPanes.length>1&&(t=this.getPrevPane(this.order),i=this.getNextPane(this.order)),t&&i)this.previousPane=t,this.nextPane=i,this.prevPaneIndex=this.getPreviousPaneIndex(),this.nextPaneIndex=this.getNextPaneIndex();else return},e.prototype.getPaneHeight=function(t){return this.orientation==="Horizontal"?t.offsetWidth.toString():t.offsetHeight.toString()},e.prototype.isValidSize=function(t){var i=!1;return!p(this.paneSettings[t])&&!p(this.paneSettings[t].size)&&this.paneSettings[t].size.indexOf("%")>-1&&(i=!0),i},e.prototype.getPaneDimensions=function(){this.previousPaneHeightWidth=this.previousPane.style.flexBasis===""?this.getPaneHeight(this.previousPane):this.previousPane.style.flexBasis,this.nextPaneHeightWidth=this.nextPane.style.flexBasis===""?this.getPaneHeight(this.nextPane):this.nextPane.style.flexBasis,this.isValidSize(this.prevPaneIndex)&&(this.previousPaneHeightWidth=this.convertPercentageToPixel(this.previousPaneHeightWidth).toString(),this.updatePrePaneInPercentage=!0),this.isValidSize(this.nextPaneIndex)&&(this.nextPaneHeightWidth=this.convertPercentageToPixel(this.nextPaneHeightWidth).toString(),this.updateNextPaneInPercentage=!0),this.prePaneDimenson=this.convertPixelToNumber(this.previousPaneHeightWidth.toString()),this.nextPaneDimension=this.convertPixelToNumber(this.nextPaneHeightWidth.toString())},e.prototype.checkCoordinates=function(t,i){var n=!0;return t===this.previousCoordinates.x&&i===this.previousCoordinates.y&&(n=!1),n},e.prototype.isCursorMoved=function(t){var i=!0;return this.getEventType(t.type)==="mouse"||!p(t.pointerType)&&this.getEventType(t.pointerType)==="mouse"?i=this.checkCoordinates(t.pageX,t.pageY):i=ne.info.name!=="msie"?this.checkCoordinates(t.touches[0].pageX,t.touches[0].pageY):this.checkCoordinates(t.pageX,t.pageY),i},e.prototype.getBorder=function(){this.border=0;var t=this.orientation==="Horizontal"?(this.element.offsetWidth-this.element.clientWidth)/2:(this.element.offsetHeight-this.element.clientHeight)/2;this.border=t},e.prototype.onMouseMove=function(t){if(this.isCursorMoved(t)){this.getPaneDetails(),this.getPaneDimensions(),this.triggerResizing(t);var i=this.validateDraggedPosition(this.getSeparatorPosition(t),this.prePaneDimenson,this.nextPaneDimension),n;if(this.getBorder(),this.orientation==="Horizontal"?n=this.element.getBoundingClientRect().left+i-this.currentSeparator.getBoundingClientRect().left+this.border:n=this.element.getBoundingClientRect().top+i-this.currentSeparator.getBoundingClientRect().top+this.border,this.nextPaneHeightWidth=typeof this.nextPaneHeightWidth=="string"&&this.nextPaneHeightWidth.indexOf("p")>-1?this.convertPixelToNumber(this.nextPaneHeightWidth):parseInt(this.nextPaneHeightWidth,10),this.previousPaneHeightWidth=typeof this.previousPaneHeightWidth=="string"&&this.previousPaneHeightWidth.indexOf("p")>-1?this.convertPixelToNumber(this.previousPaneHeightWidth):parseInt(this.previousPaneHeightWidth,10),this.prevPaneCurrentWidth=n+this.previousPaneHeightWidth,this.nextPaneCurrentWidth=this.nextPaneHeightWidth-n,this.validateMinMaxValues(),this.nextPaneCurrentWidth<0&&(this.nextPaneCurrentWidth=0),this.prevPaneCurrentWidth<0&&(this.prevPaneCurrentWidth=0),this.nextPaneCurrentWidth+this.prevPaneCurrentWidth>this.totalWidth&&(this.nextPaneCurrentWidth<this.prevPaneCurrentWidth?this.prevPaneCurrentWidth=this.prevPaneCurrentWidth-(this.nextPaneCurrentWidth+this.prevPaneCurrentWidth-this.totalWidth):this.nextPaneCurrentWidth=this.nextPaneCurrentWidth-(this.nextPaneCurrentWidth+this.prevPaneCurrentWidth-this.totalWidth)),this.nextPaneCurrentWidth+this.prevPaneCurrentWidth<this.totalWidth){var s=this.totalWidth-(this.nextPaneCurrentWidth+this.prevPaneCurrentWidth);this.nextPaneCurrentWidth=this.nextPaneCurrentWidth+s}this.calculateCurrentDimensions(),this.addStaticPaneClass();for(var o=0,a=0;a<this.paneSettings.length;a++)this.paneSettings[a].size===""?o=o+1:this.allPanes[a].style.flexBasis!==""&&(this.paneSettings[a].size=this.allPanes[a].style.flexBasis);var l=o===this.allPanes.length;if(this.previousPane.style.flexBasis===""&&this.nextPane.style.flexBasis===""&&!l){var h=this.allPanes.length%this.allBars.length;this.prevPaneIndex===h?(this.nextPane.style.flexBasis=this.nextPaneCurrentWidth,Z([this.nextPane],oi)):this.nextPaneIndex===h?(this.previousPane.style.flexBasis=this.prevPaneCurrentWidth,Z([this.previousPane],oi)):(this.nextPane.style.flexBasis=this.nextPaneCurrentWidth,Z([this.nextPane],oi))}else l?(this.previousPane.style.flexBasis=this.prevPaneCurrentWidth,Z([this.previousPane],oi),this.nextPane.style.flexBasis=this.nextPaneCurrentWidth,Z([this.nextPane],oi)):(this.previousPane.style.flexBasis!==""&&this.previousPane.classList.contains(oi)&&(this.previousPane.style.flexBasis=this.prevPaneCurrentWidth),this.nextPane.style.flexBasis!==""&&this.nextPane.classList.contains(oi)&&(this.nextPane.style.flexBasis=this.nextPaneCurrentWidth));var u=this.previousPane.style.flexBasis!==""&&this.nextPane.style.flexBasis!=="";!(this.allPanes.length>2)&&u&&this.updateSplitterSize()}},e.prototype.validateMinRange=function(t,i){var n=null,s,o=0,a;return!p(this.paneSettings[t])&&!p(this.paneSettings[t].min)&&(n=this.paneSettings[t].min.toString()),p(n)||(n.indexOf("%")>0&&(n=this.convertPercentageToPixel(n).toString()),s=this.convertPixelToNumber(n),i<s&&(o=i-s<=0?0:i-s,this.totalWidth=this.totalWidth-o,this.totalPercent=this.convertPixelToPercentage(this.totalWidth),a=s)),p(a)?i:a},e.prototype.validateMaxRange=function(t,i){var n=null,s,o;return!p(this.paneSettings[t])&&!p(this.paneSettings[t].max)&&(n=this.paneSettings[t].max.toString()),p(n)||(n.indexOf("%")>0&&(n=this.convertPercentageToPixel(n).toString()),s=this.convertPixelToNumber(n),i>s&&(this.totalWidth=this.totalWidth-(i-s),this.totalPercent=this.convertPixelToPercentage(this.totalWidth),o=s)),p(o)?i:o},e.prototype.validateMinMaxValues=function(){this.prevPaneCurrentWidth=this.validateMinRange(this.prevPaneIndex,this.prevPaneCurrentWidth),this.nextPaneCurrentWidth=this.validateMinRange(this.nextPaneIndex,this.nextPaneCurrentWidth),this.prevPaneCurrentWidth=this.validateMaxRange(this.prevPaneIndex,this.prevPaneCurrentWidth),this.nextPaneCurrentWidth=this.validateMaxRange(this.nextPaneIndex,this.nextPaneCurrentWidth)},e.prototype.equatePaneWidths=function(){var t;this.prevPaneCurrentWidth+this.nextPaneCurrentWidth>this.totalPercent&&(t=this.prevPaneCurrentWidth+this.nextPaneCurrentWidth-this.totalPercent,this.prevPaneCurrentWidth=this.prevPaneCurrentWidth-t/2+"%",this.nextPaneCurrentWidth=this.nextPaneCurrentWidth-t/2+"%"),this.prevPaneCurrentWidth+this.nextPaneCurrentWidth<this.totalPercent&&(t=this.totalPercent-(this.prevPaneCurrentWidth+this.nextPaneCurrentWidth),this.prevPaneCurrentWidth=this.prevPaneCurrentWidth+t/2+"%",this.nextPaneCurrentWidth=this.nextPaneCurrentWidth+t/2+"%")},e.prototype.calculateCurrentDimensions=function(){this.updatePrePaneInPercentage||this.updateNextPaneInPercentage?(this.prevPaneCurrentWidth=Math.round(Number(Math.round(this.convertPixelToPercentage(this.prevPaneCurrentWidth)*10)/10)),this.nextPaneCurrentWidth=Math.round(Number(Math.round(this.convertPixelToPercentage(this.nextPaneCurrentWidth)*10)/10)),this.prevPaneCurrentWidth===0&&(this.nextPaneCurrentWidth=this.totalPercent),this.nextPaneCurrentWidth===0&&(this.prevPaneCurrentWidth=this.totalPercent),this.prevPaneCurrentWidth+this.nextPaneCurrentWidth!==this.totalPercent?this.equatePaneWidths():(this.prevPaneCurrentWidth=this.prevPaneCurrentWidth+"%",this.nextPaneCurrentWidth=this.nextPaneCurrentWidth+"%"),this.prevPaneCurrentWidth=this.updatePrePaneInPercentage?this.prevPaneCurrentWidth:this.convertPercentageToPixel(this.prevPaneCurrentWidth)+"px",this.nextPaneCurrentWidth=this.updateNextPaneInPercentage?this.nextPaneCurrentWidth:this.convertPercentageToPixel(this.nextPaneCurrentWidth)+"px",this.updatePrePaneInPercentage=!1,this.updateNextPaneInPercentage=!1):(this.prevPaneCurrentWidth=this.prevPaneCurrentWidth+"px",this.nextPaneCurrentWidth=this.nextPaneCurrentWidth+"px")},e.prototype.addStaticPaneClass=function(){!this.previousPane.classList.contains(oi)&&this.previousPane.style.flexBasis!==""&&!this.previousPane.classList.contains(rn)&&this.previousPane.classList.add(oi),!this.nextPane.classList.contains(oi)&&this.nextPane.style.flexBasis!==""&&!this.nextPane.classList.contains(rn)&&this.nextPane.classList.add(oi)},e.prototype.validateDraggedPosition=function(t,i,n){var s=this.orientation==="Horizontal"?this.currentSeparator.offsetLeft:this.currentSeparator.offsetTop,o=s-i,a=n+s,l=this.getMinMax(this.prevPaneIndex,this.previousPane,"min"),h=this.getMinMax(this.nextPaneIndex,this.nextPane,"min"),u=this.getMinMax(this.prevPaneIndex,this.previousPane,"max"),c=this.getMinMax(this.nextPaneIndex,this.nextPane,"max"),d=t;return p(u)||t>o+u&&(d=o+u),p(c)||t<a-c&&(d=a-c),t>a-h?(p(u)||d!==o+u)&&(d=a-h):t<o+l&&(p(c)||d!==a-c)&&(d=o+l),d},e.prototype.onMouseUp=function(t){ue([this.currentSeparator],wa),this.unwireResizeEvents();for(var i={event:t,element:this.element,pane:[this.previousPane,this.nextPane],index:[this.prevPaneIndex,this.nextPaneIndex],separator:this.currentSeparator,paneSize:[this.prePaneDimenson,this.nextPaneDimension]},n=0;n<this.element.querySelectorAll("iframe").length;n++)this.element.querySelectorAll("iframe")[n].style.pointerEvents="auto";if(this.trigger("resizeStop",i),this.enablePersistence){var s=this.paneSettings;s[this.getPreviousPaneIndex()].size=this.allPanes[this.getPreviousPaneIndex()].style.flexBasis,s[this.getNextPaneIndex()].size=this.allPanes[this.getNextPaneIndex()].style.flexBasis,this.setProperties({paneSettings:s},!0)}},e.prototype.panesDimension=function(t,i){var n=i.length,s;parseInt(this.getHeight(this.element),10),p(this.paneSettings[t])?Ci(i[t],{order:t*2}):p(this.paneSettings[t].size)?(this.sizeFlag=!0,Ci(i[t],{order:t*2})):(s=this.paneSettings[t].size,t<n&&(Ci(i[t],{"flex-basis":s,order:t*2}),t<n-1&&this.paneSettings[t].size!==""?Z([i[t]],oi):this.sizeFlag||(i[t].style.flexBasis=null),t===n-1&&this.sizeFlag&&this.paneSettings[t].size!==""&&Z([i[t]],oi))),this.paneOrder.push(t*2)},e.prototype.setTemplate=function(t,i){i.innerHTML="",t=typeof t=="string"?this.sanitizeHelper(t):t,this.templateCompile(i,t),this.isReact&&this.renderReactTemplates()},e.prototype.templateCompile=function(t,i){var n=this.createElement("div");this.compileElement(n,i,"content"),n.childNodes.length!==0&&[].slice.call(n.childNodes).forEach(function(s){t.appendChild(s)})},e.prototype.compileElement=function(t,i,n){if(typeof i=="string")if(i[0]==="."||i[0]==="#"){var s=document.querySelector(i);if(p(s))i=i.trim();else{this.templateElement.push(s),s.style.display==="none"&&s.style.removeProperty("display"),s.getAttribute("style")===""&&s.removeAttribute("style"),t.appendChild(s);return}}else i=i.trim();var o;p(i.outerHTML)?o=Xt(i):o=Xt(i.outerHTML);var a;p(o)||(a=o({},this,n,this.element.id+"content"+this.allPanes.length.toString(),!0)),!p(o)&&a&&a.length>0&&[].slice.call(a).forEach(function(l){t.appendChild(l)})},e.prototype.paneCollapsible=function(t,i){this.paneSettings[i].collapsible?Z([t],dd):ue([t],dd)},e.prototype.createSplitPane=function(t){for(var i=t.children.length,n=0;n<this.paneSettings.length;n++)if(i<this.paneSettings.length){var s=this.createElement("div");this.element.appendChild(s),i=i+1}i=t.children.length;var o=[].slice.call(t.children);if(this.sizeFlag=!1,i>0)for(var n=0;n<i;n++)(o[n].nodeName==="DIV"||o[n].nodeName==="SPAN")&&(this.allPanes.push(o[n]),this.orientation==="Horizontal"?(Z([o[n]],[Ia,Da,ud]),this.panesDimension(n,o)):(Z([o[n]],[Ia,Ta,ud]),this.panesDimension(n,o)),!p(this.paneSettings[n])&&!p(this.paneSettings[n].content)&&this.setTemplate(this.paneSettings[n].content,o[n]),!p(this.paneSettings[n])&&this.paneSettings[n].cssClass&&this.setCssClass(o[n],this.paneSettings[n].cssClass),p(this.paneSettings[n])||this.paneCollapsible(o[n],n))},e.prototype.expand=function(t){this.collapsedOnchange(t),this.updatePaneSettings(t,!1)},e.prototype.collapse=function(t){this.isCollapsed(t),this.updatePaneSettings(t,!0)},e.prototype.destroy=function(){if(!this.isDestroyed){for(r.prototype.destroy.call(this),F.remove(document,"touchstart click",this.onDocumentClick),F.remove(this.element,"keydown",this.onMove),this.element.ownerDocument.defaultView.removeEventListener("resize",this.onReportWindowSize,!0);this.element.attributes.length>0;)this.element.removeAttribute(this.element.attributes[0].name);for(var t=0;t<this.wrapper.attributes.length;t++)this.element.setAttribute(this.wrapper.attributes[t].name,this.wrapper.attributes[t].value);this.refreshing&&(Z([this.element],["e-control","e-lib",dg]),this.allBars=[],this.allPanes=[]),this.restoreElem(),this.isReact&&this.clearTemplate();var i=this.element.querySelectorAll(".e-split-bar");if(i.length>0)for(var t=0;t<i.length;t++)F.remove(i[t],"touchstart",this.clickHandler),F.remove(i[t],"touchstart",this.onMouseDown),F.remove(i[t],"click",this.clickHandler),F.remove(i[t],"mousedown",this.onMouseDown),i[t].parentNode.removeChild(i[t]);var n=this.element.querySelectorAll(".e-pane");if(n.length>0)for(var t=0;t<n.length;t++)for(n[t].classList.remove(Da,Ta,oi,ud,Ia,Ro,cd,dd,rn,pd);n[t].attributes.length>0;)n[t].removeAttribute(n[t].attributes[0].name);this.allBars=[],this.allBars=null,this.allPanes=[],this.allPanes=null,this.previousPane=null,this.nextPane=null,this.currentSeparator=null,this.wrapper=null,this.prevBar=null,this.nextBar=null,this.templateElement=null}},e.prototype.restoreElem=function(){if(this.templateElement.length>0)for(var t=0;t<this.templateElement.length;t++)this.templateElement[t].style.display="none",document.body.appendChild(this.templateElement[t])},e.prototype.addPaneClass=function(t){return this.orientation==="Horizontal"?Z([t],[Ia,Da,ud]):Z([t],[Ia,Ta,ud]),t},e.prototype.removePaneOrders=function(t){for(var i=this.element.childNodes,n=[],s=0;i.length<0;s++)i[s].classList.contains(t)&&n.push(i[s]);for(var s=0;s<n.length;s++)n[s].style.removeProperty("order")},e.prototype.setPaneOrder=function(){for(var t=0;t<this.allPanes.length;t++)this.panesDimension(t,this.allPanes)},e.prototype.removeSeparator=function(){for(var t=0;t<this.allBars.length;t++)bt(this.allBars[t]);this.allBars=[]},e.prototype.updatePanes=function(){this.setPaneOrder(),this.removeSeparator(),this.addSeparator(this.element)},e.prototype.addPane=function(t,i){var n=this.createElement("div");n=this.addPaneClass(n),i=i>this.allPanes.length+1?this.allPanes.length:i;var s={size:p(t.size)?"":t.size,min:p(t.min)?null:t.min,max:p(t.max)?null:t.max,content:p(t.content)?"":t.content,resizable:p(t.resizable)?!0:t.resizable,collapsible:p(t.collapsible)?!1:t.collapsible,collapsed:p(t.collapsed)?!1:t.collapsed,cssClass:p(t.cssClass)?"":t.cssClass};this.paneSettings.splice(i,0,s),this.setProperties({paneSettings:this.paneSettings},!0),this.orientation==="Horizontal"?(this.element.insertBefore(n,this.element.querySelectorAll("."+Da)[i]),this.removePaneOrders(Da)):(this.element.insertBefore(n,this.element.querySelectorAll("."+Ta)[i]),this.removePaneOrders(Ta)),this.allPanes.splice(i,0,n),this.updatePanes(),this.setTemplate(this.paneSettings[i].content,n),this.setCssClass(this.allPanes[i],t.cssClass),this.allPanes[this.allPanes.length-1].classList.remove(oi)},e.prototype.removePane=function(t){t=t>this.allPanes.length+1?this.allPanes.length:t;var i=this.orientation==="Horizontal"?Da:Ta;p(this.element.querySelectorAll("."+i)[t])||(bt(this.element.querySelectorAll("."+i)[t]),this.allPanes.splice(t,1),this.removePaneOrders(i),this.updatePanes(),this.paneSettings.splice(t,1),this.setProperties({paneSettings:this.paneSettings},!0),this.allPanes.length>0&&this.allPanes[this.allPanes.length-1].classList.remove(oi))},di([I("100%")],e.prototype,"height",void 0),di([I(!1)],e.prototype,"enableReversePanes",void 0),di([I("100%")],e.prototype,"width",void 0),di([I(!1)],e.prototype,"enablePersistence",void 0),di([Li([],Ire)],e.prototype,"paneSettings",void 0),di([I("Horizontal")],e.prototype,"orientation",void 0),di([I("")],e.prototype,"cssClass",void 0),di([I(!0)],e.prototype,"enabled",void 0),di([I(!0)],e.prototype,"enableHtmlSanitizer",void 0),di([I(null)],e.prototype,"separatorSize",void 0),di([Q()],e.prototype,"beforeSanitizeHtml",void 0),di([Q()],e.prototype,"created",void 0),di([Q()],e.prototype,"resizeStart",void 0),di([Q()],e.prototype,"resizing",void 0),di([Q()],e.prototype,"resizeStop",void 0),di([Q()],e.prototype,"beforeCollapse",void 0),di([Q()],e.prototype,"beforeExpand",void 0),di([Q()],e.prototype,"collapsed",void 0),di([Q()],e.prototype,"expanded",void 0),e=di([tn],e),e}(rr),Tre=function(){function r(e){this.isSplitterResized=!1,this.parent=e,this.parent.on("destroy",this.destroy,this)}return r.prototype.renderSplitter=function(){var e=this,t=this.calculateSplitterPosition(this.parent.splitterSettings);this.parent.splitterElement=Be("div",{className:WJ}),this.parent.treeGridPane=Be("div",{className:YJ}),this.parent.chartPane=Be("div",{className:_J}),Z([this.parent.chartPane],"e-droppable"),this.parent.enableRtl?(this.parent.splitterElement.appendChild(this.parent.chartPane),this.parent.splitterElement.appendChild(this.parent.treeGridPane)):(this.parent.splitterElement.appendChild(this.parent.treeGridPane),this.parent.splitterElement.appendChild(this.parent.chartPane)),this.splitterObject=new Dre({height:null,width:this.parent.ganttWidth.toString(),enableRtl:this.parent.enableRtl,separatorSize:this.parent.splitterSettings.separatorSize,paneSettings:[{resizable:!0,size:t,min:this.getSpliterPositionInPercentage(this.parent.splitterSettings.minimum)},{resizable:!0}],orientation:"Horizontal",resizeStart:function(o){e.parent.contextMenuModule&&e.parent.contextMenuModule.isOpen&&e.parent.contextMenuModule.contextMenu.close();var a=o.pane[0],l=o.pane[1];e.splitterPreviousPositionGrid=a.scrollWidth+1+"px",e.splitterPreviousPositionChart=l.scrollWidth+1+"px";var h=new mi;return e.parent.trigger("splitterResizeStart",o,function(u){h.resolve(u)}),h},resizing:function(o){e.parent.trigger("splitterResizing",o),e.parent.timelineModule.isZoomToFit&&e.parent.timelineModule.updateTimelineAfterZooming(e.parent.timelineModule.timelineEndDate,!0)},resizeStop:function(o){e.parent.calculateDimensions(),e.isSplitterResized=!0;var a=o.pane[0];e.splitterPreviousPositionGrid=a.scrollWidth+1+"px",e.splitterObject.paneSettings[0].size=e.getSpliterPositionInPercentage(e.splitterPreviousPositionGrid),e.parent.splitterSettings.position=e.splitterObject.paneSettings[0].size;var l=new mi;return e.parent.trigger("splitterResized",o,function(h){h.cancel===!0&&(e.splitterObject.paneSettings[0].size=null,e.splitterObject.paneSettings[0].size=e.getSpliterPositionInPercentage(e.splitterPreviousPositionGrid),e.parent.splitterSettings.position=e.splitterObject.paneSettings[0].size,e.splitterObject.paneSettings[1].size=null,e.splitterObject.paneSettings[1].size=e.getSpliterPositionInPercentage(e.splitterPreviousPositionChart)),p(e.parent.projectEndDate)&&e.parent.timelineModule.updateTimelineAfterZooming(e.parent.timelineModule.timelineEndDate,!0),l.resolve(h)}),l}}),this.parent.element.appendChild(this.parent.splitterElement),this.splitterObject.appendTo(this.parent.splitterElement);var i=this.splitterObject.element.querySelector(".e-split-bar");if(i){var n=parseFloat(t.replace("%","")),s=Math.min(100,Math.max(0,n));i.setAttribute("aria-valuenow",s.toString())}},r.prototype.calculateSplitterPosition=function(e){if(!p(this.splitterObject)&&this.parent.enablePersistence)return this.splitterObject.paneSettings[0].size;if(e.view==="Grid")return this.parent.enableRtl?"0%":"100%";if(e.view==="Chart")return this.parent.enableRtl?"100%":"0%";if(!p(e.position)&&e.position!=="")return this.getSpliterPositionInPercentage(e.position);if(!p(e.columnIndex)&&e.columnIndex>=0)return e.columnIndex*150<this.parent.ganttWidth||!this.parent.element.classList.contains("e-device")?this.getSpliterPositionInPercentage(this.getTotalColumnWidthByIndex(e.columnIndex).toString()+"px"):this.getSpliterPositionInPercentage(e.columnIndex*130+"px");var t=this.parent.ganttWidth,i=t-250,n=i+"px";return this.parent.enableRtl?this.getSpliterPositionInPercentage(n):this.getSpliterPositionInPercentage("250px")},r.prototype.getSpliterPositionInPercentage=function(e){var t=!p(e)&&e!==""?e:null;if(!p(t))if(e.indexOf("px")!==-1){var i=parseInt(e,10);t=i/this.parent.ganttWidth*100<=100?i/this.parent.ganttWidth*100+"%":"25%"}else if(this.parent.enableRtl){var n=100-parseFloat(e);t=n+"%"}else t=e.indexOf("%")===-1?e+"%":e;return t},r.prototype.getTotalColumnWidthByIndex=function(e){var t=0,i=this.parent.ganttWidth,n=this.parent.ganttColumns,s=n.filter(function(h){return h.visible===void 0||h.visible===!0}),o=s.map(function(h){return Object.assign({},h)}),a=o;if(e=a.length>e?e:a.length,this.parent.enableRtl){for(var l=0;l<e;l++)t+=parseInt(a[l].width,10);t=i-t}else for(var l=0;l<e;l++)t+=parseInt(a[l].width,10);return t},r.prototype.updateSplitterPosition=function(){this.splitterObject.separatorSize=this.parent.splitterSettings.separatorSize;var e=this.calculateSplitterPosition(this.parent.splitterSettings);this.splitterObject.paneSettings[0].min=this.getSpliterPositionInPercentage(this.parent.splitterSettings.minimum),this.splitterObject.dataBind(),this.isSplitterResized||(this.splitterObject.paneSettings[0].size=e),this.isSplitterResized=!1,p(this.parent.projectEndDate)&&this.parent.timelineModule.updateTimelineAfterZooming(this.parent.timelineModule.timelineEndDate,!0)},r.prototype.triggerCustomResizedEvent=function(){var e=this.splitterObject.element.querySelectorAll(".e-pane")[0],t=this.splitterObject.element.querySelectorAll(".e-pane")[1],i={event:null,element:this.splitterObject.element,pane:[e,t],index:[0,1],separator:this.splitterObject.element.querySelector(".e-split-bar"),paneSize:[e.offsetWidth,t.offsetWidth]};this.parent.trigger("splitterResized",i),i.cancel===!0&&(this.splitterObject.paneSettings[0].size=this.getSpliterPositionInPercentage(this.splitterPreviousPositionGrid),this.splitterObject.paneSettings[1].size=this.getSpliterPositionInPercentage(this.splitterPreviousPositionChart))},r.prototype.destroy=function(){this.splitterObject.destroy(),this.parent.off("destroy",this.destroy)},r}(),wre=function(){function r(e){this.parent=e,this.createTooltip(),this.parent.on("destroy",this.destroy,this)}return r.prototype.createTooltip=function(){this.toolTipObj=new Aj,this.toolTipObj.target=".e-header-cell-label, .e-gantt-child-taskbar,.e-gantt-parent-taskbar, .e-gantt-milestone, .e-gantt-unscheduled-taskbar.e-event-markers, .e-baseline-bar, .e-event-markers,.e-connector-line-container, .e-indicator-span, .e-notes-info, .e-gantt-manualparent-milestone,.e-taskbar-left-resizer, .e-taskbar-right-resizer, .e-baseline-gantt-milestone-container, .e-gantt-manualparenttaskbar",this.toolTipObj.position="BottomCenter",this.toolTipObj.openDelay=700,this.toolTipObj.enableRtl=this.parent.enableRtl,this.toolTipObj.enableHtmlSanitizer=this.parent.enableHtmlSanitizer,this.toolTipObj.cssClass=EZ,this.toolTipObj.animation={open:{effect:"None",delay:0},close:{effect:"None",delay:0}},this.toolTipObj.afterOpen=this.updateTooltipPosition.bind(this),this.toolTipObj.showTipPointer=!1,this.toolTipObj.beforeRender=this.tooltipBeforeRender.bind(this),this.toolTipObj.afterClose=this.tooltipCloseHandler.bind(this),this.toolTipObj.isStringTemplate=!0,this.toolTipObj.appendTo(this.parent.element)},r.prototype.tooltipBeforeRender=function(e){var t=this.parent;if(t.isOnEdit){e.cancel=!0;return}var i,n=xe(e.target,"div."+is);p(n)?i=FJ(e.target,hC):i=e.target;var s,o={data:{},args:e,cancel:!1,content:""};if(e.target.classList.contains("e-header-cell-label"))if(t.timelineSettings.showTooltip){var a=e.target.getAttribute("data-tier"),l=e.target.title,h=p(t.timelineTemplate)?e.target.textContent:e.target.getAttribute("value"),u={date:l,value:h,tier:a},c=t.tooltipSettings.timeline?t.tooltipModule.templateCompiler(t.tooltipSettings.timeline,t,ie({},u),"TooltipTaskbarTemplate"):null,d=document.createElement("div");c?(Ct(c,d),o.content=this.toolTipObj.content=d):o.content=this.toolTipObj.content=t.tooltipModule.getTooltipContent("timeline",s,t,e)}else e.cancel=!0;else if(t.tooltipSettings.showTooltip)if(i&&(o.data=t.ganttChartModule.getRecordByTaskBar(i),s=o.data),e.target.classList.contains("e-gantt-child-taskbar")||e.target.classList.contains("e-gantt-parent-taskbar")||e.target.classList.contains("e-gantt-milestone")||e.target.classList.contains("e-gantt-unscheduled-taskbar")||e.target.classList.contains("e-taskbar-left-resizer")||e.target.classList.contains("e-taskbar-right-resizer")||e.target.classList.contains("e-gantt-manualparenttaskbar")&&t.tooltipSettings.taskbar){var f=void 0;t.tooltipSettings.taskbar&&(f=t.tooltipModule.templateCompiler(t.tooltipSettings.taskbar,t,s,"TooltipTaskbarTemplate"));var d=document.createElement("div");f&&Ct(f,d),o.content=this.toolTipObj.content=f?d:s?t.tooltipModule.getTooltipContent(s.ganttProperties.isMilestone?"milestone":"taskbar",s,t,e):""}else if(e.target.classList.contains("e-baseline-bar")||e.target.classList.contains("e-baseline-gantt-milestone-container")){var g=void 0;t.tooltipSettings.baseline&&(g=t.tooltipModule.templateCompiler(t.tooltipSettings.baseline,t,s,"TooltipBaselineTemplate"));var m=document.createElement("div");g&&Ct(g,m),o.content=this.toolTipObj.content=g?m:s?t.tooltipModule.getTooltipContent(s.ganttProperties.isMilestone?"milestone":"baseline",s,t,e):""}else if(e.target.classList.contains("e-event-markers"))o.content=this.toolTipObj.content=t.tooltipModule.getTooltipContent("marker",s,t,e);else if(e.target.classList.contains("e-connector-line-container")){var y=void 0;t.tooltipModule.predecessorTooltipData=t.tooltipModule.getPredecessorTooltipData(e),o.data=this.predecessorTooltipData,t.tooltipSettings.connectorLine&&(y=t.tooltipModule.templateCompiler(t.tooltipSettings.connectorLine,t,t.tooltipModule.predecessorTooltipData,"TooltipConnectorLineTemplate")),o.content=this.toolTipObj.content=y?y[0]:t.tooltipModule.getTooltipContent("connectorLine",s,t,e)}else if(e.target.classList.contains("e-indicator-span"))o.content=this.toolTipObj.content=t.tooltipModule.getTooltipContent("indicator",s,t,e),p(o.content)&&(e.cancel=!0);else if(e.target.classList.contains("e-notes-info")){var v=this.parent.ganttChartModule.getRecordByTarget(e.event);o.content=this.toolTipObj.content=v.ganttProperties.notes,p(o.content)&&(e.cancel=!0)}else e.target.classList.contains("e-gantt-manualparenttaskbar")?(o.content=this.toolTipObj.content=t.tooltipModule.getTooltipContent("manualtaskbar",s,t,e),p(o.content)&&(e.cancel=!0)):e.target.classList.contains("e-gantt-manualparent-milestone")&&(o.content=this.toolTipObj.content=t.tooltipModule.getTooltipContent("manualmilestone",s,t,e),p(o.content)&&(e.cancel=!0));else e.cancel=!0;if(e.cancel===!1){var M=new mi;return t.trigger("beforeTooltipRender",o,function(S){M.resolve(S),S.cancel&&(e.cancel=!0)}),this.toolTipObj.content=o.content,!this.parent.isAdaptive&&e.event.type==="mouseover"&&(this.currentTarget=e.target,F.add(this.currentTarget,"mousemove",this.mouseMoveHandler.bind(this))),this.parent.renderTemplates(),M}},r.prototype.tooltipCloseHandler=function(e){this.tooltipMouseEvent=null,!this.parent.isAdaptive&&!p(this.currentTarget)&&F.remove(this.currentTarget,"mousemove",this.mouseMoveHandler),this.currentTarget=null},r.prototype.mouseMoveHandler=function(e){this.tooltipMouseEvent=e},r.prototype.updateTooltipPosition=function(e){e.element.style.visibility="visible";var t=this.parent.element.closest('[style*="zoom"]');if(p(t)){if(p(this.tooltipMouseEvent)||e.target.classList.contains("e-notes-info"))return;var i=this.getPointorPosition(this.tooltipMouseEvent),n=this.parent.getOffsetRect(this.parent.chartPane),s=n.top+this.parent.chartPane.offsetHeight,o=n.left+this.parent.chartPane.offsetWidth,a=i.x,l=i.y;if(o<a+e.element.offsetWidth+10)for(;o<a+e.element.offsetWidth+10;)a=o-e.element.offsetWidth-10,e.element.style.left=a+"px";else a=a+10,e.element.style.left=a+"px";e.event.clientY>e.element.offsetHeight?(window.innerHeight<e.element.offsetHeight+l&&(l=l-e.element.offsetHeight-10),s<l+e.element.offsetHeight+20?l=l-e.element.offsetHeight-10:l=l+10):l=l+10,e.element.style.top=l+"px"}},r.prototype.getPointorPosition=function(e){var t,i;return!p(H("pageX",e))||!p(H("pageY",e))?(t=H("pageX",e),i=H("pageY",e)):(!p(H("clientX",e))||!p(H("clientY",e)))&&(t=H("clientX",e)+document.body.scrollLeft+document.documentElement.scrollLeft,i=H("clientY",e)+document.body.scrollTop+document.documentElement.scrollTop),{x:t,y:i}},r.prototype.getTooltipContent=function(e,t,i,n){var s,o,a;if(t){o=t.ganttProperties;var l=o.taskName;this.parent.enableHtmlSanitizer&&typeof l=="string"&&(l=St.sanitize(l)),a=p(l)?"":'<tr class = "e-gantt-tooltip-rowcell"><td colspan="3">'+(this.parent.disableHtmlEncode?l.replace(/</g,"&lt;").replace(/>/g,"&gt;"):l)+"</td></tr>"}switch(e){case"milestone":{var h=void 0;n.target.className.includes("e-baseline-gantt-milestone-container")&&!p(o.baselineStartDate)?h=o.baselineStartDate:p(o.startDate)||(h=o.startDate);var u=this.parent.getFormatedDate(h,this.parent.getDateFormat());this.parent.enableHtmlSanitizer&&typeof u=="string"&&(u=St.sanitize(u));var c=p(h)?"":'<tr><td class = "e-gantt-tooltip-label"> Date</td><td>:</td><td class = "e-gantt-tooltip-value">'+u+"</td></tr>",d=function(){return'<table class = "e-gantt-tooltiptable"><tbody>'+a+c+"</tbody></table>"};s=_s(d);break}case"taskbar":{var f=!!(!t.hasChildRecords||o.isAutoSchedule),g=this.parent.getFormatedDate(f?o.startDate:o.autoStartDate,this.parent.getDateFormat()),m=this.parent.getFormatedDate(f?o.endDate:o.autoEndDate,this.parent.getDateFormat()),y=this.parent.getDurationString(f?o.duration:o.autoDuration,o.durationUnit),v=o.progress;this.parent.enableHtmlSanitizer&&(g=typeof g=="string"?St.sanitize(g):g,m=typeof m=="string"?St.sanitize(m):m,y=St.sanitize(y));var M=o.startDate?'<tr><td class = "e-gantt-tooltip-label">'+this.parent.localeObj.getConstant(f?"startDate":"subTasksStartDate")+"</td><td class="+Ul+'>:</td><td class = "e-gantt-tooltip-value"> '+g+"</td></tr>":"",S=o.endDate?'<tr><td class = "e-gantt-tooltip-label">'+this.parent.localeObj.getConstant(f?"endDate":"subTasksEndDate")+"</td><td class="+Ul+'>:</td><td class = "e-gantt-tooltip-value">'+m+"</td></tr>":"",b=p(o.duration)?"":'<tr><td class = "e-gantt-tooltip-label">'+this.parent.localeObj.getConstant("duration")+"</td><td class="+Ul+'>:</td><td class = "e-gantt-tooltip-value"> '+y+"</td></tr>",C='<tr><td class = "e-gantt-tooltip-label">'+this.parent.localeObj.getConstant("progress")+"</td><td class="+Ul+">:</td><td>"+v+"</td></tr>",d=function(){return'<table class = "e-gantt-tooltiptable"><tbody>'+a+M+S+b+C+"</tbody></table>"};s=_s(d);break}case"baseline":{var T=this.parent.getFormatedDate(o.baselineStartDate,this.parent.getDateFormat()),k=this.parent.getFormatedDate(o.baselineEndDate,this.parent.getDateFormat()),N=this.parent.getDurationString(o.baselineDuration,o.durationUnit);this.parent.enableHtmlSanitizer&&(T=St.sanitize(T),k=St.sanitize(k),N=St.sanitize(N));var d=function(){var se=this.parent.taskFields,Me=o.baselineStartDate&&!p(se.baselineStartDate)?'<tr><td class = "e-gantt-tooltip-label">'+this.parent.localeObj.getConstant("baselineStartDate")+"</td><td class="+Ul+'>:</td><td class = "e-gantt-tooltip-value"> '+T+"</td></tr>":"",ze=o.baselineEndDate&&!p(se.baselineEndDate)?'<tr><td class = "e-gantt-tooltip-label">'+this.parent.localeObj.getConstant("baselineEndDate")+"</td><td class="+Ul+'>:</td><td class = "e-gantt-tooltip-value">'+k+"</td></tr>":"",Te=!p(o.baselineDuration)&&!p(se.baselineDuration)?'<tr><td class = "e-gantt-tooltip-label">'+this.parent.localeObj.getConstant("baselineDuration")+"</td><td class="+Ul+'>:</td><td class = "e-gantt-tooltip-value"> '+N+"</td></tr>":"";return'<table class = "e-gantt-tooltiptable"><tbody>'+a+Me+ze+Te+"</tbody></table>"};s=_s(d,this);break}case"marker":{var A=i.tooltipModule.getMarkerTooltipData(n),E=this.parent.getFormatedDate(this.parent.dateValidationModule.getDateFromFormat(A.day),this.parent.getDateFormat()),x=A.label?A.label:"";this.parent.enableHtmlSanitizer&&(x=St.sanitize(x),E=St.sanitize(E));var d=function(){return'<table class = "e-gantt-tooltiptable"><tbody><tr><td>'+E+"</td></tr><tr><td>"+(this.parent.disableHtmlEncode?x.replace(/</g,"&lt;").replace(/>/g,"&gt;"):x)+"</td></tr></tbody></table>"};s=_s(d,this);break}case"connectorLine":{var D=i.tooltipModule.predecessorTooltipData.fromName,z=i.tooltipModule.predecessorTooltipData.fromId,w=i.tooltipModule.predecessorTooltipData.toName,O=i.tooltipModule.predecessorTooltipData.toId,L=i.tooltipModule.predecessorTooltipData.linkText,j=i.tooltipModule.predecessorTooltipData.offsetString;this.parent.enableHtmlSanitizer&&(D=St.sanitize(D),z=St.sanitize(z),w=St.sanitize(w),O=St.sanitize(O),L=St.sanitize(L),j=St.sanitize(j));var d=function(){return'<table class = "e-gantt-tooltiptable"><tbody><tr><td class = "e-gantt-tooltip-label">'+this.parent.localeObj.getConstant("from")+'</td><td>:</td><td class = "e-gantt-tooltip-value">'+(this.parent.disableHtmlEncode?D.replace(/</g,"&lt;").replace(/>/g,"&gt;"):D)+" ("+(this.parent.disableHtmlEncode&&typeof z=="string"?z.replace(/</g,"&lt;").replace(/>/g,"&gt;"):z)+')</td></tr><tr><td class = "e-gantt-tooltip-label">'+this.parent.localeObj.getConstant("to")+'</td><td>:</td><td class = "e-gantt-tooltip-value">'+(this.parent.disableHtmlEncode?w.replace(/</g,"&lt;").replace(/>/g,"&gt;"):w)+" ("+O+')</td></tr><tr><td class = "e-gantt-tooltip-label">'+this.parent.localeObj.getConstant("taskLink")+'</td><td>:</td><td class = "e-gantt-tooltip-value"> '+L+'</td></tr><tr><td class = "e-gantt-tooltip-label">'+this.parent.localeObj.getConstant("lag")+'</td><td>:</td><td class = "e-gantt-tooltip-value">'+j+"</td></tr></tbody></table>"};s=_s(d,this);break}case"indicator":if(n.target.title.length){var B=n.target.title;this.parent.enableHtmlSanitizer&&typeof B=="string"&&(B=St.sanitize(B));var d=function(){return'<table class = "e-gantt-tooltiptable"><tbody><tr>'+B+"</tr></tbody></table>"};s=_s(d)}break;case"timeline":{var V=n.target.title;this.parent.enableHtmlSanitizer&&typeof V=="string"&&(V=St.sanitize(V));var d=function(){return'<table class = "e-gantt-tooltiptable"><tbody><tr>'+V+"</tr></tbody></table>"};s=_s(d);break}case"manualtaskbar":{var ee=this.parent.getFormatedDate(o.autoStartDate,this.parent.getDateFormat()),W=this.parent.getFormatedDate(o.autoEndDate,this.parent.getDateFormat()),J=this.parent.getDurationString(o.duration,o.durationUnit),K=this.parent.getFormatedDate(o.startDate,this.parent.getDateFormat()),le=this.parent.getFormatedDate(o.endDate,this.parent.getDateFormat());this.parent.enableHtmlSanitizer&&(ee=St.sanitize(ee),W=St.sanitize(W),J=St.sanitize(J),K=St.sanitize(K),le=St.sanitize(le));var me='<tr><td class = "e-gantt-tooltip-label">'+this.parent.localeObj.getConstant("subTasksStartDate")+'</td><td>:</td><td class = "e-gantt-tooltip-value"> '+ee+"</td></tr>",pe='<tr><td class = "e-gantt-tooltip-label">'+this.parent.localeObj.getConstant("subTasksEndDate")+'</td><td>:</td><td class = "e-gantt-tooltip-value">'+W+"</td></tr>",P='<tr><td class = "e-gantt-tooltip-label">'+this.parent.localeObj.getConstant("duration")+'</td><td>:</td><td class = "e-gantt-tooltip-value"> '+J+"</td></tr>",ve='<tr><td class = "e-gantt-tooltip-label">'+this.parent.localeObj.getConstant("startDate")+'</td><td>:</td><td class = "e-gantt-tooltip-value"> '+K+"</td></tr>",X='<tr><td class = "e-gantt-tooltip-label">'+this.parent.localeObj.getConstant("endDate")+'</td><td>:</td><td class = "e-gantt-tooltip-value">'+le+"</td></tr>",d=function(){return'<table class = "e-gantt-tooltiptable"><tbody>'+a+ve+me+X+pe+P+"</tbody></table>"};s=_s(d);break}case"manualmilestone":{var De=this.parent.getFormatedDate(o.autoStartDate,this.parent.getDateFormat()),Fe=this.parent.getFormatedDate(o.autoEndDate,this.parent.getDateFormat()),Re=this.parent.getFormatedDate(o.startDate,this.parent.getDateFormat());this.parent.enableHtmlSanitizer&&(De=St.sanitize(De),Fe=St.sanitize(Fe),Re=St.sanitize(Re));var U='<tr><td class = "e-gantt-tooltip-label">'+this.parent.localeObj.getConstant("subTasksStartDate")+'</td><td>:</td><td class = "e-gantt-tooltip-value"> '+De+"</td></tr>",Y='<tr><td class = "e-gantt-tooltip-label">'+this.parent.localeObj.getConstant("subTasksEndDate")+'</td><td>:</td><td class = "e-gantt-tooltip-value">'+Fe+"</td></tr>",ae='<tr><td class = "e-gantt-tooltip-label"> Date</td><td>:</td><td class = "e-gantt-tooltip-value">'+Re+"</tr>",d=function(){return'<table class = "e-gantt-tooltiptable"><tbody>'+a+ae+U+Y+"</tbody></table>"};s=_s(d);break}}return s},r.prototype.getMarkerTooltipData=function(e){var t=e.target.id.match(/\d+/g),i=this.parent.eventMarkers[Number(t)];return i},r.prototype.getPredecessorTooltipData=function(e){var t=e.target.id;this.parent.enableHtmlSanitizer&&typeof t=="string"&&(t=St.sanitize(t));var i=t.match(/ConnectorLineparent(.*)child(.*)/);i.shift();var n,s;this.parent.viewType==="ResourceView"?(n=this.parent.flatData[this.parent.getTaskIds().indexOf("T"+i[0])],s=this.parent.flatData[this.parent.getTaskIds().indexOf("T"+i[1])]):(n=this.parent.flatData[this.parent.ids.indexOf(i[0])],s=this.parent.flatData[this.parent.ids.indexOf(i[1])]);var o=n.ganttProperties.predecessor.filter(function(l){return l.to===i[1]}),a={fromId:this.parent.viewType==="ResourceView"?n.ganttProperties.taskId:n.ganttProperties.rowUniqueID,toId:this.parent.viewType==="ResourceView"?s.ganttProperties.taskId:s.ganttProperties.rowUniqueID,fromName:n.ganttProperties.taskName,toName:s.ganttProperties.taskName,linkType:o[0].type,linkText:this.parent.getPredecessorTextValue(o[0].type),offset:o[0].offset,offsetUnit:o[0].offsetUnit,offsetString:this.parent.getDurationString(o[0].offset,o[0].offsetUnit)};return a},r.prototype.templateCompiler=function(e,t,i,n){var s=t.chartRowsModule.templateCompiler(e),o=t.chartRowsModule.getTemplateID(n),a=s(ie({index:0},i),t,n,o,!0);return a},r.prototype.destroy=function(){this.toolTipObj.destroy()},r}(),xre=function(){function r(e){this.isFromKeyboardAction=!1,this.parent=e,this.activeElement=null,this.previousActiveElement=null}return r.prototype.getActiveElement=function(e){return e?this.previousActiveElement:this.activeElement},r.prototype.setActiveElement=function(e){this.previousActiveElement=this.activeElement,this.activeElement=e},r.prototype.onKeyPress=function(e){var t=this.parent,i=e.target,n=t.expandedRecords;if(p(this.parent.focusModule.getActiveElement())&&(e.action==="expandAll"||e.action==="collapseAll")){var s=this.parent.element.querySelector(".e-treegrid");s.focus()}!this.parent.isEdit&&!p(i)&&i.closest(".e-headercell")&&e.key==="Enter"&&this.parent.sortModule&&this.parent.allowSorting&&(e.action="enter",this.parent.treeGrid.grid.notify("key-pressed",e));var o=this.parent.focusModule.getActiveElement();if(!((e.action==="home"||e.action==="end"||e.action==="downArrow"||e.action==="upArrow"||e.action==="delete"||e.action==="rightArrow"||e.action==="leftArrow"||e.action==="focusTask"||e.action==="focusSearch"||e.action==="expandAll"||e.action==="collapseAll"||e.action==="undo"||e.action==="redo"||e.action==="selectAll")&&!p(t.editModule)&&!p(t.editModule.cellEditModule)&&t.editModule.cellEditModule.isCellEdit===!0))switch(t.isAdaptive&&(e.action==="addRowDialog"||e.action==="editRowDialog"||e.action==="delete"||e.action==="addRow")&&t.selectionModule&&t.selectionSettings.type==="Multiple"&&(t.selectionModule.hidePopUp(),document.getElementsByClassName("e-gridpopup")[0].style.display="none"),e.action){case"home":if(!t.selectionModule)return;t.selectionSettings.mode==="Cell"?t.selectionModule.selectCell({rowIndex:0,cellIndex:0}):(t.clearSelection(),t.selectionModule.selectRow(0));break;case"end":if(t.selectionModule&&t.selectionSettings.mode!=="Cell"){var a=n[n.length-1];if(t.selectedRowIndex===t.flatData.indexOf(a))return;t.selectionModule&&t.selectionModule.getCellSelectedRecords().length===0&&t.selectionModule.selectRow(t.flatData.indexOf(a),!1,!0)}break;case"downArrow":case"upArrow":{var l=t.element.querySelector("#"+t.element.id+"_searchbar");l&&l.parentElement.classList.contains("e-input-focus")&&t.selectionModule.clearSelection(),t.element.classList.contains("e-scroll-disabled")||(this.upDownKeyNavigate(e),!p(o)&&!p(o.closest(".e-chart-row"))&&t.ganttChartModule.manageFocus(this.getActiveElement(),"remove",!0,e.action),t.selectionSettings&&t.selectionSettings.mode==="Both"&&e.target instanceof HTMLElement&&e.target.classList.contains("e-cellselectionbackground")&&e.target.classList.remove("e-cellselectionbackground"));break}case"expandAll":t.ganttChartModule.expandCollapseAll("expand");break;case"collapseAll":t.ganttChartModule.expandCollapseAll("collapse");break;case"expandRow":case"collapseRow":this.expandCollapseKey(e);break;case"saveRequest":if(!p(t.editModule)&&!p(t.editModule.cellEditModule)&&t.editModule.cellEditModule.isCellEdit){var h=t.editModule.cellEditModule.editedColumn;if(h.field===t.columnMapping.duration&&!p(h.edit)&&!p(h.edit.read)){var u=e.target.ej2_instances[0],c=e.target.value,d=void 0;h.field===t.columnMapping.duration&&(!p(h.edit)&&!p(h.edit.read)&&(d=h.edit.read()),c!==d.toString()&&(u.value=c,u.dataBind()))}if(t.editModule.dialogModule.dialogObj&&H("dialogOpen",t.editModule.dialogModule.dialogObj))return;t.treeGrid.grid.saveCell();var s=t.element.querySelector(".e-treegrid");s.focus()}if(!p(o)&&!p(o.closest(".e-chart-row"))){var f=e.target,g=o.querySelector(".e-gantt-parent-taskbar,.e-gantt-child-taskbar,.e-gantt-milestone");g&&this.parent.ganttChartModule.onTaskbarClick(e,f,g)}break;case"escape":!p(t.editModule)&&!p(t.editModule.cellEditModule)&&(t.editModule.cellEditModule.isCellEdit=!1,p(t.toolbarModule)||t.toolbarModule.refreshToolbarItems());break;case"addRow":{if(t.editModule&&t.editModule.cellEditModule&&t.editModule.cellEditModule.isCellEdit)e.stopPropagation();else if(p(document.getElementById(this.parent.element.id+"_dialog"))){e.preventDefault(),t.addRecord(void 0,this.parent.editSettings.newRowPosition,this.parent.selectedRowIndex);var s=t.element;s.focus()}break}case"addRowDialog":if(e.preventDefault(),t.editModule&&t.editModule.dialogModule&&t.editSettings.allowAdding){if(t.editModule.dialogModule.dialogObj&&H("dialogOpen",t.editModule.dialogModule.dialogObj))return;t.editModule.dialogModule.openAddDialog()}break;case"editRowDialog":{e.preventDefault();var m=t.element.querySelector(".e-treegrid");if(m.focus(),t.editModule&&t.editModule.dialogModule&&t.editSettings.allowEditing){if(t.editModule.dialogModule.dialogObj&&H("dialogOpen",t.editModule.dialogModule.dialogObj))return;t.editModule.dialogModule.openToolbarEditDialog()}break}case"delete":t.selectionModule&&t.editModule&&t.editModule.dialogModule&&(!t.editModule.dialogModule.dialogObj||t.editModule.dialogModule.dialogObj&&!t.editModule.dialogModule.dialogObj.visible)&&(!t.editSettings.allowTaskbarEditing||t.editSettings.allowTaskbarEditing&&!t.editModule.taskbarEditModule.touchEdit)&&(t.selectionSettings.mode!=="Cell"&&t.selectionModule.selectedRowIndexes.length||t.selectionSettings.mode==="Cell"&&t.selectionModule.getSelectedRowCellIndexes().length)&&(p(e.target)||e.target.tagName!=="INPUT")&&t.editModule.startDeleteAction();break;case"focusTask":{e.preventDefault();var y=void 0;if(t.selectionModule){var v=t.currentViewData;if(t.selectionSettings.mode!=="Cell"&&!p(v[t.selectedRowIndex]))y=t.currentViewData[t.selectedRowIndex].ganttProperties.rowUniqueID;else if(t.selectionSettings.mode==="Cell"&&t.selectionModule.getSelectedRowCellIndexes().length>0){var M=t.selectionModule.getSelectedRowCellIndexes();y=v[M[M.length-1].rowIndex].ganttProperties.rowUniqueID}}y&&t.scrollToTask(y.toString());break}case"focusSearch":{if(t.element.querySelector("#"+t.element.id+"_searchbar")){var l=t.element.querySelector("#"+t.element.id+"_searchbar");l.setAttribute("tabIndex","-1"),l.focus()}break}case"tab":case"shiftTab":{var f=e.target;this.parent.element.querySelectorAll(".e-focused").length>0&&(f=this.parent.element.querySelectorAll(".e-focused")[0]);var S=this.parent.ganttChartModule.getNextElement(f,e.action==="tab",!1);if(!t.element.classList.contains("e-scroll-disabled")){if(f.classList.contains("e-headercell")&&!S||f.classList.contains("e-rowcell")&&!S){this.parent.treeGrid.grid.notify("key-pressed",e);return}else if(f.classList.contains("e-headercell")){this.parent.treeGrid.grid.notify("key-pressed",e);return}t.ganttChartModule.onTabAction(e)}break}case"contextMenu":{var b=document.getElementById(this.parent.element.id+"_contextmenu").ej2_instances[0],C=this.parent.getOffsetRect(e.target),T=C.top+C.height/2,k=C.left+C.width/2;this.setActiveElement(e.target),b.open(T,k),e.preventDefault();break}case"undo":{this.parent.undoRedoModule&&this.parent.undoRedoModule.getUndoCollection.length>0&&this.parent.undo();break}case"redo":{this.parent.undoRedoModule&&this.parent.undoRedoModule.getRedoCollection.length>0&&this.parent.redo();break}case"selectAll":{e.preventDefault();var N=[].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector("tbody").children);if(N.length>0){var A=parseInt(N[0].getAttribute("aria-rowindex"),10)-1,E=parseInt(N[N.length-1].getAttribute("aria-rowindex"),10)-1;p(A)||(A=Number(A)),p(E)||(E=Number(E)),!p(A)&&!p(E)&&this.parent.selectionModule.selectRowsByRange(A,E)}break}default:{var x={requestType:"keyPressed",action:e.action,keyEvent:e};t.trigger("actionComplete",x);break}}},r.prototype.upDownKeyNavigate=function(e){e.preventDefault();var t=this.parent,i,n=e.target;if(t.selectionModule){if(t.selectedRowIndex!==-1&&(!n||!n.classList.contains("e-rowcell")&&!n.classList.contains("e-headercell")||this.parent.contextMenuModule&&this.parent.contextMenuModule.isOpen)&&!(this.parent.filterModule&&this.parent.filterModule.filterMenuElement!=null)){(e.action==="downArrow"||e.action==="upArrow")&&this.parent.selectionModule&&this.parent.allowSelection&&this.parent.virtualScrollModule&&this.parent.enableVirtualization?i=t.getExpandedRecords(t.flatData):i=t.expandedRecords;var s=void 0;(e.action==="downArrow"||e.action==="upArrow")&&this.parent.selectionModule&&this.parent.allowSelection&&this.parent.virtualScrollModule&&this.parent.enableVirtualization?s=t.flatData[t.selectedRowIndex]:s=t.currentViewData[t.selectedRowIndex];var o=t.element.querySelector(".e-focused");o&&ue([o],"e-focused");var a=i.indexOf(s),l=e.action==="downArrow"?i[a+1]:i[a-1],h=this.parent.args;document.activeElement!==h&&((e.action==="downArrow"||e.action==="upArrow")&&this.parent.selectionModule&&this.parent.allowSelection&&this.parent.virtualScrollModule&&this.parent.enableVirtualization?t.selectionModule.selectRow(t.flatData.indexOf(l),!1,!0):t.selectionModule.selectRow(t.currentViewData.indexOf(l),!1,!0))}else this.parent.treeGrid.grid.notify("key-pressed",e);this.parent.ganttChartModule.focusedRowIndex=this.parent.selectedRowIndex}else this.parent.treeGrid.grid.notify("key-pressed",e)},r.prototype.expandCollapseKey=function(e){var t=this.parent;if(t.selectionModule&&t.selectedRowIndex!==-1){var i;if(t.selectionSettings.mode!=="Cell")i=t.selectedRowIndex;else if(t.selectionSettings.mode==="Cell"&&t.selectionModule.getSelectedRowCellIndexes().length>0){var n=t.selectionModule.getSelectedRowCellIndexes();i=n[n.length-1].rowIndex}this.parent.virtualScrollModule&&this.parent.enableVirtualization&&(i=this.parent.currentViewData.findIndex(function(s){return s.ganttProperties.rowUniqueID===i.toString()})+1),e.action==="expandRow"?(this.isFromKeyboardAction=!0,t.expandByIndex(i),this.isFromKeyboardAction=!1):(this.isFromKeyboardAction=!0,t.collapseByIndex(i),this.isFromKeyboardAction=!1)}},r}(),Nre=function(){function r(e,t){this.idToItem=new Map,this.parentToChildren=new Map,this.leafCache=new Map,this.adjacency=new Map,this.resolvedEdgesPerTask=new Map,this.cycles=[],this.topoOrder=null,this.parent=e,this.buildMaps(t)}return r.prototype.buildMaps=function(e){if(this.idToItem.clear(),e&&e.clear(),this.parentToChildren.clear(),this.parent.viewType==="ProjectView")for(var t=0,i=this.parent.flatData;t<i.length;t++){var n=i[t];e&&e.set(n.ganttProperties.rowUniqueID.toString(),n);var s=String(n.ganttProperties.taskId);this.idToItem.set(s,n),this.adjacency.has(s)||this.adjacency.set(s,new Set);var o=void 0;if(n.parentItem&&n.parentItem.taskId&&(o=n.parentItem.taskId),o!=null&&o!==""){var a=o;this.parentToChildren.has(a)||this.parentToChildren.set(a,[]),this.parentToChildren.get(a).push(s)}}},r.prototype.getLeafDescendants=function(e){if(this.leafCache.has(e))return this.leafCache.get(e);var t=[];t.push(e);for(var i=[e];i.length;){var n=i.pop(),s=this.parentToChildren.get(n);if(!s||s.length===0)t.push(n);else for(var o=0,a=s;o<a.length;o++){var l=a[o];i.push(l)}}return this.leafCache.set(e,t),t},r.prototype.resolveOnePred=function(e){for(var t=e.from,i=e.to,n=this.getLeafDescendants(t),s=this.getLeafDescendants(i),o=[],a=0,l=n;a<l.length;a++)for(var h=l[a],u=0,c=s;u<c.length;u++){var d=c[u];o.push({fromLeaf:h,toLeaf:d,source:e})}return o},r.prototype.resolve=function(){this.adjacency.clear(),this.resolvedEdgesPerTask.clear(),this.leafCache.clear(),this.cycles=[],this.topoOrder=null;for(var e=Array.from(this.idToItem.keys()),t=0;t<e.length;t++){var i=e[t];this.adjacency.has(i)||this.adjacency.set(i,new Set)}for(var n=this.idToItem.entries(),s=n.next();!s.done;){for(var o=s.value,i=o[0],a=o[1],l=a.ganttProperties.predecessor||[],h=[],t=0;t<l.length;t++)for(var u=l[t],c=this.resolveOnePred(u),d=0;d<c.length;d++){var f=c[d];this.adjacency.has(f.fromLeaf)||this.adjacency.set(f.fromLeaf,new Set),this.adjacency.get(f.fromLeaf).add(f.toLeaf),h.push(f)}this.resolvedEdgesPerTask.set(i,h),s=n.next()}this.cycles=this.detectAllCycles(),this.cycles.length===0&&(this.topoOrder=this.computeTopologicalOrder())},r.prototype.getResolvedPredecessorsForTask=function(e){return this.resolvedEdgesPerTask.get(String(e))||[]},r.prototype.cloneAdjacency=function(){for(var e=new Map,t=this.adjacency.entries(),i=t.next();!i.done;){var n=i.value,s=n[0],o=n[1];e.set(s,new Set(Array.from(o))),i=t.next()}return e},r.prototype.addPredToAdjacencyClone=function(e){for(var t=this.cloneAdjacency(),i=this.resolveOnePred(e),n=0,s=i;n<s.length;n++){var o=s[n];t&&!t.has(o.fromLeaf)&&t.set(o.fromLeaf,new Set),t.get(o.fromLeaf).add(o.toLeaf)}return t},r.prototype.wouldCreateCycleWhenAdding=function(e){var t=this.addPredToAdjacencyClone(e),i=this.detectCyclesStatic(t);return{wouldCreate:i.length>0,cycles:i}},r.prototype.detectAllCycles=function(){for(var e=this.detectCyclesStatic(this.adjacency),t=[],i=0,n=e;i<n.length;i++){var s=n[i];s[0]&&s[1]&&t.push({fromId:s[0],toId:s[1]})}return t},r.prototype.removePredecessor=function(e,t){if(!e||e===t)return"";var i=e.split(",").map(function(n){return n.trim()}).filter(function(n){return n!==t&&n!==t.trim()});return i.join(",")},r.prototype.getCyclesWithDetails=function(e){var t=this,i=e.map(function(o){var a=o.fromId,l=o.toId,h=t.idToItem.get(l);t.idToItem.get(a);var u=h.ganttProperties.predecessor,c="Task ID "+a+" to Task ID "+l,d=[];if(u){for(var f=0;f<u.length;f++){var g=u[f],m=t.getLeafDescendants(g.from);if(g.from===a||m&&m.indexOf(a)!==-1){c="Task ID "+g.from+" to Task ID "+l;var y=g.from+g.type;y=t.parent.predecessorModule.generatePredecessorValue(g,y);var v=t.parent.taskFields.dependency;h.taskData[v]=h[v]=h.ganttProperties.predecessorsName=t.removePredecessor(h.ganttProperties.predecessorsName,y);var M=y.split(",");M.forEach(function(S){var b=S.replace(/(FS|SS|SF|FF).*$/,""),C=t.idToItem.get(b);C.ganttProperties.predecessor&&(C.ganttProperties.predecessor=C.ganttProperties.predecessor.filter(function(T){return T.to.toString()!==h.ganttProperties.taskId.toString()}))});continue}else d.push(g)}h.ganttProperties.predecessor=d}return c}),n=i.filter(function(o,a,l){return l.indexOf(o)===a}),s=n.join(", ");return"Cyclic dependency is detected for the tasks from "+s+". Please provide valid dependency"},r.prototype.detectCyclesStatic=function(e){for(var t=0,i=1,n=2,s=new Map,o=Array.from(e.keys()),a=0;a<o.length;a++){var l=o[a];s.set(l,t)}for(var h=[],u=[],c=function(k){s.set(k,i),h.push(k);var N=e.get(k);if(N)for(var A=Array.from(N),E=0;E<A.length;E++){var x=A[E],D=s.has(x)?s.get(x):t;if(D===t)c(x);else if(D===i){for(var z=-1,w=0;w<h.length;w++)if(h[w]===x){z=w;break}if(z!==-1){for(var O=[],L=z;L<h.length;L++)O.push(h[L]);u.push(O)}}}h.pop(),s.set(k,n)},d=Array.from(e.keys()),a=0;a<d.length;a++){var f=d[a];s.get(f)===t&&c(f)}for(var g=[],m=new Set,y=0,v=u;y<v.length;y++){var M=v[y];if(M.length!==0){for(var S=M.slice(),b=0,a=1;a<S.length;a++)S[a]<S[b]&&(b=a);var C=S.slice(b).concat(S.slice(0,b)),T=C.join("->");m.has(T)||(m.add(T),g.push(C))}}return g},r.prototype.computeTopologicalOrder=function(){for(var e=new Map,t=Array.from(this.adjacency.keys()),i=0;i<t.length;i++)e.set(t[i],0);for(var n=this.adjacency.entries(),s=n.next();!s.done;){for(var o=s.value,a=o[1],l=a.values(),h=l.next();!h.done;){var u=h.value,c=e.has(u)?e.get(u):0;e.set(u,c+1),h=l.next()}s=n.next()}var d=[];e.forEach(function(b,C){b===0&&d.push(C)});for(var f=[];d.length;){var g=d.shift();f.push(g);var m=this.adjacency.get(g);if(m)for(var y=m.values(),v=y.next();!v.done;){var M=v.value,S=e.has(M)?e.get(M):0;e.set(M,S-1),e.get(M)===0&&d.push(M),v=y.next()}}return f},r}(),Are=function(){function r(e){this.holidays=[],this.workingTime=[],this.parent=e}return r.prototype.getCalendarById=function(e){var t=this.parent.calendarSettings.taskCalendars,i=this.parent.calendarSettings.projectCalendar;if(!e)return i;if(t&&t.length>0){for(var n=0;n<t.length;n++)if(t[n].calendarId===e)return t[n]}return i},r}(),Ere=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ce=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},kre=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&(t[i[n]]=r[i[n]]);return t},Lre=function(r){Ere(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.isRowSelected=!1,n.showIndicator=!0,n.singleTier=0,n.regenerateCycles=!1,n.expandedRecords=[],n.isLocaleChanged=!1,n.triggeredColumnName="",n.totalUndoAction=0,n.previousFlatData=[],n.isExpandPerformed=!1,n.oldRecords=[],n.updateDuration=!1,n.isConvertedMilestone=!1,n.isDynamicDataUpdate=!1,n.isCancelled=!1,n.isCollapseAll=!1,n.previousRecords={},n.editedRecords=[],n.modifiedRecords=[],n.isOnEdit=!1,n.isOnDelete=!1,n.isOnAdded=!1,n.isExpandCollapseLevelMethod=!1,n.isFromEventMarker=!1,n.isDynamicData=!1,n.isConnectorLineUpdate=!1,n.staticSelectedRowIndex=-1,n.needsID=!0,n.showActiveElement=!0,n.addDeleteRecord=!1,n.enableHeaderFocus=!0,n.enableValidation=!0,n.isTreeGridRendered=!1,n.isFromOnPropertyChange=!1,n.isFromRenderBaseline=!1,n.isGanttChartRendered=!1,n.isEdit=!1,n.eventMarkerColloction=[],Ze("mergePersistData",n.mergePersistGanttData,n),n}return e.prototype.getModuleName=function(){return"gantt"},e.prototype.preRender=function(){this.initProperties()},e.prototype.getCurrentDayStartTime=function(t){var i;return this.weekWorkingTime.length>0?i=this.getStartTime(t):i=this.defaultStartTime,i},e.prototype.getCurrentDayEndTime=function(t){var i;return this.weekWorkingTime.length>0?i=this.getEndTime(t):i=this.defaultEndTime,i},e.prototype.getStartTime=function(t){var i=t.getDay(),n;switch(i){case 0:n=this.sundayDefaultStartTime;break;case 1:n=this.mondayDefaultStartTime;break;case 2:n=this.tuesdayDefaultStartTime;break;case 3:n=this.wednesdayDefaultStartTime;break;case 4:n=this.thursdayDefaultStartTime;break;case 5:n=this.fridayDefaultStartTime;break;default:n=this.saturdayDefaultStartTime;break}return n},e.prototype.getEndTime=function(t){var i=t.getDay(),n;switch(i){case 0:n=this.sundayDefaultEndTime;break;case 1:n=this.mondayDefaultEndTime;break;case 2:n=this.tuesdayDefaultEndTime;break;case 3:n=this.wednesdayDefaultEndTime;break;case 4:n=this.thursdayDefaultEndTime;break;case 5:n=this.fridayDefaultEndTime;break;default:n=this.saturdayDefaultEndTime;break}return n},e.prototype.getNonWorkingRange=function(t){var i=t.getDay(),n;switch(i){case 0:n=this.sundayNonWorkingTimeRanges;break;case 1:n=this.mondayNonWorkingTimeRanges;break;case 2:n=this.tuesdayNonWorkingTimeRanges;break;case 3:n=this.wednesdayNonWorkingTimeRanges;break;case 4:n=this.thursdayNonWorkingTimeRanges;break;case 5:n=this.fridayNonWorkingTimeRanges;break;default:n=this.saturdayNonWorkingTimeRanges;break}return n},e.prototype.getWorkingRange=function(t){var i=t.getDay(),n;switch(i){case 0:n=this.sundayWorkingTimeRanges;break;case 1:n=this.mondayWorkingTimeRanges;break;case 2:n=this.tuesdayWorkingTimeRanges;break;case 3:n=this.wednesdayWorkingTimeRanges;break;case 4:n=this.thursdayWorkingTimeRanges;break;case 5:n=this.fridayWorkingTimeRanges;break;default:n=this.saturdayWorkingTimeRanges;break}return n},e.prototype.getSecondsPerDay=function(t){var i=t.getDay(),n;switch(i){case 0:n=this.sundaySeconds;break;case 1:n=this.mondaySeconds;break;case 2:n=this.tuesdaySeconds;break;case 3:n=this.wednesdaySeconds;break;case 4:n=this.thursdaySeconds;break;case 5:n=this.fridaySeconds;break;case 6:n=this.saturdaySeconds;break;default:n=this.secondsPerDay;break}return n},e.prototype.showLoadingIndicator=function(){!p(this.loadingIndicator)&&this.loadingIndicator.indicatorType==="Shimmer"?this.showMaskRow():this.showSpinner()},e.prototype.hideLoadingIndicator=function(){!p(this.loadingIndicator)&&this.loadingIndicator.indicatorType==="Shimmer"?this.hideMaskRow():this.hideSpinner()},e.prototype.isCustomDayWorkingTime=function(t){var i=[{from:8,to:12},{from:13,to:17}];if(!t||t.length!==i.length)return!0;for(var n=0;n<i.length;n++){var s=t[n],o=i[n];if(s.from!==o.from||s.to!==o.to)return!0}return!1},e.prototype.assignPropertiesToCalendar=function(){this.holidays.length>0?this.calendarModule.holidays=this.holidays:this.calendarModule.holidays=this.calendarSettings.projectCalendar.holidays,this.isCustomDayWorkingTime(this.dayWorkingTime)?this.calendarModule.workingTime=this.dayWorkingTime:this.calendarModule.workingTime=this.calendarSettings.projectCalendar.workingTime},e.prototype.initProperties=function(){this.globalize=new of(this.locale),this.isAdaptive=ne.isDevice,this.flatData=[],this.currentViewData=[],this.updatedRecords=[],this.ids=[],this.ganttColumns=[],this.localeObj=new so(this.getModuleName(),this.getDefaultLocale(),this.locale),this.dataOperation=new QJ(this),this.nonWorkingHours=[],this.mondayNonWorkingHours=[],this.tuesdayNonWorkingHours=[],this.wednesdayNonWorkingHours=[],this.thursdayNonWorkingHours=[],this.fridayNonWorkingHours=[],this.saturdayNonWorkingHours=[],this.sundayNonWorkingHours=[],this.nonWorkingTimeRanges=[],this.mondayNonWorkingTimeRanges=[],this.tuesdayNonWorkingTimeRanges=[],this.wednesdayNonWorkingTimeRanges=[],this.thursdayNonWorkingTimeRanges=[],this.fridayNonWorkingTimeRanges=[],this.saturdayNonWorkingTimeRanges=[],this.sundayNonWorkingTimeRanges=[],this.workingTimeRanges=[],this.mondayWorkingTimeRanges=[],this.tuesdayWorkingTimeRanges=[],this.wednesdayWorkingTimeRanges=[],this.thursdayWorkingTimeRanges=[],this.fridayWorkingTimeRanges=[],this.saturdayWorkingTimeRanges=[],this.sundayWorkingTimeRanges=[],this.defaultEndTime=null,this.defaultStartTime=null,this.mondayDefaultStartTime=null,this.mondayDefaultEndTime=null,this.tuesdayDefaultStartTime=null,this.tuesdayDefaultEndTime=null,this.wednesdayDefaultStartTime=null,this.wednesdayDefaultEndTime=null,this.thursdayDefaultStartTime=null,this.thursdayDefaultEndTime=null,this.fridayDefaultStartTime=null,this.fridayDefaultEndTime=null,this.saturdayDefaultStartTime=null,this.saturdayDefaultEndTime=null,this.sundayDefaultStartTime=null,this.sundayDefaultEndTime=null,this.durationUnitTexts={days:"days",hours:"hours",minutes:"minutes",day:"day",hour:"hour",minute:"minute"},this.durationUnitEditText={minute:["m","min","minute","minutes"],hour:["h","hr","hour","hours"],day:["d","dy","day","days"]},this.perDayWidth=null,this.isMileStoneEdited=!1,this.chartVerticalLineContainer=null,this.updatedConnectorLineCollection=[],this.connectorLineIds=[],this.predecessorsCollection=[],this.isInPredecessorValidation=this.enablePredecessorValidation,this.isValidationEnabled=!0,this.isLoad=!0,this.editedPredecessorRecords=[],this.validationDialogElement=null,this.currentEditedArgs={},this.dialogValidateMode={respectLink:!1,removeLink:!1,preserveLinkWithEditing:!0},this.taskFields.constraintType&&this.taskFields.constraintDate&&(this.dialogValidateMode.respectMustStartOn=!1,this.dialogValidateMode.respectMustFinishOn=!1,this.dialogValidateMode.respectStartNoLaterThan=!1,this.dialogValidateMode.respectFinishNoLaterThan=!1),this.calendarModule=new Are(this),this.assignPropertiesToCalendar(),this.secondsPerDay=this.dataOperation.getSecondsPerDay(),this.nonWorkingDayIndex=[],this.dataOperation.getNonWorkingDayIndex(),this.columnMapping={},this.controlId=this.element.id,this.cloneProjectStartDate=this.enablePersistence&&this.cloneProjectStartDate?this.cloneProjectStartDate:null,this.cloneProjectEndDate=this.enablePersistence&&this.cloneProjectEndDate?this.cloneProjectEndDate:null,this.totalHolidayDates=this.dataOperation.getHolidayDates(),this.ganttChartModule=new mie(this),this.timelineModule=new yie(this),this.chartRowsModule=new ore(this),this.treeGridModule=new Ine(this),this.dateValidationModule=new tD(this),this.predecessorModule=new are(this),this.connectorLineModule=new Mre(this),this.splitterModule=new Tre(this),this.tooltipModule=new wre(this),this.keyConfig={home:"home",end:"end",downArrow:"downarrow",upArrow:"uparrow",collapseAll:"ctrl+uparrow",expandAll:"ctrl+downarrow",collapseRow:"ctrl+shift+uparrow",expandRow:"ctrl+shift+downarrow",saveRequest:"13",escape:"27",addRow:"insert",addRowDialog:"ctrl+insert",editRowDialog:"ctrl+f2",delete:"delete",tab:"tab",shiftTab:"shift+tab",focusTask:"shift+f5",indentLevel:"shift+leftarrow",outdentLevel:"shift+rightarrow",focusSearch:"ctrl+shift+70",contextMenu:"shift+F10",undo:"ctrl+z",redo:"ctrl+y",selectAll:"ctrl+a"},this.focusModule=new xre(this),this.zoomingLevels.length===0&&this.setProperties({zoomingLevels:this.getZoomingLevels()},!0),this.resourceFieldsMapping(),p(this.resourceFields.unit)&&this.setProperties({resourceFields:{unit:"unit"}},!0),this.taskIds=[],this.defaultCalendarContext=new kg(this,this.calendarSettings.projectCalendar)},e.prototype.isUndoRedoItemPresent=function(t){return!!(this.undoRedoModule&&this.undoRedoActions&&this.undoRedoActions.indexOf(t)!==-1)},e.prototype.insertRecord=function(t,i){this.flatData.splice(i,0,t)},e.prototype.removeRecords=function(t,i){i===void 0&&(i=1),this.flatData.splice(t,i)},e.prototype.getDateFormat=function(){if(p(this.dateFormat)){var t=this.globalize.getDatePattern({skeleton:"yMd"});return t}else return this.dateFormat},e.prototype.getDefaultTZOffset=function(){var t=new Date(new Date().getFullYear(),0,1),i=new Date(new Date().getFullYear(),6,1);return Math.max(t.getTimezoneOffset(),i.getTimezoneOffset())},e.prototype.isInDst=function(t){return t.getTimezoneOffset()<this.getDefaultTZOffset()},e.prototype.resourceFieldsMapping=function(){var t=this.resourceFields;t.id=p(t.id)?this.resourceIDMapping:t.id,t.name=p(t.name)?this.resourceNameMapping:t.name},e.prototype.validateDimentionValue=function(t){return p(t)?null:typeof t=="string"&&t!=="auto"&&t.indexOf("%")===-1?t.indexOf("px")===-1?t+"px":t:typeof t=="number"?t+"px":t.toString()},e.prototype.calculateDimensions=function(){var t=this.validateDimentionValue(this.height),i=this.validateDimentionValue(this.width);!p(this.width)&&typeof this.width=="string"&&this.width.indexOf("%")!==-1&&(i=this.width);var n=this.element.style.height,s=this.element.style.width;i&&(this.element.style.width=i),t&&(this.element.style.height=t),!t&&!n&&(this.element.style.height="auto"),!i&&!s&&(this.element.style.width="auto"),this.ganttHeight=this.element.offsetHeight,this.ganttWidth=this.element.offsetWidth},e.prototype.render=function(){this.isReact&&(this.treeGrid.isReact=!0,this.treeGrid.grid.isReact=!0),this.isVue&&(this.treeGrid.isVue=!0,this.treeGrid.grid.isVue=!0,this.treeGrid.vueInstance=this.vueInstance,this.treeGrid.grid.vueInstance=this.vueInstance),this.taskFields&&this.taskFields.constraintDate&&this.taskFields.constraintType&&!this.updateOffsetOnTaskbarEdit&&(this.updateOffsetOnTaskbarEdit=!1),this.element.setAttribute("role","application"),Jh({target:this.element},this.createElement),this.trigger("load",{}),this.element.classList.add(O1),this.isAdaptive?this.element.classList.add(R1):this.element.classList.remove(R1),this.calculateDimensions(),p(this.toolbarModule)||this.renderToolbar(),this.splitterModule.renderSplitter(),this.notify("renderPanels",null),this.actionFailures(),this.showLoadingIndicator(),this.dataMap&&this.dataMap.clear(),this.dataOperation.checkDataBinding()},e.prototype.actionFailures=function(){var t=[],i=/^[a-zA-Z\s/]+$/,n=!0,s=this.taskFields.properties;Object.keys(s).forEach(function(M){s[M]!==null&&(n=!1)});for(var o=!0,a=0;a<this.columns.length;a++)if(this.columns[a].isPrimaryKey){o=!1;break}n&&t.push("Gantt Task Fields are not configured properly. The task fields are crucial for both the project and resource views to function properly. Please ensure that the gantt task fields are properly configured!"),this.viewType==="ResourceView"&&(this.resourceFields.id||t.push("Gantt Resource Fields are not properly configured, which is crucial for the Resource View. Please ensure that the resource fields are configured correctly!")),this.dataSource instanceof fe&&p(this.taskFields.hasChildMapping)&&t.push("hasChildMapping property is not configured for load-on-demand. Please ensure its properly configured in the Gantt Task Fields!"),!p(this.timelineSettings.topTier.format)&&this.timelineSettings.topTier.format!==""&&!i.test(this.timelineSettings.topTier.format)&&t.push("The provided top tier format is invalid. Please ensure that you provide a valid format for these tier. Make sure to use only letters and avoid numbers or special characters!"),!p(this.timelineSettings.bottomTier.format)&&this.timelineSettings.bottomTier.format!==""&&!i.test(this.timelineSettings.bottomTier.format)&&t.push("The provided bottom  tier format is invalid. Please ensure that you provide a valid format for these tier. Make sure to use only letters and avoid numbers or special characters!"),o&&this.viewType!=="ResourceView"&&t.push("Primarykey is not configured properly. The primarykey is crucial for doing CRUD operations or map taskId in column field of gantt!"),this.eventMarkers.length>0&&this.eventMarkers.forEach(function(M){M.day||t.push("Day is not configured properly in event markers.Please ensure that the day in event markers is properly configured!")});function l(M,S,b,C){var T;p(b)||(T=b.filter(function(k){return k.prototype.getModuleName()===M})),S&&!p(T)&&T.length===0&&C.push("Module "+M+" is not available in Gantt component! You either misspelled the module name or forgot to load it!")}l("sort",this.allowSorting,this.injectedModules,t);var h;(this.editSettings.allowAdding||this.editSettings.allowDeleting||this.editSettings.allowEditing||this.editSettings.allowNextRowEdit||this.editSettings.allowTaskbarEditing||this.editSettings.mode||this.editSettings.newRowPosition||this.editSettings.showDeleteConfirmDialog)&&(h=!0),l("edit",h,this.injectedModules,t),l("reorder",this.allowReordering,this.injectedModules,t),l("excelExport",this.allowExcelExport,this.injectedModules,t);var u;(this.allowRowDragAndDrop||this.allowTaskbarDragAndDrop)&&(u=!0),l("rowDragAndDrop",u,this.injectedModules,t),l("criticalPath",this.enableCriticalPath,this.injectedModules,t),l("undoRedo",this.enableUndoRedo,this.injectedModules,t),l("resize",this.allowResizing,this.injectedModules,t);var c;this.toolbar&&this.toolbar.length>0&&(c=!0),l("toolbar",c,this.injectedModules,t);var d;(this.allowFiltering||this.toolbar&&this.toolbar.indexOf("Search")!==-1)&&(d=!0),l("filter",d,this.injectedModules,t),l("selection",this.allowSelection,this.injectedModules,t);var f,g=this.calendarModule.holidays;(this.highlightWeekends||g&&g.length>0||this.eventMarkers&&this.eventMarkers.length>0)&&(f=!0),l("dayMarkers",f,this.injectedModules,t),l("contextMenu",this.enableContextMenu,this.injectedModules,t),l("columnMenu",this.showColumnMenu,this.injectedModules,t),l("pdfExport",this.allowPdfExport,this.injectedModules,t),l("virtualScroll",this.enableVirtualization,this.injectedModules,t);var m,y=Array.isArray(this.columns)&&this.columns.some(function(M){return!!M.freeze});if((this.frozenColumns||y||this.getFrozenColumnsCount())&&(m=!0),l("freeze",m,this.injectedModules,t),t.length>0){var v={error:{}};t.forEach(function(M,S){v.error[parseInt(S,10)]=M}),this.trigger("actionFailure",v)}},e.prototype.hideMaskRow=function(){var t=this.element.querySelectorAll(".e-masked-table").length;if(!p(this.contentMaskTable)&&(t!==0||this.contentMaskTable)){var i=this.contentMaskTable;ot(i),this.contentMaskTable=null}if(t=this.element.querySelectorAll(".e-masked-table").length,!p(this.headerMaskTable)&&(t!==0||this.headerMaskTable)){var i=this.headerMaskTable;ot(i),this.headerMaskTable=null}for(;this.element.querySelectorAll(".e-table-background").length!==0;)this.element.querySelectorAll(".e-table-background")[0].remove();for(;this.element.querySelectorAll(".e-temp-timeline").length!==0;)this.element.querySelectorAll(".e-temp-timeline")[0].remove();if(this.element.querySelectorAll("."+ih).length!==0)for(var n=0;n<this.singleTier;n++)p(this.element.querySelectorAll("."+ih)[parseInt(n.toString(),10)])||(this.element.querySelectorAll("."+ih)[parseInt(n.toString(),10)].style.visibility="visible");p(this.element.querySelector("."+th))||(this.element.querySelector("."+th).style.position="relative"),p(this.element.getElementsByClassName(Lg)[0])||(this.element.getElementsByClassName(Lg)[0].style.visibility="visible")},e.prototype.showMaskRow=function(){var t=this.chartPane.childNodes[0].childNodes[0];this.scrollLeftValue=this.chartPane.childNodes[0].childNodes[0].scrollLeft;var i=this.chartPane.childNodes[0].childNodes[1];if(this.treeGrid.element&&this.ganttChartModule.setVirtualHeight(),!this.contentMaskTable){if(i){var n=i;if(this.renderBackGround(n),this.ganttChartModule.scrollObject.isSetScrollLeft){if(this.element.querySelectorAll("."+ih).length!==0){this.singleTier=this.timelineModule.isSingleTier?1:2;for(var s=0;s<this.singleTier;s++)this.element.querySelectorAll("."+ih)[parseInt(s.toString(),10)].style.visibility="hidden"}this.singleTier===0&&(this.singleTier=2)}this.element.getElementsByClassName(Lg)[0].style.visibility="hidden",this.contentMaskTable=this.contentMaskTable=this.createMaskTable(n)}if(t&&this.ganttChartModule.scrollObject.isSetScrollLeft){this.element.querySelector("."+th).style.position="static";var n=t;this.renderHeaderBackground(n),this.headerMaskTable=this.headerMaskTable=this.createMaskTable(n)}}},e.prototype.convertToWBSPredecessor=function(t,i){var n=this;return t.split(",").map(function(s){var o=s.trim().match(/^(.*?)(FS|SS|FF|SF|\+|\s|$)(.*)/i);if(o){var a=n.getRecordByID(o[1]).ganttProperties.wbsCode,l=(o[2]+o[3]).trim();return a+l}else return s.trim()}).join(",")},e.prototype.updateWBSPredecessor=function(t){var i=t[this.taskFields.dependency]&&t[this.taskFields.dependency]!==""?this.convertToWBSPredecessor(t[this.taskFields.dependency],t):null;t.WBSPredecessor=i,t.ganttProperties.wbsPredecessor=i},e.prototype.updateWBSCodes=function(t,i,n,s){var o=this.getParentTask(t.parentItem),a=(n.get(o)||0)+1;n.set(o,a);var l;if(!o)l=""+a;else{var h=i.get(o);l=h+"."+a}return i.set(t,l),s||(t.WBSCode=l.toString(),t.ganttProperties.wbsCode=l.toString()),{wbsMap:i,siblingCountMap:n}},e.prototype.getMaxRootWBSCode=function(t,i){for(var n="",s=0,o=t;s<o.length;s++){var a=o[s],l=a.ganttProperties.wbsCode;if(l){for(var h=n.split(".").map(Number),u=l.split(".").map(Number),c=Math.max(h.length,u.length),d=!1,f=0;f<c;f++){var g=u[f]?u[f]:0,m=h[f]?h[f]:0;if(g>m){d=!0;break}else if(g<m)break}(d||!n)&&(n=l)}}if(n){var y=n.split(".").map(Number);return y[y.length-1]++,y.join(".")}else return i.ganttProperties.wbsCode+".1"},e.prototype.generateWBSCodes=function(t){for(var i=new Map,n=[],s=new Map,o=0,a=t;o<a.length;o++){var l=a[o];if(this.enableAutoWbsUpdate||this.isLoad){var h=this.updateWBSCodes(l,i,s);i=h.wbsMap,s=h.siblingCountMap}else if(!l.ganttProperties.wbsCode){var u=void 0;if(l.parentItem){var c=this.getParentTask(l.parentItem);u=c.ganttProperties.wbsCode,u=this.getMaxRootWBSCode(c.childRecords,c)}else u=this.getMaxRootWBSCode(this.treeGrid.parentData);l.WBSCode=u,l.ganttProperties.wbsCode=u}l[this.taskFields.dependency]?n.push(l):(l.WBSPredecessor=null,l.ganttProperties.wbsPredecessor=null)}for(var d=0,f=n;d<f.length;d++){var l=f[d];this.updateWBSPredecessor(l)}},e.prototype.renderHeaderBackground=function(t){var i=t,n=!!xe(i,"."+th);if(n){for(var s=this.createElement("div",{className:"e-table-background"}),o=0,a=Math.round(t.getBoundingClientRect().width),l=0;l<3;l++)this.enableRtl?s.appendChild(this.createElement("div",{className:"e-div-background",attrs:{style:"left: "+(a-=160)+"px; top:0px;"}})):s.appendChild(this.createElement("div",{className:"e-div-background",attrs:{style:"left: "+(o+=160)+"px; top:0px;"}}));i.insertBefore(s,i.firstChild)}},e.prototype.assignTimeToDate=function(t,i){var n=new Date(t),s=Math.floor(i/3600),o=Math.floor(i%3600/60),a=i%60;return n.setHours(s,o,a,0),n},e.prototype.renderBackGround=function(t){var i=t,n=!!xe(i,"."+Rj);if(n){for(var s=this.createElement("div",{className:"e-table-background"}),o=0,a=Math.round(t.getBoundingClientRect().width),l=0;l<3;l++)this.enableRtl?s.appendChild(this.createElement("div",{className:"e-div-background",attrs:{style:"left: "+(a-=160)+"px;z-index:1;"}})):s.appendChild(this.createElement("div",{className:"e-div-background",attrs:{style:"left: "+(o+=160)+"px;z-index:1;"}}));i.insertBefore(s,i.firstChild)}},e.prototype.createMaskTable=function(t){var i=t,n=t.getBoundingClientRect().height,s=!!xe(i,"."+th),o;if(s?(o=this.createEmptyTimeLineTable(n),o.style.position="sticky",o.style.left="0px",this.enableRtl&&o.style.removeProperty("left")):(o=this.createEmptyMaskTable(n),o.style.position="absolute",o.style.zIndex=1),!s)o.style.height=t.getBoundingClientRect().height+"px",i.insertBefore(o,i.firstChild);else{o.style.height=t.getBoundingClientRect().height+"px";var a=this.createElement("div",{className:"e-temp-timeline"});a.style.width=this.element.getElementsByClassName("e-timeline-header-container")[0].offsetWidth+"px",a.style.position="sticky",this.enableRtl?a.style["margin-right"]=Math.abs(this.scrollLeftValue)+"px":a.style["margin-left"]=this.scrollLeftValue+"px",a.appendChild(o),i.insertBefore(a,i.firstChild)}return o},e.prototype.createEmptyTimeLineTable=function(t){for(var i=this.createElement("table",{className:"e-table e-masked-table"}),n=this.createElement("tbody",{className:"e-masked-tbody"}),s=[],o=this.createElement("tr",{className:"e-masked-row e-row",attrs:{style:"height: "+t/2+"px;"}}),a=0;a<this.singleTier;a++)s.push(o.cloneNode(!0));this.topBottomHeader=0;for(var a=0;a<s.length;a++)n.appendChild(this.applyTimelineMaskRow(s[parseInt(a.toString(),10)])),this.topBottomHeader=this.topBottomHeader+1;return i.appendChild(n),i.style.width="100%",i},e.prototype.applyTimelineMaskRow=function(t){var i=t,n=4;this.element.getElementsByClassName("e-timeline-header-container")[0].offsetWidth/166>4&&(n=this.element.getElementsByClassName("e-timeline-header-container")[0].offsetWidth/166);for(var s=0;s<n;s++)i.appendChild(this.createElement("td",{className:"e-timeline-masked-top-header-cell"}));for(var s=0;s<i.childNodes.length-1;s++)i.childNodes[parseInt(s.toString(),10)].style.width="166px";for(var o=[].slice.call(i.childNodes),s=0;s<o.length;s++){var a=o[parseInt(s.toString(),10)];switch(this.topBottomHeader){case 0:{this.enableRtl?(a.innerHTML='<span class="e-mask e-skeleton e-skeleton-text e-shimmer-wave e-timelineHeader"></span>',a.children[0].style.left="-20px"):a.innerHTML='<span class="e-mask e-skeleton e-skeleton-text e-shimmer-wave e-timelineHeader"></span>';break}case 1:{a.appendChild(this.createElement("td",{className:"e-timeline-masked-top-header-cell"})),a.appendChild(this.createElement("td",{className:"e-timeline-masked-top-header-cell"})),a.appendChild(this.createElement("td",{className:"e-timeline-masked-top-header-cell"}));for(var l=[].slice.call(a.childNodes),h=0;h<l.length;h++){var u=l[parseInt(h.toString(),10)];h===0?this.enableRtl?(u.innerHTML='<span class="e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML"></span>',u.children[0].style.left="-14px"):u.innerHTML='<span class="e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML"></span>':h===1?this.enableRtl?(u.innerHTML='<span class="e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML1"></span>',u.children[0].style.left="-30px"):u.innerHTML='<span class="e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML1"></span>':this.enableRtl?(u.innerHTML='<span class="e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML2"></span>',u.children[0].style.left="-60px"):u.innerHTML='<span class="e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML2"></span>'}break}}}return i},e.prototype.createEmptyMaskTable=function(t){var i=this.createElement("table",{className:"e-table e-masked-table"}),n=this.createElement("tbody",{className:"e-masked-tbody"}),s=[],o=this.createElement("tr",{className:"e-masked-row e-row",attrs:{style:"height: "+t/7+"px;"}});this.columnLoop=0;for(var a=0;a<6;a++)s.push(o.cloneNode(!0));for(var l=0;l<s.length;l++)this.columnLoop<4?this.columnLoop=this.columnLoop+1:this.columnLoop===4&&(this.columnLoop=1),n.appendChild(this.applyMaskRow(s[parseInt(l.toString(),10)]));i.appendChild(n),i.style.width="100%";var h=this.createElement("div",{className:"e-temp-container"});return h.style.width="calc(100% - 17px)",h.style.overflow="hidden",h.appendChild(i),h},e.prototype.applyMaskRow=function(t){var i=t;if(this.columnLoop<4){var n=2;this.element.getElementsByClassName("e-timeline-header-container")[0].offsetWidth/300>2&&(n=this.element.getElementsByClassName("e-timeline-header-container")[0].offsetWidth/300);for(var s=0;s<n;s++)i.appendChild(this.createElement("td",{className:"e-masked-cell e-rowcell"}))}else i.appendChild(this.createElement("td",{className:"e-masked-cell e-rowcell"}));for(var o=[].slice.call(i.childNodes),s=0;s<o.length;s++){var a=o[parseInt(s.toString(),10)];switch(this.columnLoop){case 1:s===0?this.enableRtl?(a.innerHTML='<span class="e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell01"></span>',a.children[0].style.left="-14px"):a.innerHTML='<span class="e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell01"></span>':a.innerHTML='<span class="e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell02"></span>';break;case 2:s===0?this.enableRtl?(a.innerHTML='<span class="e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell03"></span>',a.children[0].style.left="-14px"):a.innerHTML='<span class="e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell03"></span>':a.innerHTML='<span class="e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell04"></span>';break;case 3:s===0?this.enableRtl?(a.innerHTML='<span class="e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell05"></span>',a.children[0].style.left="-64px"):a.innerHTML='<span class="e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell05"></span>':this.enableRtl?(a.innerHTML='<span class="e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell06"></span>',a.children[0].style.left="-192px"):a.innerHTML='<span class="e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell06"></span>';break;case 4:this.enableRtl?(a.innerHTML='<span class="e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell07"></span>',a.children[0].style.left="-388px"):a.innerHTML='<span class="e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell07"></span>';break}}return i},e.prototype.showSpinner=function(){oo(this.element)},e.prototype.hideSpinner=function(){wl(this.element)},e.prototype.processTimeline=function(){this.timelineModule.processTimelineUnit(),this.timelineModule.calculateZoomingLevelsPerDayWidth()},e.prototype.renderGantt=function(t){t&&(this.isFromOnPropertyChange=t),this.enableValidation&&(this.dataOperation.calculateProjectDates(),this.timelineModule.validateTimelineProp());var i=new Map;if(this.cyclicValidator=new Nre(this,i),this.allowParentDependency){if(this.cyclicValidator.resolve(),this.cyclicValidator.cycles.length>0){var n=this.cyclicValidator.getCyclesWithDetails(this.cyclicValidator.cycles);this.trigger("actionFailure",{error:n})}this.predecessorModule.updateParentPredecessor(i)}if(this.predecessorModule&&this.taskFields.dependency&&(this.predecessorModule.parentIds=[],this.predecessorModule.parentRecord=[],this.predecessorModule.updatePredecessors(i),this.isInPredecessorValidation&&this.enableValidation&&this.autoCalculateDateScheduling&&!(this.isLoad&&!this.treeGrid.loadChildOnDemand&&this.taskFields.hasChildMapping)&&this.predecessorModule.updatedRecordsDateByPredecessor(i)),this.enableValidation&&(this.dataOperation.calculateProjectDates(),this.timelineModule.validateTimelineProp(),this.dataOperation.updateGanttData()),t){if(this.dataSource instanceof Object&&Dp(this)){var s=H("count",this.dataSource);this.treeGrid.dataSource={result:this.flatData,count:s}}else this.treeGrid.setProperties({dataSource:this.flatData},!1);p(this.selectionModule)||this.treeGrid.setProperties({selectedRowIndex:this.selectedRowIndex},!1)}else{this.treeGridPane.classList.remove("e-temp-content"),p(this.treeGridPane.querySelector(".e-gantt-temp-header"))||ot(this.treeGridPane.querySelector(".e-gantt-temp-header")),this.notify("dataReady",{}),this.enableContextMenu&&this.notify("initiate-contextMenu",{});var o=!p(document.body.className)&&document.body.className.includes("e-bigger")?this.rowHeight===36?46:this.rowHeight:this.rowHeight;this.rowHeight=p(this.rowHeight)?36:o,this.renderTreeGrid(),this.wireEvents(),this.notify("initPredessorDialog",{})}this.isFromOnPropertyChange||this.splitterModule.updateSplitterPosition(),(this.gridLines==="Vertical"||this.gridLines==="Both")&&!this.dayMarkersModule&&this.renderChartVerticalLines()},e.prototype.removeCriticalPathStyles=function(){var t=this.ganttChartModule.chartElement;ue(t.querySelectorAll(".e-gantt-child-taskbar-inner-div"),lZ),ue(t.querySelectorAll(".e-gantt-child-progressbar-inner-div"),hZ),ue(t.querySelectorAll(".e-critical-milestone"),uZ),ue(this.element.querySelectorAll(".e-connector-line"),IZ),ue(this.element.querySelectorAll(".e-connector-line-arrow"),DZ)},e.prototype.wireEvents=function(){this.allowKeyboard&&(this.keyboardModule=new hh(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfig,eventName:"keydown"})),F.add(window,"resize",this.windowResize,this),F.add(document.body,"keydown",this.keyDownHandler,this)},e.prototype.unwireEvents=function(){this.keyboardModule&&(this.keyboardModule.destroy(),this.keyboardModule=null),F.remove(window,"resize",this.windowResize),F.remove(document.body,"keydown",this.keyDownHandler)},e.prototype.keyDownHandler=function(t){t.altKey&&t.keyCode===74&&(this.ganttChartModule.manageFocus(this.treeGrid.element.childNodes[1],"remove",!1),this.ganttChartModule.manageFocus(this.element,"add",!1))},e.prototype.windowResize=function(){var t=this;if(!p(this.element)){this.updateContentHeight(),this.ganttChartModule.updateWidthAndHeight(),this.treeGridModule.ensureScrollBar(),this.predecessorModule&&this.taskFields.dependency&&(this.updateRowHeightInConnectorLine(this.updatedConnectorLineCollection),this.connectorLineModule.renderConnectorLines(this.updatedConnectorLineCollection));var i=this.criticalPathModule;this.enableCriticalPath&&i&&i.criticalPathCollection&&this.criticalPathModule.criticalConnectorLine(i.criticalPathCollection,i.detailPredecessorCollection,!0,i.predecessorCollectionTaskIds),this.calculateDimensions();var n=this.splitterModule.splitterObject.element.querySelectorAll(".e-pane")[0],s=this.splitterModule.splitterObject.element.querySelectorAll(".e-pane")[1];this.splitterModule.splitterPreviousPositionGrid=n.scrollWidth+1+"px",this.splitterModule.splitterPreviousPositionChart=s.scrollWidth+1+"px",this.timelineModule.isZoomedToFit&&setTimeout(function(){t.timelineModule.processZoomToFit()},0)}this.dayMarkersModule&&this.dayMarkersModule.eventMarkerRender&&this.dayMarkersModule.eventMarkerRender.updateContainerHeight(),this.enableTimelineVirtualization&&this.timelineModule.refreshTimeline()},e.prototype.keyActionHandler=function(t){if(this.enableContextMenu&&this.contextMenuModule&&(t.action==="downArrow"||t.action==="upArrow")&&document.getElementById(this.element.id+"_contextmenu")&&this.args){var i=this.args;p(i)||i.focus()}t.target&&(t.action==="downArrow"||t.action==="upArrow")&&t.target===this.element.querySelector(".e-rowcell")||t.target&&t.action==="escape"&&this.treeGrid.grid.columnMenuModule&&this.treeGrid.grid.columnMenuModule.columnMenu.element.style.display==="block"?this.treeGrid.grid.notify("key-pressed",t):this.focusModule.onKeyPress(t)},e.prototype.updateRowHeightInConnectorLine=function(t){if(t&&t.length){var i=!p(this.ganttChartModule)&&this.ganttChartModule.getChartRows()[0]&&this.ganttChartModule.getChartRows()[0].getBoundingClientRect().height;if(i&&!isNaN(i))for(var n=0;n<t.length;n++)t[n].rowHeight=i}},e.prototype.renderToolbar=function(){p(this.toolbarModule)||(this.toolbarModule.renderToolbar(),this.toolbarModule.refreshToolbarItems())},e.prototype.renderTreeGrid=function(){this.treeGridModule.renderTreeGrid()},e.prototype.updateCurrentViewData=function(){var t=this;if(this.currentViewData=this.treeGrid.getCurrentViewRecords().slice(),this.currentViewData.length>0&&this.loadChildOnDemand&&this.taskFields.hasChildMapping){this.isLoad=!0,this.flatData=[],this.dataOperation.taskIds={},this.ids=[],this.dataOperation.recordIndex=0,this.dataOperation.dataArray=this.currentViewData,this.dataOperation.cloneDataSource(),this.predecessorModule&&this.taskFields.dependency&&(this.predecessorModule.parentIds=[],this.predecessorModule.parentRecord=[],this.predecessorModule.updatePredecessors());for(var i=this.treeGrid.grid.contentModule.rows,n=i.filter(function(a){if(a.data[t.taskFields.id]===t.flatData[0].ganttProperties.taskId)return a})[0],s=n.index,o=0;o<this.flatData.length;o++)this.flatData[o].index=s,s++;this.currentViewData=this.flatData,this.treeGrid.grid.currentViewData=this.flatData,p(this.treeGrid.virtualScrollModule)||(this.treeGrid.virtualScrollModule.visualData=this.flatData,this.updatedRecords=this.flatData)}this.expandedRecords=this.getExpandedRecords(this.currentViewData)},e.prototype.getRecordFromFlatdata=function(t){for(var i=[],n=0;n<t.length;n++)i.push(this.getTaskByUniqueID(t[n].uniqueID));return i},e.prototype.updateContentHeight=function(t){if(!(!this.allowTaskbarOverlap&&!this.ganttChartModule.isCollapseAll&&!this.ganttChartModule.isExpandAll&&!this.isLoad))if(this.virtualScrollModule&&this.enableVirtualization&&!p(t)){var i=H("result.length",t);this.contentHeight=i*this.rowHeight}else{var n=this.virtualScrollModule&&this.enableVirtualization?this.currentViewData:this.expandedRecords;this.expandedRecords=n;var s=void 0,o=!p(this.ganttChartModule)&&!p(this.ganttChartModule.getChartRows())?this.ganttChartModule.getChartRows()[0]:null;!p(o)&&o.offsetHeight>0?s=o.offsetHeight:s=this.rowHeight,this.contentHeight=n.length*s}},e.prototype.getExpandStatus=function(t){var i=this.getParentTask(t.parentItem);if(p(i))return!0;if(i.expanded===!1)return!1;if(i.parentItem){var n=this.getParentTask(i.parentItem);return n.expanded===!1?!1:this.getExpandStatus(this.getParentTask(i.parentItem))}else return!0},e.prototype.getExpandedRecords=function(t){if(!t||t.length===0)return this.expandedRecords=[],[];for(var i=new Map,n=new Map,s=new Map,o=0,a=t;o<a.length;o++){var l=a[o],h=l.uniqueID;if(i.set(h,l),l.parentItem){var u=l.uniqueID;n.has(u)||n.set(u,[]),n.get(u).push(h)}}for(var c=[],d=new Set,f=0,g=t;f<g.length;f++){var l=g[f],h=l.uniqueID;if(d.has(h)){s.get(h)&&c.push(l);continue}d.add(h);var m=l.expanded!==!1;if(m&&l.parentItem)for(var y=l;y.parentItem;){var u=y.parentItem.uniqueID,v=this.getParentTask(y.parentItem,i);if(d.has(u))if(s.has(u)&&v&&v.expanded){m=s.get(u);break}else{m=!1;break}if(d.add(u),v&&t.indexOf(v)===-1&&v.expanded&&!s.get(u)&&s.set(u,!0),!v){m=!1;break}if(v.expanded===!1){m=!1;break}y=v}else if(!m){var M=void 0;l.parentItem&&(M=this.getParentTask(l.parentItem,i)),m=!!(!l.parentItem||M&&M.expanded)}s.set(h,m),m&&c.push(l)}return this.expandedRecords=c,c},e.prototype.getZoomingLevels=function(){var t=this.timelineSettings.weekStartDay,i=this.timelineSettings.weekendBackground,n=[{topTier:{unit:"Year",format:"yyyy",count:50},bottomTier:{unit:"Year",format:"yyyy",count:10},timelineUnitSize:99,level:0,timelineViewMode:"Year",weekStartDay:t,updateTimescaleView:!0,weekendBackground:i,showTooltip:!0},{topTier:{unit:"Year",format:"yyyy",count:20},bottomTier:{unit:"Year",format:"yyyy",count:5},timelineUnitSize:99,level:1,timelineViewMode:"Year",weekStartDay:t,updateTimescaleView:!0,weekendBackground:i,showTooltip:!0},{topTier:{unit:"Year",format:"yyyy",count:5},bottomTier:{unit:"Year",format:"yyyy",count:1},timelineUnitSize:99,level:2,timelineViewMode:"Year",weekStartDay:t,updateTimescaleView:!0,weekendBackground:i,showTooltip:!0},{topTier:{unit:"Year",format:"MMM, yy",count:1},bottomTier:{unit:"Month",formatter:this.displayHalfValue,count:6},timelineUnitSize:66,level:3,timelineViewMode:"Year",weekStartDay:t,updateTimescaleView:!0,weekendBackground:i,showTooltip:!0},{topTier:{unit:"Year",format:"MMM, yy",count:1},bottomTier:{unit:"Month",formatter:this.displayHalfValue,count:6},timelineUnitSize:99,level:4,timelineViewMode:"Year",weekStartDay:t,updateTimescaleView:!0,weekendBackground:i,showTooltip:!0},{topTier:{unit:"Year",format:"MMM, yy",count:1},bottomTier:{unit:"Month",formatter:this.displayQuarterValue,count:3},timelineUnitSize:66,level:5,timelineViewMode:"Year",weekStartDay:t,updateTimescaleView:!0,weekendBackground:i,showTooltip:!0},{topTier:{unit:"Year",format:"yyyy",count:1},bottomTier:{unit:"Month",formatter:this.displayQuarterValue,count:3},timelineUnitSize:99,level:6,timelineViewMode:"Year",weekStartDay:t,updateTimescaleView:!0,weekendBackground:i,showTooltip:!0},{topTier:{unit:"Year",format:"yyyy",count:1},bottomTier:{unit:"Month",format:"MMM yyyy",count:1},timelineUnitSize:99,level:7,timelineViewMode:"Year",weekStartDay:t,updateTimescaleView:!0,weekendBackground:i,showTooltip:!0},{topTier:{unit:"Month",format:"MMM, yy",count:1},bottomTier:{unit:"Week",format:"dd",count:1},timelineUnitSize:33,level:8,timelineViewMode:"Month",weekStartDay:t,updateTimescaleView:!0,weekendBackground:i,showTooltip:!0},{topTier:{unit:"Month",format:"MMM, yyyy",count:1},bottomTier:{unit:"Week",format:"dd MMM",count:1},timelineUnitSize:66,level:9,timelineViewMode:"Month",weekStartDay:t,updateTimescaleView:!0,weekendBackground:i,showTooltip:!0},{topTier:{unit:"Month",format:"MMM, yyyy",count:1},bottomTier:{unit:"Week",format:"dd MMM",count:1},timelineUnitSize:99,level:10,timelineViewMode:"Month",weekStartDay:t,updateTimescaleView:!0,weekendBackground:i,showTooltip:!0},{topTier:{unit:"Week",format:"MMM dd, yyyy",count:1},bottomTier:{unit:"Day",format:"d",count:1},timelineUnitSize:33,level:11,timelineViewMode:"Week",weekStartDay:t,updateTimescaleView:!0,weekendBackground:i,showTooltip:!0},{topTier:{unit:"Week",format:"MMM dd, yyyy",count:1},bottomTier:{unit:"Day",format:"d",count:1},timelineUnitSize:66,level:12,timelineViewMode:"Week",weekStartDay:t,updateTimescaleView:!0,weekendBackground:i,showTooltip:!0},{topTier:{unit:"Week",format:"MMM dd, yyyy",count:1},bottomTier:{unit:"Day",format:"d",count:1},timelineUnitSize:99,level:13,timelineViewMode:"Week",weekStartDay:t,updateTimescaleView:!0,weekendBackground:i,showTooltip:!0},{topTier:{unit:"Day",format:"E dd yyyy",count:1},bottomTier:{unit:"Hour",format:"hh a",count:12},timelineUnitSize:66,level:14,timelineViewMode:"Day",weekStartDay:t,updateTimescaleView:!0,weekendBackground:i,showTooltip:!0},{topTier:{unit:"Day",format:"E dd yyyy",count:1},bottomTier:{unit:"Hour",format:"hh a",count:12},timelineUnitSize:99,level:15,timelineViewMode:"Day",weekStartDay:t,updateTimescaleView:!0,weekendBackground:i,showTooltip:!0},{topTier:{unit:"Day",format:"E dd yyyy",count:1},bottomTier:{unit:"Hour",format:"hh a",count:6},timelineUnitSize:66,level:16,timelineViewMode:"Day",weekStartDay:t,updateTimescaleView:!0,weekendBackground:i,showTooltip:!0},{topTier:{unit:"Day",format:"E dd yyyy",count:1},bottomTier:{unit:"Hour",format:"hh a",count:6},timelineUnitSize:99,level:17,timelineViewMode:"Day",weekStartDay:t,updateTimescaleView:!0,weekendBackground:i,showTooltip:!0},{topTier:{unit:"Day",format:"E dd yyyy",count:1},bottomTier:{unit:"Hour",format:"hh a",count:2},timelineUnitSize:66,level:18,timelineViewMode:"Day",weekStartDay:t,updateTimescaleView:!0,weekendBackground:i,showTooltip:!0},{topTier:{unit:"Day",format:"E dd yyyy",count:1},bottomTier:{unit:"Hour",format:"hh a",count:2},timelineUnitSize:99,level:19,timelineViewMode:"Day",weekStartDay:t,updateTimescaleView:!0,weekendBackground:i,showTooltip:!0},{topTier:{unit:"Day",format:"E dd yyyy",count:1},bottomTier:{unit:"Hour",format:"hh a",count:1},timelineUnitSize:66,level:20,timelineViewMode:"Day",weekStartDay:t,updateTimescaleView:!0,weekendBackground:i,showTooltip:!0},{topTier:{unit:"Day",format:"E dd yyyy",count:1},bottomTier:{unit:"Hour",format:"hh a",count:1},timelineUnitSize:99,level:21,timelineViewMode:"Day",weekStartDay:t,updateTimescaleView:!0,weekendBackground:i,showTooltip:!0},{topTier:{unit:"Hour",format:"ddd MMM, h a",count:1},bottomTier:{unit:"Minutes",format:"mm",count:30},timelineUnitSize:66,level:22,timelineViewMode:"Hour",weekStartDay:0,updateTimescaleView:!0,weekendBackground:i,showTooltip:!0},{topTier:{unit:"Hour",format:"ddd MMM, h a",count:1},bottomTier:{unit:"Minutes",format:"mm",count:15},timelineUnitSize:66,level:23,timelineViewMode:"Hour",weekStartDay:t,updateTimescaleView:!0,weekendBackground:i,showTooltip:!0},{topTier:{unit:"Hour",format:"ddd MMM, h a",count:1},bottomTier:{unit:"Minutes",format:"mm",count:1},timelineUnitSize:66,level:24,timelineViewMode:"Hour",weekStartDay:t,updateTimescaleView:!0,weekendBackground:i,showTooltip:!0}];return n},e.prototype.displayQuarterValue=function(t){var i=t.getMonth();return i>=0&&i<=2?"Q1":i>=3&&i<=5?"Q2":i>=6&&i<=8?"Q3":"Q4"},e.prototype.displayHalfValue=function(t){var i=t.getMonth();return i>=0&&i<=5?"H1":"H2"},e.prototype.getFormatedDate=function(t,i){return p(t)?null:(p(i)&&(i=this.getDateFormat()),this.globalize.formatDate(t,{format:i}))},e.prototype.getDurationString=function(t,i){var n=this.dateValidationModule.getDurationString(t,i);return n},e.prototype.getWorkString=function(t,i){var n=this.dateValidationModule.getWorkString(t,i);return n},e.prototype.updateTreeColumns=function(){var t,i=this.treeGrid.grid.getColumns();this.treeColumnIndex!==-1&&this.columns[this.treeColumnIndex]&&!p(this.columns[this.treeColumnIndex].template)&&(t=this.columns[this.treeColumnIndex].template);for(var n,s=0;s<i.length;s++){n={};for(var o=0;o<this.columns.length;o++)if(this.columns[o].field===i[s].field){for(var a=0,l=Object.keys(this.columns[o]);a<l.length;a++){var h=l[a];Je(this.columns[o][h])||(n[h]=i[s][h]),n.visible=i[s].visible,n.width=i[s].width}this.columns[o]=n,this.columns[o].type!=="checkbox"&&!p(t)&&t!==""&&(this.columns[o].template=t)}}this.columns.length>0&&this.treeGrid.setProperties({columns:this.columns},!0)},e.prototype.validateCycles=function(){if(this.cyclicValidator.buildMaps(),this.cyclicValidator.resolve(),this.cyclicValidator.cycles.length>0){var t=this.cyclicValidator.getCyclesWithDetails(this.cyclicValidator.cycles);this.trigger("actionFailure",{error:t})}this.regenerateCycles=!1},e.prototype.treeDataBound=function(t){var i=this;this.isLoad&&this.undoRedoModule&&(this.sortSettings.columns.length>0?this.undoRedoModule.previousSortedColumns=this.sortSettings.columns:this.searchSettings.key!==""&&(this.undoRedoModule.searchString=this.searchSettings.key)),this.element.getElementsByClassName("e-chart-root-container")[0].style.height="100%";var n=this.element.getElementsByClassName("e-gridcontent")[0].childNodes[0];n.setAttribute("tabindex","0"),n.classList.add("e-yscroll");var s=this.element.getElementsByClassName("e-gridcontent")[0].childNodes[0].childNodes[0];s.setAttribute("role","treegrid");var o=this.element.getElementsByClassName("e-timeline-header-container")[0].offsetHeight,a=this.element.getElementsByClassName("e-chart-scroll-container e-content")[0];if(a.style.height="calc(100% - "+o+"px)",a.setAttribute("tabindex","0"),!p(this.toolbarModule)&&!p(this.toolbarModule.element)?this.splitterElement.style.height="calc(100% - "+this.toolbarModule.element.offsetHeight+"px)":this.splitterElement.style.height="100%",this.filterSettings&&this.filterSettings.properties&&this.filterSettings.properties.columns&&this.filterSettings.properties.columns.forEach(function(g){for(var m=g.properties.field,y=null,v=0;v<i.treeGrid.columns.length;v++){var M=i.treeGrid.columns[v];if(M.field===m){y=M;break}}y&&g.properties.uid!==y.uid&&(g.properties.uid=y.uid)}),this.regenerateCycles&&this.viewType==="ProjectView"&&this.allowParentDependency&&this.validateCycles(),this.isLoad){if(this.enablePersistence&&this.updateTreeColumns(),this.updateCurrentViewData(),this.enableVirtualization?this.virtualScrollModule&&this.enableVirtualization&&(this.ganttChartModule.virtualRender.adjustTable(),this.ganttChartModule.scrollObject.updateTopPosition()):this.updateContentHeight(),!this.isTreeGridRendered){this.isTreeGridRendered=!0,this.timelineModule.isSingleTier?this.element.classList.add(hy):this.element.classList.remove(hy);var l=this.element.getElementsByClassName("e-timeline-header-container")[0].offsetHeight;a.style.height="calc(100% - "+l+"px)",this.treeGrid.setProperties({height:"100%"},!1),this.notify("tree-grid-created",{}),this.createGanttPopUpElement(),this.hideLoadingIndicator(),Ze("isGanttCreated",!0,t),this.renderComplete()}}else this.getCurrentRecords(t);this.loadChildOnDemand&&this.taskFields.hasChildMapping&&this.updateContentHeight(),this.enableCriticalPath&&this.criticalPathModule&&this.criticalPathModule.showCriticalPath(this.enableCriticalPath),this.notify("recordsUpdated",{});for(var h=0;h<document.getElementsByClassName("e-timeline-header-table-container").length;h++)for(var u=0;u<document.getElementsByClassName("e-timeline-header-table-container")[h].children[0].children[0].children.length;u++){var c=document.getElementsByClassName("e-timeline-header-table-container")[h].children[0].children[0].children[u].children[0];c&&c.setAttribute("tabindex","-1")}var d=this.criticalPathModule;if(this.enableCriticalPath&&d&&d.criticalPathCollection&&this.criticalPathModule.criticalConnectorLine(d.criticalPathCollection,d.detailPredecessorCollection,!0,d.predecessorCollectionTaskIds),this.initialChartRowElements=this.ganttChartModule.getChartRows(),this.isExpandPerformed=this.enableVirtualization?this.isExpandPerformed:!1,!this.isExpandPerformed&&!this.isVirtualScroll&&this.undoRedoModule&&(this.previousFlatData=ie([],this.flatData,[],!0)),this.undoRedoModule&&Object.keys(this.undoRedoModule.undoActionDetails).length!==0){var f=this.undoRedoModule.undoActionDetails;f.action==="RowDragAndDrop"||f.action==="TaskbarDragAndDrop"?(this.undoRedoModule.isUndoRedoPerformed=!0,f.beforeDrop.forEach(function(g){i.updateRecordByID(g.data)}),f.afterDrop.dropPosition==="child"&&this.updateRecordByID(f.afterDrop.dropRecord)):(f.action==="Indent"||f.action==="Outdent")&&this.updateRecordByID(f.droppedRecord),this.undoRedoModule.undoActionDetails={}}this.undoRedoModule&&this.undoRedoModule.isPreventRowDeselectOnUndoRedo&&(this.undoRedoModule.isPreventRowDeselectOnUndoRedo=!1),this.undoRedoModule&&this.undoRedoModule.isUndoRedoPerformed&&(this.undoRedoModule.isUndoRedoPerformed=!1),this.trigger("dataBound",t)},e.prototype.getCurrentRecords=function(t){this.predecessorModule&&this.taskFields.dependency&&this.connectorLineModule.removePreviousConnectorLines(this.currentViewData),this.updateCurrentViewData(),this.enableVirtualization||this.updateContentHeight(),this.virtualScrollModule&&this.enableVirtualization&&(this.ganttChartModule.virtualRender.adjustTable(),this.ganttChartModule.scrollObject.updateTopPosition())},e.prototype.handleTaskSchedulingChanges=function(t,i,n){var s=!1;t==="calendarSettings"&&i[t].projectCalendar&&(i[t].projectCalendar.workingTime||i[t].projectCalendar.exceptions)&&(s=!0),t==="calendarSettings"&&Array.isArray(i[t].taskCalendars)&&(s=!0),(t==="dayWorkingTime"||t==="weekWorkingTime"||t==="enableHover"||s)&&(n.isRefresh=!0);var o=!1;t==="calendarSettings"&&i[t].projectCalendar&&i[t].projectCalendar.holidays&&(o=!0),(t==="includeWeekend"||t==="allowUnscheduledTasks"||t==="holidays"||o)&&(this.isLoad=!0,(t==="holidays"||o)&&(this.totalHolidayDates=this.dataOperation.getHolidayDates(t),o&&(i.holidays=i[t].projectCalendar.holidays),this.notify("ui-update",{module:"day-markers",properties:i})),this.dataOperation.reUpdateGanttData(),this.treeGrid.refreshColumns(),this.chartRowsModule.initiateTemplates(),this.chartRowsModule.refreshGanttRows(),this.isLoad=!1,this.taskFields.dependency&&(this.predecessorModule.updatedRecordsDateByPredecessor(),this.treeGrid.refreshColumns(),this.chartRowsModule.refreshGanttRows()))},e.prototype.onPropertyChanged=function(t,i){for(var n={isRefresh:!1},s=0,o=Object.keys(t);s<o.length;s++){var a=o[s];switch(a){case"allowSelection":case"allowRowDragAndDrop":case"allowFiltering":case"showColumnMenu":case"allowResizing":case"allowReordering":case"allowSorting":case"enableImmutableMode":this.treeGrid[a]=this[a],this.treeGrid.dataBind();break;case"workWeek":this.dataOperation.getNonWorkingDayIndex(),this.dataOperation.reUpdateGanttData(),this.chartRowsModule.initiateTemplates(),this.taskFields.dependency&&this.predecessorModule.updatedRecordsDateByPredecessor(),this.chartRowsModule.refreshGanttRows(),this.treeGrid.refreshColumns(),this.timelineModule.refreshTimeline();break;case"toolbar":this.notify("ui-toolbarupdate",{module:"toolbar",properties:t});break;case"columnMenuItems":this.treeGrid.grid.columnMenuItems=Bt(this.columnMenuItems);break;case"eventMarkers":case"highlightWeekends":this.notify("ui-update",{module:"day-markers",properties:t});break;case"sortSettings":this.treeGrid.sortSettings=Bt(this.sortSettings),this.treeGrid.dataBind();break;case"timelineSettings":this.timelineModule.refreshTimeline(),this.enableTimelineVirtualization&&(!this.undoRedoModule||this.undoRedoModule&&!this.undoRedoModule.isZoomingUndoRedoProgress)&&(n.isRefresh=!0),this.undoRedoModule&&this.undoRedoModule.isZoomingUndoRedoProgress&&(this.undoRedoModule.isZoomingUndoRedoProgress=!1);break;case"rowHeight":case"taskbarHeight":this.treeGrid.rowHeight=this.rowHeight,this.treeGrid.dataBind(),this.chartRowsModule.initiateTemplates(),this.timelineModule.updateChartByNewTimeline(),this.taskFields.dependency&&this.ganttChartModule.reRenderConnectorLines();break;case"timezone":case"durationUnit":this.isLoad=!0,this.dataOperation.checkDataBinding(!0);break;case"enableCriticalPath":if(this.hideLoadingIndicator(),this.enableCriticalPath&&this.criticalPathModule){this.criticalPathModule.showCriticalPath(this.enableCriticalPath);var l=this.criticalPathModule;l.criticalPathCollection&&this.criticalPathModule.criticalConnectorLine(l.criticalPathCollection,l.detailPredecessorCollection,!0,l.predecessorCollectionTaskIds)}else this.removeCriticalPathStyles();break;case"filterSettings":p(t.filterSettings)&&(this.filterSettings.columns=[]),this.treeGrid.filterSettings=Bt(this.filterSettings),this.treeGrid.dataBind();break;case"gridLines":this.treeGrid.gridLines=this.gridLines,this.treeGrid.dataBind(),this.renderChartGridLines();break;case"tooltipSettings":this.tooltipModule.toolTipObj&&this.tooltipModule.toolTipObj.destroy(),this.tooltipModule.createTooltip();break;case"splitterSettings":this.splitterModule.updateSplitterPosition();break;case"selectionSettings":this.treeGrid.selectionSettings=Bt(this.selectionSettings),this.treeGrid.grid.selectionSettings.enableToggle=this.selectionSettings.enableToggle,this.treeGrid.dataBind();break;case"searchSettings":t.searchSettings.key!==void 0&&(this.treeGrid.grid.searchSettings=Bt(this.searchSettings),this.treeGrid.grid.dataBind()),this.treeGrid.searchSettings=Bt(this.searchSettings),this.treeGrid.dataBind(),this.toolbarModule&&this.toolbarModule.updateSearchTextBox();break;case"labelSettings":case"renderBaseline":case"baselineColor":this.isFromRenderBaseline=!0,this.chartRowsModule.initiateTemplates(),this.chartRowsModule.refreshGanttRows(),this.isFromRenderBaseline=!1;break;case"resourceIDMapping":case"resourceNameMapping":case"resources":this.dataOperation.reUpdateResources(),this.treeGrid.refreshColumns(),this.chartRowsModule.initiateTemplates(),this.chartRowsModule.refreshGanttRows();break;case"includeWeekend":case"allowUnscheduledTasks":case"holidays":case"calendarSettings":case"dayWorkingTime":case"weekWorkingTime":case"enableHover":this.handleTaskSchedulingChanges(a,t,n);break;case"addDialogFields":case"editDialogFields":this.editModule&&this.editModule.dialogModule&&this.editModule.dialogModule.processDialogFields();break;case"columns":this.isFrozenGrid()?n.isRefresh=!0:(this.treeGridModule.treeGridColumns=[],this.treeGridModule.validateGanttColumns(),this.editModule&&this.editModule.updateDefaultColumnEditors(),this.treeGrid.columns=this.treeGridModule.treeGridColumns,this.treeGrid.refreshColumns(),this.chartRowsModule.initiateTemplates(),this.timelineModule.updateChartByNewTimeline());break;case"width":case"height":this.reUpdateDimention(a);break;case"editSettings":this.treeGrid.editSettings.allowAdding=this.editSettings.allowAdding,this.treeGrid.editSettings.allowDeleting=this.editSettings.allowDeleting,this.treeGrid.editSettings.showDeleteConfirmDialog=this.editSettings.showDeleteConfirmDialog,this.treeGrid.editSettings.allowEditing=this.editSettings.allowEditing,this.treeGrid.editSettings.allowNextRowEdit=this.editSettings.allowNextRowEdit,p(this.editModule)||this.editModule.reUpdateEditModules(),p(this.toolbarModule)||this.toolbarModule.refreshToolbarItems();break;case"allowPdfExport":case"allowExcelExport":p(this.toolbarModule)||this.toolbarModule.refreshToolbarItems();break;case"connectorLineBackground":case"connectorLineWidth":this.taskFields.dependency&&(this.connectorLineModule.initPublicProp(),this.ganttChartModule.reRenderConnectorLines());break;case"treeColumnIndex":this.treeGrid.treeColumnIndex=this.treeColumnIndex;break;case"projectStartDate":case"projectEndDate":this.timelineModule.isZoomToFit=!1,this.dataOperation.calculateProjectDates(),this.updateProjectDates(this.cloneProjectStartDate,this.cloneProjectEndDate,this.isTimelineRoundOff);break;case"selectedRowIndex":p(this.selectionModule)||this.selectionModule.selectRowByIndex();break;case"dataSource":if(this.isLoad=!0,this.isReact&&this.clearTemplate(["TaskbarTemplate","ParentTaskbarTemplate","MilestoneTemplate","TaskLabelTemplate","RightLabelTemplate","LeftLabelTemplate"]),this.closeGanttActions(),this.dataSource instanceof Object&&Dp(this)){this.treeGrid.hasChildMapping="isParent";var h=H("count",this.dataSource);this.treeGrid.dataSource={result:this.flatData,count:h}}else this.treeGrid.hasChildMapping=null;this.isDynamicDataUpdate=!0,this.dataOperation.checkDataBinding(!0);break;case"enableContextMenu":case"contextMenuItems":this.enableContextMenu||a==="contextMenuItems"?this.notify("reRender-contextMenu",{module:"contextMenu",enable:!0}):this.treeGrid.contextMenuItems=[],this.treeGrid.dataBind();break;case"currencyCode":case"locale":case"enableRtl":case"readOnly":case"viewType":case"taskFields":case"allowTaskbarDragAndDrop":case"allowTaskbarOverlap":case"allowParentDependency":case"enableMultiTaskbar":if(a==="locale"&&(this.isLocaleChanged=!0),a==="taskFields"&&!p(t.taskFields.child))return;a!=="allowTaskbarDragAndDrop"&&(n.isRefresh=!0);break;case"validateManualTasksOnLinking":this.validateManualTasksOnLinking=t.validateManualTasksOnLinking;break;case"showOverAllocation":this.updateOverAllocationCotainer();break;case"emptyRecordTemplate":this.treeGrid.emptyRecordTemplate=this.emptyRecordTemplate;break;case"frozenColumns":this.treeGrid.frozenColumns=this.frozenColumns,n.isRefresh=!0;break}}n.isRefresh&&(this.isLoad&&this.contentMaskTable&&(this.contentMaskTable=null),this.refresh())},e.prototype.updateOverAllocationCotainer=function(){if(this.showOverAllocation)this.ganttChartModule.renderOverAllocationContainer();else{var t=this.element.querySelector("."+uC);t&&(t.innerHTML="")}},e.prototype.getPersistData=function(){for(var t=["sortSettings","filterSettings","columns","searchSettings","selectedRowIndex","treeColumnIndex","currentZoomingLevel","cloneProjectStartDate","cloneProjectEndDate","splitterSettings"],i={filterSettings:["type","mode","showFilterBarStatus","immediateModeDelay","ignoreAccent","hierarchyMode"],searchSettings:["fields","operator","ignoreCase"],sortSettings:[],columns:[],selectedRowIndex:[]},n=["filter","edit","filterBarTemplate","headerTemplate","template","commandTemplate","commands","dataSource"],s=0;s<t.length;s++)for(var o=this[t[s]],a=0,l=i[t[s]];!p(l)&&a<l.length;a++){var h=l[a];delete o[h]}return this.ignoreInArrays(n,this.columns),this.addOnPersist(t)},e.prototype.ignoreInArrays=function(t,i){for(var n=0;n<i.length;n++)this.ignoreInColumn(t,i[n])},e.prototype.ignoreInColumn=function(t,i){for(var n=0;n<t.length;n++)delete i[t[n]],i.filter={}},e.prototype.destroy=function(){this.notify("destroy",{}),this.unwireEvents(),!p(this.validationDialogElement)&&!this.validationDialogElement.isDestroyed&&this.validationDialogElement.destroy();for(var t=["ganttChartModule","timelineModule","chartRowsModule","treeGridModule","ganttDataUpdatesModule","dateValidationModule","tooltipModule"],i=0;i<t.length;i++)this[t[i]]&&(this[t[i]]=null);this.keyboardModule&&this.keyboardModule.destroy(),this.editModule&&this.editModule.dialogModule&&this.editModule.dialogModule.destroy(),this.splitterModule&&this.splitterModule.destroy(),this.toolbarModule&&this.toolbarModule.toolbar&&this.toolbarModule.toolbar.destroy(),p(this.dayMarkersModule)||(!p(this.dayMarkersModule.eventMarkerRender)&&!p(this.dayMarkersModule.eventMarkerRender.eventMarkersContainer)&&(this.dayMarkersModule.eventMarkerRender.eventMarkersContainer=null),p(this.dayMarkersModule.nonworkingDayRender)||(p(this.dayMarkersModule.nonworkingDayRender.nonworkingContainer)||(this.dayMarkersModule.nonworkingDayRender.nonworkingContainer=null),p(this.dayMarkersModule.nonworkingDayRender.weekendContainer)||(this.dayMarkersModule.nonworkingDayRender.weekendContainer=null),p(this.dayMarkersModule.nonworkingDayRender.holidayContainer)||(this.dayMarkersModule.nonworkingDayRender.holidayContainer=null))),this.connectorLineModule&&(this.connectorLineModule.dependencyViewContainer=null,this.connectorLineModule.svgObject=null,this.connectorLineModule.renderer=null,this.connectorLineModule.tooltipTable=null),this.treeGridPane=null,this.chartPane=null,this.initialChartRowElements=null,r.prototype.destroy.call(this),this.chartVerticalLineContainer=null,this.element.innerHTML="",ue([this.element],O1),this.element.innerHTML="",this.isTreeGridRendered=!1,this.resetTemplates(),this.dataOperation.uid=null},e.prototype.getTaskbarHeight=function(){return this.chartRowsModule.taskBarHeight},e.prototype.requiredModules=function(){var t=[],i=this.calendarModule.holidays;if(this.isDestroyed)return t;this.allowSorting&&t.push({member:"sort",args:[this]}),(this.allowFiltering||this.toolbar&&this.toolbar.indexOf("Search")!==-1)&&t.push({member:"filter",args:[this]}),this.allowReordering&&t.push({member:"reorder",args:[this]}),this.allowExcelExport&&t.push({member:"excelExport",args:[this]}),(this.allowRowDragAndDrop||this.allowTaskbarDragAndDrop)&&t.push({member:"rowDragAndDrop",args:[this]}),this.enableCriticalPath&&t.push({member:"criticalPath",args:[this]}),this.enableUndoRedo&&t.push({member:"undoRedo",args:[this]}),this.allowResizing&&t.push({member:"resize",args:[this]}),this.toolbar&&this.toolbar.length>0&&t.push({member:"toolbar",args:[this]}),(this.editSettings.allowAdding||this.editSettings.allowEditing||this.editSettings.allowDeleting||this.editSettings.allowTaskbarEditing||this.allowRowDragAndDrop)&&t.push({member:"edit",args:[this]}),this.allowSelection&&t.push({member:"selection",args:[this]}),this.tooltipSettings.showTooltip&&t.push({member:"tooltip",args:[this]}),(this.highlightWeekends||i&&i.length>0||this.eventMarkers&&this.eventMarkers.length>0)&&t.push({member:"dayMarkers",args:[this]}),this.enableContextMenu&&t.push({member:"contextMenu",args:[this]}),this.showColumnMenu&&t.push({member:"columnMenu",args:[this]}),this.allowPdfExport&&t.push({member:"pdfExport",args:[this]}),this.enableVirtualization&&t.push({member:"virtualScroll",args:[this]});var n=Array.isArray(this.columns)&&this.columns.some(function(s){return!!s.freeze});return(this.frozenColumns||n||this.getFrozenColumnsCount())&&t.push({member:"freeze",args:[this]}),t},e.prototype.sortColumn=function(t,i,n){this.sortModule&&this.allowSorting&&this.sortModule.sortColumn(t,i,n)},e.prototype.mergePersistGanttData=function(){this.treeGrid||(this.treeGrid=new EP);var t="mergePersistGridData";this.treeGrid.grid[t].apply(this)},e.prototype.mergeColumns=function(t,i){var n="mergeColumns";this.treeGrid.grid[n].apply(this,[t,i])},e.prototype.setFrozenCount=function(){var t="setFrozenCount";this.treeGrid.grid[""+t].apply(this)},e.prototype.splitFrozenCount=function(t){var i="splitFrozenCount";this.treeGrid.grid[""+i].apply(this,[t])},e.prototype.isFrozenGrid=function(){var t,i=Array.isArray(this.columns)&&this.columns.some(function(n){return!!n.freeze});return(this.frozenColumns||i||this.getFrozenColumnsCount())&&(t=!0),t},e.prototype.removeBorder=function(t){var i="removeBorder";this.treeGrid.grid[""+i].apply(this,[t])},e.prototype.frozenLeftBorderColumns=function(t){var i="frozenLeftBorderColumns";this.treeGrid.grid[""+i].apply(this,[t])},e.prototype.frozenRightBorderColumns=function(t){var i="frozenRightBorderColumns";this.treeGrid.grid[""+i].apply(this,[t])},e.prototype.clearSorting=function(){this.sortModule.clearSorting()},e.prototype.renderChartGridLines=function(){var t="e-chart-row-border",i=this.chartVerticalLineContainer,n=document.getElementById(this.element.id+"GanttTaskTableBody").querySelectorAll("td");if(this.gridLines==="Vertical"){if(p(i)?this.renderChartVerticalLines():window.getComputedStyle(i).display==="none"&&(i.style.display="block"),n&&n.length>0&&n[0].classList.contains(t))for(var s=0;s<n.length;s++)ue([n[s]],t)}else if(this.gridLines==="Horizontal"){if(p(i)||(i.style.display="none"),n&&n.length>0&&!n[0].classList.contains(t))for(var s=0;s<n.length;s++)Z([n[s]],t)}else if(this.gridLines==="Both"){if(p(i)?this.renderChartVerticalLines():window.getComputedStyle(i).display==="none"&&(i.style.display="block"),n&&n.length>0&&!n[0].classList.contains(t))for(var s=0;s<n.length;s++)Z([n[s]],t)}else if(this.gridLines==="None"&&(!p(i)&&window.getComputedStyle(i).display!=="none"&&(i.style.display="none"),n&&n.length>0&&n[0].classList.contains(t)))for(var s=0;s<n.length;s++)ue([n[s]],t)},e.prototype.updateGridLineContainerHeight=function(){this.chartVerticalLineContainer&&(this.chartVerticalLineContainer.style.height=mt(this.getContentHeight()))},e.prototype.getContentHeight=function(){var t=this.ganttChartModule.scrollElement.offsetHeight-16,i=this.ganttChartModule.chartBodyContent.offsetHeight,n=i<t?i:t;return n},e.prototype.reUpdateDimention=function(t){var i=0;if(this.calculateDimensions(),!p(this.toolbarModule)&&!p(this.toolbarModule.element)&&(this.toolbarModule.toolbar.refresh(),this.toolbarModule.refreshToolbarItems(),i=this.toolbarModule.element.offsetHeight),this.treeGrid.height=this.ganttHeight-i-this.treeGrid.grid.getHeaderContent().offsetHeight,this.splitterModule.splitterObject.height=(this.ganttHeight-i).toString(),p(this.chartVerticalLineContainer)||(this.chartVerticalLineContainer.style.height=this.ganttHeight+"px"),!p(this.dayMarkersModule)){var n=H("nonworkingDayRender.holidayContainer",this.dayMarkersModule),s=H("nonworkingDayRender.weekendContainer",this.dayMarkersModule),o=H("eventMarkerRender.eventMarkersContainer",this.dayMarkersModule);n&&(n.style.height=this.ganttHeight+"px"),s&&(s.style.height=this.ganttHeight+"px"),o&&(o.style.height=this.ganttHeight+"px")}t==="width"&&(this.splitterModule.splitterObject.width=this.ganttWidth.toString()),this.ganttChartModule.scrollObject.setHeight(this.ganttHeight-this.ganttChartModule.chartTimelineContainer.offsetHeight-i)},e.prototype.renderChartVerticalLines=function(){this.element.contains(this.chartVerticalLineContainer)||(this.chartVerticalLineContainer=Be("div",{id:this.element.id+"line-container",styles:"position:absolute;height:100%;"}),this.ganttChartModule.chartBodyContent.insertBefore(this.chartVerticalLineContainer,this.ganttChartModule.chartBodyContent.lastChild)),this.chartVerticalLineContainer.innerHTML="";var t=this.element.getElementsByClassName("e-timeline-header-table-container")[1];p(t)&&(t=this.element.getElementsByClassName("e-timeline-header-table-container")[0]);for(var i=t.getElementsByTagName("th"),n=i.length,s,o=0,a=Be("div"),l=0;l<n;l++){o=l===0?-1:o+parseFloat(s),s=i[l].style.width;var h=Be("div",{className:"e-line-container-cell",styles:(this.enableRtl?"right:"+(o+1):"left:"+(o!==-1?o+.3:o))+"px"});a.appendChild(h)}for(;a.firstChild;)this.chartVerticalLineContainer.appendChild(a.firstChild)},e.prototype.getDefaultLocale=function(){var t={emptyRecord:"No records to display",id:"ID",name:"Name",startDate:"Start Date",endDate:"End Date",constraintDate:"Constraint Date",constraintType:"Constraint Type",advancedTab:"Advanced",duration:"Duration",progress:"Progress",dependency:"Dependency",notes:"Notes",criticalPath:"Critical Path",undo:"Undo",redo:"Redo",baselineStartDate:"Baseline Start Date",baselineEndDate:"Baseline End Date",baselineDuration:"Baseline Duration",taskMode:"Task Mode",changeScheduleMode:"Change Schedule Mode",subTasksStartDate:"SubTasks Start Date",subTasksEndDate:"SubTasks End Date",scheduleStartDate:"Schedule Start Date",scheduleEndDate:"Schedule End Date",auto:"Auto",manual:"Manual",type:"Type",offset:"Offset",resourceName:"Resources",resourceID:"Resource ID",day:"day",hour:"hour",minute:"minute",days:"days",hours:"hours",minutes:"minutes",generalTab:"General",customTab:"Custom Columns",writeNotes:"Write Notes",addDialogTitle:"New Task",editDialogTitle:"Task Information",add:"Add",edit:"Edit",update:"Update",delete:"Delete",cancel:"Cancel",search:"Search",task:" task",tasks:" tasks",zoomIn:"Zoom in",zoomOut:"Zoom out",zoomToFit:"Zoom to fit",excelExport:"Excel export",csvExport:"CSV export",pdfExport:"PDF export",expandAll:"Expand all",collapseAll:"Collapse all",nextTimeSpan:"Next timespan",prevTimeSpan:"Previous timespan",saveButton:"Save",cancelLink:"Cancel, keep the existing link",removeLink:'Remove the link and move "{0}" to start on "{1}".',removeConstraint:'Remove  {0}  constraint of task "{1}"',preserveLink:'Move the "{0}" to start on "{1}" and keep the link.',removeDependency:'Remove dependency from "{0}" to "{1}"',cancelChange:"Cancel the change and do nothing",validateEditing:"Validate Editing",schedulingConflicts:"Scheduling conflict",constraintTypeAsSoonAsPossible:"As Soon As Possible",constraintTypeAsLateAsPossible:"As Late As Possible",constraintTypeMustStartOn:"Must Start On",constraintTypeMustFinishOn:"Must Finish On",constraintTypeStartNoEarlierThan:"Start No Earlier Than",constraintTypeStartNoLaterThan:"Start No Later Than",constraintTypeFinishNoEarlierThan:"Finish No Earlier Than",constraintTypeFinishNoLaterThan:"Finish No Later Than",taskBeforePredecessorFS:'You moved "{0}" to start before "{1}" finishes and the two tasks are linked.As the result, the links cannot be honored. Select one action below to perform',taskAfterPredecessorFS:'You moved "{0}" away from "{1}" and the two tasks are linked.As the result, the links cannot be honored. Select one action below to perform',taskBeforePredecessorSS:'You moved "{0}" to start before "{1}" starts and the two tasks are linked.As the result, the links cannot be honored. Select one action below to perform',taskAfterPredecessorSS:'You moved "{0}" to start after "{1}" starts and the two tasks are linked.As the result, the links cannot be honored. Select one action below to perform',taskBeforePredecessorFF:'You moved "{0}" to finish before "{1}" finishes and the two tasks are linked.As the result, the links cannot be honored. Select one action below to perform',taskAfterPredecessorFF:'You moved "{0}" to finish after "{1}" finishes and the two tasks are linked.As the result, the links cannot be honored. Select one action below to perform',taskBeforePredecessorSF:'You moved "{0}" away from "{1}" to starts and the two tasks are linked.As the result, the links cannot be honored. Select one action below to perform',taskAfterPredecessorSF:'You moved "{0}" to finish after "{1}" starts and the two tasks are linked.As the result, the links cannot be honored. Select one action below to perform',okText:"OK",confirmDelete:"Are you sure you want to Delete Record?",from:"From",to:"To",taskLink:"Task Link",lag:"Lag",start:"Start",finish:"Finish",enterValue:"Enter the value",taskInformation:"Task Information",deleteTask:"Delete Task",deleteDependency:"Delete Dependency",convert:"Convert",save:"Save",above:"Above",below:"Below",child:"Child",milestone:"Milestone",toTask:"To Task",toMilestone:"To Milestone",eventMarkers:"Event markers",leftTaskLabel:"Left task label",rightTaskLabel:"Right task label",timelineCell:"Timeline cell",confirmPredecessorDelete:"Are you sure you want to remove dependency link?",unit:"Unit",work:"Work",taskType:"Task Type",unassignedTask:"Unassigned Task",group:"Group",indent:"Indent",outdent:"Outdent",segments:"Segments",splitTask:"Split Task",mergeTask:"Merge Task",left:"Left",right:"Right",FF:"FF",FS:"FS",SF:"SF",SS:"SS"};return t},e.prototype.removeSortColumn=function(t){this.sortModule.removeSortColumn(t)},e.prototype.actionBeginTask=function(t){this.trigger("actionBegin",t),H("cancel",t)||this.showLoadingIndicator()},e.prototype.scrollToDate=function(t){var i=this.dateValidationModule.getDateFromFormat(t),n=this.dataOperation.getTaskLeft(i,!1,this.defaultCalendarContext);this.ganttChartModule.updateScrollLeft(n)},e.prototype.scrollToTask=function(t){if(this.ids.indexOf(t)!==-1){var i=this.flatData[this.ids.indexOf(t)].ganttProperties.left;this.ganttChartModule.updateScrollLeft(i)}},e.prototype.updateChartScrollOffset=function(t,i){p(t)||(t=this.ganttChartModule.scrollElement.scrollWidth<=t?this.ganttChartModule.scrollElement.scrollWidth:t,this.ganttChartModule.scrollObject.setScrollLeft(t,this.enableRtl?-1:0)),p(i)||(i=this.ganttChartModule.scrollElement.scrollHeight<=i?this.ganttChartModule.scrollElement.scrollHeight:i,this.ganttChartModule.scrollObject.setScrollTop(i))},e.prototype.getParentTask=function(t,i){if(p(t))return null;if(i&&i.size>0){var n=i.get(t.uniqueID);if(n)return n}if(!this.autoCalculateDateScheduling&&this.dataMap&&this.dataMap.size>0&&!this.taskFields.hasChildMapping&&this.isLoad){var s=this.dataMap.get(t.uniqueID);if(s)return s}return this.flatData.find(function(o){return t.uniqueID===o.uniqueID})||null},e.prototype.getRootParent=function(t,i){return t.level===i?t:this.getRootParent(this.getParentTask(t.parentItem),i)},e.prototype.filterByColumn=function(t,i,n,s,o,a){this.treeGrid.filterByColumn(t,i,n,s,o,a)},e.prototype.refreshColumns=function(t){this.treeGrid.refreshColumns(t)},e.prototype.excelExport=function(t,i,n,s){return this.excelExportModule?this.treeGrid.excelExport(t,i,n,s):null},e.prototype.csvExport=function(t,i,n,s){return this.excelExportModule?this.treeGrid.csvExport(t,i,n,s):null},e.prototype.pdfExport=function(t,i,n,s){return this.pdfExportModule?this.pdfExportModule.export(t,i,n,s):null},e.prototype.clearFiltering=function(t){this.treeGrid.grid.clearFiltering(t)},e.prototype.removeFilteredColsByField=function(t){this.treeGrid.removeFilteredColsByField(t,!1)},e.prototype.renderWorkingDayCell=function(t){var i=!1,n=!1;if(i=this.taskMode!=="Auto"&&this.taskMode!=="Custom"?!0:!!(this.includeWeekend||!this.autoCalculateDateScheduling),this.taskMode==="Custom"&&this.taskFields.manual){var s=this.editModule;s&&s.cellEditModule&&s.cellEditModule.isCellEdit?n=s.cellEditModule.currentEditedRowData[this.taskFields.manual]:s&&s.dialogModule&&s.dialogModule.isEdit&&(n=s.dialogModule.editedRecord[this.taskFields.manual]),i=n||this.includeWeekend||!this.autoCalculateDateScheduling}var o=i?[]:this.nonWorkingDayIndex,a=null,l=this.editModule,h;l&&(l.cellEditModule&&l.cellEditModule.isCellEdit&&l.cellEditModule.currentEditedRowData&&l.cellEditModule.currentEditedRowData.ganttProperties&&l.cellEditModule.currentEditedRowData.ganttProperties.calendarContext?(h=l.cellEditModule.currentEditedRowData.ganttProperties,a=l.cellEditModule.currentEditedRowData.ganttProperties.calendarContext):l.dialogModule&&l.dialogModule.isEdit&&l.dialogModule.editedRecord&&l.dialogModule.editedRecord.ganttProperties&&l.dialogModule.editedRecord.ganttProperties.calendarContext&&(h=l.dialogModule.editedRecord.ganttProperties,a=l.dialogModule.editedRecord.ganttProperties.calendarContext));var u=a?a.defaultHolidays:this.defaultCalendarContext.defaultHolidays;if(o.length>0&&o.indexOf(t.date.getDay())!==-1)t.isDisabled=!0;else if(u.length>0){var c=new Date(t.date.getTime());c.setHours(0,0,0),u.indexOf(c.getTime())!==-1&&(!this.autoCalculateDateScheduling||this.isLoad&&!this.treeGrid.loadChildOnDemand&&this.taskFields.hasChildMapping?t.isDisabled=!1:t.isDisabled=!0)}if(a){var d=a.getExceptionForDate(t.date);(d||h.isMilestone&&t.isDisabled&&h.startDate.getTime()===t.date.getTime())&&(t.isDisabled=!1)}},e.prototype.previousTimeSpan=function(t){if(this.isReact&&this.clearTemplate(["TaskbarTemplate","ParentTaskbarTemplate","MilestoneTemplate","TaskLabelTemplate","RightLabelTemplate","LeftLabelTemplate"]),this.undoRedoModule&&this.isUndoRedoItemPresent("PreviousTimeSpan")){this.undoRedoModule.redoEnabled&&this.undoRedoModule.disableRedo(),this.undoRedoModule.createUndoCollection();var i={};i.action="PreviousTimeSpan",i.previousTimelineStartDate=ie([],[],[this.timelineModule.timelineStartDate],!0)[0],i.previousTimelineEndDate=ie([],[],[this.timelineModule.timelineEndDate],!0)[0],this.undoRedoModule.getUndoCollection[this.undoRedoModule.getUndoCollection.length-1]=i}this.timelineModule.performTimeSpanAction("prevTimeSpan","publicMethod",new Date(this.timelineModule.timelineStartDate.getTime()),new Date(this.timelineModule.timelineEndDate.getTime()),t)},e.prototype.nextTimeSpan=function(t){if(this.isReact&&this.clearTemplate(["TaskbarTemplate","ParentTaskbarTemplate","MilestoneTemplate","TaskLabelTemplate","RightLabelTemplate","LeftLabelTemplate"]),this.undoRedoModule&&this.isUndoRedoItemPresent("NextTimeSpan")){this.undoRedoModule.redoEnabled&&this.undoRedoModule.disableRedo(),this.undoRedoModule.createUndoCollection();var i={};i.action="NextTimeSpan",i.previousTimelineStartDate=ie([],[],[this.timelineModule.timelineStartDate],!0)[0],i.previousTimelineEndDate=ie([],[],[this.timelineModule.timelineEndDate],!0)[0],this.undoRedoModule.getUndoCollection[this.undoRedoModule.getUndoCollection.length-1]=i}this.timelineModule.performTimeSpanAction("nextTimeSpan","publicMethod",new Date(this.timelineModule.timelineStartDate.getTime()),new Date(this.timelineModule.timelineEndDate.getTime()),t)},e.prototype.removeCalendarContext=function(t){if(!t)return t;t.calendarContext;var i=kre(t,["calendarContext"]);return i},e.prototype.updateProjectDates=function(t,i,n,s){if(this.timelineModule.totalTimelineWidth=0,this.cloneProjectStartDate=t,this.cloneProjectEndDate=i,this.isTimelineRoundOff=n,this.timelineModule.refreshTimelineByTimeSpan(),this.dataOperation.reUpdateGanttDataPosition(),!this.pdfExportModule||this.pdfExportModule&&!this.pdfExportModule.isPdfExport||this.pdfExportModule&&this.pdfExportModule.isPdfExport&&this.pdfExportModule.helper.exportProps&&this.pdfExportModule.helper.exportProps.fitToWidthSettings&&!this.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth){this.timelineModule.updateChartByNewTimeline();var o=window.outerWidth/window.innerWidth;if(this.timelineModule.isZoomToFit&&!this.enableTimelineVirtualization&&o<1){var a=void 0;this.enableVirtualization?a=Math.abs(this.timelineModule.totalTimelineWidth-this.element.getElementsByClassName("e-chart-scroll-container e-content")[0].clientWidth)+1:a=Math.abs(this.timelineModule.totalTimelineWidth-this.ganttChartModule.chartBodyContent.parentElement.clientWidth),this.ganttChartModule.chartBodyContent.style.width=mt(this.timelineModule.totalTimelineWidth-a)}else this.ganttChartModule.chartBodyContent.style.width=mt(this.timelineModule.totalTimelineWidth);this.ganttChartModule.updateLastRowBottomWidth(),this.taskFields.dependency&&this.ganttChartModule.reRenderConnectorLines(),s!=="beforeAdd"&&this.notify("selectRowByIndex",{})}},e.prototype.splitTask=function(t,i){this.isEdit=!0,this.chartRowsModule.splitTask(t,i)},e.prototype.mergeTask=function(t,i){this.chartRowsModule.mergeTask(t,i)},e.prototype.reorderColumns=function(t,i){this.treeGrid.reorderColumns(t,i)},e.prototype.initiateEditAction=function(t){this.isOnEdit=t,this.previousRecords={},this.editedRecords=[]},e.prototype.setRecordValue=function(t,i,n,s){i=Je(i)?null:i;var o=!!(this.isOnEdit||this.isOnDelete);if(o){this.makeCloneData(t,n,s);var a=s?n:n.ganttProperties,l=t.includes(".")?t.split(".")[1]:t,h=a.rowUniqueID,u=this.getRecordByID(h),c=!1;if(c=p(i)||p(n[""+l])||!p(i)&&!p(n[""+l])&&(i instanceof Date&&n[""+l]instanceof Date?i.getTime()!==n[""+l].getTime():Array.isArray(i)||typeof i=="object"?JSON.stringify(i)!==JSON.stringify(n[""+l]):n[""+l]!==i)?!0:c,l==="totalDuration"&&u&&(c=n.progress!==u.ganttProperties.progress),this.treeGridModule.isDateColumnCellEdit&&(c=!0),u&&c&&(this.editedRecords.indexOf(u)===-1||this.editedRecords.length===0)){if(this.editModule.draggedRecord&&this.editModule.draggedRecord.ganttProperties.taskId===a.taskId?this.editedRecords.splice(0,0,u):this.editedRecords.push(u),this.undoRedoModule){this.undoRedoModule.changedRecords.indexOf(u)===-1&&this.undoRedoModule.changedRecords.push(ie({},{},u,!0));var d=this.undoRedoModule.getUndoCollection,f=d.length>0?d[d.length-1].action:null;if(this.editModule&&this.editSettings.allowEditing&&!this.undoRedoModule.isUndoRedoPerformed&&!this.isOnDelete&&!this.isOnAdded&&f!=="outdent"&&f!=="indent"&&f!=="RowDragAndDrop"&&f!=="TaskbarDragAndDrop"){var g=this.previousFlatData.filter(function(m){return m.ganttProperties.taskId===u.ganttProperties.taskId})[0];g&&d[d.length-1]&&d[d.length-1].modifiedRecords&&d[d.length-1].modifiedRecords.indexOf(g)===-1&&d[d.length-1].modifiedRecords.push(g)}}this.enableImmutableMode&&this.modifiedRecords.push(u)}}Ze(t,i,n)},e.prototype.makeCloneData=function(t,i,n){var s,o=H(t,i),a,l;if(n&&(t="ganttProperties."+t),p(this.previousRecords[i.uniqueID])){var h={};this.previousRecords[i.uniqueID]=h}s=this.previousRecords[i.uniqueID],a=H(t,s),Je(a)&&(o instanceof Date?l=new Date(o.getTime()):j8(o)?l=ie([],o,[],!0):pa(o)?l=ie({},{},o,!0):l=o,Je(l)?Ze(t,null,s):Ze(t,l,s))},e.prototype.closeGanttActions=function(){this.editModule&&(this.editModule.cellEditModule&&this.editModule.cellEditModule.isCellEdit?(this.treeGrid.closeEdit(),this.editModule.cellEditModule.isCellEdit=!1,p(this.toolbarModule)||this.toolbarModule.refreshToolbarItems()):this.editModule.dialogModule&&this.editModule.dialogModule.dialogObj&&this.editModule.dialogModule.dialogObj.visible&&(this.editModule.dialogModule.dialogObj.hide(),this.editModule.dialogModule.dialogClose()))},e.prototype.getTaskByUniqueID=function(t){var i=this.flatData.filter(function(n){return n.uniqueID===t});return i.length>0?i[0]:null},e.prototype.getRecordByID=function(t){return p(t)?null:this.flatData[this.ids.indexOf(t.toString())]},e.prototype.setSplitterPosition=function(t,i){var n={};n[i]=t;var s=this.splitterModule.calculateSplitterPosition(n);switch(i){case"view":this.splitterSettings.view=n[i];break;case"columnIndex":this.splitterModule.isSplitterResized=!0,this.splitterSettings.columnIndex=n[i];break;case"position":this.splitterModule.isSplitterResized=!0,this.splitterSettings.position=n[i];break}var o=this.splitterModule.splitterObject.element.querySelectorAll(".e-pane")[0],a=this.splitterModule.splitterObject.element.querySelectorAll(".e-pane")[1];this.splitterModule.splitterPreviousPositionGrid=o.scrollWidth+1+"px",this.splitterModule.splitterPreviousPositionChart=a.scrollWidth+1+"px",this.splitterModule.splitterObject.paneSettings[0].size=s,this.splitterModule.splitterObject.paneSettings[1].size=parseFloat("99.75%")-parseFloat(s)+"%",this.splitterModule.triggerCustomResizedEvent()},e.prototype.expandByIndex=function(t){if(typeof t=="number"){var i=this.contructExpandCollapseArgs(null,t);this.ganttChartModule.isExpandCollapseFromChart=!0,this.ganttChartModule.expandGanttRow(i)}else for(var n=0;n<t.length;n++)if(typeof t[n]=="number"){var s=t[n],i=this.contructExpandCollapseArgs(null,s);this.ganttChartModule.isExpandCollapseFromChart=!0,this.ganttChartModule.expandGanttRow(i)}},e.prototype.expandByID=function(t){this.enableVirtualization&&(this.isExpandPerformed=!0);var i=this.contructExpandCollapseArgs(t);this.ganttChartModule.isExpandCollapseFromChart=!0,this.ganttChartModule.expandGanttRow(i)},e.prototype.collapseByIndex=function(t){var i=this.contructExpandCollapseArgs(null,t);this.ganttChartModule.isExpandCollapseFromChart=!0,this.ganttChartModule.collapseGanttRow(i)},e.prototype.collapseByID=function(t){var i=this.contructExpandCollapseArgs(t);this.ganttChartModule.isExpandCollapseFromChart=!0,this.ganttChartModule.collapseGanttRow(i)},e.prototype.addRecord=function(t,i,n){if(this.editModule&&this.editSettings.allowAdding){if(this.viewType==="ResourceView"){this.editModule.addRowPosition=i,this.editModule.addRowIndex=n;var s=void 0;p(t)||(this.undoRedoModule&&this.undoRedoModule.isUndoRedoPerformed?s=t.ganttProperties.resourceInfo:s=t[this.taskFields.resourceInfo]);var o=void 0,a=void 0;if(!p(s)&&s.length){for(var l=0;l<s.length&&(o=typeof s[l]=="object"?s[l][this.resourceFields.id]:s[0],a=this.flatData[this.getTaskIds().indexOf("R"+o)],!a);l++);if(a&&(a.level===0||a.childRecords.length)){var h=a.childRecords[n];if(this.viewType==="ResourceView"&&this.undoRedoModule&&this.undoRedoModule.isUndoRedoPerformed)this.editModule.addRecord(t,i,n);else if(h){var u=i==="Above"||i==="Below"?i:"Child";u==="Child"?this.editModule.addRecord(t,u,this.getTaskIds().indexOf("R"+o)):this.editModule.addRecord(t,u,this.flatData.indexOf(h))}else this.editModule.addRecord(t,"Child",this.getTaskIds().indexOf("R"+o))}else this.editModule.addRecord(t,"Bottom")}else this.undoRedoModule&&this.undoRedoModule.isUndoRedoPerformed?this.editModule.addRecord(t,i,n):this.editModule.addRecord(t,"Bottom");this.editModule.addRowPosition=null,this.editModule.addRowIndex=null}else this.editModule.addRecord(t,i,n),i==="Bottom"&&(this.selectedRowIndex=n);(i==="Above"||i==="Below"||i==="Child")&&(this.currentSelection=p(t)?this.currentSelection:t)}},e.prototype.updateRecordByID=function(t){this.editModule&&this.editSettings.allowEditing&&(this.updateDuration=!0,this.editModule.updateRecordByID(t),this.updateDuration=!1)},e.prototype.getCurrentViewData=function(){return this.treeGrid.getCurrentViewRecords().map(function(t){return t.taskData})},e.prototype.autoFitColumns=function(t){this.treeGrid.autoFitColumns(t)},e.prototype.getTaskInfo=function(t){var i=this.getRecordByID(t),n={};if(i&&i.ganttProperties){var s=i.ganttProperties,o=this.taskFields,a={baseline:this.renderBaseline,isCritical:this.enableCriticalPath,progressWidth:o.progress,segments:o.segments,isAutoSchedule:s.isAutoSchedule,wbs:this.enableWBS};for(var l in a)if(Object.prototype.hasOwnProperty.call(a,l))switch(l){case"baseline":s.baselineStartDate&&s.baselineEndDate&&(p(s.baselineLeft)||(n.baselineLeft=s.baselineLeft),p(s.baselineWidth)||(n.baselineWidth=s.baselineWidth));break;case"isCritical":s.isCritical&&(n.isCritical=s.isCritical,n.slack=s.slack);break;case"progressWidth":s.progressWidth&&(n.progressWidth=s.progressWidth);break;case"segments":s.segments&&(n.segments=s.segments);break;case"wbs":s.wbsCode&&(n.wbsCode=s.wbsCode),s.wbsPredecessor&&(n.wbsPredecessor=s.wbsPredecessor);break;case"isAutoSchedule":n.isAutoSchedule=s.isAutoSchedule,s.isAutoSchedule?(n.autoTaskLeft=s.left,n.autoTaskWidth=s.width):!s.isAutoSchedule&&i.hasChildRecords?(n.manualTaskAutoLeft=s.autoLeft,n.manualTaskAutoWidth=s.autoWidth,n.manualTaskLeft=s.left,n.manualTaskWidth=s.width):(n.manualTaskLeft=s.left,n.manualTaskWidth=s.width);break}}return n},e.prototype.updateTaskId=function(t,i){this.editModule&&this.editSettings.allowEditing&&this.editModule.updateTaskId(t,i)},e.prototype.expandAtLevel=function(t){this.enableVirtualization&&(this.isExpandCollapseLevelMethod=!0),this.ganttChartModule.expandAtLevel(t)},e.prototype.indent=function(){this.editModule&&this.editSettings.allowEditing&&this.editModule.indent()},e.prototype.outdent=function(){this.editModule&&this.editSettings.allowEditing&&this.editModule.outdent()},e.prototype.getUndoActions=function(){return this.undoRedoModule?this.undoRedoModule.getUndoCollection:[]},e.prototype.getRedoActions=function(){return this.undoRedoModule?this.undoRedoModule.getRedoCollection:[]},e.prototype.clearUndoCollection=function(){this.undoRedoModule&&(this.undoRedoModule.getUndoCollection=[],this.toolbarModule&&this.toolbarModule.enableItems([this.controlId+"_undo"],!1))},e.prototype.clearRedoCollection=function(){this.undoRedoModule&&(this.undoRedoModule.getRedoCollection=[],this.toolbarModule&&this.toolbarModule.enableItems([this.controlId+"_redo"],!1))},e.prototype.undo=function(){this.undoRedoModule&&this.undoRedoModule.undoAction()},e.prototype.redo=function(){this.undoRedoModule&&this.undoRedoModule.redoAction()},e.prototype.showCriticalPath=function(t){if(this.criticalPathModule){this.criticalPathModule.showCriticalPath(t);var i=this.criticalPathModule;this.criticalPathModule.criticalConnectorLine(i.criticalPathCollection,i.detailPredecessorCollection,!0,i.predecessorCollectionTaskIds)}},e.prototype.getCriticalTasks=function(){return!p(this.criticalPathModule)&&this.enableCriticalPath?this.criticalPathModule.getCriticalTasks():null},e.prototype.zoomIn=function(){this.timelineModule.processZooming(!0)},e.prototype.zoomOut=function(){this.timelineModule.processZooming(!1)},e.prototype.fitToProject=function(){this.timelineModule.processZoomToFit(),this.ganttChartModule.updateScrollLeft(0)},e.prototype.reorderRows=function(t,i,n){this.rowDragAndDropModule.reorderRows(t,i,n)},e.prototype.updateRecordByIndex=function(t,i){if(this.editModule&&this.editSettings.allowEditing){var n=this.taskFields,s=this.updatedRecords.length>0?p(this.updatedRecords[t])?null:this.updatedRecords[t]:null;p(s)||(i[n.id]=s[n.id],this.editModule.updateRecordByID(i))}},e.prototype.addPredecessor=function(t,i){if(this.connectorLineModule){var n=this.connectorLineModule.getRecordByID(t.toString());this.editModule&&!p(n)&&this.editSettings.allowTaskbarEditing&&this.connectorLineEditModule.addPredecessor(n,i)}},e.prototype.removePredecessor=function(t){if(this.connectorLineModule){var i=this.connectorLineModule.getRecordByID(t.toString());this.editModule&&!p(i)&&this.editSettings.allowTaskbarEditing&&this.connectorLineEditModule.removePredecessor(i)}},e.prototype.updatePredecessor=function(t,i){if(this.connectorLineModule){var n=this.taskFields.dependency,s=this.connectorLineModule.getRecordByID(t.toString());if(this.editModule&&!p(s)&&this.editSettings.allowTaskbarEditing){var o=i.split(","),a=this.treeGridModule.maxLimits(this.durationUnit),l=this.treeGridModule.updatePredecessorLimits(o,s[n],a);this.connectorLineEditModule.updatePredecessor(s,l)}}},e.prototype.openAddDialog=function(){this.editModule&&this.editModule.dialogModule&&this.editSettings.allowAdding&&this.editModule.dialogModule.openAddDialog()},e.prototype.openEditDialog=function(t){this.editModule&&this.editModule.dialogModule&&this.editSettings.allowEditing&&this.editModule.dialogModule.openEditDialog(t)},e.prototype.contructExpandCollapseArgs=function(t,i){var n,s,o;if(p(i)&&t)s=this.getRecordByID(t.toString()),n=this.getRowByID(t),p(n)||(o=H("rowIndex",n));else if(!p(i)){n=this.getRowByIndex(i);var a=this.focusModule.isFromKeyboardAction;o=a?H("rowIndex",n):i,s=a?this.currentViewData[o]:this.flatData[o]}var l=this.treeGrid.getRows()[o];return{data:s,gridRow:l,chartRow:n,cancel:!1}},e.prototype.getRowByIndex=function(t){try{var i=this.element.querySelectorAll(".e-chart-row");return p(t)?null:i[t]}catch{return null}},e.prototype.getRowByID=function(t){var i=this,n=this.getRecordByID(t.toString()),s;return this.loadChildOnDemand&&this.taskFields.hasChildMapping?s=this.updatedRecords.map(function(o){return o[i.taskFields.id]}).indexOf(n.ganttProperties.taskId):s=this.enableVirtualization?this.currentViewData.indexOf(n):this.updatedRecords.indexOf(n),s!==-1?this.getRowByIndex(s):null},e.prototype.getUnscheduledTaskClass=function(t){return p(t.startDate)&&p(t.endDate)&&p(t.duration)||p(t.startDate)||p(t.endDate)||p(t.duration)?" "+K1:""},e.prototype.isUnscheduledTask=function(t){return!!(p(t.startDate)||p(t.endDate)||p(t.duration))},e.prototype.createGanttPopUpElement=function(){var t=this.createElement("div",{className:"e-ganttpopup",styles:"display:none;"}),i=this.createElement("div",{className:"e-content",attrs:{tabIndex:"-1"}});Ct([i,this.createElement("div",{className:"e-uptail e-tail"})],t),i.appendChild(this.createElement("span")),Ct([i,this.createElement("div",{className:"e-downtail e-tail"})],t),document.getElementById(this.element.id+"GanttChart").appendChild(t)},e.prototype.getPredecessorTextValue=function(t){var i;switch(t){case"SS":i=this.localeObj.getConstant("start")+"-"+this.localeObj.getConstant("start");break;case"FF":i=this.localeObj.getConstant("finish")+"-"+this.localeObj.getConstant("finish");break;case"SF":i=this.localeObj.getConstant("start")+"-"+this.localeObj.getConstant("finish");break;case"FS":i=this.localeObj.getConstant("finish")+"-"+this.localeObj.getConstant("start");break}return i},e.prototype.search=function(t){this.filterModule&&(this.searchSettings.key=t,this.dataBind())},e.prototype.getOffsetRect=function(t){var i=t.getBoundingClientRect(),n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,s=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,o=document.documentElement.clientTop||document.body.clientTop||0,a=document.documentElement.clientLeft||document.body.clientLeft||0,l=i.top+n-o,h=this.enableRtl?i.right+s-a:i.left+s-a;return{top:Math.round(l),left:Math.round(h),width:i.width,height:i.height}},e.prototype.expandAll=function(){this.ganttChartModule.expandCollapseAll("expand")},e.prototype.updateDataSource=function(t,i){if(this.isDynamicData=!0,!p(i))for(var n=0,s=Object.keys(i);n<s.length;n++){var o=s[n];switch(o){case"projectStartDate":this.setProperties({projectStartDate:i[o]},!0);break;case"projectEndDate":this.setProperties({projectEndDate:i[o]},!0);break}}this.ganttChartModule.scrollObject.element.scrollLeft=0,this.dataSource=t},e.prototype.collapseAll=function(){this.ganttChartModule.expandCollapseAll("collapse")},e.prototype.getGridColumns=function(){return this.treeGrid.getColumns()},e.prototype.getColumnByField=function(t,i){var n=i.filter(function(s){return s.field===t});return n.length>0?n[0]:null},e.prototype.getGanttColumns=function(){return this.updateColumnModel(this.getGridColumns()),this.ganttColumns},e.prototype.updateColumnModel=function(t){var i,n,s=p(t)?this.getGridColumns():t;if(this.treeColumnIndex!==-1&&this.ganttColumns[this.treeColumnIndex]&&!p(this.ganttColumns[this.treeColumnIndex].template)&&(i=this.ganttColumns[this.treeColumnIndex].template,n=this.ganttColumns[this.treeColumnIndex].field),this.ganttColumns.length===s.length)for(var o=0;o<s.length;o++){for(var a=0,l=Object.keys(this.ganttColumns[parseInt(o.toString(),10)]);a<l.length;a++){var h=l[a];this.ganttColumns[parseInt(o.toString(),10)][""+h]=s[parseInt(o.toString(),10)][""+h]}n===this.ganttColumns[parseInt(o.toString(),10)].field&&this.ganttColumns[parseInt(o.toString(),10)].type!=="checkbox"&&!p(i)&&i!==""&&(this.ganttColumns[parseInt(o.toString(),10)].template=i)}return this.ganttColumns},e.prototype.showColumn=function(t,i){this.treeGrid.showColumns(t,i),this.updateTreeColumns()},e.prototype.hideColumn=function(t,i){this.treeGrid.hideColumns(t,i),this.updateTreeColumns()},e.prototype.setScrollTop=function(t){this.ganttChartModule.scrollObject.setScrollTop(t)},e.prototype.cancelEdit=function(){this.isCancelled=!0,this.closeGanttActions()},e.prototype.selectCell=function(t,i){this.selectionModule&&this.selectionModule.selectCell(t,i)},e.prototype.selectCells=function(t){this.selectionModule&&this.selectionModule.selectCells(t)},e.prototype.selectRow=function(t,i){this.selectionModule&&this.selectionModule.selectRow(t,i)},e.prototype.selectRows=function(t){this.selectionModule&&this.selectionModule.selectRows(t)},e.prototype.deleteRecord=function(t){this.editModule&&this.editModule.deleteRecord(t)},e.prototype.enableItems=function(t,i){this.toolbarModule&&this.toolbarModule.enableItems(t,i)},e.prototype.clearSelection=function(){this.selectionModule&&this.selectionModule.clearSelection()},e.prototype.updateDataArgs=function(t){if(!Array.isArray(t.data)){var i=[];i.push(t.data),Ze("data",i,t)}return t},e.prototype.convertToMilestone=function(t){var i=this.getRecordByID(t);if(!p(i)){var n=ie({},{},i.taskData,!0),s=this.taskFields;n[s.startDate]&&this.setRecordValue(s.startDate,i.ganttProperties.startDate,n,!0),p(s.duration)?(n[s.startDate]=new Date(i.ganttProperties.startDate),n[s.endDate]=new Date(i.ganttProperties.endDate)):n[s.duration]=0,p(s.milestone)||n[s.milestone]===!1&&(n[s.milestone]=!0),p(s.progress)||(n[s.progress]=0),!p(s.child)&&n[s.child]&&(n[s.child]=[]),!p(s.parentID)&&n[s.parentID]&&(n[s.parentID]=null),p(s.segments)||(n[s.segments]=null);var o=p(i.ganttProperties.taskType)?this.taskType:i.ganttProperties.taskType;if(o==="FixedWork"&&(p(n[s.work])?i.ganttProperties.work=0:n[s.work]=0),!p(this.contextMenuModule)&&this.contextMenuModule.isOpen&&this.contextMenuModule.item==="Milestone"){p(s.dependency)||(n[s.dependency]=null);var a=this.editSettings.newRowPosition;this.addRecord(n,a,this.selectedRowIndex)}else!i.hasChildRecords&&!i.ganttProperties.isMilestone&&(this.isConvertedMilestone=!0,this.updateRecordByID(n),this.isConvertedMilestone=!1)}},e.prototype.changeTaskMode=function(t){if(this.undoRedoModule&&!this.undoRedoModule.isUndoRedoPerformed){this.undoRedoModule.redoEnabled&&this.undoRedoModule.disableRedo(),this.undoRedoModule.createUndoCollection();var i={};i.action="TaskMode",i.modifiedRecords=ie([],[t],[],!0),this.undoRedoModule.getUndoCollection[this.undoRedoModule.getUndoCollection.length-1]=i}var n=this.taskFields,s=this.getRecordByID(t[n.id]),o=s.ganttProperties;this.isOnEdit=!0,this.setRecordValue("isAutoSchedule",!o.isAutoSchedule,o,!0),p(this.taskFields.manual)||(this.setRecordValue("taskData."+n.manual,!o.isAutoSchedule,s),this.setRecordValue(n.manual,!o.isAutoSchedule,s)),this.editModule.updateTaskScheduleModes(s);var a={data:s};this.editModule.initiateUpdateAction(a)},e.prototype.getTaskIds=function(){return this.taskIds},e.prototype.setTaskIds=function(t){if(this.viewType!=="ProjectView"){var i=t.ganttProperties.taskId;i=t.level===0?"R"+i:"T"+i,this.taskIds.push(i)}},e.prototype.renderTemplates=function(){this.isReact&&this.renderReactTemplates()},e.prototype.resetTemplates=function(){this.isReact&&this.clearTemplate(["TaskbarTemplate","ParentTaskbarTemplate","MilestoneTemplate","TaskLabelTemplate","RightLabelTemplate","LeftLabelTemplate","TooltipTaskbarTemplate","TooltipBaselineTemplate","TooltipConnectorLineTemplate","TimelineTemplate"])},e.prototype.getFrozenColumnsCount=function(){return this.treeGrid.getFrozenColumns()},e.prototype.normalizeTranslate=function(t){if(!t.includes(",")&&navigator.userAgent.includes("Firefox")){var i=t.substring(t.lastIndexOf("(")+1,t.lastIndexOf(")"));t="translate("+i+", 0px)"}return t},ce([I(!0)],e.prototype,"allowKeyboard",void 0),ce([I(!1)],e.prototype,"enableImmutableMode",void 0),ce([I(!0)],e.prototype,"allowParentDependency",void 0),ce([I(!0)],e.prototype,"enableHtmlSanitizer",void 0),ce([I(!0)],e.prototype,"disableHtmlEncode",void 0),ce([gt({},Jne)],e.prototype,"loadingIndicator",void 0),ce([I(!0)],e.prototype,"enableVirtualMaskRow",void 0),ce([I(!0)],e.prototype,"loadChildOnDemand",void 0),ce([I(!0)],e.prototype,"updateOffsetOnTaskbarEdit",void 0),ce([I(!0)],e.prototype,"autoCalculateDateScheduling",void 0),ce([I(!0)],e.prototype,"autoFocusTasks",void 0),ce([I(!1)],e.prototype,"enableAdaptiveUI",void 0),ce([I(!1)],e.prototype,"enableWBS",void 0),ce([I(!1)],e.prototype,"enableAutoWbsUpdate",void 0),ce([I(!0)],e.prototype,"allowSelection",void 0),ce([I(!1)],e.prototype,"enableHover",void 0),ce([I(!1)],e.prototype,"allowSorting",void 0),ce([I(!0)],e.prototype,"enablePredecessorValidation",void 0),ce([I(!1)],e.prototype,"showColumnMenu",void 0),ce([I()],e.prototype,"columnMenuItems",void 0),ce([I(["Sorting","Add","ColumnReorder","ColumnResize","ColumnState","Delete","Edit","Filtering","Indent","Outdent","NextTimeSpan","PreviousTimeSpan","RowDragAndDrop","TaskbarDragAndDrop","Search","ZoomIn","ZoomOut","ZoomToFit"])],e.prototype,"undoRedoActions",void 0),ce([I()],e.prototype,"timezone",void 0),ce([I(!1)],e.prototype,"collapseAllParentTasks",void 0),ce([I(!1)],e.prototype,"highlightWeekends",void 0),ce([I(0)],e.prototype,"treeColumnIndex",void 0),ce([I([])],e.prototype,"dataSource",void 0),ce([I("day")],e.prototype,"durationUnit",void 0),ce([I(null)],e.prototype,"query",void 0),ce([I(null)],e.prototype,"dateFormat",void 0),ce([I("auto")],e.prototype,"height",void 0),ce([I(!1)],e.prototype,"renderBaseline",void 0),ce([gt({},rre)],e.prototype,"calendarSettings",void 0),ce([I(!1)],e.prototype,"allowTaskbarDragAndDrop",void 0),ce([I(!0)],e.prototype,"allowTaskbarOverlap",void 0),ce([I("Horizontal")],e.prototype,"gridLines",void 0),ce([gt({},Rne)],e.prototype,"labelSettings",void 0),ce([I(null)],e.prototype,"taskbarTemplate",void 0),ce([I(null)],e.prototype,"parentTaskbarTemplate",void 0),ce([I(null)],e.prototype,"timelineTemplate",void 0),ce([I(null)],e.prototype,"milestoneTemplate",void 0),ce([I()],e.prototype,"baselineColor",void 0),ce([I("auto")],e.prototype,"width",void 0),ce([I(!1)],e.prototype,"enableVirtualization",void 0),ce([I(!1)],e.prototype,"enableTimelineVirtualization",void 0),ce([I()],e.prototype,"toolbar",void 0),ce([I(["Monday","Tuesday","Wednesday","Thursday","Friday"])],e.prototype,"workWeek",void 0),ce([I(!1)],e.prototype,"includeWeekend",void 0),ce([I(!1)],e.prototype,"allowUnscheduledTasks",void 0),ce([I(!1)],e.prototype,"showInlineNotes",void 0),ce([I(36)],e.prototype,"rowHeight",void 0),ce([I(null)],e.prototype,"taskbarHeight",void 0),ce([I(null)],e.prototype,"projectStartDate",void 0),ce([I(null)],e.prototype,"projectEndDate",void 0),ce([I(null)],e.prototype,"resourceIDMapping",void 0),ce([I(null)],e.prototype,"resourceNameMapping",void 0),ce([I([])],e.prototype,"resources",void 0),ce([I([])],e.prototype,"segmentData",void 0),ce([I(null)],e.prototype,"connectorLineBackground",void 0),ce([I(1)],e.prototype,"connectorLineWidth",void 0),ce([I([])],e.prototype,"columns",void 0),ce([I([])],e.prototype,"addDialogFields",void 0),ce([I([])],e.prototype,"editDialogFields",void 0),ce([I(-1)],e.prototype,"selectedRowIndex",void 0),ce([I("hour")],e.prototype,"workUnit",void 0),ce([I("FixedUnit")],e.prototype,"taskType",void 0),ce([I("ProjectView")],e.prototype,"viewType",void 0),ce([Li([{from:8,to:12},{from:13,to:17}],hD)],e.prototype,"dayWorkingTime",void 0),ce([Li([],Xne)],e.prototype,"weekWorkingTime",void 0),ce([Li([],uD)],e.prototype,"holidays",void 0),ce([Li([],Nne)],e.prototype,"eventMarkers",void 0),ce([gt({},Hne)],e.prototype,"taskFields",void 0),ce([gt({},Gne)],e.prototype,"resourceFields",void 0),ce([gt({},Vne)],e.prototype,"timelineSettings",void 0),ce([I([])],e.prototype,"zoomingLevels",void 0),ce([gt({},Wne)],e.prototype,"sortSettings",void 0),ce([gt({},wne)],e.prototype,"editSettings",void 0),ce([gt({},_ne)],e.prototype,"tooltipSettings",void 0),ce([gt({},Pne)],e.prototype,"selectionSettings",void 0),ce([I(!1)],e.prototype,"allowFiltering",void 0),ce([I(!1)],e.prototype,"allowExcelExport",void 0),ce([I(!1)],e.prototype,"allowRowDragAndDrop",void 0),ce([I(!1)],e.prototype,"allowReordering",void 0),ce([I(!1)],e.prototype,"readOnly",void 0),ce([I(!1)],e.prototype,"allowResizing",void 0),ce([I(!1)],e.prototype,"enableContextMenu",void 0),ce([I(!1)],e.prototype,"enableCriticalPath",void 0),ce([I(!1)],e.prototype,"enableUndoRedo",void 0),ce([I(10)],e.prototype,"undoRedoStepsCount",void 0),ce([I()],e.prototype,"contextMenuItems",void 0),ce([I(!1)],e.prototype,"allowPdfExport",void 0),ce([I(!1)],e.prototype,"validateManualTasksOnLinking",void 0),ce([I(!1)],e.prototype,"enableMultiTaskbar",void 0),ce([I(!1)],e.prototype,"showOverAllocation",void 0),ce([I("Auto")],e.prototype,"taskMode",void 0),ce([I(0)],e.prototype,"frozenColumns",void 0),ce([I()],e.prototype,"emptyRecordTemplate",void 0),ce([gt({},Ene)],e.prototype,"filterSettings",void 0),ce([gt({},Lne)],e.prototype,"searchSettings",void 0),ce([gt({},Bne)],e.prototype,"splitterSettings",void 0),ce([Q()],e.prototype,"queryTaskbarInfo",void 0),ce([Q()],e.prototype,"beforeExcelExport",void 0),ce([Q()],e.prototype,"excelExportComplete",void 0),ce([Q()],e.prototype,"excelQueryCellInfo",void 0),ce([Q()],e.prototype,"excelHeaderQueryCellInfo",void 0),ce([Q()],e.prototype,"rowDrag",void 0),ce([Q()],e.prototype,"rowDragStart",void 0),ce([Q()],e.prototype,"rowDragStartHelper",void 0),ce([Q()],e.prototype,"rowDrop",void 0),ce([Q()],e.prototype,"collapsing",void 0),ce([Q()],e.prototype,"collapsed",void 0),ce([Q()],e.prototype,"expanding",void 0),ce([Q()],e.prototype,"expanded",void 0),ce([Q()],e.prototype,"actionBegin",void 0),ce([Q()],e.prototype,"cellSave",void 0),ce([Q()],e.prototype,"actionComplete",void 0),ce([Q()],e.prototype,"actionFailure",void 0),ce([Q()],e.prototype,"dataStateChange",void 0),ce([Q()],e.prototype,"taskbarEdited",void 0),ce([Q()],e.prototype,"endEdit",void 0),ce([Q()],e.prototype,"cellEdit",void 0),ce([Q()],e.prototype,"load",void 0),ce([Q()],e.prototype,"created",void 0),ce([Q()],e.prototype,"destroyed",void 0),ce([Q()],e.prototype,"taskbarEditing",void 0),ce([Q()],e.prototype,"dataBound",void 0),ce([Q()],e.prototype,"beforeDataBound",void 0),ce([Q()],e.prototype,"resizeStart",void 0),ce([Q()],e.prototype,"resizing",void 0),ce([Q()],e.prototype,"resizeStop",void 0),ce([Q()],e.prototype,"splitterResizeStart",void 0),ce([Q()],e.prototype,"splitterResizing",void 0),ce([Q()],e.prototype,"splitterResized",void 0),ce([Q()],e.prototype,"columnDragStart",void 0),ce([Q()],e.prototype,"columnDrag",void 0),ce([Q()],e.prototype,"columnDrop",void 0),ce([Q()],e.prototype,"beforeTooltipRender",void 0),ce([Q()],e.prototype,"rowSelecting",void 0),ce([Q()],e.prototype,"rowSelected",void 0),ce([Q()],e.prototype,"rowDeselecting",void 0),ce([Q()],e.prototype,"rowDeselected",void 0),ce([Q()],e.prototype,"cellSelecting",void 0),ce([Q()],e.prototype,"cellSelected",void 0),ce([Q()],e.prototype,"cellDeselecting",void 0),ce([Q()],e.prototype,"cellDeselected",void 0),ce([Q()],e.prototype,"queryCellInfo",void 0),ce([Q()],e.prototype,"headerCellInfo",void 0),ce([Q()],e.prototype,"rowDataBound",void 0),ce([Q()],e.prototype,"columnMenuOpen",void 0),ce([Q()],e.prototype,"toolbarClick",void 0),ce([Q()],e.prototype,"columnMenuClick",void 0),ce([Q()],e.prototype,"contextMenuOpen",void 0),ce([Q()],e.prototype,"contextMenuClick",void 0),ce([Q()],e.prototype,"onTaskbarClick",void 0),ce([Q()],e.prototype,"recordDoubleClick",void 0),ce([Q()],e.prototype,"onMouseMove",void 0),ce([Q()],e.prototype,"beforePdfExport",void 0),ce([Q()],e.prototype,"pdfExportComplete",void 0),ce([Q()],e.prototype,"pdfQueryCellInfo",void 0),ce([Q()],e.prototype,"pdfQueryTaskbarInfo",void 0),ce([Q()],e.prototype,"pdfQueryTimelineCellInfo",void 0),ce([Q()],e.prototype,"pdfColumnHeaderQueryCellInfo",void 0),e=ce([tn],e),e}(rr);function zre(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[""+t]=r[""+t]);return e.default=r,e}var Ou=zre(F2),zt=!(parseInt(Ou.version,10)>2),Ds=zt?Ou.default.default?Ou.default.default:Ou.default:Ou,Rl=Ou.h,Wn=function(r){return zt?Ds.extend(r):Ds.defineComponent(r)},Ore=Wn({name:"ComponentBase",data:function(){return{tagMapper:{},tagNameMapper:{},hasInjectedModules:!1,hasChildDirective:!1,childDirObjects:"",propKeys:{},isDecorator:!1}},created:function(){var r=this;if(this.ej2Instance&&(this.ej2Instances=this.isVue3?Ds.toRaw(this.ej2Instance):this.ej2Instance),!!this.propKeys){for(var e=function(f){t.ej2Instances.addEventListener(f,function(g){r.$emit(f,g)})},t=this,i=0,n=this.propKeys;i<n.length;i++){var s=n[i];e(s)}var o=H("$root.$options.provide",this),a=H("$parent.$options.provide",this);if(a=p(a)?H("$.parent.provides",this):a,this.hasInjectedModules&&!zt){var l=[];o&&o.managed?(this.isDecorator=!0,l=this.getInjectedServices()||[]):o?l=o[this.ej2Instances.getModuleName()]||[]:a&&(l=this.getInjectedServices()||[]);for(var h=this.ej2Instances.getInjectedModules()||[],u=0,c=h;u<c.length;u++){var d=c[u];l.indexOf(d)===-1&&l.push(d)}this.ej2Instances.injectedModules=l}}},mounted:function(){var r=this.$el?this.$el.querySelectorAll("div.e-directive"):null;if(!zt&&r)for(var e=0;e<r.length;e++){var t=r[parseInt(e.toString(),10)];t.parentElement&&t.parentElement.removeChild(t)}this.ej2Instances.isVue=!0,this.ej2Instances.isVue3=this.isVue3,this.ej2Instances.vueInstance=this,this.isVue3&&(this.ej2Instances.ej2Instances=this.ej2Instances,this.ej2Instances.referModels=this.models,this.setModelValue()),this.ej2Instances.appendTo(this.$el)},updated:function(){this.updated()},beforeDestroy:function(){this.destroyComponent()},beforeUnmount:function(){this.destroyComponent()},methods:{setModelValue:function(){if(!p(this.modelValue)||!p(this.$attrs.modelValue)){var r=this.models.toString().match(/checked|value/)||[],e=r[0];p(e)||(this.ej2Instances[""+e]=p(this.modelValue)?this.$attrs.modelValue:this.modelValue)}},updated:function(){if(this.isVue3&&this.setModelValue(),this.hasChildDirective){var r={};this.fetchChildPropValues(r);var e=JSON.stringify(r);this.childDirObjects!==e&&(this.childDirObjects=e,this.assignValueToWrapper(r,!1))}},getInjectedServices:function(){var r=[],e;if(this.$root&&this.isDecorator?e=H("$root.$options.provide",this):this.$vnode?e=H("$vnode.context.$options.provide",this):this.$parent&&(e=H("$parent.$options.provide",this)),p(e)&&!p(this.$)&&(e=H("$.parent.provides",this)),e){var t=e;if(typeof e=="function")if(e.managed){var i=e.managed,n=Object.keys(i),s=void 0;this.$root&&this.isDecorator?s=Object.keys(this.$root):this.$vnode?s=Object.keys(this.$vnode.context):this.$parent&&(s=Object.keys(this.$parent));for(var o=0;o<n.length;o++)for(var a=0;a<s.length;a++)s[parseInt(a.toString(),10)].indexOf(n[parseInt(o.toString(),10)])!==-1&&(this.$root&&this.isDecorator?i[n[parseInt(a.toString(),10)]]=this.$root[s[parseInt(o.toString(),10)]]:this.$vnode?i[n[parseInt(o.toString(),10)]]=this.$vnode.context[s[parseInt(a.toString(),10)]]:this.$parent&&(i[n[parseInt(o.toString(),10)]]=this.$parent[s[parseInt(a.toString(),10)]]),t=i)}else this.$vnode?t=this.$vnode.context.$options.provide():this.$parent&&(t=this.$parent.$options.provide());r=t[this.ej2Instances.getModuleName()]||[]}return this.isDecorator=!1,r},destroyComponent:function(){this.ej2Instances.destroy(),this.$el.style.visibility="hidden",this.clearTemplate()},destroyPortals:function(r){if(r){var e=H("__vue__.$destroy",r);if(e)r.__vue__.$destroy();else if(!zt&&r._vnode)try{Ds.render(null,r)}catch{}r.innerHTML&&(r.innerHTML="")}},bindProperties:function(){for(var r={},e=0,t=this.propKeys;e<t.length;e++){var i=t[e];p(this[""+i])?this[0]&&!p(this[0][0])&&!p(this[0][0][""+i])&&(r[""+i]=this[0][0][""+i]):r[""+i]=this[""+i]}if(this.hasChildDirective&&this.fetchChildPropValues(r),this.hasInjectedModules){for(var n=this.getInjectedServices()||[],s=this.ej2Instances.getInjectedModules()||[],o=0,a=s;o<a.length;o++){var l=a[o];n.indexOf(l)===-1&&n.push(l)}this.ej2Instances.injectedModules=n}this.assignValueToWrapper(r)},assignValueToWrapper:function(r,e){this.ej2Instances.setProperties(ie({},{},r,!0),p(e)?!0:e)},fetchChildPropValues:function(r){var e={};if(!this.isVue3)e=this.getDirectiveValues(this.$slots.default,this.tagMapper||{},this.tagNameMapper||{});else{var t=void 0;if(this[0]&&this[0][1].slots.default?t=this[0][1].slots.default():this&&this.$&&this.$.slots&&this.$.slots.default&&(t=this.$.slots.default()),t){for(var i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].type.methods||t[parseInt(i.toString(),10)].type==="e-seriescollection"){var n=t[parseInt(i.toString(),10)].type==="e-seriescollection"?"series-collection":t[parseInt(i.toString(),10)].type.methods.getTag().replace("e-",""),s=this.resolveArrayDirectives(t[parseInt(i.toString(),10)].children,n),o=n.split("-"),a=this.ej2Instances.getModuleName().toLowerCase(),l=o.length>1&&a.indexOf(o[0])>-1?o[1]:o[0];l=l.replace(a,""),l=this.tagNameMapper["e-"+n]?this.tagNameMapper["e-"+n].replace("e-",""):l,a==="splitter"&&l==="panes"?l="paneSettings":a==="bulletchart"&&l==="range"?l="ranges":a==="schedule"&&l==="header"&&(l="headerRows"),e[""+l]=s[""+n]}}else return}this.childDirObjects||(this.childDirObjects=JSON.stringify(e));for(var h=0,u=Object.keys(e);h<u.length;h++){var c=u[h];r[""+c]=e[""+c]}},resolveArrayDirectives:function(r,e){var t=[],i;t=r.default?r.default():r,t=t.flatMap(function(u){return Array.isArray(u.children)?u.children:u});var n={};n[""+e]=[];for(var s=function(u){var c={},d=u.type.methods?u.type.methods.getTag():e;if(u.children){var f=void 0;if(i=o.resolveComplexDirs(u.children,o.tagMapper["e-"+e],d),i.length)c=i;else for(var g=0;g<Object.keys(i).length;g++)f=Object.keys(i)[parseInt(g.toString(),10)],c[""+f]=i[""+f]}u.props&&Object.keys(u.props).forEach(function(m){var y=m.replace(/-[a-z]/g,function(v){return v[1].toUpperCase()});y&&(c[""+y]=u.props[""+m])}),/[s]\b/.test(d)&&i&&(!/[s]\b/.test(e)||i.length)?Array.isArray(c)?c.forEach(function(m){n[""+e].push(m)}):n[""+e].push(c):c&&Object.keys(c).length!==0&&n[""+e].push(c)},o=this,a=0,l=t;a<l.length;a++){var h=l[a];s(h)}return n},resolveComplexDirs:function(r,e,t){var i=[],n;i=r.default?r.default():r;for(var s={},o=function(c){var d=void 0,f=void 0;e[""+t]&&(d=Object.keys(e[""+t]),f=d.find(function(g){return e[""+t][""+g]===c.type.methods.getTag().replace(/[s]\b/,"")}),f=f||c.type.methods.getTag(),f=(a.tagNameMapper[""+f]?a.tagNameMapper[""+f]:f).replace("e-",""),a.ej2Instances.getModuleName().toLowerCase()==="diagram"&&f.indexOf("annotations")!==-1&&(f="annotations")),c.children&&(n=a.resolveComplexInnerDirs(c.children,e[""+t],c.type.methods.getTag()),s[""+f]||(s[""+f]=[]),n.length>1?s[""+f]=n:s[""+f].push(n)),c.props&&(c.props=a.getCamelCaseProps(c.props)),i.length>1?(s=Object.keys(s).length===0&&!s.length?[]:s,c.props&&s.push(c.props)):s=c.props?Object.assign(s,c.props):s},a=this,l=0,h=i;l<h.length;l++){var u=h[l];o(u)}return s},resolveComplexInnerDirs:function(r,e,t){var i=[];i=r.default?r.default():r;for(var n=i.length>1?[]:{},s=0,o=i;s<o.length;s++){var a=o[s],l=null,h=a.type.methods.getTag();h=(this.tagNameMapper[""+h]?this.tagNameMapper[""+h]:h).replace("e-",""),a.children&&(l=this.resolveMultilevelComplexInnerDirs(a.children,e[""+t],a.type.methods.getTag()),/[s]\b/.test(h)||i.length>1?/[s]\b/.test(h)?(n[""+h]=n[""+h]?n[""+h]:[],l.length?n[""+h]=l:n[""+h].push(l)):l&&!a.props&&n.push(l):n=l||n),a.props&&(a.props=this.getCamelCaseProps(a.props)),i.length>1&&a.props?l?(l=a.props?Object.assign(l,a.props):l,n.push(l)):n.length>=0?n.push(a.props):n=a.props?Object.assign(n,a.props):n:n=a.props?Object.assign(n,a.props):n}return n},resolveMultilevelComplexInnerDirs:function(r,e,t){var i=[];i=r.default?r.default():r;for(var n=i.length>1?[]:{},s=0,o=i;s<o.length;s++){var a=o[s],l=null,h=a.type.methods.getTag();h=(this.tagNameMapper[""+h]?this.tagNameMapper[""+h]:h).replace("e-",""),a.children&&(l=this.resolveComplexInnerDirs(a.children,e[""+t],a.type.methods.getTag())),a.props&&(a.props=this.getCamelCaseProps(a.props)),/[s]\b/.test(h)?(n[""+h]=n[""+h]?n[""+h]:[],l.length?n[""+h]=l:n[""+h].push(l),a.props&&n[""+h].push(a.props)):(n=l,n=a.props?Object.assign(n,a.props):n)}return n},getDirectiveValues:function(r,e,t){var i=Object.keys(e),n={};if(r)for(var s=0,o=r;s<o.length;s++){var a=o[s],l=a.componentOptions;if(l&&l.children&&this.getTagName(l)||a.tag==="e-seriescollection"&&a.children){var h=l?this.getTagName(l):a.tag;if(h=h==="e-seriescollection"?"e-seriesCollection":h,i.indexOf(h)!==-1){var u=t[""+h]?t[""+h]:h;n[u.replace("e-","")]=[];for(var c=l?l.children:a.children,d=0,f=c;d<f.length;d++){var g=f[d],m=this.getVNodeValue(g,e[""+h],t);Object.keys(m).length!==0&&n[u.replace("e-","")].push(m)}}}}return n},getMultiLevelDirValue:function(r,e,t){for(var i={},n=0,s=r;n<s.length;n++){var o=s[n],a=void 0,l=void 0;if(o.componentOptions?(a=this.getTagName(o.componentOptions),o.componentOptions.children&&(l=o.componentOptions.children)):(o.tag==="e-markersettings"||o.tag==="e-markersetting")&&o.children&&(a=o.tag==="e-markersettings"?"e-markerSettings":"e-markerSetting",l=o.children),a){var h=t[""+a]?t[""+a]:a;if(i[h.replace("e-","")]=[],l)for(var u=0,c=l;u<c.length;u++){var d=c[u],f=this.getVNodeValue(d,e[""+a],t);Object.keys(f).length!==0&&i[h.replace("e-","")].push(f)}}}return i},getVNodeValue:function(r,e,t){var i={};if(r.componentOptions||(r.tag==="e-markersettings"||r.tag==="e-markersetting")&&r.context){var n=void 0;r.componentOptions?n=this.getTagName(r.componentOptions):n=r.tag==="e-markersettings"?"e-markerSettings":"e-markerSetting";var s=r.data;typeof e=="string"&&n===e&&s?i=s.attrs?this.getCamelCaseProps(s.attrs):this.getCamelCaseProps(s):typeof e=="object"&&(r.componentOptions.children&&Object.keys(e).indexOf(n)!==-1?i=this.getMultiLevelDirValue(r.componentOptions.children,e[""+n],t):r.children&&Object.keys(e).indexOf(n)!==-1&&(n==="e-markersettings"||n==="e-markersetting")&&(i=this.getMultiLevelDirValue(r.children,e[""+n],t)),s&&s.attrs&&(i=ie(i,this.getCamelCaseProps(s.attrs))))}return i},getCamelCaseProps:function(r){for(var e={},t=0,i=Object.keys(r);t<i.length;t++){var n=i[t];e[n.replace(/-[a-z]/g,function(s){return s[1].toUpperCase()})]=r[""+n]}return e},dataBind:function(){this.ej2Instances.dataBind()},setProperties:function(r,e){return this.ej2Instances.setProperties(r,e)},getTagName:function(r){var e=r.tag,t=r.Ctor;return!e&&t&&t.extendOptions&&t.extendOptions.methods&&t.extendOptions.methods.getTag&&(e=r.Ctor.extendOptions.methods.getTag()),e}}});function Rre(r){if(r===void 0&&(r={}),r.props)for(var e=function(s){(r.newprops||(r.newprops={}))[""+s]={},(r.watch||(r.watch={}))[""+s]=function(o){this.ej2Instances[""+s]=o,this.dataBind&&r.name!=="DateRangePickerComponent"&&this.dataBind()}},t=0,i=r.props;t<i.length;t++){var n=i[t];e(n)}return[r.newprops,r.watch]}zt||i$(Ds.toRaw);var wc=function(){return wc=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},wc.apply(this,arguments)},fA=uK();function jre(r,e){var t=this;return function(i,n,s,o,a){var l;if(n){var h=n.vueInstance&&n.vueInstance.plugins?{plugins:n.vueInstance.plugins}:{},u=n.vueInstance?n.vueInstance:a&&a.vueInstance?a.vueInstance:null,c=Ic("templateParentDiv"),d=Ic("templateDiv"),f=Be("div",{id:c,innerHTML:'<div id="'+d+'"></div>'});if(document.body.appendChild(f),!zt&&(typeof r=="string"||r.prototype&&r.prototype.CSPTemplate&&typeof r=="function")){var g=Fre(n.vueInstance,r,a);if(g){var m=Ds.createVNode({render:function(){return g[""+r]({data:i})}},h);if(f.innerHTML="",gA(m,n.vueInstance,a),Ds.render(m,f),l=f.childNodes,u){var y=u.templateCollection;y||(u.templateCollection={},y=u.templateCollection),s&&(y[""+s]||(y[""+s]=[]),y[""+s].push(f))}bt(f)}else return bt(f),fA(r,e)(i)}else if(zt)if(typeof r=="string"||r.prototype&&r.prototype.CSPTemplate&&typeof r=="function"){var z=Pre(n.vueInstance,r,a);if(z){var w={},O=function(W){W.$parent&&O(W.$parent),W._provided&&Object.keys(W._provided).length>0&&(w=wc({},w,W._provided))},L=n.vueInstance?n.vueInstance:a&&a.vueInstance?a.vueInstance:null;L&&O(L);var j=new Ds({provide:wc({},w),render:function(){return z[""+r]({data:i})}});if(j.$mount("#"+d),l=f.childNodes,L){var y=L.templateCollection;y||(L.templateCollection={},y=L.templateCollection),s&&(y[""+s]||(y[""+s]=[]),y[""+s].push(l[0]))}bt(f)}else return bt(f),fA(r,e)(i)}else{var v=r.call(t,{}),B=v.template,S=H("template.propsData",v),V={data:{data:ie(v.data||{},i)},parent:n.vueInstance};S&&(B=v.template.extends,V.propsData=S),typeof B!="function"&&(B=Ds.extend(B)),B.options.setup&&(V.propsData=Object.assign(V.propsData||{},i));var ee=new B(V);if(ee.$mount("#"+d),l=f.childNodes,V.parent=null,u){var y=u.templateCollection;y||(u.templateCollection={},y=u.templateCollection),s&&(y[""+s]||(y[""+s]=[]),y[""+s].push(l[0]))}bt(f)}else{var v=r.call(t,{}),M=v,S=H("template.propsData",v),b={data:{data:ie(v.data||{},i)},parent:n.vueInstance};M.template||(M.template=M[Object.keys(M)[0]]);var C=void 0;if(M.template.extends)C=M.template.extends._context.components.template;else if(C=M.template._context.components[r.name],!C){var T=Object.keys(M.template._context.components)[0];C=M.template._context.components[""+T]}var k;if(S)C.setup?k=Object.assign({},S):k=Object.assign(C.data(),S);else if(C.setup?k=Object.assign({},b.data):k=Object.assign(C.data(),b.data),C.components)for(var N=Object.keys(C.components)||[],A=function(J){var K=C.components[""+J];K&&K.data&&(K.__data||(K.__data=K.data),K.data=function(le){return Object.assign(K.__data.call(le),b.data)})},E=0,x=N;E<x.length;E++){var D=x[E];A(D)}C.setup&&(h=Object.assign(h,i)),C.data=function(){return k};var m=Ds.createVNode(C,h);if(f.innerHTML="",gA(m,n.vueInstance,a),Ds.render(m,f),l=f.childNodes,b.parent=null,u){var y=u.templateCollection;y||(u.templateCollection={},y=u.templateCollection),s&&(y[""+s]||(y[""+s]=[]),y[""+s].push(f))}bt(f)}}return l||[]}}hK({compile:jre});function gA(r,e,t){var i=e||(t&&t.vueInstance?t.vueInstance:null);if(i){r.appContext=i.$.appContext;var n={},s=function(o){o.$&&o.$.parent&&s(o.$.parent),o.provides&&Object.keys(o.provides).length>0&&(n=wc({},n,o.provides))};s(i),r.appContext.provides&&(r.appContext.provides=wc({},r.appContext.provides,n))}}function Pre(r,e,t){if(!(!r&&!(t&&t.vueInstance))){var i=t&&t.vueInstance?t.vueInstance:r;return QC(i,e)}}function QC(r,e){if(r){var t=r.$slots,i=r.$scopedSlots,n=r.scopedSlots,s=r.children;if(i&&i[""+e])return i;if(t&&t.default)for(var o=t.default,a=0;a<o.length;a++){var l=QC(mA(o[parseInt(a.toString(),10)]),e);if(l)return l}else{if(n&&n[""+e])return n;if(s)for(var a=0;a<s.length;a++){var l=QC(mA(s[parseInt(a.toString(),10)]),e);if(l)return l}}}}function mA(r){var e=r.componentOptions&&r.componentOptions.children?r.componentOptions:!r.data&&(r.tag==="e-markersettings"||r.tag==="e-markersetting")?r:r.data;return r.componentInstance?r.componentInstance:e}function Fre(r,e,t){if(!(!r&&!(t&&t.vueInstance))){var i=t&&t.vueInstance?t.vueInstance.$slots:r.$slots;return FP(i,e)}}function FP(r,e){if(r&&r[""+e])return r;if(r&&r.default){var t=r.default();t=t.flatMap(function(s){return Array.isArray(s.children)?s.children:s});for(var i=0;i<t.length;i++){var n=FP(t[parseInt(i.toString(),10)].children,e);if(n)return n}}}var Bre=Wn({inject:{custom:{default:null}},render:function(r){if(!zt){var e=zt?r:Rl,t=null;return p(this.$slots.default)||(t=zt?this.$slots.default:this.$slots.default()),e("div",{class:"e-directive"},t)}},updated:function(){!zt&&this.custom&&this.custom()},methods:{getTag:function(){return"e-columns"}}}),Ure={name:"e-columns"},Hre=Wn({render:function(){},methods:{getTag:function(){return"e-column"}}}),Vre={name:"e-column"},Qre=Wn({inject:{custom:{default:null}},render:function(r){if(!zt){var e=zt?r:Rl,t=null;return p(this.$slots.default)||(t=zt?this.$slots.default:this.$slots.default()),e("div",{class:"e-directive"},t)}},updated:function(){!zt&&this.custom&&this.custom()},methods:{getTag:function(){return"e-add-dialog-fields"}}}),_re={name:"e-add-dialog-fields"},Yre=Wn({render:function(){},methods:{getTag:function(){return"e-add-dialog-field"}}}),Wre={name:"e-add-dialog-field"},qre=Wn({inject:{custom:{default:null}},render:function(r){if(!zt){var e=zt?r:Rl,t=null;return p(this.$slots.default)||(t=zt?this.$slots.default:this.$slots.default()),e("div",{class:"e-directive"},t)}},updated:function(){!zt&&this.custom&&this.custom()},methods:{getTag:function(){return"e-edit-dialog-fields"}}}),Gre={name:"e-edit-dialog-fields"},$re=Wn({render:function(){},methods:{getTag:function(){return"e-edit-dialog-field"}}}),Kre={name:"e-edit-dialog-field"},Jre=Wn({inject:{custom:{default:null}},render:function(r){if(!zt){var e=zt?r:Rl,t=null;return p(this.$slots.default)||(t=zt?this.$slots.default:this.$slots.default()),e("div",{class:"e-directive"},t)}},updated:function(){!zt&&this.custom&&this.custom()},methods:{getTag:function(){return"e-day-working-time-collection"}}}),Zre={name:"e-day-working-time-collection"},Xre=Wn({render:function(){},methods:{getTag:function(){return"e-day-working-time"}}}),ese={name:"e-day-working-time"},tse=Wn({inject:{custom:{default:null}},render:function(r){if(!zt){var e=zt?r:Rl,t=null;return p(this.$slots.default)||(t=zt?this.$slots.default:this.$slots.default()),e("div",{class:"e-directive"},t)}},updated:function(){!zt&&this.custom&&this.custom()},methods:{getTag:function(){return"e-week-working-times"}}}),ise={name:"e-week-working-times"},nse=Wn({render:function(){},methods:{getTag:function(){return"e-week-working-time"}}}),rse={name:"e-week-working-time"},sse=Wn({inject:{custom:{default:null}},render:function(r){if(!zt){var e=zt?r:Rl,t=null;return p(this.$slots.default)||(t=zt?this.$slots.default:this.$slots.default()),e("div",{class:"e-directive"},t)}},updated:function(){!zt&&this.custom&&this.custom()},methods:{getTag:function(){return"e-holidays"}}}),ose={name:"e-holidays"},ase=Wn({render:function(){},methods:{getTag:function(){return"e-holidays"}}}),lse={name:"e-holidays"},hse=Wn({inject:{custom:{default:null}},render:function(r){if(!zt){var e=zt?r:Rl,t=null;return p(this.$slots.default)||(t=zt?this.$slots.default:this.$slots.default()),e("div",{class:"e-directive"},t)}},updated:function(){!zt&&this.custom&&this.custom()},methods:{getTag:function(){return"e-event-markers"}}}),use={name:"e-event-markers"},cse=Wn({render:function(){},methods:{getTag:function(){return"e-event-marker"}}}),dse={name:"e-event-marker"},BP=["isLazyUpdate","plugins","addDialogFields","allowExcelExport","allowFiltering","allowKeyboard","allowParentDependency","allowPdfExport","allowReordering","allowResizing","allowRowDragAndDrop","allowSelection","allowSorting","allowTaskbarDragAndDrop","allowTaskbarOverlap","allowUnscheduledTasks","autoCalculateDateScheduling","autoFocusTasks","baselineColor","calendarSettings","collapseAllParentTasks","columnMenuItems","columns","connectorLineBackground","connectorLineWidth","contextMenuItems","dataSource","dateFormat","dayWorkingTime","disableHtmlEncode","durationUnit","editDialogFields","editSettings","emptyRecordTemplate","enableAdaptiveUI","enableAutoWbsUpdate","enableContextMenu","enableCriticalPath","enableHover","enableHtmlSanitizer","enableImmutableMode","enableMultiTaskbar","enablePersistence","enablePredecessorValidation","enableRtl","enableTimelineVirtualization","enableUndoRedo","enableVirtualMaskRow","enableVirtualization","enableWBS","eventMarkers","filterSettings","frozenColumns","gridLines","height","highlightWeekends","holidays","includeWeekend","labelSettings","loadChildOnDemand","loadingIndicator","locale","milestoneTemplate","parentTaskbarTemplate","projectEndDate","projectStartDate","query","readOnly","renderBaseline","resourceFields","resourceIDMapping","resourceNameMapping","resources","rowHeight","searchSettings","segmentData","selectedRowIndex","selectionSettings","showColumnMenu","showInlineNotes","showOverAllocation","sortSettings","splitterSettings","taskFields","taskMode","taskType","taskbarHeight","taskbarTemplate","timelineSettings","timelineTemplate","timezone","toolbar","tooltipSettings","treeColumnIndex","undoRedoActions","undoRedoStepsCount","updateOffsetOnTaskbarEdit","validateManualTasksOnLinking","viewType","weekWorkingTime","width","workUnit","workWeek","zoomingLevels","actionBegin","actionComplete","actionFailure","beforeDataBound","beforeExcelExport","beforePdfExport","beforeTooltipRender","cellDeselected","cellDeselecting","cellEdit","cellSave","cellSelected","cellSelecting","collapsed","collapsing","columnDrag","columnDragStart","columnDrop","columnMenuClick","columnMenuOpen","contextMenuClick","contextMenuOpen","created","dataBound","dataStateChange","destroyed","endEdit","excelExportComplete","excelHeaderQueryCellInfo","excelQueryCellInfo","expanded","expanding","headerCellInfo","load","onMouseMove","onTaskbarClick","pdfColumnHeaderQueryCellInfo","pdfExportComplete","pdfQueryCellInfo","pdfQueryTaskbarInfo","pdfQueryTimelineCellInfo","queryCellInfo","queryTaskbarInfo","recordDoubleClick","resizeStart","resizeStop","resizing","rowDataBound","rowDeselected","rowDeselecting","rowDrag","rowDragStart","rowDragStartHelper","rowDrop","rowSelected","rowSelecting","splitterResizeStart","splitterResized","splitterResizing","taskbarEdited","taskbarEditing","toolbarClick"],UP=["dataSource"],HP=Rre({props:BP}),pse=HP[0],VP=HP[1],cD=Object.keys(VP);cD.push("modelchanged","update:modelValue");for(var M0=0,yA=UP;M0<yA.length;M0++){var fse=yA[M0];cD.push("update:"+fse)}var gse=Wn({name:"GanttComponent",mixins:[Ore],props:pse,watch:VP,emits:cD,model:{event:"modelchanged"},provide:function(){return{custom:this.custom}},data:function(){return{ej2Instance:new Lre({}),propKeys:BP,models:UP,hasChildDirective:!0,hasInjectedModules:!0,tagMapper:{"e-columns":"e-column","e-add-dialog-fields":"e-add-dialog-field","e-edit-dialog-fields":"e-edit-dialog-field","e-day-working-time-collection":"e-day-working-time","e-week-working-times":"e-week-working-time","e-holidays":"e-holidays","e-event-markers":"e-event-marker"},tagNameMapper:{"e-add-dialog-fields":"e-addDialogFields","e-edit-dialog-fields":"e-editDialogFields","e-day-working-time-collection":"e-dayWorkingTime","e-week-working-times":"e-weekWorkingTime","e-event-markers":"e-eventMarkers"},isVue3:!zt,templateCollection:{}}},created:function(){this.ej2Instances._trigger=this.ej2Instances.trigger,this.ej2Instances.trigger=this.trigger,this.bindProperties(),this.ej2Instances._setProperties=this.ej2Instances.setProperties,this.ej2Instances.setProperties=this.setProperties,this.ej2Instances.clearTemplate=this.clearTemplate,this.updated=this.updated},render:function(r){var e=zt?r:Rl,t=null;return p(this.$slots.default)||(t=zt?this.$slots.default:this.$slots.default()),e("div",t)},methods:{clearTemplate:function(r){if(r||(r=Object.keys(this.templateCollection||{})),r.length&&this.templateCollection)for(var e=0,t=r;e<t.length;e++){var i=t[e],n=this.templateCollection[i];if(n&&n.length){for(var s=0,o=n;s<o.length;s++){var a=o[s];this.destroyPortals(a)}delete this.templateCollection[i]}}},setProperties:function(r,e){var t=this;this.isVue3&&(this.models=this.models?this.models:this.ej2Instances.referModels),this.ej2Instances&&this.ej2Instances._setProperties&&this.ej2Instances._setProperties(r,e),r&&this.models&&this.models.length&&Object.keys(r).map(function(i){t.models.map(function(n){i===n&&!/datasource/i.test(i)&&(t.isVue3?t.ej2Instances.vueInstance.$emit("update:"+i,r[i]):(t.$emit("update:"+i,r[i]),t.$emit("modelchanged",r[i])))})})},trigger:function(r,e,t){if(zt||(this.models=this.models?this.models:this.ej2Instances.referModels),(r==="change"||r==="input")&&this.models&&this.models.length!==0){var i=this.models.toString().match(/checked|value/)||[],n=i[0];e&&i&&!Je(e[n])&&(zt?(r==="change"||this.$props&&!this.$props.isLazyUpdate)&&(this.$emit("update:"+n,e[n]),this.$emit("modelchanged",e[n])):(this.ej2Instances.vueInstance.$emit("update:"+n,e[n]),this.ej2Instances.vueInstance.$emit("modelchanged",e[n]),this.ej2Instances.vueInstance.$emit("update:modelValue",e[n])))}else if(r==="actionBegin"&&e.requestType==="dateNavigate"&&this.models&&this.models.length!==0){var i=this.models.toString().match(/currentView|selectedDate/)||[],n=i[0];e&&i&&!Je(e[n])&&(zt?(this.$emit("update:"+n,e[n]),this.$emit("modelchanged",e[n])):(this.ej2Instances.vueInstance.$emit("update:"+n,e[n]),this.ej2Instances.vueInstance.$emit("modelchanged",e[n])))}this.ej2Instances&&this.ej2Instances._trigger&&this.ej2Instances._trigger(r,e,t)},custom:function(){this.updated()},addPredecessor:function(r,e){return this.ej2Instances.addPredecessor(r,e)},addRecord:function(r,e,t){return this.ej2Instances.addRecord(r,e,t)},autoFitColumns:function(r){return this.ej2Instances.autoFitColumns(r)},cancelEdit:function(){return this.ej2Instances.cancelEdit()},changeTaskMode:function(r){return this.ej2Instances.changeTaskMode(r)},clearFiltering:function(r){return this.ej2Instances.clearFiltering(r)},clearRedoCollection:function(){return this.ej2Instances.clearRedoCollection()},clearSelection:function(){return this.ej2Instances.clearSelection()},clearSorting:function(){return this.ej2Instances.clearSorting()},clearUndoCollection:function(){return this.ej2Instances.clearUndoCollection()},collapseAll:function(){return this.ej2Instances.collapseAll()},collapseByID:function(r){return this.ej2Instances.collapseByID(r)},collapseByIndex:function(r){return this.ej2Instances.collapseByIndex(r)},convertToMilestone:function(r){return this.ej2Instances.convertToMilestone(r)},csvExport:function(r,e,t,i){return this.ej2Instances.csvExport(r,e,t,i)},deleteRecord:function(r){return this.ej2Instances.deleteRecord(r)},enableItems:function(r,e){return this.ej2Instances.enableItems(r,e)},excelExport:function(r,e,t,i){return this.ej2Instances.excelExport(r,e,t,i)},expandAll:function(){return this.ej2Instances.expandAll()},expandByID:function(r){return this.ej2Instances.expandByID(r)},expandByIndex:function(r){return this.ej2Instances.expandByIndex(r)},filterByColumn:function(r,e,t,i,n,s){return this.ej2Instances.filterByColumn(r,e,t,i,n,s)},fitToProject:function(){return this.ej2Instances.fitToProject()},generateWBSCodes:function(r){return this.ej2Instances.generateWBSCodes(r)},getCriticalTasks:function(){return this.ej2Instances.getCriticalTasks()},getCurrentViewData:function(){return this.ej2Instances.getCurrentViewData()},getDurationString:function(r,e){return this.ej2Instances.getDurationString(r,e)},getExpandedRecords:function(r){return this.ej2Instances.getExpandedRecords(r)},getFormatedDate:function(r,e){return this.ej2Instances.getFormatedDate(r,e)},getGanttColumns:function(){return this.ej2Instances.getGanttColumns()},getGridColumns:function(){return this.ej2Instances.getGridColumns()},getMaxRootWBSCode:function(r,e){return this.ej2Instances.getMaxRootWBSCode(r,e)},getRecordByID:function(r){return this.ej2Instances.getRecordByID(r)},getRedoActions:function(){return this.ej2Instances.getRedoActions()},getRowByID:function(r){return this.ej2Instances.getRowByID(r)},getRowByIndex:function(r){return this.ej2Instances.getRowByIndex(r)},getTaskByUniqueID:function(r){return this.ej2Instances.getTaskByUniqueID(r)},getTaskInfo:function(r){return this.ej2Instances.getTaskInfo(r)},getTaskbarHeight:function(){return this.ej2Instances.getTaskbarHeight()},getUndoActions:function(){return this.ej2Instances.getUndoActions()},getWorkString:function(r,e){return this.ej2Instances.getWorkString(r,e)},hideColumn:function(r,e){return this.ej2Instances.hideColumn(r,e)},hideMaskRow:function(){return this.ej2Instances.hideMaskRow()},hideSpinner:function(){return this.ej2Instances.hideSpinner()},indent:function(){return this.ej2Instances.indent()},keyActionHandler:function(r){return this.ej2Instances.keyActionHandler(r)},mergeTask:function(r,e){return this.ej2Instances.mergeTask(r,e)},nextTimeSpan:function(r){return this.ej2Instances.nextTimeSpan(r)},openAddDialog:function(){return this.ej2Instances.openAddDialog()},openEditDialog:function(r){return this.ej2Instances.openEditDialog(r)},outdent:function(){return this.ej2Instances.outdent()},pdfExport:function(r,e,t,i){return this.ej2Instances.pdfExport(r,e,t,i)},previousTimeSpan:function(r){return this.ej2Instances.previousTimeSpan(r)},redo:function(){return this.ej2Instances.redo()},refreshColumns:function(r){return this.ej2Instances.refreshColumns(r)},removeCriticalPathStyles:function(){return this.ej2Instances.removeCriticalPathStyles()},removePredecessor:function(r){return this.ej2Instances.removePredecessor(r)},removeSortColumn:function(r){return this.ej2Instances.removeSortColumn(r)},reorderColumns:function(r,e){return this.ej2Instances.reorderColumns(r,e)},reorderRows:function(r,e,t){return this.ej2Instances.reorderRows(r,e,t)},scrollToDate:function(r){return this.ej2Instances.scrollToDate(r)},scrollToTask:function(r){return this.ej2Instances.scrollToTask(r)},search:function(r){return this.ej2Instances.search(r)},selectCell:function(r,e){return this.ej2Instances.selectCell(r,e)},selectCells:function(r){return this.ej2Instances.selectCells(r)},selectRow:function(r,e){return this.ej2Instances.selectRow(r,e)},selectRows:function(r){return this.ej2Instances.selectRows(r)},setScrollTop:function(r){return this.ej2Instances.setScrollTop(r)},setSplitterPosition:function(r,e){return this.ej2Instances.setSplitterPosition(r,e)},showColumn:function(r,e){return this.ej2Instances.showColumn(r,e)},showCriticalPath:function(r){return this.ej2Instances.showCriticalPath(r)},showMaskRow:function(){return this.ej2Instances.showMaskRow()},showSpinner:function(){return this.ej2Instances.showSpinner()},sortColumn:function(r,e,t){return this.ej2Instances.sortColumn(r,e,t)},splitTask:function(r,e){return this.ej2Instances.splitTask(r,e)},undo:function(){return this.ej2Instances.undo()},updateChartScrollOffset:function(r,e){return this.ej2Instances.updateChartScrollOffset(r,e)},updateDataSource:function(r,e){return this.ej2Instances.updateDataSource(r,e)},updatePredecessor:function(r,e){return this.ej2Instances.updatePredecessor(r,e)},updateProjectDates:function(r,e,t,i){return this.ej2Instances.updateProjectDates(r,e,t,i)},updateRecordByID:function(r){return this.ej2Instances.updateRecordByID(r)},updateRecordByIndex:function(r,e){return this.ej2Instances.updateRecordByIndex(r,e)},updateTaskId:function(r,e){return this.ej2Instances.updateTaskId(r,e)},zoomIn:function(){return this.ej2Instances.zoomIn()},zoomOut:function(){return this.ej2Instances.zoomOut()}}}),QP={name:"ejs-gantt",install:function(r){r.component(QP.name,gse),r.component(Vre.name,Hre),r.component(Ure.name,Bre),r.component(Wre.name,Yre),r.component(_re.name,Qre),r.component(Kre.name,$re),r.component(Gre.name,qre),r.component(ese.name,Xre),r.component(Zre.name,Jre),r.component(rse.name,nse),r.component(ise.name,tse),r.component(lse.name,ase),r.component(ose.name,sse),r.component(dse.name,cse),r.component(use.name,hse)}};let an=null,Jo=null,Yg=null,Wg=null;const _P=()=>{an||(an=document.createElement("div"),an.id="global-tooltip",Object.assign(an.style,{position:"fixed",zIndex:"9999",opacity:"0",transition:"opacity 0.2s ease",pointerEvents:"none",backgroundColor:"#7D68C8",color:"#ffffff",fontSize:"12px",lineHeight:"1.4",fontWeight:"500",padding:"6px 12px",borderRadius:"6px",maxWidth:"300px",wordWrap:"break-word",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"}),Jo=document.createElement("div"),Object.assign(Jo.style,{position:"absolute",width:"8px",height:"8px",transform:"rotate(45deg)",backgroundColor:"#7D68C8"}),an.appendChild(Jo),document.body.appendChild(an))},mse=r=>{if(!an||!Jo)return;const e=an.firstElementChild;an.textContent=r,e&&an.appendChild(e)},yse=(r,e)=>{(!an||!Jo)&&_P(),!(!an||!Jo)&&(Wg&&(clearTimeout(Wg),Wg=null),mse(e),an.style.opacity="1",Yg=NR(r,an,()=>{!an||!Jo||LR(r,an,{placement:"top",middleware:[AR(8),kR(),ER({padding:5}),F6({element:Jo})]}).then(({x:t,y:i,placement:n,middlewareData:s})=>{Object.assign(an.style,{left:`${t}px`,top:`${i}px`});const{x:o,y:a}=s.arrow,l={top:"bottom",right:"left",bottom:"top",left:"right"}[n.split("-")[0]];Object.assign(Jo.style,{left:o!=null?`${o}px`:"",top:a!=null?`${a}px`:"",right:"",bottom:"",[l]:"-4px"})})}))},vse=()=>{Yg&&(Yg(),Yg=null),Wg=setTimeout(()=>{an&&(an.style.opacity="0")},100)},Mse={mounted(r,e){_P(),r.addEventListener("mouseenter",()=>{e.value&&yse(r,e.value)}),r.addEventListener("mouseleave",()=>{vse()})}};XR("Ngo9BigBOggjHTQxAR8/V1JGaF5cXGpCfExwWmFZfVhgdl9HZ1ZSQGYuP1ZhSXxVdkRjXn9ccXNRR2FaVEN9XEA=");const Fc=ip(FB);Fc.directive("tooltip",Mse);Fc.component("Toaster",mL);Fc.use(QP);Fc.use(B2()).use(q5,{queryClient:L8});Fc.use(kI);Fc.mount("#app");export{Toe as $,ei as A,Hu as B,voe as C,lo as D,Nb as E,rt as F,wb as G,qy as H,YS as I,kl as J,fs as K,Ei as L,FG as M,rv as N,Ck as O,na as P,qS as Q,Oi as R,_n as S,Hi as T,Tse as U,RR as V,PG as W,LH as X,yx as Y,K5 as Z,mx as _,ez as a,Db as a$,bG as a0,xoe as a1,Ioe as a2,jR as a3,SG as a4,boe as a5,Aoe as a6,Eoe as a7,Coe as a8,koe as a9,EH as aA,toe as aB,mz as aC,w9 as aD,Xse as aE,Zse as aF,ooe as aG,Vy as aH,mR as aI,sb as aJ,eoe as aK,ioe as aL,yoe as aM,Oy as aN,Ek as aO,LE as aP,p7 as aQ,doe as aR,J5 as aS,coe as aT,hoe as aU,poe as aV,bi as aW,_E as aX,rE as aY,RE as aZ,Gd as a_,zR as aa,Moe as ab,Ts as ac,Xi as ad,Cl as ae,Vt as af,ib as ag,Wi as ah,WS as ai,iE as aj,en as ak,foe as al,Wy as am,tl as an,y9 as ao,Doe as ap,woe as aq,ul as ar,gR as as,fz as at,Jse as au,Vr as av,br as aw,kI as ax,P3 as ay,Hp as az,Qb as b,er as b$,Qa as b0,Tr as b1,kb as b2,nE as b3,fb as b4,Ny as b5,Fp as b6,Hy as b7,Zk as b8,Tu as b9,I as bA,tn as bB,rr as bC,Roe as bD,Et as bE,H as bF,so as bG,of as bH,xt as bI,mt as bJ,ne as bK,ln as bL,Xt as bM,ii as bN,Ct as bO,ai as bP,joe as bQ,JS as bR,ie as bS,Be as bT,su as bU,_$ as bV,Ki as bW,hh as bX,OI as bY,Ci as bZ,qI as b_,Loe as ba,uoe as bb,nu as bc,xy as bd,GE as be,nr as bf,Up as bg,jy as bh,ju as bi,Ec as bj,Ac as bk,Gy as bl,Yse as bm,xe as bn,ue as bo,bt as bp,Ze as bq,p as br,Z as bs,Uoe as bt,Boe as bu,Foe as bv,Ic as bw,St as bx,F as by,Q as bz,Ce as c,ps as c$,uh as c0,Li as c1,Xe as c2,ro as c3,RI as c4,fe as c5,He as c6,zn as c7,Kh as c8,Je as c9,mi as cA,Wn as cB,zt as cC,Rl as cD,Rre as cE,Ore as cF,NR as cG,LR as cH,AR as cI,kR as cJ,ER as cK,Qy as cL,noe as cM,roe as cN,soe as cO,u7 as cP,o7 as cQ,a7 as cR,gz as cS,h7 as cT,l7 as cU,Soe as cV,zi as cW,Fr as cX,fi as cY,li as cZ,AA as c_,ol as ca,Ooe as cb,tj as cc,ij as cd,_R as ce,Jh as cf,oo as cg,wl as ch,ot as ci,gt as cj,Ve as ck,xu as cl,Tt as cm,ay as cn,UI as co,ts as cp,CP as cq,sie as cr,Hd as cs,Poe as ct,Ks as cu,Mp as cv,XI as cw,Aj as cx,_s as cy,lie as cz,Ai as d,GP as d0,tu as d1,cn as d2,_t as d3,hi as d4,Th as d5,et as d6,xc as d7,Dh as d8,m4 as d9,y4 as da,v4 as db,M4 as dc,LA as dd,Dr as de,a4 as df,Ise as dg,Cse as dh,$5 as di,Noe as dj,loe as dk,aoe as dl,zoe as dm,mn as e,$ as f,Ni as g,qi as h,st as i,oe as j,yt as k,cb as l,wse as m,Qt as n,te as o,be as p,AL as q,Pe as r,tm as s,tt as t,OR as u,ir as v,pi as w,kc as x,ri as y,$e as z};
