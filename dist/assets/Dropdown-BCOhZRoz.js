import{d as H,c as n,l as a,o as s,m as i,F as S,y as D,E as re,h as e,M as oe,I as Q,r as k,n as ne,k as ie,z as o,e as W,aU as q,t as _,a8 as de,w as ue,j as w,J as ce,i as G}from"./index-Ba6ntxZR.js";import{o as ve}from"./ConfirmDeleteModal.vue_vue_type_script_setup_true_lang-BicdjY-g.js";const pe={class:"p-4 overflow-x-auto flex-auto flex gap-6","aria-busy":"true","aria-live":"polite"},me={class:"flex-1 w-full overflow-y-auto space-y-3 px-2 pb-2",role:"presentation"},fe={key:0,class:"min-w-[328px]",role:"presentation"},be=H({__name:"KanbanSkeleton",props:{columns:{default:3},cardsPerColumn:{default:3},showAddList:{type:Boolean,default:!0}},setup(C){const f=C,b=n(()=>Array.from({length:f.columns},(v,r)=>r)),h=n(()=>Array.from({length:f.cardsPerColumn},(v,r)=>r));return(v,r)=>(s(),a("div",pe,[(s(!0),a(S,null,D(b.value,(y,c,B,x)=>{const d=[f.cardsPerColumn];if(x&&x.key===y&&re(x,d))return x;const m=(s(),a("div",{key:y,class:"kanban-col max-w-[328px] min-w-[328px] min-h-[555px] h-full bg-bg-body rounded-lg p-2 flex flex-col",role:"presentation"},[r[4]||(r[4]=e("div",{class:"flex justify-between items-center py-3 px-4 sticky top-0 bg-bg-body rounded-xl mb-2 z-10",role:"presentation"},[e("div",{class:"flex items-center gap-2"},[e("div",{class:"h-4 w-24 rounded shimmer","aria-hidden":"true"}),e("div",{class:"h-4 w-4 rounded-full shimmer","aria-hidden":"true"})]),e("div",{class:"flex items-center gap-2"},[e("div",{class:"h-4 w-4 rounded shimmer","aria-hidden":"true"}),e("div",{class:"h-4 w-4 rounded shimmer","aria-hidden":"true"})])],-1)),e("div",me,[(s(!0),a(S,null,D(h.value,$=>(s(),a("div",{key:$,class:"bg-bg-card rounded-xl border border-border p-3 space-y-3 shadow-sm",role:"presentation"},r[2]||(r[2]=[oe('<div class="flex gap-2" data-v-b80995d1><div class="h-5 w-14 rounded-full shimmer" aria-hidden="true" data-v-b80995d1></div><div class="h-5 w-10 rounded-full shimmer" aria-hidden="true" data-v-b80995d1></div></div><div data-v-b80995d1><div class="h-4 w-3/4 rounded shimmer mb-2" aria-hidden="true" data-v-b80995d1></div><div class="h-3 w-full rounded shimmer" aria-hidden="true" data-v-b80995d1></div><div class="h-3 w-5/6 rounded shimmer mt-1" aria-hidden="true" data-v-b80995d1></div></div><div class="flex justify-between items-center" data-v-b80995d1><div class="h-4 w-20 rounded shimmer" aria-hidden="true" data-v-b80995d1></div><div class="flex -space-x-2" data-v-b80995d1><div class="w-6 h-6 rounded-full border-2 border-border shimmer" aria-hidden="true" data-v-b80995d1></div><div class="w-6 h-6 rounded-full border-2 border-border shimmer" aria-hidden="true" data-v-b80995d1></div></div></div>',3)])))),128)),r[3]||(r[3]=e("div",{class:"h-9 rounded shimmer mt-3","aria-hidden":"true"},null,-1))])]));return m.memo=d,m},r,0),128)),f.showAddList?(s(),a("div",fe,r[5]||(r[5]=[e("div",{class:"bg-bg-body rounded-lg p-4"},[e("div",{class:"h-9 rounded shimmer","aria-hidden":"true"})],-1)]))):i("",!0)]))}}),je=Q(be,[["__scopeId","data-v-b80995d1"]]),xe=["src"],he={key:0,class:"font-bold"},ye={class:"text-nowrap"},we=["onClick"],ge={class:"flex items-center gap-2 min-w-0 flex-1"},ke=["src"],_e={class:"flex flex-col gap-1 max-w-40"},Ce={class:"overflow-hidden font-semibold overflow-ellipsis"},$e={key:0,class:"min-w-40 line-clamp-2 text-wrap text-text-secondary text-xs"},ze={key:1,class:"fa-regular text-left fa-arrows-spin animate-spin duration-250"},Se={key:0,class:"pl-2 flex items-center relative"},De=["onClick","aria-expanded","aria-label"],Be={class:"rounded-md border border-border bg-bg-dropdown shadow-lg w-28 py-1 flex flex-col text-sm"},Ne=["onClick"],Ve=["onClick"],Ie=H({__name:"Dropdown",props:{prefix:{},options:{default:()=>[]},modelValue:{default:""},variant:{default:"primary"},icon:{},size:{default:"md"},actions:{type:Boolean,default:!0},canEdit:{type:Boolean,default:!0},canDelete:{type:Boolean,default:!0}},emits:["update:modelValue","edit-option","delete-option"],setup(C,{emit:f}){const b=C,h=f,v=k(!1),r=k(null),y=n({get:()=>b.modelValue,set:t=>h("update:modelValue",t)}),c=n(()=>b.options.find(t=>t._id===y.value)??null);function B(){v.value=!v.value}function x(t){y.value=t._id,v.value=!1}const d=k(null),m=k(null);function $(t){m.value=null,d.value=d.value===t?null:t}function X(t){h("edit-option",t),d.value=null,m.value=null}function Y(t){h("delete-option",t),d.value=null,m.value=null}ve(r,()=>{v.value=!1,d.value=null,m.value=null});const p=n(()=>b.size==="sm"),Z=n(()=>p.value?"px-2 py-1 text-xs":"px-3 py-1.5 text-sm"),ee=n(()=>p.value?"text-xs":"text-sm"),se=n(()=>p.value?"text-xs":"text-sm"),te=n(()=>p.value?"px-3 py-1":"px-4 py-2"),N=n(()=>p.value?"w-3.5 h-3.5":"w-4 h-4"),g=n(()=>p.value?"w-3.5 h-3.5":"w-4 h-4"),V=n(()=>p.value?"text-base":"text-lg"),ae=n(()=>p.value?"w-3.5 h-3.5":"w-4 h-4"),le=n(()=>"dark:border-light-black border-border-gray");return ne(()=>b.options,()=>{},{deep:!0}),(t,u)=>{var I,E,A,j,M,P,K,L,O,R,T;return s(),a("div",{ref_key:"dropdownRef",ref:r,class:"relative inline-block text-left"},[e("button",{onClick:B,type:"button",class:o(["text-nowrap inline-flex justify-between items-center gap-1 border rounded-md font-medium cursor-pointer transition bg-bg-surface",[Z.value,t.variant==="secondary"?"!bg-bg-body border-0":"border-border"]])},[(I=c.value)!=null&&I.prefix?(s(),a("span",{key:0,class:o(N.value)},[typeof((E=c.value)==null?void 0:E.prefix)=="string"?(s(),a("img",{key:0,src:(A=c.value)==null?void 0:A.prefix,class:o(g.value)},null,10,xe)):(s(),W(q((j=c.value)==null?void 0:j.prefix),{key:1,class:o(g.value)},null,8,["class"]))],2)):i("",!0),e("i",{class:o(`${(P=(M=c.value)==null?void 0:M.icon)==null?void 0:P.prefix} ${(L=(K=c.value)==null?void 0:K.icon)!=null&&L.iconName?(R=(O=c.value)==null?void 0:O.icon)==null?void 0:R.iconName:"file"} ${V.value}`)},null,2),e("span",{class:o(ee.value)},[t.prefix?(s(),a("span",he,_(t.prefix)+":",1)):i("",!0),e("span",ye,_((T=c.value)==null?void 0:T.title),1)],2),(s(),a("svg",{class:o([ae.value,"text-text-secondary"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},u[2]||(u[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],2),ie(de,{name:"fade-scale","enter-active-class":"transition duration-200 ease-out","leave-active-class":"transition duration-150 ease-in","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:ue(()=>[v.value?(s(),a("div",{key:0,class:o(["absolute max-h-[500px] overflow-visible z-12 mt-1 w-full min-w-fit rounded-md border border-border shadow-lg bg-bg-dropdown",le.value]),onClick:u[1]||(u[1]=w(()=>{},["stop"]))},[e("ul",{class:o(["py-1 z-[2]",se.value])},[(s(!0),a(S,null,D(t.options,l=>{var F,J,U;return s(),a("li",{key:l._id,class:o(["group cursor-pointer flex items-stretch text-nowrap hover:bg-bg-dropdown-menu-hover",te.value]),onClick:z=>x(l)},[e("div",ge,[l.prefix?(s(),a("span",{key:0,class:o(N.value)},[typeof l.prefix=="string"?(s(),a("img",{key:0,src:l.prefix,class:o(g.value)},null,10,ke)):(s(),W(q(l.prefix),{key:1,class:o(["text-text-primary",g.value])},null,8,["class"]))],2)):i("",!0),e("i",{class:o(`${(F=l.icon)==null?void 0:F.prefix} ${(J=l.icon)!=null&&J.iconName?(U=l.icon)==null?void 0:U.iconName:"file"} ${V.value}`)},null,2),e("div",_e,[e("span",Ce,_(l.title),1),l.description?(s(),a("p",$e,_(l.description),1)):i("",!0)]),(l==null?void 0:l.status)=="running"?(s(),a("i",ze)):i("",!0)]),t.actions&&t.canEdit&&t.canDelete?(s(),a("div",Se,[e("button",{class:"opacity-0 cursor-pointer group-hover:opacity-100 focus:opacity-100 transition rounded-md px-1.5 py-1 text-text-secondary hover:bg-bg-dropdown-menu-hover",onClick:w(z=>$(l._id),["stop"]),"aria-expanded":d.value===l._id?"true":"false","aria-label":`Actions for ${l.title}`}," â‹¯ ",8,De),d.value===l._id?(s(),a("div",{key:0,class:"absolute left-[100%] right-0 top-full mt-1 z-[20]",onClick:u[0]||(u[0]=w(()=>{},["stop"]))},[e("div",Be,[t.canEdit?(s(),a("button",{key:0,class:"px-3 py-1.5 text-left hover:bg-bg-dropdown-menu-hover cursor-pointer",onClick:w(z=>X(l),["stop"])},u[3]||(u[3]=[e("i",{class:"fa-regular fa-edit"},null,-1),G(" Edit ")]),8,Ne)):i("",!0),t.canDelete?(s(),a("button",{key:1,class:"px-3 py-1.5 text-left text-red-600 cursor-pointer",onClick:w(z=>Y(l),["stop"])},u[4]||(u[4]=[e("i",{class:"fa-regular fa-trash"},null,-1),G(" Delete ")]),8,Ve)):i("",!0)])])):i("",!0)])):i("",!0)],10,we)}),128)),ce(t.$slots,"more",{},void 0,!0)],2)],2)):i("",!0)]),_:3})],512)}}}),Me=Q(Ie,[["__scopeId","data-v-d621ca6f"]]);export{Me as D,je as K};
