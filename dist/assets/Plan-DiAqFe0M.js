const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CreateTaskModal-KfjI90pP.js","assets/CreateTaskModal.vue_vue_type_script_setup_true_lang-C64zNGtA.js","assets/index-CgOIGtsy.js","assets/index-DlDeHoyP.css","assets/ConfirmDeleteModal-B_3QLShM.js","assets/ConfirmDeleteModal.vue_vue_type_script_setup_true_lang-sD7QY8UL.js","assets/SidePanel-BiybKsMS.js","assets/SidePanel-5-aOg4mI.css","assets/KanbanBoard-BeMkEGAa.js","assets/lodash-B3d4OLnQ.js","assets/DropMenu.vue_vue_type_script_setup_true_lang-DvNTCDBO.js","assets/workspace-BBVJiITr.js","assets/KanbanBoard-DlFwUlEB.css"])))=>i.map(i=>d[i]);
import{N as _e,O as Ie,P as le,n as b,r as D,m as q,Q as he,c as $,R as De,d as ke,S as mt,i as y,e as s,g as fe,y as W,F as ve,x as we,t as F,M as vt,o as m,H as Ge,K as $t,b as Y,w as G,h as P,_ as Ze,B as ue,f as ae,T as Je,G as Qe,j as se,U as je,A as Ve,L as Tt,a as Xe,J as ft,V as Lt,W as gt,X as Et,Y as bt,Z as Bt,C as Ke,$ as Mt,a0 as Pt,a1 as Ot,a2 as Ut,a3 as Fe,a4 as ze,p as At,q as It,a5 as qt,a6 as Nt,a7 as it,a8 as Ft}from"./index-CgOIGtsy.js";import{u as Ye}from"./useTheme-FoGcLIzm.js";import{_ as zt}from"./BaseTextAreaField.vue_vue_type_script_setup_true_lang-DCPBZwHT.js";import{K as xt,D as Ht}from"./Dropdown-BFwZBWTt.js";import{_ as jt}from"./SearchBar.vue_vue_type_script_setup_true_lang-QpocIJ7q.js";import{_ as Rt}from"./ConfirmDeleteModal.vue_vue_type_script_setup_true_lang-sD7QY8UL.js";import{u as Qt}from"./workspace-BBVJiITr.js";import{K as Kt}from"./KanbanTicket-CksEIswb.js";import{F as Wt}from"./fuse-Ch1WBRTM.js";import{l as Gt}from"./lodash-B3d4OLnQ.js";import"./DropMenu.vue_vue_type_script_setup_true_lang-DvNTCDBO.js";const Zt="data:image/svg+xml,%3csvg%20width='60'%20height='46'%20viewBox='0%200%2060%2046'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20opacity='0.4'%3e%3cpath%20d='M59.7443%2034.8967L50.5682%2025.7206C50.4457%2025.5984%2050.2897%2025.5152%2050.1199%2025.4816C49.9501%2025.4479%2049.7742%2025.4653%2049.6143%2025.5315C49.4544%2025.5976%2049.3176%2025.7097%2049.2213%2025.8535C49.125%2025.9973%2049.0734%2026.1664%2049.073%2026.3394V30.517H25.9775V40.5114H49.0755V44.689C49.0759%2044.8621%2049.1275%2045.0312%2049.2238%2045.175C49.3201%2045.3187%2049.4569%2045.4308%2049.6168%2045.497C49.7767%2045.5632%2049.9527%2045.5805%2050.1224%2045.5468C50.2922%2045.5132%2050.4482%2045.43%2050.5708%2045.3078L59.7468%2036.1318C59.9095%2035.9672%2060.0005%2035.7451%2060.0001%2035.5137C59.9996%2035.2823%2059.9076%2035.0605%2059.7443%2034.8967Z'%20fill='%23C6DBA9'/%3e%3cpath%20d='M32.3149%2030.5293C30.664%2031.5967%2028.7394%2032.1633%2026.7734%2032.1609V40.5237H34.7295C39.2829%2038.5638%2042.9649%2035.0102%2045.0851%2030.5293H32.3149Z'%20fill='url(%23paint0_linear_250_16424)'/%3e%3cpath%20d='M46.2209%2020.2832C46.2317%2015.0884%2044.2448%2010.0884%2040.6714%206.3179C37.0981%202.54738%2032.2119%200.295026%2027.024%200.0269855C21.8362%20-0.241055%2016.7439%201.49574%2012.801%204.87791C8.85809%208.26009%206.36647%2013.0287%205.84178%2018.1969L2.46233%2017.8913C2.31055%2017.8782%202.15829%2017.9103%202.02467%2017.9835C1.89106%2018.0566%201.78205%2018.1677%201.71134%2018.3026C1.64063%2018.4376%201.61138%2018.5904%201.62726%2018.7419C1.64313%2018.8934%201.70343%2019.0368%201.80058%2019.1542L9.51927%2028.406C9.79205%2028.7344%2010.277%2028.7773%2010.378%2028.5045L19.6298%2020.7833C20.3876%2020.3413%2020.1173%2019.4825%2019.4328%2019.4194L15.8008%2019.091C16.0297%2017.1283%2016.8213%2015.2735%2018.0802%2013.7503C19.3391%2012.2271%2021.0115%2011.1004%2022.8961%2010.5059C24.7806%209.9114%2026.7969%209.8745%2028.7019%2010.3996C30.6069%2010.9248%2032.3195%2011.9896%2033.6332%2013.4657C34.947%2014.9419%2035.8059%2016.7664%2036.1065%2018.7195C36.4071%2020.6726%2036.1365%2022.6709%2035.3274%2024.4738C34.5183%2026.2766%2033.2051%2027.8071%2031.5462%2028.8807C29.8872%2029.9544%2027.9531%2030.5254%2025.977%2030.5251H25.9283V40.5094C31.2249%2040.4031%2036.7093%2038.2263%2040.4202%2034.4455C44.1311%2030.6648%2046.2134%2025.5808%2046.2209%2020.2832Z'%20fill='%23D7A39E'/%3e%3cpath%20d='M25.9773%2030.5293H0V40.5237H25.9773V30.5293Z'%20fill='url(%23paint1_linear_250_16424)'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_250_16424'%20x1='6.53714'%20y1='35.5252'%20x2='47.0198'%20y2='35.5252'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%236C798F'/%3e%3cstop%20offset='1'%20stop-color='%236C798F'%20stop-opacity='0.1'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_250_16424'%20x1='0'%20y1='36'%20x2='26'%20y2='36'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23E8D4D3'%20stop-opacity='0'/%3e%3cstop%20offset='1'%20stop-color='%23E2A39F'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",Jt=(i,o={})=>Ie({queryKey:["sprint-list"],queryFn:({signal:C})=>le({url:`sprints/${i}`,method:"GET",signal:C}),...o}),Xt=(i,o={})=>Ie({queryKey:["sprint-cards",i],queryFn:({signal:C})=>le({url:`sprints/${b(i)}/backlog`,method:"GET",signal:C}),...o}),Yt=(i,o={})=>Ie({queryKey:["sprint-kanban",i],queryFn:({signal:C})=>le({url:`workspace/cards/sprintgrouped?sprint_id=${b(i)}&variable_id=68b6c96e0a95eef7d14e6981`,method:"GET",signal:C}),...o}),ea=(i,o={})=>_e({key:["sprint-complete"]},{mutationFn:C=>le({url:`sprints/${b(i)}/complete`,method:"POST",data:C.payload}),...o}),ta=(i,o={})=>Ie({queryKey:["sprint-detail",i],queryFn:({signal:C})=>le({url:`sprints/detail/${b(i)}?include_cards=true`,method:"GET",signal:C}),...o}),We=(i,o={})=>Ie({queryKey:["backlog-list",i],queryFn:({signal:C})=>le({url:`sprints/workspace/${b(i)}/cards?include_sprint_cards=false`,method:"GET",signal:C}),...o}),aa=(i={})=>_e({key:["add-sprint"]},{mutationFn:o=>le({url:"/sprints",method:"POST",data:o.payload}),...i}),yt=(i={})=>_e({key:["move-card-to-sprint"]},{mutationFn:o=>le({url:`/sprints/${o.id}/cards`,method:"POST",data:o.payload}),...i}),dt=(i={})=>_e({key:["add-sprint"]},{mutationFn:o=>le({url:`/sprints/${o.id}`,method:"PUT",data:o.payload}),...i}),sa=(i={})=>_e({key:["start-sprint"]},{mutationFn:o=>le({url:`/sprints/${o.id}/start`,method:"POST",data:o.payload}),...i}),la=(i={})=>_e({key:["delete-sprint"]},{mutationFn:o=>le({url:`/sprints/${o}`,method:"DELETE"}),...i}),ra=(i={})=>_e({key:["remove-card-from-sprint"]},{mutationFn:o=>le({url:`sprints/${b(o.sprintId)}/cards/remove `,method:"POST",data:{card_ids:[o.cardId]}}),...i}),ht="jira-like:";function ut(i="id"){return`${i}_${Math.random().toString(36).slice(2,9)}`}function ct(i,o){try{localStorage.setItem(ht+i,JSON.stringify(o))}catch{}}function pt(i,o){try{const C=localStorage.getItem(ht+i);return C?JSON.parse(C):o}catch{return o}}function na(i){switch(i){case"Highest":return"rounded-md bg-red-50 px-2 py-0.5 text-xs text-red-700";case"High":return"rounded-md bg-orange-50 px-2 py-0.5 text-xs text-orange-700";case"Medium":return"rounded-md bg-amber-50 px-2 py-0.5 text-xs text-amber-700";case"Low":return"rounded-md bg-gray-100 px-2 py-0.5 text-xs text-gray-600"}}function oa(){const i=D(pt("backlog",[])),o=D(pt("sprints",[]));if(o.value.length===0)o.value.push({id:ut("sprint"),name:"Sprint 1",goal:"",start:"",end:"",started:!1,tickets:[]});else if(o.value.length>1){for(let a=1;a<o.value.length;a++)i.value.push(...o.value[a].tickets);o.value=[o.value[0]]}const C=D(o.value[0].id);q([i,o],()=>{ct("backlog",i.value),ct("sprints",o.value)},{deep:!0});const T=D([]),E=he({}),k=$(()=>i.value.length>0&&T.value.length===i.value.length),l=a=>{var t;const e=o.value.find(r=>r.id===a);return!!e&&e.tickets.length>0&&(((t=E[a])==null?void 0:t.length)||0)===e.tickets.length};function w(a,e,t){const r=e.target.checked;if(a==="backlog")T.value=r?i.value.map(x=>x.id):[];else if(t){const x=o.value.find(v=>v.id===t);E[t]=r&&x?x.tickets.map(v=>v.id):[]}}function h(a,e,t,r){const x=t.target.checked,v=a==="backlog"?T.value:E[r]||(E[r]=[]);if(x&&!v.includes(e)&&v.push(e),!x){const U=v.indexOf(e);U>=0&&v.splice(U,1)}}function L(){return o.value.find(a=>a.id===C.value)||o.value[0]}function z(){const e=[...i.value,...o.value.flatMap(r=>r.tickets)].map(r=>Number(String(r.key).replace(/[^0-9]/g,""))).filter(r=>!Number.isNaN(r));return`PRJ-${e.length?Math.max(...e)+1:1}`}const{mutate:V}=yt({onSuccess:()=>{De.success("Cards moved to sprint successfully")},onError:a=>{De.error("Failed to move cards: "+(a.message||"Unknown error"))}});function O(){var r,x;const a=L();if(!a||!T.value.length)return;const e=[],t=[];for(const v of i.value)(T.value.includes(v.id)?t:e).push(v);i.value=e,a.tickets.push(...t),T.value=[],t.length>0&&V({id:a.id,payload:{card_ids:t.map(v=>v.id),priority:((x=(r=t[0])==null?void 0:r.priority)==null?void 0:x.toLowerCase())||"medium",story_points:t.reduce((v,U)=>v+(U.storyPoints||0),0)}})}function M(a){const e=o.value.find(v=>v.id===a);if(!e)return;const t=E[a]||[],r=[],x=[];for(const v of e.tickets)(t.includes(v.id)?x:r).push(v);e.tickets=r,i.value.push(...x),E[a]=[]}function N(a,e){if(a==="backlog")i.value=i.value.filter(t=>!T.value.includes(t.id)),T.value=[];else if(e){const t=E[e]||[],r=o.value.find(x=>x.id===e);if(!r)return;r.tickets=r.tickets.filter(x=>!t.includes(x.id)),E[e]=[]}}function Q(a,e){const t={id:ut("T"),key:z(),createdAt:new Date().toISOString(),...e};if(a==="backlog")i.value.push(t);else{const r=L();r==null||r.tickets.push(t)}}function H(a){const e=L();e&&(e.name=a.name??e.name,e.goal=a.goal??e.goal,e.start=a.start??e.start,e.end=a.end??e.end)}function j(){const a=L();a&&(a.started=!a.started)}function d(a){return a.tickets.reduce((e,t)=>e+(t.storyPoints||0),0)}return{backlog:i,sprints:o,activeSprintId:C,selectedBacklogIds:T,selectedSprintIds:E,allBacklogChecked:k,allSprintChecked:l,toggleAll:w,toggleOne:h,getActiveSprint:L,createTicket:Q,saveSprintMeta:H,toggleStartSprint:j,sprintPoints:d,moveSelectedToSprint:O,moveSelectedToBacklog:M,deleteSelected:N,priorityClass:na}}const ia={class:"h-full min-h-0"},da={key:0,class:"empty-state flex flex-col justify-center items-center h-full"},ua={key:1,class:"overflow-y-auto h-[calc(100%-50px)] tickets-scroll"},ca={class:"flex flex-col flex-1 gap-[4px] min-w-0 me-1"},pa=["onDragstart","onClick"],ma=["checked","onChange"],va={class:"flex items-center text-[14px] font-sans font-medium capitalize text-text-secondary flex-1 min-w-0"},fa={class:"truncate"},ga={class:"flex-shrink-0"},ba={key:0,class:"flex justify-center text-gray-500 items-center text-[11px] aspect-square w-[24px] h-[24px] bg-bg-body rounded-full border-border-input border-2"},xa={key:1,class:"w-6 h-6 rounded-full"},ya=["src"],ha={key:2,class:"text-[11px] aspect-square w-24px flex justify-center items-center h-[24px] bg-accent/30 text-accent border-accent border rounded-full"},_a=ke({__name:"BacklogTable",props:{searchQuery:{type:String,default:""},checkedAll:{type:Boolean,default:!1}},emits:["ticket-dragged-to-sprint","open-ticket","ticket-moved-to-backlog","open-create-ticket"],setup(i,{emit:o}){const{theme:C}=Ye(),T=o,E=i,{workspaceId:k}=mt(),{data:l,isPending:w}=We(k),h=D([]),L=D(!1),z=D([]),V=D([]);q(l,a=>{a!=null&&a.cards&&(h.value=a.cards.map(e=>{var U,u,_,oe;const t=((U=e.card)==null?void 0:U.variables)??{},r=((u=e.card)==null?void 0:u._id)??e.card_id,x=String(t["card-status"]??"").trim(),v=String(t.priority??"").trim();return{id:r,key:t["card-code"]||(r==null?void 0:r.slice(-6))||"PRJ-?",summary:t["card-title"]||"(untitled)",type:"Story",status:x,assignee:((_=e.card)==null?void 0:_.assigned_to)??"Unassigned",storyPoints:Number(e.story_points??0)||0,priority:M(v),createdAt:((oe=e.card)==null?void 0:oe.created_at)??new Date().toISOString(),description:t["card-description"]||""}}))},{immediate:!0}),q(h,a=>{const e=new Set(a.map(t=>t.id));V.value=V.value.filter(t=>e.has(t))});const O=$(()=>{if(console.log(E.searchQuery,"this is query"),!E.searchQuery)return h.value;const a=E.searchQuery.toLowerCase();return h.value.filter(e=>{var r;const t=typeof e.assignee=="string"?e.assignee:((r=e.assignee)==null?void 0:r.u_full_name)||"";return e.key.toLowerCase().includes(a)||e.summary.toLowerCase().includes(a)||t.toLowerCase().includes(a)})});function M(a){const e=String(a??"").toLowerCase();return["highest","blocker","critical"].includes(e)?"Highest":["high","major"].includes(e)?"High":["medium","normal"].includes(e)?"Medium":"Low"}function N(a,e,t){var U;const r=V.value.includes(e.id)?[...V.value]:[e.id],x=r.map(u=>h.value.find(_=>_.id===u)).filter(Boolean);z.value=r;const v=JSON.stringify({id:e.id,ids:r,from:t,tickets:x});(U=a.dataTransfer)==null||U.setData("text/plain",v),a.dataTransfer&&(a.dataTransfer.effectAllowed="move")}function Q(a){var e;L.value=!1,((e=a.dataTransfer)==null?void 0:e.dropEffect)!=="none"&&z.value.length&&(h.value=h.value.filter(t=>!z.value.includes(t.id)),V.value=V.value.filter(t=>!z.value.includes(t))),z.value=[]}function H(a){var e;a.preventDefault(),L.value=!1;try{const t=(e=a.dataTransfer)==null?void 0:e.getData("text/plain");if(!t)return;const r=JSON.parse(t);if(r.from!=="sprint")return;const v=(r.tickets&&r.tickets.length?r.tickets:r.ticket?[r.ticket]:[]).filter(Boolean).filter(u=>!h.value.some(_=>_.id===u.id));v.length&&h.value.push(...v);const U=r.ids&&r.ids.length?r.ids:r.id?[r.id]:[];U.length&&T("ticket-moved-to-backlog",U,r.sprintId),console.log(r.sprintId,"sprintId ....")}catch(t){console.error("Drop error:",t)}}function j(a,e){e?V.value.includes(a)||V.value.push(a):V.value=V.value.filter(t=>t!==a)}function d(a,e){const t=e.target.checked;j(a,t)}return q(()=>E.checkedAll,a=>{a?(V.value=h.value.map(e=>e.id),console.log(V.value)):V.value=[]}),(a,e)=>(m(),y("section",ia,[s("div",{class:W(["rounded-lg flex flex-col h-full",L.value?"ring-2 ring-blue-400":""]),onDragover:e[3]||(e[3]=fe(()=>{},["prevent"])),onDragenter:e[4]||(e[4]=t=>L.value=!0),onDragleave:e[5]||(e[5]=t=>L.value=!1),onDrop:e[6]||(e[6]=t=>H(t))},[!b(w)&&O.value.length===0?(m(),y("div",da,[e[7]||(e[7]=s("img",{src:Zt,class:"mb-4",alt:"backlog-plan"},null,-1)),e[8]||(e[8]=s("h6",{class:"text-sm text-text-primary font-semibold mb-1"}," Get started in the backlog ",-1)),e[9]||(e[9]=s("p",{class:"text-sm text-text-primary/90 mb-4"}," Plan and start a sprint to see issues here. ",-1)),s("button",{onClick:e[0]||(e[0]=t=>a.$emit("open-create-ticket")),class:"relative cursor-pointer inline-flex items-center justify-center font-medium py-1.5 px-3 text-sm rounded-md focus:outline-none transition text-xs px-3 py-1.5 h-[34px] bg-accent text-white hover:bg-accent-hover border-border-input border"}," Create Ticket ")])):(m(),y("div",ua,[s("div",ca,[(m(!0),y(ve,null,we(O.value,t=>{var r,x;return m(),y("div",{key:t.id,draggable:"true",class:W(["flex items-center  gap-3 p-[8px] cursor-pointer transition-colors rounded-[8px]",V.value.includes(t.id)?"border-2 border-[#5a2d7f]":"border border-border-input",b(C)==="dark"?"bg-bg-body hover:bg-bg-surface":"bg-bg-charcoal hover:bg-bg-body"]),onDragstart:v=>N(v,t,"backlog"),onDragend:e[2]||(e[2]=v=>Q(v)),onClick:v=>a.$emit("open-ticket",t)},[s("input",{type:"checkbox",class:"custom-checkbox bg-bg-body border border-border-input flex-shrink-0",checked:V.value.includes(t.id),onClick:e[1]||(e[1]=fe(()=>{},["stop"])),onChange:v=>d(t.id,v)},null,40,ma),s("div",va,[s("span",fa,F(t.summary),1)]),s("div",ga,[(t==null?void 0:t.assignee)==="Unassigned"?(m(),y("span",ba,"UA")):(r=t==null?void 0:t.assignee)!=null&&r.u_profile_image?(m(),y("div",xa,[s("img",{src:t.assignee.u_profile_image,alt:""},null,8,ya)])):(m(),y("span",ha,F(b(vt)((x=t==null?void 0:t.assignee)==null?void 0:x.u_full_name)),1))])],42,pa)}),128))])]))],34)]))}}),ka=Ge(_a,[["__scopeId","data-v-0504a8fd"]]),Sa="data:image/svg+xml,%3csvg%20width='60'%20height='60'%20viewBox='0%200%2060%2060'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20opacity='0.4'%3e%3cpath%20d='M9.375%2030C11.6402%2030%2013.4766%2028.1637%2013.4766%2025.8984C13.4766%2023.6332%2011.6402%2021.7969%209.375%2021.7969C7.10977%2021.7969%205.27344%2023.6332%205.27344%2025.8984C5.27344%2028.1637%207.10977%2030%209.375%2030Z'%20fill='%23AE2A19'/%3e%3cpath%20d='M26.25%2024.375C28.5152%2024.375%2030.3516%2022.5387%2030.3516%2020.2734C30.3516%2018.0082%2028.5152%2016.1719%2026.25%2016.1719C23.9848%2016.1719%2022.1484%2018.0082%2022.1484%2020.2734C22.1484%2022.5387%2023.9848%2024.375%2026.25%2024.375Z'%20fill='%23BF63F3'/%3e%3cpath%20d='M15.3931%2035.8594H11.0159V33.0938C9.93587%2033.3387%208.81469%2033.3387%207.73465%2033.0938V35.8594H1.87528C1.55115%2035.8601%201.2345%2035.9568%200.965283%2036.1373C0.696064%2036.3178%200.486343%2036.574%200.362583%2036.8736C0.238824%2037.1731%200.206573%2037.5027%200.269899%2037.8205C0.333226%2038.1384%200.489292%2038.4304%200.718404%2038.6597L7.05872%2045L0.718404%2051.3403C0.489292%2051.5696%200.333226%2051.8616%200.269899%2052.1795C0.206573%2052.4973%200.238824%2052.8269%200.362583%2053.1264C0.486343%2053.426%200.696064%2053.6822%200.965283%2053.8627C1.2345%2054.0432%201.55115%2054.1399%201.87528%2054.1406H15.3931L21.7503%2045L15.3931%2035.8594Z'%20fill='%2382B536'/%3e%3cpath%20d='M34.4562%2035.8594H27.8937V27.4688C26.8137%2027.7138%2025.6925%2027.7138%2024.6125%2027.4688V35.8594H19.3896L25.7487%2045L19.3896%2054.1406H34.4562L40.8143%2045L34.4562%2035.8594Z'%20fill='%2382B536'/%3e%3cpath%20d='M43.8281%2019.6875H55.3125C55.7475%2019.6873%2056.1647%2019.5143%2056.4723%2019.2067C56.7799%2018.8991%2056.9529%2018.4819%2056.9531%2018.0469V9.375C56.9529%208.93996%2056.7799%208.5228%2056.4723%208.21518C56.1647%207.90755%2055.7475%207.73462%2055.3125%207.73438H43.8281V7.5C43.8281%207.06488%2043.6553%206.64758%2043.3476%206.3399C43.0399%206.03223%2042.6226%205.85938%2042.1875%205.85938C41.7524%205.85938%2041.3351%206.03223%2041.0274%206.3399C40.7197%206.64758%2040.5469%207.06488%2040.5469%207.5V32.5781H43.8281V19.6875Z'%20fill='%23FCA700'/%3e%3cpath%20d='M59.2843%2043.8403L51.7843%2036.3403C51.6322%2036.1878%2051.4514%2036.0668%2051.2524%2035.9842C51.0534%2035.9017%2050.8401%2035.8593%2050.6246%2035.8594H38.4521L44.8121%2045L38.4531%2054.1406H50.6246C50.8401%2054.1407%2051.0534%2054.0983%2051.2524%2054.0158C51.4514%2053.9332%2051.6322%2053.8122%2051.7843%2053.6597L59.2843%2046.1597C59.4368%2046.0075%2059.5577%2045.8267%2059.6402%2045.6277C59.7228%2045.4287%2059.7652%2045.2154%2059.7652%2045C59.7652%2044.7846%2059.7228%2044.5713%2059.6402%2044.3723C59.5577%2044.1733%2059.4368%2043.9925%2059.2843%2043.8403Z'%20fill='%2382B536'/%3e%3c/g%3e%3c/svg%3e",Ca={class:"h-full min-h-0"},wa={key:0,class:"overflow-y-auto h-[calc(100%-50px)] tickets-scroll"},Da={class:"flex flex-col flex-1 gap-[4px] min-w-0 me-1"},Va=["onDragstart","onClick"],$a=["checked","onChange"],Ta={class:"flex items-center text-[14px] font-sans font-medium capitalize text-text-secondary flex-1 min-w-0"},La={class:"truncate"},Ea={class:"flex-shrink-0"},Ba={key:0,class:"flex justify-center text-gray-500 items-center text-[11px] aspect-square w-[24px] h-[24px] bg-bg-body rounded-full border-border-input border-2"},Ma={key:1,class:"w-6 h-6 rounded-full"},Pa=["src"],Oa={key:2,class:"text-[11px] aspect-square w-[24px] flex justify-center items-center h-[24px] bg-accent/30 text-accent border-accent border rounded-full"},Ua={key:1,class:"empty-state flex flex-col justify-center items-center border-dashed border-3 p-2 border-border h-[calc(100%-50px)] min-h-0"},Aa=ke({__name:"SprintCard",props:{sprint:{},sprintId:{},searchQuery:{},checkedSprintAll:{}},emits:["edit-sprint","toggle-start","open-ticket","move-selected-to-backlog","delete-selected-sprint","refresh"],setup(i,{emit:o}){const{theme:C}=Ye(),T=i,E=o,k=D([]),l=D([]);q(()=>T.sprint.tickets,d=>{k.value=[...d||[]];const a=new Set(k.value.map(e=>e.id));l.value=l.value.filter(e=>a.has(e))},{immediate:!0,deep:!0});const w=$(()=>{var a;const d=((a=T.searchQuery)==null?void 0:a.toLowerCase())||"";return d?k.value.filter(e=>{var r;const t=((r=e.assignee)==null?void 0:r.u_full_name)??"";return e.key.toLowerCase().includes(d)||e.summary.toLowerCase().includes(d)||t.toLowerCase().includes(d)}):k.value}),h=D(!1),L=D([]),{mutate:z}=yt({onSuccess:()=>{De.success("Card moved to sprint successfully"),E("refresh")},onError:d=>{De.error("Failed to move card: "+(d.message||"Unknown error"))}});function V(d,a,e,t){var U;const r=l.value.includes(a.id)?[...l.value]:[a.id],x=r.map(u=>k.value.find(_=>_.id===u)).filter(Boolean);L.value=r;const v=JSON.stringify({id:a.id,ids:r,from:e,sprintId:t,ticket:a,tickets:x});(U=d.dataTransfer)==null||U.setData("text/plain",v),d.dataTransfer&&(d.dataTransfer.effectAllowed="move")}function O(d){var a;h.value=!1,((a=d.dataTransfer)==null?void 0:a.dropEffect)!=="none"&&L.value.length&&(k.value=k.value.filter(e=>!L.value.includes(e.id)),l.value=l.value.filter(e=>!L.value.includes(e))),L.value=[]}function M(){h.value=!0}function N(){h.value=!1}function Q(d){var a;d.preventDefault(),h.value=!1;try{const e=(a=d.dataTransfer)==null?void 0:a.getData("text/plain");if(!e)return;const t=JSON.parse(e);if(t.from!=="backlog")return;const x=(t.tickets&&t.tickets.length?t.tickets:t.ticket?[t.ticket]:[]).filter(Boolean).filter(v=>!k.value.some(U=>U.id===v.id));if(!x.length)return;k.value.push(...x),x.forEach(v=>{z({id:T.sprintId,payload:{card_ids:[v.id],priority:(v.priority||"Medium").toLowerCase(),story_points:v.storyPoints||0}})})}catch(e){console.error("Drop error:",e)}}function H(d,a){a?l.value.includes(d)||l.value.push(d):l.value=l.value.filter(e=>e!==d)}function j(d,a){const e=a.target.checked;H(d,e)}return q(()=>T.checkedSprintAll,d=>{d?(l.value=w.value.map(a=>a.id),console.log(w.value)):l.value=[]}),(d,a)=>(m(),y("div",Ca,[s("div",{class:W([h.value?"ring-2 ring-blue-400 rounded-lg":"","h-full box-border"]),onDragover:a[2]||(a[2]=fe(()=>{},["prevent"])),onDragenter:M,onDragleave:N,onDrop:Q},[w.value.length>0?(m(),y("div",wa,[s("div",Da,[(m(!0),y(ve,null,we(w.value,e=>{var t,r;return m(),y("div",{key:e.id,draggable:"true",class:W(["flex items-center  gap-3 p-[8px] cursor-pointer transition-colors rounded-[8px]",l.value.includes(e.id)?"border-2 border-[#5a2d7f]":"border border-border-input",b(C)==="dark"?"bg-bg-body hover:bg-bg-surface":"bg-bg-charcoal hover:bg-bg-body"]),onDragstart:x=>V(x,e,"sprint",d.sprint.id),onDragend:a[1]||(a[1]=x=>O(x)),onClick:x=>d.$emit("open-ticket",e)},[s("input",{type:"checkbox",class:W(["custom-checkbox border border-border-input flex-shrink-0",b(C)==="dark"?"bg-bg-charcoal":"bg-bg-body "]),checked:l.value.includes(e.id),onClick:a[0]||(a[0]=fe(()=>{},["stop"])),onChange:x=>j(e.id,x)},null,42,$a),s("div",Ta,[s("span",La,F(e.summary),1)]),s("div",Ea,[(e==null?void 0:e.assignee)=="Unassigned"?(m(),y("span",Ba,"UA")):(t=e.assignee)!=null&&t.u_profile_image?(m(),y("div",Ma,[s("img",{src:e.assignee.u_profile_image,alt:""},null,8,Pa)])):(m(),y("span",Oa,F(b(vt)(((r=e.assignee)==null?void 0:r.u_full_name)??"")),1))])],42,Va)}),128))])])):(m(),y("div",Ua,a[3]||(a[3]=[$t('<img src="'+Sa+'" class="mb-4" alt="backlog-plan" data-v-b799e3bb><h6 class="text-sm text-text-primary font-semibold mb-1 text-center" data-v-b799e3bb> Plan your sprint </h6><p class="text-sm text-text-primary/90 mb-3 max-w-120 text-center" data-v-b799e3bb> Drag work items from the <span class="font-bold" data-v-b799e3bb>Backlog</span> section or create new ones to plan the work for this sprint. Select <span class="font-bold" data-v-b799e3bb>Start sprint</span> when you&#39;re ready. </p>',3)])))],34)]))}}),Ia=Ge(Aa,[["__scopeId","data-v-b799e3bb"]]),qa={class:"px-6 gap-4 bg-bg-input pt-5 pb-8"},Na={class:"mt-3"},Fa={class:"flex justify-end gap-2 p-6 sticky bottom-0 bg-bg-input border-t border-border"},za=ke({__name:"SprintModal",props:{modelValue:{type:Boolean,default:!1},sprint:{},creatingSprint:{type:Boolean}},emits:["update:modelValue","save","close"],setup(i,{emit:o}){const C=o,T=i,E=$({get:()=>T.modelValue,set:O=>C("update:modelValue",O)}),k=he({name:"",description:""}),l=he({name:!1}),w=$(()=>l.name&&!String(k.name||"").trim()?"Name is required":""),h=$(()=>!!String(k.name||"").trim()&&!w.value);function L(){E.value=!1,C("close")}function z(){l.name=!0,h.value&&C("save",{name:String(k.name||"").trim(),description:String(k.description||"").trim()})}function V(){l.name=!1}return q(()=>T.sprint,O=>{if(!O){k.name="";return}k.name=O.name??(O==null?void 0:O.title)??"",k.description=O.description??"",V()},{immediate:!0}),(O,M)=>(m(),Y(Je,{modelValue:E.value,"onUpdate:modelValue":M[3]||(M[3]=N=>E.value=N),modalClass:"!py-0",size:"md"},{default:G(()=>[M[6]||(M[6]=s("div",{class:"sticky top-0 z-10 flex flex-col items-start pt-6 px-6 border-b border-border bg-bg-input pb-4"},[s("h2",{class:"text-xl font-semibold"},"Add New Sprint")],-1)),s("div",qa,[P(Ze,{class:"rounded-1",modelValue:k.name,"onUpdate:modelValue":M[0]||(M[0]=N=>k.name=N),label:"Name",placeholder:"Sprint 1",error:!!w.value,message:w.value,onBlur:M[1]||(M[1]=N=>l.name=!0)},null,8,["modelValue","error","message"]),s("div",Na,[P(zt,{modelValue:k.description,"onUpdate:modelValue":M[2]||(M[2]=N=>k.description=N),label:"Description",placeholder:"Sprint description...",type:"textarea",rows:4},null,8,["modelValue"])]),M[4]||(M[4]=s("div",null,null,-1))]),s("div",Fa,[P(ue,{variant:"secondary",onClick:L},{default:G(()=>M[5]||(M[5]=[ae("Cancel")])),_:1,__:[5]}),P(ue,{variant:"primary",disabled:!h.value,onClick:z},{default:G(()=>[ae(F(O.creatingSprint?"Saving...":"Save"),1)]),_:1},8,["disabled"])])]),_:1,__:[6]},8,["modelValue"]))}}),Ha="/assets/filter-MwNDfWa5.svg",ja={class:"px-6 grid grid-cols-2 gap-4 bg-bg-input pt-5"},Ra={class:"flex flex-col col-span-2"},Qa={class:"flex flex-col col-span-2"},Ka={class:"flex gap-1 flex-col"},Wa={key:0,class:"text-xs text-red-500"},Ga={class:"flex gap-1 flex-col"},Za={key:0,class:"text-xs text-red-500"},Ja={class:"flex flex-col col-span-2"},Xa={class:"flex flex-col col-span-2"},Ya={class:"bg-bg-body wfull px-4 py-3 rounded-lg text-xs text-text-secondary"},es={class:"flex justify-end gap-2 p-6 sticky bottom-0 bg-bg-input"},ts=ke({__name:"StartSprintModal",props:{modelValue:{type:Boolean,default:!1},sprint:{},creatingSprint:{type:Boolean}},emits:["update:modelValue","save","close"],setup(i,{emit:o}){const C=o,T=i,E=[{_id:1,title:"1 Week"},{_id:2,title:"2 Weeks"},{_id:3,title:"3 Weeks"},{_id:4,title:"4 Weeks"},{_id:5,title:"Custom"}],k=$({get:()=>T.modelValue,set:e=>C("update:modelValue",e)}),l=he({goal:"",start:new Date().toISOString().slice(0,10),end:"",sprint_name:"",duration:null}),w=he({start:!1,end:!1}),h=$(()=>!l.start&&w.start?"Start date is required":""),L=$(()=>{if(!l.end&&w.end)return"End date is required";if(l.start&&l.end){const e=H(l.start),t=H(l.end);if(Number.isFinite(e)&&Number.isFinite(t)&&t<e)return"End date cannot be before start date"}return""}),z=$(()=>!h.value&&!L.value);function V(e){l.start=e||"",w.start=!0}function O(e){l.end=e||"",w.end=!0}function M(){k.value=!1,C("close")}function N(){w.start=!0,w.end=!0,z.value&&(C("save",{title:l.sprint_name||"new sprint",duration:String(a.value)||null,start:l.start||"",end:l.end||"",goal:l.goal??""}),k.value=!1,C("close"))}function Q(){w.start=!1,w.end=!1}function H(e){return e?new Date(`${e}T00:00:00`).getTime():NaN}const j=$(()=>l.duration===5);q(()=>l.duration,e=>{if(!e)return;const t=typeof e=="object"?e._id:e;if(t!==5&&l.start){const r=d(l.start,t*7);l.end=r}}),q(()=>l.start,e=>{e&&(l.duration&&l.duration!==5&&(l.end=d(l.start,l.duration*7)),l.end&&H(l.end)<H(l.start)&&(l.end=l.start))});function d(e,t){const r=new Date(e);return r.setDate(r.getDate()+t),r.toISOString().slice(0,10)}const a=$(()=>!l.start||!l.end?0:l.duration!==5?l.duration*7:(H(l.end)-H(l.start))/864e5);return q(()=>T.sprint,e=>{if(!e){l.start=new Date().toISOString().slice(0,10),l.end="",l.sprint_name="",l.goal="",Q();return}l.goal=e.goal??"",l.start=e.start??new Date().toISOString().slice(0,10),l.end=e.end??"",l.sprint_name=e.title??"",Q()},{immediate:!0}),(e,t)=>(m(),Y(Je,{modelValue:k.value,"onUpdate:modelValue":t[3]||(t[3]=r=>k.value=r),modalClass:"!py-0",size:"md"},{default:G(()=>[s("div",{class:"sticky top-0 z-10 flex justify-between items-center py-6 px-6 border-b border-border bg-bg-input"},[t[5]||(t[5]=s("h2",{class:"text-xl font-semibold"},"Start Sprint",-1)),s("span",{onClick:M,class:"text-sm text-text-secondary cursor-pointer"},t[4]||(t[4]=[s("i",{class:"fa-solid fa-xmark text-text-primary text-[19px]"},null,-1)]))]),s("div",ja,[s("div",Ra,[P(Ze,{modelValue:l.sprint_name,"onUpdate:modelValue":t[0]||(t[0]=r=>l.sprint_name=r),label:"Sprint Name",placeholder:"Enter sprint name",size:"md",class:"rounded-1"},null,8,["modelValue"])]),s("div",Qa,[P(Qe,{modelValue:l.duration,"onUpdate:modelValue":t[1]||(t[1]=r=>l.duration=r),options:E,label:"Duration",placeholder:"Select duration"},null,8,["modelValue"])]),s("div",Ka,[t[7]||(t[7]=s("label",{class:"text-sm font-medium"},"Start date",-1)),s("div",{class:W(["border relative flex items-center border-border h-10 px-2 bg-bg-input rounded-lg",h.value?"border-red-500":""])},[P(je,{placeholder:"Set start date",class:"w-full z-1","model-value":l.start,"emit-as":"ymd","onUpdate:modelValue":V},null,8,["model-value"]),t[6]||(t[6]=s("i",{class:"fa-regular fa-calendar absolute right-2 top-3 z-0"},null,-1))],2),h.value?(m(),y("p",Wa,F(h.value),1)):se("",!0)]),s("div",Ga,[t[8]||(t[8]=s("label",{class:"text-sm font-medium"},"End date",-1)),s("div",{class:W(["border relative flex items-center border-border h-10 px-2 bg-bg-input rounded-lg",L.value?"border-red-500":""])},[P(je,{placeholder:"Set end date",class:"w-full","model-value":l.end,"emit-as":"ymd",disabled:!j.value,"onUpdate:modelValue":O,"min-date":l.start},null,8,["model-value","disabled","min-date"]),s("i",{class:W(["fa-regular fa-calendar absolute right-2 top-3 z-0",{"text-text-secondary/30 pointer-events-none":!j.value,"text-text-primary":j.value}])},null,2)],2),L.value?(m(),y("p",Za,F(L.value),1)):se("",!0)]),s("div",Ja,[t[9]||(t[9]=s("label",{class:"text-sm font-medium pb-1"},"Goal (optional)",-1)),Ve(s("textarea",{"onUpdate:modelValue":t[2]||(t[2]=r=>l.goal=r),class:"w-full text-sm rounded-md border border-border px-3 py-2 bg-bg-input",rows:"2",placeholder:"Ship onboarding flow"},null,512),[[Tt,l.goal]])]),s("div",Xa,[s("p",Ya," Duration: "+F(l.start?a.value+" days":""),1)])]),s("div",es,[P(ue,{variant:"secondary",onClick:M},{default:G(()=>t[10]||(t[10]=[ae("Cancel")])),_:1,__:[10]}),P(ue,{variant:"primary",disabled:!z.value,onClick:N},{default:G(()=>[ae(F(e.creatingSprint?"Starting...":"Start"),1)]),_:1},8,["disabled"])])]),_:1},8,["modelValue"]))}}),as={class:"sticky top-0 z-10 flex flex-col items-start pt-6 px-6 border-b border-border bg-bg-body pb-4 mb-4"},ss={class:"text-sm text-text-secondary mt-1"},ls={class:"flex items-center gap-2 mt-4 w-full"},rs={class:"flex items-center gap-2 flex-1"},ns={class:"px-6 min-h-[400px]"},os={key:0},is={key:0,class:"flex items-center justify-center py-12"},ds={key:1,class:"text-center py-12 text-text-secondary"},us={key:2,class:"grid grid-cols-2 gap-3"},cs=["onClick"],ps={class:"flex items-center gap-3"},ms={class:"w-10 h-10 rounded-lg bg-bg-input flex items-center justify-center group-hover:bg-primary/10 transition-colors"},vs={class:"font-medium"},fs={key:1},gs={key:0,class:"flex items-center justify-center py-12"},bs={key:1,class:"text-center py-12 text-text-secondary"},xs={key:2,class:"grid grid-cols-2 gap-3"},ys=["onClick"],hs={class:"flex items-center gap-3"},_s={class:"w-10 h-10 rounded-lg bg-bg-input flex items-center justify-center group-hover:bg-primary/10 transition-colors"},ks={class:"font-medium"},Ss={key:2},Cs={class:"grid grid-cols-2 gap-4"},ws={key:0,class:"flex flex-col"},Ds={class:"flex gap-1 flex-col"},Vs={key:0,class:"text-xs text-red-500"},$s={class:"flex gap-1 flex-col"},Ts={key:0,class:"text-xs text-red-500"},Ls={class:"mt-4"},Es={key:0,class:"text-xs text-red-500 mt-1 px-1"},Bs={class:"flex justify-between gap-2 p-6 mt-8 sticky bottom-0 bg-bg-body border-t border-border"},Ms={key:1},Ps={class:"flex gap-2"},Os=ke({__name:"CreateBacklogTicketWithModuleSelection",props:{modelValue:{type:Boolean,default:!1},listId:{},selectedVariable:{}},emits:["update:modelValue","created"],setup(i,{emit:o}){const C=o,T=i,E=Xe(),{workspaceId:k}=ft(),l=D(1),w=D(null),h=D(null),{data:L,isLoading:z}=Lt(k.value),V=$(()=>{var p;return((p=L.value)==null?void 0:p.modules)||[]}),{data:O,isFetching:M,refetch:N}=gt({workspace_module_id:w,workspace_id:k},{enabled:$(()=>!!w.value)});q(()=>w.value,()=>{N()});const Q=$(()=>O.value||[]),{data:H}=Et(k.value),{data:j}=bt(k.value,w,{enabled:$(()=>!!w.value)}),{mutate:d,isPending:a}=Bt({onSuccess:()=>{re(),E.invalidateQueries({queryKey:["sheet-list"]}),E.invalidateQueries({queryKey:["backlog-list"]}),e.value=!1}}),e=$({get:()=>T.modelValue,set:p=>C("update:modelValue",p)}),t=$(()=>{switch(l.value){case 1:return"Select a module to create the ticket in";case 2:return"Select a sheet within the module";case 3:return"Provide the ticket details below and click Add Ticket";default:return""}}),r=$(()=>((j==null?void 0:j.value)??[]).filter(p=>{var f;return((f=p==null?void 0:p.type)==null?void 0:f.title)==="Select"})),x=p=>p.map(f=>({_id:f,title:f})),v=$(()=>((H==null?void 0:H.value)??[]).map(p=>{var f;return{_id:p._id,title:((f=p==null?void 0:p.variables)==null?void 0:f["lane-title"])??String(p._id)}})),U=p=>p.slug,u=he({title:"",description:"",startDate:null,endDate:null,lane_id:null,variables:{}});q(r,p=>{for(const f of p){const g=U(f);g in u.variables||(u.variables[g]=null)}},{immediate:!0});const _=he({title:!1,description:!1,startDate:!1,endDate:!1,lane:!1}),oe=$(()=>!!u.title.trim()&&!!u.lane_id&&!!u.startDate&&!!u.endDate&&!ie.value&&!J.value&&!ce.value&&!be.value&&!S.value);function $e(p){u.startDate=p,_.startDate=!0}function Se(p){u.endDate=p,_.endDate=!0}function K(p){u.lane_id=p,_.lane=!0}function Ce(p){w.value=p._id,l.value=2}function ee(p){h.value=p._id,l.value=3}function Z(){l.value>1&&l.value--}function Te(){e.value=!1,re()}function re(){l.value=1,w.value=null,h.value=null,u.title="",u.description="",u.startDate=null,u.endDate=null,u.lane_id=null,u.variables={},_.title=!1,_.description=!1,_.startDate=!1,_.endDate=!1,_.lane=!1}const ge=$(()=>{var p;return(p=j==null?void 0:j.value)==null?void 0:p.find(f=>(f==null?void 0:f._id)==T.selectedVariable)}),ie=$(()=>_.title&&!u.title.trim()?"Title is required":""),J=$(()=>_.startDate?u.startDate?"":"Start date is required":""),ce=$(()=>_.endDate?u.endDate?u.startDate&&u.endDate&&u.endDate<u.startDate?"End date cannot be before start date":"":"End date is required":""),be=$(()=>_.lane?u.lane_id?"":"Lane is required":""),S=$(()=>_.description&&!u.description.trim()?"Description is required":"");function B(){var f;if(_.title=!0,_.lane=!0,_.description=!0,_.startDate=!0,_.endDate=!0,!oe.value||a.value)return;const p={sheet_list_id:T.listId,workspace_id:k.value,sheet_id:h.value,workspace_lane_id:u.lane_id,variables:{...u.variables,[`${(f=ge.value)==null?void 0:f.slug}`]:T.listId,"card-title":u.title.trim(),"card-description":u.description.trim(),"start-date":u.startDate,"end-date":u.endDate},createdAt:new Date().toISOString()};d(p)}return q(()=>u.title,p=>{p!=null&&p.trim()&&_.title&&(_.title=!1)}),q(()=>u.lane_id,p=>{p&&_.lane&&(_.lane=!1)}),q(()=>u.startDate,p=>{p&&_.startDate&&(_.startDate=!1)}),q(()=>u.endDate,p=>{p&&_.endDate&&(_.endDate=!1)}),q(()=>u.description,p=>{p!=null&&p.trim()&&_.description&&(_.description=!1)}),(p,f)=>(m(),Y(Je,{modelValue:e.value,"onUpdate:modelValue":f[4]||(f[4]=g=>e.value=g),modalClass:"!py-0",size:"lg"},{default:G(()=>[s("div",as,[f[5]||(f[5]=s("h2",{class:"text-xl font-semibold"},"Create Backlog Ticket",-1)),s("p",ss,F(t.value),1),s("div",ls,[(m(),y(ve,null,we(3,g=>s("div",{key:g,class:"flex items-center flex-1"},[s("div",rs,[s("div",{class:W(["h-1 flex-1 rounded-full transition-colors",l.value>=g?"bg-primary":"bg-border"])},null,2)])])),64))])]),s("div",ns,[l.value===1?(m(),y("div",os,[f[7]||(f[7]=s("h3",{class:"text-lg font-medium mb-4"},"Select Module",-1)),b(z)?(m(),y("div",is,f[6]||(f[6]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},null,-1)]))):!V.value||V.value.length===0?(m(),y("div",ds," No modules available ")):(m(),y("div",us,[(m(!0),y(ve,null,we(V.value,g=>{var te,ne,A,xe,de;return m(),y("button",{key:g._id,onClick:Le=>Ce(g),class:W(["p-4 border rounded-lg hover:border-primary transition-all text-left group",w.value===g._id?"border-primary bg-primary/5":"border-border"])},[s("div",ps,[s("div",ms,[s("i",{class:W([`${(ne=(te=g==null?void 0:g.variables)==null?void 0:te["module-icon"])==null?void 0:ne.prefix} ${(xe=(A=g==null?void 0:g.variables)==null?void 0:A["module-icon"])==null?void 0:xe.iconName}`,"text-lg"])},null,2)]),s("div",null,[s("p",vs,F(((de=g.variables)==null?void 0:de["module-title"])||"Untitled"),1)])])],10,cs)}),128))]))])):l.value===2?(m(),y("div",fs,[f[9]||(f[9]=s("h3",{class:"text-lg font-medium mb-4"},"Select Sheet",-1)),b(M)?(m(),y("div",gs,f[8]||(f[8]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},null,-1)]))):!Q.value||Q.value.length===0?(m(),y("div",bs," No sheets available for this module ")):(m(),y("div",xs,[(m(!0),y(ve,null,we(Q.value,g=>{var te,ne;return m(),y("button",{key:g._id,onClick:A=>ee(g),class:W(["p-4 border rounded-lg hover:border-primary transition-all text-left group",h.value===g._id?"border-primary bg-primary/5":"border-border"])},[s("div",hs,[s("div",_s,[s("i",{class:W(`${(te=g==null?void 0:g.variables["sheet-icon"])==null?void 0:te.prefix} ${(ne=g==null?void 0:g.variables["sheet-icon"])==null?void 0:ne.iconName} text-lg`)},null,2)]),s("div",null,[s("p",ks,F((g==null?void 0:g.variables["sheet-title"])||"Untitled Sheet"),1)])])],10,ys)}),128))]))])):l.value===3?(m(),y("div",Ss,[f[12]||(f[12]=s("h3",{class:"text-lg font-medium mb-4"},"Ticket Details",-1)),s("div",Cs,[P(Ze,{modelValue:u.title,"onUpdate:modelValue":f[0]||(f[0]=g=>u.title=g),label:"Ticket Title",placeholder:"e.g., Implement real-time notifications",error:!!ie.value,message:ie.value,onBlur:f[1]||(f[1]=g=>_.title=!0)},null,8,["modelValue","error","message"]),v.value.length>0?(m(),y("div",ws,[P(Qe,{size:"md",label:"Lane",options:v.value,placeholder:"Select lane",allowCustom:!1,"model-value":u.lane_id,"onUpdate:modelValue":K,error:!!be.value,message:be.value},null,8,["options","model-value","error","message"])])):se("",!0),(m(!0),y(ve,null,we(r.value,g=>Ve((m(),Y(Qe,{size:"md",key:U(g),modelValue:u.variables[g.slug],"onUpdate:modelValue":te=>u.variables[g.slug]=te,options:x(g.data),label:g.title,placeholder:"Select value",allowCustom:!0},null,8,["modelValue","onUpdate:modelValue","options","label"])),[[Ke,(g==null?void 0:g._id)!=p.selectedVariable]])),128)),s("div",Ds,[f[10]||(f[10]=s("label",{class:"text-sm"},"Start date",-1)),s("div",{class:W(["border flex items-center border-border h-10 px-2 bg-bg-input rounded-lg",J.value?"border-red-500":""])},[P(je,{placeholder:"Set start date",class:"w-full","model-value":u.startDate,"emit-as":"ymd","onUpdate:modelValue":$e},null,8,["model-value"])],2),J.value?(m(),y("p",Vs,F(J.value),1)):se("",!0)]),s("div",$s,[f[11]||(f[11]=s("label",{class:"text-sm"},"End date",-1)),s("div",{class:W(["border flex items-center border-border h-10 px-2 bg-bg-input rounded-lg",ce.value?"border-red-500":""])},[P(je,{placeholder:"Set end date",class:"w-full","model-value":u.endDate,"emit-as":"ymd","onUpdate:modelValue":Se},null,8,["model-value"])],2),ce.value?(m(),y("p",Ts,F(ce.value),1)):se("",!0)])]),s("div",Ls,[P(Mt,{label:"Description",placeholder:"What needs to be done, acceptance criteria, links…",modelValue:u.description,"onUpdate:modelValue":f[2]||(f[2]=g=>u.description=g),onBlur:f[3]||(f[3]=g=>_.description=!0)},null,8,["modelValue"]),S.value?(m(),y("p",Es,F(S.value),1)):se("",!0)])])):se("",!0)]),s("div",Bs,[l.value>1?(m(),Y(ue,{key:0,variant:"secondary",onClick:Z},{default:G(()=>f[13]||(f[13]=[ae("Back")])),_:1,__:[13]})):(m(),y("div",Ms)),s("div",Ps,[P(ue,{variant:"secondary",onClick:Te},{default:G(()=>f[14]||(f[14]=[ae("Cancel")])),_:1,__:[14]}),l.value===3?(m(),Y(ue,{key:0,variant:"primary",disabled:!oe.value||b(a),onClick:B},{default:G(()=>[ae(F(b(a)?"Adding…":"Add Ticket"),1)]),_:1},8,["disabled"])):se("",!0)])])]),_:1},8,["modelValue"]))}}),Us={class:"flex gap-2 flex-auto overflow-y-auto"},As={class:"flex-auto bg-gradient-to-b from-bg-card/95 to-bg-card/90 backdrop-blur shadow-[0_10px_40px_-10px_rgba(0,0,0,.5)] flex-grow h-full bg-bg-card border border-border overflow-x-auto flex"},Is={class:"flex overflow-x-auto gap-3 p-4"},qs={key:0,class:"mx-auto text-text-secondary/80 m-2 w-[90%] h-full justify-center flex items-center border border-dashed border-border"},Ns=ke({__name:"ActiveSprint",props:{sptint_id:{},searchQuery:{}},setup(i){const o=i,C=Fe(()=>ze(()=>import("./CreateTaskModal-KfjI90pP.js"),__vite__mapDeps([0,1,2,3]))),T=Fe(()=>ze(()=>import("./ConfirmDeleteModal-B_3QLShM.js"),__vite__mapDeps([4,5,2,3]))),E=Fe(()=>ze(()=>import("./SidePanel-BiybKsMS.js"),__vite__mapDeps([6,2,3,7]))),k=Fe(()=>ze(()=>import("./KanbanBoard-BeMkEGAa.js"),__vite__mapDeps([8,9,2,3,10,5,11,12]))),l=At(),{workspaceId:w,moduleId:h}=ft(),{data:L}=gt({workspace_id:w,workspace_module_id:h}),z=$(()=>{var S;return L.value?(S=L.value[0])==null?void 0:S._id:""}),V=D(z),{data:O}=bt(w.value,h.value,V),M=Xe(),{mutate:N,isPending:Q}=Pt({onSuccess:()=>{M.invalidateQueries({queryKey:["sheet-list"]}),K.value="",ee.value=!1,Se.value=!1,ee.value=!1}}),H=S=>{N({workspace_id:w.value,module_id:h.value,variable_id:d.value,value:S})},j=$(()=>{var S;return O.value?(S=O.value[0])==null?void 0:S._id:""}),d=D(j),a=Qt(),e=$(()=>o.sptint_id),{data:t,isPending:r}=Yt(e),x=D(!1),v=D(),U=S=>{v.value=S},u=Ot(),_=Ut();function oe(S){S.type=="column"?u.mutate({payload:{workspace_id:w.value,workspace_module_id:h.value,variable_id:d.value,moved_value:S.meta.id,new_index:S.meta.newIndex}}):_.mutate({payload:{workspace_id:w.value,card_id:S.meta.moved._id,group_value:S.meta.fromColumnId,group_variable_id:d.value,new_index:S.meta.newIndex,sheet_id:V.value}})}const $e=S=>{};q(L,S=>{var B;(S==null?void 0:S.length)>0&&(V.value=(B=S[0])==null?void 0:B._id)});const Se=D(!1),K=D(""),Ce=S=>{N({workspace_id:l.params.id,module_id:l.params.module_id,new_value:S.title,value:S.oldTitle,variable_id:d.value})},ee=D(!1),Z=D(),Te=()=>{N({value:Z.value.title,workspace_id:w.value,module_id:h.value,newValue:Z.value.title,variable_id:d.value,is_trash:!0})},re=S=>{ee.value=!0,Z.value=S},ge=S=>{x.value=!0,Z.value=S},ie=$(()=>o.searchQuery),J=D("");q(ie,Gt.debounce(S=>{J.value=S},200));const ce=$(()=>{const S=t.value.flatMap(B=>B.cards.map(p=>({...p,columnId:B.title})));return new Wt(S,{keys:["card-title","card-description","card-key"],threshold:.3})}),be=$(()=>{if(!ie.value)return t.value;const S=ce.value.search(ie.value).map(B=>B.item);return t.value.map(B=>({...B,cards:S.filter(p=>p.columnId===B.title)}))});return(S,B)=>{var p,f,g,te,ne;return m(),y("div",Us,[s("div",As,[Ve(P(xt,null,null,512),[[Ke,b(r)]]),Ve(s("div",Is,[P(b(k),{onOnPlus:ge,"onDelete:column":B[0]||(B[0]=A=>re(A)),"onUpdate:column":B[1]||(B[1]=A=>Ce(A)),onReorder:oe,onAddColumn:H,"onSelect:ticket":U,board:be.value,onOnBoardUpdate:$e,variable_id:d.value,sheet_id:V.value},{"column-footer":G(A=>{var xe,de,Le,qe,Ne;return[(de=(xe=b(a))==null?void 0:xe.transitions)!=null&&de.all_allowed&&!((Ne=(qe=(Le=b(a))==null?void 0:Le.transitions)==null?void 0:qe.all_allowed)!=null&&Ne.includes(A.column.title))&&b(a).transitions.currentColumn!=A.column.title?(m(),y("div",qs," Disbale ( you can't drop here )")):se("",!0)]}),ticket:G(({ticket:A})=>[P(Kt,{selectedVar:d.value,onSelect:()=>{U(A)},ticket:A},null,8,["selectedVar","onSelect","ticket"])]),_:1},8,["board","variable_id","sheet_id"])],512),[[Ke,!b(r)]])]),P(b(T),{onClick:B[2]||(B[2]=fe(()=>{},["stop"])),modelValue:ee.value,"onUpdate:modelValue":B[3]||(B[3]=A=>ee.value=A),title:"Delete List",itemLabel:"list",itemName:(p=Z.value)==null?void 0:p.title,requireMatchText:(f=Z.value)==null?void 0:f.title,confirmText:"Delete workspace",cancelText:"Cancel",size:"md",loading:b(Q),onConfirm:Te,onCancel:B[4]||(B[4]=()=>{ee.value=!1})},null,8,["modelValue","itemName","requireMatchText","loading"]),x.value?(m(),Y(b(C),{selectedVariable:d.value,listId:(g=Z.value)==null?void 0:g.title,sheet_id:V.value,key:"createTaskModalKey",modelValue:x.value,"onUpdate:modelValue":B[5]||(B[5]=A=>x.value=A),onSubmit:B[6]||(B[6]=()=>{})},null,8,["selectedVariable","listId","sheet_id","modelValue"])):se("",!0),(te=v.value)!=null&&te._id?(m(),Y(b(E),{key:1,details:v.value,onClose:B[7]||(B[7]=()=>{U({variables:{}})}),showPanel:!!((ne=v.value)!=null&&ne._id)},null,8,["details","showPanel"])):se("",!0)])}}}),Fs={class:"flex-auto flex-grow h-full min-h-0 bg-bg-card rounded-lg border border-border overflow-x-auto flex-col flex"},zs={class:"header px-4 py-3 border-b border-border flex items-center justify-between gap-1 box-border"},Hs={class:"flex gap-3 items-center"},js={class:"relative inline-block"},Rs={key:2,class:"p-4 w-full min-w-0 box-border h-full min-h-0"},Qs={class:"flex items-center justify-between"},Ks={class:"text-sm font-semibold flex gap-2 items-center"},Ws={class:"flex items-center gap-2"},Gs={class:"h-8 w-22 flex items-center justify-center gap-2 rounded-md border cursor-pointer aspect-square text-sm border-border hover:bg-bg-body"},Zs=["src"],Js={key:0,class:"w-full h-full min-h-[250px] flex justify-center items-center"},Xs={class:"flex items-center justify-between"},Ys={class:"text-sm font-semibold flex gap-2 items-center mt-1"},el={key:0,class:"w-full h-full min-h-[250px] flex justify-center items-center"},He=400,tl=ke({__name:"Plan",setup(i){const{theme:o}=Ye(),C=D(!1),T=D(""),E=D(!1),k=D(!1),l=D(!1),w=()=>{C.value=!1},{workspaceId:h}=mt(),L=D(!1),{moveSelectedToSprint:z,moveSelectedToBacklog:V,deleteSelected:O,saveSprintMeta:M,toggleStartSprint:N}=oa(),{data:Q}=We(h),{mutate:H,isPending:j}=la({onSuccess:()=>{de.invalidateQueries({queryKey:["sprint-list"]}),a.value=!1}}),d=D(null),a=D(!1),e=()=>{var c;H((c=d.value)==null?void 0:c._id)},{mutate:t,isPending:r}=dt({onSuccess:c=>{M({name:c.title}),console.log(c,"this is testing data"),x({id:K.value,payload:{title:c.title,start_date:c.start_date,end_date:c.end_date,goal:c.goal,duration:Number(c.duration_days)}}),Z.value=!1}}),{mutate:x,isPending:v}=sa({onSuccess:()=>{ee()}}),U=c=>{console.log("helo",d.value,c),t({id:K.value,payload:{title:c.title,duration:c.duration,start_date:c.start,end_date:c.end,goal:c.goal}})},{data:u,refetch:_}=Jt(h.value),{refetch:oe,isPending:$e}=We(h),Se=$(()=>{var c,n;return(n=(c=u==null?void 0:u.value)==null?void 0:c.sprints[0])==null?void 0:n._id}),K=D(Se.value);q(()=>Se.value,c=>{K.value=c}),q(()=>K.value,c=>{var n;d.value=((n=u.value)==null?void 0:n.sprints.find(X=>X._id===c))||null});const{data:Ce,refetch:ee}=ta(K),Z=D(!1),Te=()=>{console.log(J.value,"this is sprint"),Z.value=!0},{data:re,isPending:ge,refetch:ie}=Xt(K);q(()=>ge.value,c=>{console.log(c,ge.value,">>>> laoding state changes")}),q(()=>K.value,()=>{ee()});const J=$(()=>{var X,pe;const c=(X=re==null?void 0:re.value)==null?void 0:X.backlog_items;if(!c)return null;const n=(((pe=re==null?void 0:re.value)==null?void 0:pe.backlog_items)||[]).map(R=>{var Me,Pe,Oe,Ue,Ae;const me=((Me=R==null?void 0:R.card)==null?void 0:Me.variables)||{},ye=((Pe=R==null?void 0:R.card)==null?void 0:Pe._id)||R.card_id;return{id:ye,key:me["card-code"]||(ye==null?void 0:ye.slice(-6))||"PRJ-?",summary:me["card-title"]||"(untitled)",type:"Story",status:ce(String(me["card-status"]||"").trim()),assignee:((Ue=(Oe=R==null?void 0:R.card)==null?void 0:Oe.assigned_to)==null?void 0:Ue.name)||"Unassigned",storyPoints:Number(R.story_points||0),priority:be(String(me.priority||"").trim()),createdAt:((Ae=R==null?void 0:R.card)==null?void 0:Ae.created_at)||new Date().toISOString(),description:me["card-description"]||""}});return{id:c._id,name:c.title||"Sprint 1",title:c.title,goal:"",start:"",end:"",started:!1,tickets:n}});function ce(c){const n=c.toLowerCase();return n.includes("progress")?"In Progress":n.includes("done")||n.includes("complete")?"Done":"Todo"}function be(c){const n=c.toLowerCase();return n==="highest"||n==="blocker"||n==="critical"?"Highest":n==="high"||n==="major"?"High":n==="medium"||n==="normal"?"Medium":"Low"}const{mutate:S}=ra({onSuccess:()=>{De.success("Card removed from sprint successfully"),B()},onError:c=>{De.error("Failed to remove card from sprint"),console.error("Failed to remove card from sprint:",c)}});function B(){ie(),_(),oe(),ee()}function p(c,n){const X=Array.isArray(c)?c:[c],pe=n||K.value;!pe||!X.length||X.forEach(R=>{S({sprintId:pe,cardId:R})})}const f=D(!1),g=D(null);function te(){L.value=!0,g.value=null}function ne(c){g.value=c,C.value=!0,f.value=!0}const A=D(!1);function xe(){A.value=!0}const de=Xe(),{mutate:Le,isPending:qe}=aa({onSuccess:c=>{M({name:c.title}),de.invalidateQueries({queryKey:["sprint-list"]}),A.value=!1}}),{mutate:Ne,isPending:_t}=dt({onSuccess:c=>{M({name:c.title}),de.invalidateQueries({queryKey:["sprint-list"]}),A.value=!1}});function kt(c){var n;d.value?Ne({id:(n=d.value)==null?void 0:n._id,payload:{workspace_id:h.value,title:c.name,description:c.description}}):Le({payload:{workspace_id:h.value,title:c.name,description:c.description}})}function St(){d.value=null,console.log(">>> felo"),A.value=!0}function et(c){d.value=c,A.value=!0}function tt(c){d.value=c,a.value=!0}const{mutate:Ct,isPending:wt}=ea(K,{onSuccess:()=>{ee()}}),Dt=()=>{Ct({})},Ee=D(null),Be=D(0);let Re=!1;It(()=>{if(!Ee.value)return;const c=Ee.value.offsetWidth;Be.value=c/3});function Vt(){Re=!0,document.addEventListener("mousemove",at),document.addEventListener("mouseup",st)}function at(c){if(!Re||!Ee.value)return;const n=Ee.value.getBoundingClientRect(),X=c.clientX-n.left;X<He?Be.value=He:X>n.width-He?Be.value=n.width-He:Be.value=X}function st(){Re=!1,document.removeEventListener("mousemove",at),document.removeEventListener("mouseup",st)}return(c,n)=>{var X,pe,R,me,ye,Me,Pe,Oe,Ue,Ae,lt,rt,nt,ot;return m(),y(ve,null,[s("div",Fs,[s("div",zs,[P(Ht,{modelValue:K.value,"onUpdate:modelValue":n[1]||(n[1]=I=>K.value=I),options:(X=b(u))==null?void 0:X.sprints,variant:"secondary",onEditOption:et,onDeleteOption:tt},{more:G(()=>[s("div",{onClick:n[0]||(n[0]=I=>St()),class:"capitalize border-t border-border px-4 py-2 hover:bg-bg-dropdown-menu-hover cursor-pointer flex items-center gap-1 overflow-hidden overflow-ellipsis text-nowrap"},n[19]||(n[19]=[s("i",{class:"fa-solid fa-plus"},null,-1),ae(" Add new ")]))]),_:1},8,["modelValue","options"]),s("div",Hs,[P(jt,{placeholder:"Search in sprint",onOnChange:n[2]||(n[2]=I=>{T.value=I})}),((pe=b(Ce))==null?void 0:pe.status)=="active"?(m(),Y(ue,{key:0,size:"sm",onClick:Dt,variant:(b(o)==="dark","primary"),class:"border-border-input border"},{default:G(()=>[ae(F(b(wt)?"Ending...":"End"),1)]),_:1},8,["variant"])):(m(),Y(ue,{key:1,size:"sm",variant:(b(o)==="dark","primary"),class:"border-border-input border",onClick:Te,disabled:!J.value||J.value.tickets.length==0},{default:G(()=>n[20]||(n[20]=[ae("Start Sprint")])),_:1,__:[20]},8,["variant","disabled"])),s("div",js,[s("div",{onClick:n[7]||(n[7]=I=>l.value=!1)},[s("button",{onClick:n[3]||(n[3]=fe(I=>l.value=!l.value,["stop"])),class:"flex items-center justify-center border border-border-input rounded-[8px] w-[36px] h-[36px] text-primary hover:bg-bg-body"},n[21]||(n[21]=[s("i",{class:"fa-solid fa-ellipsis-vertical text-md cursor-pointer"},null,-1)])),P(qt,{name:"fade"},{default:G(()=>[l.value?(m(),y("ul",{key:0,class:"absolute right-0 mt-2 w-44 border border-border-input rounded-[8px] bg-bg-dropdown shadow-xl py-3 z-50",onClick:n[6]||(n[6]=fe(()=>{},["stop"]))},[s("li",{class:"px-4 py-2 text-[14px] font-manrope font-medium text-text-secondary hover:bg-bg-body cursor-pointer",onClick:n[4]||(n[4]=I=>et(d.value))}," Edit Sprint "),s("li",{class:"px-4 py-2 text-[14px] font-manrope font-medium text-red-600 hover:bg-bg-body cursor-pointer",onClick:n[5]||(n[5]=I=>tt(d.value))}," Delete Sprint ")])):se("",!0)]),_:1})])]),n[22]||(n[22]=s("button",{class:"flex items-center font-normal justify-center border border-border-input rounded-[8px] w-[36px] h-[36px] text-primary hover:bg-bg-body"},[s("i",{class:"fa-sharp fa-thin fa-arrows-up-down-left-right"})],-1))])]),((R=b(Ce))==null?void 0:R.status)=="active"?(m(),Y(Ns,{key:0,sptint_id:K.value,searchQuery:T.value},null,8,["sptint_id","searchQuery"])):b(v)?(m(),Y(xt,{key:1})):(m(),y("div",Rs,[s("div",{class:"flex gap-2 h-full max-h-screen min-h-0 box-border overflow-x-auto group",ref_key:"containerRef",ref:Ee},[s("section",{class:W(["space-y-4 p-4 rounded-md relative group overflow-hidden box-border h-full min-h-0 min-w-[400px]",b(o)==="dark"?"bg-bg-surface":"bg-bg-surface/30"]),style:Nt({width:Be.value+"px"})},[s("div",Qs,[s("h2",Ks,[Ve(s("input",{type:"checkbox",class:"custom-checkbox bg-bg-body border border-border-input flex-shrink-0","onUpdate:modelValue":n[8]||(n[8]=I=>E.value=I)},null,512),[[it,E.value]]),ae(" Backlog ("+F((ye=(me=b(Q))==null?void 0:me.cards)==null?void 0:ye.length)+" "+F(((Pe=(Me=b(Q))==null?void 0:Me.cards)==null?void 0:Pe.length)>1?"Tasks":"Task")+") ",1)]),s("div",Ws,[s("button",Gs,[s("img",{src:b(Ha),alt:"icon",class:"w-[16px]"},null,8,Zs),n[23]||(n[23]=ae(" Filters "))]),s("button",{class:"w-8 h-8 rounded-md border cursor-pointer aspect-square text-sm border-border hover:bg-bg-body",onClick:te},n[24]||(n[24]=[s("i",{class:"text-text-primary fa-regular fa-plus"},null,-1)]))])]),b($e)?(m(),y("div",Js,n[25]||(n[25]=[s("div",{role:"status","aria-label":"Loading",class:"h-10 w-10 rounded-full border-4 border-neutral-700 border-t-transparent animate-spin"},null,-1)]))):(m(),Y(ka,{key:1,checkedAll:E.value,searchQuery:T.value,onMoveSelectedToSprint:b(z),onDeleteSelectedBacklog:n[9]||(n[9]=I=>b(O)("backlog")),onOpenTicket:ne,onTicketMovedToBacklog:p,onOpenCreateTicket:te},null,8,["checkedAll","searchQuery","onMoveSelectedToSprint"]))],6),s("div",{class:"h-full w-[3px] relative z-10 opacity-0 group-hover:opacity-100 bg-red hover:bg-accent cursor-col-resize transition",onMousedown:Vt},null,32),s("section",{class:W(["space-y-6 p-4 rounded-md relative group ovrflow-hidden flex-1 h-full min-h-0 box-border min-w-[400px]",b(o)==="dark"?"bg-bg-surface":"bg-bg-surface/30"])},[s("div",Xs,[s("h2",Ys,[Ve(s("input",{type:"checkbox",class:"custom-checkbox bg-bg-body border border-border-input flex-shrink-0","onUpdate:modelValue":n[10]||(n[10]=I=>k.value=I)},null,512),[[it,k.value]]),ae(" Sprint ("+F((Ue=(Oe=J.value)==null?void 0:Oe.tickets)==null?void 0:Ue.length)+" "+F(((lt=(Ae=J.value)==null?void 0:Ae.tickets)==null?void 0:lt.length)>1?"Tasks":"Task")+") ",1)])]),b(ge)?(m(),y("div",el,n[26]||(n[26]=[s("div",{role:"status","aria-label":"Loading",class:"h-10 w-10 rounded-full border-4 border-neutral-700 border-t-transparent animate-spin"},null,-1)]))):(m(),y(ve,{key:1},[J.value?(m(),Y(Ia,{key:0,searchQuery:T.value,sprintId:K.value,checkedSprintAll:k.value,sprint:J.value,onOpenTicket:ne,onEditSprint:xe,onToggleStart:b(N),onMoveSelectedToBacklog:b(V),onDeleteSelectedSprint:n[11]||(n[11]=I=>b(O)("sprint",I)),onRefresh:B},null,8,["searchQuery","sprintId","checkedSprintAll","sprint","onToggleStart","onMoveSelectedToBacklog"])):se("",!0)],64))],2)],512)]))]),P(Rt,{onClick:n[12]||(n[12]=fe(()=>{},["stop"])),modelValue:a.value,"onUpdate:modelValue":n[13]||(n[13]=I=>a.value=I),title:"Delete Sprint",itemLabel:"Sprint",itemName:(rt=d.value)==null?void 0:rt.title,requireMatchText:(nt=d.value)==null?void 0:nt.title,confirmText:"Delete Sprint",cancelText:"Cancel",size:"md",loading:b(j),onConfirm:e,onCancel:n[14]||(n[14]=()=>{d.value=null,a.value=!1})},null,8,["modelValue","itemName","requireMatchText","loading"]),P(za,{modelValue:A.value,"onUpdate:modelValue":n[15]||(n[15]=I=>A.value=I),onSave:kt,sprint:d.value,creatingSprint:d.value?b(_t):b(qe)},null,8,["modelValue","sprint","creatingSprint"]),P(ts,{sprint:d.value,modelValue:Z.value,"onUpdate:modelValue":n[16]||(n[16]=I=>Z.value=I),onSave:U,creatingSprint:b(v)||b(r)},null,8,["sprint","modelValue","creatingSprint"]),P(Ft,{modelValue:C.value,"onUpdate:modelValue":n[17]||(n[17]=I=>C.value=I),cardId:(ot=g.value)==null?void 0:ot.id,onClose:w},null,8,["modelValue","cardId"]),P(Os,{modelValue:L.value,"onUpdate:modelValue":n[18]||(n[18]=I=>L.value=I)},null,8,["modelValue"])],64)}}}),ml=Ge(tl,[["__scopeId","data-v-e106894c"]]);export{ml as default};
